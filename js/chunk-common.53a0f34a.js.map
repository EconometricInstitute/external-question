{"version":3,"sources":["webpack:///./src/components/questions/hyperformula/EditTasks.vue?d734","webpack:///./src/components/questions/blockly/BlocklyQuestion.vue?15dc","webpack:///./src/components/questions/hyperformula/HyperFormulaQuestion.vue?087f","webpack:///./src/components/questions/coding/CodingQuestion.vue?46cd","webpack:///./src/components/questions/blockly/BlocklyQuestion.vue","webpack:///./src/components/util/AnswerCodeDisplay.vue","webpack:///src/components/util/AnswerCodeDisplay.vue","webpack:///./src/components/util/AnswerCodeDisplay.vue?14e5","webpack:///./src/components/util/AnswerCodeDisplay.vue?eeab","webpack:///./src/components/questions/blockly/BlocklyWorkspace.vue","webpack:///./src/components/questions/blockly/blockly_utils.js","webpack:///src/components/questions/blockly/BlocklyWorkspace.vue","webpack:///./src/components/questions/blockly/BlocklyWorkspace.vue?4183","webpack:///./src/components/questions/blockly/BlocklyWorkspace.vue?50a7","webpack:///./src/components/questions/blockly/EnvironmentDisplay.vue","webpack:///./src/components/questions/blockly/ValueDisplay.vue","webpack:///src/components/questions/blockly/ValueDisplay.vue","webpack:///./src/components/questions/blockly/ValueDisplay.vue?726f","webpack:///./src/components/questions/blockly/ValueDisplay.vue?0fc4","webpack:///src/components/questions/blockly/EnvironmentDisplay.vue","webpack:///./src/components/questions/blockly/EnvironmentDisplay.vue?64b3","webpack:///./src/components/questions/blockly/EnvironmentDisplay.vue?ae9e","webpack:///./src/util/compare.js","webpack:///src/components/questions/blockly/BlocklyQuestion.vue","webpack:///./src/components/questions/blockly/BlocklyQuestion.vue?ba60","webpack:///./src/components/questions/blockly/BlocklyQuestion.vue?fb4e","webpack:///./src/components/questions/blockly/EditBlocklyQuestion.vue","webpack:///src/components/questions/blockly/EditBlocklyQuestion.vue","webpack:///./src/components/questions/blockly/EditBlocklyQuestion.vue?c05d","webpack:///./src/components/questions/blockly/EditBlocklyQuestion.vue?ec3b","webpack:///./src/components/questions/blockly/index.js","webpack:///./src/components/questions/coding/CodingQuestion.vue","webpack:///./src/components/questions/coding/EditorRunDialog.vue","webpack:///src/components/questions/coding/EditorRunDialog.vue","webpack:///./src/components/questions/coding/EditorRunDialog.vue?b31a","webpack:///./src/components/questions/coding/EditorRunDialog.vue?267e","webpack:///src/components/questions/coding/CodingQuestion.vue","webpack:///./src/components/questions/coding/CodingQuestion.vue?7f11","webpack:///./src/components/questions/coding/CodingQuestion.vue?350c","webpack:///./src/components/questions/coding/EditCodingQuestion.vue","webpack:///src/components/questions/coding/EditCodingQuestion.vue","webpack:///./src/components/questions/coding/EditCodingQuestion.vue?0d3e","webpack:///./src/components/questions/coding/EditCodingQuestion.vue?56f3","webpack:///./src/components/questions/coding/index.js","webpack:///./src/components/questions/multicoding/MultiCodingQuestion.vue","webpack:///./src/components/questions/multicoding/EditorMultiRunDialog.vue","webpack:///src/components/questions/multicoding/EditorMultiRunDialog.vue","webpack:///./src/components/questions/multicoding/EditorMultiRunDialog.vue?7d17","webpack:///./src/components/questions/multicoding/EditorMultiRunDialog.vue?2237","webpack:///src/components/questions/multicoding/MultiCodingQuestion.vue","webpack:///./src/components/questions/multicoding/MultiCodingQuestion.vue?45b3","webpack:///./src/components/questions/multicoding/MultiCodingQuestion.vue?549a","webpack:///./src/components/questions/multicoding/EditMultiCodingQuestion.vue","webpack:///src/components/questions/multicoding/EditMultiCodingQuestion.vue","webpack:///./src/components/questions/multicoding/EditMultiCodingQuestion.vue?0512","webpack:///./src/components/questions/multicoding/EditMultiCodingQuestion.vue?e793","webpack:///./src/components/questions/multicoding/index.js","webpack:///./src/components/questions/hyperformula/HyperFormulaQuestion.vue","webpack:///./src/components/questions/hyperformula/SpreadsheetTable.vue","webpack:///src/components/questions/hyperformula/SpreadsheetTable.vue","webpack:///./src/components/questions/hyperformula/SpreadsheetTable.vue?6957","webpack:///./src/components/questions/hyperformula/SpreadsheetTable.vue?f816","webpack:///./src/components/questions/hyperformula/utils.js","webpack:///src/components/questions/hyperformula/HyperFormulaQuestion.vue","webpack:///./src/components/questions/hyperformula/HyperFormulaQuestion.vue?6f77","webpack:///./src/components/questions/hyperformula/HyperFormulaQuestion.vue?7064","webpack:///./src/components/questions/hyperformula/EditHyperFormulaQuestion.vue","webpack:///./src/components/questions/hyperformula/EditTasks.vue","webpack:///src/components/questions/hyperformula/EditTasks.vue","webpack:///./src/components/questions/hyperformula/EditTasks.vue?b214","webpack:///./src/components/questions/hyperformula/EditTasks.vue?f632","webpack:///./src/components/questions/hyperformula/EditAnswerSpec.vue","webpack:///src/components/questions/hyperformula/EditAnswerSpec.vue","webpack:///./src/components/questions/hyperformula/EditAnswerSpec.vue?943f","webpack:///./src/components/questions/hyperformula/EditAnswerSpec.vue?8a2b","webpack:///src/components/questions/hyperformula/EditHyperFormulaQuestion.vue","webpack:///./src/components/questions/hyperformula/EditHyperFormulaQuestion.vue?02f9","webpack:///./src/components/questions/hyperformula/EditHyperFormulaQuestion.vue?2f42","webpack:///./src/components/questions/hyperformula/index.js","webpack:///./src/components/questions/index.js","webpack:///./src/components/questions/blockly/BlocklyWorkspace.vue?4c83","webpack:///./src/util/clipboard.js","webpack:///./src/plugins/vuetify.js","webpack:///./src/store/singletonPlugin.js","webpack:///./src/store/persistencePlugin.js","webpack:///./src/store/index.js","webpack:///./src/components/questions/multicoding/MultiCodingQuestion.vue?577b","webpack:///./src/components/util/MarkdownDisplay.vue","webpack:///src/components/util/MarkdownDisplay.vue","webpack:///./src/components/util/MarkdownDisplay.vue?e351","webpack:///./src/components/util/MarkdownDisplay.vue?5acd","webpack:///./src/components/questions/coding/EditCodingQuestion.vue?6283","webpack:///./src/components/util/MarkdownDisplay.vue?7404","webpack:///./src/components/questions/multicoding/EditMultiCodingQuestion.vue?5f25","webpack:///./src/components/questions/blockly/EnvironmentDisplay.vue?5037","webpack:///./src/components/questions/hyperformula/EditAnswerSpec.vue?a39a","webpack:///./src/components/questions/blockly/ValueDisplay.vue?2ca6","webpack:///./src/components/questions/hyperformula/HyperFormulaQuestion.vue?5b62","webpack:///./src/components/questions/multicoding/EditorMultiRunDialog.vue?9735","webpack:///./src/components/util/ConfirmDialog.vue","webpack:///src/components/util/ConfirmDialog.vue","webpack:///./src/components/util/ConfirmDialog.vue?93d2","webpack:///./src/components/util/ConfirmDialog.vue?b711","webpack:///./src/util/hashtools.js","webpack:///./src/components/questions/blockly/BlocklyQuestion.vue?34ba","webpack:///./src/components/questions/hyperformula/SpreadsheetTable.vue?c72d","webpack:///./src/components/questions/blockly/EditBlocklyQuestion.vue?f391","webpack:///./src/components/questions/multicoding/MultiCodingQuestion.vue?69b0","webpack:///./src/components/questions/coding/EditorRunDialog.vue?13e3","webpack:///./src/components/questions/coding/EditCodingQuestion.vue?bd78","webpack:///./src/components/questions/multicoding/EditMultiCodingQuestion.vue?f9ee","webpack:///./src/components/questions/coding/CodingQuestion.vue?f0ed","webpack:///./src/components/questions/hyperformula/EditHyperFormulaQuestion.vue?78d4"],"names":["attrs","_vm","on","staticClass","_c","$event","runTraceCode","stopPropagation","running","testCases","submitCode","_v","model","value","$$v","expression","traceError","_e","code","testOutput","length","compareFailed","_l","outputDisplay","val","_s","e","output","key","staticRenderFns","_self","render","scopedSlots","fn","copyAnswerCode","proxy","copyBar","callback","props","data","methods","copyText","answerCode","component","this","directives","name","rawName","hasFocus","divId","ADDITIONAL_CSS","outputCode","outputFunction","res","Object","keys","envToJS","JSON","stringify","getSVG","workspace","highlightBlock","style","document","getElementById","innerText","canvas","svgBlockCanvas_","cloneNode","removeAttribute","bboxElement","getElementsByClassName","bbox","getBBox","content","XMLSerializer","serializeToString","svg","width","height","x","y","workerScript","workerScriptURL","URL","createObjectURL","Blob","type","async","evalScripts","scripts","worker","Worker","result","Array","promises","resolves","t","promise","Promise","resolve","onmessage","msg","payload","parse","id","index","script","postMessage","all","then","terminate","evalInWorker","reject","resp","error","TRACE_FUNCTIONS","evalInWorkerTrace","highlightCallback","finishCallback","errorCallback","fullScript","scriptUrl","block","formatValue","fixedLength","strictStrings","toFixed","simple","toLowerCase","replace","isArray","mapped","i","push","join","generateFile","answer","outputs","rawCode","exampleIncorrect","hasUndefined","questionUuid","answerUuid","dom","Blockly","workspaceToDom","xml","domToText","html_text","Option","innerHTML","generateOutputs","k","v","entries","input","MAX_STEPS","STEP_INTERVAL","mounted","toolbox","question","sounds","media","inputAnswer","textToDom","domToWorkspace","addChangeListener","workspaceChanged","updateVarnames","workspaceXML","displayCode","testingCode","tracingCode","runningTrace","traceWorker","$nextTick","display","getDisplayCode","trace","getTracingCode","test","getTestingCode","$emit","javascriptGenerator","STATEMENT_PREFIX","maxSteps","generated","workspaceToCode","preCode","rawCodeHL","substring","indexOf","trim","exampleOutput","highlight","blockId","clearTrace","varnames","getAllBlocks","current","Set","getAllVariableNames","varname","has","createVariable","add","getWorkspace","computed","mapState","uuid","exampleInput","watch","focused","resize","resizeContents","compare","reference","undefined","_","components","ValueDisplay","obj1","obj2","decimals","convert","parseFloat","FILE_NAME_REGEX","MarkdownDisplay","AnswerCodeDisplay","BlocklyWorkspace","EnvironmentDisplay","ioTab","dirty","traceOutput","created","refreshTestcases","codeChange","ev","fast","getTestCode","$refs","finishTrace","errorTrace","stopTraceCode","testcase","solution","declr","testCode","map","tc","_this$question","autoDownload","saveFile","testCaseScript","resStr","console","log","outputMissing","uuidv4","fileContent","exportName","filename","replaceAll","element","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","outputOrder","sort","op","outputVar","outputErrors","out","answerLst","answerStr","md5hex","hashReps","hashLength","hashPrefix","fullAnswer","shortAnswer","compareResult","values","some","compareSuccess","every","ref","jsonOptions","$set","strictString","codemirror","inputError","outputError","loaded","exampleInputStr","exampleOutputStr","updating","tabSize","mode","lineNumbers","line","lineWrapping","xmlOptions","jsOptions","valueChanged","updateInput","err","message","updateOutput","stringifyIO","updateTestCases","updateToolbox","updateHashReps","updateHashLength","updateHashPrefix","refreshAll","editor1","refresh","editor2","editor3","editor4","deep","handler","initialize","newQuestion","cost","exportAnswer","config","exportConfig","replacement","contentType","description","view","BlocklyQuestion","edit","EditBlocklyQuestion","defaultExtension","runStep","customInput","timeoutPopup","timeoutAfter","runDialog","runError","currentTab","emptyResponse","performCustom","cancelToken","timeout","currentId","post","Axios","runUrl","openRunDialog","stopTimeout","back","next","clearTimeout","triggerTimeout","runSuccesful","constructor","runWithError","run","mainClass","sources","stdIn","getInput","token","runToken","catch","setTimeout","cancel","restart","allowCustomTest","runCustom","runPredefined","MonacoEditor","EditorRunDialog","ConfirmDialog","editor","getEditor","layout","oldVal","perusal","newVal","editorOptions","readOnly","defaultCode","defaultAnswer","window","addEventListener","destroyed","removeEventListener","editorOptionsBase","scrollBeyondLastLine","minimap","enabled","LANGUAGES","languages","testCasesString","lang","referenceUrl","CodingQuestion","EditCodingQuestion","files","refInFor","f","EditorMultiRunDialog","codeChanged","reset","single","currentFile","forEach","obj","file","resetButtons","label","action","color","staticStyle","DEFAULT_PROPS","injectValues","includes","addFile","removeFile","idx","splice","zip","JSZip","generateAsync","MultiCodingQuestion","EditMultiCodingQuestion","_vm$question","_vm$question2","_vm$question3","formulas","_vm$question4","editable","currentValue","updateValue","class","getStyleClasses","currentCell","keydown","event","ctrlKey","cur","col","dimensions","row","setCurrent","editfield","focus","getColumnLabel","charCode","String","fromCharCode","toUpperCase","Math","floor","determineTypeClass","startsWith","processed","isNaN","newValue","dim","currentLocked","currentAddress","tableStyle","maxHeight","NO_VALUE_CODE","NO_FORMULA_CODE","BASE_ENTRY","iterations","truncate","truncateLength","case","computeAnswerCode","answerSpec","wb","parts","spec","calculateFormula","formula","process","range","getRange","source","matrix","rangeToFormulas","part","joinMatrix","entrySeparator","rangeToValues","valueSeparator","str","hashSeparator","entry","Number","start","max","search","simpleCellRangeFromString","cell","simpleCellAddressFromString","end","replaceUndefined","j","getRangeValues","getRangeFormulas","sep","conv","SpreadsheetTable","updateWorkbook","licenseKey","workbook","HyperFormula","buildFromSheets","sheets","namedRanges","task","tasks","defaultFormula","updateSheets","countSheets","sheet","getSheetName","getSheetDimensions","getSheetValues","updateAnswerCode","newAnswer","newFormulas","sheetIndex","getSheetId","targetSheetName","targetAddress","targetCell","setCellContents","formulaResult","getCellValue","errors","copyTo","copyToRange","copyToCell","rowIndex","colIndex","copyTarget","copy","paste","removeColumn","wrappedSheets","sheetnames","addCopyTo","addTask","title","deleteTask","deleteCopyTo","copyIndex","deleteAnswerElement","truncateOptions","text","caseOptions","addAnswerElement","_this$value","currentSheet","EditAnswerSpec","EditTasks","importSheet","fileInput","importChosen","fileEvent","target","reader","FileReader","onload","Workbook","newData","xlsx","load","worksheets","eachRow","eachCell","rowIdx","colIdx","readAsArrayBuffer","addSheet","sheetName","prompt","addColumn","addRow","newRow","fill","removeRow","moveSheet","oldName","newName","removeSheet","$delete","updateSheet","currentSheetName","HyperFormulaQuestion","EditHyperFormulaQuestion","types","blockly","coding","multicoding","hyperformula","getDefaultExtension","copyHtml","html","el","createRange","selectNode","selection","getSelection","removeAllRanges","addRange","execCommand","navigator","clipboard","writeText","select","Vue","use","Vuetify","bc","BroadcastChannel","plugin","store","_store$state$question","state","commit","subscribe","mutation","getKey","storeData","localStorage","readData","pluginsAvailable","singleton","singletonPlugin","persistence","persistencePlugin","Vuex","baseStore","loadError","loading","saveUrl","mutations","setQuestion","storeLocal","location","hash","LOCAL_PREFIX","mapKey","localUuid","questionKey","setEditor","setLoadError","lostFocus","setAnswer","setLoading","setSaveUrl","actions","loadExternal","context","url","fetch","ok","json","status","statusText","modules","getters","questionName","questionType","createStore","enablePlugins","plugins","p","Store","domProps","rendered","KATEX_OPTIONS","delimiters","left","right","MDI","markdownIt","l","Prism","__","utils","escapeHtml","defaultRender","renderer","rules","link_open","tokens","options","env","self","renderToken","aIndex","attrIndex","attrPush","update","renderDiv","autorender","highlightAll","visible","show","yes","buttons","confirm","no","encoder","TextEncoder","decoder","TextDecoder","unpack","hashStr","zippedData","Base64","toUint8Array","unzippedData","pako","inflate","jsonStr","decode","container","validated","pack","object","encode","deflate","base64Data","fromUint8Array","processHashInStore","loadAction","errorAction","updateHash","_unpackResult","unpackResult","dispatch"],"mappings":"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","file":"js/chunk-common.53a0f34a.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTasks.vue?vue&type=style&index=0&id=30c0dfee&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlocklyQuestion.vue?vue&type=style&index=0&id=954a2cc0&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HyperFormulaQuestion.vue?vue&type=style&index=1&id=193f6c9e&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodingQuestion.vue?vue&type=style&index=1&id=1ed96f2e&prod&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"question-container\"},[_c('div',{staticClass:\"question-main\"},[_c('div',{staticClass:\"flex-grow-1\"},[_c('BlocklyWorkspace',{ref:\"workspace\",attrs:{\"question\":_vm.question,\"focused\":_vm.focused,\"inputAnswer\":_vm.inputAnswer,\"varnames\":_vm.varnames},on:{\"code\":_vm.codeChange}})],1),_c('div',{staticClass:\"instructions\"},[_c('div',{staticClass:\"instruction-div scroll-y\"},[_c('MarkdownDisplay',{staticClass:\"instruction-text\",attrs:{\"source\":_vm.question.description}})],1),_c('v-toolbar',{staticClass:\"run-bar\",attrs:{\"flat\":\"\",\"dense\":\"\"}},[_c('v-spacer'),_c('v-toolbar-items',[(!_vm.running)?_c('v-btn',{staticClass:\"run-toolbar-el\",on:{\"click\":function($event){$event.stopPropagation();return _vm.runTraceCode()}}},[_c('v-icon',[_vm._v(\"mdi-play\")]),_vm._v(\" Test \")],1):_vm._e(),(_vm.running)?_c('v-btn',{staticClass:\"run-toolbar-el\",on:{\"click\":function($event){$event.stopPropagation();return _vm.stopTraceCode()}}},[_c('v-icon',[_vm._v(\"mdi-stop\")]),_vm._v(\" Stop \")],1):_vm._e(),_c('v-btn',{staticClass:\"run-toolbar-el\",attrs:{\"disabled\":_vm.running || _vm.testCases == null},on:{\"click\":function($event){$event.stopPropagation();return _vm.submitCode()}}},[_c('v-icon',[_vm._v(\"mdi-send\")]),_vm._v(\" Run \")],1),(_vm.running)?_c('div',{staticClass:\"running-indicator run-toolbar-el\"},[_c('div',[_c('v-progress-circular',{attrs:{\"indeterminate\":true}}),_c('span',[_vm._v(\"Running...\")])],1)]):_vm._e()],1),_c('v-spacer')],1)],1)]),_c('div',{staticClass:\"question-io\"},[_c('v-tabs',{staticClass:\"question-iotabs\",attrs:{\"background-color\":\"secondary\",\"dark\":\"\"},model:{value:(_vm.ioTab),callback:function ($$v) {_vm.ioTab=$$v},expression:\"ioTab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"white\"}}),_c('v-tab',[_vm._v(\"Example\")]),_c('v-tab',[_vm._v(\"Example Result\")]),_c('v-tab',[_vm._v(\"Code\")]),_c('v-tab',[_vm._v(\"Answer\")])],1),_c('div',{staticClass:\"question-iocontent\"},[(_vm.ioTab == 0)?_c('div',{staticClass:\"iotab\"},[_c('h4',[_vm._v(\"In this tab you can find the input and output for an example testcase\")]),_c('div',{staticClass:\"example\"},[_c('div',{staticClass:\"exampleInput\"},[_c('h4',[_vm._v(\"Example Input\")]),_c('EnvironmentDisplay',{attrs:{\"data\":_vm.question.exampleInput}})],1),_c('div',{staticClass:\"exampleOutput\"},[_c('h4',[_vm._v(\"Example Output\")]),_c('EnvironmentDisplay',{attrs:{\"data\":_vm.question.exampleOutput}})],1)])]):_vm._e(),(_vm.ioTab == 1)?_c('div',{staticClass:\"iotab\"},[(_vm.traceError)?_c('div',[_c('h4',[_vm._v(\"Error while running\")]),_c('v-alert',{staticClass:\"small-alert\",attrs:{\"type\":\"error\"}},[_vm._v(\" The following error occurred while your program was tested: \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.traceError)+\" \")])],1):_vm._e(),(_vm.traceOutput)?_c('div',[(_vm.compareFailed)?_c('v-alert',{staticClass:\"small-alert\",attrs:{\"type\":\"error\"}},[_vm._v(\" One or more output variables do not have the expected outcome for the example test case. \"),_c('br'),_vm._v(\" This indicates there is a mistake in your program. \")]):(_vm.compareSuccess)?_c('v-alert',{staticClass:\"small-alert\",attrs:{\"type\":\"info\",\"icon\":\"mdi-check\"}},[_vm._v(\" The output variables have the correct values for the example test case. \"),_c('br'),_vm._v(\" This does not guarantee your program is correct for all test cases. \"),_c('br'),_vm._v(\" It is your responsibility to make sure the program is correct for all test cases. \")]):_vm._e(),_c('h4',[_vm._v(\"Your program produced the following output:\")]),_c('EnvironmentDisplay',{attrs:{\"data\":_vm.traceOutput,\"reference\":_vm.question.exampleOutput,\"compare\":_vm.compareResult}})],1):_vm._e(),(!_vm.traceOutput && !_vm.traceError)?_c('div',[_c('h4',[_vm._v(\"This tab will contain the output of your program after you test it.\")])]):_vm._e()]):_vm._e(),(_vm.ioTab == 2)?_c('div',{staticClass:\"iotab\"},[(!_vm.code.display)?_c('h4',[_vm._v(\"This tab will contain the Javascript code generated from your program.\")]):[_c('h4',[_vm._v(\"This is the generated JavaScript code of your program:\")]),_c('pre',{staticClass:\"code\"},[_c('code',{staticClass:\"code\"},[_vm._v(_vm._s(_vm.code.display))])])]],2):_vm._e(),(_vm.ioTab == 3)?_c('div',{staticClass:\"iotab\"},[(_vm.testOutput.length == 0)?_c('span',[_vm._v(\"After you run your code, the answer code appears here\")]):_vm._e(),(_vm.outputErrors)?_c('v-alert',{staticClass:\"small-alert\",attrs:{\"type\":\"error\"}},[_vm._v(\" Your program produced an error for at least one testcase. \"),_c('br'),_vm._v(\" This indicates your program is likely \"),_c('strong',[_vm._v(\"incorrect\")]),_vm._v(\". \")]):(_vm.compareFailed)?_c('v-alert',{staticClass:\"small-alert\",attrs:{\"type\":\"error\"}},[_vm._v(\" The example test case is incorrect. \"),_c('br'),_vm._v(\" This means your answer code is likely \"),_c('strong',[_vm._v(\"incorrect\")]),_vm._v(\". \")]):(_vm.outputMissing)?_c('v-alert',{staticClass:\"small-alert\",attrs:{\"type\":\"warning\"}},[_vm._v(\" One of the output variables was missing (undefined) for at least one testcase.\"),_c('br'),_vm._v(\" This indicates your program is likely \"),_c('strong',[_vm._v(\"incorrect\")]),_vm._v(\". \")]):_vm._e(),(_vm.testOutput.length > 0)?_c('AnswerCodeDisplay',{attrs:{\"answerCode\":_vm.answerCode}}):_vm._e(),(_vm.testOutput.length > 0)?[_c('div',{ref:\"outputs\"},[_c('h4',[_vm._v(\"The answer code is based on the following output of your program.\")]),_vm._m(0),_c('ul',_vm._l((_vm.outputDisplay),function(e){return _c('li',{key:'test-'+e.index},[_c('span',[_vm._v(\"With the following inputs:\")]),_c('span',{staticClass:\"blockly-inputvalues\"},_vm._l((e.input),function(key,val){return _c('span',{key:'test-input-'+e.index+'-'+val,staticClass:\"blockly-inputvalue\"},[_vm._v(\" \"+_vm._s(val)+\" = \"+_vm._s(JSON.stringify(key))+\" \")])}),0),(!e.output.error)?_c('span',[_c('span',[_vm._v(\" your program produced the following outputs:\")]),_c('span',{staticClass:\"blockly-outputvalues\"},_vm._l((e.output.data),function(key,val){return _c('span',{key:'test-output-'+e.index+'-'+val,staticClass:\"blockly-outputvalue\"},[_vm._v(\" \"+_vm._s(val)+\" = \"+_vm._s(JSON.stringify(key))+\" \")])}),0)]):_vm._e(),(e.output.error)?_c('span',[_c('span',[_vm._v(\" your program produced the following error:\")]),_c('span',{staticClass:\"blockly-outputerror\"},[_vm._v(_vm._s(e.output.data))])]):_vm._e()])}),0)])]:_vm._e()],2):_vm._e()])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_vm._v(\"It is \"),_c('strong',[_vm._v(\"your responsibility\")]),_vm._v(\" to make sure that your output is correct for \"),_c('strong',[_vm._v(\"all testcases\")]),_vm._v(\".\")])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h4',[_vm._v(\"The following answer code was computed. Click \"),_c('v-icon',{on:{\"click\":_vm.copyAnswerCode}},[_vm._v(\"mdi-content-copy\")]),_vm._v(\" to copy it to the clipboard\")],1),_c('v-text-field',{staticClass:\"answercode-box\",attrs:{\"readonly\":\"\",\"solo\":\"\",\"dense\":\"\",\"value\":_vm.answerCode},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('v-icon',{on:{\"click\":_vm.copyAnswerCode}},[_vm._v(\"mdi-content-copy\")])]},proxy:true}])}),_c('v-snackbar',{attrs:{\"centered\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){_vm.copyBar = false}}},'v-btn',attrs,false),[_vm._v(\" OK \")])]}}]),model:{value:(_vm.copyBar),callback:function ($$v) {_vm.copyBar=$$v},expression:\"copyBar\"}},[_vm._v(\" The answer code was copied to the clipboard \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <h4>The following answer code was computed. Click <v-icon @click=\"copyAnswerCode\">mdi-content-copy</v-icon> to copy it to the clipboard</h4>\n        <v-text-field class=\"answercode-box\"\n                        readonly solo dense\n                        :value=\"answerCode\"\n        >\n            <template v-slot:prepend-inner>\n                <v-icon @click=\"copyAnswerCode\">mdi-content-copy</v-icon>\n            </template>\n        </v-text-field>\n        <v-snackbar v-model=\"copyBar\" centered>\n            The answer code was copied to the clipboard\n            <template v-slot:action=\"{ attrs }\">\n                <v-btn color=\"primary\"\n                text\n                v-bind=\"attrs\"\n                @click=\"copyBar = false\">\n                    OK\n                </v-btn>\n            </template>\n      </v-snackbar>\n\n    </div>\n</template>\n<script>\nimport { copyText } from '@/util/clipboard.js';\n\nexport default {\n    props: ['answerCode'],\n    data: () => ({\n        copyBar: false\n    }),\n    methods: {\n        copyAnswerCode() {\n            copyText(this.answerCode);\n            this.copyBar = true;\n        },\n    }\n}\n</script>\n<style scoped>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnswerCodeDisplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnswerCodeDisplay.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AnswerCodeDisplay.vue?vue&type=template&id=fb7860b2&scoped=true\"\nimport script from \"./AnswerCodeDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./AnswerCodeDisplay.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb7860b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.hasFocus),expression:\"hasFocus\"}],staticClass:\"blockly\",attrs:{\"id\":_vm.divId}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport * as Blockly from 'blockly';\n//import 'blockly';\n// const RAW_CSS = `.blocklySvg {background-color: #fff;outline: none;overflow: hidden;display: block;}.blocklyWidgetDiv {display: none;position: absolute;z-index: 99999;}.injectionDiv {height: 100%;position: relative;}.blocklyNonSelectable {user-select: none;-moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;}.blocklyTooltipDiv {background-color: #ffffc7;border: 1px solid #ddc;box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);color: #000;display: none;font-family: sans-serif;font-size: 9pt;opacity: 0.9;padding: 2px;position: absolute;z-index: 100000;}.blocklyResizeSE {cursor: se-resize;fill: #aaa;}.blocklyResizeSW {cursor: sw-resize;fill: #aaa;}.blocklyResizeLine {stroke: #888;stroke-width: 1;}.blocklyHighlightedConnectionPath {fill: none;stroke: #fc3;stroke-width: 4px;}.blocklyPathLight {fill: none;stroke-linecap: round;stroke-width: 1;}.blocklySelected&gt;.blocklyPath {stroke: #fc3;stroke-width: 3px;}.blocklySelected&gt;.blocklyPathLight {display: none;}.blocklyDragging&gt;.blocklyPath,.blocklyDragging&gt;.blocklyPathLight {fill-opacity: .8;stroke-opacity: .8;}.blocklyDragging&gt;.blocklyPathDark {display: none;}.blocklyDisabled&gt;.blocklyPath {fill-opacity: .5;stroke-opacity: .5;}.blocklyDisabled&gt;.blocklyPathLight,.blocklyDisabled&gt;.blocklyPathDark {display: none;}.blocklyText {cursor: default;fill: #fff;font-family: sans-serif;font-size: 11pt;}.blocklyNonEditableText&gt;text {pointer-events: none;}.blocklyNonEditableText&gt;rect,.blocklyEditableText&gt;rect {fill: #fff;fill-opacity: .6;}.blocklyNonEditableText&gt;text,.blocklyEditableText&gt;text {fill: #000;}.blocklyEditableText:hover&gt;rect {stroke: #fff;stroke-width: 2;}.blocklyBubbleText {fill: #000;}.blocklyFlyoutButton {fill: #888;cursor: default}.blocklyFlyoutButton:hover {fill: #ccc;}.blocklySvg text {user-select: none;-moz-user-select: none;-webkit-user-select: none;cursor: inherit;}.blocklyHidden {display: none;}.blocklyFieldDropdown:not(.blocklyHidden) {display: block;}.blocklyIconGroup {cursor: default;}.blocklyIconGroup:not(:hover),.blocklyIconGroupReadonly {opacity: .6;}.blocklyIconShape {fill: #00f;stroke: #fff;stroke-width: 1px;}.blocklyIconSymbol {fill: #fff;}.blocklyMinimalBody {margin: 0;padding: 0;}.blocklyCommentTextarea {background-color: #ffc;border: 0;margin: 0;padding: 2px;resize: none;}.blocklyHtmlInput {border: none;border-radius: 4px;font-family: sans-serif;height: 100%;margin: 0;outline: none;padding: 0 1px;width: 100%}.blocklyMainBackground {stroke-width: 1;stroke: #c6c6c6;}.blocklyMutatorBackground {fill: #fff;stroke: #ddd;stroke-width: 1;}.blocklyFlyoutBackground {fill: #ddd;fill-opacity: .8;}.blocklyScrollbarBackground {opacity: 0;}.blocklyScrollbarHandle {fill: #ccc;}.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,.blocklyScrollbarHandle:hover {fill: #bbb;}.blocklyZoom&gt;image {opacity: .4;}.blocklyZoom&gt;image:hover {opacity: .6;}.blocklyZoom&gt;image:active {opacity: .8;}.blocklyFlyout .blocklyScrollbarHandle {fill: #bbb;}.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,.blocklyFlyout .blocklyScrollbarHandle:hover {fill: #aaa;}.blocklyInvalidInput {background: #faa;}.blocklyAngleCircle {stroke: #444;stroke-width: 1;fill: #ddd;fill-opacity: .8;}.blocklyAngleMarks {stroke: #444;stroke-width: 1;}.blocklyAngleGauge {fill: #f88;fill-opacity: .8;}.blocklyAngleLine {stroke: #f00;stroke-width: 2;stroke-linecap: round;}.blocklyContextMenu {border-radius: 4px;}.blocklyDropdownMenu {padding: 0 !important;}.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {background: url(&lt;&lt;&lt;PATH&gt;&gt;&gt;/sprites.png) no-repeat -48px -16px !important;}.blocklyToolboxDiv {background-color: #ddd;overflow-x: visible;overflow-y: auto;position: absolute;}.blocklyTreeRoot {padding: 4px 0;}.blocklyTreeRoot:focus {outline: none;}.blocklyTreeRow {height: 22px;line-height: 22px;margin-bottom: 3px;padding-right: 8px;white-space: nowrap;}.blocklyHorizontalTree {float: left;margin: 1px 5px 8px 0;}.blocklyHorizontalTreeRtl {float: right;margin: 1px 0 8px 5px;}.blocklyToolboxDiv[dir=\"RTL\"] .blocklyTreeRow {margin-left: 8px;}.blocklyTreeRow:not(.blocklyTreeSelected):hover {background-color: #e4e4e4;}.blocklyTreeSeparator {border-bottom: solid #e5e5e5 1px;height: 0;margin: 5px 0;}.blocklyTreeSeparatorHorizontal {border-right: solid #e5e5e5 1px;width: 0;padding: 5px 0;margin: 0 5px;}.blocklyTreeIcon {background-image: url(&lt;&lt;&lt;PATH&gt;&gt;&gt;/sprites.png);height: 16px;vertical-align: middle;width: 16px;}.blocklyTreeIconClosedLtr {background-position: -32px -1px;}.blocklyTreeIconClosedRtl {background-position: 0px -1px;}.blocklyTreeIconOpen {background-position: -16px -1px;}.blocklyTreeSelected&gt;.blocklyTreeIconClosedLtr {background-position: -32px -17px;}.blocklyTreeSelected&gt;.blocklyTreeIconClosedRtl {background-position: 0px -17px;}.blocklyTreeSelected&gt;.blocklyTreeIconOpen {background-position: -16px -17px;}.blocklyTreeIconNone,.blocklyTreeSelected&gt;.blocklyTreeIconNone {background-position: -48px -1px;}.blocklyTreeLabel {cursor: default;font-family: sans-serif;font-size: 16px;padding: 0 3px;vertical-align: middle;}.blocklyTreeSelected .blocklyTreeLabel {color: #fff;}.blocklyWidgetDiv .goog-palette {outline: none;cursor: default;}.blocklyWidgetDiv .goog-palette-table {border: 1px solid #666;border-collapse: collapse;}.blocklyWidgetDiv .goog-palette-cell {height: 13px;width: 15px;margin: 0;border: 0;text-align: center;vertical-align: middle;border-right: 1px solid #666;font-size: 1px;}.blocklyWidgetDiv .goog-palette-colorswatch {position: relative;height: 13px;width: 15px;border: 1px solid #666;}.blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {border: 1px solid #FFF;}.blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {border: 1px solid #000;color: #fff;}.blocklyWidgetDiv .goog-menu {background: #fff;border-color: #ccc #666 #666 #ccc;border-style: solid;border-width: 1px;cursor: default;font: normal 13px Arial, sans-serif;margin: 0;outline: none;padding: 4px 0;position: absolute;overflow-y: auto;overflow-x: hidden;max-height: 100%;z-index: 20000;}.blocklyWidgetDiv .goog-menuitem {color: #000;font: normal 13px Arial, sans-serif;list-style: none;margin: 0;padding: 4px 7em 4px 28px;white-space: nowrap;}.blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {padding-left: 7em;padding-right: 28px;}.blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,.blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {padding-left: 12px;}.blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {padding-right: 20px;}.blocklyWidgetDiv .goog-menuitem-content {color: #000;font: normal 13px Arial, sans-serif;}.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {color: #ccc !important;}.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {opacity: 0.3;-moz-opacity: 0.3;filter: alpha(opacity=30);}.blocklyWidgetDiv .goog-menuitem-highlight,.blocklyWidgetDiv .goog-menuitem-hover {background-color: #d6e9f8;border-color: #d6e9f8;border-style: dotted;border-width: 1px 0;padding-bottom: 3px;padding-top: 3px;}.blocklyWidgetDiv .goog-menuitem-checkbox,.blocklyWidgetDiv .goog-menuitem-icon {background-repeat: no-repeat;height: 16px;left: 6px;position: absolute;right: auto;vertical-align: middle;width: 16px;}.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {left: auto;right: 6px;}.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;}.blocklyWidgetDiv .goog-menuitem-accel {color: #999;direction: ltr;left: auto;padding: 0 6px;position: absolute;right: 0;text-align: right;}.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {left: 0;right: auto;text-align: left;}.blocklyWidgetDiv .goog-menuitem-mnemonic-hint {text-decoration: underline;}.blocklyWidgetDiv .goog-menuitem-mnemonic-separator {color: #999;font-size: 12px;padding-left: 4px;}.blocklyWidgetDiv .goog-menuseparator {border-top: 1px solid #ccc;margin: 4px 0;padding: 0;}`;\n\nconst ADDITIONAL_CSS = `\\n.blocklyToolboxDiv {background: rgba(0, 0, 0, 0.05);}.blocklyMainBackground {stroke:none !important;}.blocklyTreeLabel, .blocklyText, .blocklyHtmlInput {font-family:'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace !important;}.blocklyText { font-size:1rem !important;}.rtl .blocklyText {text-align:right;} .blocklyTreeLabel { font-size:1.25rem !important;} .blocklyCheckbox {fill: #ff3030 !important;text-shadow: 0px 0px 6px #f00;font-size: 17pt !important;} .blockly-varname {\tfont-family: monospace;\tfont-weight: bold;\tfont-size: 130%; background-color: whitesmoke; } .blockly-string {font-family: monospace; color: darkgreen; font-size: 110%; } .blockly-number { font-family: monospace; color: royalblue; font-size: 120%;} .blockly-boolean { font-family: monospace;\tfont-weight: bold; color: darkmagenta; font-size: 120%;\t} .blockly-inputs, .blockly-outputs {  border-style: dotted;   border-width: 1px;   padding-left: 5px;   padding-right: 5px; }  .blockly-inputvalue, .blockly-outputvalue { font-family: monospace;  font-size: 105%; } .blockly-outputerror { margin-left: 0.8em;  font-family: monospace;  font-size: 105%;  color: red; }`;\n\nfunction outputCode(data, outputFunction='returnOutput')\n{\n    let res = `${outputFunction}({\\n`;\n    for (const key of Object.keys(data)) {\n        res += `${key},\\n`\n    }\n    res += '})';\n    return res;\n}\n\nfunction envToJS(data)\n{\n    let res = '';\n    for (const key of Object.keys(data))\n    {\n        res += 'let '+key+' = ';\n        res += JSON.stringify(data[key]);\n        res += ';\\n';\n    }\n    return res;\n}\n\nfunction getSVG(workspace) {\n    workspace.highlightBlock('');\n\n    const style = document.getElementById('blockly-renderer-style-geras-classic').innerText\n                + document.getElementById('blockly-common-style').innerText\n                + ADDITIONAL_CSS;\n\n    const canvas = workspace.svgBlockCanvas_.cloneNode(true);\n    canvas.removeAttribute(\"transform\");\n    //const css = `<defs><style type=\"text/css\" xmlns=\"http://www.w3.org/1999/xhtml\"><![CDATA[${style}]]></style></defs>`;\n    const bboxElement = document.getElementsByClassName(\"blocklyBlockCanvas\")[0];\n    const bbox = bboxElement.getBBox();\n    const content = new XMLSerializer().serializeToString(canvas);\n  \n    const svg = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"${bbox.width}\" height=\"${bbox.height}\" viewBox=\"${bbox.x} ${bbox.y} ${bbox.width} ${bbox.height}\">\n        <rect width=\"100%\" height=\"100%\" fill=\"white\"></rect>\n        ${content}</svg>\n    `;\n\n    return {svg, style};\n\n    /*\n    const cp = workspace.svgBlockCanvas_.cloneNode(true);\n    cp.removeAttribute(\"width\");\n    cp.removeAttribute(\"height\");\n    cp.removeAttribute(\"transform\");\n    //It is important to create this element in the SVG namespace rather than the XHTML namespace\n    const styleElem = document.createElementNS(\"http://www.w3.org/2000/svg\", \"style\");\n    styleElem.textContent = Blockly.Css.CONTENT.join('');\n    cp.insertBefore(styleElem, cp.firstChild);\n    \n    //Creates a complete SVG document with the correct bounds (it is necessary to get the viewbox right, in the case of negative offsets)\n    const bbox = workspace.svgBlockCanvas_.getBBox();\n    let xml = new XMLSerializer().serializeToString(cp);\n    \n    xml = '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"'+bbox.width+'\" height=\"'+bbox.height+'\" viewBox=\"' + bbox.x + ' ' + bbox.y + ' '  + bbox.width + ' ' + bbox.height + '\"><rect width=\"100%\" height=\"100%\" fill=\"white\"></rect>'+xml+'</svg>';\n    return xml;\n    */\n}\n\n// function displayEnv(data)\n// {\n//     let res = '<ul>'\n//     for (var i in data)\n//     {\n//         res += '<li><div>A variable with name <span class=\"blockly-varname\">'+i+'</span> which holds ';\n//         res += makehtml(data[i]);\n//         res += '</div></li>';\n//     }\n//     res += '</ul>';\n//     return res;\n// }\n\n// function makehtml(data)\n// {\n//     if (typeof data == 'string')\n//     {\n//         return 'a string \"<span class=\"blockly-string\">'+data+'</span>\"';\n//     }\n//     else if (typeof data == 'number')\n//     {\n//         return 'a number <span class=\"blockly-number\">'+data+'</span>';\n//     }\n//     else if (typeof data == 'boolean')\n//     {\n//         return 'a boolean <span class=\"blockly-boolean\">'+data+'</span>';\n//     }\n//     else if (Array.isArray(data))\n//     {\n//         let row1 = '';\n//         let row2 = '';\n//         for (let i=0; i < data.length; i++)\n//         {\n//             row1 += '<td class=\"blockly-table blockly-table-index\">'+(i+1)+'</td>';\n//             row2 += '<td class=\"blockly-table blockly-table-value\">'+makehtml(data[i])+'</td>';\n//         }\n//         let res = 'a list <table class=\"blockly-table\"><tr class=\"blockly-table\"><td class=\"blockly-table\">Position</td>';\n//         res += row1;\n//         res += '</tr><tr class=\"blockly-table\"><td class=\"blockly-table\">Value</td>'+row2+'</tr></table>';\n//         return res;\n//     }\n//     else if (typeof data == 'function')\n//     {\n//         return 'a function';\n//     }\n//     else\n//     {\n//         let row1 = '';\n//         let row2 = '';\n//         for (const i of Object.keys(data))\n//         {\n//             row1 += '<td class=\"blockly-table\">'+i+'</td>';\n//             row2 += '<td class=\"blockly-table blockly-table-value\">'+makehtml(data[i])+'</td>';\n//         }\n//         let res = 'an object <table class=\"blockly-table\"><tr class=\"blockly-table\"><td class=\"blockly-table\">Property</td>';\n//         res += row1;\n//         res += '</tr><tr class=\"blockly-table\"><td class=\"blockly-table\">Value</td>';\n//         res += row2;\n//         res += '</tr></table>';\n//         return res;\n//     }\n// }\n\nconst workerScript =\n`\nonmessage = function(msg) {\n    const payload = msg.data;\n    const script = payload.script;\n    const id = payload.id;\n    try {\n        const f = new Function(script);\n        const data = f();\n        postMessage(JSON.stringify({error: false, id, data}));\n    }\n    catch(err) {\n        postMessage(JSON.stringify({error: true, id, data: ''+err}));\n    }\n};\n`;\nconst workerScriptURL = URL.createObjectURL(new Blob([workerScript], {type: 'text/javascript'}));\n\n\nasync function evalScripts(scripts) {\n    const worker = new Worker(workerScriptURL);\n    const result = new Array(scripts.length);\n    const promises = new Array(scripts.length);\n    const resolves = new Array(scripts.length);\n    for (let t=0; t < scripts.length; t++) {\n        const promise = new Promise((resolve) => {\n            resolves[t] = resolve;\n        });\n        promises[t] = promise;\n    }\n\n    worker.onmessage = (msg) => {\n        const payload = JSON.parse(msg.data);\n        result[payload.id] = payload;\n        resolves[payload.id]();\n    };\n\n    let index = 0;\n    for (const script of scripts) {\n        worker.postMessage({script, id: index++});\n    }\n    return new Promise((resolve) => {\n        Promise.all(promises)\n               .then(() => {\n                   worker.terminate();\n                   resolve(result);\n               });\n    });\n}\n\nasync function evalInWorker(script) {    \n    const worker = new Worker(workerScriptURL);\n    const result = new Promise((resolve, reject) => {\n        worker.onmessage = (resp) => {\n            if (resp.error) {\n                reject(resp.data);\n            }\n            else {\n                resolve(resp.data);\n            }\n            worker.terminate();\n        }\n    });\n    worker.postMessage({script, id: 0});\n    return result;\n}\n\nconst TRACE_FUNCTIONS = `\nfunction highlightBlock(block) {\n  postMessage({type: 'highlight', block});\n}\nfunction runFinished(result) {\n  postMessage({type: 'finish', result});\n}\nfunction runError(err) {\n  postMessage({type: 'error', error: err});\n}\nasync function sleep(ms) {\n  await new Promise(r => setTimeout(r, ms));;\n}\n`;\n\nfunction evalInWorkerTrace(script, highlightCallback, finishCallback, errorCallback) {\n    const fullScript = TRACE_FUNCTIONS \n                     + '$step_count=0;\\nasync function run() {\\ntry {\\n'\n                     + script \n                     + '}\\ncatch (err) {\\n   runError(err);\\n}};\\nrun();';\n    const scriptUrl = URL.createObjectURL(new Blob([fullScript], {type: 'text/javascript'}));\n    const worker = new Worker(scriptUrl);\n    worker.onmessage = (msg) => {\n        const type = msg.data.type;\n        if (type == 'highlight') {\n            highlightCallback(msg.data.block);\n        }\n        else if (type == 'finish') {\n            finishCallback(msg.data.result);\n            worker.terminate();\n        }\n        else if (type == 'error') {\n            errorCallback(msg.data.error);\n            worker.terminate();\n        }\n    };\n    return worker;\n}\n\nfunction formatValue(value, fixedLength=0, strictStrings=false) {\n    if (typeof(value) == 'number') {\n            return value.toFixed(fixedLength);\n    }\n    else if (!strictStrings && typeof(value) == 'string') {\n       var simple = value.toLowerCase();\n       simple = simple.replace(/\\s+/g, ''); // ignore spacing\n       simple = simple.replace(/\"/g,''); // get rid of accidental accents\n       return simple;\n    }\n    else if (Array.isArray(value)) {\n            var mapped = [];\n            for (var i=0; i < value.length; i++) {\n                    mapped.push(formatValue(value[i]));\n            }\n            return '[' + mapped.join(',') + ']';\n    }\n    return value;\n}\n\nfunction generateFile(workspace, answer, outputs, rawCode,exampleIncorrect, hasUndefined, questionUuid='', answerUuid='') {\n    const dom = Blockly.Xml.workspaceToDom(workspace);\n    const xml = Blockly.Xml.domToText(dom);\n    const {svg, style} = getSVG(workspace);\n\tvar html_text = '<!doctype html>\\n<html><head><meta charset=\"utf8\" />';\n    html_text += '<style>' + style + '</style>\\n';\n    html_text += '<meta name=\"external-question-uuid\" content=\"' + questionUuid + '\"/>\\n'\n    html_text += '<meta name=\"external-question-answer-uuid\" content=\"' + answerUuid + '\"/>\\n'\n    html_text += '</head><body>\\n';\n\thtml_text += '<div>\\n<h3>Blockly Program used to generate answerCode \"'+answer+'\"</h3>\\n';\n\thtml_text += svg;\n\thtml_text += '</div>';\n\tif (exampleIncorrect || hasUndefined) {\n\t\thtml_text += '\\n<div><h3>Problems</h3>\\n<ul>\\n';\n\t\tif (exampleIncorrect) {\n\t\t\thtml_text += '<li>The output for the example testcase is incorrect</li>\\n'\n\t\t}\n\t\tif (hasUndefined) {\n\t\t\thtml_text += '<li>The outputs contain <em>undefined</em> values.</li>\\n';\n\t\t}\n\t\thtml_text += '</ul>\\n</div>';\n\t}\n\thtml_text += '<div style=\"display: none\">\\n';\n\thtml_text += Blockly.Xml.domToText(Blockly.Xml.workspaceToDom(workspace));\n\thtml_text += '</div>\\n'\n\thtml_text += '<div>\\n<h3>Blockly Generated Javascript Code</h3>\\n<pre><code>\\n';\n\thtml_text += new Option(rawCode).innerHTML;\n\thtml_text += '\\n</code></pre>\\n</div>\\n';\n\thtml_text += '\\n<div>\\n<h3>Raw Blockly Workspace</h3>\\n<textarea cols=\"100\" rows=\"10\" readonly=\"true\">\\n';\n\thtml_text += new Option(xml).innerHTML;\n\thtml_text += '\\n</textarea>\\n</div>\\n';\n\thtml_text += '\\n<div id=\\'answer-log\\'>';\n\thtml_text += generateOutputs(outputs);\n    html_text += '</div>\\n';\n\thtml_text += '</body>\\n</html>';\n\treturn html_text;\n}\n\nfunction generateOutputs(outputs) {\n    let result = `\n    <div>\n        <h4>The answer code is based on the following output of your program.</h4>\n        <p>It is <strong>your responsibility</strong> to make sure that your output is correct for <strong>all testcases</strong>.</p>\n        <ul>\\n`;\n    for (const e of outputs) {\n        result += `\n        <li>\n            <span>With the following inputs:</span>\\n`;\n        for (const [k,v] of Object.entries(e.input)) {\n            result += `\n            <span class=\"blockly-inputvalue\">\n                ${k} = ${JSON.stringify(v)}\n            </span>\\n`;\n        }\n        if (!e.output.error) {\n            result += `\n                <span> your program produced the following outputs:</span>\n            `\n            for (const [k,v] of Object.entries(e.output.data)) {\n                result += `\n                <span class=\"blockly-outputvalue\">\n                    ${k} = ${JSON.stringify(v)}\n                </span>\\n`;\n            }\n        }\n        if (e.output.error) {\n            result += `\n                <span> your program produced the following error:</span>\n                <span class=\"blockly-outputerror\">${e.output.data}</span>\\n`;\n        }\n        result +='\\t\\t\\t</li>\\n';\n    }\n    result += '\\t\\t</ul>\\n\\t</div>\\n';\n    return result;\n    \n}\n\n\nexport {\n    outputCode,\n    envToJS,\n    getSVG,\n    // makehtml,\n    // displayEnv,\n    evalInWorker,\n    evalInWorkerTrace,\n    evalScripts,\n    formatValue,\n    generateFile\n};","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n   <div class=\"blockly\" :id=\"divId\" v-show=\"hasFocus\"></div>\n</template>\n\n<script>\nimport * as Blockly from 'blockly';\nimport {javascriptGenerator} from 'blockly/javascript';\nimport {outputCode, envToJS, getSVG} from './blockly_utils.js';\nimport 'blockly/media/sprites.png';\n\nimport { mapState } from 'vuex';\n\nconst MAX_STEPS = 50000;\n\nconst STEP_INTERVAL = 150;\n\nexport default {\n  name: 'BlocklyWorkspace',\n  props: ['question', 'focused', 'inputAnswer', 'varnames'],\n  mounted() {\n    // TODO: the media path is now provided by the backend - find a way to solve this issue in the frontend?\n    this.workspace = Blockly.inject(this.divId, {\n        toolbox: this.question.toolbox,\n        sounds: false,\n        media: '.'\n    });\n    if (this.inputAnswer && this.inputAnswer.xml) {\n      const dom = Blockly.Xml.textToDom(this.inputAnswer.xml);\n      Blockly.Xml.domToWorkspace(dom, this.workspace);\n    }\n    this.workspace.addChangeListener(this.workspaceChanged);\n    this.updateVarnames();\n  },\n  data: () => ({\n    workspace: null,\n    workspaceXML: '',\n    displayCode: '',\n    testingCode: '',\n    tracingCode: '',\n    runningTrace: false,\n    traceWorker: null,\n  }),\n  methods: {\n    workspaceChanged() {\n      this.$nextTick(() => {\n        const dom = Blockly.Xml.workspaceToDom(this.workspace);\n        const xml = Blockly.Xml.domToText(dom);\n        const code = {\n          display: this.getDisplayCode(),\n          trace: this.getTracingCode(),\n          test: this.getTestingCode(),\n          svg: this.getSVG(),\n          xml\n        };\n        this.$emit('code', code)\n      });\n    },\n    getTestingCode() {\n        javascriptGenerator.STATEMENT_PREFIX = 'if ($step_count++ > '+this.maxSteps+') throw \"Too many steps. Check for infinite loops.\";';\n        let generated = javascriptGenerator.workspaceToCode(this.workspace);\n        generated = 'var $step_count = 0;' + generated;\n        javascriptGenerator.STATEMENT_PREFIX = '';\n        return generated;\n    },\n    getDisplayCode() {\n      let rawCode = javascriptGenerator.workspaceToCode(this.workspace);\n      //rawCode = rawCode.substring(rawCode.indexOf(\"\\n\") + 1).trim() + '\\n';\n      return this.preCode + rawCode;\n    },\n    getTracingCode() {\n      javascriptGenerator.STATEMENT_PREFIX = 'await sleep('+STEP_INTERVAL+');if ($step_count++ > '+this.maxSteps+') throw \"Too many steps. Check for infinite loops.\";highlightBlock(%1);\\n';\n      let rawCodeHL = javascriptGenerator.workspaceToCode(this.workspace);\n      rawCodeHL = rawCodeHL.substring(rawCodeHL.indexOf(\"\\n\") + 1).trim() + '\\n';\n      rawCodeHL = rawCodeHL.replace(/\\s+function\\s+/g, '\\nasync function ');\n      javascriptGenerator.STATEMENT_PREFIX = '';\n      //console.log(rawCodeHL);\n      return this.preCode\n           + rawCodeHL\n           + '\\nhighlightBlock(\\'\\');\\n'\n           + outputCode(this.question.exampleOutput, 'runFinished');\n    },\n    getSVG() {\n      return getSVG(this.workspace);\n    },\n    highlight(blockId) {\n      this.workspace.highlightBlock(blockId);\n    },\n    clearTrace() {\n      this.workspace.highlightBlock('');\n      // TODO enable/disable tracing mode?\n    },\n    updateVarnames() {\n      if (this.workspace && this.varnames && this.workspace.getAllBlocks().length == 0) {\n        const current = new Set(this.workspace.getAllVariableNames());\n        for (const varname of this.varnames) {\n          if (!current.has(varname)) {\n            this.workspace.createVariable(varname);\n            current.add(varname);\n          }\n        }\n      }\n    },\n    getWorkspace() {\n      return this.workspace;\n    }\n  },\n  computed: {\n    ...mapState(['hasFocus']),\n    maxSteps() {\n      if (this.question.maxSteps) {\n          return this.question.maxSteps;\n      }\n      return MAX_STEPS;\n    },\n    divId() {\n      return 'blocklyDiv-'+this.question.uuid;\n    },\n    preCode() {\n      let result = '/*Defining input variables*/\\n';\n      result += envToJS(this.question.exampleInput);\n      result += '\\n';\n      result += '/*Code generated from blocks*/\\n';\n      return result;\n    },\n  },\n  watch: {\n      focused() {\n        this.$nextTick(() => {\n            Blockly.svgResize(this.workspace);\n            Blockly.resizeContents(this.workspace);\n            this.workspace.resize();\n            this.workspace.resizeContents();\n        });          \n      },\n      varnames() {\n        this.updateVarnames();\n      }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.blockly {\n  width: 100%;\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlocklyWorkspace.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlocklyWorkspace.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BlocklyWorkspace.vue?vue&type=template&id=ec159108&scoped=true\"\nimport script from \"./BlocklyWorkspace.vue?vue&type=script&lang=js\"\nexport * from \"./BlocklyWorkspace.vue?vue&type=script&lang=js\"\nimport style0 from \"./BlocklyWorkspace.vue?vue&type=style&index=0&id=ec159108&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ec159108\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"displayEnv\"},[(_vm.data)?_c('ul',_vm._l((Object.entries(_vm.data)),function([varname, value]){return _c('li',{key:varname},[_c('div',{staticClass:\"variable\"},[(_vm.compare)?[(_vm.compare[varname])?_c('v-icon',{attrs:{\"color\":\"success\"}},[_vm._v(\"mdi-check\")]):_c('v-icon',{attrs:{\"color\":\"error\"}},[_vm._v(\"mdi-alert-circle\")])]:_vm._e(),_vm._v(\" A variable with name \"),_c('code',{staticClass:\"varname\"},[_vm._v(_vm._s(varname))]),_vm._v(\" which holds \"),_c('ValueDisplay',{attrs:{\"data\":value}}),(_vm.compare && !_vm.compare[varname])?[_vm._v(\" but for which the expected value is \"),_c('ValueDisplay',{attrs:{\"data\":_vm.reference[varname]}})]:_vm._e()],2)])}),0):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',{staticClass:\"value-display\"},[(_vm.data === undefined || _vm.data === null)?[_c('span',{staticClass:\"missing-value\"},[_vm._v(\"no value\")])]:(typeof _vm.data == 'string')?[_vm._v(\" the string \\\"\"),_c('span',{staticClass:\"string-value\"},[_vm._v(_vm._s(_vm.data))]),_vm._v(\"\\\" \")]:(typeof _vm.data == 'number')?[_vm._v(\" the number \"),_c('span',{staticClass:\"number-value\"},[_vm._v(_vm._s(_vm.data))])]:(typeof _vm.data == 'boolean')?[_vm._v(\" the boolean \"),_c('span',{staticClass:\"boolean-value\"},[_vm._v(_vm._s(_vm.data))])]:(Array.isArray(_vm.data))?[_vm._v(\" the list \"),_c('table',{staticClass:\"array-value\"},[_c('tr',[_c('th',{staticClass:\"array-value-header\",attrs:{\"scope\":\"row\"}},[_vm._v(\"Position\")]),_vm._l((_vm.data),function(_,index){return _c('td',{key:'pos-'+index,staticClass:\"array-value-index\"},[_vm._v(\" \"+_vm._s(index)+\" \")])})],2),_c('tr',[_c('th',{staticClass:\"array-value-header\",attrs:{\"scope\":\"row\"}},[_vm._v(\"Value\")]),_vm._l((_vm.data),function(value,index){return _c('td',{key:'value-'+index,staticClass:\"array-value-entry\"},[_c('ValueDisplay',{attrs:{\"data\":value}})],1)})],2)])]:(typeof _vm.data == 'function')?[_vm._v(\" a function \")]:[_vm._v(\" an object \"),_c('table',{staticClass:\"object-value\"},[_c('tr',[_c('th',{staticClass:\"object-value-header\",attrs:{\"scope\":\"row\"}},[_vm._v(\"Property\")]),_vm._l((Object.keys(_vm.data)),function(key){return _c('td',{key:'prop-'+key,staticClass:\"object-value-key\"},[_vm._v(\" \"+_vm._s(key)+\" \")])})],2),_c('tr',[_c('th',{staticClass:\"object-value-header\",attrs:{\"scope\":\"row\"}},[_vm._v(\"Value\")]),_vm._l((Object.entries(_vm.data)),function([key, value]){return _c('td',{key:'value-'+key,staticClass:\"object-value-entry\"},[_c('ValueDisplay',{attrs:{\"data\":value}})],1)})],2)])]],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n    <span class=\"value-display\">\n        <template v-if=\"data === undefined || data === null\">\n            <span class=\"missing-value\">no value</span>\n        </template>\n        <template v-else-if=\"typeof data == 'string'\">\n            the string \"<span class=\"string-value\">{{ data }}</span>\"\n        </template>\n        <template v-else-if=\"typeof data == 'number'\">\n            the number <span class=\"number-value\">{{ data }}</span>\n        </template>\n        <template v-else-if=\"typeof data == 'boolean'\">\n            the boolean <span class=\"boolean-value\">{{ data }}</span>\n        </template>\n        <template v-else-if=\"Array.isArray(data)\">\n            the list\n            <table class=\"array-value\">\n                <tr>\n                    <th class=\"array-value-header\" scope=\"row\">Position</th>\n                    <td class=\"array-value-index\" v-for=\"(_, index) in data\" :key=\"'pos-'+index\">\n                        {{ index }}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"array-value-header\" scope=\"row\">Value</th>\n                    <td class=\"array-value-entry\" v-for=\"(value, index) in data\" :key=\"'value-'+index\">\n                        <ValueDisplay :data=\"value\" />\n                    </td>\n                </tr>\n            </table>\n        </template>\n        <template v-else-if=\"typeof data == 'function'\">\n            a function\n        </template>\n        <template v-else>\n            an object\n            <table class=\"object-value\">\n                <tr>\n                    <th class=\"object-value-header\" scope=\"row\">Property</th>\n                    <td class=\"object-value-key\" v-for=\"key in Object.keys(data)\" :key=\"'prop-'+key\">\n                        {{ key }}\n                    </td>\n                </tr>\n                <tr>\n                    <th class=\"object-value-header\" scope=\"row\">Value</th>\n                    <td class=\"object-value-entry\" v-for=\"[key, value] in Object.entries(data)\" :key=\"'value-'+key\">\n                        <ValueDisplay :data=\"value\" />\n                    </td>\n                </tr>\n            </table>\n        </template>\n    </span>\n</template>\n\n<script>\nexport default {\n    name: 'ValueDisplay',\n    props: [\n      'data'\n    ],\n    components: {\n        ValueDisplay: this\n    },\n  };\n</script>\n\n<style scoped>\n.value-display span, .value-display div{\n    padding: 0;\n}\n\n.missing-value {\n    font-family: monospace;\n    color: #ff5252;\n    font-weight: bolder;\n    font-size: 120%;\n}\n\n.string-value {\n\tfont-family: monospace;\n\tcolor: darkgreen;\n\tfont-size: 110%;\n}\n\n.number-value {\n\tfont-family: monospace;\n\tcolor: royalblue;\n\tfont-size: 120%;\n}\n\n.boolean-value {\n\tfont-family: monospace;\n\tfont-weight: bold;\n\tcolor: darkmagenta;\n\tfont-size: 120%;\t\n}\n\ntable.array-value, table.object-value {\n  border-collapse: collapse;\n  margin: 8px;\n}\n\ntable.array-value, table.array-value tr, table.array-value td,\ntable.object-value, table.object-value tr, table.object-value td {\n\tborder: 1px solid black;\n}\n\n.array-value-header, .object-value-header {\n\tfont-weight: bold;\n    padding-left: 0.5em;\n    padding-right: 0.5em;\n}\n\ntd.array-value-index, td.object-value-key {\n  text-align: center;\n}\n\ntd.array-value-entry, td.object-value-entry {\n  padding: 0 0.2em 0 0.2em;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueDisplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueDisplay.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ValueDisplay.vue?vue&type=template&id=7292e807&scoped=true\"\nimport script from \"./ValueDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./ValueDisplay.vue?vue&type=script&lang=js\"\nimport style0 from \"./ValueDisplay.vue?vue&type=style&index=0&id=7292e807&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7292e807\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n    <div class=\"displayEnv\">\n        <ul v-if=\"data\">\n            <li v-for=\"[varname, value] of Object.entries(data)\" :key=\"varname\">\n                <div class=\"variable\">\n                    <template v-if=\"compare\">\n                        <v-icon v-if=\"compare[varname]\" color=\"success\">mdi-check</v-icon>\n                        <v-icon v-else color=\"error\">mdi-alert-circle</v-icon>\n                    </template>\n                    A variable with name <code class=\"varname\">{{ varname }}</code>\n                    which holds\n                    <ValueDisplay :data=\"value\" />\n                    <template v-if=\"compare && !compare[varname]\">\n                        but for which the expected value is\n                        <ValueDisplay :data=\"reference[varname]\" />\n                    </template>\n                </div>\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script>\nimport ValueDisplay from './ValueDisplay.vue';\n\nexport default {\n    name: 'EnvironmentDisplay',\n    props: [\n      'data',\n      'reference',\n      'compare'\n    ],\n    components: {\n      ValueDisplay\n    },\n  };\n</script>\n  \n<style scoped>\n.varname {\n\tfont-family: monospace;\n\tfont-weight: bold;\n\tfont-size: 130%;\n\tbackground-color: whitesmoke;\n    padding: 0;\n    display: inline;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvironmentDisplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvironmentDisplay.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EnvironmentDisplay.vue?vue&type=template&id=5bf86fad&scoped=true\"\nimport script from \"./EnvironmentDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./EnvironmentDisplay.vue?vue&type=script&lang=js\"\nimport style0 from \"./EnvironmentDisplay.vue?vue&type=style&index=0&id=5bf86fad&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bf86fad\",\n  null\n  \n)\n\nexport default component.exports","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nexport default function compare(obj1, obj2, decimals, convert=false)\n{\n    // If one object is not truthy and the other one is, they are not equal\n    if ((obj1 && !obj2) || (!obj1 && obj2)) {\n        return false;\n    }\n\n    // If both objects are null, they are equal\n    if (obj1 == null && obj2 == null) {\n        return true;\n    }\n\n    // If both objects are undefined they are equal\n    if (obj1 == undefined && obj2 == undefined) {\n        return true;\n    }\n\n    // If they is still one object null or undefined, they are not equal\n    if (obj1 == undefined || obj1 == null || obj2 == null || obj2 == undefined) {\n        return false;\n    }\n\n\t// If one value is a number and the other a string, try converting\n\tif (convert) {\n\t\tif (typeof obj1 == 'number' && typeof obj2 == 'string') {\n\t\t\ttry {\n\t\t\t\tobj2 = parseFloat(obj2);\n\t\t\t}\n\t\t\tcatch {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse if (typeof obj1 == 'string' && typeof obj2 == 'number') {\n\t\t\ttry {\n\t\t\t\tobj1 = parseFloat(obj1);\n\t\t\t}\n\t\t\tcatch {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t}\n\n\n    // If they types do not match, the objects are not equal\n\tif (typeof obj1 != typeof obj2) {\n\t\treturn false;\n\t}\n\t\n    // Is one of the objects is an array while the other is not, they are not equal\n\tif (Array.isArray(obj1) != Array.isArray(obj2)) {\n\t\treturn false;\n\t}\n\t\n    // String and boolean can be compared directly\n\tif (typeof obj1 == 'string' || typeof obj1 == 'boolean') {\n\t\treturn obj1 == obj2;\n\t}\n\t\n    // Numbers are compared by converting them to a string with a fixed number of decimals\n\tif (typeof obj1 == 'number')\n\t{\n\t\treturn obj1.toFixed(decimals) == obj2.toFixed(decimals);\n\t}\n\t\n    // If we are comparing arrays, do so element by element\n\tif (Array.isArray(obj1))\n\t{\n        if (obj1.length != obj2.length) {\n            // If the arrays are unequal in length, they are not equal\n            return false;\n        }\n        for (const [index, value] of obj1.entries()) {\n            if (!compare(value, obj2[index])) {\n                return false;\n            }\n        }\n        return true;\n\t}\n\n    // If the objects have a different number of keys, they are not equal\n\tif (Object.keys(obj1).length != Object.keys(obj2).length)\n\t{\n\t\treturn false;\n\t}\n\t\n    // For objects, compare the key/value pairs\n\tfor (const [key, value] of Object.entries(obj1))\n\t{\n\t\tif (!(key in obj2))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t\tif (!compare(value, obj2[key], decimals, convert))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n    // If there is some key in the second object but not in the first, they are not equal\n\tfor (const key in obj2)\n\t{\n\t\tif (!(key in obj1))\n\t\t{\n\t\t\treturn false;\n\t\t}\n\t}\n    // We can now assume they are equal.\n\treturn true;\n\t\n}\n","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <div class=\"question-container\">\n    <div class=\"question-main\">\n      <div class=\"flex-grow-1\">\n        <BlocklyWorkspace :question=\"question\" :focused=\"focused\" @code=\"codeChange\"\n          :inputAnswer=\"inputAnswer\" :varnames=\"varnames\" ref=\"workspace\" />\n      </div>\n      <div class=\"instructions\">\n        <div class=\"instruction-div scroll-y\">\n          <MarkdownDisplay class=\"instruction-text\" :source=\"question.description\" />\n        </div>\n        <v-toolbar class=\"run-bar\" flat dense>\n            <v-spacer />\n            <v-toolbar-items>\n              <v-btn v-if=\"!running\" @click.stop=\"runTraceCode()\" class=\"run-toolbar-el\">\n                <v-icon>mdi-play</v-icon>\n                Test\n              </v-btn>\n              <v-btn v-if=\"running\" @click.stop=\"stopTraceCode()\" class=\"run-toolbar-el\">\n                <v-icon>mdi-stop</v-icon>\n                Stop\n              </v-btn>              \n              <v-btn :disabled=\"running || testCases == null\" @click.stop=\"submitCode()\" class=\"run-toolbar-el\">\n                <v-icon>mdi-send</v-icon>\n                Run\n              </v-btn>\n              <div v-if=\"running\" class=\"running-indicator run-toolbar-el\">\n                <div>\n                  <v-progress-circular :indeterminate=\"true\" />\n                  <span>Running...</span>\n                </div>\n              </div>\n            </v-toolbar-items>\n            <v-spacer />\n        </v-toolbar>\n      </div>\n    </div>\n    <div class=\"question-io\">\n      <v-tabs class=\"question-iotabs\" background-color=\"secondary\" dark\n        v-model=\"ioTab\">\n        <v-tabs-slider color=\"white\"></v-tabs-slider>\n        <v-tab>Example</v-tab>\n        <v-tab>Example Result</v-tab>\n        <v-tab>Code</v-tab>\n        <v-tab>Answer</v-tab>\n      </v-tabs>\n      <div class=\"question-iocontent\">\n        <div v-if=\"ioTab == 0\" class=\"iotab\">\n          <h4>In this tab you can find the input and output for an example testcase</h4>\n          <div class=\"example\">\n            <div class=\"exampleInput\">\n              <h4>Example Input</h4>\n              <EnvironmentDisplay :data=\"question.exampleInput\" />\n            </div>\n            <div class=\"exampleOutput\">\n              <h4>Example Output</h4>\n              <EnvironmentDisplay :data=\"question.exampleOutput\" />\n            </div>\n          </div>\n        </div>\n        <div v-if=\"ioTab == 1\" class=\"iotab\">\n          <div v-if=\"traceError\">\n            <h4>Error while running</h4>\n            <v-alert type=\"error\" class=\"small-alert\">\n              The following error occurred while your program was tested:\n              <br />\n              {{traceError}}\n            </v-alert>\n          </div>\n          <div v-if=\"traceOutput\">\n            <v-alert v-if=\"compareFailed\" class=\"small-alert\" type=\"error\">\n              One or more output variables do not have the expected outcome for the example test case. <br />\n              This indicates there is a mistake in your program.\n            </v-alert>\n            <v-alert v-else-if=\"compareSuccess\" class=\"small-alert\" type=\"info\" icon=\"mdi-check\">\n              The output variables have the correct values for the example test case. <br />\n              This does not guarantee your program is correct for all test cases. <br />\n              It is your responsibility to make sure the program is correct for all test cases.\n            </v-alert>\n            <h4>Your program produced the following output:</h4>\n            <EnvironmentDisplay :data=\"traceOutput\" :reference=\"question.exampleOutput\" :compare=\"compareResult\" />\n          </div>\n          <div v-if=\"!traceOutput && !traceError\">\n            <h4>This tab will contain the output of your program after you test it.</h4>\n          </div> \n        </div>\n        <div v-if=\"ioTab == 2\" class=\"iotab\">\n          <h4 v-if=\"!code.display\">This tab will contain the Javascript code generated from your program.</h4>          \n          <template v-else>\n            <h4>This is the generated JavaScript code of your program:</h4>\n            <pre class=\"code\"><code class=\"code\">{{code.display}}</code></pre>\n          </template>\n        </div>\n        <div class=\"iotab\" v-if=\"ioTab == 3\">\n          <span v-if=\"testOutput.length == 0\">After you run your code, the answer code appears here</span>\n          <v-alert v-if=\"outputErrors\" type=\"error\" class=\"small-alert\">\n            Your program produced an error for at least one testcase. <br />\n            This indicates your program is likely <strong>incorrect</strong>.\n          </v-alert>\n          <v-alert v-else-if=\"compareFailed\" type=\"error\" class=\"small-alert\">\n              The example test case is incorrect. <br />\n              This means your answer code is likely <strong>incorrect</strong>.\n          </v-alert>\n          <v-alert v-else-if=\"outputMissing\" type=\"warning\" class=\"small-alert\">\n            One of the output variables was missing (undefined) for at least one testcase.<br />\n            This indicates your program is likely <strong>incorrect</strong>.\n          </v-alert>\n          <AnswerCodeDisplay v-if=\"testOutput.length > 0\" :answerCode=\"answerCode\" />\n          <template v-if=\"testOutput.length > 0\">\n            <div ref=\"outputs\">\n              <h4>The answer code is based on the following output of your program.</h4>\n              <p>It is <strong>your responsibility</strong> to make sure that your output is correct for <strong>all testcases</strong>.</p>\n              <ul>\n                <li v-for=\"e in outputDisplay\" :key=\"'test-'+e.index\">\n                  <span>With the following inputs:</span>\n                    <span class=\"blockly-inputvalues\">\n                      <span class=\"blockly-inputvalue\" v-for=\"(key, val) in e.input\" :key=\"'test-input-'+e.index+'-'+val\">\n                        {{val}} = {{JSON.stringify(key)}}\n                      </span>\n                    </span>\n                  <span v-if=\"!e.output.error\">\n                    <span> your program produced the following outputs:</span>\n                    <span class=\"blockly-outputvalues\">\n                      <span class=\"blockly-outputvalue\" v-for=\"(key, val) in e.output.data\" :key=\"'test-output-'+e.index+'-'+val\">\n                        {{val}} = {{JSON.stringify(key)}}\n                      </span>\n                    </span>\n                  </span>\n                  <span v-if=\"e.output.error\">\n                    <span> your program produced the following error:</span>\n                    <span class=\"blockly-outputerror\">{{e.output.data}}</span>\n                  </span>              \n                </li>\n              </ul>\n            </div>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n//import VueMarkdownPlus from 'vue-markdown-plus';\nimport * as md5hex from 'md5-hex';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport MarkdownDisplay from '@/components/util/MarkdownDisplay';\nimport AnswerCodeDisplay from '@/components/util/AnswerCodeDisplay';\n\nimport BlocklyWorkspace from './BlocklyWorkspace';\nimport EnvironmentDisplay from './EnvironmentDisplay.vue';\nimport {evalScripts, evalInWorker, evalInWorkerTrace, formatValue, generateFile} from './blockly_utils';\n\nimport compare from '@/util/compare.js';\n\nconst FILE_NAME_REGEX = /[^A-Za-z0-9_.-]+/g;\n\nexport default {\n  name: 'BlocklyQuestion',\n  props: [\n    'question', 'focused', 'inputAnswer'\n  ],\n  components: {\n    //VueMarkdownPlus,\n    MarkdownDisplay,\n    AnswerCodeDisplay,\n    BlocklyWorkspace,\n    EnvironmentDisplay\n  },\n  data: () => ({\n    ioTab: null,\n    code: {},\n    testOutput: [],\n    dirty: true,\n    worker: null,\n    traceOutput: null,\n    traceError: null,\n    testCases: null,\n  }),\n  created() {\n    if (this.inputAnswer) {\n      this.dirty = this.inputAnswer.dirty;\n      this.testOutput = this.inputAnswer.output;\n    }\n    if (this.question) {\n      this.refreshTestcases();\n    }\n  },\n  methods: {\n    codeChange(ev) {\n      this.code = ev;\n    },\n    runTraceCode(fast) {\n      if (!this.worker) { \n        this.traceOutput = null;\n        this.traceError = null;\n        this.ioTab = 2;\n\n        const script = (fast ? this.getTestCode() : this.code.trace) || '';\n        if (script) {\n          if (fast) {\n            evalInWorker(script)\n              .then(res => {\n                const result = JSON.parse(res);\n                if (!result.error) {\n                  this.traceOutput = result.data;\n                }\n                else {\n                  this.traceError = result.data;\n                }\n              });            \n          }\n          else {\n            const highlight = this.$refs.workspace.highlight;\n            const finishTrace = this.finishTrace;\n            const errorTrace = this.errorTrace;\n            this.worker = evalInWorkerTrace(script, highlight, finishTrace, errorTrace);\n          }\n        }\n        else {\n          this.traceOutput = null;\n          this.traceError = 'Can not run an empty program'; \n          this.ioTab = 1;\n        }\n      }\n    },\n    stopTraceCode() {\n      if (this.worker) {\n        this.worker.terminate();\n        this.worker = null;\n      }\n    },\n    finishTrace(result) {\n      this.traceOutput = result;\n      this.ioTab = 1;\n      this.stopTraceCode();\n    },\n    errorTrace(error) {\n      this.traceError = error;\n      this.ioTab = 1;\n      this.stopTraceCode();\n    },\n    getTestCode(testcase=this.question.exampleInput, solution, declr) {\n      const generated = this.code.test || '';\n      if (!solution) {\n        solution = generated.substring(generated.indexOf(\"\\n\") + 1).trim() + '\\n';\n      }\n      if (!declr) {\n        declr = generated.substring(0, generated.indexOf(\"\\n\")).trim() + '\\n\\n';\n      }\n      let testCode = Object.entries(testcase).map(([k,v]) => k+'='+JSON.stringify(v)).join(';\\n')+';\\n';\n      testCode += declr;\n      testCode += solution;\n      testCode += this.outputCode;\n      return testCode;\n    },\n    submitCode() {\n        this.testOutput = [];\n        this.runTraceCode(true);\n        this.dirty = true;\n        const generated = this.code.test || '';\n        const solution = generated.substring(generated.indexOf(\"\\n\") + 1).trim() + '\\n';\n        const declr = generated.substring(0, generated.indexOf(\"\\n\")).trim() + '\\n\\n';\n        const scripts = [];\n        for (const tc of this.testCases) {\n          const testCode = this.getTestCode(tc, solution, declr);\n          // let testCode = Object.entries(tc).map(([k,v]) => k+'='+JSON.stringify(v)).join(';\\n')+';\\n';\n          // testCode += declr;\n          // testCode += solution;\n          // testCode += this.outputCode;\n          scripts.push(testCode);\n        }\n        evalScripts(scripts)\n        .then(result => {\n          this.testOutput = result;\n          this.dirty = false;\n          this.ioTab = 3;\n          if (this.question?.autoDownload) {\n            this.saveFile();\n          }\n        });\n    },\n    refreshTestcases() {\n      const script = this.question.testCaseScript+';return getTestCases();';\n      evalInWorker(script)\n      .then(resStr => {\n        const res = JSON.parse(resStr);\n        if (!res.error && Array.isArray(res.data)) {\n          if (res.data.length > 0 && compare(res.data[0], this.question.exampleInput, 1e-6)) {\n            this.testCases = res.data;\n          }\n          else {\n            this.testCases = [this.question.exampleInput, ...res.data];\n          }\n        }\n        else {\n          // TODO: warn the user that there is a problem??\n          console.log('Error while generating testCases: '+res.data);\n        }\n      });\n    },\n    generateFile() {\n      // function generateFile(workspace, answer, answerlog, rawCode, exampleIncorrect, hasUndefined) {\n      const workspace = this.$refs.workspace.getWorkspace();\n      return generateFile(workspace, this.answerCode, this.outputDisplay, this.code.display, this.compareFailed, this.outputMissing,\n        this.question.uuid, uuidv4()\n      )\n    },\n    saveFile() {\n      const fileContent = this.generateFile();\n      const exportName = 'z_Perusal_'+this.question.name+'-'+this.answerCode+'.answer';\n      const filename = exportName.replaceAll(FILE_NAME_REGEX, '_');\n      const element = document.createElement('a');\n      element.setAttribute('href', 'data:application/data;charset=utf-8,' + encodeURIComponent(fileContent));\n      element.setAttribute('download', filename);\n      element.style.display = 'none';\n      document.body.appendChild(element);\n      element.click();\n      document.body.removeChild(element);\n    }\n  },\n  computed: {\n    outputOrder() {\n      const res = [];\n      for (const key of Object.keys(this.question.exampleOutput)) {\n        res.push(key);\n      }\n      res.sort();\n      return res;\n    },\n    outputCode() {\n      let res = 'const $resultObj = {};\\n';\n      for (const key of Object.keys(this.question.exampleOutput)) {\n        res += '$resultObj.'+key+' = '+key+';\\n';\n      }\n      res += 'return $resultObj;';\n      return res;\n    },\n    // testCases() {\n    //   return eval(this.question.testCaseScript+';getTestCases()');\n    // },\n    outputDisplay() {\n      const result = [];\n      if (!this.testCases || !this.testOutput || this.testOutput.length == 0) {\n        return result;\n      }\n      for (let i=0; i < this.testCases.length; i++) {\n        let op = {error: true, data: 'Program was not executed'};\n        if (i in this.testOutput) {\n          op = this.testOutput[i];\n          for (const outputVar of this.outputOrder) {\n            if (op.data[outputVar] || op.data[outputVar] == 0 || op.data[outputVar] == '' || op.data[outputVar] == false) {\n              //const oldVal = op.data[outputVar];\n              op.data[outputVar] = formatValue(op.data[outputVar], this.decimals, this.question.strictStrings);\n              //console.log('pre-formatting', oldVal, 'post-formatting', op.data[outputVar]);\n            }\n          }\n        }\n        result.push({index: i, input: this.testCases[i], output: op});\n      }\n      return result;\n    },\n    outputErrors() {\n      if (this.testOutput) {\n        for (const out of this.testOutput) {\n          if (out.error) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    outputMissing() {\n      if (this.testOutput) {\n        for (const out of this.testOutput) {\n          if (!out.error) {\n            for (const outputVar of this.outputOrder) {\n              if (typeof out.data[outputVar] == 'undefined') {\n                return true;\n              }\n            }\n          }\n        }\n      }\n      return false;\n    },\n    answerCode() {\n      const answerLst = [];\n      for (const tc of this.outputDisplay) {\n        for (const outputVar of this.outputOrder) {\n          answerLst.push(outputVar + '=' + tc.output.data[outputVar]);\n        }\n      }\n      const answerStr = answerLst.join('|');\n      let answerCode = md5hex(answerStr);\n      if (this.question.hashReps && this.question.hashReps > 1) {\n        for (let i=1; i < this.question.hashReps; i++) {\n          answerCode = md5hex(answerCode + '|' + answerStr);\n        }\n      }\n      if (this.question.hashLength) {\n        answerCode = answerCode.substring(0, this.question.hashLength);\n      }\n      if (this.question.hashPrefix) {\n        answerCode = this.question.hashPrefix + answerCode;\n      }\n      return answerCode;\n    },\n    fullAnswer() {\n      return {\n        dirty: this.dirty,\n        shortAnswer: this.answerCode,\n        xml: this.code.xml,\n        svg: this.code.svg,\n        output: this.testOutput\n      };\n    },\n    running() {\n      return this.worker != null;\n    },\n    decimals() {\n      return this.question.decimals !== undefined ? this.question.decimals : 1;\n    }, \n    varnames() {\n      if (this.question) {\n        const {exampleInput, exampleOutput} = this.question;\n        return [...Object.keys(exampleInput), ...Object.keys(exampleOutput)];\n      }\n      return [];\n    },\n    compareResult() {\n      if (this.traceOutput) {\n        const result = {};\n        for (const [varname, value] of Object.entries(this.question.exampleOutput)) {\n          result[varname] = compare(value, this.traceOutput[varname], this.decimals);\n        }\n        return result;\n      }\n      return null;\n    },\n    compareFailed() {\n      if (this.compareResult && Object.keys(this.compareResult).length > 0) {\n        return Object.values(this.compareResult).some(x => !x);\n      }\n      return false;\n    },\n    compareSuccess() {\n      if (this.compareResult && Object.keys(this.compareResult).length > 0) {\n        return Object.values(this.compareResult).every(x => x);\n      }\n      return false;\n    }    \n  },\n  watch: {\n    fullAnswer() {\n      this.$emit('input', this.fullAnswer);\n    },\n    question() {\n      this.refreshTestcases();\n    }\n  }\n};\n</script>\n\n<style scoped>\n.question-container {\n  height: calc(100vh - 64px);\n}\n\n.question-main {\n  height: 66.6%;\n  display: flex;\n  flex-direction: row;\n}\n\n.question-io {\n  height: 33.3%;\n  width: 100%;\n}\n\n.question-iotabs {\n  width: 100%;\n  height: 48px;\n}\n\n.question-iocontent {\n  height: calc(100% - 48px);\n  overflow-y: scroll;\n}\n\n.iotab {\n  padding: 0.5em;\n}\n\n.example {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.example>div {\n  border: gray 1px solid;\n  margin: 3px;\n  padding: 3px;\n}\n\n.instructions {\n  min-width: 25em;\n  max-width: 40em;\n  width: 25%;\n  height: calc(100% - 48px);\n}\n\n.instruction-div {\n  height: 100%;\n  overflow-y: scroll;\n}\n\n.instruction-text {\n  display: inline-block;\n}\n\n.run-bar {\n  margin-bottom: 5px;\n  height: 5em;\n}\n\n.scroll {\n  overflow: scroll;\n}\n\n.answercode-box {\n  max-width: 34em;\n  font-family: monospace;\n  margin-top: 0.5em;\n}\n\n.code {\n  color: black;\n  width: 100%;\n}\n\n.code::after {\n  content: none !important;\n}\n\n.adjust-md code::before {\n  content: \"\" !important\n}\n\n.adjust-md code::after {\n  display: none;\n}\n\n.adjust-md code {\n  box-shadow: none !important;\n  color: black !important;\n}\n\n.adjust-md pre {\n  margin-bottom: 16px;\n}\n\n.answercode {\n  font-family: monospace;\n  font-size: 105%;\n}\n\n.scroll-y {\n  overflow-y: scroll;\n}\n\n\n\n.running-indicator {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.run-toolbar-el {\n  margin-left: 1em;\n}\n\n.small-alert {\n  max-width: 50em;\n}\n</style>\n\n<style>\n.blockly-varname {\n\tfont-family: monospace;\n\tfont-weight: bold;\n\tfont-size: 130%;\n\tbackground-color: whitesmoke;\n}\n\n.blockly-string {\n\tfont-family: monospace;\n\tcolor: darkgreen;\n\tfont-size: 110%;\n}\n\n.blockly-number {\n\tfont-family: monospace;\n\tcolor: royalblue;\n\tfont-size: 120%;\n}\n\n.blockly-boolean {\n\tfont-family: monospace;\n\tfont-weight: bold;\n\tcolor: darkmagenta;\n\tfont-size: 120%;\t\n}\n\n.blockly-inputs, .blockly-outputs {\n  border-style: dotted;\n  border-width: 1px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.blockly-inputvalue, .blockly-outputvalue {\n  font-family: monospace;\n  font-size: 105%;\n}\n\n.blockly-inputvalue:not(:first-child):before,\n.blockly-outputvalue:not(:first-child):before {\n  content: \",\";\n  margin-left: -0.5em;\n}\n\n.blockly-outputerror {\n  margin-left: 0.8em;\n  font-family: monospace;\n  font-size: 105%;\n  color: red;\n}\n\ntable.blockly-table {\n  border-collapse: collapse;\n\tmargin: 8px;\n}\n\ntable.blockly-table, tr.blockly-table, td.blockly-table {\n\tborder: 1px solid black;\n}\n\ntd.blockly-table-index {\n  text-align: center;\n}\n\ntd.blockly-table-value {\n  padding: 0 0.2em 0 0.2em;\n}\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlocklyQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlocklyQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BlocklyQuestion.vue?vue&type=template&id=954a2cc0&scoped=true\"\nimport script from \"./BlocklyQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./BlocklyQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./BlocklyQuestion.vue?vue&type=style&index=0&id=954a2cc0&prod&scoped=true&lang=css\"\nimport style1 from \"./BlocklyQuestion.vue?vue&type=style&index=1&id=954a2cc0&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"954a2cc0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{attrs:{\"model\":\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"editPanel\",attrs:{\"cols\":\"6\"}},[_c('h4',[_vm._v(\"Example Input\")]),(_vm.inputError)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\"Unable to parse JSON. Question not updated. Fix this!\"),_c('br'),_vm._v(_vm._s(_vm.inputError))]):_c('v-alert',{attrs:{\"type\":\"success\"}},[_vm._v(\"JSON succesfully parsed\")]),_c('codemirror',{ref:\"editor1\",staticClass:\"small-editor\",attrs:{\"value\":_vm.exampleInputStr,\"options\":_vm.jsonOptions},on:{\"input\":_vm.updateInput}})],1),_c('v-col',{staticClass:\"editPanel\",attrs:{\"cols\":\"6\"}},[_c('h4',[_vm._v(\"Example Goal\")]),(_vm.outputError)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\"Unabled to parse JSON. Question not updated. Fix this!\"),_c('br'),_vm._v(_vm._s(_vm.outputError))]):_c('v-alert',{attrs:{\"type\":\"success\"}},[_vm._v(\"JSON succesfully parsed\")]),_c('codemirror',{ref:\"editor2\",staticClass:\"small-editor\",attrs:{\"value\":_vm.exampleOutputStr,\"options\":_vm.jsonOptions},on:{\"input\":_vm.updateOutput}})],1)],1),_c('v-row',[_c('v-col',{staticClass:\"editPanel\",attrs:{\"cols\":\"6\"}},[_c('h4',[_vm._v(\"Testcase Script\")]),_c('codemirror',{ref:\"editor3\",staticClass:\"editor\",attrs:{\"value\":_vm.value.testCaseScript,\"options\":_vm.jsOptions},on:{\"input\":_vm.updateTestCases}})],1),_c('v-col',{staticClass:\"editPanel\",attrs:{\"cols\":\"6\"}},[_c('h4',[_vm._v(\"Toolbox XML\")]),_c('codemirror',{ref:\"editor4\",staticClass:\"editor\",attrs:{\"value\":_vm.value.toolbox,\"options\":_vm.xmlOptions},on:{\"input\":_vm.updateToolbox}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('h4',[_vm._v(\"Answer code settings\")]),_c('v-slider',{attrs:{\"min\":\"0\",\"step\":\"1\",\"max\":\"8\",\"ticks\":\"\",\"thumb-label\":\"\",\"label\":'Number of decimals to compare in numbers '+_vm.value.decimals},model:{value:(_vm.value.decimals),callback:function ($$v) {_vm.$set(_vm.value, \"decimals\", _vm._n($$v))},expression:\"value.decimals\"}}),_c('v-checkbox',{attrs:{\"label\":\"Perform strict comparison of strings (correct spacing and case are required)\"},model:{value:(_vm.value.strictString),callback:function ($$v) {_vm.$set(_vm.value, \"strictString\", $$v)},expression:\"value.strictString\"}}),_c('v-text-field',{staticClass:\"short-field\",attrs:{\"label\":\"Answer code prefix\"},on:{\"input\":_vm.updateHashPrefix},model:{value:(_vm.value.hashPrefix),callback:function ($$v) {_vm.$set(_vm.value, \"hashPrefix\", $$v)},expression:\"value.hashPrefix\"}}),_c('v-text-field',{staticClass:\"short-field\",attrs:{\"label\":\"Answer code repetitions\",\"min\":\"1\",\"type\":\"number\"},on:{\"input\":_vm.updateHashReps},model:{value:(_vm.value.hashReps),callback:function ($$v) {_vm.$set(_vm.value, \"hashReps\", $$v)},expression:\"value.hashReps\"}}),_c('v-text-field',{staticClass:\"short-field\",attrs:{\"label\":\"Answer code length\",\"min\":\"1\",\"type\":\"number\"},on:{\"input\":_vm.updateHashLength},model:{value:(_vm.value.hashLength),callback:function ($$v) {_vm.$set(_vm.value, \"hashLength\", $$v)},expression:\"value.hashLength\"}}),_c('v-checkbox',{attrs:{\"label\":\"Automatically download a copy of the answer file upon submitting\"},model:{value:(_vm.value.autoDownload),callback:function ($$v) {_vm.$set(_vm.value, \"autoDownload\", $$v)},expression:\"value.autoDownload\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <v-form model=\"valid\">\n    <v-container>\n      <v-row>\n        <v-col class=\"editPanel\" cols=\"6\">\n          <h4>Example Input</h4>\n          <v-alert type=\"error\" v-if=\"inputError\">Unable to parse JSON. Question not updated. Fix this!<br />{{inputError}}</v-alert>\n          <v-alert type=\"success\" v-else>JSON succesfully parsed</v-alert>\n          <codemirror class=\"small-editor\" ref=\"editor1\" :value=\"exampleInputStr\" :options=\"jsonOptions\" @input=\"updateInput\"/>\n        </v-col>\n        <v-col class=\"editPanel\" cols=\"6\">\n          <h4>Example Goal</h4>\n          <v-alert type=\"error\" v-if=\"outputError\">Unabled to parse JSON. Question not updated. Fix this!<br />{{outputError}}</v-alert>\n          <v-alert type=\"success\" v-else>JSON succesfully parsed</v-alert>\n          <codemirror class=\"small-editor\" ref=\"editor2\" :value=\"exampleOutputStr\" :options=\"jsonOptions\" @input=\"updateOutput\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col class=\"editPanel\" cols=\"6\">\n          <h4>Testcase Script</h4>\n          <codemirror class=\"editor\" ref=\"editor3\" :value=\"value.testCaseScript\" :options=\"jsOptions\" @input=\"updateTestCases\"/>\n        </v-col>\n        <v-col class=\"editPanel\" cols=\"6\">\n          <h4>Toolbox XML</h4>\n          <codemirror class=\"editor\" ref=\"editor4\" :value=\"value.toolbox\" :options=\"xmlOptions\" @input=\"updateToolbox\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"6\">\n          <h4>Answer code settings</h4>\n          <v-slider v-model.number=\"value.decimals\" min=\"0\" step=\"1\" max=\"8\" ticks thumb-label \n            :label=\"'Number of decimals to compare in numbers '+value.decimals\" />\n          <v-checkbox v-model=\"value.strictString\" label=\"Perform strict comparison of strings (correct spacing and case are required)\" />\n          <v-text-field class=\"short-field\" label=\"Answer code prefix\" v-model=\"value.hashPrefix\" @input=\"updateHashPrefix\"/>\n          <v-text-field class=\"short-field\" label=\"Answer code repetitions\" v-model=\"value.hashReps\" min=\"1\" type=\"number\" @input=\"updateHashReps\"/>\n          <v-text-field class=\"short-field\" label=\"Answer code length\" v-model=\"value.hashLength\" min=\"1\" type=\"number\" @input=\"updateHashLength\"/>\n          <v-checkbox v-model=\"value.autoDownload\" label=\"Automatically download a copy of the answer file upon submitting\" />\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-form>\n</template>\n\n<script>\n\n// import CodeMirror\nimport { codemirror } from 'vue-codemirror'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/mode/javascript/javascript.js'\nimport 'codemirror/mode/xml/xml.js'\n\nexport default {\n  name: 'EditBlocklyQuestion',\n  props: [\n    'value', 'focused'\n  ],\n  components: {\n    codemirror\n  },\n  data: () => ({\n    inputError: null,\n    outputError: null,\n    loaded: false,\n    exampleInputStr: null,\n    exampleOutputStr: null,\n    updating: false,\n    jsonOptions: {\n      tabSize: 4,\n      mode: 'application/json',\n      lineNumbers: true,\n      line: true,\n      lineWrapping: true\n    },\n    xmlOptions: {\n      tabSize: 4,\n      mode: 'application/xml',\n      lineNumbers: true,\n      line: true,\n      lineWrapping: true\n    },\n    jsOptions: {\n      tabSize: 4,\n      mode: 'application/javascript',\n      lineNumbers: true,\n      line: true,\n      lineWrapping: true\n    }\n  }),\n  created() {\n    this.loaded = true;\n    this.exampleInputStr = JSON.stringify(this.value.exampleInput, null, '\\t');\n    this.exampleOutputStr = JSON.stringify(this.value.exampleOutput, null, '\\t');\n  },\n  methods: {\n    valueChanged() {\n      this.$emit('input', this.value);\n    },\n    updateInput(value) {\n      this.inputError = null;\n      try {\n        this.value.exampleInput = JSON.parse(value);\n        this.updating = true;\n        this.$nextTick(() => {\n          this.updating = false;\n        });\n        this.$emit('input', this.value);\n      }\n      catch (err) {\n        this.inputError = err.message;\n      }\n    },\n    updateOutput(value) {\n      this.outputError = null;\n      try {\n        this.value.exampleOutput = JSON.parse(value);\n        this.updating = true;\n        this.$nextTick(() => {\n          this.updating = false;\n        });\n        this.$emit('input', this.value);\n      }\n      catch (err) {\n        this.outputError = err.message;\n      }\n    },\n    stringifyIO() {\n      if (this.updating) {\n        return;\n      }\n      if (this.value.exampleInput) {\n        this.exampleInputStr = JSON.stringify(this.value.exampleInput, null, 3);\n      }\n      if (this.value.exampleOutput) {\n        this.exampleOutputStr = JSON.stringify(this.value.exampleOutput, null, 3);\n      }\n    },\n    updateTestCases(value) {\n      this.value.testCaseScript = value;\n      this.$emit('input', this.value);\n    },\n    updateToolbox(value) {\n      this.value.toolbox = value;\n      this.$emit('input', this.value);\n    },\n    updateHashReps(value) {\n      this.value.hashReps = value;\n      this.$emit('input', this.value);\n    },\n    updateHashLength(value) {\n      this.value.hashLength = value;\n      this.$emit('input', this.value);\n    },\n    updateHashPrefix(value) {\n      this.value.hashPrefix = value;\n      this.$emit('input', this.value);\n    },    \n    refreshAll() {\n      this.$refs.editor1.refresh();\n      this.$refs.editor2.refresh();\n      this.$refs.editor3.refresh();\n      this.$refs.editor4.refresh();\n    }\n  },\n  watch: {\n    focused() {\n      this.$nextTick(this.refreshAll);\n    },\n    value: {\n      deep: true,\n      handler() {\n        this.stringifyIO();\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.small-editor {\n  height: 8em;\n}\n\n.editor {\n  height: 25em;\n}\n\n.editPanel {\n  height: 28em;\n}\n\n.short-field {\n  max-width: 20em;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBlocklyQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBlocklyQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditBlocklyQuestion.vue?vue&type=template&id=50b7f684&scoped=true\"\nimport script from \"./EditBlocklyQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./EditBlocklyQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditBlocklyQuestion.vue?vue&type=style&index=0&id=50b7f684&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50b7f684\",\n  null\n  \n)\n\nexport default component.exports","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport BlocklyQuestion from './BlocklyQuestion';\nimport EditBlocklyQuestion from './EditBlocklyQuestion';\n\nfunction initialize(newQuestion) {\n    return {\n        ...newQuestion,\n        exampleInput: { cost: 8},\n        exampleOutput: { output: 4},\n        toolbox: \"<xml id=\\\"toolbox\\\" style=\\\"display: none\\\">\\n    <category id=\\\"catLogic\\\" colour=\\\"210\\\" name=\\\"Logic\\\">\\n      <block type=\\\"controls_if\\\"></block>\\n      <block type=\\\"logic_compare\\\"></block>\\n      <block type=\\\"logic_operation\\\"></block>\\n      <block type=\\\"logic_negate\\\"></block>\\n      <block type=\\\"logic_boolean\\\"></block>\\n      <block type=\\\"logic_null\\\"></block>\\n      <block type=\\\"logic_ternary\\\"></block>\\n    </category>\\n    <category id=\\\"catLoops\\\" colour=\\\"120\\\" name=\\\"Loops\\\">\\n      <block type=\\\"controls_repeat_ext\\\">\\n        <value name=\\\"TIMES\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">10</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"controls_whileUntil\\\"></block>\\n      <block type=\\\"controls_for\\\">\\n        <value name=\\\"FROM\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"TO\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">10</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"BY\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"controls_forEach\\\"></block>\\n      <block type=\\\"controls_flow_statements\\\"></block>\\n    </category>\\n    <category id=\\\"catMath\\\" colour=\\\"230\\\" name=\\\"Math\\\">\\n      <block type=\\\"math_number\\\"></block>\\n      <block type=\\\"math_arithmetic\\\">\\n        <value name=\\\"A\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"B\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_single\\\">\\n        <value name=\\\"NUM\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">9</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_trig\\\">\\n        <value name=\\\"NUM\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">45</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_constant\\\"></block>\\n      <block type=\\\"math_number_property\\\">\\n        <value name=\\\"NUMBER_TO_CHECK\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">0</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_change\\\">\\n        <value name=\\\"DELTA\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_round\\\">\\n        <value name=\\\"NUM\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">3.1</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_modulo\\\">\\n        <value name=\\\"DIVIDEND\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">64</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"DIVISOR\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">10</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_constrain\\\">\\n        <value name=\\\"VALUE\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">50</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"LOW\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"HIGH\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">100</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_random_int\\\">\\n        <value name=\\\"FROM\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">1</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"TO\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">100</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"math_random_float\\\"></block>\\n    </category>\\n    <category id=\\\"catText\\\" colour=\\\"160\\\" name=\\\"Text\\\">\\n      <block type=\\\"text\\\"></block>\\n      <block type=\\\"text_join\\\"></block>\\n      <block type=\\\"text_append\\\">\\n        <value name=\\\"TEXT\\\">\\n          <shadow type=\\\"text\\\"></shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"text_length\\\">\\n        <value name=\\\"VALUE\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\">abc</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"text_isEmpty\\\">\\n        <value name=\\\"VALUE\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\"></field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"text_indexOf\\\">\\n        <value name=\\\"VALUE\\\">\\n          <block type=\\\"variables_get\\\">\\n            <field name=\\\"VAR\\\">text</field>\\n          </block>\\n        </value>\\n        <value name=\\\"FIND\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\">abc</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"text_charAt\\\">\\n        <value name=\\\"VALUE\\\">\\n          <block type=\\\"variables_get\\\">\\n            <field name=\\\"VAR\\\">text</field>\\n          </block>\\n        </value>\\n      </block>\\n      <block type=\\\"text_getSubstring\\\">\\n        <value name=\\\"STRING\\\">\\n          <block type=\\\"variables_get\\\">\\n            <field name=\\\"VAR\\\">text</field>\\n          </block>\\n        </value>\\n      </block>\\n      <block type=\\\"text_changeCase\\\">\\n        <value name=\\\"TEXT\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\">abc</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"text_trim\\\">\\n        <value name=\\\"TEXT\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\">abc</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"text_print\\\">\\n        <value name=\\\"TEXT\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\">abc</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"text_prompt_ext\\\">\\n        <value name=\\\"TEXT\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\">abc</field>\\n          </shadow>\\n        </value>\\n      </block>\\n    </category>\\n    <category id=\\\"catLists\\\" colour=\\\"260\\\" name=\\\"Lists\\\">\\n      <block type=\\\"lists_create_with\\\">\\n        <mutation items=\\\"0\\\"></mutation>\\n      </block>\\n      <block type=\\\"lists_create_with\\\"></block>\\n      <block type=\\\"lists_repeat\\\">\\n        <value name=\\\"NUM\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">5</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"lists_length\\\"></block>\\n      <block type=\\\"lists_isEmpty\\\"></block>\\n      <block type=\\\"lists_getIndex\\\">\\n        <value name=\\\"VALUE\\\">\\n          <block type=\\\"variables_get\\\">\\n            <field name=\\\"VAR\\\">list</field>\\n          </block>\\n        </value>\\n      </block>\\n      <block type=\\\"lists_setIndex\\\">\\n        <value name=\\\"LIST\\\">\\n          <block type=\\\"variables_get\\\">\\n            <field name=\\\"VAR\\\">list</field>\\n          </block>\\n        </value>\\n      </block>\\n      <block type=\\\"lists_getSublist\\\">\\n        <value name=\\\"LIST\\\">\\n          <block type=\\\"variables_get\\\">\\n            <field name=\\\"VAR\\\">list</field>\\n          </block>\\n        </value>\\n      </block>\\n      <block type=\\\"lists_split\\\">\\n        <value name=\\\"DELIM\\\">\\n          <shadow type=\\\"text\\\">\\n            <field name=\\\"TEXT\\\">,</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"lists_sort\\\"></block>\\n    </category>\\n    <category id=\\\"catColour\\\" colour=\\\"20\\\" name=\\\"Color\\\">\\n      <block type=\\\"colour_picker\\\"></block>\\n      <block type=\\\"colour_random\\\"></block>\\n      <block type=\\\"colour_rgb\\\">\\n        <value name=\\\"RED\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">100</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"GREEN\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">50</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"BLUE\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">0</field>\\n          </shadow>\\n        </value>\\n      </block>\\n      <block type=\\\"colour_blend\\\">\\n        <value name=\\\"COLOUR1\\\">\\n          <shadow type=\\\"colour_picker\\\">\\n            <field name=\\\"COLOUR\\\">#ff0000</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"COLOUR2\\\">\\n          <shadow type=\\\"colour_picker\\\">\\n            <field name=\\\"COLOUR\\\">#3333ff</field>\\n          </shadow>\\n        </value>\\n        <value name=\\\"RATIO\\\">\\n          <shadow type=\\\"math_number\\\">\\n            <field name=\\\"NUM\\\">0.5</field>\\n          </shadow>\\n        </value>\\n      </block>\\n    </category>\\n    <sep></sep>\\n    <category id=\\\"catVariables\\\" colour=\\\"330\\\" custom=\\\"VARIABLE\\\" name=\\\"Variables\\\"></category>\\n    <category id=\\\"catFunctions\\\" colour=\\\"290\\\" custom=\\\"PROCEDURE\\\" name=\\\"Functions\\\"></category>\\n  </xml>\",\n        testCaseScript: \"function getTestCases() {\\n        const cases = [];\\n        for (let i=-20; i <= 20; i+=2) {\\n           cases.push({cost: i});\\n        }\\n        return cases;\\n}\",\n        decimals: 1,\n        strictStrings: false,\n        hashReps: 1,\n        hashLength: 10,\n        hashPrefix: 'x',\n        autoDownload: false,\n    }\n}\n\nfunction exportAnswer(question, _, component) {\n    return new Promise((resolve, reject) => {\n        try {\n            const config = question.exportConfig;\n            if (config.type == 'file') {\n                // Output file\n                const content = component.generateFile();\n                const replacement = component.answerCode || '';\n                const filename = config.filename.replaceAll('{{answerCode}}', replacement);\n                resolve({ type: 'file', filename: filename, contentType: 'text', content});\n            }\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n\nexport default {\n    description: 'Visual programming exercise based on the Google Blockly toolkit',\n    view: BlocklyQuestion,\n    edit: EditBlocklyQuestion,\n    initialize,\n    exportAnswer,\n    defaultExtension: '.html',\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"question-container\"},[_c('div',{staticClass:\"question-editor\"},[_c('MonacoEditor',{ref:\"editor\",staticClass:\"editor\",attrs:{\"language\":_vm.question.lang,\"options\":_vm.editorOptions},model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_c('div',{staticClass:\"rhs\"},[_c('div',{staticClass:\"question-instruction\"},[_c('MarkdownDisplay',{staticClass:\"question-text\",attrs:{\"source\":_vm.question.description}})],1),_c('div',{staticClass:\"question-toolbar\"},[(_vm.question.runUrl && !_vm.perusal)?_c('v-btn',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.runDialog.openRunDialog()}}},[_c('v-icon',[_vm._v(\"mdi-play\")]),_vm._v(\" Run \")],1):_vm._e(),(!_vm.perusal)?_c('v-btn',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.resetDialog.show()}}},[_c('v-icon',[_vm._v(\"mdi-replay\")]),_vm._v(\" Reset \")],1):_vm._e(),(_vm.question.referenceUrl)?_c('v-btn',{attrs:{\"href\":_vm.question.referenceUrl,\"target\":\"_blank\"}},[_c('v-icon',[_vm._v(\"mdi-book-open\")]),_vm._v(\" References \")],1):_vm._e()],1)]),_c('EditorRunDialog',{ref:\"runDialog\",attrs:{\"code\":_vm.code,\"question\":_vm.question}}),_c('ConfirmDialog',{ref:\"resetDialog\",attrs:{\"title\":\"Reset your code\",\"type\":\"warning\",\"text\":\"This will delete your current work on this question and reset the code to the default. Use CTRL+Z to undo your last edits.\",\"confirm\":() => this.code = this.question.defaultAnswer,\"width\":\"60em\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"width\":\"80em\",\"scrollable\":\"\",\"persistent\":\"\"},model:{value:(_vm.runDialog),callback:function ($$v) {_vm.runDialog=$$v},expression:\"runDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_vm._v(\" Run your code \")]),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.runStep),callback:function ($$v) {_vm.runStep=$$v},expression:\"runStep\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"step\":\"1\"}},[_vm._v(\"Choose input type\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"2\"}},[_vm._v(\"Define program input\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"3\"}},[_vm._v(\"Compiling and Running Your Program\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\"Result and Output\")])],1)],1),_c('br'),_c('v-container',[(_vm.runStep==1)?_c('div',[(_vm.question.allowCustomTest && _vm.question.testCases.length > 0)?_c('div',[_c('div',[_vm._v(\"Select the kind of input that will be send to your program during execution:\")]),_c('br'),_c('v-radio-group',{model:{value:(_vm.performCustom),callback:function ($$v) {_vm.performCustom=$$v},expression:\"performCustom\"}},[_c('v-radio',{attrs:{\"label\":\"Select a predefined test case\",\"value\":false}}),_c('v-radio',{attrs:{\"label\":\"Define your own input in a textfield\",\"value\":true}})],1)],1):(_vm.question.allowCustomTest)?_c('div',[_vm._v(\" Your program can only be executed with custom input. \")]):(_vm.question.testCases.length > 0)?_c('div',[_vm._v(\" Your program can only be executed with predefined testcases. \")]):_c('div',[_vm._v(\" This question does not allow you to define any input. \")])]):_vm._e(),(_vm.runStep==2)?_c('div',[(_vm.runPredefined)?_c('div',[_c('div',[_vm._v(\"Select the standard input that will be send to your program during execution:\")]),_c('br'),_c('v-tabs',{model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[_vm._l((_vm.question.testCases.length),function(i){return _c('v-tab',{key:'tab-'+i},[_vm._v(\"Testcase \"+_vm._s(i))])}),_vm._l((_vm.question.testCases.length),function(i){return _c('v-tab-item',{key:'tab-item-'+i},[_c('div',[_vm._v(\"Your code will be executed with the following input\")]),_c('br'),_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.question.testCases[i-1]))])])])})],2)],1):(_vm.runCustom)?_c('div',[_c('div',[_vm._v(\"Provide the standard input that will be send to your program during execution:\")]),_c('br'),_c('v-textarea',{staticClass:\"input-textarea\",attrs:{\"placeholder\":\"Type your input here\",\"rows\":5},model:{value:(_vm.customInput),callback:function ($$v) {_vm.customInput=$$v},expression:\"customInput\"}})],1):_c('div',[_vm._v(\" Your program will be executed without any input. \")])]):_vm._e(),(_vm.runStep==3)?_c('div',[_c('div',[_vm._v(\"Compiling and running your program\")]),_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}}),(_vm.timeoutPopup)?_c('v-alert',{attrs:{\"type\":\"warning\"}},[_vm._v(\" This seems to take rather long. Try restarting the run action, and if the problem persists contact support. \")]):_vm._e()],1):_vm._e(),(_vm.runStep==4)?_c('div',[(_vm.runError)?_c('div',[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" An unexpected error occurred while running your code. \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.runError.name)+\" : \"+_vm._s(_vm.runError.message)+\". \"),_c('br'),_vm._v(\" Try again and contact support if the problem persists. \")])],1):(_vm.emptyResponse)?_c('div',[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" The result of the execution was empty. \"),_c('br'),_vm._v(\" This should not happen. \"),_c('br'),_vm._v(\" Try again and if the problem persists, contact support. \")])],1):(_vm.output.compile)?_c('div',[(_vm.output.compile.exitCode != 0)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Your code did not compile succesfully. Please review the following error output. \")]):(_vm.output.compile.stdOut.length)?_c('v-alert',{attrs:{\"type\":\"warning\"}},[_vm._v(\" Your code compiled succesfully, but there were warnings. Please review them. \")]):_c('v-alert',{attrs:{\"type\":\"info\"}},[_vm._v(\" Your code compiled succesfully. \")]),_c('div',[(_vm.output.compile.stdOut)?_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.output.compile.stdOut))])]):_vm._e()])],1):_vm._e(),(_vm.output.run)?_c('div',[(_vm.output.run.timeout)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Your program exceeded the time limit of \"+_vm._s(_vm.output.run.timeLimit)+\" seconds. Make sure there are no infinite loops in your code. \")]):(_vm.output.run.exitCode != 0 || _vm.output.run.stdErr)?_c('v-alert',{attrs:{\"type\":\"warning\"}},[_vm._v(\" Your program finished execution, but did not exit normally. Review the error output if available. \")]):_c('v-alert',{attrs:{\"type\":\"success\"}},[_vm._v(\" Your program finished exectution normally. \")]),(_vm.output.run.stdErr)?_c('div',[_vm._v(\" The following errors were reported while running your code: \"),_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.output.run.stdErr))])]),_c('v-divider')],1):_vm._e(),_c('div',[_vm._v(\"The output of your code was as follows:\")]),_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.output.run.stdOut))])])],1):_vm._e()]):_vm._e()])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.runStep==1)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.next()}}},[_vm._v(\"Next\")]):_vm._e(),(_vm.runStep==3)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.cancel(true)}}},[_vm._v(\"Restart\")]):_vm._e(),(_vm.runStep==3)?_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.cancel(false)}}},[_vm._v(\"Cancel\")]):_vm._e(),(_vm.runStep==4)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openRunDialog()}}},[_vm._v(\"Restart\")]):_vm._e(),(_vm.runStep==2)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.run()}}},[_vm._v(\"Run\")]):_vm._e(),(_vm.runStep==2)?_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")]):_vm._e(),_c('v-btn',{attrs:{\"disabled\":_vm.running,\"color\":\"secondary\"},on:{\"click\":function($event){_vm.runDialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <v-dialog width=\"80em\" v-model=\"runDialog\" scrollable persistent>\n    <v-card>\n      <v-card-title class=\"headline\" primary-title>\n        Run your code\n      </v-card-title>\n      <v-card-text>\n        <v-stepper v-model=\"runStep\">\n          <v-stepper-header>\n            <v-stepper-step step=\"1\">Choose input type</v-stepper-step>\n            <v-divider></v-divider>\n            <v-stepper-step step=\"2\">Define program input</v-stepper-step>\n            <v-divider></v-divider>\n            <v-stepper-step step=\"3\">Compiling and Running Your Program</v-stepper-step>\n            <v-divider></v-divider>\n            <v-stepper-step step=\"4\">Result and Output</v-stepper-step>\n          </v-stepper-header>\n        </v-stepper>\n        <br />\n        <v-container>\n          <div v-if=\"runStep==1\">\n            <div v-if=\"question.allowCustomTest && question.testCases.length > 0\">\n              <div>Select the kind of input that will be send to your program during execution:</div>\n              <br />\n              <v-radio-group v-model=\"performCustom\">\n                <v-radio label=\"Select a predefined test case\" :value=\"false\" />\n                <v-radio label=\"Define your own input in a textfield\" :value=\"true\" />\n              </v-radio-group>\n            </div>\n            <div v-else-if=\"question.allowCustomTest\">\n              Your program can only be executed with custom input.\n            </div>\n            <div v-else-if=\"question.testCases.length > 0\">\n              Your program can only be executed with predefined testcases.\n            </div>          \n            <div v-else>\n              This question does not allow you to define any input.\n            </div>\n          </div>\n          <div v-if=\"runStep==2\">\n            <div v-if=\"runPredefined\">\n              <div>Select the standard input that will be send to your program during execution:</div>\n              <br />\n              <v-tabs v-model=\"currentTab\">\n                <v-tab v-for=\"i in question.testCases.length\" :key=\"'tab-'+i\">Testcase {{i}}</v-tab>\n                <v-tab-item v-for=\"i in question.testCases.length\" :key=\"'tab-item-'+i\">\n                  <div>Your code will be executed with the following input</div>\n                  <br />\n                  <code class=\"pre-output\"><pre>{{question.testCases[i-1]}}</pre></code>\n                </v-tab-item>\n              </v-tabs>\n            </div>\n            <div v-else-if=\"runCustom\">\n              <div>Provide the standard input that will be send to your program during execution:</div>\n              <br />\n              <v-textarea class=\"input-textarea\" v-model=\"customInput\"\n              placeholder=\"Type your input here\" :rows=\"5\">\n              </v-textarea>\n            </div>\n            <div v-else>\n              Your program will be executed without any input.\n            </div>\n          </div>\n          <div v-if=\"runStep==3\">\n            <div>Compiling and running your program</div>\n            <v-progress-circular indeterminate></v-progress-circular>\n            <v-alert type=\"warning\" v-if=\"timeoutPopup\">\n              This seems to take rather long. Try restarting the run action,\n              and if the problem persists contact support.\n            </v-alert>\n          </div>\n          <div v-if=\"runStep==4\">\n            <div v-if=\"runError\">\n              <v-alert type=\"error\">\n                An unexpected error occurred while running your code.\n                <br />\n                {{runError.name}} : {{runError.message}}.\n                <br />\n                Try again and contact support if the problem persists.\n              </v-alert>\n            </div>\n            <div v-else-if=\"emptyResponse\">\n              <v-alert type=\"error\">\n                The result of the execution was empty.\n                <br />\n                This should not happen.\n                <br />\n                Try again and if the problem persists, contact support.\n              </v-alert>\n            </div>\n            <div v-else-if=\"output.compile\">\n              <v-alert v-if=\"output.compile.exitCode != 0\" type=\"error\">\n                Your code did not compile succesfully. Please review the following error output.\n              </v-alert>\n              <v-alert v-else-if=\"output.compile.stdOut.length\" type=\"warning\">\n                Your code compiled succesfully, but there were warnings. Please review them.\n              </v-alert>\n              <v-alert v-else type=\"info\"> \n                Your code compiled succesfully.\n              </v-alert>\n              <div>\n                <code v-if=\"output.compile.stdOut\" class=\"pre-output\"><pre>{{output.compile.stdOut}}</pre></code>\n              </div>\n            </div>\n            <div v-if=\"output.run\">\n              <v-alert v-if=\"output.run.timeout\" type=\"error\">\n                Your program exceeded the time limit of {{output.run.timeLimit}} seconds.\n                Make sure there are no infinite loops in your code.\n              </v-alert>\n              <v-alert v-else-if=\"output.run.exitCode != 0 || output.run.stdErr\" type=\"warning\">\n                Your program finished execution, but did not exit normally.\n                Review the error output if available.\n              </v-alert>\n              <v-alert v-else type=\"success\">\n                Your program finished exectution normally.\n              </v-alert>\n              <div v-if=\"output.run.stdErr\">\n                The following errors were reported while running your code:\n                <code class=\"pre-output\"><pre>{{output.run.stdErr}}</pre></code>\n                <v-divider></v-divider>\n              </div>\n              <div>The output of your code was as follows:</div>\n              <code class=\"pre-output\"><pre>{{output.run.stdOut}}</pre></code>\n            </div>\n          </div>\n        </v-container>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn v-if=\"runStep==1\" @click=\"next()\" color=\"primary\">Next</v-btn>\n        <v-btn v-if=\"runStep==3\" @click=\"cancel(true)\" color=\"primary\">Restart</v-btn>\n        <v-btn v-if=\"runStep==3\" @click=\"cancel(false)\" color=\"error\">Cancel</v-btn>\n        <v-btn v-if=\"runStep==4\" @click=\"openRunDialog()\" color=\"primary\">Restart</v-btn>\n        <v-btn v-if=\"runStep==2\" @click=\"run()\" color=\"primary\">Run</v-btn>\n        <v-btn v-if=\"runStep==2\" @click=\"back()\" color=\"error\">Back</v-btn>\n        <v-btn :disabled=\"running\" @click=\"runDialog = false\" color=\"secondary\">Close</v-btn>          \n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport Axios from 'axios';\n\nconst timeoutAfter = 15000;\n\nexport default {\n  name: 'EditorRunDialog',\n  props: [\n    'question',\n    'code'\n  ],\n  data: () => ({\n    runDialog: false,\n    runStep: 1,\n    runError: null,\n    currentTab: 0,\n    running: false,\n    output: '',\n    customInput: '',\n    emptyResponse: false,\n    performCustom: false,\n    cancelToken: null,\n    timeout: null,\n    timeoutPopup: false,\n    currentId: 0\n  }),\n  methods: {\n    post: function(data) {\n      return Axios.post(this.question.runUrl, JSON.stringify(data));\n    },\n    openRunDialog() {\n      this.runError = null;\n      this.output = '';\n      this.runStep = 1;\n      this.running = false;\n      this.runDialog = true;\n      this.cancelToken = null;\n      this.stopTimeout();\n      this.currentId++;\n    },\n    back() {\n      this.runStep -= 1;\n    },\n    next() {\n      this.runStep += 1;\n    },\n    stopTimeout() {\n      this.timeoutPopup = false;\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n      }\n    },\n    triggerTimeout() {\n      this.timeoutPopup = true;\n    },\n    runSuccesful(data, id) {\n      if (this.currentId == id) {\n        this.emptyResponse = Object.keys(data).length === 0 && data.constructor === Object;\n        this.running = false;\n        this.output = data;\n        this.runStep = 4;\n      }\n      this.stopTimeout();\n    },\n    runWithError(err, id) {\n      if (this.currentId == id) {\n        this.running = false;\n        this.runStep = 4;\n        this.runError = err;\n      }\n    },\n    run() {\n      this.runStep = 3;\n      this.running = true;\n      this.output = '';\n      let data = {\n        mainClass: this.question.mainClass,\n        sources: [\n          {filename: this.question.filename,\n           content: this.code}\n        ],\n        stdIn: this.getInput(),\n        token: this.question.runToken\n      };\n      const id = this.currentId;\n      this.post(data)\n          .then(resp => {\n            this.runSuccesful(resp.data, id);\n          })\n          .catch(err => {\n            this.runWithError(err, id);\n          });\n      this.timeout = setTimeout(this.triggerTimeout, timeoutAfter);\n    },\n    cancel(restart) {\n      this.stopTimeout();\n      if (this.cancelToken) {\n        this.cancelToken.cancel('The request was cancelled by the user');\n        this.cancelToken = null;\n      }\n      if (restart) {\n        this.openRunDialog();\n      }\n      else {\n        this.runDialog = false;\n      }\n    },\n    getInput() {\n      if (!this.question.allowCustomTest && this.question.testCases.length == 0) {\n        return '';\n      }\n      if (this.runCustom) {\n        return this.customInput;\n      }\n      return this.question.testCases[this.currentTab];\n    }\n  },\n  computed: {\n    runCustom() {\n      return this.question.allowCustomTest &&\n        (this.question.testCases.length == 0 || this.performCustom);\n    },\n    runPredefined() {\n      return this.question.testCases.length > 0 &&\n        (!this.question.allowCustomTest || !this.performCustom);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.pre-output {\n  width: 100%;\n  color: black !important;\n}\n\ncode.pre-output::before {\n  content: \"\" !important;\n  display: none;\n}\n\ncode.pre-output::after {\n  display: none;\n}\n\n.input-textarea{\n  font-family: Consolas, \"Courier New\", monospace;\n  font-weight: normal;\n  font-size: 14px;\n  font-feature-settings: \"liga\" 0, \"calt\" 0;\n  line-height: 19px;\n  letter-spacing: 0px;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorRunDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorRunDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditorRunDialog.vue?vue&type=template&id=18a98f9e&scoped=true\"\nimport script from \"./EditorRunDialog.vue?vue&type=script&lang=js\"\nexport * from \"./EditorRunDialog.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditorRunDialog.vue?vue&type=style&index=0&id=18a98f9e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18a98f9e\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <div class=\"question-container\">\n    <div class=\"question-editor\">\n        <MonacoEditor class=\"editor\" v-model=\"code\" :language=\"question.lang\"\n        ref=\"editor\" :options=\"editorOptions\"/>\n    </div>\n    <div class=\"rhs\">\n      <div class=\"question-instruction\">\n          <MarkdownDisplay class=\"question-text\" :source=\"question.description\" />\n      </div>\n      <div class=\"question-toolbar\">\n        <v-btn @click.stop=\"$refs.runDialog.openRunDialog()\" v-if=\"question.runUrl && !perusal\">\n          <v-icon>mdi-play</v-icon>\n          Run\n        </v-btn>\n        <v-btn @click.stop=\"$refs.resetDialog.show()\" v-if=\"!perusal\">\n          <v-icon>mdi-replay</v-icon>\n          Reset\n        </v-btn>\n        <v-btn :href=\"question.referenceUrl\" target=\"_blank\" v-if=\"question.referenceUrl\">\n          <v-icon>mdi-book-open</v-icon>\n          References\n        </v-btn>\n      </div>\n    </div>\n    <EditorRunDialog :code=\"code\" :question=\"question\" ref=\"runDialog\">\n    </EditorRunDialog>\n\n    <ConfirmDialog ref=\"resetDialog\" title=\"Reset your code\" type=\"warning\"\n    text=\"This will delete your current work on this question and reset the code to the default. Use CTRL+Z to undo your last edits.\"\n    :confirm=\"() => this.code = this.question.defaultAnswer\" width=\"60em\">\n    </ConfirmDialog>\n  </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex';\nimport MonacoEditor from 'vue-monaco';\n//import VueMarkdownPlus from 'vue-markdown-plus';\nimport MarkdownDisplay from '@/components/util/MarkdownDisplay';\nimport EditorRunDialog from './EditorRunDialog';\nimport ConfirmDialog from '@/components/util/ConfirmDialog';\n\nexport default {\n  name: 'CodingQuestion',\n  props: [\n    'question', 'focused', 'inputAnswer'\n  ],\n  components: {\n    MonacoEditor,\n    //VueMarkdownPlus,\n    MarkdownDisplay,\n    EditorRunDialog,\n    ConfirmDialog\n  },\n\n  methods: {\n    resize() {\n      // TODO: this is a way to deal with a resizing bug in Monaco 0.20\n      // Perhaps this can be removed in the future\n      // See: https://github.com/microsoft/monaco-editor/issues/1878\n      const editor = this.$refs.editor.getEditor();\n      // First shrink to an empty editor, then layout automatically\n      editor.layout({width: 0, height: 0});\n      editor.layout();\n    }\n  },\n  watch: {\n    code(val,oldVal) {\n      if (val != oldVal) {\n        this.$emit('input', val);\n      }\n    },\n    focused(v) {\n      if (v) {\n        this.resize();\n      }\n    },\n    perusal(newVal) {\n      this.editorOptions.readOnly = newVal;\n    }\n  },\n  created() {\n    // TODO: get rid of this when the question becomes a prop\n    if (this.inputAnswer) {\n      this.code = this.inputAnswer;\n    }\n    else if (this.question.defaultCode) {\n      this.code = this.question.defaultCode;\n    } else if (this.question.defaultAnswer) {\n      this.code = this.question.defaultAnswer;\n    }\n    window.addEventListener(\"resize\", this.resize);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.resize);\n  },\n  data: () => ({\n    code: \"\",\n    editorOptionsBase: {\n      scrollBeyondLastLine: false,\n      minimap: {\n        enabled: false\n      },\n    }\n  }),\n  computed: {\n    editorOptions() {\n      return {...this.editorOptionsBase, readOnly: this.perusal}\n    },\n    ...mapState(['perusal'])\n  },\n  /*\n  computed: {\n    question() {\n      return {\n        description: '# This is a question\\n\\nHello, this is some code\\n```java\\n\\nSystem.out.println(\"Hoi\");\\nfor (int k=0; k < 3; k++) {}\\n```\\n\\nCool toch?\\n',\n        filename: 'Test.java',\n        defaultCode: 'public class Test {\\n\\tpublic static void main(String [] args) {\\n\\t\\tSystem.out.println(\"Hello, world!\");\\n\\t}\\n}',\n        lang: 'java',\n        runUrl: 'http://localhost:8081/api/compileAndRun',\n        runToken: '',\n        mainClass: 'Test',\n        testCases: ['Some test', 'Some other test'],\n        allowCustomTest: true\n      }\n    }\n  }\n  */\n};\n</script>\n\n<style scoped>\n.editor {\n  width: 100%;\n  height: 100%;\n}\n.instructions {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.question-container {\n  height: calc(100vh - 120px);\n  display: flex;\n  flex-direction: row;\n}\n\n.question-editor {\n  /*flex-grow: 1;*/\n  min-width: 55%;\n  /*\n  overflow: hidden;\n  resize: horizontal;\n  */\n}\n\n.question-instruction {\n  overflow-y: scroll;\n  flex-grow: 1;\n  padding-left: 0.5em;\n}\n\n.question-toolbar {\n  flex-grow: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 9px;\n}\n\n.rhs {\n  padding-left: 0.8em;\n  border-left: solid 1px black;\n  min-width: 15em;\n  /*max-width: 50em*/\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n\n/*\n\n// This is the css grid approach\n\n.question-container {\n  height: calc(100vh - 120px);\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 40em;\n  grid-template-rows: auto 5em;\n  grid-template-areas:\n     \"editor instruction\"\n     \"editor toolbar\";\n}\n\n.question-editor {\n  grid-area: editor;\n}\n\n.question-instruction {\n  grid-area: instruction;\n  overflow-y: scroll;\n}\n\n.question-toolbar {\n  grid-area: toolbar;\n}\n\n*/\n\n</style>\n\n<style>\n.question-text pre code {\n  color: black;\n  width: 100%;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodingQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodingQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CodingQuestion.vue?vue&type=template&id=1ed96f2e&scoped=true\"\nimport script from \"./CodingQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./CodingQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./CodingQuestion.vue?vue&type=style&index=0&id=1ed96f2e&prod&scoped=true&lang=css\"\nimport style1 from \"./CodingQuestion.vue?vue&type=style&index=1&id=1ed96f2e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ed96f2e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{attrs:{\"model\":\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-select',{attrs:{\"label\":\"Language\",\"items\":_vm.languages,\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.lang),callback:function ($$v) {_vm.$set(_vm.value, \"lang\", $$v)},expression:\"value.lang\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Filename\",\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.filename),callback:function ($$v) {_vm.$set(_vm.value, \"filename\", $$v)},expression:\"value.filename\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Reference URL\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.referenceUrl),callback:function ($$v) {_vm.$set(_vm.value, \"referenceUrl\", $$v)},expression:\"value.referenceUrl\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{attrs:{\"rows\":\"6\",\"label\":\"Default answer\",\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.defaultAnswer),callback:function ($$v) {_vm.$set(_vm.value, \"defaultAnswer\", $$v)},expression:\"value.defaultAnswer\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-subheader',[_vm._v(\"Runtime Configuration\")]),_c('v-divider')],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Runner URL\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.runUrl),callback:function ($$v) {_vm.$set(_vm.value, \"runUrl\", $$v)},expression:\"value.runUrl\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Runner Token\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.runToken),callback:function ($$v) {_vm.$set(_vm.value, \"runToken\", $$v)},expression:\"value.runToken\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-textarea',{attrs:{\"rows\":\"6\",\"label\":\"Testcases (as json)\",\"value\":_vm.testCasesString,\"required\":\"\"},on:{\"input\":_vm.updateTestCases}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Main class\",\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.mainClass),callback:function ($$v) {_vm.$set(_vm.value, \"mainClass\", $$v)},expression:\"value.mainClass\"}}),_c('br'),_c('v-select',{attrs:{\"label\":\"Allow custom test?\",\"items\":[true, false]},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.allowCustomTest),callback:function ($$v) {_vm.$set(_vm.value, \"allowCustomTest\", $$v)},expression:\"value.allowCustomTest\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <v-form model=\"valid\">\n    <v-container>\n      <v-row>\n        <v-col cols=\"6\">\n          <v-select label=\"Language\" :items=\"languages\" v-model=\"value.lang\" required @input=\"valueChanged\" />\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Filename\" v-model=\"value.filename\" required @input=\"valueChanged\"/>\n        </v-col>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Reference URL\" v-model=\"value.referenceUrl\" @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\">\n          <v-textarea rows=\"6\" label=\"Default answer\" v-model=\"value.defaultAnswer\" required @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\">\n        <v-subheader>Runtime Configuration</v-subheader>\n        <v-divider />\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Runner URL\" v-model=\"value.runUrl\" @input=\"valueChanged\"/>\n        </v-col>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Runner Token\" v-model=\"value.runToken\" @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"6\">\n          <!-- TODO: this should be something more clever like a list editor -->\n          <v-textarea rows=\"6\" label=\"Testcases (as json)\" :value=\"testCasesString\" required @input=\"updateTestCases\"/>\n        </v-col>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Main class\" v-model=\"value.mainClass\" required @input=\"valueChanged\"/>\n          <br />\n          <v-select label=\"Allow custom test?\" :items=\"[true, false]\" \n            v-model=\"value.allowCustomTest\" @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-form>\n</template>\n\n<script>\n\nconst LANGUAGES = ['c', 'cpp', 'csharp', 'css', 'html', 'java', 'javascript',\n                   'julia', 'kotlin', 'markdown', 'pascal', 'python', 'r',\n                   'ruby', 'rust', 'scala', 'sql', 'typescript', 'xml'];\n\nexport default {\n  name: 'EditCodingQuestion',\n  props: [\n    'value', 'focused'\n  ],\n  data: () => ({\n    languages: LANGUAGES\n  }),\n  methods: {\n    valueChanged() {\n      this.$emit('input', this.value);\n    },\n    updateTestCases(value) {\n      try {\n        this.value.testCases = JSON.parse(value);\n        this.$emit('input', this.value);\n      }\n      catch (err) {\n        // TODO: do something with this error?\n      }\n    }\n  },\n  computed: {\n    testCasesString() {\n      return JSON.stringify(this.value.testCases);\n    }\n  },\n};\n</script>\n\n<style scoped>\n.editor {\n  width: 100%;\n  height: 100%;\n}\n.instructions {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.question-text {\n  flex-grow: 1;\n  overflow-y: auto;\n}\n</style>\n\n<style>\n.question-text pre code {\n  color: black;\n  width: 100%;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCodingQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCodingQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditCodingQuestion.vue?vue&type=template&id=14c73b06&scoped=true\"\nimport script from \"./EditCodingQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./EditCodingQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditCodingQuestion.vue?vue&type=style&index=0&id=14c73b06&prod&scoped=true&lang=css\"\nimport style1 from \"./EditCodingQuestion.vue?vue&type=style&index=1&id=14c73b06&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14c73b06\",\n  null\n  \n)\n\nexport default component.exports","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport CodingQuestion from './CodingQuestion';\nimport EditCodingQuestion from './EditCodingQuestion';\n\nfunction initialize(newQuestion) {\n    return {...newQuestion,\n            lang: 'java',\n            filename: 'Main.java',\n            mainClass: 'Main',\n            defaultAnswer: 'import java.util.Scanner;\\n\\npublic class Main {\\n\\n\\tpublic static void main(String [] args) {\\n\\n\\t}\\n}\\n',\n            runUrl: '',\n            runToken: '',\n            testCases: [],\n            allowCustomTest: true,\n            referenceUrl: 'https://docs.oracle.com/javase/8/docs/api/index.html'\n    };\n}\n\nfunction exportAnswer(question, answer) {\n    return new Promise((resolve, reject) => {\n        try {\n            const config = question.exportConfig;\n            if (config.type == 'file') {\n                resolve({ type: 'file', filename: config.filename, contentType: 'text', content: answer});\n            }\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n\nexport default {\n    description: 'Single file coding exercise with the Monaco Editor',\n    view: CodingQuestion,\n    edit: EditCodingQuestion,\n    initialize,\n    exportAnswer,\n    defaultExtension: '.java',\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"question-container\"},[_c('div',{staticClass:\"question-editor\"},[_c('v-tabs',{staticClass:\"question-tabs\",model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},_vm._l((_vm.question.files),function(file,index){return _c('v-tab',{key:'file-'+index,staticClass:\"question-tab\"},[_vm._v(\" \"+_vm._s(file.filename)+\" \"),(file.readOnly)?_c('v-icon',{attrs:{\"dense\":\"\"}},[_vm._v(\"mdi-lock-outline\")]):_vm._e()],1)}),1),_vm._l((_vm.question.files),function(file,index){return _c('MonacoEditor',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentTab == index),expression:\"currentTab == index\"}],key:'file-editor'+index,ref:\"editor\",refInFor:true,staticClass:\"editor\",attrs:{\"language\":_vm.question.lang,\"options\":_vm.editorOptions[index]},on:{\"change\":_vm.codeChanged},model:{value:(_vm.code[file.filename]),callback:function ($$v) {_vm.$set(_vm.code, file.filename, $$v)},expression:\"code[file.filename]\"}})})],2),_c('div',{staticClass:\"rhs\"},[_c('div',{staticClass:\"question-instruction\"},[_c('MarkdownDisplay',{staticClass:\"question-text\",attrs:{\"source\":_vm.question.description}})],1),_c('div',{staticClass:\"question-toolbar\"},[(_vm.question.runUrl)?_c('v-btn',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.runDialog.openRunDialog()}}},[_c('v-icon',[_vm._v(\"mdi-play\")]),_vm._v(\" Run \")],1):_vm._e(),(!_vm.perusal)?_c('v-btn',{on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.resetDialog.show()}}},[_c('v-icon',[_vm._v(\"mdi-replay\")]),_vm._v(\" Reset \")],1):_vm._e(),(_vm.question.referenceUrl)?_c('v-btn',{attrs:{\"href\":_vm.question.referenceUrl,\"target\":\"_blank\"}},[_c('v-icon',[_vm._v(\"mdi-book-open\")]),_vm._v(\" References \")],1):_vm._e()],1)]),_c('EditorMultiRunDialog',{ref:\"runDialog\",attrs:{\"code\":_vm.code,\"question\":_vm.question}}),_c('ConfirmDialog',{ref:\"resetDialog\",attrs:{\"title\":\"Reset your code\",\"type\":\"warning\",\"text\":\"This will delete your current work on (one or all files of) this question and reset the code to the default. Use CTRL+Z if you only want to undo your last edits.\",\"buttons\":_vm.resetButtons,\"width\":\"60em\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"width\":\"80em\",\"scrollable\":\"\",\"persistent\":\"\"},model:{value:(_vm.runDialog),callback:function ($$v) {_vm.runDialog=$$v},expression:\"runDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_vm._v(\" Run your code \")]),_c('v-card-text',[_c('v-stepper',{model:{value:(_vm.runStep),callback:function ($$v) {_vm.runStep=$$v},expression:\"runStep\"}},[_c('v-stepper-header',[_c('v-stepper-step',{attrs:{\"step\":\"1\"}},[_vm._v(\"Choose input type\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"2\"}},[_vm._v(\"Define program input\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"3\"}},[_vm._v(\"Compiling and Running Your Program\")]),_c('v-divider'),_c('v-stepper-step',{attrs:{\"step\":\"4\"}},[_vm._v(\"Result and Output\")])],1)],1),_c('br'),_c('v-container',[(_vm.runStep==1)?_c('div',[(_vm.question.allowCustomTest && _vm.question.testCases.length > 0)?_c('div',[_c('div',[_vm._v(\"Select the kind of input that will be send to your program during execution:\")]),_c('br'),_c('v-radio-group',{model:{value:(_vm.performCustom),callback:function ($$v) {_vm.performCustom=$$v},expression:\"performCustom\"}},[_c('v-radio',{attrs:{\"label\":\"Select a predefined test case\",\"value\":false}}),_c('v-radio',{attrs:{\"label\":\"Define your own input in a textfield\",\"value\":true}})],1)],1):(_vm.question.allowCustomTest)?_c('div',[_vm._v(\" Your program can only be executed with custom input. \")]):(_vm.question.testCases.length > 0)?_c('div',[_vm._v(\" Your program can only be executed with predefined testcases. \")]):_c('div',[_vm._v(\" This question does not allow you to define any input. \")])]):_vm._e(),(_vm.runStep==2)?_c('div',[(_vm.runPredefined)?_c('div',[_c('div',[_vm._v(\"Select the standard input that will be send to your program during execution:\")]),_c('br'),_c('v-tabs',{model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[_vm._l((_vm.question.testCases.length),function(i){return _c('v-tab',{key:'tab-'+i},[_vm._v(\"Testcase \"+_vm._s(i))])}),_vm._l((_vm.question.testCases.length),function(i){return _c('v-tab-item',{key:'tab-item-'+i},[_c('div',[_vm._v(\"Your code will be executed with the following input\")]),_c('br'),_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.question.testCases[i-1]))])])])})],2)],1):(_vm.runCustom)?_c('div',[_c('div',[_vm._v(\"Provide the standard input that will be send to your program during execution:\")]),_c('br'),_c('v-textarea',{staticClass:\"input-textarea\",attrs:{\"placeholder\":\"Type your input here\",\"rows\":5},model:{value:(_vm.customInput),callback:function ($$v) {_vm.customInput=$$v},expression:\"customInput\"}})],1):_c('div',[_vm._v(\" Your program will be executed without any input. \")])]):_vm._e(),(_vm.runStep==3)?_c('div',[_c('div',[_vm._v(\"Compiling and running your program\")]),_c('v-progress-circular',{attrs:{\"indeterminate\":\"\"}}),(_vm.timeoutPopup)?_c('v-alert',{attrs:{\"type\":\"warning\"}},[_vm._v(\" This seems to take rather long. Try restarting the run action, and if the problem persists contact support. \")]):_vm._e()],1):_vm._e(),(_vm.runStep==4)?_c('div',[(_vm.runError)?_c('div',[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" An unexpected error occurred while running your code. \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.runError.name)+\" : \"+_vm._s(_vm.runError.message)+\". \"),_c('br'),_vm._v(\" Try again and contact support if the problem persists. \")])],1):(_vm.emptyResponse)?_c('div',[_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" The result of the execution was empty. \"),_c('br'),_vm._v(\" This should not happen. \"),_c('br'),_vm._v(\" Try again and if the problem persists, contact support. \")])],1):(_vm.output.compile)?_c('div',[(_vm.output.compile.exitCode != 0)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Your code did not compile succesfully. Please review the following error output. \")]):(_vm.output.compile.stdOut.length)?_c('v-alert',{attrs:{\"type\":\"warning\"}},[_vm._v(\" Your code compiled succesfully, but there were warnings. Please review them. \")]):_c('v-alert',{attrs:{\"type\":\"info\"}},[_vm._v(\" Your code compiled succesfully. \")]),_c('div',[(_vm.output.compile.stdOut)?_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.output.compile.stdOut))])]):_vm._e()])],1):_vm._e(),(_vm.output.run)?_c('div',[(_vm.output.run.timeout)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" Your program exceeded the time limit of \"+_vm._s(_vm.output.run.timeLimit)+\" seconds. Make sure there are no infinite loops in your code. \")]):(_vm.output.run.exitCode != 0 || _vm.output.run.stdErr)?_c('v-alert',{attrs:{\"type\":\"warning\"}},[_vm._v(\" Your program finished execution, but did not exit normally. Review the error output if available. \")]):_c('v-alert',{attrs:{\"type\":\"success\"}},[_vm._v(\" Your program finished exectution normally. \")]),(_vm.output.run.stdErr)?_c('div',[_vm._v(\" The following errors were reported while running your code: \"),_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.output.run.stdErr))])]),_c('v-divider')],1):_vm._e(),_c('div',[_vm._v(\"The output of your code was as follows:\")]),_c('code',{staticClass:\"pre-output\"},[_c('pre',[_vm._v(_vm._s(_vm.output.run.stdOut))])])],1):_vm._e()]):_vm._e()])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.runStep==1)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.next()}}},[_vm._v(\"Next\")]):_vm._e(),(_vm.runStep==3)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.cancel(true)}}},[_vm._v(\"Restart\")]):_vm._e(),(_vm.runStep==3)?_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.cancel(false)}}},[_vm._v(\"Cancel\")]):_vm._e(),(_vm.runStep==4)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openRunDialog()}}},[_vm._v(\"Restart\")]):_vm._e(),(_vm.runStep==2)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.run()}}},[_vm._v(\"Run\")]):_vm._e(),(_vm.runStep==2)?_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\"Back\")]):_vm._e(),_c('v-btn',{attrs:{\"disabled\":_vm.running,\"color\":\"secondary\"},on:{\"click\":function($event){_vm.runDialog = false}}},[_vm._v(\"Close\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <v-dialog width=\"80em\" v-model=\"runDialog\" scrollable persistent>\n    <v-card>\n      <v-card-title class=\"headline\" primary-title>\n        Run your code\n      </v-card-title>\n      <v-card-text>\n        <v-stepper v-model=\"runStep\">\n          <v-stepper-header>\n            <v-stepper-step step=\"1\">Choose input type</v-stepper-step>\n            <v-divider></v-divider>\n            <v-stepper-step step=\"2\">Define program input</v-stepper-step>\n            <v-divider></v-divider>\n            <v-stepper-step step=\"3\">Compiling and Running Your Program</v-stepper-step>\n            <v-divider></v-divider>\n            <v-stepper-step step=\"4\">Result and Output</v-stepper-step>\n          </v-stepper-header>\n        </v-stepper>\n        <br />\n        <v-container>\n          <div v-if=\"runStep==1\">\n            <div v-if=\"question.allowCustomTest && question.testCases.length > 0\">\n              <div>Select the kind of input that will be send to your program during execution:</div>\n              <br />\n              <v-radio-group v-model=\"performCustom\">\n                <v-radio label=\"Select a predefined test case\" :value=\"false\" />\n                <v-radio label=\"Define your own input in a textfield\" :value=\"true\" />\n              </v-radio-group>\n            </div>\n            <div v-else-if=\"question.allowCustomTest\">\n              Your program can only be executed with custom input.\n            </div>\n            <div v-else-if=\"question.testCases.length > 0\">\n              Your program can only be executed with predefined testcases.\n            </div>          \n            <div v-else>\n              This question does not allow you to define any input.\n            </div>\n          </div>\n          <div v-if=\"runStep==2\">\n            <div v-if=\"runPredefined\">\n              <div>Select the standard input that will be send to your program during execution:</div>\n              <br />\n              <v-tabs v-model=\"currentTab\">\n                <v-tab v-for=\"i in question.testCases.length\" :key=\"'tab-'+i\">Testcase {{i}}</v-tab>\n                <v-tab-item v-for=\"i in question.testCases.length\" :key=\"'tab-item-'+i\">\n                  <div>Your code will be executed with the following input</div>\n                  <br />\n                  <code class=\"pre-output\"><pre>{{question.testCases[i-1]}}</pre></code>\n                </v-tab-item>\n              </v-tabs>\n            </div>\n            <div v-else-if=\"runCustom\">\n              <div>Provide the standard input that will be send to your program during execution:</div>\n              <br />\n              <v-textarea class=\"input-textarea\" v-model=\"customInput\"\n              placeholder=\"Type your input here\" :rows=\"5\">\n              </v-textarea>\n            </div>\n            <div v-else>\n              Your program will be executed without any input.\n            </div>\n          </div>\n          <div v-if=\"runStep==3\">\n            <div>Compiling and running your program</div>\n            <v-progress-circular indeterminate></v-progress-circular>\n            <v-alert type=\"warning\" v-if=\"timeoutPopup\">\n              This seems to take rather long. Try restarting the run action,\n              and if the problem persists contact support.\n            </v-alert>\n          </div>\n          <div v-if=\"runStep==4\">\n            <div v-if=\"runError\">\n              <v-alert type=\"error\">\n                An unexpected error occurred while running your code.\n                <br />\n                {{runError.name}} : {{runError.message}}.\n                <br />\n                Try again and contact support if the problem persists.\n              </v-alert>\n            </div>\n            <div v-else-if=\"emptyResponse\">\n              <v-alert type=\"error\">\n                The result of the execution was empty.\n                <br />\n                This should not happen.\n                <br />\n                Try again and if the problem persists, contact support.\n              </v-alert>\n            </div>\n            <div v-else-if=\"output.compile\">\n              <v-alert v-if=\"output.compile.exitCode != 0\" type=\"error\">\n                Your code did not compile succesfully. Please review the following error output.\n              </v-alert>\n              <v-alert v-else-if=\"output.compile.stdOut.length\" type=\"warning\">\n                Your code compiled succesfully, but there were warnings. Please review them.\n              </v-alert>\n              <v-alert v-else type=\"info\"> \n                Your code compiled succesfully.\n              </v-alert>\n              <div>\n                <code v-if=\"output.compile.stdOut\" class=\"pre-output\"><pre>{{output.compile.stdOut}}</pre></code>\n              </div>\n            </div>\n            <div v-if=\"output.run\">\n              <v-alert v-if=\"output.run.timeout\" type=\"error\">\n                Your program exceeded the time limit of {{output.run.timeLimit}} seconds.\n                Make sure there are no infinite loops in your code.\n              </v-alert>\n              <v-alert v-else-if=\"output.run.exitCode != 0 || output.run.stdErr\" type=\"warning\">\n                Your program finished execution, but did not exit normally.\n                Review the error output if available.\n              </v-alert>\n              <v-alert v-else type=\"success\">\n                Your program finished exectution normally.\n              </v-alert>\n              <div v-if=\"output.run.stdErr\">\n                The following errors were reported while running your code:\n                <code class=\"pre-output\"><pre>{{output.run.stdErr}}</pre></code>\n                <v-divider></v-divider>\n              </div>\n              <div>The output of your code was as follows:</div>\n              <code class=\"pre-output\"><pre>{{output.run.stdOut}}</pre></code>\n            </div>\n          </div>\n        </v-container>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn v-if=\"runStep==1\" @click=\"next()\" color=\"primary\">Next</v-btn>\n        <v-btn v-if=\"runStep==3\" @click=\"cancel(true)\" color=\"primary\">Restart</v-btn>\n        <v-btn v-if=\"runStep==3\" @click=\"cancel(false)\" color=\"error\">Cancel</v-btn>\n        <v-btn v-if=\"runStep==4\" @click=\"openRunDialog()\" color=\"primary\">Restart</v-btn>\n        <v-btn v-if=\"runStep==2\" @click=\"run()\" color=\"primary\">Run</v-btn>\n        <v-btn v-if=\"runStep==2\" @click=\"back()\" color=\"error\">Back</v-btn>\n        <v-btn :disabled=\"running\" @click=\"runDialog = false\" color=\"secondary\">Close</v-btn>          \n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport Axios from 'axios';\n\nconst timeoutAfter = 15000;\n\nexport default {\n  name: 'EditorMultiRunDialog',\n  props: [\n    'question',\n    'code'\n  ],\n  data: () => ({\n    runDialog: false,\n    runStep: 1,\n    runError: null,\n    currentTab: 0,\n    running: false,\n    output: '',\n    customInput: '',\n    emptyResponse: false,\n    performCustom: false,\n    cancelToken: null,\n    timeout: null,\n    timeoutPopup: false,\n    currentId: 0\n  }),\n  methods: {\n    post: function(data) {\n      return Axios.post(this.question.runUrl, JSON.stringify(data));\n    },\n    openRunDialog() {\n      this.runError = null;\n      this.output = '';\n      this.runStep = 1;\n      this.runDialog = true;\n      this.cancelToken = null;\n      this.stopTimeout();\n      this.currentId++;\n      this.running = false;\n    },\n    next() {\n      this.runStep += 1;\n    },\n    back() {\n      this.runStep -= 1;\n    },\n    stopTimeout() {\n      this.timeoutPopup = false;\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n      }\n    },\n    triggerTimeout() {\n      this.timeoutPopup = true;\n    },\n    runSuccesful(data, id) {\n      if (this.currentId == id) {\n        this.emptyResponse = Object.keys(data).length === 0 && data.constructor === Object;\n        this.running = false;\n        this.output = data;\n        this.runStep = 4;\n      }\n      this.stopTimeout();\n    },\n    runWithError(err, id) {\n      if (this.currentId == id) {\n        this.running = false;\n        this.runStep = 4;\n        this.runError = err;\n      }\n    },\n    run() {\n      this.runStep = 3;\n      this.running = true;\n      this.output = '';\n      console.log(this.question.files);\n      console.log(this.code);\n      let data = {\n        mainClass: this.question.mainClass,\n        sources: this.question.files.map((f) => ({filename: f.filename, content: this.code[f.filename]})),\n        stdIn: this.getInput(),\n        token: this.question.runToken\n      };\n      const id = this.currentId;\n      this.post(data)\n          .then(resp => {\n            this.runSuccesful(resp.data, id);\n          })\n          .catch(err => {\n            this.runWithError(err, id);\n          });\n      this.timeout = setTimeout(this.triggerTimeout, timeoutAfter);\n    },\n    cancel(restart) {\n      this.stopTimeout();\n      if (this.cancelToken) {\n        this.cancelToken.cancel('The request was cancelled by the user');\n        this.cancelToken = null;\n      }\n      if (restart) {\n        this.openRunDialog();\n      }\n      else {\n        this.runDialog = false;\n      }\n    },\n    getInput() {\n      if (!this.question.allowCustomTest && this.question.testCases.length == 0) {\n        return '';\n      }\n      if (this.runCustom) {\n        return this.customInput;\n      }\n      return this.question.testCases[this.currentTab];\n    }\n  },\n  computed: {\n    runCustom() {\n      return this.question.allowCustomTest &&\n        (this.question.testCases.length == 0 || this.performCustom);\n    },\n    runPredefined() {\n      return this.question.testCases.length > 0 &&\n        (!this.question.allowCustomTest || !this.performCustom);\n    }\n  }\n};\n</script>\n\n<style scoped>\n.pre-output {\n  width: 100%;\n  color: black !important;\n}\n\ncode.pre-output::before {\n  content: \"\" !important;\n  display: none;\n}\n\ncode.pre-output::after {\n  display: none;\n}\n\n.input-textarea{\n  font-family: Consolas, \"Courier New\", monospace;\n  font-weight: normal;\n  font-size: 14px;\n  font-feature-settings: \"liga\" 0, \"calt\" 0;\n  line-height: 19px;\n  letter-spacing: 0px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMultiRunDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMultiRunDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditorMultiRunDialog.vue?vue&type=template&id=161e8d97&scoped=true\"\nimport script from \"./EditorMultiRunDialog.vue?vue&type=script&lang=js\"\nexport * from \"./EditorMultiRunDialog.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditorMultiRunDialog.vue?vue&type=style&index=0&id=161e8d97&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"161e8d97\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <div class=\"question-container\">\n    <div class=\"question-editor\">\n      <v-tabs v-model=\"currentTab\" class=\"question-tabs\">\n        <v-tab v-for=\"(file, index) in question.files\" :key=\"'file-'+index\" class=\"question-tab\">\n          {{file.filename}}\n          <v-icon v-if=\"file.readOnly\" dense>mdi-lock-outline</v-icon>\n        </v-tab>\n      </v-tabs>\n      <MonacoEditor v-for=\"(file,index) in question.files\" :key=\"'file-editor'+index\"\n                    class=\"editor\" v-model=\"code[file.filename]\" :language=\"question.lang\"\n                    ref=\"editor\" :options=\"editorOptions[index]\" v-show=\"currentTab == index\"\n                    @change=\"codeChanged\"/>\n    </div>\n    <div class=\"rhs\">\n      <div class=\"question-instruction\">\n          <MarkdownDisplay class=\"question-text\" :source=\"question.description\" />\n      </div>\n      <div class=\"question-toolbar\">\n        <v-btn @click.stop=\"$refs.runDialog.openRunDialog()\" v-if=\"question.runUrl\">\n          <v-icon>mdi-play</v-icon>\n          Run\n        </v-btn>\n        <v-btn @click.stop=\"$refs.resetDialog.show()\" v-if=\"!perusal\">\n          <v-icon>mdi-replay</v-icon>\n          Reset\n        </v-btn>\n        <v-btn :href=\"question.referenceUrl\" target=\"_blank\" v-if=\"question.referenceUrl\">\n          <v-icon>mdi-book-open</v-icon>\n          References\n        </v-btn>\n      </div>\n    </div>\n    <EditorMultiRunDialog :code=\"code\" :question=\"question\" ref=\"runDialog\">\n    </EditorMultiRunDialog>\n\n    <ConfirmDialog ref=\"resetDialog\" title=\"Reset your code\" type=\"warning\"\n    text=\"This will delete your current work on (one or all files of) this question and reset the code to the default. Use CTRL+Z if you only want to undo your last edits.\"\n    :buttons=\"resetButtons\" width=\"60em\">\n    </ConfirmDialog>\n  </div>\n</template>\n\n<script>\nimport {mapState} from 'vuex';\nimport MonacoEditor from 'vue-monaco';\n//import VueMarkdownPlus from 'vue-markdown-plus';\nimport MarkdownDisplay from '@/components/util/MarkdownDisplay';\nimport EditorMultiRunDialog from './EditorMultiRunDialog';\nimport ConfirmDialog from '@/components/util/ConfirmDialog';\n\nexport default {\n  name: 'MultiCodingQuestion',\n  props: [\n    'question', 'focused', 'inputAnswer'\n  ],\n  components: {\n    MonacoEditor,\n    //VueMarkdownPlus,\n    MarkdownDisplay,\n    EditorMultiRunDialog,\n    ConfirmDialog\n  },\n  methods: {\n    resize() {\n      // TODO: this is a way to deal with a resizing bug in Monaco 0.20\n      // Perhaps this can be removed in the future\n      // See: https://github.com/microsoft/monaco-editor/issues/1878\n        // First shrink to an empty editor, then layout automatically\n      const editor = this.$refs.editor[this.currentTab].getEditor();\n      editor.layout({width: 0, height: 0});\n      editor.layout();\n    },\n    codeChanged() {\n      //const result = {};\n      //this.question.files.forEach((f,i) => result[f.filename] = this.code[i]);\n      this.$emit('input', {...this.code});\n    },\n    reset(single) {\n        if (single) {\n          const currentFile = this.question.files[this.currentTab];\n          this.$set(this.code, currentFile.filename, currentFile.content);\n        }\n        else {\n          this.question.files.forEach((f) => this.$set(this.code, f.filename, f.content));\n        }\n    }\n  },\n  watch: {\n    focused(v) {\n      if (v) {\n        this.resize();\n      }\n    },\n    currentTab() {\n      this.$nextTick(this.resize);\n    },\n  },\n  created() {\n    // TODO: get rid of this when the question becomes a prop\n    if (this.inputAnswer) {\n      this.code = this.inputAnswer;\n    }\n    else {\n      const obj = {};\n      for (let f of this.question.files) {\n        obj[f.filename] = f.content;\n      }\n      this.code = obj;\n    }\n    window.addEventListener(\"resize\", this.resize);\n  },\n  destroyed() {\n    window.removeEventListener(\"resize\", this.resize);\n  },\n  data: () => ({\n    currentTab: 0,  \n    code: [],\n    editorOptionsBase: {\n      scrollBeyondLastLine: false,\n      minimap: {\n        enabled: false\n      }\n    }\n  }),\n  computed: {\n    editorOptions() {\n      return this.question.files.map(file =>\n        ({...this.editorOptionsBase,\n          readOnly: this.perusal || file.readOnly})\n      );\n    },\n    resetButtons() {\n      return [{label: 'Yes (Current File Only)', action: () => this.reset(true), color: 'primary'},\n              {label: 'Yes (All Files)', action: () => this.reset(), color: 'primary'}\n             ];\n    },\n    ...mapState(['perusal'])\n  },\n  /*\n  computed: {\n    question() {\n      return {\n        description: '# This is a question\\n\\nHello, this is some code\\n```java\\n\\nSystem.out.println(\"Hoi\");\\nfor (int k=0; k < 3; k++) {}\\n```\\n\\nCool toch?\\n',\n        filename: 'Test.java',\n        defaultCode: 'public class Test {\\n\\tpublic static void main(String [] args) {\\n\\t\\tSystem.out.println(\"Hello, world!\");\\n\\t}\\n}',\n        lang: 'java',\n        runUrl: 'http://localhost:8081/api/compileAndRun',\n        runToken: '',\n        mainClass: 'Test',\n        testCases: ['Some test', 'Some other test'],\n        allowCustomTest: true\n      }\n    }\n  }\n  */\n};\n</script>\n\n<style scoped>\n.editor {\n  flex-grow: 1;\n  width: 100%;\n  /*height: calc(100% - 48px);*/\n}\n.instructions {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n.question-container {\n  height: calc(100vh - 120px);\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n}\n\n.question-tab {\n   text-transform: none;\n}\n\n.question-tabs {\n   flex-grow: 0;\n}\n\n.question-editor {\n  display: flex;\n  flex-direction: column;\n  /*flex-grow: 2;*/\n  min-width: 55%;\n  /*\n  overflow: hidden;\n  resize: horizontal;\n  */\n}\n\n.v-tabs {\n    flex-grow: 0;\n}\n\n.question-instruction {\n  overflow-y: scroll;\n  flex-grow: 1;\n  padding-left: 0.5em;\n}\n\n.question-toolbar {\n  flex-grow: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 9px;\n}\n\n.rhs {\n  padding-left: 0.8em;\n  border-left: solid 1px black;\n  min-width: 15em;\n  /*max-width: 50em;*/\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n\n/*\n\n// This is the css grid approach\n\n.question-container {\n  height: calc(100vh - 120px);\n  width: 100%;\n  display: grid;\n  grid-template-columns: auto 40em;\n  grid-template-rows: auto 5em;\n  grid-template-areas:\n     \"editor instruction\"\n     \"editor toolbar\";\n}\n\n.question-editor {\n  grid-area: editor;\n}\n\n.question-instruction {\n  grid-area: instruction;\n  overflow-y: scroll;\n}\n\n.question-toolbar {\n  grid-area: toolbar;\n}\n\n*/\n\n</style>\n\n<style>\n.question-text pre code {\n  color: black;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiCodingQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiCodingQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MultiCodingQuestion.vue?vue&type=template&id=e23e5894&scoped=true\"\nimport script from \"./MultiCodingQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./MultiCodingQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./MultiCodingQuestion.vue?vue&type=style&index=0&id=e23e5894&prod&scoped=true&lang=css\"\nimport style1 from \"./MultiCodingQuestion.vue?vue&type=style&index=1&id=e23e5894&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e23e5894\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-form',{attrs:{\"model\":\"valid\"}},[_c('v-container',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-select',{attrs:{\"label\":\"Language\",\"items\":_vm.languages,\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.lang),callback:function ($$v) {_vm.$set(_vm.value, \"lang\", $$v)},expression:\"value.lang\"}})],1)],1),_c('v-row',{attrs:{\"cols\":\"12\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-subheader',[_vm._v(\"Files\")]),_c('v-divider')],1)],1),_c('v-row',_vm._l((_vm.value.files),function(file,index){return _c('v-col',{key:'file-'+index},[_c('v-card',{staticStyle:{\"min-width\":\"35em\"}},[_c('v-card-text',[_c('v-text-field',{attrs:{\"label\":\"Filename\",\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(file.filename),callback:function ($$v) {_vm.$set(file, \"filename\", $$v)},expression:\"file.filename\"}}),_c('v-textarea',{attrs:{\"label\":\"Default contents\",\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(file.content),callback:function ($$v) {_vm.$set(file, \"content\", $$v)},expression:\"file.content\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.removeFile(index)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" Delete File\")],1),_c('v-switch',{staticStyle:{\"margin-left\":\"1em\"},attrs:{\"inset\":\"\",\"dense\":\"\",\"append-icon\":file.readOnly ? 'mdi-lock-outline' : 'mdi-pencil',\"label\":file.readOnly ? 'Read-Only' : 'Editable'},model:{value:(file.readOnly),callback:function ($$v) {_vm.$set(file, \"readOnly\", $$v)},expression:\"file.readOnly\"}})],1)],1)],1)}),1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addFile()}}},[_vm._v(\"Add File\")])],1),_c('v-row',{attrs:{\"cols\":\"12\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-subheader',[_vm._v(\"Documentation\")]),_c('v-divider')],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Reference URL\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.referenceUrl),callback:function ($$v) {_vm.$set(_vm.value, \"referenceUrl\", $$v)},expression:\"value.referenceUrl\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-subheader',[_vm._v(\"Runtime Configuration\")]),_c('v-divider')],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Runner URL\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.runUrl),callback:function ($$v) {_vm.$set(_vm.value, \"runUrl\", $$v)},expression:\"value.runUrl\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Runner Token\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.runToken),callback:function ($$v) {_vm.$set(_vm.value, \"runToken\", $$v)},expression:\"value.runToken\"}})],1)],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-textarea',{attrs:{\"rows\":\"6\",\"label\":\"Testcases (as json)\",\"value\":_vm.testCasesString,\"required\":\"\"},on:{\"input\":_vm.updateTestCases}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"Main class\",\"required\":\"\"},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.mainClass),callback:function ($$v) {_vm.$set(_vm.value, \"mainClass\", $$v)},expression:\"value.mainClass\"}}),_c('br'),_c('v-select',{attrs:{\"label\":\"Allow custom test?\",\"items\":[true, false]},on:{\"input\":_vm.valueChanged},model:{value:(_vm.value.allowCustomTest),callback:function ($$v) {_vm.$set(_vm.value, \"allowCustomTest\", $$v)},expression:\"value.allowCustomTest\"}})],1)],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <v-form model=\"valid\">\n    <v-container>\n      <v-row>\n        <v-col cols=\"6\">\n          <v-select label=\"Language\" :items=\"languages\" v-model=\"value.lang\" required @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n      <v-row cols=\"12\">\n          <v-col cols=\"12\">\n              <v-subheader>Files</v-subheader>\n              <v-divider />\n          </v-col>\n      </v-row>\n      <v-row>\n          <v-col v-for=\"(file,index) in value.files\" :key=\"'file-'+index\">\n              <v-card style=\"min-width: 35em\" >\n                  <v-card-text>\n                      <v-text-field label=\"Filename\" v-model=\"file.filename\" required @input=\"valueChanged\">\n                      </v-text-field>\n                      <v-textarea label=\"Default contents\" v-model=\"file.content\" required @input=\"valueChanged\"/>\n                  </v-card-text>\n                  <v-card-actions>\n                      <v-btn color=\"error\" @click=\"removeFile(index)\"><v-icon>mdi-delete</v-icon> Delete File</v-btn>            \n                      <v-switch style=\"margin-left: 1em\"\n                                v-model=\"file.readOnly\" inset dense\n                                      :append-icon=\"file.readOnly ? 'mdi-lock-outline' : 'mdi-pencil'\"\n                                      :label=\"file.readOnly ? 'Read-Only' : 'Editable'\">\n                      </v-switch>\n                  </v-card-actions>\n              </v-card>\n          </v-col>\n      </v-row>\n      <v-col cols=\"6\">\n          <v-btn color=\"primary\" @click=\"addFile()\">Add File</v-btn>\n      </v-col>\n        <v-row cols=\"12\">\n            <v-col cols=\"12\">\n                <v-subheader>Documentation</v-subheader>\n                <v-divider />\n            </v-col>\n        </v-row>\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Reference URL\" v-model=\"value.referenceUrl\" @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"12\">\n        <v-subheader>Runtime Configuration</v-subheader>\n        <v-divider />\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Runner URL\" v-model=\"value.runUrl\" @input=\"valueChanged\"/>\n        </v-col>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Runner Token\" v-model=\"value.runToken\" @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n      <v-row>\n        <v-col cols=\"6\">\n          <!-- TODO: this should be something more clever like a list editor -->\n          <v-textarea rows=\"6\" label=\"Testcases (as json)\" :value=\"testCasesString\" @input=\"updateTestCases\" required />\n        </v-col>\n        <v-col cols=\"6\">\n          <v-text-field label=\"Main class\" v-model=\"value.mainClass\" required @input=\"valueChanged\"/>\n          <br />\n          <v-select label=\"Allow custom test?\" :items=\"[true, false]\" \n            v-model=\"value.allowCustomTest\" @input=\"valueChanged\"/>\n        </v-col>\n      </v-row>\n    </v-container>\n  </v-form>\n</template>\n\n<script>\n\nconst LANGUAGES = ['c', 'cpp', 'csharp', 'css', 'html', 'java', 'javascript',\n                   'julia', 'kotlin', 'markdown', 'pascal', 'python', 'r',\n                   'ruby', 'rust', 'scala', 'sql', 'typescript', 'xml'];\n\nconst DEFAULT_PROPS = () => ({\n      lang: 'java',\n      files: [\n          { \n            filename: 'Main.java', \n            content: `public class Main { \\n \\n }`\n          }\n      ],\n      mainClass: 'Main',\n      runUrl: '',\n      runToken: '',\n      testCases: [],\n      allowCustomTest: true,\n      referenceUrl: 'https://docs.oracle.com/javase/8/docs/api/index.html', \n    });\n\nexport default {\n  name: 'EditMultiCodingQuestion',\n  props: [\n    'value', 'focused'\n  ],\n  created() {\n    this.injectValues();\n  },\n  data: () => ({\n    languages: LANGUAGES,\n  }),\n  methods: {\n      injectValues() {\n        const keys = Object.keys(this.value);\n        for (let [key,val] of Object.entries(DEFAULT_PROPS())) {\n          if (!keys.includes(key)) {\n            this.value[key] = val;\n          }\n        }\n      },\n      addFile() {\n          this.value.files.push({\n              filename: '',\n              content: '',\n          });\n          this.$emit('input', this.value);\n      },\n      removeFile(idx) {\n          this.value.files.splice(idx, 1);\n          this.$emit('input', this.value);\n      },\n    valueChanged() {\n      this.$emit('input', this.value);\n    },\n    updateTestCases(value) {\n      try {\n        this.value.testCases = JSON.parse(value);\n        this.$emit('input', this.value);\n      }\n      catch (err) {\n        // TODO: do something with this error?\n      }\n    }\n  },\n  computed: {\n    testCasesString() {\n      return JSON.stringify(this.value.testCases);\n    }\n  },\n};\n</script>\n\n<style scoped>\n.editor {\n  width: 100%;\n  height: 100%;\n}\n.instructions {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n.question-text {\n  flex-grow: 1;\n  overflow-y: auto;\n}\n</style>\n\n<style>\n.question-text pre code {\n  color: black;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMultiCodingQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMultiCodingQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditMultiCodingQuestion.vue?vue&type=template&id=6ddc69ae&scoped=true\"\nimport script from \"./EditMultiCodingQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./EditMultiCodingQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditMultiCodingQuestion.vue?vue&type=style&index=0&id=6ddc69ae&prod&scoped=true&lang=css\"\nimport style1 from \"./EditMultiCodingQuestion.vue?vue&type=style&index=1&id=6ddc69ae&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ddc69ae\",\n  null\n  \n)\n\nexport default component.exports","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport MultiCodingQuestion from './MultiCodingQuestion';\nimport EditMultiCodingQuestion from './EditMultiCodingQuestion';\nimport JSZip from 'jszip';\n\nfunction initialize(newQuestion) {\n    return {...newQuestion,\n            lang: 'java',\n            files: [\n                { \n                filename: 'Main.java', \n                content: `public class Main { \\n \\n }`\n                }\n            ],\n            mainClass: 'Main',\n            runUrl: '',\n            runToken: '',\n            testCases: [],\n            allowCustomTest: true,\n            referenceUrl: 'https://docs.oracle.com/javase/8/docs/api/index.html', \n    };\n}\n\nfunction exportAnswer(question, answer) {\n    const promises = [];\n    const zip = new JSZip();\n    for (const file of question.files) {\n        const filename = file.filename;\n        const fileContent = answer && answer[filename] ? answer[filename] : file.content;\n        zip.file(filename, fileContent);\n    }\n    return Promise.all(promises).then(\n        () => zip.generateAsync({type: 'blob'})\n    ).then(content => ({\n            filename: question.exportConfig.filename,\n            contentType: 'blob',\n            content\n    }));\n}\n\nexport default {\n    description: 'Multiple files coding exercise with the Monaco Editor',\n    view: MultiCodingQuestion,\n    edit: EditMultiCodingQuestion,\n    initialize,\n    exportAnswer,\n    defaultExtension: '.zip',\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"question-container\"},[(_vm.sheets)?_c('div',{staticClass:\"question-editor\"},[_c('v-tabs',{staticClass:\"question-tabs\",model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[(_vm.question?.descriptionAsTab)?_c('v-tab',[_c('v-icon',{attrs:{\"dense\":\"\"}},[_vm._v(\"mdi-file-document\")]),_vm._v(\"  Description \")],1):_vm._e(),_vm._l((_vm.sheets),function(sheet){return _c('v-tab',{key:sheet.name,staticClass:\"question-tab\"},[_c('v-icon',{attrs:{\"dense\":\"\"}},[_vm._v(\"mdi-table\")]),_vm._v(\"  \"+_vm._s(sheet.name)+\" \")],1)})],2),_c('v-tabs-items',{model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},[(_vm.question?.descriptionAsTab)?_c('v-tab-item',[_c('div',{staticClass:\"description\"},[_c('MarkdownDisplay',{staticClass:\"question-text\",attrs:{\"source\":_vm.question.description}})],1)]):_vm._e(),_vm._l((_vm.sheets),function(sheet){return _c('v-tab-item',{key:sheet.name},[_c('div',{staticClass:\"spreadsheet-wrapper\"},[_c('SpreadsheetTable',{attrs:{\"max-height\":\"calc(98vh - 110px)\",\"value\":sheet}})],1)])})],2)],1):_vm._e(),_c('div',{staticClass:\"rhs\"},[_c('div',{staticClass:\"question-instruction\"},[(!_vm.question?.descriptionAsTab)?_c('div',{staticClass:\"rhs-part\"},[_c('v-card',{staticClass:\"descr-card\"},[_c('v-card-title',[_vm._v(\"Description\")]),_c('v-card-text',[_c('MarkdownDisplay',{staticClass:\"question-text\",attrs:{\"source\":_vm.question.description}})],1)],1)],1):_vm._e(),(_vm.question.tasks && _vm.question.tasks.length > 0)?_c('div',{staticClass:\"rhs-part\"},[_c('h3',[_vm._v(\"Tasks\")]),_vm._l((_vm.question.tasks),function(task,index){return _c('v-card',{key:'task-'+index,staticClass:\"task-card\"},[_c('v-card-title',[_vm._v(_vm._s('Task ' + (index+1))+\" \"),(task.title)?_c('span',[_vm._v(\"-\"+_vm._s(task.title))]):_vm._e()]),_c('v-card-text',[_c('MarkdownDisplay',{attrs:{\"source\":task.description}}),_c('v-text-field',{attrs:{\"label\":'Enter a spreadsheet formula for cell ' + task.targetCell + ' of sheet ' + task.targetSheetName},model:{value:(_vm.formulas[index]),callback:function ($$v) {_vm.$set(_vm.formulas, index, $$v)},expression:\"formulas[index]\"}}),(_vm.errors[index])?_c('v-alert',{attrs:{\"type\":\"error\"}},[_c('div',{staticClass:\"text-h6\"},[_vm._v(\" \"+_vm._s(_vm.errors[index].type)+\" \")]),(_vm.errors[index].type == 'DIV_BY_ZERO')?_c('span',[_vm._v(\" Division by zero occurred. This is not allowed! \")]):_c('span',[_vm._v(\" \"+_vm._s(_vm.errors[index].message)+\" \")])]):_vm._e(),(task.copyTo && task.copyTo.length > 0)?[_c('p',[_vm._v(\"This formula will be copied to the following cells\")]),_c('ul',_vm._l((task.copyTo),function(target){return _c('li',{key:'copy-to-'+target},[_c('code',[_vm._v(_vm._s(target))])])}),0)]:_vm._e()],2)],1)})],2):_vm._e(),(_vm.question?.answerSpec?.entries && _vm.question.answerSpec.entries.length > 0)?_c('div',{staticClass:\"rhs-part\"},[_c('h3',[_vm._v(\"Answer code\")]),(_vm.question?.answerSpec)?_c('v-card',{staticClass:\"answer-card\"},[_c('v-card-title',[_vm._v(\"Final Answer\")]),_c('v-card-text',[_c('div',[_vm._v(\"The final answer is based on the following information:\")]),_c('ul',_vm._l((_vm.question?.answerSpec?.entries),function(entry,index){return _c('li',{key:'entry-'+index},[(entry.type == 'range-values')?_c('span',[_vm._v(\" The \"),_c('em',[_vm._v(\"values\")]),_vm._v(\" in range \"),_c('code',[_vm._v(_vm._s(entry.source))])]):(entry.type == 'range-formulas')?_c('span',[_vm._v(\" The \"),_c('em',[_vm._v(\"formulas\")]),_vm._v(\" in range \"),_c('code',[_vm._v(_vm._s(entry.source))])]):(entry.type == 'range-hash')?_c('span',[_vm._v(\" A \"),_c('em',[_vm._v(\"hash\")]),_vm._v(\" computed with the values in range \"),_c('code',[_vm._v(_vm._s(entry.source))])]):(entry.type == 'formula')?_c('span',[_vm._v(\" The result of the formula \"),_c('code',[_vm._v(_vm._s(entry.formula))])]):_vm._e()])}),0),_c('br'),_c('AnswerCodeDisplay',{attrs:{\"answerCode\":_vm.answerCode}})],1)],1):_vm._e()],1):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"spreadsheet-wrapper\"},[(_vm.editable)?_c('v-text-field',{ref:\"editfield\",staticClass:\"edit-field\",attrs:{\"disabled\":_vm.currentLocked,\"outlined\":\"\",\"dense\":\"\",\"value\":_vm.currentValue},on:{\"input\":_vm.updateValue,\"keydown\":_vm.keydown},scopedSlots:_vm._u([{key:\"prepend-inner\",fn:function(){return [_c('v-chip',{staticClass:\"address-chip\",attrs:{\"label\":\"\",\"disabled\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(_vm.currentAddress))])]},proxy:true}],null,false,1811444342)}):_vm._e(),_c('div',{style:(_vm.tableStyle)},[_c('table',{staticClass:\"spreadsheet\"},[_c('thead',[_c('tr',[_vm._m(0),_vm._l((_vm.value.dimensions.width),function(j){return _c('th',{key:'col-'+j,staticClass:\"column-label\",attrs:{\"scope\":\"col\"}},[_vm._v(_vm._s(_vm.getColumnLabel(j)))])})],2)]),_c('tbody',_vm._l((_vm.value.dimensions.height),function(i){return _c('tr',{key:'row-'+i},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(i))]),_vm._l((_vm.value.dimensions.width),function(j){return _c('td',{key:'cell-'+i+'-'+j,class:_vm.getStyleClasses(i-1, j-1),on:{\"click\":function($event){return _vm.setCurrent(i-1, j-1)}}},[(_vm.value.values[i-1])?[_vm._v(\" \"+_vm._s(_vm.value.values[i-1][j-1])+\" \")]:_vm._e()],2)})],2)}),0)])])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('th',{staticClass:\"spreadsheet-triangle-cell\",attrs:{\"scope\":\"col\"}},[_c('div',{staticClass:\"spreadsheet-triangle\"})])\n}]\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <div class=\"spreadsheet-wrapper\">\n    <v-text-field v-if=\"editable\" :disabled=\"currentLocked\" outlined dense\n      class=\"edit-field\"\n      :value=\"currentValue\"\n      @input=\"updateValue\"\n      @keydown=\"keydown\"\n      ref=\"editfield\"\n    >\n      <template v-slot:prepend-inner>\n        <v-chip label disabled class=\"address-chip\" small>{{ currentAddress }}</v-chip>\n      </template>\n    </v-text-field>\n    <div :style=\"tableStyle\">\n      <table class=\"spreadsheet\">\n          <thead>\n              <tr>\n              <th scope=\"col\" class=\"spreadsheet-triangle-cell\"><div class=\"spreadsheet-triangle\"></div></th>\n              <th scope=\"col\" class=\"column-label\" v-for=\"j of value.dimensions.width\" :key=\"'col-'+j\">{{ getColumnLabel(j) }}</th>\n              </tr>\n          </thead>\n          <tbody>\n              <tr v-for=\"i of value.dimensions.height\" :key=\"'row-'+i\">\n                  <th scope=\"row\">{{ i }}</th>\n                  <td v-for=\"j of value.dimensions.width\"\n                      :key=\"'cell-'+i+'-'+j\"\n                      @click=\"setCurrent(i-1, j-1)\"\n                      :class=\"getStyleClasses(i-1, j-1)\">\n                      <template v-if=\"value.values[i-1]\">\n                      {{ value.values[i-1][j-1] }}\n                      </template>\n                  </td>\n              </tr>\n          </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SpreadsheetTable',\n  props: [\n    'value', 'editable', 'locked', 'max-height'\n  ],\n  data:() => ({\n    currentCell: null\n  }),\n  methods: {\n    keydown(event) {\n      if (this.currentCell && event.ctrlKey) {\n        const cur = this.currentCell;\n        if (event.key == 'ArrowLeft') {\n          if (cur.col >= 1) {\n            cur.col--;\n          }\n        }\n        else if (event.key == 'ArrowRight') {\n          if (cur.col < this.value.dimensions.width - 1) {\n            cur.col++;\n          }          \n        }\n        else if (event.key == 'ArrowUp') {\n          if (cur.row >= 1) {\n            cur.row--;\n          }\n        }\n        else if (event.key == 'ArrowDown') {\n          if (cur.row < this.value.dimensions.height - 1) {\n            cur.row++;\n          }          \n        }\n        else if (event.key == 'Delete' || event.key == 'BackSpace') {\n          this.updateValue('');\n        }\n      }\n    },\n    setCurrent(row, col) {\n      if (!this.editable) {\n        return;\n      }\n      this.currentCell = {row, col};\n      this.$nextTick(() => \n        this.$refs.editfield.focus()\n      );\n    },\n    getColumnLabel(index) {\n      let result = '';\n      while(index >= 0) {\n        const charCode = (index % 26) + 96;\n        result = String.fromCharCode(charCode).toUpperCase() + result;\n        index = Math.floor(index / 26) - 1;\n      }\n      return result;\n    },\n    determineTypeClass(value) {\n        if (value === null || value === undefined) {\n            return { 'value-blank' : true };\n        }\n        if (typeof value === 'number') {\n            return { 'value-number' : true };\n        }\n        if (typeof value === 'boolean') {\n            return { 'value-boolean' : true };\n        }\n        if (typeof value === 'string' && value.startsWith('=')) {\n            return { 'formula' : true };\n        }\n        return { 'value-text' : true };\n    },\n    getStyleClasses(row, col) {\n      const style = this.determineTypeClass(this.value.values[row][col]);\n      if (this.currentCell && this.currentCell.row == row && this.currentCell.col == col) {\n        style['selected'] = true;\n      }\n      return style;\n    },\n    updateValue(value) {\n      if (!this.currentCell) {\n        return;\n      }\n      const { row, col } = this.currentCell;\n      let processed = value.trim();\n      if (processed.length > 0 && !isNaN(processed)) {\n          processed = parseFloat(value);\n      }\n      else if (processed == 'true' || processed == 'false') {\n          processed = processed == 'true' ? true : false;\n      }\n      this.value.values[row][col] = processed;\n      // It seems too costly that the full spreadsheet is updated when a single cell changes,\n      // but for now this has to do\n      this.$emit('input', this.value);\n    },\n  },\n  watch: {\n    value(newValue) {\n      if (this.currentCell && newValue && newValue.dimensions) {\n        const cur = this.currentCell;\n        const dim = newValue.dimensions;\n        if (cur.row >= dim.height || cur.col >= dim.width) {\n          this.currentCell = null;\n        }\n      }\n    }\n  },\n  computed: {\n    currentLocked() {\n      if (!this.currentCell) {\n        return true;\n      }\n      return false;\n    },\n    currentAddress() {\n      if (this.currentCell != null) {\n        return this.getColumnLabel(this.currentCell.col + 1) + (this.currentCell.row + 1);\n      }\n      return '';\n    },\n    currentValue() {\n      if (!this.currentCell) {\n        return '';\n      }\n      const values = this.value.values;\n      return values[this.currentCell.row][this.currentCell.col];\n    },\n    tableStyle() {\n      if (this.maxHeight) {\n        console.log('height!');\n        return { 'max-height' : this.maxHeight, 'overflow-y' : 'scroll' };\n      }\n      return {};\n    }\n  }\n}\n</script>\n\n<style scoped>\ndiv.edit-field {\n  margin-top: 20px;\n}\n.address-chip {\n  margin-right: 0.5em;\n  padding: 0 2em 0 2em;\n  text-align: center;\n}\ndiv.spreadsheet-wrapper {\n  overflow: auto;\n  width: 100%;\n  padding-top: 0.5em;\n}\n\ntable.spreadsheet td.selected {\n  border: 2px solid black !important;\n}\n\ntd.value-number {\n    text-align: right;\n    color: cornflowerblue;\n}\n\ntd.value-boolean {\n    font-variant-caps: small-caps;\n    font-weight: bold;\n    color: purple;\n}\n\ntd.value-text {\n    color: darkolivegreen;\n}\n\ntd.formula {\n    font-family: 'Monaco', 'Courier New', Courier, monospace;\n    color: #333;\n    max-width: 10em;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\nth.spreadsheet-triangle-cell {\n  justify-content: end;\n}\ndiv.spreadsheet-triangle {\n  width: 0; \n  height: 0; \n  border-left: 1em solid transparent;\n  border-bottom: 1em solid gray;\n  display: inline-block;\n  align-self: flex-end;\n}\n\ntable.spreadsheet,\ntable.spreadsheet td,\ntable.spreadsheet th {\n  padding: 0.25em;\n  white-space: nowrap;\n  box-sizing: border-box;\n  line-height: 1em;\n  border: 1px solid #ccc;\n  min-width: 4em;\n}\n\ntable.spreadsheet th {\n  font-weight: normal;\n}\n\ntable.spreadsheet {\n  border-collapse: collapse;\n  table-layout: fixed;\n  white-space: nowrap;\n  empty-cells: show;\n  border: 0px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  /* border-left: 1px solid #ccc;\n  border-right: 1px solid transparent;\n  border-bottom: 1px solid transparent;   */\n}\n\ntable.spreadsheet > thead > tr > th.column-label {\n  text-align: center;\n}\n\ntable.spreadsheet > thead > tr > th,\ntable.spreadsheet > tbody > tr > th {\n  background-color: #f3f3f3;\n  user-select: none;\n}\n\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpreadsheetTable.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpreadsheetTable.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SpreadsheetTable.vue?vue&type=template&id=2f6ca3ab&scoped=true\"\nimport script from \"./SpreadsheetTable.vue?vue&type=script&lang=js\"\nexport * from \"./SpreadsheetTable.vue?vue&type=script&lang=js\"\nimport style0 from \"./SpreadsheetTable.vue?vue&type=style&index=0&id=2f6ca3ab&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f6ca3ab\",\n  null\n  \n)\n\nexport default component.exports","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport * as md5hex from 'md5-hex';\n\nconst NO_VALUE_CODE = '#NO_VALUE!';\nconst NO_FORMULA_CODE = '#NO_FORMULA!';\n\nexport const BASE_ENTRY = {\n  decimals: 2,\n  iterations: 1,\n  hashLength: 8,\n  truncate: false,\n  truncateLength: 1,\n  case: false,\n  trim: true\n}\n\nexport function computeAnswerCode(answerSpec, wb) {\n    if (!answerSpec) {\n      this.answerCode = '';\n    }\n    const parts = [];\n    for (const spec of answerSpec.entries) {\n      // Since a formula does not operate on a range, we handle this case first\n      if (spec.type == 'formula') {\n        const result = wb.calculateFormula(spec.formula, 0);\n        const processed =  process(result, spec);\n        parts.push(processed);\n        continue;\n      }\n\n      // TODO: determine if we have a range or a single cell\n      const range = getRange(spec.source, wb);\n      //const address = spec.source ? wb.simpleCellAddressFromString(spec.cell, -1) : undefined;\n      if (spec.type == 'range-formulas') {\n        const matrix = rangeToFormulas(range, wb);\n        const part = joinMatrix(matrix, answerSpec.entrySeparator);\n        parts.push(part);\n      }\n      else if (spec.type == 'range-values') {\n        const matrix = rangeToValues(range, wb);\n        // TODO: determine processing function\n        const part = joinMatrix(matrix, answerSpec.valueSeparator, val => process(val, spec));\n        parts.push(part);\n      }\n      else if (spec.type == 'range-hash') {\n        const matrix = rangeToValues(range, wb);\n        // TODO: determine processing function\n        const str = joinMatrix(matrix, answerSpec.hashSeparator, val => process(val, spec));\n        let result = md5hex(str);\n        for (let i=1; i < spec.iterations; i++) {\n          result = md5hex(result + '||' + str);\n        }\n        if (spec.hashLength) {\n          result = result.substring(0, spec.hashLength);\n        }\n        parts.push(result);\n      }\n    }\n    return parts.join(answerSpec.entrySeparator);\n}\n\nfunction process(value, entry) {\n  let result = value;\n  if (result && (result === 0 || !Number.isNaN(result)) && (entry.decimals || entry.decimals === 0)) {\n    result = (+result).toFixed(entry.decimals);\n  }\n  result = (''+result);\n  if (entry.trim) {\n    result = result.trim();\n  }\n  if (entry.case) {\n    if (entry.case == 'upper') {\n      result = result.toLowerCase();\n    }\n    else if (entry.case == 'lower') {\n      result = result.toUpperCase();\n    }\n  }\n  if (entry.truncate) {\n    if (entry.truncate == 'start') {\n      result = result.substring(0, entry.truncateLength);\n    }\n    else if (entry.truncate == 'end') {\n      const start = Math.max(0, result.length - entry.truncateLength);\n      result = result.substring(start, entry.truncateLength);\n    }\n  }\n  return result;\n}\n\nfunction getRange(source, wb) {\n    if (source.search(':') >= 0) {\n        // We have a range\n        return wb.simpleCellRangeFromString(source, -1);\n    }\n    // We have a single cell\n    const cell = wb.simpleCellAddressFromString(source, -1);\n    return { start: cell, end: cell };\n}\n\nfunction replaceUndefined(matrix, value) {\n  for (let i = 0; i < matrix.length; i++) {\n    const row = matrix[i];\n    for (let j=0; j < row.length; j++) {\n      if (row[j] === undefined || row[j] == '') {\n        row[j] = value;\n      }\n    }\n  }\n}\n\nfunction rangeToValues(range, wb) {\n  const result = wb.getRangeValues(range);\n  replaceUndefined(result, NO_VALUE_CODE);\n  return result;\n}\n\nfunction rangeToFormulas(range, wb) {\n  const result = wb.getRangeFormulas(range);\n  replaceUndefined(result, NO_FORMULA_CODE);\n  return result;\n}\n\nfunction joinMatrix(matrix, sep, conv=(x=>x)) {\n  return matrix.map(row => row.map(conv)\n                              .join(sep))\n               .join(sep);\n}","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <div class=\"question-container\">\n    <div class=\"question-editor\" v-if=\"sheets\">\n      <v-tabs v-model=\"currentTab\" class=\"question-tabs\">\n        <v-tab v-if=\"question?.descriptionAsTab\">\n          <v-icon dense>mdi-file-document</v-icon> &nbsp; Description\n        </v-tab>\n        <v-tab v-for=\"sheet of sheets\" :key=\"sheet.name\" class=\"question-tab\">\n          <v-icon dense>mdi-table</v-icon>\n          &nbsp;\n          {{ sheet.name }}\n        </v-tab>\n      </v-tabs>\n      <v-tabs-items v-model=\"currentTab\">\n        <v-tab-item v-if=\"question?.descriptionAsTab\">\n          <div class=\"description\">\n            <MarkdownDisplay class=\"question-text\" :source=\"question.description\" />\n          </div>\n        </v-tab-item>\n        <v-tab-item v-for=\"sheet of sheets\" :key=\"sheet.name\">\n          <div class=\"spreadsheet-wrapper\">\n            <SpreadsheetTable max-height=\"calc(98vh - 110px)\" :value=\"sheet\" />\n          </div>\n        </v-tab-item>\n      </v-tabs-items>\n    </div>\n    <div class=\"rhs\">\n      <div class=\"question-instruction\">\n        <div class=\"rhs-part\" v-if=\"!question?.descriptionAsTab\">\n          <v-card class=\"descr-card\">\n            <v-card-title>Description</v-card-title>\n            <v-card-text>\n              <MarkdownDisplay class=\"question-text\" :source=\"question.description\" />\n            </v-card-text>\n          </v-card>\n        </div>\n        <div class=\"rhs-part\" v-if=\"question.tasks && question.tasks.length > 0\">\n          <h3>Tasks</h3>\n          <v-card class=\"task-card\" v-for=\"(task, index) in question.tasks\" :key=\"'task-'+index\">\n            <v-card-title>{{ 'Task ' + (index+1) }} <span v-if=\"task.title\">&nbsp;-&nbsp;{{ task.title }}</span></v-card-title>\n            <v-card-text>\n              <MarkdownDisplay :source=\"task.description\" />\n                <v-text-field v-model=\"formulas[index]\" :label=\"'Enter a spreadsheet formula for cell ' + task.targetCell + ' of sheet ' + task.targetSheetName\" />\n                <v-alert v-if=\"errors[index]\" type=\"error\">\n                  <div class=\"text-h6\">\n                    {{ errors[index].type }}\n                  </div>\n                  <span v-if=\"errors[index].type == 'DIV_BY_ZERO'\">\n                    Division by zero occurred. This is not allowed!\n                  </span>\n                  <span v-else>\n                    {{ errors[index].message }}\n                  </span>\n                </v-alert>\n                <template v-if=\"task.copyTo && task.copyTo.length > 0\">\n                  <p>This formula will be copied to the following cells</p>\n                  <ul>\n                    <li v-for=\"target in task.copyTo\" :key=\"'copy-to-'+target\"><code>{{ target }}</code></li>\n                  </ul>\n                </template>\n            </v-card-text>\n          </v-card>\n        </div>\n        <div class=\"rhs-part\" v-if=\"question?.answerSpec?.entries && question.answerSpec.entries.length > 0\">\n          <h3>Answer code</h3>\n          <v-card class=\"answer-card\" v-if=\"question?.answerSpec\">\n            <v-card-title>Final Answer</v-card-title>\n            <v-card-text>\n              <div>The final answer is based on the following information:</div>\n              <ul>\n                <li v-for=\"(entry, index) in question?.answerSpec?.entries\" :key=\"'entry-'+index\">\n                  <span v-if=\"entry.type == 'range-values'\">\n                    The <em>values</em> in range <code>{{ entry.source }}</code>\n                  </span>\n                  <span v-else-if=\"entry.type == 'range-formulas'\">\n                    The <em>formulas</em> in range <code>{{ entry.source }}</code>                  \n                  </span>\n                  <span v-else-if=\"entry.type == 'range-hash'\">\n                    A <em>hash</em> computed with the values in range <code>{{ entry.source }}</code>\n                  </span>\n                  <span v-else-if=\"entry.type == 'formula'\">\n                    The result of the formula <code>{{ entry.formula }}</code>\n                  </span>\n                </li>\n              </ul>\n              <br />\n              <AnswerCodeDisplay :answerCode=\"answerCode\" />\n            </v-card-text>\n          </v-card>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { HyperFormula } from 'hyperformula';\nimport MarkdownDisplay from '@/components/util/MarkdownDisplay';\nimport AnswerCodeDisplay from '@/components/util/AnswerCodeDisplay';\nimport SpreadsheetTable from './SpreadsheetTable';\n\nimport { computeAnswerCode } from './utils';\n\nexport default {\n  name: 'HyperFormulaQuestion',\n  props: [\n    'question', 'focused', 'inputAnswer'\n  ],\n  components: {\n    MarkdownDisplay,\n    AnswerCodeDisplay,\n    SpreadsheetTable\n  },\n  created() {\n    this.updateWorkbook();\n  },\n  methods: {\n    updateWorkbook() {\n      const question = this.question;\n      if (!question) {\n        return;\n      }\n      const config = { licenseKey: 'gpl-v3' };\n      this.workbook = HyperFormula.buildFromSheets(question.sheets, config, question.namedRanges);\n      \n      if (this.inputAnswer && this.inputAnswer.formulas) {\n        this.formulas = this.inputAnswer.formulas;\n      }\n      else {\n        this.formulas = [];\n        for (const task of question.tasks) {\n          this.formulas.push(task.defaultFormula);\n        }\n      }\n      this.updateSheets();\n    },\n    updateSheets() {\n      if (!this.workbook) {\n        return [];\n      }\n      \n      const result = [];\n      const wb = this.workbook;\n      for (let i=0; i < wb.countSheets(); i++) {\n        const sheet = {\n          name: wb.getSheetName(i),\n          dimensions: wb.getSheetDimensions(i),\n          values: wb.getSheetValues(i)\n        };\n        result.push(sheet);\n      }\n      \n      this.sheets = result;\n    },\n    updateAnswerCode() {\n      const answerSpec = this.question?.answerSpec;\n      this.answerCode = computeAnswerCode(answerSpec, this.workbook);\n      // if (!answerSpec) {\n      //   this.answerCode = '';\n      // }\n      // const wb = this.workbook;\n      // const parts = [];\n      // for (const spec of answerSpec.entries) {\n      //   // TODO: determine if we have a range or a single cell\n      //   const address = spec.source ? wb.simpleCellAddressFromString(spec.cell, -1) : undefined;\n      //   if (spec.type == 'range-formulas') {\n      //     if (wb.doesCellHaveFormula(address)) {\n      //       let formula = wb.getCellFormula(address);\n      //       parts.push(formula);\n      //     }\n      //     else {\n      //       parts.push('#NO_FORMULA!');\n      //     }\n      //   }\n      //   else if (spec.type == 'range-values') {\n      //     const value = wb.getCellValue(address);\n      //     if (value && value.type && value.value) {\n      //       parts.push(value.value);\n      //     }\n      //     else {\n      //       if (!value) {\n      //         parts.push('#NO_VALUE!');\n      //       }\n      //       else {\n      //         parts.push(value);\n      //       }\n      //     }\n      //   }\n      // }\n      // this.answerCode = parts.join(answerSpec.separator);\n    },\n  },\n  computed: {\n    fullAnswer() {\n      return {\n        shortAnswer: this.answerCode,\n        formulas: this.formulas\n      };\n    }\n  },\n  watch: {\n    question() {\n      this.updateWorkbook();\n    },\n    fullAnswer(newAnswer) {\n      this.$emit('input', newAnswer);\n    },\n    formulas(newFormulas) {\n      for (let index=0; index < this.question.tasks.length; index++) {\n        const task = this.question.tasks[index];\n        const formula = newFormulas[index];\n        const sheetIndex = this.workbook.getSheetId(task.targetSheetName);\n        const targetAddress = this.workbook.simpleCellAddressFromString(task.targetCell, sheetIndex);\n        this.workbook.setCellContents(targetAddress, [[formula]]);\n        const formulaResult = this.workbook.getCellValue(targetAddress);\n       \n        // Check and display possible errors\n        if (formulaResult && formulaResult.value && formulaResult.type) {\n          // An error occurred\n          this.errors[index] = formulaResult;\n        }\n        else {\n          this.errors[index] = null;\n        }\n\n        if (task.copyTo) {\n          for (const copyToRange of task.copyTo) {\n            // Check whether we have a range or a single cell to copy to\n            let range;\n            if (copyToRange.search(':') != -1) {\n              range = this.workbook.simpleCellRangeFromString(copyToRange, sheetIndex);\n            }\n            else {\n              const copyToCell = this.workbook.simpleCellAddressFromString(copyToRange, sheetIndex);\n              range = { start: copyToCell, end : copyToCell}\n            }\n\n            // Perform copying of formulas\n            for (let rowIndex = range.start.row; rowIndex <= range.end.row; rowIndex++) {\n              for (let colIndex = range.start.col; colIndex <= range.end.col; colIndex++) {\n                const copyTarget = { row: rowIndex, col: colIndex, sheet: range.start.sheet };\n                this.workbook.copy({ start: targetAddress, end: targetAddress});\n                this.workbook.paste(copyTarget);\n              }\n            }\n          }\n        }\n      }\n      this.updateSheets();\n      this.updateAnswerCode();\n    }\n  },\n  data: () => ({\n    currentTab: 0,\n    workbook: null,\n    formulas: [],\n    errors: [],\n    sheets: [],\n    answerCode: ''\n  }),\n};\n</script>\n\n<style scoped>\ndiv.description {\n  margin: 1em;\n}\n.rhs-part {\n  margin-bottom: 1em;\n}\ndiv.descr-card, div.task-card, div.answer-card {\n  margin-top: 1em;\n}\ndiv.spreadsheet-wrapper {\n  overflow: auto;\n}\n\nth.spreadsheet-triangle-cell {\n  justify-content: end;\n}\ndiv.spreadsheet-triangle {\n  width: 0; \n  height: 0; \n  border-left: 1em solid transparent;\n  border-bottom: 1em solid gray;\n  display: inline-block;\n  align-self: flex-end;\n}\n\ntable.spreadsheet,\ntable.spreadsheet td,\ntable.spreadsheet th {\n  padding: 0.25em;\n  white-space: nowrap;\n  box-sizing: border-box;\n  line-height: 1em;\n  border: 1px solid #ccc;\n  min-width: 4em;\n  text-align: right;\n}\n\ntable.spreadsheet th {\n  font-weight: normal;\n}\n\ntable.spreadsheet {\n  border-collapse: collapse;\n  table-layout: fixed;\n  white-space: nowrap;\n  empty-cells: show;\n  border: 0px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  /* border-left: 1px solid #ccc;\n  border-right: 1px solid transparent;\n  border-bottom: 1px solid transparent;   */\n}\n\ntable.spreadsheet > thead > tr > th.column-label {\n  text-align: center;\n}\n\ntable.spreadsheet > thead > tr > th,\ntable.spreadsheet > tbody > tr > th {\n  background-color: #f3f3f3;\n  user-select: none;\n}\n\n\n.question-container {\n  height: calc(100vh - 64px);\n  display: flex;\n  flex-direction: row;\n}\n\n.question-editor {\n  min-width: 55%;\n}\n\n.question-instruction {\n  overflow-y: scroll;\n  flex-grow: 1;\n  padding-left: 0.5em;\n}\n\n.rhs {\n  padding-left: 0.8em;\n  border-left: solid 1px black;\n  min-width: 15em;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n}\n\n</style>\n\n<style>\n.question-text pre code {\n  color: black;\n  width: 100%;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HyperFormulaQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HyperFormulaQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./HyperFormulaQuestion.vue?vue&type=template&id=193f6c9e&scoped=true\"\nimport script from \"./HyperFormulaQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./HyperFormulaQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./HyperFormulaQuestion.vue?vue&type=style&index=0&id=193f6c9e&prod&scoped=true&lang=css\"\nimport style1 from \"./HyperFormulaQuestion.vue?vue&type=style&index=1&id=193f6c9e&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"193f6c9e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-card',{staticClass:\"config-card\"},[_c('v-card-title',[_vm._v(\" Question configuration \")]),_c('v-card-text',[_c('v-checkbox',{attrs:{\"label\":\"Show question description as spreadsheet tab\"},model:{value:(_vm.value.descriptionAsTab),callback:function ($$v) {_vm.$set(_vm.value, \"descriptionAsTab\", $$v)},expression:\"value.descriptionAsTab\"}})],1)],1),_c('v-card',{staticClass:\"data-card\"},[_c('v-card-title',[_vm._v(\" Spreadsheet Data \")]),_c('v-toolbar',{staticClass:\"elevation-0\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.addSheet}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" Sheet\")],1),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.importSheet}},[_c('v-icon',[_vm._v(\"mdi-import\")]),_vm._v(\" File\")],1)],1),_c('v-card-text',[(_vm.value.sheets)?[_c('v-tabs',{model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},_vm._l((_vm.wrappedSheets),function(sheet){return _c('v-tab',{key:'tab-'+sheet.name},[_c('v-icon',{attrs:{\"dense\":\"\"}},[_vm._v(\"mdi-table\")]),_vm._v(\"  \"+_vm._s(sheet.name)+\" \")],1)}),1),_c('v-tabs-items',{model:{value:(_vm.currentTab),callback:function ($$v) {_vm.currentTab=$$v},expression:\"currentTab\"}},_vm._l((_vm.wrappedSheets),function(sheet){return _c('v-tab-item',{key:'content-'+sheet.name},[_c('SpreadsheetTable',{attrs:{\"max-height\":\"35vh\",\"value\":sheet,\"editable\":\"true\"},on:{\"input\":_vm.updateSheet}}),_c('v-toolbar',{staticClass:\"elevation-0\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":$event => _vm.addRow(sheet)}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" Row\")],1),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":$event => _vm.addColumn(sheet)}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" Column\")],1),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":$event => _vm.removeRow(sheet)}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" Row\")],1),_c('v-btn',{attrs:{\"color\":\"error\"},on:{\"click\":$event => _vm.removeColumn(sheet)}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" Column\")],1),_vm._v(\"  \"),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":$event => _vm.moveSheet(sheet, true)}},[_c('v-icon',[_vm._v(\"mdi-content-copy\")]),_vm._v(\" Sheet\")],1),_c('v-btn',{attrs:{\"color\":\"warning\"},on:{\"click\":$event => _vm.moveSheet(sheet)}},[_c('v-icon',[_vm._v(\"mdi-rename-box\")]),_vm._v(\" Sheet\")],1),_c('v-btn',{attrs:{\"color\":\"error\",\"disabled\":_vm.wrappedSheets.length <= 1},on:{\"click\":$event => _vm.removeSheet(sheet)}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" Sheet\")],1)],1)],1)}),1)]:_vm._e()],2)],1),_c('EditTasks',{staticClass:\"tasks-card\",attrs:{\"sheetnames\":_vm.sheetnames},model:{value:(_vm.value.tasks),callback:function ($$v) {_vm.$set(_vm.value, \"tasks\", $$v)},expression:\"value.tasks\"}}),_c('EditAnswerSpec',{staticClass:\"answer-card\",attrs:{\"currentSheet\":_vm.currentSheetName},model:{value:(_vm.value.answerSpec),callback:function ($$v) {_vm.$set(_vm.value, \"answerSpec\", $$v)},expression:\"value.answerSpec\"}}),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".xlsx,.xls,.csv\"},on:{\"change\":_vm.importChosen}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',[_c('v-card-title',[_vm._v(\" Tasks \")]),_c('v-toolbar',{staticClass:\"elevation-0\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.addTask}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" Task\")],1)],1),(_vm.value)?_c('v-card-text',{staticClass:\"d-flex\"},_vm._l((_vm.value),function(task,index){return _c('v-card',{key:'task-'+index,staticClass:\"task-card\"},[_c('v-card-title',[_vm._v(\"Task \"+_vm._s(index + 1)+\" \"),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteTask(index)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" Task\")],1)],1),_c('v-card-text',[_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Title of the task\"},model:{value:(task.title),callback:function ($$v) {_vm.$set(task, \"title\", $$v)},expression:\"task.title\"}}),_c('v-textarea',{attrs:{\"outlined\":\"\",\"label\":\"Description of task (markdown is supported)\"},model:{value:(task.description),callback:function ($$v) {_vm.$set(task, \"description\", $$v)},expression:\"task.description\"}}),_c('v-select',{attrs:{\"outlined\":\"\",\"items\":_vm.sheetnames,\"label\":\"Target sheet\"},model:{value:(task.targetSheetName),callback:function ($$v) {_vm.$set(task, \"targetSheetName\", $$v)},expression:\"task.targetSheetName\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Target cell\"},model:{value:(task.targetCell),callback:function ($$v) {_vm.$set(task, \"targetCell\", $$v)},expression:\"task.targetCell\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Default formula provided to student\"},model:{value:(task.defaultFormula),callback:function ($$v) {_vm.$set(task, \"defaultFormula\", $$v)},expression:\"task.defaultFormula\"}}),(task.copyTo && task.copyTo.length > 0)?_c('h4',[_vm._v(\"Formula will be copied to the following cells/ranges\")]):_c('h4',[_vm._v(\"Formula not copied to other cells/ranges\")]),_c('br'),_vm._l((task.copyTo),function(_,copyIndex){return _c('v-text-field',{key:'copyTo'+copyIndex,attrs:{\"outlined\":\"\",\"label\":\"Cell / Range\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('v-icon',{attrs:{\"color\":\"error\"},on:{\"click\":function($event){return _vm.deleteCopyTo(index, copyIndex)}}},[_vm._v(\"mdi-delete\")])]},proxy:true}],null,true),model:{value:(task.copyTo[copyIndex]),callback:function ($$v) {_vm.$set(task.copyTo, copyIndex, $$v)},expression:\"task.copyTo[copyIndex]\"}})})],2),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"click\":function($event){return _vm.addCopyTo(task)}}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" Copy To\")],1)],1)],1)}),1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n    <v-card>\n      <v-card-title>\n        Tasks\n      </v-card-title>\n      <v-toolbar class=\"elevation-0\">\n        <v-btn @click=\"addTask\" color=\"primary\"><v-icon>mdi-plus</v-icon> Task</v-btn>\n      </v-toolbar>\n      <v-card-text v-if=\"value\" class=\"d-flex\">\n        <v-card v-for=\"(task, index) in value\" :key=\"'task-'+index\" class=\"task-card\">\n          <v-card-title>Task {{ index + 1}}\n            <v-spacer />\n            <v-btn color=\"error\" text @click=\"deleteTask(index)\"><v-icon>mdi-delete</v-icon> Task</v-btn>\n          </v-card-title>\n          <v-card-text>\n            <v-text-field outlined v-model=\"task.title\" label=\"Title of the task\" />\n            <v-textarea outlined v-model=\"task.description\" label=\"Description of task (markdown is supported)\" />\n            <v-select outlined :items=\"sheetnames\" v-model=\"task.targetSheetName\" label=\"Target sheet\" />\n            <v-text-field outlined v-model=\"task.targetCell\" label=\"Target cell\"/>\n            <v-text-field outlined v-model=\"task.defaultFormula\" label=\"Default formula provided to student\" />\n            <h4 v-if=\"task.copyTo && task.copyTo.length > 0\">Formula will be copied to the following cells/ranges</h4>\n            <h4 v-else>Formula not copied to other cells/ranges</h4>\n            <br />\n            <v-text-field outlined v-for=\"(_, copyIndex) in task.copyTo\" label=\"Cell / Range\" :key=\"'copyTo'+copyIndex\" v-model=\"task.copyTo[copyIndex]\">\n                <template v-slot:append>\n                    <v-icon color=\"error\" @click=\"deleteCopyTo(index, copyIndex)\">mdi-delete</v-icon>\n                </template>\n            </v-text-field>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn color=\"primary\" text @click=\"addCopyTo(task)\"><v-icon>mdi-plus</v-icon> Copy To</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-card-text>\n    </v-card>\n</template>\n\n<script>\nexport default {\n    name: 'EditAnswerSpec',\n    props: [\n        'value', 'sheetnames'\n    ],\n    methods: {\n        addTask() {\n            const tasks = this.value;\n            tasks.push(\n                { title: `Task ${tasks.length + 1}`,\n                description: 'Write a formula for cell `A1` that does something useful',\n                targetSheetName: this.sheetnames[this.currentTab],\n                targetCell: 'A1',\n                defaultFormula: '=0',\n                copyTo: []\n            });\n        },\n        deleteTask(index) {\n            if (this.value) {\n                this.value.splice(index, 1);\n            }\n        },\n        addCopyTo(task) {\n            if (task && task.copyTo) {\n                task.copyTo.push('A1');\n            }\n        },\n        deleteCopyTo(index, copyIndex) {\n            this.value[index].copyTo.splice(copyIndex, 1);\n        }\n    },\n    watch: {\n        value() {\n            this.$emit('input', this.value);\n        }\n    },\n};\n</script>\n\n<style scoped>\ndiv.task-card {\n  margin-bottom: 1em;\n  max-width: 50em;\n  flex-grow: 1;\n}\ndiv.task-card:not(:first-child) {\n  margin-left: 1em;\n}\n\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTasks.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditTasks.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditTasks.vue?vue&type=template&id=30c0dfee&scoped=true\"\nimport script from \"./EditTasks.vue?vue&type=script&lang=js\"\nexport * from \"./EditTasks.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditTasks.vue?vue&type=style&index=0&id=30c0dfee&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30c0dfee\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',[_c('v-card-title',[_vm._v(\" Answer Definition \")]),_c('v-card-text',[_c('h4',[_vm._v(\"Answer Elements\")])]),_c('v-toolbar',{staticClass:\"elevation-0\"},[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.addAnswerElement()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" Element\")],1)],1),_c('v-card-text',{staticClass:\"d-flex\"},_vm._l((_vm.value.entries),function(entry,index){return _c('v-card',{key:'entry-'+index,staticClass:\"answer-entry-card\"},[_c('v-card-title',[_vm._v(\" Element \"+_vm._s(index + 1)+\" \"),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":function($event){return _vm.deleteAnswerElement(index)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\" Element\")],1)],1),_c('v-card-text',[_c('h4',[_vm._v(\"Type of answer element\")]),_c('v-radio-group',{attrs:{\"row\":\"\",\"label\":\"\"},model:{value:(entry.type),callback:function ($$v) {_vm.$set(entry, \"type\", $$v)},expression:\"entry.type\"}},[_c('v-radio',{attrs:{\"label\":\"Cell values\",\"value\":\"range-values\"}}),_c('v-radio',{attrs:{\"label\":\"Cell formulas\",\"value\":\"range-formulas\"}}),_c('v-radio',{attrs:{\"label\":\"Hash of values\",\"value\":\"range-hash\"}}),_c('v-radio',{attrs:{\"label\":\"Formula\",\"value\":\"formula\"}})],1),_c('h4',[_vm._v(\"Answer element details\")]),_c('br'),(entry.type != 'formula')?_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Cell/Range to extract\"},model:{value:(entry.source),callback:function ($$v) {_vm.$set(entry, \"source\", $$v)},expression:\"entry.source\"}}):_vm._e(),(entry.type == 'formula')?_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Formula to compute\"},model:{value:(entry.formula),callback:function ($$v) {_vm.$set(entry, \"formula\", $$v)},expression:\"entry.formula\"}}):_vm._e(),(entry.type != 'range-formulas')?_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Number of decimals for numeric values\",\"type\":\"number\",\"min\":\"0\",\"max\":\"8\"},model:{value:(entry.decimals),callback:function ($$v) {_vm.$set(entry, \"decimals\", $$v)},expression:\"entry.decimals\"}}):_vm._e(),_c('v-select',{attrs:{\"outlined\":\"\",\"items\":_vm.caseOptions,\"label\":\"Convert case of answer code?\"},model:{value:(entry.case),callback:function ($$v) {_vm.$set(entry, \"case\", $$v)},expression:\"entry.case\"}}),(entry.type == 'range-hash')?[_c('h4',[_vm._v(\"Hash function details\")]),_c('br'),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Number of hash iterations\",\"type\":\"number\",\"min\":\"1\",\"max\":\"50\"},model:{value:(entry.iterations),callback:function ($$v) {_vm.$set(entry, \"iterations\", $$v)},expression:\"entry.iterations\"}}),_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Length of final answer code\",\"type\":\"number\",\"min\":\"1\",\"max\":\"32\"},model:{value:(entry.hashLength),callback:function ($$v) {_vm.$set(entry, \"hashLength\", $$v)},expression:\"entry.hashLength\"}})]:_vm._e(),(entry.type != 'range-formulas')?[_c('h4',[_vm._v(\"String value details\")]),_c('br'),_c('v-select',{attrs:{\"outlined\":\"\",\"items\":_vm.truncateOptions,\"label\":\"Truncate long values?\"},model:{value:(entry.truncate),callback:function ($$v) {_vm.$set(entry, \"truncate\", $$v)},expression:\"entry.truncate\"}}),(entry.truncate)?_c('v-text-field',{attrs:{\"outlined\":\"\",\"label\":\"Truncate to number of characters\",\"type\":\"number\",\"min\":\"1\",\"max\":\"50\"},model:{value:(entry.truncateLength),callback:function ($$v) {_vm.$set(entry, \"truncateLength\", $$v)},expression:\"entry.truncateLength\"}}):_vm._e(),_c('v-checkbox',{attrs:{\"label\":\"Remove leading and trailing whitespace\"},model:{value:(entry.trim),callback:function ($$v) {_vm.$set(entry, \"trim\", $$v)},expression:\"entry.trim\"}})]:_vm._e()],2)],1)}),1),_c('v-card-text',[_c('div',{staticClass:\"d-flex flex-column\"},[_c('h4',[_vm._v(\"Separators\")]),_vm._v(\"  \"),_c('v-text-field',{staticClass:\"separator-field\",attrs:{\"outlined\":\"\",\"label\":\"Element separator\"},model:{value:(_vm.value.entrySeparator),callback:function ($$v) {_vm.$set(_vm.value, \"entrySeparator\", $$v)},expression:\"value.entrySeparator\"}}),_vm._v(\"  \"),_c('v-text-field',{staticClass:\"separator-field\",attrs:{\"outlined\":\"\",\"label\":\"Value separator\"},model:{value:(_vm.value.valueSeparator),callback:function ($$v) {_vm.$set(_vm.value, \"valueSeparator\", $$v)},expression:\"value.valueSeparator\"}}),_vm._v(\"  \"),_c('v-text-field',{staticClass:\"separator-field\",attrs:{\"outlined\":\"\",\"label\":\"Hash separator\"},model:{value:(_vm.value.hashSeparator),callback:function ($$v) {_vm.$set(_vm.value, \"hashSeparator\", $$v)},expression:\"value.hashSeparator\"}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n    <v-card>\n      <v-card-title>\n        Answer Definition\n      </v-card-title>\n      <v-card-text>\n        <h4>Answer Elements</h4>\n      </v-card-text>\n      <v-toolbar class=\"elevation-0\">\n        <v-btn color=\"primary\" @click=\"addAnswerElement()\"><v-icon>mdi-plus</v-icon> Element</v-btn>\n      </v-toolbar>\n      <v-card-text class=\"d-flex\">\n        <v-card class=\"answer-entry-card\" v-for=\"(entry, index) in value.entries\" :key=\"'entry-'+index\">\n          <v-card-title>\n            Element {{ index + 1 }}\n            <v-spacer />\n            <v-btn color=\"error\" text @click=\"deleteAnswerElement(index)\"><v-icon>mdi-delete</v-icon> Element</v-btn>\n          </v-card-title>\n          <v-card-text>\n            <h4>Type of answer element</h4>\n            <v-radio-group v-model=\"entry.type\" row label=\"\">\n              <v-radio label=\"Cell values\" value=\"range-values\" />\n              <v-radio label=\"Cell formulas\" value=\"range-formulas\" />\n              <v-radio label=\"Hash of values\" value=\"range-hash\" />\n              <v-radio label=\"Formula\" value=\"formula\" />\n            </v-radio-group>\n            <h4>Answer element details</h4>\n            <br />\n            <v-text-field outlined v-if=\"entry.type != 'formula'\" v-model=\"entry.source\" label=\"Cell/Range to extract\" />\n            <v-text-field outlined v-if=\"entry.type == 'formula'\" v-model=\"entry.formula\" label=\"Formula to compute\" />\n            <v-text-field outlined v-if=\"entry.type != 'range-formulas'\" label=\"Number of decimals for numeric values\" type=\"number\" min=\"0\" max=\"8\" v-model=\"entry.decimals\" />\n            <v-select outlined :items=\"caseOptions\" v-model=\"entry.case\" label=\"Convert case of answer code?\" />\n            <template v-if=\"entry.type == 'range-hash'\">\n                <h4>Hash function details</h4>\n                <br />\n                <v-text-field outlined label=\"Number of hash iterations\" type=\"number\" min=\"1\" max=\"50\" v-model=\"entry.iterations\" />\n                <v-text-field outlined label=\"Length of final answer code\" type=\"number\" min=\"1\" max=\"32\" v-model=\"entry.hashLength\" />\n            </template>\n            <template v-if=\"entry.type != 'range-formulas'\">\n                <h4>String value details</h4>\n                <br />\n                <v-select outlined :items=\"truncateOptions\" v-model=\"entry.truncate\" label=\"Truncate long values?\"/>\n                <v-text-field outlined v-if=\"entry.truncate\" label=\"Truncate to number of characters\" type=\"number\" min=\"1\" max=\"50\" v-model=\"entry.truncateLength\" />\n                <v-checkbox label=\"Remove leading and trailing whitespace\" v-model=\"entry.trim\" />\n            </template>\n          </v-card-text>\n        </v-card>\n      </v-card-text>\n      <v-card-text>\n        <div class=\"d-flex flex-column\">\n          <h4>Separators</h4>\n          &nbsp;\n          <v-text-field outlined class=\"separator-field\" label=\"Element separator\" v-model=\"value.entrySeparator\" />\n          &nbsp;\n          <v-text-field outlined class=\"separator-field\" label=\"Value separator\" v-model=\"value.valueSeparator\" />\n          &nbsp;\n          <v-text-field outlined class=\"separator-field\" label=\"Hash separator\" v-model=\"value.hashSeparator\" />\n        </div>\n      </v-card-text>\n    </v-card>\n</template>\n\n<script>\nexport default {\n  name: 'EditAnswerSpec',\n  props: [\n    'value', 'currentSheet'\n  ],\n  data: () => ({\n    truncateOptions: [ {text: 'Retain full values', value: false}, {text: 'Truncate from start', value: 'start'}, {text: 'Truncate from end', value: 'end'}],\n    caseOptions: [ {text: 'Retain case', value: false}, {text: 'Convert to upper-case', value: 'upper'}, {text: 'Convert to lower-case', value: 'lower'}]\n  }),\n  methods: {\n    valueChanged() {\n      this.$emit('input', this.value);\n    },\n    addAnswerElement() {\n      if (this.value && this.value?.entries) {\n        this.value.entries.push({\n          type: 'range-values',\n          source: this.currentSheet + '!A1',\n          formula: '=' + this.currentSheet + '!A1',\n          decimals: 2,\n          iterations: 1,\n          hashLength: 8,\n          truncate: false,\n          truncateLength: 1,\n          case: false,\n          trim: true\n        });\n      }\n    },\n    deleteAnswerElement(index) {\n      this.value.entries.splice(index, 1);\n    }    \n  },\n    watch: {\n        value() {\n            this.$emit('input', this.value);\n        }\n    },\n};\n</script>\n\n<style scoped>\n.separator-field {\n  max-width: 15em;\n}\n\ndiv.answer-entry-card:not(:first-child) {\n  margin-left: 1em;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAnswerSpec.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAnswerSpec.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditAnswerSpec.vue?vue&type=template&id=88a2ca0e&scoped=true\"\nimport script from \"./EditAnswerSpec.vue?vue&type=script&lang=js\"\nexport * from \"./EditAnswerSpec.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditAnswerSpec.vue?vue&type=style&index=0&id=88a2ca0e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88a2ca0e\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <div>\n    <v-card class=\"config-card\">\n      <v-card-title>\n        Question configuration\n      </v-card-title>\n      <v-card-text>\n        <v-checkbox label=\"Show question description as spreadsheet tab\" v-model=\"value.descriptionAsTab\" />\n      </v-card-text>\n    </v-card>\n\n    <v-card class=\"data-card\">\n      <v-card-title>\n        Spreadsheet Data\n      </v-card-title>\n      <v-toolbar class=\"elevation-0\">\n        <v-btn @click=\"addSheet\" color=\"primary\"><v-icon>mdi-plus</v-icon> Sheet</v-btn>\n        &nbsp;\n        <v-btn @click=\"importSheet\" color=\"primary\"><v-icon>mdi-import</v-icon> File</v-btn>\n      </v-toolbar>\n      <v-card-text>\n        <template v-if=\"value.sheets\">\n          <v-tabs v-model=\"currentTab\">\n            <v-tab v-for=\"sheet of wrappedSheets\" :key=\"'tab-'+sheet.name\">\n              <v-icon dense>mdi-table</v-icon>\n              &nbsp;\n              {{ sheet.name }}\n            </v-tab>\n          </v-tabs>\n          <v-tabs-items v-model=\"currentTab\">\n            <v-tab-item v-for=\"sheet of wrappedSheets\" :key=\"'content-'+sheet.name\">\n              <SpreadsheetTable max-height=\"35vh\" :value=\"sheet\" @input=\"updateSheet\" editable=\"true\" />\n              <v-toolbar class=\"elevation-0\">\n                <v-btn color=\"primary\" @click=\"$event => addRow(sheet)\"><v-icon>mdi-plus</v-icon> Row</v-btn>\n                <v-btn color=\"primary\" @click=\"$event => addColumn(sheet)\"><v-icon>mdi-plus</v-icon> Column</v-btn>\n                &nbsp;\n                <v-btn color=\"error\" @click=\"$event => removeRow(sheet)\"><v-icon>mdi-delete</v-icon> Row</v-btn>\n                <v-btn color=\"error\" @click=\"$event => removeColumn(sheet)\"><v-icon>mdi-delete</v-icon> Column</v-btn>\n                &nbsp;\n                <v-btn color=\"primary\" @click=\"$event => moveSheet(sheet, true)\"><v-icon>mdi-content-copy</v-icon> Sheet</v-btn>\n                <v-btn color=\"warning\" @click=\"$event => moveSheet(sheet)\"><v-icon>mdi-rename-box</v-icon> Sheet</v-btn>\n                <v-btn color=\"error\" :disabled=\"wrappedSheets.length <= 1\" @click=\"$event => removeSheet(sheet)\"><v-icon>mdi-delete</v-icon> Sheet</v-btn>\n              </v-toolbar>\n            </v-tab-item>\n          </v-tabs-items>\n        </template>\n      </v-card-text>\n    </v-card>\n\n    <EditTasks class=\"tasks-card\" v-model=\"value.tasks\" :sheetnames=\"sheetnames\" />\n\n    <EditAnswerSpec class=\"answer-card\" v-model=\"value.answerSpec\" :currentSheet=\"currentSheetName\" />\n\n    <input style=\"display: none;\" type=\"file\" ref=\"fileInput\" accept=\".xlsx,.xls,.csv\" @change=\"importChosen\" />\n  </div>\n</template>\n\n<script>\nimport EditTasks from './EditTasks';\nimport EditAnswerSpec from './EditAnswerSpec.vue'\n\nimport SpreadsheetTable from './SpreadsheetTable.vue';\n\nimport { Workbook } from 'exceljs';\n\nexport default {\n  name: 'EditHyperFormulaQuestion',\n  props: [\n    'value', 'focused'\n  ],\n  components: {\n    SpreadsheetTable,\n    EditAnswerSpec,\n    EditTasks\n  },\n  data: () => ({\n    currentTab: 0,\n    truncateOptions: [ {text: 'Retain full values', value: false}, {text: 'Truncate from start', value: 'start'}, {text: 'Truncate from end', value: 'end'}],\n    caseOptions: [ {text: 'Retain case', value: false}, {text: 'Convert to upper-case', value: 'upper'}, {text: 'Convert to lower-case', value: 'lower'}]\n  }),\n  methods: {\n    valueChanged() {\n      this.$emit('input', this.value);\n    },\n    importSheet() {\n      this.$refs.fileInput.click();\n    },\n    importChosen(fileEvent) {\n      if (fileEvent.target.files[0]) {\n        const file = fileEvent.target.files[0];\n        const reader = new FileReader();\n        reader.onload = e => {\n          try {\n            const wb = new Workbook();\n            const data = e.target.result;\n            const newData = {};\n            wb.xlsx.load(data)\n            .then(\n              res => {\n                for (const sheet of res.worksheets) {\n                  const name = sheet.name;\n                  const matrix = [];\n                  console.log(name);\n                  sheet.eachRow(row => {\n                    row.eachCell(cell => {\n                      const rowIdx = cell.row - 1;\n                      const colIdx = cell.col - 1;\n                      let entry = cell.value;\n                      if (cell.formula) {\n                        entry = '=' + cell.formula;\n                      }\n                      if (!matrix[rowIdx]) {\n                          matrix[rowIdx] = [];\n                        }  \n                      matrix[rowIdx][colIdx] = entry;\n                    })\n                  })\n                  newData[name] = matrix;\n                }\n                this.$set(this.value, 'sheets', newData);\n            });\n          }\n          catch(err) {\n            console.log(err);\n          }\n        }\n        reader.readAsArrayBuffer(file);\n      }\n    },\n    addSheet() {\n      const sheetName = prompt('Enter a name for the new sheet');\n      if (sheetName && sheetName.trim()) {\n        this.$set(this.value.sheets, sheetName.trim(), [['']]);\n      }\n    },\n    addColumn(sheet) {\n      for (const row of sheet.values) {\n        row.push('');\n      }\n    },\n    addRow(sheet) {\n      const newRow = Array(sheet.dimensions.width).fill('');\n      sheet.values.push(newRow);\n    },\n    removeColumn(sheet) {\n      for (const row of sheet.values) {\n        if (row.length > 0) {\n          row.splice(row.length - 1, 1);\n        }\n      }\n    },\n    removeRow(sheet) {\n      if (sheet.values.length > 0) {\n        sheet.values.splice(sheet.values.length - 1, 1);\n      }\n    },\n    moveSheet(sheet, copy) {\n      const sheetName = prompt(copy ? 'Enter a name for the copy' : 'Enter a new name for the sheet');\n      if (sheetName && sheetName.trim()) {\n        const oldName = sheet.name;\n        const newName = sheetName.trim();\n        if (copy) {\n          const copy = [];\n          for (const row of sheet.values) {\n            copy.push([...row]);\n          }\n          sheet.values = copy;\n        }\n        else {\n          this.removeSheet(sheet);\n          // Als rename references in the tasks\n          for (const task of this.value.tasks) {\n            if (task.targetSheetName == oldName) {\n              task.targetSheetName = newName;\n            }\n          }\n        }\n        this.$set(this.value.sheets, sheetName.trim(), sheet.values);\n      }\n    },\n    removeSheet(sheet) {\n      this.$delete(this.value.sheets, sheet.name);\n    },\n    updateSheet(sheet) {\n      this.$set(this.value.sheets[sheet.name], 'values', sheet.values);\n      this.$emit('input', this.value);\n    },\n    addTask() {\n      const tasks = this.value.tasks;\n      tasks.push(\n        { title: `Task ${tasks.length + 1}`,\n          description: 'Write a formula for cell `A1` that does something useful',\n          targetSheetName: this.sheetnames[this.currentTab],\n          targetCell: 'A1',\n          defaultFormula: '',\n          copyTo: []\n        }       \n      )\n    },\n    deleteTask(index) {\n      if (this.value && this.value.tasks) {\n        this.value.tasks.splice(index, 1);\n      }\n    },\n    addCopyTo(task) {\n      if (task && task.copyTo) {\n        task.copyTo.push('A1');\n      }\n    },\n    addAnswerElement() {\n      if (this.value && this.value?.answerSpec?.entries) {\n        this.value.answerSpec.entries.push({\n          type: 'cell-value',\n          source: this.sheetnames[this.currentTab] + '!A1',\n          formula: '=' + this.sheetnames[this.currentTab] + '!A1',\n          decimals: 2,\n          iterations: 1,\n          truncate: false,\n          truncateLength: 1,\n          case: false,\n          trim: true\n        });\n      }\n    },\n    deleteAnswerElement(index) {\n      this.value.answerSpec.entries.splice(index, 1);\n    }    \n  },\n  computed: {\n    wrappedSheets() {\n      const result = [];\n      if (this.value && this.value.sheets) {\n        for (const [key, value] of Object.entries(this.value.sheets)) {\n          result.push({\n            name: key,\n            dimensions: { height: value.length, width: value[0] ? value[0].length : 0},\n            values: value\n          })\n        }\n      }\n      return result;\n    },\n    sheetnames() {\n      if (this.value && this.value.sheets) {\n        return [...Object.keys(this.value.sheets)];\n      }\n      return [];\n    },\n    currentSheetName() {\n      return this.sheetnames[this.currentTab];\n    }\n  },\n};\n</script>\n\n<style scoped>\n\ndiv.answer-entry-card:not(:first-child) {\n  margin-left: 1em;\n}\n\n.separator-field {\n  max-width: 15em;\n}\ndiv.task-cards {\n  display: flex;\n}\ndiv.task-card {\n  margin-bottom: 1em;\n  max-width: 50em;\n  flex-grow: 1;\n}\ndiv.task-card:not(:first-child) {\n  margin-left: 1em;\n}\n\ndiv.data-card, div.tasks-card, div.answer-card, div.config-card {\n  margin: 0.75em;\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditHyperFormulaQuestion.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditHyperFormulaQuestion.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./EditHyperFormulaQuestion.vue?vue&type=template&id=516d2065&scoped=true\"\nimport script from \"./EditHyperFormulaQuestion.vue?vue&type=script&lang=js\"\nexport * from \"./EditHyperFormulaQuestion.vue?vue&type=script&lang=js\"\nimport style0 from \"./EditHyperFormulaQuestion.vue?vue&type=style&index=0&id=516d2065&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"516d2065\",\n  null\n  \n)\n\nexport default component.exports","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport HyperFormulaQuestion from './HyperFormulaQuestion.vue';\nimport EditHyperFormulaQuestion from './EditHyperFormulaQuestion';\n\nimport { BASE_ENTRY } from './utils.js';\n\nfunction initialize(newQuestion) {\n    return {...newQuestion,\n        sheets: { 'Sales' : [\n                    ['CustomerID', 'Product Name', 'Quantity', 'Price', 'Revenue'],\n                    [51236, 'Soap', 12, 1.50, ''],\n                    [73452, 'Onions', 8, 0.25, ''],\n                    [25623, 'Iceberg Lettuce', 2, 1.25, ''],\n                    [92834, 'Coffee', 12, 1.99, ''],\n                    ['', '', '', '', ''],\n                    ['Average Revenue', '', '', '']\n                ],\n            },\n        namedRanges: [],\n        tasks: [\n            {\n                title: 'Compute revenue',\n                description: 'Write a formula for cell `E2` that computes the revenue as the product of price and quantity.',\n                targetSheetName: 'Sales',\n                targetCell: 'E2',\n                defaultFormula: '',\n                copyTo: ['E3:E5']\n            },\n            {\n                title: 'Average revenue',\n                description: 'Write a formula for cell `B7` that computes the average revenue of the products.',\n                targetSheetName: 'Sales',\n                targetCell: 'B7',\n                defaultFormula: '',\n                copyTo: []\n            }            \n        ],\n        answerSpec: {\n            entrySeparator: ' :: ',\n            valueSeparator: '-',\n            hashSeparator: ':|:',\n            entries: [\n                { ...BASE_ENTRY, type: 'range-hash', source: 'Sales!E2:E5', decimals: 2, truncate: false, iterations: 1 },\n                { ...BASE_ENTRY, type: 'range-values', source: 'Sales!B7', decimals: 2, truncate: false },\n                { ...BASE_ENTRY, type: 'range-formulas', source: 'Sales!E2' },\n                { ...BASE_ENTRY, type: 'range-formulas', source: 'Sales!B7' },\n            ]\n        }\n    }\n}\n\nfunction exportAnswer(question, answer) {\n    return new Promise((resolve, reject) => {\n        try {\n            const config = question.exportConfig;\n            if (config.type == 'file') {\n                resolve({ type: 'file', filename: config.filename, contentType: 'text', content: JSON.stringify(answer)});\n            }\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n}\n\nexport default {\n    description: 'Write spreadsheet formulas using the HyperFormula software',\n    view: HyperFormulaQuestion,\n    edit: EditHyperFormulaQuestion,\n    initialize,\n    exportAnswer,\n    defaultExtension: '.json',\n};","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport blockly from './blockly';\nimport coding from './coding';\nimport multicoding from './multicoding';\nimport hyperformula from './hyperformula';\n\nexport const types = {\n     blockly,\n     coding,\n     multicoding,\n     hyperformula\n};\n\nexport function exportAnswer(question, answer, component) {\n     return new Promise((resolve, reject) => {\n          try {\n               const config = question.exportConfig;\n               if (config.type == 'code') {\n                    // Output an answer code\n                    const content = answer.shortAnswer;\n                    resolve({ type: 'code', content });\n               }\n               else if (config.type == 'json') {\n                    // Output .json file\n                    const content = JSON.stringify(answer);\n                    resolve({ type: 'file', filename: config.filename, contentType: 'text', content });\n               }\n               else if (config.type == 'file') {\n                    // Delegate file generate to the question specific answer generator\n                    types[question.type].exportAnswer(question, answer, component)\n                    .then(result => resolve(result))\n                    .catch(err => reject(err));\n               }\n          }\n          catch (err) {\n               reject(err);\n          }\n     });\n}\n\nexport function getDefaultExtension(question) {\n     if (question.exportConfig && question.exportConfig == 'json') {\n          return '.answer.json';\n     }\n     return types[question.type].defaultExtension;\n}\n\nexport default types;","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlocklyWorkspace.vue?vue&type=style&index=0&id=ec159108&prod&scoped=true&lang=css\"","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nexport function copyHtml(html) {\n    // TODO: in the future it is probably better to use the proper Clipboard API\n    const el = document.createElement('div');\n    el.innerHTML = html;\n    document.body.appendChild(el);\n    const range = document.createRange();\n    range.selectNode(el);\n    const selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n    try {\n        document.execCommand('copy');\n    }\n    catch (err) {\n        console.log('Failed to copy the contents to the clipboard', err);\n    }\n    selection.removeAllRanges();\n    document.body.removeChild(el);\n}\n\nexport function copyText(text) {\n    if (navigator.clipboard) {\n        navigator.clipboard.writeText(text);\n    }\n    else {\n        const el = document.createElement('textarea');\n        el.value = text;\n        el.style.display = 'none';\n        document.body.appendChild(el);\n        el.focus();\n        el.select();\n        try {\n            document.execCommand('copy');\n        }\n        catch (err) {\n            console.log('Failed to copy the contents to the clipboard', err);\n        }\n        document.body.removeChild(el);\n    }\n}\n","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nconst bc = new BroadcastChannel('singleton-focus');    \n\nconst plugin = store => {\n    console.log('Activating singleton plugin')\n    bc.onmessage = (msg) => {\n        const data = msg.data;\n        if (data.type == 'lostFocus'\n            && store.state.question?.uuid\n            && store.state.question.uuid == data.uuid) {\n                store.commit('lostFocus');\n                console.log('Focus lost');\n        }\n    };\n\n    store.subscribe((mutation, state) => {\n        if (mutation.type == 'setQuestion' && state.question.uuid) {\n            bc.postMessage({type: 'lostFocus', uuid: state.question.uuid});\n        }\n    })\n}\n\nexport default plugin;","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nfunction getKey(state) {\n    return `answer_${state.question.uuid}`;\n}\n\nfunction storeData(state) {\n    const key = getKey(state);\n    const value = JSON.stringify(state.answer);\n    window.localStorage[key] = value;\n}\n\nfunction readData(state) {\n    const key = getKey(state);\n    const value = window.localStorage[key];\n    if (value) {\n        return JSON.parse(value);\n    }\n    return null;\n}\n\nconst plugin = store => {\n    store.subscribe((mutation, state) => {\n        if (mutation.type == 'setQuestion' && state.question.uuid) {\n            // Load answer from localStorage\n            const answer = readData(state);\n            if (answer) {\n                store.commit('setAnswer', answer);\n            }\n        }\n        if (mutation.type == 'setAnswer' && state.question.uuid) {\n            // Save answer to localStorage\n            storeData(state);\n        }\n    })\n};\n\nexport default plugin;","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport singletonPlugin from '@/store/singletonPlugin.js';\nimport persistencePlugin from '@/store/persistencePlugin.js';\n\nimport { LOCAL_PREFIX } from '../util/hashtools';\nimport { v4 as uuidv4 } from 'uuid';\n\nconst pluginsAvailable = {\n  singleton: singletonPlugin,\n  persistence: persistencePlugin\n}\n\nVue.use(Vuex)\n\nconst baseStore = {\n  state: {\n    editor: false,\n    question: null,\n    loadError: null,\n    hasFocus: true,\n    answer: null,\n    loading: false,\n    saveUrl: null,\n  },\n  mutations: {\n    setQuestion(state, question) {\n      state.loading = false;\n      state.question = question;\n      \n      // TODO: Move window state modification from the store to a plugin?\n      if (state.editor) {\n        document.title = 'Edit - ' + question.name;\n      }\n      else {\n        document.title = question.name;\n      }\n\n      if (!state.editor && question.storeLocal && !window.location.hash.substring(1).startsWith(LOCAL_PREFIX)) {\n        const mapKey = 'map_' + question.uuid;\n        const localUuid = window.localStorage[mapKey] || uuidv4();\n        const questionKey = 'question_'+localUuid;\n        window.localStorage[questionKey] = JSON.stringify(question);\n        window.localStorage[mapKey] = localUuid;\n        window.location.hash = '#' + LOCAL_PREFIX + localUuid;\n      }\n    },\n    setEditor(state, value) {\n      state.editor = value;\n    },\n    setLoadError(state, error) {\n      state.loadError = error;\n    },\n    lostFocus(state) {\n      state.hasFocus = false;\n    },\n    setAnswer(state, answer) {\n      state.answer = answer;\n    },\n    setLoading(state, value) {\n      state.loading = value;\n    },\n    setSaveUrl(state, value) {\n      state.saveUrl = value;\n      console.log('Setting save URL to '+value);\n    }\n  },\n  actions: {\n    loadExternal(context, url) {\n      console.log('Loading question from external URL '+url);\n      context.commit('setLoading', true);\n        fetch(url)\n        .then(resp => {\n          if (resp.ok) {\n            resp.json()\n            .then(json => {\n                console.log('Question data retrieved from external source', json);\n                context.commit('setQuestion', json);\n            })\n            .catch(err => {\n              console.log(err);\n              context.commit('setLoadError', 'Error: the remote data does not look like json data. '+err);\n              context.commit('setLoading', false);\n            })\n          }\n          else {\n            context.commit('setLoadError', 'Error while loading the remote question question. Response status: '+resp.status+' '+resp.statusText);\n            context.commit('setLoading', false);\n          }\n        })\n        .catch(err => {\n          console.log(err);\n          context.commit('setLoadError', 'Error while performing retrieving remote content. '+err);\n          context.commit('setLoading', false);\n        })\n    }\n  },\n  modules: {\n  },\n  getters: {  \n    questionName(state) {\n      if (state.question) {\n        return state.question.name;\n      }\n      return 'No Question Data';\n    },\n    questionType(state) {\n      if (state.question) {\n        return state.question.type;\n      }\n      return '';\n    }\n  },\n};\n\nfunction createStore(enablePlugins = ['singleton', 'persistence']) {\n  const plugins = [];\n  for (const p of enablePlugins) {\n    const plugin = pluginsAvailable[p];\n    if (plugin) {\n      plugins.push(plugin)\n    }\n    else {\n      throw \"Plugin key '\"+p+\"' is unknown. Can not create VueX store.\";\n    }\n  }  \n  return new Vuex.Store({...baseStore, plugins});\n}\n\nexport default createStore;\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiCodingQuestion.vue?vue&type=style&index=0&id=e23e5894&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{ref:\"renderDiv\",staticClass:\"adjust-md\",domProps:{\"innerHTML\":_vm._s(_vm.rendered)}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <div class=\"adjust-md\" ref=\"renderDiv\" v-html=\"rendered\" />\n</template>\n\n<script>\nimport Prism from \"prismjs\";\n\n// CSS files\nimport \"prismjs/themes/prism.css\";  \n\n// Languages\nimport 'prismjs/components/prism-c.min';\nimport 'prismjs/components/prism-cpp.min';\nimport 'prismjs/components/prism-java.min';\nimport 'prismjs/components/prism-javascript.min';\nimport 'prismjs/components/prism-json.min';\nimport 'prismjs/components/prism-python.min';\nimport 'prismjs/components/prism-r.min';\n\n\nimport markdownIt from 'markdown-it';\nimport 'katex/dist/katex.min.css';\nimport 'katex/dist/katex';\nimport autorender from 'katex/dist/contrib/auto-render';\n\nconst KATEX_OPTIONS = {\n  delimiters: [\n    {left: \"$$\", right: \"$$\", display: true},\n    {left: \"$\", right: \"$\", display: false},\n    {left: \"\\\\(\", right: \"\\\\)\", display: false},\n    {left: \"\\\\[\", right: \"\\\\]\", display: true}\n  ]\n};\n\n// Support code blocks\nconst MDI = markdownIt({\n  highlight(str, lang) {\n    if (lang) {\n      const l = lang.replaceAll('{','').replaceAll('}','');\n      \n      if (l in Prism.languages) {\n        try {\n          return '<pre class=\"language-'+l+'\"><code>' +\n                Prism.highlight(str, Prism.languages[l], l) +\n                '</code></pre>';\n        } catch(__) { /* Deliberately empty */ }\n      }\n    }\n    return '<pre class=\"language-none\"><code>' + MDI.utils.escapeHtml(str) + '</code></pre>';\n  }\n});\n\n// Make sure links open in a new tab\nvar defaultRender = MDI.renderer.rules.link_open || function(tokens, idx, options, env, self) {\n  return self.renderToken(tokens, idx, options);\n};\n\nMDI.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n  // If you are sure other plugins can't add `target` - drop check below\n  var aIndex = tokens[idx].attrIndex('target');\n\n  if (aIndex < 0) {\n    tokens[idx].attrPush(['target', '_blank']); // add new attribute\n  } else {\n    tokens[idx].attrs[aIndex][1] = '_blank';    // replace value of existing attr\n  }\n\n  // pass token to default renderer.\n  return defaultRender(tokens, idx, options, env, self);\n};\n\n// Manipulate image display if necessary...\n// MDI.renderer.rules.image = function (tokens, idx, options, env, self) {\n//   console.log('Image!!');\n\n//   return defaultRender(tokens, idx, options, env, self);\n// }\n\nexport default {\n  name: 'MarkdownDisplay',\n  props: [\n    'source'\n  ],\n  mounted() {\n    this.update();\n  },\n  data: () => ({\n  }),\n  methods: {\n    update() {\n      const el = this.$refs.renderDiv;\n      autorender(el, KATEX_OPTIONS);\n      Prism.highlightAll();\n    }\n  },\n  computed: {\n    rendered() {\n      return MDI.render(this.source);\n    }\n  },\n  watch: {\n    source() {\n      this.$nextTick(this.update);\n    }\n  }\n};\n</script>\n\n<style>\n.adjust-md p:last-child {\n  margin-bottom: 0;\n}\n\n.adjust-md code::before {\n  content: \"\" !important;\n  display: none;\n}\n\n.adjust-md code::after {\n  display: none;\n}\n\n.adjust-md code {\n  box-shadow: none !important;\n  color: black !important;\n}\n\n.adjust-md.question-text pre[class*=\"language-\"] {\n  padding: 0.25em !important;\n  margin-right: 0.5em;\n}\n\n.adjust-md pre[class*=\"language-\"] code span.token.operator {\n  background: rgba(0,0,0,0);\n}\n\n.adjust-md pre code {\n  display: inline-block !important;\n  width: 100%;\n  padding: 0px;\n}\n\n.adjust-md pre {\n  padding: 0px;\n}\n\n.adjust-md ul, .adjust-md ol, .adjust-md pre {\n  margin-bottom: 16px;\n}\n\n.adjust-md img {\n  max-width: 100%;\n}\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownDisplay.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownDisplay.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MarkdownDisplay.vue?vue&type=template&id=08001674\"\nimport script from \"./MarkdownDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./MarkdownDisplay.vue?vue&type=script&lang=js\"\nimport style0 from \"./MarkdownDisplay.vue?vue&type=style&index=0&id=08001674&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCodingQuestion.vue?vue&type=style&index=1&id=14c73b06&prod&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownDisplay.vue?vue&type=style&index=0&id=08001674&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMultiCodingQuestion.vue?vue&type=style&index=0&id=6ddc69ae&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EnvironmentDisplay.vue?vue&type=style&index=0&id=5bf86fad&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditAnswerSpec.vue?vue&type=style&index=0&id=88a2ca0e&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ValueDisplay.vue?vue&type=style&index=0&id=7292e807&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HyperFormulaQuestion.vue?vue&type=style&index=0&id=193f6c9e&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMultiRunDialog.vue?vue&type=style&index=0&id=161e8d97&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"width\":_vm.width},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\",attrs:{\"primary-title\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-card-text',[_c('v-alert',{attrs:{\"type\":_vm.type}},[_c('MarkdownDisplay',{attrs:{\"source\":_vm.text}})],1),_c('div',[_vm._v(\" Are you sure you want to continue? \")])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.confirm)?_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":function($event){return _vm.yes()}}},[_vm._v(\"Yes\")]):_vm._e(),(_vm.buttons)?_vm._l((_vm.buttons),function(b,i){return _c('v-btn',{key:i,attrs:{\"color\":b.color},on:{\"click\":function($event){return _vm.yes(i)}}},[_vm._v(_vm._s(b.label))])}):_vm._e(),_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.no()}}},[_vm._v(\"Cancel\")])],2)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n-->\n\n<template>\n  <v-dialog :width=\"width\" v-model=\"visible\">\n    <v-card>\n      <v-card-title class=\"headline\" primary-title>\n        {{title}}\n      </v-card-title>\n      <v-card-text>\n        <v-alert :type=\"type\">\n          <MarkdownDisplay :source=\"text\" />\n        </v-alert>\n        <div>\n          Are you sure you want to continue?\n        </div>\n      </v-card-text>\n      <v-divider></v-divider>\n      <v-card-actions>\n        <v-spacer></v-spacer>\n        <v-btn v-if=\"confirm\" @click=\"yes()\" color=\"primary\">Yes</v-btn>\n        <template v-if=\"buttons\">\n          <v-btn v-for=\"(b,i) in buttons\" :key=\"i\" :color=\"b.color\" @click=\"yes(i)\">{{b.label}}</v-btn>\n        </template>\n        <v-btn @click=\"no()\" color=\"secondary\">Cancel</v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport MarkdownDisplay from '@/components/util/MarkdownDisplay.vue';\n\nexport default {\n  name: 'ConfirmDialog',\n  components: { MarkdownDisplay },\n  props: [\n    'width',\n    'title',\n    'type',\n    'text',\n    'confirm',\n    'buttons'\n  ],\n  methods: {\n    show() {\n      this.visible = true;\n    },\n    yes(i) {\n      this.visible = false;\n      if (i || i === 0) {\n        this.buttons[i].action();\n      }\n      else {\n        this.confirm();\n      }\n    },\n    no() {\n      this.visible = false;\n    }\n  },\n  data: () => ({\n    visible: false\n  }),\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=585a050c\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=js\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * This file is part of External-Question.\n * It is a single page web static web-application for advanced exercises related to computer skills.\n * \n * Copyright (C) 2023 Paul Bouman\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program.  If not, see https://www.gnu.org/licenses/\n *\n */\n\nimport { Base64 } from 'js-base64'\nimport pako from 'pako';\n\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\n\nexport const LOCAL_PREFIX = '{!~local~!}';\n\nexport function unpack(hashStr) {\n    const zippedData = Base64.toUint8Array(hashStr);\n    const unzippedData = pako.inflate(zippedData);\n    const jsonStr = decoder.decode(unzippedData);\n    const container = JSON.parse(jsonStr);\n    // TODO: in the future we could add validation to the container\n    return { data: container.payload, validated: false, saveUrl: container?.saveUrl };\n}\n\nexport function pack(object) {\n    const container = { payload: object };\n    const jsonStr = JSON.stringify(container);\n    const unzippedData = encoder.encode(jsonStr);\n    const zippedData = pako.deflate(unzippedData);\n    const base64Data = Base64.fromUint8Array(zippedData, true);\n    return base64Data;\n}\n\nexport function processHashInStore(store, loadAction='setQuestion', errorAction='setLoadError') {    \n    const updateHash = () => {\n        const hash = window.location.hash.substring(1);\n        if (hash.length > 0) {\n          // \n          if (hash.startsWith(LOCAL_PREFIX)) {\n            const localUuid = hash.substring(LOCAL_PREFIX.length);\n            const key = 'question_'+localUuid;\n            if (window.localStorage[key]) {\n              const question = JSON.parse(window.localStorage[key]);\n              store.commit(loadAction, question);\n            }\n            return;\n          }\n          try {\n            let unpackResult;\n            try {\n                unpackResult = unpack(hash);\n            }\n            catch (err) {\n                // If there is an old link, this fallback ensures it still works\n                console.log('Error while decoding question data', err);\n                console.log('Attempting a fallback to direct decoding of the hash');\n                const json = Base64.decode(hash);\n                unpackResult = { data: JSON.parse(json), validated: false };\n            }\n            console.log(unpackResult);\n            const question = unpackResult.data;\n            const saveUrl = unpackResult?.saveUrl;\n            console.log(\"Question data unpacked\", question);\n            if (question?.type == 'redirect') {\n              store.dispatch('loadExternal', question.url);\n            }\n            else {\n              // In the future, we could check validation here or in the store itself when loading the question\n              store.commit(loadAction, question);\n            }\n            if (saveUrl) {\n              store.commit('setSaveUrl', saveUrl);\n            }\n          }\n          catch (e) {\n            console.log(e);\n            store.commit(errorAction, e);\n          }\n        }\n    }  \n    window.addEventListener('hashchange', updateHash);\n    updateHash();\n}\n\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlocklyQuestion.vue?vue&type=style&index=1&id=954a2cc0&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpreadsheetTable.vue?vue&type=style&index=0&id=2f6ca3ab&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBlocklyQuestion.vue?vue&type=style&index=0&id=50b7f684&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiCodingQuestion.vue?vue&type=style&index=1&id=e23e5894&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorRunDialog.vue?vue&type=style&index=0&id=18a98f9e&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCodingQuestion.vue?vue&type=style&index=0&id=14c73b06&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditMultiCodingQuestion.vue?vue&type=style&index=1&id=6ddc69ae&prod&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CodingQuestion.vue?vue&type=style&index=0&id=1ed96f2e&prod&scoped=true&lang=css\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditHyperFormulaQuestion.vue?vue&type=style&index=0&id=516d2065&prod&scoped=true&lang=css\""],"sourceRoot":""}