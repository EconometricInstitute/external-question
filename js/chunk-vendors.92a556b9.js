(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"0068":function(e,t,n){"use strict";function i(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===i(e)}var r=Object.prototype.hasOwnProperty;function s(e,t){return r.call(e,t)}function a(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}function l(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function u(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function c(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var h=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,d=/&([a-z#][a-z0-9]{1,31});/gi,p=new RegExp(h.source+"|"+d.source,"gi"),f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,g=n("bd68");function m(e,t){var n=0;return s(g,t)?g[t]:35===t.charCodeAt(0)&&f.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),u(n))?c(n):e}function _(e){return e.indexOf("\\")<0?e:e.replace(h,"$1")}function v(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(p,(function(e,t,n){return t||m(e,n)}))}var y=/[&<>"]/,b=/[&<>"]/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function C(e){return w[e]}function S(e){return y.test(e)?e.replace(b,C):e}var E=/[.?*+^$[\]\\(){}|-]/g;function T(e){return e.replace(E,"\\$&")}function k(e){switch(e){case 9:case 32:return!0}return!1}function x(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var L=n("7ca0");function I(e){return L.test(e)}function O(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function D(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}t.lib={},t.lib.mdurl=n("d8a6"),t.lib.ucmicro=n("d5d1"),t.assign=a,t.isString=o,t.has=s,t.unescapeMd=_,t.unescapeAll=v,t.isValidEntityCode=u,t.fromCodePoint=c,t.escapeHtml=S,t.arrayReplaceAt=l,t.isSpace=k,t.isWhiteSpace=x,t.isMdAsciiPunct=O,t.isPunctChar=I,t.escapeRE=T,t.normalizeReference=D},"00ee":function(e,t,n){var i=n("b622"),o=i("toStringTag"),r={};r[o]="z",e.exports="[object z]"===String(r)},"01b0":function(e,t,n){},"04f8":function(e,t,n){var i=n("2d00"),o=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},"059c":function(e,t,n){"use strict";var i=n("600f"),o=n.n(i),r={name:"MonacoEditor",props:{original:String,value:{type:String,required:!0},theme:{type:String,default:"vs"},language:String,options:Object,amdRequire:{type:Function},diffEditor:{type:Boolean,default:!1}},model:{event:"change"},watch:{options:{deep:!0,handler:function(e){if(this.editor){var t=this.getModifiedEditor();t.updateOptions(e)}}},value:function(e){if(this.editor){var t=this.getModifiedEditor();e!==t.getValue()&&t.setValue(e)}},original:function(e){if(this.editor&&this.diffEditor){var t=this.getOriginalEditor();e!==t.getValue()&&t.setValue(e)}},language:function(e){if(this.editor){var t=this.getModifiedEditor();this.monaco.editor.setModelLanguage(t.getModel(),e)}},theme:function(e){this.editor&&this.monaco.editor.setTheme(e)}},mounted:function(){var e=this;if(this.amdRequire)this.amdRequire(["vs/editor/editor.main"],(function(){e.monaco=window.monaco,e.$nextTick((function(){e.initMonaco(window.monaco)}))}));else{var t=n("8ea9");this.monaco=t,this.$nextTick((function(){e.initMonaco(t)}))}},beforeDestroy:function(){this.editor&&this.editor.dispose()},methods:{initMonaco:function(e){var t=this;this.$emit("editorWillMount",this.monaco);var n=o()({value:this.value,theme:this.theme,language:this.language},this.options);if(this.diffEditor){this.editor=e.editor.createDiffEditor(this.$el,n);var i=e.editor.createModel(this.original,this.language),r=e.editor.createModel(this.value,this.language);this.editor.setModel({original:i,modified:r})}else this.editor=e.editor.create(this.$el,n);var s=this.getModifiedEditor();s.onDidChangeModelContent((function(e){var n=s.getValue();t.value!==n&&t.$emit("change",n,e)})),this.$emit("editorDidMount",this.editor)},getMonaco:function(){return this.editor},getEditor:function(){return this.editor},getModifiedEditor:function(){return this.diffEditor?this.editor.getModifiedEditor():this.editor},getOriginalEditor:function(){return this.diffEditor?this.editor.getOriginalEditor():this.editor},focus:function(){this.editor.focus()}},render:function(e){return e("div")}};"undefined"!==typeof window&&window.Vue&&window.Vue.component(r.name,r),t["a"]=r},"0632":function(e,t,n){},"06cf":function(e,t,n){var i=n("83ab"),o=n("c65b"),r=n("d1e7"),s=n("5c6c"),a=n("fc6a"),l=n("a04b"),u=n("1a2d"),c=n("0cfb"),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=a(e),t=l(t),c)try{return h(e,t)}catch(n){}if(u(e,t))return s(!o(r.f,e,t),e[t])}},"0758":function(e,t,n){"use strict";var i=n("0068").isSpace;e.exports=function(e,t,n,o){var r,s,a,l,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(r=e.src.charCodeAt(u),35!==r||u>=c)return!1;s=1,r=e.src.charCodeAt(++u);while(35===r&&u<c&&s<=6)s++,r=e.src.charCodeAt(++u);return!(s>6||u<c&&!i(r))&&(o||(c=e.skipSpacesBack(c,u),a=e.skipCharsBack(c,35,u),a>u&&i(e.src.charCodeAt(a-1))&&(c=a),e.line=t+1,l=e.push("heading_open","h"+String(s),1),l.markup="########".slice(0,s),l.map=[t,e.line],l=e.push("inline","",0),l.content=e.src.slice(u,c).trim(),l.map=[t,e.line],l.children=[],l=e.push("heading_close","h"+String(s),-1),l.markup="########".slice(0,s)),!0)}},"0789":function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return d}));var i=n("d9f7");function o(e=[],...t){return Array().concat(e,...t)}function r(e,t="top center 0",n){return{name:e,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:n},origin:{type:String,default:t}},render(t,n){const r="transition"+(n.props.group?"-group":""),s={props:{name:e,mode:n.props.mode},on:{beforeEnter(e){e.style.transformOrigin=n.props.origin,e.style.webkitTransformOrigin=n.props.origin}}};return n.props.leaveAbsolute&&(s.on.leave=o(s.on.leave,e=>{const{offsetTop:t,offsetLeft:n,offsetWidth:i,offsetHeight:o}=e;e._transitionInitialStyles={position:e.style.position,top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height},e.style.position="absolute",e.style.top=t+"px",e.style.left=n+"px",e.style.width=i+"px",e.style.height=o+"px"}),s.on.afterLeave=o(s.on.afterLeave,e=>{if(e&&e._transitionInitialStyles){const{position:t,top:n,left:i,width:o,height:r}=e._transitionInitialStyles;delete e._transitionInitialStyles,e.style.position=t||"",e.style.top=n||"",e.style.left=i||"",e.style.width=o||"",e.style.height=r||""}})),n.props.hideOnLeave&&(s.on.leave=o(s.on.leave,e=>{e.style.setProperty("display","none","important")})),t(r,Object(i["a"])(n.data,s),n.children)}}}function s(e,t,n="in-out"){return{name:e,functional:!0,props:{mode:{type:String,default:n}},render(n,o){return n("transition",Object(i["a"])(o.data,{props:{name:e},on:t}),o.children)}}}var a=n("80d2"),l=function(e="",t=!1){const n=t?"width":"height",i="offset"+Object(a["v"])(n);return{beforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,overflow:e.style.overflow,[n]:e.style[n]}},enter(t){const o=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";const r=t[i]+"px";t.style[n]="0",t.offsetHeight,t.style.transition=o.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame(()=>{t.style[n]=r})},afterEnter:r,enterCancelled:r,leave(e){e._initialStyle={transition:"",overflow:e.style.overflow,[n]:e.style[n]},e.style.overflow="hidden",e.style[n]=e[i]+"px",e.offsetHeight,requestAnimationFrame(()=>e.style[n]="0")},afterLeave:o,leaveCancelled:o};function o(t){e&&t._parent&&t._parent.classList.remove(e),r(t)}function r(e){const t=e._initialStyle[n];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[n]=t),delete e._initialStyle}};r("carousel-transition"),r("carousel-reverse-transition");const u=r("tab-transition"),c=r("tab-reverse-transition"),h=(r("menu-transition"),r("fab-transition","center center","out-in"),r("dialog-transition"),r("dialog-bottom-transition"),r("dialog-top-transition"),r("fade-transition")),d=(r("scale-transition"),r("scroll-x-transition"),r("scroll-x-reverse-transition"),r("scroll-y-transition"),r("scroll-y-reverse-transition"),r("slide-x-transition"));r("slide-x-reverse-transition"),r("slide-y-transition"),r("slide-y-reverse-transition"),s("expand-transition",l()),s("expand-x-transition",l("",!0))},"0798":function(e,t,n){"use strict";n("0c18");var i=n("10d2"),o=n("afdd"),r=n("9d26"),s=n("f2e7"),a=n("7560"),l=n("2b0e"),u=l["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),c=n("58df"),h=n("d9bd");t["a"]=Object(c["a"])(i["a"],s["a"],u).extend({name:"v-alert",props:{border:{type:String,validator(e){return["top","right","bottom","left"].includes(e)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(e){return"string"===typeof e||!1===e}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(e){return["info","error","success","warning"].includes(e)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let e={staticClass:"v-alert__border",class:{["v-alert__border--"+this.border]:!0}};return this.coloredBorder&&(e=this.setBackgroundColor(this.computedColor,e),e.class["v-alert__border--has-color"]=!0),this.$createElement("div",e)},__cachedDismissible(){if(!this.dismissible)return null;const e=this.iconColor;return this.$createElement(o["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(r["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(r["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const e={...i["a"].options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(e["v-alert--border-"+this.border]=!0),e},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$"+this.type)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||a["a"].options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&Object(h["a"])("outline","outlined",this)},methods:{genWrapper(){const e=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],t={staticClass:"v-alert__wrapper"};return this.$createElement("div",t,e)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let e={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const t=this.hasText?this.setTextColor:this.setBackgroundColor;e=t(this.computedColor,e)}return this.$createElement("div",e,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(e){const t=this.genAlert();return this.transition?e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[t]):t}})},"07fa":function(e,t,n){var i=n("50c4");e.exports=function(e){return i(e.length)}},"0829":function(e,t,n){},"083a":function(e,t,n){"use strict";var i=n("0d51"),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+i(t)+" of "+i(e))}},"0876":function(e,t,n){},"08ae":function(e,t,n){"use strict";var i=n("0068"),o=n("565b"),r=n("7cc2"),s=n("a915"),a=n("7696"),l=n("4cb4"),u=n("fbcd"),c=n("d8a6"),h=n("1985"),d={default:n("8a31"),zero:n("1caa"),commonmark:n("428d")},p=/^(vbscript|javascript|file|data):/,f=/^data:image\/(gif|png|jpeg|webp);/;function g(e){var t=e.trim().toLowerCase();return!p.test(t)||!!f.test(t)}var m=["http:","https:","mailto:"];function _(e){var t=c.parse(e,!0);if(t.hostname&&(!t.protocol||m.indexOf(t.protocol)>=0))try{t.hostname=h.toASCII(t.hostname)}catch(n){}return c.encode(c.format(t))}function v(e){var t=c.parse(e,!0);if(t.hostname&&(!t.protocol||m.indexOf(t.protocol)>=0))try{t.hostname=h.toUnicode(t.hostname)}catch(n){}return c.decode(c.format(t),c.decode.defaultChars+"%")}function y(e,t){if(!(this instanceof y))return new y(e,t);t||i.isString(e)||(t=e||{},e="default"),this.inline=new l,this.block=new a,this.core=new s,this.renderer=new r,this.linkify=new u,this.validateLink=g,this.normalizeLink=_,this.normalizeLinkText=v,this.utils=i,this.helpers=i.assign({},o),this.options={},this.configure(e),t&&this.set(t)}y.prototype.set=function(e){return i.assign(this.options,e),this},y.prototype.configure=function(e){var t,n=this;if(i.isString(e)&&(t=e,e=d[t],!e))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},y.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var i=e.filter((function(e){return n.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},y.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var i=e.filter((function(e){return n.indexOf(e)<0}));if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},y.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},y.prototype.parse=function(e,t){if("string"!==typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},y.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},y.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},y.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=y},"096b":function(e,t,n){"use strict";function i(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}i.prototype.attrIndex=function(e){var t,n,i;if(!this.attrs)return-1;for(t=this.attrs,n=0,i=t.length;n<i;n++)if(t[n][0]===e)return n;return-1},i.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},i.prototype.attrSet=function(e,t){var n=this.attrIndex(e),i=[e,t];n<0?this.attrPush(i):this.attrs[n]=i},i.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},i.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=i},"097b":function(e,t,n){"use strict";var i=n("096b"),o=n("0068").isWhiteSpace,r=n("0068").isPunctChar,s=n("0068").isMdAsciiPunct;function a(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}a.prototype.pushPending=function(){var e=new i("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},a.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new i(e,t,n),r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(r),o},a.prototype.scanDelims=function(e,t){var n,i,a,l,u,c,h,d,p,f=e,g=!0,m=!0,_=this.posMax,v=this.src.charCodeAt(e);n=e>0?this.src.charCodeAt(e-1):32;while(f<_&&this.src.charCodeAt(f)===v)f++;return a=f-e,i=f<_?this.src.charCodeAt(f):32,h=s(n)||r(String.fromCharCode(n)),p=s(i)||r(String.fromCharCode(i)),c=o(n),d=o(i),d?g=!1:p&&(c||h||(g=!1)),c?m=!1:h&&(d||p||(m=!1)),t?(l=g,u=m):(l=g&&(!m||h),u=m&&(!g||p)),{can_open:l,can_close:u,length:a}},a.prototype.Token=i,e.exports=a},"0a33":function(e,t,n){},"0baa":function(e,t,n){},"0bda":function(e,t,n){},"0c18":function(e,t,n){},"0cb2":function(e,t,n){var i=n("e330"),o=n("7b0b"),r=Math.floor,s=i("".charAt),a=i("".replace),l=i("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,h,d){var p=n+e.length,f=i.length,g=c;return void 0!==h&&(h=o(h),g=u),a(d,g,(function(o,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":u=h[l(a,1,-1)];break;default:var c=+a;if(0===c)return o;if(c>f){var d=r(c/10);return 0===d?o:d<=f?void 0===i[d-1]?s(a,1):i[d-1]+s(a,1):o}u=i[c-1]}return void 0===u?"":u}))}},"0cfb":function(e,t,n){var i=n("83ab"),o=n("d039"),r=n("cc12");e.exports=!i&&!o((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},"0d26":function(e,t,n){var i=n("e330"),o=Error,r=i("".replace),s=function(e){return String(o(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=r(e,a,"");return e}},"0d30":function(e,t,n){},"0d51":function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"0fd9":function(e,t,n){"use strict";n("13d5"),n("14d9"),n("4b85");var i=n("2b0e"),o=n("d9f7"),r=n("80d2");const s=["sm","md","lg","xl"],a=["start","end","center"];function l(e,t){return s.reduce((n,i)=>(n[e+Object(r["v"])(i)]=t(),n),{})}const u=e=>[...a,"baseline","stretch"].includes(e),c=l("align",()=>({type:String,default:null,validator:u})),h=e=>[...a,"space-between","space-around"].includes(e),d=l("justify",()=>({type:String,default:null,validator:h})),p=e=>[...a,"space-between","space-around","stretch"].includes(e),f=l("alignContent",()=>({type:String,default:null,validator:p})),g={align:Object.keys(c),justify:Object.keys(d),alignContent:Object.keys(f)},m={align:"align",justify:"justify",alignContent:"align-content"};function _(e,t,n){let i=m[e];if(null!=n){if(t){const n=t.replace(e,"");i+="-"+n}return i+="-"+n,i.toLowerCase()}}const v=new Map;t["a"]=i["a"].extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:u},...c,justify:{type:String,default:null,validator:h},...d,alignContent:{type:String,default:null,validator:p},...f},render(e,{props:t,data:n,children:i}){let r="";for(const o in t)r+=String(t[o]);let s=v.get(r);if(!s){let e;for(e in s=[],g)g[e].forEach(n=>{const i=t[n],o=_(e,n,i);o&&s.push(o)});s.push({"no-gutters":t.noGutters,"row--dense":t.dense,["align-"+t.align]:t.align,["justify-"+t.justify]:t.justify,["align-content-"+t.alignContent]:t.alignContent}),v.set(r,s)}return e(t.tag,Object(o["a"])(n,{staticClass:"row",class:s}),i)}})},"10d2":function(e,t,n){"use strict";var i=n("8dd9");t["a"]=i["a"]},"10f4":function(e,t,n){},"132d":function(e,t,n){"use strict";n("14d9"),n("4804");var i,o=n("7e2b"),r=n("a9ad"),s=n("af2b"),a=n("7560"),l=n("80d2"),u=n("2b0e"),c=n("58df");function h(e){return["fas","far","fal","fab","fad","fak"].some(t=>e.includes(t))}function d(e){return/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4}(function(e){e["xSmall"]="12px",e["small"]="16px",e["default"]="24px",e["medium"]="28px",e["large"]="36px",e["xLarge"]="40px"})(i||(i={}));const p=Object(c["a"])(o["a"],r["a"],s["a"],a["a"]).extend({name:"v-icon",props:{dense:Boolean,disabled:Boolean,left:Boolean,right:Boolean,size:[Number,String],tag:{type:String,required:!1,default:"i"}},computed:{medium(){return!1},hasClickListener(){return Boolean(this.listeners$.click||this.listeners$["!click"])}},methods:{getIcon(){let e="";return this.$slots.default&&(e=this.$slots.default[0].text.trim()),Object(l["u"])(this,e)},getSize(){const e={xSmall:this.xSmall,small:this.small,medium:this.medium,large:this.large,xLarge:this.xLarge},t=Object(l["r"])(e).find(t=>e[t]);return t&&i[t]||Object(l["g"])(this.size)},getDefaultData(){return{staticClass:"v-icon notranslate",class:{"v-icon--disabled":this.disabled,"v-icon--left":this.left,"v-icon--link":this.hasClickListener,"v-icon--right":this.right,"v-icon--dense":this.dense},attrs:{"aria-hidden":!this.hasClickListener,disabled:this.hasClickListener&&this.disabled,type:this.hasClickListener?"button":void 0,...this.attrs$},on:this.listeners$}},getSvgWrapperData(){const e=this.getSize(),t={...this.getDefaultData(),style:e?{fontSize:e,height:e,width:e}:void 0};return this.applyColors(t),t},applyColors(e){e.class={...e.class,...this.themeClasses},this.setTextColor(this.color,e)},renderFontIcon(e,t){const n=[],i=this.getDefaultData();let o="material-icons";const r=e.indexOf("-"),s=r<=-1;s?n.push(e):(o=e.slice(0,r),h(o)&&(o="")),i.class[o]=!0,i.class[e]=!s;const a=this.getSize();return a&&(i.style={fontSize:a}),this.applyColors(i),t(this.hasClickListener?"button":this.tag,i,n)},renderSvgIcon(e,t){const n={class:"v-icon__svg",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":!0}},i=this.getSize();return i&&(n.style={fontSize:i,height:i,width:i}),t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t("svg",n,[t("path",{attrs:{d:e}})])])},renderSvgIconComponent(e,t){const n={class:{"v-icon__component":!0}},i=this.getSize();i&&(n.style={fontSize:i,height:i,width:i}),this.applyColors(n);const o=e.component;return n.props=e.props,n.nativeOn=n.on,t(this.hasClickListener?"button":"span",this.getSvgWrapperData(),[t(o,n)])}},render(e){const t=this.getIcon();return"string"===typeof t?d(t)?this.renderSvgIcon(t,e):this.renderFontIcon(t,e):this.renderSvgIconComponent(t,e)}});t["a"]=u["a"].extend({name:"v-icon",$_wrapperFor:p,functional:!0,render(e,{data:t,children:n}){let i="";return t.domProps&&(i=t.domProps.textContent||t.domProps.innerHTML||i,delete t.domProps.textContent,delete t.domProps.innerHTML),e(p,t,i?[i]:n)}})},"133b":function(e,t,n){},"13b3":function(e,t,n){},"13d2":function(e,t,n){var i=n("e330"),o=n("d039"),r=n("1626"),s=n("1a2d"),a=n("83ab"),l=n("5e77").CONFIGURABLE,u=n("8925"),c=n("69f3"),h=c.enforce,d=c.get,p=String,f=Object.defineProperty,g=i("".slice),m=i("".replace),_=i([].join),v=a&&!o((function(){return 8!==f((function(){}),"length",{value:8}).length})),y=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===g(p(t),0,7)&&(t="["+m(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&s(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var i=h(e);return s(i,"source")||(i.source=_(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return r(this)&&d(this).source||u(this)}),"toString")},"13d5":function(e,t,n){"use strict";var i=n("23e7"),o=n("d58f").left,r=n("a640"),s=n("2d00"),a=n("605d"),l=!a&&s>79&&s<83,u=l||!r("reduce");i({target:"Array",proto:!0,forced:u},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},"14d9":function(e,t,n){"use strict";var i=n("23e7"),o=n("7b0b"),r=n("07fa"),s=n("3a34"),a=n("3511"),l=n("d039"),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},h=u||!c();i({target:"Array",proto:!0,arity:1,forced:h},{push:function(e){var t=o(this),n=r(t),i=arguments.length;a(n+i);for(var l=0;l<i;l++)t[n]=arguments[l],n++;return s(t,n),n}})},1626:function(e,t,n){var i=n("8ea1"),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},"166a":function(e,t,n){},1681:function(e,t,n){},"169a":function(e,t,n){"use strict";n("368e");var i=n("7560"),o=i["a"].extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:i["a"].options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find(e=>!e.isComment&&" "!==e.text)}}),r=n("2b0e"),s=r["a"].extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(e,t){this.clearDelay();const n=parseInt(this[e+"Delay"],10);this[e+"Timeout"]=setTimeout(t||(()=>{this.isActive={open:!0,close:!1}[e]}),n)}}}),a=n("f2e7"),l=n("58df"),u=n("80d2"),c=n("d9bd");const h=Object(l["a"])(s,a["a"]);var d=h.extend({name:"activatable",props:{activator:{default:null,validator:e=>["string","object"].includes(typeof e)},disabled:Boolean,internalActivator:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,openOnFocus:Boolean},data:()=>({activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}),watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted(){const e=Object(u["n"])(this,"activator",!0);e&&["v-slot","normal"].includes(e)&&Object(c["b"])('The activator slot must be bound, try \'<template v-slot:activator="{ on }"><v-btn v-on="on">\'',this),this.addActivatorEvents()},beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents(){if(!this.activator||this.disabled||!this.getActivator())return;this.listeners=this.genActivatorListeners();const e=Object.keys(this.listeners);for(const t of e)this.getActivator().addEventListener(t,this.listeners[t])},genActivator(){const e=Object(u["m"])(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=e,e},genActivatorAttributes(){return{role:this.openOnClick&&!this.openOnHover?"button":void 0,"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const e={};return this.openOnHover?(e.mouseenter=e=>{this.getActivator(e),this.runDelay("open")},e.mouseleave=e=>{this.getActivator(e),this.runDelay("close")}):this.openOnClick&&(e.click=e=>{const t=this.getActivator(e);t&&t.focus(),e.stopPropagation(),this.isActive=!this.isActive}),this.openOnFocus&&(e.focus=e=>{this.getActivator(e),e.stopPropagation(),this.isActive=!this.isActive}),e},getActivator(e){if(this.activatorElement)return this.activatorElement;let t=null;if(this.activator){const e=this.internalActivator?this.$el:document;t="string"===typeof this.activator?e.querySelector(this.activator):this.activator.$el?this.activator.$el:this.activator}else if(1===this.activatorNode.length||this.activatorNode.length&&!e){const e=this.activatorNode[0].componentInstance;t=e&&e.$options.mixins&&e.$options.mixins.some(e=>e.options&&["activatable","menuable"].includes(e.options.name))?e.getActivator():this.activatorNode[0].elm}else e&&(t=e.currentTarget||e.target);return this.activatorElement=(null===t||void 0===t?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null,this.activatorElement},getContentSlot(){return Object(u["m"])(this,"default",this.getValueProxy(),!0)},getValueProxy(){const e=this;return{get value(){return e.isActive},set value(t){e.isActive=t}}},removeActivatorEvents(){if(!this.activator||!this.activatorElement)return;const e=Object.keys(this.listeners);for(const t of e)this.activatorElement.removeEventListener(t,this.listeners[t]);this.listeners={}},resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}});n("14d9");function p(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];i.isActive&&i.isDependent?t.push(i):t.push(...p(i.$children))}return t}var f=Object(l["a"])().extend({name:"dependent",data(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive(e){if(e)return;const t=this.getOpenDependents();for(let n=0;n<t.length;n++)t[n].isActive=!1}},methods:{getOpenDependents(){return this.closeDependents?p(this.$children):[]},getOpenDependentElements(){const e=[],t=this.getOpenDependents();for(let n=0;n<t.length;n++)e.push(...t[n].getClickableDependentElements());return e},getClickableDependentElements(){const e=[this.$el];return this.$refs.content&&e.push(this.$refs.content),this.overlay&&e.push(this.overlay.$el),e.push(...this.getOpenDependentElements()),e}}}),g=n("9d65");function m(e){const t=typeof e;return"boolean"===t||"string"===t||e.nodeType===Node.ELEMENT_NODE}function _(e){e.forEach(e=>{e.elm&&e.elm.parentNode&&e.elm.parentNode.removeChild(e.elm)})}var v=Object(l["a"])(g["a"]).extend({name:"detachable",props:{attach:{default:!1,validator:m},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick(()=>{if(this.activatorNode){const e=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];e.forEach(e=>{if(!e.elm)return;if(!this.$el.parentNode)return;const t=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(e.elm,t)})}})},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content)},destroyed(){if(this.activatorNode){const e=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];if(this.$el.isConnected){const t=new MutationObserver(n=>{n.some(e=>Array.from(e.removedNodes).includes(this.$el))&&(t.disconnect(),_(e))});t.observe(this.$el.parentNode,{subtree:!1,childList:!0})}else _(e)}},methods:{getScopeIdAttrs(){const e=Object(u["l"])(this.$vnode,"context.$options._scopeId");return e&&{[e]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||""===this.attach||!0===this.attach||"attach"===this.attach)return;let e;e=!1===this.attach?document.querySelector("[data-app]"):"string"===typeof this.attach?document.querySelector(this.attach):this.attach,e?(e.appendChild(this.$refs.content),this.hasDetached=!0):Object(c["c"])("Unable to locate target "+(this.attach||"[data-app]"),this)}}}),y=(n("3c93"),n("a9ad")),b=Object(l["a"])(y["a"],i["a"],a["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim(){const e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes(){return{"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive,...this.themeClasses}},computedOpacity(){return Number(this.isActive?this.opacity:0)},styles(){return{zIndex:this.zIndex}}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render(e){const t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",on:this.$listeners,class:this.classes,style:this.styles},t)}}),w=b,C=r["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data(){return{animationFrame:0,overlay:null}},watch:{hideOverlay(e){this.isActive&&(e?this.removeOverlay():this.genOverlay())}},beforeDestroy(){this.removeOverlay()},methods:{createOverlay(){const e=new w({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});e.$mount();const t=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");t&&t.insertBefore(e.$el,t.firstChild),this.overlay=e},genOverlay(){if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),this.animationFrame=requestAnimationFrame(()=>{this.overlay&&(void 0!==this.activeZIndex?this.overlay.zIndex=String(this.activeZIndex-1):this.$el&&(this.overlay.zIndex=Object(u["o"])(this.$el)),this.overlay.value=!0)}),!0},removeOverlay(e=!0){this.overlay&&(Object(u["a"])(this.overlay.$el,"transitionend",()=>{this.overlay&&this.overlay.$el&&this.overlay.$el.parentNode&&!this.overlay.value&&!this.isActive&&(this.overlay.$el.parentNode.removeChild(this.overlay.$el),this.overlay.$destroy(),this.overlay=null)}),cancelAnimationFrame(this.animationFrame),this.overlay.value=!1),e&&this.showScroll()},scrollListener(e){if("key"in e){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||e.target.isContentEditable)return;const t=[u["q"].up,u["q"].pageup],n=[u["q"].down,u["q"].pagedown];if(t.includes(e.keyCode))e.deltaY=-1;else{if(!n.includes(e.keyCode))return;e.deltaY=1}}(e.target===this.overlay||"keydown"!==e.type&&e.target===document.body||this.checkPath(e))&&e.preventDefault()},hasScrollbar(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return(["auto","scroll"].includes(t.overflowY)||"SELECT"===e.tagName)&&e.scrollHeight>e.clientHeight||["auto","scroll"].includes(t.overflowX)&&e.scrollWidth>e.clientWidth},shouldScroll(e,t){if(e.hasAttribute("data-app"))return!1;const n=t.shiftKey||t.deltaX?"x":"y",i="y"===n?t.deltaY:t.deltaX||t.deltaY;let o,r;"y"===n?(o=0===e.scrollTop,r=e.scrollTop+e.clientHeight===e.scrollHeight):(o=0===e.scrollLeft,r=e.scrollLeft+e.clientWidth===e.scrollWidth);const s=i<0,a=i>0;return!(o||!s)||(!(r||!a)||!(!o&&!r)&&this.shouldScroll(e.parentNode,t))},isInside(e,t){return e===t||null!==e&&e!==document.body&&this.isInside(e.parentNode,t)},checkPath(e){const t=Object(u["f"])(e);if("keydown"===e.type&&t[0]===document.body){const t=this.$refs.dialog,n=window.getSelection().anchorNode;return!(t&&this.hasScrollbar(t)&&this.isInside(n,t))||!this.shouldScroll(t,e)}for(let n=0;n<t.length;n++){const i=t[n];if(i===document)return!0;if(i===document.documentElement)return!0;if(i===this.$refs.content)return!0;if(this.hasScrollbar(i))return!this.shouldScroll(i,e)}return!0},hideScroll(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(u["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}}),S=r["a"].extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(e){e?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(e){this.originalValue=e,setTimeout(()=>{this.isActive=!1})}}}),E=r["a"].extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if("undefined"===typeof window)return 0;const e=this.stackElement||this.$refs.content,t=this.isActive?this.getMaxZIndex(this.stackExclude||[e])+2:Object(u["o"])(e);return null==t?t:parseInt(t)}},methods:{getMaxZIndex(e=[]){const t=this.$el,n=[this.stackMinZIndex,Object(u["o"])(t)],i=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let o=0;o<i.length;o++)e.includes(i[o])||n.push(Object(u["o"])(i[o]));return Math.max(...n)}}}),T=n("dd89");function k(){return!0}function x(e,t,n){if(!e||!1===L(e,n))return!1;const i=Object(T["a"])(t);if("undefined"!==typeof ShadowRoot&&i instanceof ShadowRoot&&i.host===e.target)return!1;const o=("object"===typeof n.value&&n.value.include||(()=>[]))();return o.push(t),!o.some(t=>t.contains(e.target))}function L(e,t){const n="object"===typeof t.value&&t.value.closeConditional||k;return n(e)}function I(e,t,n){const i="function"===typeof n.value?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&x(e,t,n)&&setTimeout(()=>{L(e,n)&&i&&i(e)},0)}function O(e,t){const n=Object(T["a"])(e);t(document),"undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&t(n)}const D={inserted(e,t,n){const i=n=>I(n,e,t),o=n=>{e._clickOutside.lastMousedownWasOutside=x(n,e,t)};O(e,e=>{e.addEventListener("click",i,!0),e.addEventListener("mousedown",o,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!0}),e._clickOutside[n.context._uid]={onClick:i,onMousedown:o}},unbind(e,t,n){e._clickOutside&&(O(e,t=>{var i;if(!t||!(null===(i=e._clickOutside)||void 0===i?void 0:i[n.context._uid]))return;const{onClick:o,onMousedown:r}=e._clickOutside[n.context._uid];t.removeEventListener("click",o,!0),t.removeEventListener("mousedown",r,!0)}),delete e._clickOutside[n.context._uid])}};var N=D;const R=Object(l["a"])(f,v,C,S,E,d);t["a"]=R.extend({name:"v-dialog",directives:{ClickOutside:N},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes(){return{[("v-dialog "+this.contentClass).trim()]:!0,"v-dialog--active":this.isActive,"v-dialog--persistent":this.persistent,"v-dialog--fullscreen":this.fullscreen,"v-dialog--scrollable":this.scrollable,"v-dialog--animated":this.animate}},contentClasses(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive(e){var t;e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null===(t=this.previousActiveElement)||void 0===t||t.focus())},fullscreen(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created(){this.$attrs.hasOwnProperty("full-width")&&Object(c["e"])("full-width",this)},beforeMount(){this.$nextTick(()=>{this.isBooted=this.isActive,this.isActive&&this.show()})},beforeDestroy(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick(){this.animate=!1,this.$nextTick(()=>{this.animate=!0,window.clearTimeout(this.animateTimeout),this.animateTimeout=window.setTimeout(()=>this.animate=!1,150)})},closeConditional(e){const t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):C.options.methods.hideScroll.call(this)},show(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick(()=>{this.$nextTick(()=>{var e,t;(null===(e=this.$refs.dialog)||void 0===e?void 0:e.contains(document.activeElement))||(this.previousActiveElement=document.activeElement,null===(t=this.$refs.dialog)||void 0===t||t.focus()),this.bind()})})},bind(){window.addEventListener("focusin",this.onFocusin)},unbind(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown(e){if(e.keyCode===u["q"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;const e=this.getActivator();this.$nextTick(()=>e&&e.focus())}this.$emit("keydown",e)},onFocusin(e){if(!e||!this.retainFocus)return;const t=e.target;if(t&&this.$refs.dialog&&![document,this.$refs.dialog].includes(t)&&!this.$refs.dialog.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some(e=>e.contains(t))){const e=this.$refs.dialog.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])'),t=[...e].find(e=>!e.hasAttribute("disabled")&&!e.matches('[tabindex="-1"]'));t&&t.focus()}},genContent(){return this.showLazyContent(()=>[this.$createElement(o,{props:{root:!0,light:this.light,dark:this.dark}},[this.$createElement("div",{class:this.contentClasses,attrs:{role:"dialog","aria-modal":this.hideOverlay?void 0:"true",...this.getScopeIdAttrs()},on:{keydown:this.onKeydown},style:{zIndex:this.activeZIndex},ref:"content"},[this.genTransition()])])])},genTransition(){const e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent(){const e={class:this.classes,attrs:{tabindex:this.isActive?0:void 0},ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style={...e.style,maxWidth:Object(u["g"])(this.maxWidth),width:Object(u["g"])(this.width)}),this.$createElement("div",e,this.getContentSlot())}},render(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},"17ca":function(e,t){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp("(^|[^\\w$])(?:NaN|Infinity|0[bB][01]+(?:_[01]+)*n?|0[oO][0-7]+(?:_[0-7]+)*n?|0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?|\\d+(?:_\\d+)*n|(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?)(?![\\w$])"),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp("((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/(?:(?:\\[(?:[^\\]\\\\\r\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}|(?:\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.|\\[(?:[^[\\]\\\\\r\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\r\n])+/[dgimyus]{0,7}v[dgimyus]{0,7})(?=(?:\\s|/\\*(?:[^*]|\\*(?!/))*\\*/)*(?:$|[\r\n,.;:})\\]]|//))"),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute("on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)","javascript")),Prism.languages.js=Prism.languages.javascript},1985:function(e,t,n){(function(e,i){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(r){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof i&&i;s.global!==s&&s.window!==s&&s.self;var a,l=2147483647,u=36,c=1,h=26,d=38,p=700,f=72,g=128,m="-",_=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-c,C=Math.floor,S=String.fromCharCode;function E(e){throw new RangeError(b[e])}function T(e,t){var n=e.length,i=[];while(n--)i[n]=t(e[n]);return i}function k(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(y,".");var o=e.split("."),r=T(o,t).join(".");return i+r}function x(e){var t,n,i=[],o=0,r=e.length;while(o<r)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<r?(n=e.charCodeAt(o++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),o--)):i.push(t);return i}function L(e){return T(e,(function(e){var t="";return e>65535&&(e-=65536,t+=S(e>>>10&1023|55296),e=56320|1023&e),t+=S(e),t})).join("")}function I(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:u}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function D(e,t,n){var i=0;for(e=n?C(e/p):e>>1,e+=C(e/t);e>w*h>>1;i+=u)e=C(e/w);return C(i+(w+1)*e/(e+d))}function N(e){var t,n,i,o,r,s,a,d,p,_,v=[],y=e.length,b=0,w=g,S=f;for(n=e.lastIndexOf(m),n<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&E("not-basic"),v.push(e.charCodeAt(i));for(o=n>0?n+1:0;o<y;){for(r=b,s=1,a=u;;a+=u){if(o>=y&&E("invalid-input"),d=I(e.charCodeAt(o++)),(d>=u||d>C((l-b)/s))&&E("overflow"),b+=d*s,p=a<=S?c:a>=S+h?h:a-S,d<p)break;_=u-p,s>C(l/_)&&E("overflow"),s*=_}t=v.length+1,S=D(b-r,t,0==r),C(b/t)>l-w&&E("overflow"),w+=C(b/t),b%=t,v.splice(b++,0,w)}return L(v)}function R(e){var t,n,i,o,r,s,a,d,p,_,v,y,b,w,T,k=[];for(e=x(e),y=e.length,t=g,n=0,r=f,s=0;s<y;++s)v=e[s],v<128&&k.push(S(v));i=o=k.length,o&&k.push(m);while(i<y){for(a=l,s=0;s<y;++s)v=e[s],v>=t&&v<a&&(a=v);for(b=i+1,a-t>C((l-n)/b)&&E("overflow"),n+=(a-t)*b,t=a,s=0;s<y;++s)if(v=e[s],v<t&&++n>l&&E("overflow"),v==t){for(d=n,p=u;;p+=u){if(_=p<=r?c:p>=r+h?h:p-r,d<_)break;T=d-_,w=u-_,k.push(S(O(_+T%w,0))),d=C(T/w)}k.push(S(O(d,0))),r=D(n,b,i==o),n=0,++i}++n,++t}return k.join("")}function A(e){return k(e,(function(e){return _.test(e)?N(e.slice(4).toLowerCase()):e}))}function M(e){return k(e,(function(e){return v.test(e)?"xn--"+R(e):e}))}a={version:"1.4.1",ucs2:{decode:x,encode:L},decode:N,encode:R,toASCII:M,toUnicode:A},o=function(){return a}.call(t,n,t,e),void 0===o||(e.exports=o)})()}).call(this,n("62e4")(e),n("c8ba"))},"199e":function(e,t,n){"use strict";e.exports=function(e,t,n){var i,o,r,s,a,l,u,c,h,d,p=t+1,f=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(d=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(l=e.bMarks[p]+e.tShift[p],u=e.eMarks[p],l<u&&(h=e.src.charCodeAt(l),(45===h||61===h)&&(l=e.skipChars(l,h),l=e.skipSpaces(l),l>=u)))){c=61===h?1:2;break}if(!(e.sCount[p]<0)){for(o=!1,r=0,s=f.length;r<s;r++)if(f[r](e,p,n,!0)){o=!0;break}if(o)break}}return!!c&&(i=e.getLines(t,p,e.blkIndent,!1).trim(),e.line=p+1,a=e.push("heading_open","h"+String(c),1),a.markup=String.fromCharCode(h),a.map=[t,e.line],a=e.push("inline","",0),a.content=i,a.map=[t,e.line-1],a.children=[],a=e.push("heading_close","h"+String(c),-1),a.markup=String.fromCharCode(h),e.parentType=d,!0)}},"1a2d":function(e,t,n){var i=n("e330"),o=n("7b0b"),r=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return r(o(e),t)}},"1b2c":function(e,t,n){},"1bfb":function(e,t,n){},"1c87":function(e,t,n){"use strict";var i=n("2b0e"),o=n("5607"),r=n("80d2");t["a"]=i["a"].extend({name:"routable",directives:{Ripple:o["a"]},props:{activeClass:String,append:Boolean,disabled:Boolean,exact:{type:Boolean,default:void 0},exactPath:Boolean,exactActiveClass:String,link:Boolean,href:[String,Object],to:[String,Object],nuxt:Boolean,replace:Boolean,ripple:{type:[Boolean,Object],default:null},tag:String,target:String},data:()=>({isActive:!1,proxyClass:""}),computed:{classes(){const e={};return this.to||(this.activeClass&&(e[this.activeClass]=this.isActive),this.proxyClass&&(e[this.proxyClass]=this.isActive)),e},computedRipple(){var e;return null!==(e=this.ripple)&&void 0!==e?e:!this.disabled&&this.isClickable},isClickable(){return!this.disabled&&Boolean(this.isLink||this.$listeners.click||this.$listeners["!click"]||this.$attrs.tabindex)},isLink(){return this.to||this.href||this.link},styles:()=>({})},watch:{$route:"onRouteChange"},mounted(){this.onRouteChange()},methods:{generateRouteLink(){let e,t=this.exact;const n={attrs:{tabindex:"tabindex"in this.$attrs?this.$attrs.tabindex:void 0},class:this.classes,style:this.styles,props:{},directives:[{name:"ripple",value:this.computedRipple}],[this.to?"nativeOn":"on"]:{...this.$listeners,..."click"in this?{click:this.click}:void 0},ref:"link"};if("undefined"===typeof this.exact&&(t="/"===this.to||this.to===Object(this.to)&&"/"===this.to.path),this.to){let i=this.activeClass,o=this.exactActiveClass||i;this.proxyClass&&(i=`${i} ${this.proxyClass}`.trim(),o=`${o} ${this.proxyClass}`.trim()),e=this.nuxt?"nuxt-link":"router-link",Object.assign(n.props,{to:this.to,exact:t,exactPath:this.exactPath,activeClass:i,exactActiveClass:o,append:this.append,replace:this.replace})}else e=(this.href?"a":this.tag)||"div","a"===e&&this.href&&(n.attrs.href=this.href);return this.target&&(n.attrs.target=this.target),{tag:e,data:n}},onRouteChange(){if(!this.to||!this.$refs.link||!this.$route)return;const e=`${this.activeClass||""} ${this.proxyClass||""}`.trim(),t=`${this.exactActiveClass||""} ${this.proxyClass||""}`.trim()||e,n="_vnode.data.class."+(this.exact?t:e);this.$nextTick(()=>{!Object(r["l"])(this.$refs.link,n)===this.isActive&&this.toggle()})},toggle(){this.isActive=!this.isActive}}})},"1caa":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},"1d2b":function(e,t,n){"use strict";function i(e,t){return function(){return e.apply(t,arguments)}}n.d(t,"a",(function(){return i}))},"1d80":function(e,t,n){var i=n("7234"),o=TypeError;e.exports=function(e){if(i(e))throw o("Can't call method on "+e);return e}},"1f26":function(e,t,n){},"1fb5":function(e,t,n){"use strict";t.byteLength=c,t.toByteArray=d,t.fromByteArray=g;for(var i=[],o=[],r="undefined"!==typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],o[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var i=n===t?0:4-n%4;return[n,i]}function c(e){var t=u(e),n=t[0],i=t[1];return 3*(n+i)/4-i}function h(e,t,n){return 3*(t+n)/4-n}function d(e){var t,n,i=u(e),s=i[0],a=i[1],l=new r(h(e,s,a)),c=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===a&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===a&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l}function p(e){return i[e>>18&63]+i[e>>12&63]+i[e>>6&63]+i[63&e]}function f(e,t,n){for(var i,o=[],r=t;r<n;r+=3)i=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),o.push(p(i));return o.join("")}function g(e){for(var t,n=e.length,o=n%3,r=[],s=16383,a=0,l=n-o;a<l;a+=s)r.push(f(e,a,a+s>l?l:a+s));return 1===o?(t=e[n-1],r.push(i[t>>2]+i[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],r.push(i[t>>10]+i[t>>4&63]+i[t<<2&63]+"=")),r.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},2029:function(e,t,n){"use strict";n.d(t,"a",(function(){return pr}));class i{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new i(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class o{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new o(t,i.range(this,e))}}class r{constructor(e,t){this.position=void 0;var n,i="KaTeX parse error: "+e,o=t&&t.loc;if(o&&o.start<=o.end){var s=o.lexer.input;n=o.start;var a=o.end;n===s.length?i+=" at end of input: ":i+=" at position "+(n+1)+": ";var l,u,c=s.slice(n,a).replace(/[^]/g,"$&̲");l=n>15?"…"+s.slice(n-15,n):s.slice(0,n),u=a+15<s.length?s.slice(a,a+15)+"…":s.slice(a),i+=l+c+u}var h=new Error(i);return h.name="ParseError",h.__proto__=r.prototype,h.position=n,h}}r.prototype.__proto__=Error.prototype;var s=function(e,t){return-1!==e.indexOf(t)},a=function(e,t){return void 0===e?t:e},l=/([A-Z])/g,u=function(e){return e.replace(l,"-$1").toLowerCase()},c={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},h=/[&><"']/g;function d(e){return String(e).replace(h,e=>c[e])}var p=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},f=function(e){var t=p(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},g=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},m=function(e){var t=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return null!=t?t[1]:"_relative"},_={contains:s,deflt:a,escape:d,hyphenate:u,getBaseElem:p,isCharacterBox:f,protocolFromUrl:m},v={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function y(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if("string"!==typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class b{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},v)if(v.hasOwnProperty(t)){var n=v[t];this[t]=void 0!==e[t]?n.processor?n.processor(e[t]):e[t]:y(n)}}reportNonstrict(e,t,n){var i=this.strict;if("function"===typeof i&&(i=i(e,t,n)),i&&"ignore"!==i){if(!0===i||"error"===i)throw new r("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===i?"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]")}}useStrictBehavior(e,t,n){var i=this.strict;if("function"===typeof i)try{i=i(e,t,n)}catch(o){i="error"}return!(!i||"ignore"===i)&&(!0===i||"error"===i||("warn"===i?("undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!==typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+i+"': "+t+" ["+e+"]"),!1)))}isTrusted(e){e.url&&!e.protocol&&(e.protocol=_.protocolFromUrl(e.url));var t="function"===typeof this.trust?this.trust(e):this.trust;return Boolean(t)}}class w{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return O[D[this.id]]}sub(){return O[N[this.id]]}fracNum(){return O[R[this.id]]}fracDen(){return O[A[this.id]]}cramp(){return O[M[this.id]]}text(){return O[P[this.id]]}isTight(){return this.size>=2}}var C=0,S=1,E=2,T=3,k=4,x=5,L=6,I=7,O=[new w(C,0,!1),new w(S,0,!0),new w(E,1,!1),new w(T,1,!0),new w(k,2,!1),new w(x,2,!0),new w(L,3,!1),new w(I,3,!0)],D=[k,x,k,x,L,I,L,I],N=[x,x,x,x,I,I,I,I],R=[E,T,k,x,L,I,L,I],A=[T,T,x,x,I,I,I,I],M=[S,S,T,T,x,x,I,I],P=[C,S,E,T,E,T,E,T],F={DISPLAY:O[C],TEXT:O[E],SCRIPT:O[k],SCRIPTSCRIPT:O[L]},B=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function V(e){for(var t=0;t<B.length;t++)for(var n=B[t],i=0;i<n.blocks.length;i++){var o=n.blocks[i];if(e>=o[0]&&e<=o[1])return n.name}return null}var H=[];function $(e){for(var t=0;t<H.length;t+=2)if(e>=H[t]&&e<=H[t+1])return!0;return!1}B.forEach(e=>e.blocks.forEach(e=>H.push(...e)));var W=80,U=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},z=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},j=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},G=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"},K=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},q=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},Y=function(e,t,n){var i=n-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+i+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"},X=function(e,t,n){t*=1e3;var i="";switch(e){case"sqrtMain":i=U(t,W);break;case"sqrtSize1":i=z(t,W);break;case"sqrtSize2":i=j(t,W);break;case"sqrtSize3":i=G(t,W);break;case"sqrtSize4":i=K(t,W);break;case"sqrtTall":i=Y(t,W,n)}return i},Z=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}},J={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"},Q=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}};class ee{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return _.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=e=>e.toText();return this.children.map(e).join("")}}var te={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ne={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},ie={"Å":"A","Ð":"D","Þ":"o","å":"a","ð":"d","þ":"o","А":"A","Б":"B","В":"B","Г":"F","Д":"A","Е":"E","Ж":"K","З":"3","И":"N","Й":"N","К":"K","Л":"N","М":"M","Н":"H","О":"O","П":"N","Р":"P","С":"C","Т":"T","У":"y","Ф":"O","Х":"X","Ц":"U","Ч":"h","Ш":"W","Щ":"W","Ъ":"B","Ы":"X","Ь":"B","Э":"3","Ю":"X","Я":"R","а":"a","б":"b","в":"a","г":"r","д":"y","е":"e","ж":"m","з":"e","и":"n","й":"n","к":"n","л":"n","м":"m","н":"n","о":"o","п":"n","р":"p","с":"c","т":"o","у":"y","ф":"b","х":"x","ц":"n","ч":"n","ш":"w","щ":"w","ъ":"a","ы":"m","ь":"a","э":"e","ю":"m","я":"r"};function oe(e,t){te[e]=t}function re(e,t,n){if(!te[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),o=te[t][i];if(!o&&e[0]in ie&&(i=ie[e[0]].charCodeAt(0),o=te[t][i]),o||"text"!==n||$(i)&&(o=te[t][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var se={};function ae(e){var t;if(t=e>=5?0:e>=3?1:2,!se[t]){var n=se[t]={cssEmPerMu:ne.quad[t]/18};for(var i in ne)ne.hasOwnProperty(i)&&(n[i]=ne[i][t])}return se[t]}var le=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ue=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ce=function(e,t){return t.size<2?e:le[e-1][t.size-1]};class he{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||he.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=ue[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new he(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:ce(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:ue[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=ce(he.BASESIZE,e);return this.size===t&&this.textSize===he.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==he.BASESIZE?["sizing","reset-size"+this.size,"size"+he.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=ae(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}he.BASESIZE=6;var de={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},pe={ex:!0,em:!0,mu:!0},fe=function(e){return"string"!==typeof e&&(e=e.unit),e in de||e in pe||"ex"===e},ge=function(e,t){var n;if(e.unit in de)n=de[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var i;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=i.fontMetrics().xHeight;else{if("em"!==e.unit)throw new r("Invalid unit: '"+e.unit+"'");n=i.fontMetrics().quad}i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},me=function(e){return+e.toFixed(4)+"em"},_e=function(e){return e.filter(e=>e).join(" ")},ve=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var i=t.getColor();i&&(this.style.color=i)}},ye=function(e){var t=document.createElement(e);for(var n in t.className=_e(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&t.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)t.appendChild(this.children[o].toNode());return t},be=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+_.escape(_e(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=_.hyphenate(i)+":"+this.style[i]+";");for(var o in n&&(t+=' style="'+_.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(o)&&(t+=" "+o+'="'+_.escape(this.attributes[o])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+e+">",t};class we{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,ve.call(this,e,n,i),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return _.contains(this.classes,e)}toNode(){return ye.call(this,"span")}toMarkup(){return be.call(this,"span")}}class Ce{constructor(e,t,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,ve.call(this,t,i),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return _.contains(this.classes,e)}toNode(){return ye.call(this,"a")}toMarkup(){return be.call(this,"a")}}class Se{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return _.contains(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=_.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+_.escape(t)+'"'),e+="'/>",e}}var Ee={"î":"ı̂","ï":"ı̈","í":"ı́","ì":"ı̀"};class Te{constructor(e,t,n,i,o,r,s,a){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=i||0,this.skew=o||0,this.width=r||0,this.classes=s||[],this.style=a||{},this.maxFontSize=0;var l=V(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Ee[this.text])}hasClass(e){return _.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&(t=document.createElement("span"),t.style.marginRight=me(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=_e(this.classes)),this.style)this.style.hasOwnProperty(n)&&(t=t||document.createElement("span"),t.style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=_.escape(_e(this.classes)),t+='"');var n="";for(var i in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(i)&&(n+=_.hyphenate(i)+":"+this.style[i]+";");n&&(e=!0,t+=' style="'+_.escape(n)+'"');var o=_.escape(this.text);return e?(t+=">",t+=o,t+="</span>",t):o}}class ke{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)t.appendChild(this.children[i].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>",e}}class xe{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",J[this.pathName]),t}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+J[this.pathName]+"'/>"}}class Le{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+"='"+this.attributes[t]+"'");return e+="/>",e}}function Ie(e){if(e instanceof Te)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Oe(e){if(e instanceof we)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var De={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ne={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Re={math:{},text:{}};function Ae(e,t,n,i,o,r){Re[e][o]={font:t,group:n,replace:i},r&&i&&(Re[e][i]=Re[e][o])}var Me="math",Pe="text",Fe="main",Be="ams",Ve="accent-token",He="bin",$e="close",We="inner",Ue="mathord",ze="op-token",je="open",Ge="punct",Ke="rel",qe="spacing",Ye="textord";Ae(Me,Fe,Ke,"≡","\\equiv",!0),Ae(Me,Fe,Ke,"≺","\\prec",!0),Ae(Me,Fe,Ke,"≻","\\succ",!0),Ae(Me,Fe,Ke,"∼","\\sim",!0),Ae(Me,Fe,Ke,"⊥","\\perp"),Ae(Me,Fe,Ke,"⪯","\\preceq",!0),Ae(Me,Fe,Ke,"⪰","\\succeq",!0),Ae(Me,Fe,Ke,"≃","\\simeq",!0),Ae(Me,Fe,Ke,"∣","\\mid",!0),Ae(Me,Fe,Ke,"≪","\\ll",!0),Ae(Me,Fe,Ke,"≫","\\gg",!0),Ae(Me,Fe,Ke,"≍","\\asymp",!0),Ae(Me,Fe,Ke,"∥","\\parallel"),Ae(Me,Fe,Ke,"⋈","\\bowtie",!0),Ae(Me,Fe,Ke,"⌣","\\smile",!0),Ae(Me,Fe,Ke,"⊑","\\sqsubseteq",!0),Ae(Me,Fe,Ke,"⊒","\\sqsupseteq",!0),Ae(Me,Fe,Ke,"≐","\\doteq",!0),Ae(Me,Fe,Ke,"⌢","\\frown",!0),Ae(Me,Fe,Ke,"∋","\\ni",!0),Ae(Me,Fe,Ke,"∝","\\propto",!0),Ae(Me,Fe,Ke,"⊢","\\vdash",!0),Ae(Me,Fe,Ke,"⊣","\\dashv",!0),Ae(Me,Fe,Ke,"∋","\\owns"),Ae(Me,Fe,Ge,".","\\ldotp"),Ae(Me,Fe,Ge,"⋅","\\cdotp"),Ae(Me,Fe,Ye,"#","\\#"),Ae(Pe,Fe,Ye,"#","\\#"),Ae(Me,Fe,Ye,"&","\\&"),Ae(Pe,Fe,Ye,"&","\\&"),Ae(Me,Fe,Ye,"ℵ","\\aleph",!0),Ae(Me,Fe,Ye,"∀","\\forall",!0),Ae(Me,Fe,Ye,"ℏ","\\hbar",!0),Ae(Me,Fe,Ye,"∃","\\exists",!0),Ae(Me,Fe,Ye,"∇","\\nabla",!0),Ae(Me,Fe,Ye,"♭","\\flat",!0),Ae(Me,Fe,Ye,"ℓ","\\ell",!0),Ae(Me,Fe,Ye,"♮","\\natural",!0),Ae(Me,Fe,Ye,"♣","\\clubsuit",!0),Ae(Me,Fe,Ye,"℘","\\wp",!0),Ae(Me,Fe,Ye,"♯","\\sharp",!0),Ae(Me,Fe,Ye,"♢","\\diamondsuit",!0),Ae(Me,Fe,Ye,"ℜ","\\Re",!0),Ae(Me,Fe,Ye,"♡","\\heartsuit",!0),Ae(Me,Fe,Ye,"ℑ","\\Im",!0),Ae(Me,Fe,Ye,"♠","\\spadesuit",!0),Ae(Me,Fe,Ye,"§","\\S",!0),Ae(Pe,Fe,Ye,"§","\\S"),Ae(Me,Fe,Ye,"¶","\\P",!0),Ae(Pe,Fe,Ye,"¶","\\P"),Ae(Me,Fe,Ye,"†","\\dag"),Ae(Pe,Fe,Ye,"†","\\dag"),Ae(Pe,Fe,Ye,"†","\\textdagger"),Ae(Me,Fe,Ye,"‡","\\ddag"),Ae(Pe,Fe,Ye,"‡","\\ddag"),Ae(Pe,Fe,Ye,"‡","\\textdaggerdbl"),Ae(Me,Fe,$e,"⎱","\\rmoustache",!0),Ae(Me,Fe,je,"⎰","\\lmoustache",!0),Ae(Me,Fe,$e,"⟯","\\rgroup",!0),Ae(Me,Fe,je,"⟮","\\lgroup",!0),Ae(Me,Fe,He,"∓","\\mp",!0),Ae(Me,Fe,He,"⊖","\\ominus",!0),Ae(Me,Fe,He,"⊎","\\uplus",!0),Ae(Me,Fe,He,"⊓","\\sqcap",!0),Ae(Me,Fe,He,"∗","\\ast"),Ae(Me,Fe,He,"⊔","\\sqcup",!0),Ae(Me,Fe,He,"◯","\\bigcirc",!0),Ae(Me,Fe,He,"∙","\\bullet",!0),Ae(Me,Fe,He,"‡","\\ddagger"),Ae(Me,Fe,He,"≀","\\wr",!0),Ae(Me,Fe,He,"⨿","\\amalg"),Ae(Me,Fe,He,"&","\\And"),Ae(Me,Fe,Ke,"⟵","\\longleftarrow",!0),Ae(Me,Fe,Ke,"⇐","\\Leftarrow",!0),Ae(Me,Fe,Ke,"⟸","\\Longleftarrow",!0),Ae(Me,Fe,Ke,"⟶","\\longrightarrow",!0),Ae(Me,Fe,Ke,"⇒","\\Rightarrow",!0),Ae(Me,Fe,Ke,"⟹","\\Longrightarrow",!0),Ae(Me,Fe,Ke,"↔","\\leftrightarrow",!0),Ae(Me,Fe,Ke,"⟷","\\longleftrightarrow",!0),Ae(Me,Fe,Ke,"⇔","\\Leftrightarrow",!0),Ae(Me,Fe,Ke,"⟺","\\Longleftrightarrow",!0),Ae(Me,Fe,Ke,"↦","\\mapsto",!0),Ae(Me,Fe,Ke,"⟼","\\longmapsto",!0),Ae(Me,Fe,Ke,"↗","\\nearrow",!0),Ae(Me,Fe,Ke,"↩","\\hookleftarrow",!0),Ae(Me,Fe,Ke,"↪","\\hookrightarrow",!0),Ae(Me,Fe,Ke,"↘","\\searrow",!0),Ae(Me,Fe,Ke,"↼","\\leftharpoonup",!0),Ae(Me,Fe,Ke,"⇀","\\rightharpoonup",!0),Ae(Me,Fe,Ke,"↙","\\swarrow",!0),Ae(Me,Fe,Ke,"↽","\\leftharpoondown",!0),Ae(Me,Fe,Ke,"⇁","\\rightharpoondown",!0),Ae(Me,Fe,Ke,"↖","\\nwarrow",!0),Ae(Me,Fe,Ke,"⇌","\\rightleftharpoons",!0),Ae(Me,Be,Ke,"≮","\\nless",!0),Ae(Me,Be,Ke,"","\\@nleqslant"),Ae(Me,Be,Ke,"","\\@nleqq"),Ae(Me,Be,Ke,"⪇","\\lneq",!0),Ae(Me,Be,Ke,"≨","\\lneqq",!0),Ae(Me,Be,Ke,"","\\@lvertneqq"),Ae(Me,Be,Ke,"⋦","\\lnsim",!0),Ae(Me,Be,Ke,"⪉","\\lnapprox",!0),Ae(Me,Be,Ke,"⊀","\\nprec",!0),Ae(Me,Be,Ke,"⋠","\\npreceq",!0),Ae(Me,Be,Ke,"⋨","\\precnsim",!0),Ae(Me,Be,Ke,"⪹","\\precnapprox",!0),Ae(Me,Be,Ke,"≁","\\nsim",!0),Ae(Me,Be,Ke,"","\\@nshortmid"),Ae(Me,Be,Ke,"∤","\\nmid",!0),Ae(Me,Be,Ke,"⊬","\\nvdash",!0),Ae(Me,Be,Ke,"⊭","\\nvDash",!0),Ae(Me,Be,Ke,"⋪","\\ntriangleleft"),Ae(Me,Be,Ke,"⋬","\\ntrianglelefteq",!0),Ae(Me,Be,Ke,"⊊","\\subsetneq",!0),Ae(Me,Be,Ke,"","\\@varsubsetneq"),Ae(Me,Be,Ke,"⫋","\\subsetneqq",!0),Ae(Me,Be,Ke,"","\\@varsubsetneqq"),Ae(Me,Be,Ke,"≯","\\ngtr",!0),Ae(Me,Be,Ke,"","\\@ngeqslant"),Ae(Me,Be,Ke,"","\\@ngeqq"),Ae(Me,Be,Ke,"⪈","\\gneq",!0),Ae(Me,Be,Ke,"≩","\\gneqq",!0),Ae(Me,Be,Ke,"","\\@gvertneqq"),Ae(Me,Be,Ke,"⋧","\\gnsim",!0),Ae(Me,Be,Ke,"⪊","\\gnapprox",!0),Ae(Me,Be,Ke,"⊁","\\nsucc",!0),Ae(Me,Be,Ke,"⋡","\\nsucceq",!0),Ae(Me,Be,Ke,"⋩","\\succnsim",!0),Ae(Me,Be,Ke,"⪺","\\succnapprox",!0),Ae(Me,Be,Ke,"≆","\\ncong",!0),Ae(Me,Be,Ke,"","\\@nshortparallel"),Ae(Me,Be,Ke,"∦","\\nparallel",!0),Ae(Me,Be,Ke,"⊯","\\nVDash",!0),Ae(Me,Be,Ke,"⋫","\\ntriangleright"),Ae(Me,Be,Ke,"⋭","\\ntrianglerighteq",!0),Ae(Me,Be,Ke,"","\\@nsupseteqq"),Ae(Me,Be,Ke,"⊋","\\supsetneq",!0),Ae(Me,Be,Ke,"","\\@varsupsetneq"),Ae(Me,Be,Ke,"⫌","\\supsetneqq",!0),Ae(Me,Be,Ke,"","\\@varsupsetneqq"),Ae(Me,Be,Ke,"⊮","\\nVdash",!0),Ae(Me,Be,Ke,"⪵","\\precneqq",!0),Ae(Me,Be,Ke,"⪶","\\succneqq",!0),Ae(Me,Be,Ke,"","\\@nsubseteqq"),Ae(Me,Be,He,"⊴","\\unlhd"),Ae(Me,Be,He,"⊵","\\unrhd"),Ae(Me,Be,Ke,"↚","\\nleftarrow",!0),Ae(Me,Be,Ke,"↛","\\nrightarrow",!0),Ae(Me,Be,Ke,"⇍","\\nLeftarrow",!0),Ae(Me,Be,Ke,"⇏","\\nRightarrow",!0),Ae(Me,Be,Ke,"↮","\\nleftrightarrow",!0),Ae(Me,Be,Ke,"⇎","\\nLeftrightarrow",!0),Ae(Me,Be,Ke,"△","\\vartriangle"),Ae(Me,Be,Ye,"ℏ","\\hslash"),Ae(Me,Be,Ye,"▽","\\triangledown"),Ae(Me,Be,Ye,"◊","\\lozenge"),Ae(Me,Be,Ye,"Ⓢ","\\circledS"),Ae(Me,Be,Ye,"®","\\circledR"),Ae(Pe,Be,Ye,"®","\\circledR"),Ae(Me,Be,Ye,"∡","\\measuredangle",!0),Ae(Me,Be,Ye,"∄","\\nexists"),Ae(Me,Be,Ye,"℧","\\mho"),Ae(Me,Be,Ye,"Ⅎ","\\Finv",!0),Ae(Me,Be,Ye,"⅁","\\Game",!0),Ae(Me,Be,Ye,"‵","\\backprime"),Ae(Me,Be,Ye,"▲","\\blacktriangle"),Ae(Me,Be,Ye,"▼","\\blacktriangledown"),Ae(Me,Be,Ye,"■","\\blacksquare"),Ae(Me,Be,Ye,"⧫","\\blacklozenge"),Ae(Me,Be,Ye,"★","\\bigstar"),Ae(Me,Be,Ye,"∢","\\sphericalangle",!0),Ae(Me,Be,Ye,"∁","\\complement",!0),Ae(Me,Be,Ye,"ð","\\eth",!0),Ae(Pe,Fe,Ye,"ð","ð"),Ae(Me,Be,Ye,"╱","\\diagup"),Ae(Me,Be,Ye,"╲","\\diagdown"),Ae(Me,Be,Ye,"□","\\square"),Ae(Me,Be,Ye,"□","\\Box"),Ae(Me,Be,Ye,"◊","\\Diamond"),Ae(Me,Be,Ye,"¥","\\yen",!0),Ae(Pe,Be,Ye,"¥","\\yen",!0),Ae(Me,Be,Ye,"✓","\\checkmark",!0),Ae(Pe,Be,Ye,"✓","\\checkmark"),Ae(Me,Be,Ye,"ℶ","\\beth",!0),Ae(Me,Be,Ye,"ℸ","\\daleth",!0),Ae(Me,Be,Ye,"ℷ","\\gimel",!0),Ae(Me,Be,Ye,"ϝ","\\digamma",!0),Ae(Me,Be,Ye,"ϰ","\\varkappa"),Ae(Me,Be,je,"┌","\\@ulcorner",!0),Ae(Me,Be,$e,"┐","\\@urcorner",!0),Ae(Me,Be,je,"└","\\@llcorner",!0),Ae(Me,Be,$e,"┘","\\@lrcorner",!0),Ae(Me,Be,Ke,"≦","\\leqq",!0),Ae(Me,Be,Ke,"⩽","\\leqslant",!0),Ae(Me,Be,Ke,"⪕","\\eqslantless",!0),Ae(Me,Be,Ke,"≲","\\lesssim",!0),Ae(Me,Be,Ke,"⪅","\\lessapprox",!0),Ae(Me,Be,Ke,"≊","\\approxeq",!0),Ae(Me,Be,He,"⋖","\\lessdot"),Ae(Me,Be,Ke,"⋘","\\lll",!0),Ae(Me,Be,Ke,"≶","\\lessgtr",!0),Ae(Me,Be,Ke,"⋚","\\lesseqgtr",!0),Ae(Me,Be,Ke,"⪋","\\lesseqqgtr",!0),Ae(Me,Be,Ke,"≑","\\doteqdot"),Ae(Me,Be,Ke,"≓","\\risingdotseq",!0),Ae(Me,Be,Ke,"≒","\\fallingdotseq",!0),Ae(Me,Be,Ke,"∽","\\backsim",!0),Ae(Me,Be,Ke,"⋍","\\backsimeq",!0),Ae(Me,Be,Ke,"⫅","\\subseteqq",!0),Ae(Me,Be,Ke,"⋐","\\Subset",!0),Ae(Me,Be,Ke,"⊏","\\sqsubset",!0),Ae(Me,Be,Ke,"≼","\\preccurlyeq",!0),Ae(Me,Be,Ke,"⋞","\\curlyeqprec",!0),Ae(Me,Be,Ke,"≾","\\precsim",!0),Ae(Me,Be,Ke,"⪷","\\precapprox",!0),Ae(Me,Be,Ke,"⊲","\\vartriangleleft"),Ae(Me,Be,Ke,"⊴","\\trianglelefteq"),Ae(Me,Be,Ke,"⊨","\\vDash",!0),Ae(Me,Be,Ke,"⊪","\\Vvdash",!0),Ae(Me,Be,Ke,"⌣","\\smallsmile"),Ae(Me,Be,Ke,"⌢","\\smallfrown"),Ae(Me,Be,Ke,"≏","\\bumpeq",!0),Ae(Me,Be,Ke,"≎","\\Bumpeq",!0),Ae(Me,Be,Ke,"≧","\\geqq",!0),Ae(Me,Be,Ke,"⩾","\\geqslant",!0),Ae(Me,Be,Ke,"⪖","\\eqslantgtr",!0),Ae(Me,Be,Ke,"≳","\\gtrsim",!0),Ae(Me,Be,Ke,"⪆","\\gtrapprox",!0),Ae(Me,Be,He,"⋗","\\gtrdot"),Ae(Me,Be,Ke,"⋙","\\ggg",!0),Ae(Me,Be,Ke,"≷","\\gtrless",!0),Ae(Me,Be,Ke,"⋛","\\gtreqless",!0),Ae(Me,Be,Ke,"⪌","\\gtreqqless",!0),Ae(Me,Be,Ke,"≖","\\eqcirc",!0),Ae(Me,Be,Ke,"≗","\\circeq",!0),Ae(Me,Be,Ke,"≜","\\triangleq",!0),Ae(Me,Be,Ke,"∼","\\thicksim"),Ae(Me,Be,Ke,"≈","\\thickapprox"),Ae(Me,Be,Ke,"⫆","\\supseteqq",!0),Ae(Me,Be,Ke,"⋑","\\Supset",!0),Ae(Me,Be,Ke,"⊐","\\sqsupset",!0),Ae(Me,Be,Ke,"≽","\\succcurlyeq",!0),Ae(Me,Be,Ke,"⋟","\\curlyeqsucc",!0),Ae(Me,Be,Ke,"≿","\\succsim",!0),Ae(Me,Be,Ke,"⪸","\\succapprox",!0),Ae(Me,Be,Ke,"⊳","\\vartriangleright"),Ae(Me,Be,Ke,"⊵","\\trianglerighteq"),Ae(Me,Be,Ke,"⊩","\\Vdash",!0),Ae(Me,Be,Ke,"∣","\\shortmid"),Ae(Me,Be,Ke,"∥","\\shortparallel"),Ae(Me,Be,Ke,"≬","\\between",!0),Ae(Me,Be,Ke,"⋔","\\pitchfork",!0),Ae(Me,Be,Ke,"∝","\\varpropto"),Ae(Me,Be,Ke,"◀","\\blacktriangleleft"),Ae(Me,Be,Ke,"∴","\\therefore",!0),Ae(Me,Be,Ke,"∍","\\backepsilon"),Ae(Me,Be,Ke,"▶","\\blacktriangleright"),Ae(Me,Be,Ke,"∵","\\because",!0),Ae(Me,Be,Ke,"⋘","\\llless"),Ae(Me,Be,Ke,"⋙","\\gggtr"),Ae(Me,Be,He,"⊲","\\lhd"),Ae(Me,Be,He,"⊳","\\rhd"),Ae(Me,Be,Ke,"≂","\\eqsim",!0),Ae(Me,Fe,Ke,"⋈","\\Join"),Ae(Me,Be,Ke,"≑","\\Doteq",!0),Ae(Me,Be,He,"∔","\\dotplus",!0),Ae(Me,Be,He,"∖","\\smallsetminus"),Ae(Me,Be,He,"⋒","\\Cap",!0),Ae(Me,Be,He,"⋓","\\Cup",!0),Ae(Me,Be,He,"⩞","\\doublebarwedge",!0),Ae(Me,Be,He,"⊟","\\boxminus",!0),Ae(Me,Be,He,"⊞","\\boxplus",!0),Ae(Me,Be,He,"⋇","\\divideontimes",!0),Ae(Me,Be,He,"⋉","\\ltimes",!0),Ae(Me,Be,He,"⋊","\\rtimes",!0),Ae(Me,Be,He,"⋋","\\leftthreetimes",!0),Ae(Me,Be,He,"⋌","\\rightthreetimes",!0),Ae(Me,Be,He,"⋏","\\curlywedge",!0),Ae(Me,Be,He,"⋎","\\curlyvee",!0),Ae(Me,Be,He,"⊝","\\circleddash",!0),Ae(Me,Be,He,"⊛","\\circledast",!0),Ae(Me,Be,He,"⋅","\\centerdot"),Ae(Me,Be,He,"⊺","\\intercal",!0),Ae(Me,Be,He,"⋒","\\doublecap"),Ae(Me,Be,He,"⋓","\\doublecup"),Ae(Me,Be,He,"⊠","\\boxtimes",!0),Ae(Me,Be,Ke,"⇢","\\dashrightarrow",!0),Ae(Me,Be,Ke,"⇠","\\dashleftarrow",!0),Ae(Me,Be,Ke,"⇇","\\leftleftarrows",!0),Ae(Me,Be,Ke,"⇆","\\leftrightarrows",!0),Ae(Me,Be,Ke,"⇚","\\Lleftarrow",!0),Ae(Me,Be,Ke,"↞","\\twoheadleftarrow",!0),Ae(Me,Be,Ke,"↢","\\leftarrowtail",!0),Ae(Me,Be,Ke,"↫","\\looparrowleft",!0),Ae(Me,Be,Ke,"⇋","\\leftrightharpoons",!0),Ae(Me,Be,Ke,"↶","\\curvearrowleft",!0),Ae(Me,Be,Ke,"↺","\\circlearrowleft",!0),Ae(Me,Be,Ke,"↰","\\Lsh",!0),Ae(Me,Be,Ke,"⇈","\\upuparrows",!0),Ae(Me,Be,Ke,"↿","\\upharpoonleft",!0),Ae(Me,Be,Ke,"⇃","\\downharpoonleft",!0),Ae(Me,Fe,Ke,"⊶","\\origof",!0),Ae(Me,Fe,Ke,"⊷","\\imageof",!0),Ae(Me,Be,Ke,"⊸","\\multimap",!0),Ae(Me,Be,Ke,"↭","\\leftrightsquigarrow",!0),Ae(Me,Be,Ke,"⇉","\\rightrightarrows",!0),Ae(Me,Be,Ke,"⇄","\\rightleftarrows",!0),Ae(Me,Be,Ke,"↠","\\twoheadrightarrow",!0),Ae(Me,Be,Ke,"↣","\\rightarrowtail",!0),Ae(Me,Be,Ke,"↬","\\looparrowright",!0),Ae(Me,Be,Ke,"↷","\\curvearrowright",!0),Ae(Me,Be,Ke,"↻","\\circlearrowright",!0),Ae(Me,Be,Ke,"↱","\\Rsh",!0),Ae(Me,Be,Ke,"⇊","\\downdownarrows",!0),Ae(Me,Be,Ke,"↾","\\upharpoonright",!0),Ae(Me,Be,Ke,"⇂","\\downharpoonright",!0),Ae(Me,Be,Ke,"⇝","\\rightsquigarrow",!0),Ae(Me,Be,Ke,"⇝","\\leadsto"),Ae(Me,Be,Ke,"⇛","\\Rrightarrow",!0),Ae(Me,Be,Ke,"↾","\\restriction"),Ae(Me,Fe,Ye,"‘","`"),Ae(Me,Fe,Ye,"$","\\$"),Ae(Pe,Fe,Ye,"$","\\$"),Ae(Pe,Fe,Ye,"$","\\textdollar"),Ae(Me,Fe,Ye,"%","\\%"),Ae(Pe,Fe,Ye,"%","\\%"),Ae(Me,Fe,Ye,"_","\\_"),Ae(Pe,Fe,Ye,"_","\\_"),Ae(Pe,Fe,Ye,"_","\\textunderscore"),Ae(Me,Fe,Ye,"∠","\\angle",!0),Ae(Me,Fe,Ye,"∞","\\infty",!0),Ae(Me,Fe,Ye,"′","\\prime"),Ae(Me,Fe,Ye,"△","\\triangle"),Ae(Me,Fe,Ye,"Γ","\\Gamma",!0),Ae(Me,Fe,Ye,"Δ","\\Delta",!0),Ae(Me,Fe,Ye,"Θ","\\Theta",!0),Ae(Me,Fe,Ye,"Λ","\\Lambda",!0),Ae(Me,Fe,Ye,"Ξ","\\Xi",!0),Ae(Me,Fe,Ye,"Π","\\Pi",!0),Ae(Me,Fe,Ye,"Σ","\\Sigma",!0),Ae(Me,Fe,Ye,"Υ","\\Upsilon",!0),Ae(Me,Fe,Ye,"Φ","\\Phi",!0),Ae(Me,Fe,Ye,"Ψ","\\Psi",!0),Ae(Me,Fe,Ye,"Ω","\\Omega",!0),Ae(Me,Fe,Ye,"A","Α"),Ae(Me,Fe,Ye,"B","Β"),Ae(Me,Fe,Ye,"E","Ε"),Ae(Me,Fe,Ye,"Z","Ζ"),Ae(Me,Fe,Ye,"H","Η"),Ae(Me,Fe,Ye,"I","Ι"),Ae(Me,Fe,Ye,"K","Κ"),Ae(Me,Fe,Ye,"M","Μ"),Ae(Me,Fe,Ye,"N","Ν"),Ae(Me,Fe,Ye,"O","Ο"),Ae(Me,Fe,Ye,"P","Ρ"),Ae(Me,Fe,Ye,"T","Τ"),Ae(Me,Fe,Ye,"X","Χ"),Ae(Me,Fe,Ye,"¬","\\neg",!0),Ae(Me,Fe,Ye,"¬","\\lnot"),Ae(Me,Fe,Ye,"⊤","\\top"),Ae(Me,Fe,Ye,"⊥","\\bot"),Ae(Me,Fe,Ye,"∅","\\emptyset"),Ae(Me,Be,Ye,"∅","\\varnothing"),Ae(Me,Fe,Ue,"α","\\alpha",!0),Ae(Me,Fe,Ue,"β","\\beta",!0),Ae(Me,Fe,Ue,"γ","\\gamma",!0),Ae(Me,Fe,Ue,"δ","\\delta",!0),Ae(Me,Fe,Ue,"ϵ","\\epsilon",!0),Ae(Me,Fe,Ue,"ζ","\\zeta",!0),Ae(Me,Fe,Ue,"η","\\eta",!0),Ae(Me,Fe,Ue,"θ","\\theta",!0),Ae(Me,Fe,Ue,"ι","\\iota",!0),Ae(Me,Fe,Ue,"κ","\\kappa",!0),Ae(Me,Fe,Ue,"λ","\\lambda",!0),Ae(Me,Fe,Ue,"μ","\\mu",!0),Ae(Me,Fe,Ue,"ν","\\nu",!0),Ae(Me,Fe,Ue,"ξ","\\xi",!0),Ae(Me,Fe,Ue,"ο","\\omicron",!0),Ae(Me,Fe,Ue,"π","\\pi",!0),Ae(Me,Fe,Ue,"ρ","\\rho",!0),Ae(Me,Fe,Ue,"σ","\\sigma",!0),Ae(Me,Fe,Ue,"τ","\\tau",!0),Ae(Me,Fe,Ue,"υ","\\upsilon",!0),Ae(Me,Fe,Ue,"ϕ","\\phi",!0),Ae(Me,Fe,Ue,"χ","\\chi",!0),Ae(Me,Fe,Ue,"ψ","\\psi",!0),Ae(Me,Fe,Ue,"ω","\\omega",!0),Ae(Me,Fe,Ue,"ε","\\varepsilon",!0),Ae(Me,Fe,Ue,"ϑ","\\vartheta",!0),Ae(Me,Fe,Ue,"ϖ","\\varpi",!0),Ae(Me,Fe,Ue,"ϱ","\\varrho",!0),Ae(Me,Fe,Ue,"ς","\\varsigma",!0),Ae(Me,Fe,Ue,"φ","\\varphi",!0),Ae(Me,Fe,He,"∗","*",!0),Ae(Me,Fe,He,"+","+"),Ae(Me,Fe,He,"−","-",!0),Ae(Me,Fe,He,"⋅","\\cdot",!0),Ae(Me,Fe,He,"∘","\\circ",!0),Ae(Me,Fe,He,"÷","\\div",!0),Ae(Me,Fe,He,"±","\\pm",!0),Ae(Me,Fe,He,"×","\\times",!0),Ae(Me,Fe,He,"∩","\\cap",!0),Ae(Me,Fe,He,"∪","\\cup",!0),Ae(Me,Fe,He,"∖","\\setminus",!0),Ae(Me,Fe,He,"∧","\\land"),Ae(Me,Fe,He,"∨","\\lor"),Ae(Me,Fe,He,"∧","\\wedge",!0),Ae(Me,Fe,He,"∨","\\vee",!0),Ae(Me,Fe,Ye,"√","\\surd"),Ae(Me,Fe,je,"⟨","\\langle",!0),Ae(Me,Fe,je,"∣","\\lvert"),Ae(Me,Fe,je,"∥","\\lVert"),Ae(Me,Fe,$e,"?","?"),Ae(Me,Fe,$e,"!","!"),Ae(Me,Fe,$e,"⟩","\\rangle",!0),Ae(Me,Fe,$e,"∣","\\rvert"),Ae(Me,Fe,$e,"∥","\\rVert"),Ae(Me,Fe,Ke,"=","="),Ae(Me,Fe,Ke,":",":"),Ae(Me,Fe,Ke,"≈","\\approx",!0),Ae(Me,Fe,Ke,"≅","\\cong",!0),Ae(Me,Fe,Ke,"≥","\\ge"),Ae(Me,Fe,Ke,"≥","\\geq",!0),Ae(Me,Fe,Ke,"←","\\gets"),Ae(Me,Fe,Ke,">","\\gt",!0),Ae(Me,Fe,Ke,"∈","\\in",!0),Ae(Me,Fe,Ke,"","\\@not"),Ae(Me,Fe,Ke,"⊂","\\subset",!0),Ae(Me,Fe,Ke,"⊃","\\supset",!0),Ae(Me,Fe,Ke,"⊆","\\subseteq",!0),Ae(Me,Fe,Ke,"⊇","\\supseteq",!0),Ae(Me,Be,Ke,"⊈","\\nsubseteq",!0),Ae(Me,Be,Ke,"⊉","\\nsupseteq",!0),Ae(Me,Fe,Ke,"⊨","\\models"),Ae(Me,Fe,Ke,"←","\\leftarrow",!0),Ae(Me,Fe,Ke,"≤","\\le"),Ae(Me,Fe,Ke,"≤","\\leq",!0),Ae(Me,Fe,Ke,"<","\\lt",!0),Ae(Me,Fe,Ke,"→","\\rightarrow",!0),Ae(Me,Fe,Ke,"→","\\to"),Ae(Me,Be,Ke,"≱","\\ngeq",!0),Ae(Me,Be,Ke,"≰","\\nleq",!0),Ae(Me,Fe,qe," ","\\ "),Ae(Me,Fe,qe," ","\\space"),Ae(Me,Fe,qe," ","\\nobreakspace"),Ae(Pe,Fe,qe," ","\\ "),Ae(Pe,Fe,qe," "," "),Ae(Pe,Fe,qe," ","\\space"),Ae(Pe,Fe,qe," ","\\nobreakspace"),Ae(Me,Fe,qe,null,"\\nobreak"),Ae(Me,Fe,qe,null,"\\allowbreak"),Ae(Me,Fe,Ge,",",","),Ae(Me,Fe,Ge,";",";"),Ae(Me,Be,He,"⊼","\\barwedge",!0),Ae(Me,Be,He,"⊻","\\veebar",!0),Ae(Me,Fe,He,"⊙","\\odot",!0),Ae(Me,Fe,He,"⊕","\\oplus",!0),Ae(Me,Fe,He,"⊗","\\otimes",!0),Ae(Me,Fe,Ye,"∂","\\partial",!0),Ae(Me,Fe,He,"⊘","\\oslash",!0),Ae(Me,Be,He,"⊚","\\circledcirc",!0),Ae(Me,Be,He,"⊡","\\boxdot",!0),Ae(Me,Fe,He,"△","\\bigtriangleup"),Ae(Me,Fe,He,"▽","\\bigtriangledown"),Ae(Me,Fe,He,"†","\\dagger"),Ae(Me,Fe,He,"⋄","\\diamond"),Ae(Me,Fe,He,"⋆","\\star"),Ae(Me,Fe,He,"◃","\\triangleleft"),Ae(Me,Fe,He,"▹","\\triangleright"),Ae(Me,Fe,je,"{","\\{"),Ae(Pe,Fe,Ye,"{","\\{"),Ae(Pe,Fe,Ye,"{","\\textbraceleft"),Ae(Me,Fe,$e,"}","\\}"),Ae(Pe,Fe,Ye,"}","\\}"),Ae(Pe,Fe,Ye,"}","\\textbraceright"),Ae(Me,Fe,je,"{","\\lbrace"),Ae(Me,Fe,$e,"}","\\rbrace"),Ae(Me,Fe,je,"[","\\lbrack",!0),Ae(Pe,Fe,Ye,"[","\\lbrack",!0),Ae(Me,Fe,$e,"]","\\rbrack",!0),Ae(Pe,Fe,Ye,"]","\\rbrack",!0),Ae(Me,Fe,je,"(","\\lparen",!0),Ae(Me,Fe,$e,")","\\rparen",!0),Ae(Pe,Fe,Ye,"<","\\textless",!0),Ae(Pe,Fe,Ye,">","\\textgreater",!0),Ae(Me,Fe,je,"⌊","\\lfloor",!0),Ae(Me,Fe,$e,"⌋","\\rfloor",!0),Ae(Me,Fe,je,"⌈","\\lceil",!0),Ae(Me,Fe,$e,"⌉","\\rceil",!0),Ae(Me,Fe,Ye,"\\","\\backslash"),Ae(Me,Fe,Ye,"∣","|"),Ae(Me,Fe,Ye,"∣","\\vert"),Ae(Pe,Fe,Ye,"|","\\textbar",!0),Ae(Me,Fe,Ye,"∥","\\|"),Ae(Me,Fe,Ye,"∥","\\Vert"),Ae(Pe,Fe,Ye,"∥","\\textbardbl"),Ae(Pe,Fe,Ye,"~","\\textasciitilde"),Ae(Pe,Fe,Ye,"\\","\\textbackslash"),Ae(Pe,Fe,Ye,"^","\\textasciicircum"),Ae(Me,Fe,Ke,"↑","\\uparrow",!0),Ae(Me,Fe,Ke,"⇑","\\Uparrow",!0),Ae(Me,Fe,Ke,"↓","\\downarrow",!0),Ae(Me,Fe,Ke,"⇓","\\Downarrow",!0),Ae(Me,Fe,Ke,"↕","\\updownarrow",!0),Ae(Me,Fe,Ke,"⇕","\\Updownarrow",!0),Ae(Me,Fe,ze,"∐","\\coprod"),Ae(Me,Fe,ze,"⋁","\\bigvee"),Ae(Me,Fe,ze,"⋀","\\bigwedge"),Ae(Me,Fe,ze,"⨄","\\biguplus"),Ae(Me,Fe,ze,"⋂","\\bigcap"),Ae(Me,Fe,ze,"⋃","\\bigcup"),Ae(Me,Fe,ze,"∫","\\int"),Ae(Me,Fe,ze,"∫","\\intop"),Ae(Me,Fe,ze,"∬","\\iint"),Ae(Me,Fe,ze,"∭","\\iiint"),Ae(Me,Fe,ze,"∏","\\prod"),Ae(Me,Fe,ze,"∑","\\sum"),Ae(Me,Fe,ze,"⨂","\\bigotimes"),Ae(Me,Fe,ze,"⨁","\\bigoplus"),Ae(Me,Fe,ze,"⨀","\\bigodot"),Ae(Me,Fe,ze,"∮","\\oint"),Ae(Me,Fe,ze,"∯","\\oiint"),Ae(Me,Fe,ze,"∰","\\oiiint"),Ae(Me,Fe,ze,"⨆","\\bigsqcup"),Ae(Me,Fe,ze,"∫","\\smallint"),Ae(Pe,Fe,We,"…","\\textellipsis"),Ae(Me,Fe,We,"…","\\mathellipsis"),Ae(Pe,Fe,We,"…","\\ldots",!0),Ae(Me,Fe,We,"…","\\ldots",!0),Ae(Me,Fe,We,"⋯","\\@cdots",!0),Ae(Me,Fe,We,"⋱","\\ddots",!0),Ae(Me,Fe,Ye,"⋮","\\varvdots"),Ae(Me,Fe,Ve,"ˊ","\\acute"),Ae(Me,Fe,Ve,"ˋ","\\grave"),Ae(Me,Fe,Ve,"¨","\\ddot"),Ae(Me,Fe,Ve,"~","\\tilde"),Ae(Me,Fe,Ve,"ˉ","\\bar"),Ae(Me,Fe,Ve,"˘","\\breve"),Ae(Me,Fe,Ve,"ˇ","\\check"),Ae(Me,Fe,Ve,"^","\\hat"),Ae(Me,Fe,Ve,"⃗","\\vec"),Ae(Me,Fe,Ve,"˙","\\dot"),Ae(Me,Fe,Ve,"˚","\\mathring"),Ae(Me,Fe,Ue,"","\\@imath"),Ae(Me,Fe,Ue,"","\\@jmath"),Ae(Me,Fe,Ye,"ı","ı"),Ae(Me,Fe,Ye,"ȷ","ȷ"),Ae(Pe,Fe,Ye,"ı","\\i",!0),Ae(Pe,Fe,Ye,"ȷ","\\j",!0),Ae(Pe,Fe,Ye,"ß","\\ss",!0),Ae(Pe,Fe,Ye,"æ","\\ae",!0),Ae(Pe,Fe,Ye,"œ","\\oe",!0),Ae(Pe,Fe,Ye,"ø","\\o",!0),Ae(Pe,Fe,Ye,"Æ","\\AE",!0),Ae(Pe,Fe,Ye,"Œ","\\OE",!0),Ae(Pe,Fe,Ye,"Ø","\\O",!0),Ae(Pe,Fe,Ve,"ˊ","\\'"),Ae(Pe,Fe,Ve,"ˋ","\\`"),Ae(Pe,Fe,Ve,"ˆ","\\^"),Ae(Pe,Fe,Ve,"˜","\\~"),Ae(Pe,Fe,Ve,"ˉ","\\="),Ae(Pe,Fe,Ve,"˘","\\u"),Ae(Pe,Fe,Ve,"˙","\\."),Ae(Pe,Fe,Ve,"¸","\\c"),Ae(Pe,Fe,Ve,"˚","\\r"),Ae(Pe,Fe,Ve,"ˇ","\\v"),Ae(Pe,Fe,Ve,"¨",'\\"'),Ae(Pe,Fe,Ve,"˝","\\H"),Ae(Pe,Fe,Ve,"◯","\\textcircled");var Xe={"--":!0,"---":!0,"``":!0,"''":!0};Ae(Pe,Fe,Ye,"–","--",!0),Ae(Pe,Fe,Ye,"–","\\textendash"),Ae(Pe,Fe,Ye,"—","---",!0),Ae(Pe,Fe,Ye,"—","\\textemdash"),Ae(Pe,Fe,Ye,"‘","`",!0),Ae(Pe,Fe,Ye,"‘","\\textquoteleft"),Ae(Pe,Fe,Ye,"’","'",!0),Ae(Pe,Fe,Ye,"’","\\textquoteright"),Ae(Pe,Fe,Ye,"“","``",!0),Ae(Pe,Fe,Ye,"“","\\textquotedblleft"),Ae(Pe,Fe,Ye,"”","''",!0),Ae(Pe,Fe,Ye,"”","\\textquotedblright"),Ae(Me,Fe,Ye,"°","\\degree",!0),Ae(Pe,Fe,Ye,"°","\\degree"),Ae(Pe,Fe,Ye,"°","\\textdegree",!0),Ae(Me,Fe,Ye,"£","\\pounds"),Ae(Me,Fe,Ye,"£","\\mathsterling",!0),Ae(Pe,Fe,Ye,"£","\\pounds"),Ae(Pe,Fe,Ye,"£","\\textsterling",!0),Ae(Me,Be,Ye,"✠","\\maltese"),Ae(Pe,Be,Ye,"✠","\\maltese");for(var Ze='0123456789/@."',Je=0;Je<Ze.length;Je++){var Qe=Ze.charAt(Je);Ae(Me,Fe,Ye,Qe,Qe)}for(var et='0123456789!@*()-=+";:?/.,',tt=0;tt<et.length;tt++){var nt=et.charAt(tt);Ae(Pe,Fe,Ye,nt,nt)}for(var it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",ot=0;ot<it.length;ot++){var rt=it.charAt(ot);Ae(Me,Fe,Ue,rt,rt),Ae(Pe,Fe,Ye,rt,rt)}Ae(Me,Be,Ye,"C","ℂ"),Ae(Pe,Be,Ye,"C","ℂ"),Ae(Me,Be,Ye,"H","ℍ"),Ae(Pe,Be,Ye,"H","ℍ"),Ae(Me,Be,Ye,"N","ℕ"),Ae(Pe,Be,Ye,"N","ℕ"),Ae(Me,Be,Ye,"P","ℙ"),Ae(Pe,Be,Ye,"P","ℙ"),Ae(Me,Be,Ye,"Q","ℚ"),Ae(Pe,Be,Ye,"Q","ℚ"),Ae(Me,Be,Ye,"R","ℝ"),Ae(Pe,Be,Ye,"R","ℝ"),Ae(Me,Be,Ye,"Z","ℤ"),Ae(Pe,Be,Ye,"Z","ℤ"),Ae(Me,Fe,Ue,"h","ℎ"),Ae(Pe,Fe,Ue,"h","ℎ");for(var st="",at=0;at<it.length;at++){var lt=it.charAt(at);st=String.fromCharCode(55349,56320+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56372+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56424+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56580+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56736+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56788+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56840+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56944+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),at<26&&(st=String.fromCharCode(55349,56632+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st),st=String.fromCharCode(55349,56476+at),Ae(Me,Fe,Ue,lt,st),Ae(Pe,Fe,Ye,lt,st))}st=String.fromCharCode(55349,56668),Ae(Me,Fe,Ue,"k",st),Ae(Pe,Fe,Ye,"k",st);for(var ut=0;ut<10;ut++){var ct=ut.toString();st=String.fromCharCode(55349,57294+ut),Ae(Me,Fe,Ue,ct,st),Ae(Pe,Fe,Ye,ct,st),st=String.fromCharCode(55349,57314+ut),Ae(Me,Fe,Ue,ct,st),Ae(Pe,Fe,Ye,ct,st),st=String.fromCharCode(55349,57324+ut),Ae(Me,Fe,Ue,ct,st),Ae(Pe,Fe,Ye,ct,st),st=String.fromCharCode(55349,57334+ut),Ae(Me,Fe,Ue,ct,st),Ae(Pe,Fe,Ye,ct,st)}for(var ht="ÐÞþ",dt=0;dt<ht.length;dt++){var pt=ht.charAt(dt);Ae(Me,Fe,Ue,pt,pt),Ae(Pe,Fe,Ye,pt,pt)}var ft=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],gt=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],mt=function(e,t){var n=e.charCodeAt(0),i=e.charCodeAt(1),o=1024*(n-55296)+(i-56320)+65536,s="math"===t?0:1;if(119808<=o&&o<120484){var a=Math.floor((o-119808)/26);return[ft[a][2],ft[a][s]]}if(120782<=o&&o<=120831){var l=Math.floor((o-120782)/10);return[gt[l][2],gt[l][s]]}if(120485===o||120486===o)return[ft[0][2],ft[0][s]];if(120486<o&&o<120782)return["",""];throw new r("Unsupported character: "+e)},_t=function(e,t,n){return Re[n][e]&&Re[n][e].replace&&(e=Re[n][e].replace),{value:e,metrics:re(e,t,n)}},vt=function(e,t,n,i,o){var r,s=_t(e,t,n),a=s.metrics;if(e=s.value,a){var l=a.italic;("text"===n||i&&"mathit"===i.font)&&(l=0),r=new Te(e,a.height,a.depth,l,a.skew,a.width,o)}else"undefined"!==typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+n+"'"),r=new Te(e,0,0,0,0,0,o);if(i){r.maxFontSize=i.sizeMultiplier,i.style.isTight()&&r.classes.push("mtight");var u=i.getColor();u&&(r.style.color=u)}return r},yt=function(e,t,n,i){return void 0===i&&(i=[]),"boldsymbol"===n.font&&_t(e,"Main-Bold",t).metrics?vt(e,"Main-Bold",t,n,i.concat(["mathbf"])):"\\"===e||"main"===Re[t][e].font?vt(e,"Main-Regular",t,n,i):vt(e,"AMS-Regular",t,n,i.concat(["amsrm"]))},bt=function(e,t,n,i,o){return"textord"!==o&&_t(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},wt=function(e,t,n){var i=e.mode,o=e.text,r=["mord"],s="math"===i||"text"===i&&t.font,a=s?t.font:t.fontFamily;if(55349===o.charCodeAt(0)){var[l,u]=mt(o,i);return vt(o,l,i,t,r.concat(u))}if(a){var c,h;if("boldsymbol"===a){var d=bt(o,i,t,r,n);c=d.fontName,h=[d.fontClass]}else s?(c=Mt[a].fontName,h=[a]):(c=At(a,t.fontWeight,t.fontShape),h=[a,t.fontWeight,t.fontShape]);if(_t(o,c,i).metrics)return vt(o,c,i,t,r.concat(h));if(Xe.hasOwnProperty(o)&&"Typewriter"===c.slice(0,10)){for(var p=[],f=0;f<o.length;f++)p.push(vt(o[f],c,i,t,r.concat(h)));return It(p)}}if("mathord"===n)return vt(o,"Math-Italic",i,t,r.concat(["mathnormal"]));if("textord"===n){var g=Re[i][o]&&Re[i][o].font;if("ams"===g){var m=At("amsrm",t.fontWeight,t.fontShape);return vt(o,m,i,t,r.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==g&&g){var _=At(g,t.fontWeight,t.fontShape);return vt(o,_,i,t,r.concat(_,t.fontWeight,t.fontShape))}var v=At("textrm",t.fontWeight,t.fontShape);return vt(o,v,i,t,r.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},Ct=(e,t)=>{if(_e(e.classes)!==_e(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var o in t.style)if(t.style.hasOwnProperty(o)&&e.style[o]!==t.style[o])return!1;return!0},St=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof Te&&i instanceof Te&&Ct(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e},Et=function(e){for(var t=0,n=0,i=0,o=0;o<e.children.length;o++){var r=e.children[o];r.height>t&&(t=r.height),r.depth>n&&(n=r.depth),r.maxFontSize>i&&(i=r.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=i},Tt=function(e,t,n,i){var o=new we(e,t,n,i);return Et(o),o},kt=(e,t,n,i)=>new we(e,t,n,i),xt=function(e,t,n){var i=Tt([e],[],t);return i.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i.style.borderBottomWidth=me(i.height),i.maxFontSize=1,i},Lt=function(e,t,n,i){var o=new Ce(e,t,n,i);return Et(o),o},It=function(e){var t=new ee(e);return Et(t),t},Ot=function(e,t){return e instanceof ee?Tt([],[e],t):e},Dt=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],i=-t[0].shift-t[0].elem.depth,o=i,r=1;r<t.length;r++){var s=-t[r].shift-o-t[r].elem.depth,a=s-(t[r-1].elem.height+t[r-1].elem.depth);o+=s,n.push({type:"kern",size:a}),n.push(t[r])}return{children:n,depth:i}}var l;if("top"===e.positionType){for(var u=e.positionData,c=0;c<e.children.length;c++){var h=e.children[c];u-="kern"===h.type?h.size:h.elem.height+h.elem.depth}l=u}else if("bottom"===e.positionType)l=-e.positionData;else{var d=e.children[0];if("elem"!==d.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-d.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-d.elem.depth}}return{children:e.children,depth:l}},Nt=function(e,t){for(var{children:n,depth:i}=Dt(e),o=0,r=0;r<n.length;r++){var s=n[r];if("elem"===s.type){var a=s.elem;o=Math.max(o,a.maxFontSize,a.height)}}o+=2;var l=Tt(["pstrut"],[]);l.style.height=me(o);for(var u=[],c=i,h=i,d=i,p=0;p<n.length;p++){var f=n[p];if("kern"===f.type)d+=f.size;else{var g=f.elem,m=f.wrapperClasses||[],_=f.wrapperStyle||{},v=Tt(m,[l,g],void 0,_);v.style.top=me(-o-d-g.depth),f.marginLeft&&(v.style.marginLeft=f.marginLeft),f.marginRight&&(v.style.marginRight=f.marginRight),u.push(v),d+=g.height+g.depth}c=Math.min(c,d),h=Math.max(h,d)}var y,b=Tt(["vlist"],u);if(b.style.height=me(h),c<0){var w=Tt([],[]),C=Tt(["vlist"],[w]);C.style.height=me(-c);var S=Tt(["vlist-s"],[new Te("​")]);y=[Tt(["vlist-r"],[b,S]),Tt(["vlist-r"],[C])]}else y=[Tt(["vlist-r"],[b])];var E=Tt(["vlist-t"],y);return 2===y.length&&E.classes.push("vlist-t2"),E.height=h,E.depth=-c,E},Rt=(e,t)=>{var n=Tt(["mspace"],[],t),i=ge(e,t);return n.style.marginRight=me(i),n},At=function(e,t,n){var i,o="";switch(e){case"amsrm":o="AMS";break;case"textrm":o="Main";break;case"textsf":o="SansSerif";break;case"texttt":o="Typewriter";break;default:o=e}return i="textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular",o+"-"+i},Mt={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Pt={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Ft=function(e,t){var[n,i,o]=Pt[e],r=new xe(n),s=new ke([r],{width:me(i),height:me(o),style:"width:"+me(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),a=kt(["overlay"],[s],t);return a.height=o,a.style.height=me(o),a.style.width=me(i),a},Bt={fontMap:Mt,makeSymbol:vt,mathsym:yt,makeSpan:Tt,makeSvgSpan:kt,makeLineSpan:xt,makeAnchor:Lt,makeFragment:It,wrapFragment:Ot,makeVList:Nt,makeOrd:wt,makeGlue:Rt,staticSvg:Ft,svgData:Pt,tryCombineChars:St},Vt={number:3,unit:"mu"},Ht={number:4,unit:"mu"},$t={number:5,unit:"mu"},Wt={mord:{mop:Vt,mbin:Ht,mrel:$t,minner:Vt},mop:{mord:Vt,mop:Vt,mrel:$t,minner:Vt},mbin:{mord:Ht,mop:Ht,mopen:Ht,minner:Ht},mrel:{mord:$t,mop:$t,mopen:$t,minner:$t},mopen:{},mclose:{mop:Vt,mbin:Ht,mrel:$t,minner:Vt},mpunct:{mord:Vt,mop:Vt,mrel:$t,mopen:Vt,mclose:Vt,mpunct:Vt,minner:Vt},minner:{mord:Vt,mop:Vt,mbin:Ht,mrel:$t,mopen:Vt,mpunct:Vt,minner:Vt}},Ut={mord:{mop:Vt},mop:{mord:Vt,mop:Vt},mbin:{},mrel:{},mopen:{},mclose:{mop:Vt},mpunct:{},minner:{mop:Vt}},zt={},jt={},Gt={};function Kt(e){for(var{type:t,names:n,props:i,handler:o,htmlBuilder:r,mathmlBuilder:s}=e,a={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:void 0===i.allowedInMath||i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:o},l=0;l<n.length;++l)zt[n[l]]=a;t&&(r&&(jt[t]=r),s&&(Gt[t]=s))}function qt(e){var{type:t,htmlBuilder:n,mathmlBuilder:i}=e;Kt({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var Yt=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},Xt=function(e){return"ordgroup"===e.type?e.body:[e]},Zt=Bt.makeSpan,Jt=["leftmost","mbin","mopen","mrel","mop","mpunct"],Qt=["rightmost","mrel","mclose","mpunct"],en={display:F.DISPLAY,text:F.TEXT,script:F.SCRIPT,scriptscript:F.SCRIPTSCRIPT},tn={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},nn=function(e,t,n,i){void 0===i&&(i=[null,null]);for(var o=[],r=0;r<e.length;r++){var s=un(e[r],t);if(s instanceof ee){var a=s.children;o.push(...a)}else o.push(s)}if(Bt.tryCombineChars(o),!n)return o;var l=t;if(1===e.length){var u=e[0];"sizing"===u.type?l=t.havingSize(u.size):"styling"===u.type&&(l=t.havingStyle(en[u.style]))}var c=Zt([i[0]||"leftmost"],[],t),h=Zt([i[1]||"rightmost"],[],t),d="root"===n;return on(o,(e,t)=>{var n=t.classes[0],i=e.classes[0];"mbin"===n&&_.contains(Qt,i)?t.classes[0]="mord":"mbin"===i&&_.contains(Jt,n)&&(e.classes[0]="mord")},{node:c},h,d),on(o,(e,t)=>{var n=an(t),i=an(e),o=n&&i?e.hasClass("mtight")?Ut[n][i]:Wt[n][i]:null;if(o)return Bt.makeGlue(o,l)},{node:c},h,d),o},on=function e(t,n,i,o,r){o&&t.push(o);for(var s=0;s<t.length;s++){var a=t[s],l=rn(a);if(l)e(l.children,n,i,null,r);else{var u=!a.hasClass("mspace");if(u){var c=n(a,i.node);c&&(i.insertAfter?i.insertAfter(c):(t.unshift(c),s++))}u?i.node=a:r&&a.hasClass("newline")&&(i.node=Zt(["leftmost"])),i.insertAfter=(e=>n=>{t.splice(e+1,0,n),s++})(s)}}o&&t.pop()},rn=function(e){return e instanceof ee||e instanceof Ce||e instanceof we&&e.hasClass("enclosing")?e:null},sn=function e(t,n){var i=rn(t);if(i){var o=i.children;if(o.length){if("right"===n)return e(o[o.length-1],"right");if("left"===n)return e(o[0],"left")}}return t},an=function(e,t){return e?(t&&(e=sn(e,t)),tn[e.classes[0]]||null):null},ln=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return Zt(t.concat(n))},un=function(e,t,n){if(!e)return Zt();if(jt[e.type]){var i=jt[e.type](e,t);if(n&&t.size!==n.size){i=Zt(t.sizingClasses(n),[i],t);var o=t.sizeMultiplier/n.sizeMultiplier;i.height*=o,i.depth*=o}return i}throw new r("Got group of unknown type: '"+e.type+"'")};function cn(e,t){var n=Zt(["base"],e,t),i=Zt(["strut"]);return i.style.height=me(n.height+n.depth),n.depth&&(i.style.verticalAlign=me(-n.depth)),n.children.unshift(i),n}function hn(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);var i,o=nn(e,t,"root");2===o.length&&o[1].hasClass("tag")&&(i=o.pop());for(var r,s=[],a=[],l=0;l<o.length;l++)if(a.push(o[l]),o[l].hasClass("mbin")||o[l].hasClass("mrel")||o[l].hasClass("allowbreak")){var u=!1;while(l<o.length-1&&o[l+1].hasClass("mspace")&&!o[l+1].hasClass("newline"))l++,a.push(o[l]),o[l].hasClass("nobreak")&&(u=!0);u||(s.push(cn(a,t)),a=[])}else o[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(cn(a,t)),a=[]),s.push(o[l]));a.length>0&&s.push(cn(a,t)),n?(r=cn(nn(n,t,!0)),r.classes=["tag"],s.push(r)):i&&s.push(i);var c=Zt(["katex-html"],s);if(c.setAttribute("aria-hidden","true"),r){var h=r.children[0];h.style.height=me(c.height+c.depth),c.depth&&(h.style.verticalAlign=me(-c.depth))}return c}function dn(e){return new ee(e)}class pn{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=_e(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=_.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+_.escape(_e(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class fn{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return _.escape(this.toText())}toText(){return this.text}}class gn{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",me(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+me(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mn={MathNode:pn,TextNode:fn,SpaceNode:gn,newDocumentFragment:dn},_n=function(e,t,n){return!Re[t][e]||!Re[t][e].replace||55349===e.charCodeAt(0)||Xe.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(e=Re[t][e].replace),new mn.TextNode(e)},vn=function(e){return 1===e.length?e[0]:new mn.MathNode("mrow",e)},yn=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var i=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var o=e.text;if(_.contains(["\\imath","\\jmath"],o))return null;Re[i][o]&&Re[i][o].replace&&(o=Re[i][o].replace);var r=Bt.fontMap[n].fontName;return re(o,r,i)?Bt.fontMap[n].variant:null},bn=function(e,t,n){if(1===e.length){var i=Cn(e[0],t);return n&&i instanceof pn&&"mo"===i.type&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o,r=[],s=0;s<e.length;s++){var a=Cn(e[s],t);if(a instanceof pn&&o instanceof pn){if("mtext"===a.type&&"mtext"===o.type&&a.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...a.children);continue}if("mn"===a.type&&"mn"===o.type){o.children.push(...a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===o.type){var l=a.children[0];if(l instanceof fn&&"."===l.text){o.children.push(...a.children);continue}}else if("mi"===o.type&&1===o.children.length){var u=o.children[0];if(u instanceof fn&&"̸"===u.text&&("mo"===a.type||"mi"===a.type||"mn"===a.type)){var c=a.children[0];c instanceof fn&&c.text.length>0&&(c.text=c.text.slice(0,1)+"̸"+c.text.slice(1),r.pop())}}}r.push(a),o=a}return r},wn=function(e,t,n){return vn(bn(e,t,n))},Cn=function(e,t){if(!e)return new mn.MathNode("mrow");if(Gt[e.type]){var n=Gt[e.type](e,t);return n}throw new r("Got group of unknown type: '"+e.type+"'")};function Sn(e,t,n,i,o){var r,s=bn(e,n);r=1===s.length&&s[0]instanceof pn&&_.contains(["mrow","mtable"],s[0].type)?s[0]:new mn.MathNode("mrow",s);var a=new mn.MathNode("annotation",[new mn.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var l=new mn.MathNode("semantics",[r,a]),u=new mn.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var c=o?"katex":"katex-mathml";return Bt.makeSpan([c],[u])}var En=function(e){return new he({style:e.displayMode?F.DISPLAY:F.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Tn=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=Bt.makeSpan(n,[e])}return e},kn=function(e,t,n){var i,o=En(n);if("mathml"===n.output)return Sn(e,t,o,n.displayMode,!0);if("html"===n.output){var r=hn(e,o);i=Bt.makeSpan(["katex"],[r])}else{var s=Sn(e,t,o,n.displayMode,!1),a=hn(e,o);i=Bt.makeSpan(["katex"],[s,a])}return Tn(i,n)},xn=function(e,t,n){var i=En(n),o=hn(e,i),r=Bt.makeSpan(["katex"],[o]);return Tn(r,n)},Ln={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},In=function(e){var t=new mn.MathNode("mo",[new mn.TextNode(Ln[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},On={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Dn=function(e){return"ordgroup"===e.type?e.body.length:1},Nn=function(e,t){function n(){var n=4e5,i=e.label.slice(1);if(_.contains(["widehat","widecheck","widetilde","utilde"],i)){var o,r,s,a=e,l=Dn(a.base);if(l>5)"widehat"===i||"widecheck"===i?(o=420,n=2364,s=.42,r=i+"4"):(o=312,n=2340,s=.34,r="tilde4");else{var u=[1,1,2,2,3,3][l];"widehat"===i||"widecheck"===i?(n=[0,1062,2364,2364,2364][u],o=[0,239,300,360,420][u],s=[0,.24,.3,.3,.36,.42][u],r=i+u):(n=[0,600,1033,2339,2340][u],o=[0,260,286,306,312][u],s=[0,.26,.286,.3,.306,.34][u],r="tilde"+u)}var c=new xe(r),h=new ke([c],{width:"100%",height:me(s),viewBox:"0 0 "+n+" "+o,preserveAspectRatio:"none"});return{span:Bt.makeSvgSpan([],[h],t),minWidth:0,height:s}}var d,p,f=[],g=On[i],[m,v,y]=g,b=y/1e3,w=m.length;if(1===w){var C=g[3];d=["hide-tail"],p=[C]}else if(2===w)d=["halfarrow-left","halfarrow-right"],p=["xMinYMin","xMaxYMin"];else{if(3!==w)throw new Error("Correct katexImagesData or update code here to support\n                    "+w+" children.");d=["brace-left","brace-center","brace-right"],p=["xMinYMin","xMidYMin","xMaxYMin"]}for(var S=0;S<w;S++){var E=new xe(m[S]),T=new ke([E],{width:"400em",height:me(b),viewBox:"0 0 "+n+" "+y,preserveAspectRatio:p[S]+" slice"}),k=Bt.makeSvgSpan([d[S]],[T],t);if(1===w)return{span:k,minWidth:v,height:b};k.style.height=me(b),f.push(k)}return{span:Bt.makeSpan(["stretchy"],f,t),minWidth:v,height:b}}var{span:i,minWidth:o,height:r}=n();return i.height=r,i.style.height=me(r),o>0&&(i.style.minWidth=me(o)),i},Rn=function(e,t,n,i,o){var r,s=e.height+e.depth+n+i;if(/fbox|color|angl/.test(t)){if(r=Bt.makeSpan(["stretchy",t],[],o),"fbox"===t){var a=o.color&&o.getColor();a&&(r.style.borderColor=a)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new Le({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new Le({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new ke(l,{width:"100%",height:me(s)});r=Bt.makeSvgSpan([],[u],o)}return r.height=s,r.style.height=me(s),r},An={encloseSpan:Rn,mathMLnode:In,svgSpan:Nn};function Mn(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Pn(e){var t=Fn(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function Fn(e){return e&&("atom"===e.type||Ne.hasOwnProperty(e.type))?e:null}var Bn=(e,t)=>{var n,i,o;e&&"supsub"===e.type?(i=Mn(e.base,"accent"),n=i.base,e.base=n,o=Oe(un(e,t)),e.base=i):(i=Mn(e,"accent"),n=i.base);var r=un(n,t.havingCrampedStyle()),s=i.isShifty&&_.isCharacterBox(n),a=0;if(s){var l=_.getBaseElem(n),u=un(l,t.havingCrampedStyle());a=Ie(u).skew}var c,h="\\c"===i.label,d=h?r.height+r.depth:Math.min(r.height,t.fontMetrics().xHeight);if(i.isStretchy)c=An.svgSpan(i,t),c=Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"elem",elem:c,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+me(2*a)+")",marginLeft:me(2*a)}:void 0}]},t);else{var p,f;"\\vec"===i.label?(p=Bt.staticSvg("vec",t),f=Bt.svgData.vec[1]):(p=Bt.makeOrd({mode:i.mode,text:i.label},t,"textord"),p=Ie(p),p.italic=0,f=p.width,h&&(d+=p.depth)),c=Bt.makeSpan(["accent-body"],[p]);var g="\\textcircled"===i.label;g&&(c.classes.push("accent-full"),d=r.height);var m=a;g||(m-=f/2),c.style.left=me(m),"\\textcircled"===i.label&&(c.style.top=".2em"),c=Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:-d},{type:"elem",elem:c}]},t)}var v=Bt.makeSpan(["mord","accent"],[c],t);return o?(o.children[0]=v,o.height=Math.max(v.height,o.height),o.classes[0]="mord",o):v},Vn=(e,t)=>{var n=e.isStretchy?An.mathMLnode(e.label):new mn.MathNode("mo",[_n(e.label,e.mode)]),i=new mn.MathNode("mover",[Cn(e.base,t),n]);return i.setAttribute("accent","true"),i},Hn=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Kt({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Yt(t[0]),i=!Hn.test(e.funcName),o=!i||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:o,base:n}},htmlBuilder:Bn,mathmlBuilder:Vn}),Kt({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],i=e.parser.mode;return"math"===i&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Bn,mathmlBuilder:Vn}),Kt({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,o=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:o}},htmlBuilder:(e,t)=>{var n=un(e.base,t),i=An.svgSpan(e,t),o="\\utilde"===e.label?.12:0,r=Bt.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},t);return Bt.makeSpan(["mord","accentunder"],[r],t)},mathmlBuilder:(e,t)=>{var n=An.mathMLnode(e.label),i=new mn.MathNode("munder",[Cn(e.base,t),n]);return i.setAttribute("accentunder","true"),i}});var $n=e=>{var t=new mn.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Kt({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i,funcName:o}=e;return{type:"xArrow",mode:i.mode,label:o,body:t[0],below:n[0]}},htmlBuilder(e,t){var n,i=t.style,o=t.havingStyle(i.sup()),r=Bt.wrapFragment(un(e.body,o,t),t),s="\\x"===e.label.slice(0,2)?"x":"cd";r.classes.push(s+"-arrow-pad"),e.below&&(o=t.havingStyle(i.sub()),n=Bt.wrapFragment(un(e.below,o,t),t),n.classes.push(s+"-arrow-pad"));var a,l=An.svgSpan(e,t),u=-t.fontMetrics().axisHeight+.5*l.height,c=-t.fontMetrics().axisHeight-.5*l.height-.111;if((r.depth>.25||"\\xleftequilibrium"===e.label)&&(c-=r.depth),n){var h=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;a=Bt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:l,shift:u},{type:"elem",elem:n,shift:h}]},t)}else a=Bt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:c},{type:"elem",elem:l,shift:u}]},t);return a.children[0].children[0].children[1].classes.push("svg-align"),Bt.makeSpan(["mrel","x-arrow"],[a],t)},mathmlBuilder(e,t){var n,i=An.mathMLnode(e.label);if(i.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var o=$n(Cn(e.body,t));if(e.below){var r=$n(Cn(e.below,t));n=new mn.MathNode("munderover",[i,r,o])}else n=new mn.MathNode("mover",[i,o])}else if(e.below){var s=$n(Cn(e.below,t));n=new mn.MathNode("munder",[i,s])}else n=$n(),n=new mn.MathNode("mover",[i,n]);return n}});var Wn=Bt.makeSpan;function Un(e,t){var n=nn(e.body,t,!0);return Wn([e.mclass],n,t)}function zn(e,t){var n,i=bn(e.body,t);return"minner"===e.mclass?n=new mn.MathNode("mpadded",i):"mord"===e.mclass?e.isCharacterBox?(n=i[0],n.type="mi"):n=new mn.MathNode("mi",i):(e.isCharacterBox?(n=i[0],n.type="mo"):n=new mn.MathNode("mo",i),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Kt({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:i}=e,o=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:Xt(o),isCharacterBox:_.isCharacterBox(o)}},htmlBuilder:Un,mathmlBuilder:zn});var jn=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};Kt({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:jn(t[0]),body:Xt(t[1]),isCharacterBox:_.isCharacterBox(t[1])}}}),Kt({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var n,{parser:i,funcName:o}=e,r=t[1],s=t[0];n="\\stackrel"!==o?jn(r):"mrel";var a={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==o,body:Xt(r)},l={type:"supsub",mode:s.mode,base:a,sup:"\\underset"===o?null:s,sub:"\\underset"===o?s:null};return{type:"mclass",mode:i.mode,mclass:n,body:[l],isCharacterBox:_.isCharacterBox(l)}},htmlBuilder:Un,mathmlBuilder:zn}),Kt({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:jn(t[0]),body:Xt(t[0])}},htmlBuilder(e,t){var n=nn(e.body,t,!0),i=Bt.makeSpan([e.mclass],n,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(e,t){var n=bn(e.body,t),i=new mn.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var Gn={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Kn=()=>({type:"styling",body:[],mode:"math",style:"display"}),qn=e=>"textord"===e.type&&"@"===e.text,Yn=(e,t)=>("mathord"===e.type||"atom"===e.type)&&e.text===t;function Xn(e,t,n){var i=Gn[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var o=n.callFunction("\\\\cdleft",[t[0]],[]),r={type:"atom",text:i,mode:"math",family:"rel"},s=n.callFunction("\\Big",[r],[]),a=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[o,s,a]};return n.callFunction("\\\\cdparent",[l],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[]);default:return{type:"textord",text:" ",mode:"math"}}}function Zn(e){var t=[];e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();while(1){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===t[t.length-1].length&&t.pop();break}throw new r("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var i=[],o=[i],s=0;s<t.length;s++){for(var a=t[s],l=Kn(),u=0;u<a.length;u++)if(qn(a[u])){i.push(l),u+=1;var c=Pn(a[u]).text,h=new Array(2);if(h[0]={type:"ordgroup",mode:"math",body:[]},h[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(c)>-1);else{if(!("<>AV".indexOf(c)>-1))throw new r('Expected one of "<>AV=|." after @',a[u]);for(var d=0;d<2;d++){for(var p=!0,f=u+1;f<a.length;f++){if(Yn(a[f],c)){p=!1,u=f;break}if(qn(a[f]))throw new r("Missing a "+c+" character to complete a CD arrow.",a[f]);h[d].body.push(a[f])}if(p)throw new r("Missing a "+c+" character to complete a CD arrow.",a[u])}}var g=Xn(c,h,e),m={type:"styling",body:[g],mode:"math",style:"display"};i.push(m),l=Kn()}else l.body.push(a[u]);s%2===0?i.push(l):i.shift(),i=[],o.push(i)}e.gullet.endGroup(),e.gullet.endGroup();var _=new Array(o[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:o,arraystretch:1,addJot:!0,rowGaps:[null],cols:_,colSeparationType:"CD",hLinesBeforeRow:new Array(o.length+1).fill([])}}Kt({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),i=Bt.wrapFragment(un(e.label,n,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=me(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(e,t){var n=new mn.MathNode("mrow",[Cn(e.label,t)]);return n=new mn.MathNode("mpadded",[n]),n.setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new mn.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),Kt({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=Bt.wrapFragment(un(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new mn.MathNode("mrow",[Cn(e.fragment,t)])}}),Kt({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,i=Mn(t[0],"ordgroup"),o=i.body,s="",a=0;a<o.length;a++){var l=Mn(o[a],"textord");s+=l.text}var u,c=parseInt(s);if(isNaN(c))throw new r("\\@char has non-numeric argument "+s);if(c<0||c>=1114111)throw new r("\\@char with invalid code point "+s);return c<=65535?u=String.fromCharCode(c):(c-=65536,u=String.fromCharCode(55296+(c>>10),56320+(1023&c))),{type:"textord",mode:n.mode,text:u}}});var Jn=(e,t)=>{var n=nn(e.body,t.withColor(e.color),!1);return Bt.makeFragment(n)},Qn=(e,t)=>{var n=bn(e.body,t.withColor(e.color)),i=new mn.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};Kt({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,i=Mn(t[0],"color-token").color,o=t[1];return{type:"color",mode:n.mode,color:i,body:Xt(o)}},htmlBuilder:Jn,mathmlBuilder:Qn}),Kt({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:i}=e,o=Mn(t[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var r=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:o,body:r}},htmlBuilder:Jn,mathmlBuilder:Qn}),Kt({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:i}=e,o="["===i.gullet.future().text?i.parseSizeGroup(!0):null,r=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:r,size:o&&Mn(o,"size").value}},htmlBuilder(e,t){var n=Bt.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=me(ge(e.size,t)))),n},mathmlBuilder(e,t){var n=new mn.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",me(ge(e.size,t)))),n}});var ei={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},ti=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new r("Expected a control sequence",e);return t},ni=e=>{var t=e.gullet.popToken();return"="===t.text&&(t=e.gullet.popToken()," "===t.text&&(t=e.gullet.popToken())),t},ii=(e,t,n,i)=>{var o=e.gullet.macros.get(n.text);null==o&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,o,i)};Kt({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var i=t.fetch();if(ei[i.text])return"\\global"!==n&&"\\\\globallong"!==n||(i.text=ei[i.text]),Mn(t.parseFunction(),"internal");throw new r("Invalid token after macro prefix",i)}}),Kt({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=t.gullet.popToken(),o=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new r("Expected a control sequence",i);var s,a=0,l=[[]];while("{"!==t.gullet.future().text)if(i=t.gullet.popToken(),"#"===i.text){if("{"===t.gullet.future().text){s=t.gullet.future(),l[a].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new r('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==a+1)throw new r('Argument number "'+i.text+'" out of order');a++,l.push([])}else{if("EOF"===i.text)throw new r("Expected a macro definition");l[a].push(i.text)}var{tokens:u}=t.gullet.consumeArg();return s&&u.unshift(s),"\\edef"!==n&&"\\xdef"!==n||(u=t.gullet.expandTokens(u),u.reverse()),t.gullet.macros.set(o,{tokens:u,numArgs:a,delimiters:l},n===ei[n]),{type:"internal",mode:t.mode}}}),Kt({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=ti(t.gullet.popToken());t.gullet.consumeSpaces();var o=ni(t);return ii(t,i,o,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),Kt({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=ti(t.gullet.popToken()),o=t.gullet.popToken(),r=t.gullet.popToken();return ii(t,i,r,"\\\\globalfuture"===n),t.gullet.pushToken(r),t.gullet.pushToken(o),{type:"internal",mode:t.mode}}});var oi=function(e,t,n){var i=Re.math[e]&&Re.math[e].replace,o=re(i||e,t,n);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return o},ri=function(e,t,n,i){var o=n.havingBaseStyle(t),r=Bt.makeSpan(i.concat(o.sizingClasses(n)),[e],n),s=o.sizeMultiplier/n.sizeMultiplier;return r.height*=s,r.depth*=s,r.maxFontSize=o.sizeMultiplier,r},si=function(e,t,n){var i=t.havingBaseStyle(n),o=(1-t.sizeMultiplier/i.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=me(o),e.height-=o,e.depth+=o},ai=function(e,t,n,i,o,r){var s=Bt.makeSymbol(e,"Main-Regular",o,i),a=ri(s,t,i,r);return n&&si(a,i,t),a},li=function(e,t,n,i){return Bt.makeSymbol(e,"Size"+t+"-Regular",n,i)},ui=function(e,t,n,i,o,r){var s=li(e,t,o,i),a=ri(Bt.makeSpan(["delimsizing","size"+t],[s],i),F.TEXT,i,r);return n&&si(a,i,F.TEXT),a},ci=function(e,t,n){var i;i="Size1-Regular"===t?"delim-size1":"delim-size4";var o=Bt.makeSpan(["delimsizinginner",i],[Bt.makeSpan([],[Bt.makeSymbol(e,t,n)])]);return{type:"elem",elem:o}},hi=function(e,t,n){var i=te["Size4-Regular"][e.charCodeAt(0)]?te["Size4-Regular"][e.charCodeAt(0)][4]:te["Size1-Regular"][e.charCodeAt(0)][4],o=new xe("inner",Z(e,Math.round(1e3*t))),r=new ke([o],{width:me(i),height:me(t),style:"width:"+me(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),s=Bt.makeSvgSpan([],[r],n);return s.height=t,s.style.height=me(t),s.style.width=me(i),{type:"elem",elem:s}},di=.008,pi={type:"kern",size:-1*di},fi=["|","\\lvert","\\rvert","\\vert"],gi=["\\|","\\lVert","\\rVert","\\Vert"],mi=function(e,t,n,i,o,r){var s,a,l,u,c="",h=0;s=l=u=e,a=null;var d="Size1-Regular";"\\uparrow"===e?l=u="⏐":"\\Uparrow"===e?l=u="‖":"\\downarrow"===e?s=l="⏐":"\\Downarrow"===e?s=l="‖":"\\updownarrow"===e?(s="\\uparrow",l="⏐",u="\\downarrow"):"\\Updownarrow"===e?(s="\\Uparrow",l="‖",u="\\Downarrow"):_.contains(fi,e)?(l="∣",c="vert",h=333):_.contains(gi,e)?(l="∥",c="doublevert",h=556):"["===e||"\\lbrack"===e?(s="⎡",l="⎢",u="⎣",d="Size4-Regular",c="lbrack",h=667):"]"===e||"\\rbrack"===e?(s="⎤",l="⎥",u="⎦",d="Size4-Regular",c="rbrack",h=667):"\\lfloor"===e||"⌊"===e?(l=s="⎢",u="⎣",d="Size4-Regular",c="lfloor",h=667):"\\lceil"===e||"⌈"===e?(s="⎡",l=u="⎢",d="Size4-Regular",c="lceil",h=667):"\\rfloor"===e||"⌋"===e?(l=s="⎥",u="⎦",d="Size4-Regular",c="rfloor",h=667):"\\rceil"===e||"⌉"===e?(s="⎤",l=u="⎥",d="Size4-Regular",c="rceil",h=667):"("===e||"\\lparen"===e?(s="⎛",l="⎜",u="⎝",d="Size4-Regular",c="lparen",h=875):")"===e||"\\rparen"===e?(s="⎞",l="⎟",u="⎠",d="Size4-Regular",c="rparen",h=875):"\\{"===e||"\\lbrace"===e?(s="⎧",a="⎨",u="⎩",l="⎪",d="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(s="⎫",a="⎬",u="⎭",l="⎪",d="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(s="⎧",u="⎩",l="⎪",d="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(s="⎫",u="⎭",l="⎪",d="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(s="⎧",u="⎭",l="⎪",d="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(s="⎫",u="⎩",l="⎪",d="Size4-Regular");var p=oi(s,d,o),f=p.height+p.depth,g=oi(l,d,o),m=g.height+g.depth,v=oi(u,d,o),y=v.height+v.depth,b=0,w=1;if(null!==a){var C=oi(a,d,o);b=C.height+C.depth,w=2}var S=f+y+b,E=Math.max(0,Math.ceil((t-S)/(w*m))),T=S+E*w*m,k=i.fontMetrics().axisHeight;n&&(k*=i.sizeMultiplier);var x=T/2-k,L=[];if(c.length>0){var I=T-f-y,O=Math.round(1e3*T),D=Q(c,Math.round(1e3*I)),N=new xe(c,D),R=(h/1e3).toFixed(3)+"em",A=(O/1e3).toFixed(3)+"em",M=new ke([N],{width:R,height:A,viewBox:"0 0 "+h+" "+O}),P=Bt.makeSvgSpan([],[M],i);P.height=O/1e3,P.style.width=R,P.style.height=A,L.push({type:"elem",elem:P})}else{if(L.push(ci(u,d,o)),L.push(pi),null===a){var B=T-f-y+2*di;L.push(hi(l,B,i))}else{var V=(T-f-y-b)/2+2*di;L.push(hi(l,V,i)),L.push(pi),L.push(ci(a,d,o)),L.push(pi),L.push(hi(l,V,i))}L.push(pi),L.push(ci(s,d,o))}var H=i.havingBaseStyle(F.TEXT),$=Bt.makeVList({positionType:"bottom",positionData:x,children:L},H);return ri(Bt.makeSpan(["delimsizing","mult"],[$],H),F.TEXT,i,r)},_i=80,vi=.08,yi=function(e,t,n,i,o){var r=X(e,i,n),s=new xe(e,r),a=new ke([s],{width:"400em",height:me(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return Bt.makeSvgSpan(["hide-tail"],[a],o)},bi=function(e,t){var n,i,o=t.havingBaseSizing(),r=Oi("\\surd",e*o.sizeMultiplier,Li,o),s=o.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,u=0,c=0;return"small"===r.type?(c=1e3+1e3*a+_i,e<1?s=1:e<1.4&&(s=.7),l=(1+a+vi)/s,u=(1+a)/s,n=yi("sqrtMain",l,c,a,t),n.style.minWidth="0.853em",i=.833/s):"large"===r.type?(c=(1e3+_i)*Ei[r.size],u=(Ei[r.size]+a)/s,l=(Ei[r.size]+a+vi)/s,n=yi("sqrtSize"+r.size,l,c,a,t),n.style.minWidth="1.02em",i=1/s):(l=e+a+vi,u=e+a,c=Math.floor(1e3*e+a)+_i,n=yi("sqrtTall",l,c,a,t),n.style.minWidth="0.742em",i=1.056),n.height=u,n.style.height=me(l),{span:n,advanceWidth:i,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*s}},wi=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Ci=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Si=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ei=[0,1.2,1.8,2.4,3],Ti=function(e,t,n,i,o){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),_.contains(wi,e)||_.contains(Si,e))return ui(e,t,!1,n,i,o);if(_.contains(Ci,e))return mi(e,Ei[t],!1,n,i,o);throw new r("Illegal delimiter: '"+e+"'")},ki=[{type:"small",style:F.SCRIPTSCRIPT},{type:"small",style:F.SCRIPT},{type:"small",style:F.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],xi=[{type:"small",style:F.SCRIPTSCRIPT},{type:"small",style:F.SCRIPT},{type:"small",style:F.TEXT},{type:"stack"}],Li=[{type:"small",style:F.SCRIPTSCRIPT},{type:"small",style:F.SCRIPT},{type:"small",style:F.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Ii=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Oi=function(e,t,n,i){for(var o=Math.min(2,3-i.style.size),r=o;r<n.length;r++){if("stack"===n[r].type)break;var s=oi(e,Ii(n[r]),"math"),a=s.height+s.depth;if("small"===n[r].type){var l=i.havingBaseStyle(n[r].style);a*=l.sizeMultiplier}if(a>t)return n[r]}return n[n.length-1]},Di=function(e,t,n,i,o,r){var s;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),s=_.contains(Si,e)?ki:_.contains(wi,e)?Li:xi;var a=Oi(e,t,s,i);return"small"===a.type?ai(e,a.style,n,i,o,r):"large"===a.type?ui(e,a.size,n,i,o,r):mi(e,t,n,i,o,r)},Ni=function(e,t,n,i,o,r){var s=i.fontMetrics().axisHeight*i.sizeMultiplier,a=901,l=5/i.fontMetrics().ptPerEm,u=Math.max(t-s,n+s),c=Math.max(u/500*a,2*u-l);return Di(e,c,!0,i,o,r)},Ri={sqrtImage:bi,sizedDelim:Ti,sizeToMaxHeight:Ei,customSizedDelim:Di,leftRightDelim:Ni},Ai={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Mi=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Pi(e,t){var n=Fn(e);if(n&&_.contains(Mi,n.text))return n;throw new r(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function Fi(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Kt({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=Pi(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:Ai[e.funcName].size,mclass:Ai[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>"."===e.delim?Bt.makeSpan([e.mclass]):Ri.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(_n(e.delim,e.mode));var n=new mn.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=me(Ri.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}}),Kt({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!==typeof n)throw new r("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:Pi(t[0],e).text,color:n}}}),Kt({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Pi(t[0],e),i=e.parser;++i.leftrightDepth;var o=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var r=Mn(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:o,left:n.text,right:r.delim,rightColor:r.color}},htmlBuilder:(e,t)=>{Fi(e);for(var n,i,o=nn(e.body,t,!0,["mopen","mclose"]),r=0,s=0,a=!1,l=0;l<o.length;l++)o[l].isMiddle?a=!0:(r=Math.max(o[l].height,r),s=Math.max(o[l].depth,s));if(r*=t.sizeMultiplier,s*=t.sizeMultiplier,n="."===e.left?ln(t,["mopen"]):Ri.leftRightDelim(e.left,r,s,t,e.mode,["mopen"]),o.unshift(n),a)for(var u=1;u<o.length;u++){var c=o[u],h=c.isMiddle;h&&(o[u]=Ri.leftRightDelim(h.delim,r,s,h.options,e.mode,[]))}if("."===e.right)i=ln(t,["mclose"]);else{var d=e.rightColor?t.withColor(e.rightColor):t;i=Ri.leftRightDelim(e.right,r,s,d,e.mode,["mclose"])}return o.push(i),Bt.makeSpan(["minner"],o,t)},mathmlBuilder:(e,t)=>{Fi(e);var n=bn(e.body,t);if("."!==e.left){var i=new mn.MathNode("mo",[_n(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if("."!==e.right){var o=new mn.MathNode("mo",[_n(e.right,e.mode)]);o.setAttribute("fence","true"),e.rightColor&&o.setAttribute("mathcolor",e.rightColor),n.push(o)}return vn(n)}}),Kt({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=Pi(t[0],e);if(!e.parser.leftrightDepth)throw new r("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if("."===e.delim)n=ln(t,[]);else{n=Ri.sizedDelim(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:(e,t)=>{var n="\\vert"===e.delim||"|"===e.delim?_n("|","text"):_n(e.delim,e.mode),i=new mn.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var Bi=(e,t)=>{var n,i,o=Bt.wrapFragment(un(e.body,t),t),r=e.label.slice(1),s=t.sizeMultiplier,a=0,l=_.isCharacterBox(e.body);if("sout"===r)n=Bt.makeSpan(["stretchy","sout"]),n.height=t.fontMetrics().defaultRuleThickness/s,a=-.5*t.fontMetrics().xHeight;else if("phase"===r){var u=ge({number:.6,unit:"pt"},t),c=ge({number:.35,unit:"ex"},t),h=t.havingBaseSizing();s/=h.sizeMultiplier;var d=o.height+o.depth+u+c;o.style.paddingLeft=me(d/2+u);var p=Math.floor(1e3*d*s),f=q(p),g=new ke([new xe("phase",f)],{width:"400em",height:me(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});n=Bt.makeSvgSpan(["hide-tail"],[g],t),n.style.height=me(d),a=o.depth+u+c}else{/cancel/.test(r)?l||o.classes.push("cancel-pad"):"angl"===r?o.classes.push("anglpad"):o.classes.push("boxpad");var m=0,v=0,y=0;/box/.test(r)?(y=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),m=t.fontMetrics().fboxsep+("colorbox"===r?0:y),v=m):"angl"===r?(y=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),m=4*y,v=Math.max(0,.25-o.depth)):(m=l?.2:0,v=m),n=An.encloseSpan(o,r,m,v,t),/fbox|boxed|fcolorbox/.test(r)?(n.style.borderStyle="solid",n.style.borderWidth=me(y)):"angl"===r&&.049!==y&&(n.style.borderTopWidth=me(y),n.style.borderRightWidth=me(y)),a=o.depth+v,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)i=Bt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:a},{type:"elem",elem:o,shift:0}]},t);else{var b=/cancel|phase/.test(r)?["svg-align"]:[];i=Bt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:a,wrapperClasses:b}]},t)}return/cancel/.test(r)&&(i.height=o.height,i.depth=o.depth),/cancel/.test(r)&&!l?Bt.makeSpan(["mord","cancel-lap"],[i],t):Bt.makeSpan(["mord"],[i],t)},Vi=(e,t)=>{var n=0,i=new mn.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Cn(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){var o=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+o+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i};Kt({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:i,funcName:o}=e,r=Mn(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:o,backgroundColor:r,body:s}},htmlBuilder:Bi,mathmlBuilder:Vi}),Kt({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:i,funcName:o}=e,r=Mn(t[0],"color-token").color,s=Mn(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:i.mode,label:o,backgroundColor:s,borderColor:r,body:a}},htmlBuilder:Bi,mathmlBuilder:Vi}),Kt({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),Kt({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e,o=t[0];return{type:"enclose",mode:n.mode,label:i,body:o}},htmlBuilder:Bi,mathmlBuilder:Vi}),Kt({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var Hi={};function $i(e){for(var{type:t,names:n,props:i,handler:o,htmlBuilder:r,mathmlBuilder:s}=e,a={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},l=0;l<n.length;++l)Hi[n[l]]=a;r&&(jt[t]=r),s&&(Gt[t]=s)}var Wi={};function Ui(e,t){Wi[e]=t}function zi(e){var t=[];e.consumeSpaces();var n=e.fetch().text;"\\relax"===n&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);while("\\hline"===n||"\\hdashline"===n)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}var ji=e=>{var t=e.parser.settings;if(!t.displayMode)throw new r("{"+e.envName+"} can be used only in display mode.")};function Gi(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function Ki(e,t,n){var{hskipBeforeAndAfter:i,addJot:s,cols:a,arraystretch:l,colSeparationType:u,autoTag:c,singleRow:h,emptySingleRow:d,maxNumCols:p,leqno:f}=t;if(e.gullet.beginGroup(),h||e.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=e.gullet.expandMacroAsText("\\arraystretch");if(null==g)l=1;else if(l=parseFloat(g),!l||l<0)throw new r("Invalid \\arraystretch: "+g)}e.gullet.beginGroup();var m=[],_=[m],v=[],y=[],b=null!=c?[]:void 0;function w(){c&&e.gullet.macros.set("\\@eqnsw","1",!0)}function C(){b&&(e.gullet.macros.get("\\df@tag")?(b.push(e.subparse([new o("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):b.push(Boolean(c)&&"1"===e.gullet.macros.get("\\@eqnsw")))}w(),y.push(zi(e));while(1){var S=e.parseExpression(!1,h?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),S={type:"ordgroup",mode:e.mode,body:S},n&&(S={type:"styling",mode:e.mode,style:n,body:[S]}),m.push(S);var E=e.fetch().text;if("&"===E){if(p&&m.length===p){if(h||u)throw new r("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===E){C(),1===m.length&&"styling"===S.type&&0===S.body[0].body.length&&(_.length>1||!d)&&_.pop(),y.length<_.length+1&&y.push([]);break}if("\\\\"!==E)throw new r("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var T=void 0;" "!==e.gullet.future().text&&(T=e.parseSizeGroup(!0)),v.push(T?T.value:null),C(),y.push(zi(e)),m=[],_.push(m),w()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:s,arraystretch:l,body:_,cols:a,rowGaps:v,hskipBeforeAndAfter:i,hLinesBeforeRow:y,colSeparationType:u,tags:b,leqno:f}}function qi(e){return"d"===e.slice(0,1)?"display":"text"}var Yi=function(e,t){var n,i,o=e.body.length,s=e.hLinesBeforeRow,a=0,l=new Array(o),u=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),h=1/t.fontMetrics().ptPerEm,d=5*h;if(e.colSeparationType&&"small"===e.colSeparationType){var p=t.havingStyle(F.SCRIPT).sizeMultiplier;d=p/t.sizeMultiplier*.2778}var f="CD"===e.colSeparationType?ge({number:3,unit:"ex"},t):12*h,g=3*h,m=e.arraystretch*f,v=.7*m,y=.3*m,b=0;function w(e){for(var t=0;t<e.length;++t)t>0&&(b+=.25),u.push({pos:b,isDashed:e[t]})}for(w(s[0]),n=0;n<e.body.length;++n){var C=e.body[n],S=v,E=y;a<C.length&&(a=C.length);var T=new Array(C.length);for(i=0;i<C.length;++i){var k=un(C[i],t);E<k.depth&&(E=k.depth),S<k.height&&(S=k.height),T[i]=k}var x=e.rowGaps[n],L=0;x&&(L=ge(x,t),L>0&&(L+=y,E<L&&(E=L),L=0)),e.addJot&&(E+=g),T.height=S,T.depth=E,b+=S,T.pos=b,b+=E+L,l[n]=T,w(s[n+1])}var I,O,D=b/2+t.fontMetrics().axisHeight,N=e.cols||[],R=[],A=[];if(e.tags&&e.tags.some(e=>e))for(n=0;n<o;++n){var M=l[n],P=M.pos-D,B=e.tags[n],V=void 0;V=!0===B?Bt.makeSpan(["eqn-num"],[],t):!1===B?Bt.makeSpan([],[],t):Bt.makeSpan([],nn(B,t,!0),t),V.depth=M.depth,V.height=M.height,A.push({type:"elem",elem:V,shift:P})}for(i=0,O=0;i<a||O<N.length;++i,++O){var H=N[O]||{},$=!0;while("separator"===H.type){if($||(I=Bt.makeSpan(["arraycolsep"],[]),I.style.width=me(t.fontMetrics().doubleRuleSep),R.push(I)),"|"!==H.separator&&":"!==H.separator)throw new r("Invalid separator type: "+H.separator);var W="|"===H.separator?"solid":"dashed",U=Bt.makeSpan(["vertical-separator"],[],t);U.style.height=me(b),U.style.borderRightWidth=me(c),U.style.borderRightStyle=W,U.style.margin="0 "+me(-c/2);var z=b-D;z&&(U.style.verticalAlign=me(-z)),R.push(U),O++,H=N[O]||{},$=!1}if(!(i>=a)){var j=void 0;(i>0||e.hskipBeforeAndAfter)&&(j=_.deflt(H.pregap,d),0!==j&&(I=Bt.makeSpan(["arraycolsep"],[]),I.style.width=me(j),R.push(I)));var G=[];for(n=0;n<o;++n){var K=l[n],q=K[i];if(q){var Y=K.pos-D;q.depth=K.depth,q.height=K.height,G.push({type:"elem",elem:q,shift:Y})}}G=Bt.makeVList({positionType:"individualShift",children:G},t),G=Bt.makeSpan(["col-align-"+(H.align||"c")],[G]),R.push(G),(i<a-1||e.hskipBeforeAndAfter)&&(j=_.deflt(H.postgap,d),0!==j&&(I=Bt.makeSpan(["arraycolsep"],[]),I.style.width=me(j),R.push(I)))}}if(l=Bt.makeSpan(["mtable"],R),u.length>0){var X=Bt.makeLineSpan("hline",t,c),Z=Bt.makeLineSpan("hdashline",t,c),J=[{type:"elem",elem:l,shift:0}];while(u.length>0){var Q=u.pop(),ee=Q.pos-D;Q.isDashed?J.push({type:"elem",elem:Z,shift:ee}):J.push({type:"elem",elem:X,shift:ee})}l=Bt.makeVList({positionType:"individualShift",children:J},t)}if(0===A.length)return Bt.makeSpan(["mord"],[l],t);var te=Bt.makeVList({positionType:"individualShift",children:A},t);return te=Bt.makeSpan(["tag"],[te],t),Bt.makeFragment([l,te])},Xi={c:"center ",l:"left ",r:"right "},Zi=function(e,t){for(var n=[],i=new mn.MathNode("mtd",[],["mtr-glue"]),o=new mn.MathNode("mtd",[],["mml-eqn-num"]),r=0;r<e.body.length;r++){for(var s=e.body[r],a=[],l=0;l<s.length;l++)a.push(new mn.MathNode("mtd",[Cn(s[l],t)]));e.tags&&e.tags[r]&&(a.unshift(i),a.push(i),e.leqno?a.unshift(o):a.push(o)),n.push(new mn.MathNode("mtr",a))}var u=new mn.MathNode("mtable",n),c=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",me(c));var h="",d="";if(e.cols&&e.cols.length>0){var p=e.cols,f="",g=!1,m=0,_=p.length;"separator"===p[0].type&&(h+="top ",m=1),"separator"===p[p.length-1].type&&(h+="bottom ",_-=1);for(var v=m;v<_;v++)"align"===p[v].type?(d+=Xi[p[v].align],g&&(f+="none "),g=!0):"separator"===p[v].type&&g&&(f+="|"===p[v].separator?"solid ":"dashed ",g=!1);u.setAttribute("columnalign",d.trim()),/[sd]/.test(f)&&u.setAttribute("columnlines",f.trim())}if("align"===e.colSeparationType){for(var y=e.cols||[],b="",w=1;w<y.length;w++)b+=w%2?"0em ":"1em ";u.setAttribute("columnspacing",b.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?u.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?u.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var C="",S=e.hLinesBeforeRow;h+=S[0].length>0?"left ":"",h+=S[S.length-1].length>0?"right ":"";for(var E=1;E<S.length-1;E++)C+=0===S[E].length?"none ":S[E][0]?"dashed ":"solid ";return/[sd]/.test(C)&&u.setAttribute("rowlines",C.trim()),""!==h&&(u=new mn.MathNode("menclose",[u]),u.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(u=new mn.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},Ji=function(e,t){-1===e.envName.indexOf("ed")&&ji(e);var n,i=[],o=e.envName.indexOf("at")>-1?"alignat":"align",s="split"===e.envName,a=Ki(e.parser,{cols:i,addJot:!0,autoTag:s?void 0:Gi(e.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var c="",h=0;h<t[0].body.length;h++){var d=Mn(t[0].body[h],"textord");c+=d.text}n=Number(c),l=2*n}var p=!l;a.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var i=Mn(e[t],"styling"),o=Mn(i.body[0],"ordgroup");o.body.unshift(u)}if(p)l<e.length&&(l=e.length);else{var s=e.length/2;if(n<s)throw new r("Too many math in a row: expected "+n+", but got "+s,e[0])}}));for(var f=0;f<l;++f){var g="r",m=0;f%2===1?g="l":f>0&&p&&(m=1),i[f]={type:"align",align:g,pregap:m,postgap:0}}return a.colSeparationType=p?"align":"alignat",a};$i({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=Fn(t[0]),i=n?[t[0]]:Mn(t[0],"ordgroup").body,o=i.map((function(e){var t=Pn(e),n=t.text;if(-1!=="lcr".indexOf(n))return{type:"align",align:n};if("|"===n)return{type:"separator",separator:"|"};if(":"===n)return{type:"separator",separator:":"};throw new r("Unknown column alignment: "+n,e)})),s={cols:o,hskipBeforeAndAfter:!0,maxNumCols:o.length};return Ki(e.parser,s,qi(e.envName))},htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){var o=e.parser;if(o.consumeSpaces(),"["===o.fetch().text){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,-1==="lcr".indexOf(n))throw new r("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),i.cols=[{type:"align",align:n}]}}var s=Ki(e.parser,i,qi(e.envName)),a=Math.max(0,...s.body.map(e=>e.length));return s.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=Ki(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=Fn(t[0]),i=n?[t[0]]:Mn(t[0],"ordgroup").body,o=i.map((function(e){var t=Pn(e),n=t.text;if(-1!=="lc".indexOf(n))return{type:"align",align:n};throw new r("Unknown column alignment: "+n,e)}));if(o.length>1)throw new r("{subarray} can contain only one column");var s={cols:o,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Ki(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new r("{subarray} can contain only one column");return s},htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Ki(e.parser,t,qi(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Ji,htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){_.contains(["gather","gather*"],e.envName)&&ji(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Gi(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return Ki(e.parser,t,"display")},htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Ji,htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){ji(e);var t={autoTag:Gi(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return Ki(e.parser,t,"display")},htmlBuilder:Yi,mathmlBuilder:Zi}),$i({type:"array",names:["CD"],props:{numArgs:0},handler(e){return ji(e),Zn(e.parser)},htmlBuilder:Yi,mathmlBuilder:Zi}),Ui("\\nonumber","\\gdef\\@eqnsw{0}"),Ui("\\notag","\\nonumber"),Kt({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new r(e.funcName+" valid only within array environment")}});var Qi=Hi;Kt({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:i}=e,o=t[0];if("ordgroup"!==o.type)throw new r("Invalid environment name",o);for(var s="",a=0;a<o.body.length;++a)s+=Mn(o.body[a],"textord").text;if("\\begin"===i){if(!Qi.hasOwnProperty(s))throw new r("No such environment: "+s,o);var l=Qi[s],{args:u,optArgs:c}=n.parseArguments("\\begin{"+s+"}",l),h={mode:n.mode,envName:s,parser:n},d=l.handler(h,u,c);n.expect("\\end",!1);var p=n.nextToken,f=Mn(n.parseFunction(),"environment");if(f.name!==s)throw new r("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",p);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:o}}});var eo=(e,t)=>{var n=e.font,i=t.withFont(n);return un(e.body,i)},to=(e,t)=>{var n=e.font,i=t.withFont(n);return Cn(e.body,i)},no={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Kt({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,o=Yt(t[0]),r=i;return r in no&&(r=no[r]),{type:"font",mode:n.mode,font:r.slice(1),body:o}},htmlBuilder:eo,mathmlBuilder:to}),Kt({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,i=t[0],o=_.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:jn(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:o}}}),Kt({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,breakOnTokenText:o}=e,{mode:r}=n,s=n.parseExpression(!0,o),a="math"+i.slice(1);return{type:"font",mode:r,font:a,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:eo,mathmlBuilder:to});var io=(e,t)=>{var n=t;return"display"===e?n=n.id>=F.SCRIPT.id?n.text():F.DISPLAY:"text"===e&&n.size===F.DISPLAY.size?n=F.TEXT:"script"===e?n=F.SCRIPT:"scriptscript"===e&&(n=F.SCRIPTSCRIPT),n},oo=(e,t)=>{var n,i=io(e.size,t.style),o=i.fracNum(),r=i.fracDen();n=t.havingStyle(o);var s=un(e.numer,n,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}n=t.havingStyle(r);var u,c,h,d,p,f,g,m,_,v,y=un(e.denom,n,t);if(e.hasBarLine?(e.barSize?(c=ge(e.barSize,t),u=Bt.makeLineSpan("frac-line",t,c)):u=Bt.makeLineSpan("frac-line",t),c=u.height,h=u.height):(u=null,c=0,h=t.fontMetrics().defaultRuleThickness),i.size===F.DISPLAY.size||"display"===e.size?(d=t.fontMetrics().num1,p=c>0?3*h:7*h,f=t.fontMetrics().denom1):(c>0?(d=t.fontMetrics().num2,p=h):(d=t.fontMetrics().num3,p=3*h),f=t.fontMetrics().denom2),u){var b=t.fontMetrics().axisHeight;d-s.depth-(b+.5*c)<p&&(d+=p-(d-s.depth-(b+.5*c))),b-.5*c-(y.height-f)<p&&(f+=p-(b-.5*c-(y.height-f)));var w=-(b-.5*c);g=Bt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:f},{type:"elem",elem:u,shift:w},{type:"elem",elem:s,shift:-d}]},t)}else{var C=d-s.depth-(y.height-f);C<p&&(d+=.5*(p-C),f+=.5*(p-C)),g=Bt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:y,shift:f},{type:"elem",elem:s,shift:-d}]},t)}return n=t.havingStyle(i),g.height*=n.sizeMultiplier/t.sizeMultiplier,g.depth*=n.sizeMultiplier/t.sizeMultiplier,m=i.size===F.DISPLAY.size?t.fontMetrics().delim1:i.size===F.SCRIPTSCRIPT.size?t.havingStyle(F.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,_=null==e.leftDelim?ln(t,["mopen"]):Ri.customSizedDelim(e.leftDelim,m,!0,t.havingStyle(i),e.mode,["mopen"]),v=e.continued?Bt.makeSpan([]):null==e.rightDelim?ln(t,["mclose"]):Ri.customSizedDelim(e.rightDelim,m,!0,t.havingStyle(i),e.mode,["mclose"]),Bt.makeSpan(["mord"].concat(n.sizingClasses(t)),[_,Bt.makeSpan(["mfrac"],[g]),v],t)},ro=(e,t)=>{var n=new mn.MathNode("mfrac",[Cn(e.numer,t),Cn(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var i=ge(e.barSize,t);n.setAttribute("linethickness",me(i))}}else n.setAttribute("linethickness","0px");var o=io(e.size,t.style);if(o.size!==t.style.size){n=new mn.MathNode("mstyle",[n]);var r=o.size===F.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",r),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var s=[];if(null!=e.leftDelim){var a=new mn.MathNode("mo",[new mn.TextNode(e.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),s.push(a)}if(s.push(n),null!=e.rightDelim){var l=new mn.MathNode("mo",[new mn.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return vn(s)}return n};Kt({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var n,{parser:i,funcName:o}=e,r=t[0],s=t[1],a=null,l=null,u="auto";switch(o){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,a="(",l=")";break;case"\\\\bracefrac":n=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(o){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:i.mode,continued:!1,numer:r,denom:s,hasBarLine:n,leftDelim:a,rightDelim:l,size:u,barSize:null}},htmlBuilder:oo,mathmlBuilder:ro}),Kt({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:i}=e,o=t[0],r=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:r,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Kt({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:n,funcName:i,token:o}=e;switch(i){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:o}}});var so=["display","text","script","scriptscript"],ao=function(e){var t=null;return e.length>0&&(t=e,t="."===t?null:t),t};Kt({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var n,{parser:i}=e,o=t[4],r=t[5],s=Yt(t[0]),a="atom"===s.type&&"open"===s.family?ao(s.text):null,l=Yt(t[1]),u="atom"===l.type&&"close"===l.family?ao(l.text):null,c=Mn(t[2],"size"),h=null;c.isBlank?n=!0:(h=c.value,n=h.number>0);var d="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var f=Mn(p.body[0],"textord");d=so[Number(f.text)]}}else p=Mn(p,"textord"),d=so[Number(p.text)];return{type:"genfrac",mode:i.mode,numer:o,denom:r,continued:!1,hasBarLine:n,barSize:h,leftDelim:a,rightDelim:u,size:d}},htmlBuilder:oo,mathmlBuilder:ro}),Kt({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:i,token:o}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Mn(t[0],"size").value,token:o}}}),Kt({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:i}=e,o=t[0],r=g(Mn(t[1],"infix").size),s=t[2],a=r.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:s,continued:!1,hasBarLine:a,barSize:r,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:oo,mathmlBuilder:ro});var lo=(e,t)=>{var n,i,o=t.style;"supsub"===e.type?(n=e.sup?un(e.sup,t.havingStyle(o.sup()),t):un(e.sub,t.havingStyle(o.sub()),t),i=Mn(e.base,"horizBrace")):i=Mn(e,"horizBrace");var r,s=un(i.base,t.havingBaseStyle(F.DISPLAY)),a=An.svgSpan(i,t);if(i.isOver?(r=Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),r.children[0].children[0].children[1].classes.push("svg-align")):(r=Bt.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),r.children[0].children[0].children[0].classes.push("svg-align")),n){var l=Bt.makeSpan(["mord",i.isOver?"mover":"munder"],[r],t);r=i.isOver?Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):Bt.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return Bt.makeSpan(["mord",i.isOver?"mover":"munder"],[r],t)},uo=(e,t)=>{var n=An.mathMLnode(e.label);return new mn.MathNode(e.isOver?"mover":"munder",[Cn(e.base,t),n])};Kt({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:lo,mathmlBuilder:uo}),Kt({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[1],o=Mn(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:Xt(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=nn(e.body,t,!1);return Bt.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=wn(e.body,t);return n instanceof pn||(n=new pn("mrow",[n])),n.setAttribute("href",e.href),n}}),Kt({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=Mn(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var o=[],r=0;r<i.length;r++){var s=i[r];"~"===s&&(s="\\textasciitilde"),o.push({type:"textord",mode:"text",text:s})}var a={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:i,body:Xt(a)}}}),Kt({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:Xt(t[0])}},htmlBuilder(e,t){var n=nn(e.body,t,!1);return Bt.makeFragment(n)},mathmlBuilder(e,t){return new mn.MathNode("mrow",bn(e.body,t))}}),Kt({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var n,{parser:i,funcName:o,token:s}=e,a=Mn(t[0],"raw").string,l=t[1];i.settings.strict&&i.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var u={};switch(o){case"\\htmlClass":u.class=a,n={command:"\\htmlClass",class:a};break;case"\\htmlId":u.id=a,n={command:"\\htmlId",id:a};break;case"\\htmlStyle":u.style=a,n={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var c=a.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(2!==d.length)throw new r("Error parsing key-value for \\htmlData");u["data-"+d[0].trim()]=d[1].trim()}n={command:"\\htmlData",attributes:u};break;default:throw new Error("Unrecognized html command")}return i.settings.isTrusted(n)?{type:"html",mode:i.mode,attributes:u,body:Xt(l)}:i.formatUnsupportedCmd(o)},htmlBuilder:(e,t)=>{var n=nn(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push(...e.attributes.class.trim().split(/\s+/));var o=Bt.makeSpan(i,n,t);for(var r in e.attributes)"class"!==r&&e.attributes.hasOwnProperty(r)&&o.setAttribute(r,e.attributes[r]);return o},mathmlBuilder:(e,t)=>wn(e.body,t)}),Kt({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Xt(t[0]),mathml:Xt(t[1])}},htmlBuilder:(e,t)=>{var n=nn(e.html,t,!1);return Bt.makeFragment(n)},mathmlBuilder:(e,t)=>wn(e.mathml,t)});var co=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new r("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!fe(n))throw new r("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};Kt({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:i}=e,o={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(n[0])for(var u=Mn(n[0],"raw").string,c=u.split(","),h=0;h<c.length;h++){var d=c[h].split("=");if(2===d.length){var p=d[1].trim();switch(d[0].trim()){case"alt":l=p;break;case"width":o=co(p);break;case"height":s=co(p);break;case"totalheight":a=co(p);break;default:throw new r("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Mn(t[0],"url").url;return""===l&&(l=f,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:i.mode,alt:l,width:o,height:s,totalheight:a,src:f}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=ge(e.height,t),i=0;e.totalheight.number>0&&(i=ge(e.totalheight,t)-n);var o=0;e.width.number>0&&(o=ge(e.width,t));var r={height:me(n+i)};o>0&&(r.width=me(o)),i>0&&(r.verticalAlign=me(-i));var s=new Se(e.src,e.alt,r);return s.height=n,s.depth=i,s},mathmlBuilder:(e,t)=>{var n=new mn.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var i=ge(e.height,t),o=0;if(e.totalheight.number>0&&(o=ge(e.totalheight,t)-i,n.setAttribute("valign",me(-o))),n.setAttribute("height",me(i+o)),e.width.number>0){var r=ge(e.width,t);n.setAttribute("width",me(r))}return n.setAttribute("src",e.src),n}}),Kt({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,o=Mn(t[0],"size");if(n.settings.strict){var r="m"===i[1],s="mu"===o.value.unit;r?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, not "+o.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder(e,t){return Bt.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=ge(e.dimension,t);return new mn.SpaceNode(n)}}),Kt({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,o=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:o}},htmlBuilder:(e,t)=>{var n;"clap"===e.alignment?(n=Bt.makeSpan([],[un(e.body,t)]),n=Bt.makeSpan(["inner"],[n],t)):n=Bt.makeSpan(["inner"],[un(e.body,t)]);var i=Bt.makeSpan(["fix"],[]),o=Bt.makeSpan([e.alignment],[n,i],t),r=Bt.makeSpan(["strut"]);return r.style.height=me(o.height+o.depth),o.depth&&(r.style.verticalAlign=me(-o.depth)),o.children.unshift(r),o=Bt.makeSpan(["thinbox"],[o],t),Bt.makeSpan(["mord","vbox"],[o],t)},mathmlBuilder:(e,t)=>{var n=new mn.MathNode("mpadded",[Cn(e.body,t)]);if("rlap"!==e.alignment){var i="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}}),Kt({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:i}=e,o=i.mode;i.switchMode("math");var r="\\("===n?"\\)":"$",s=i.parseExpression(!1,r);return i.expect(r),i.switchMode(o),{type:"styling",mode:i.mode,style:"text",body:s}}}),Kt({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new r("Mismatched "+e.funcName)}});var ho=(e,t)=>{switch(t.style.size){case F.DISPLAY.size:return e.display;case F.TEXT.size:return e.text;case F.SCRIPT.size:return e.script;case F.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Kt({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Xt(t[0]),text:Xt(t[1]),script:Xt(t[2]),scriptscript:Xt(t[3])}},htmlBuilder:(e,t)=>{var n=ho(e,t),i=nn(n,t,!1);return Bt.makeFragment(i)},mathmlBuilder:(e,t)=>{var n=ho(e,t);return wn(n,t)}});var po=(e,t,n,i,o,r,s)=>{e=Bt.makeSpan([],[e]);var a,l,u,c=n&&_.isCharacterBox(n);if(t){var h=un(t,i.havingStyle(o.sup()),i);l={elem:h,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-h.depth)}}if(n){var d=un(n,i.havingStyle(o.sub()),i);a={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-d.height)}}if(l&&a){var p=i.fontMetrics().bigOpSpacing5+a.elem.height+a.elem.depth+a.kern+e.depth+s;u=Bt.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:me(-r)},{type:"kern",size:a.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:me(r)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(a){var f=e.height-s;u=Bt.makeVList({positionType:"top",positionData:f,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:a.elem,marginLeft:me(-r)},{type:"kern",size:a.kern},{type:"elem",elem:e}]},i)}else{if(!l)return e;var g=e.depth+s;u=Bt.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:me(r)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}var m=[u];if(a&&0!==r&&!c){var v=Bt.makeSpan(["mspace"],[],i);v.style.marginRight=me(r),m.unshift(v)}return Bt.makeSpan(["mop","op-limits"],m,i)},fo=["\\smallint"],go=(e,t)=>{var n,i,o,r=!1;"supsub"===e.type?(n=e.sup,i=e.sub,o=Mn(e.base,"op"),r=!0):o=Mn(e,"op");var s,a=t.style,l=!1;if(a.size===F.DISPLAY.size&&o.symbol&&!_.contains(fo,o.name)&&(l=!0),o.symbol){var u=l?"Size2-Regular":"Size1-Regular",c="";if("\\oiint"!==o.name&&"\\oiiint"!==o.name||(c=o.name.slice(1),o.name="oiint"===c?"\\iint":"\\iiint"),s=Bt.makeSymbol(o.name,u,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),c.length>0){var h=s.italic,d=Bt.staticSvg(c+"Size"+(l?"2":"1"),t);s=Bt.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:0},{type:"elem",elem:d,shift:l?.08:0}]},t),o.name="\\"+c,s.classes.unshift("mop"),s.italic=h}}else if(o.body){var p=nn(o.body,t,!0);1===p.length&&p[0]instanceof Te?(s=p[0],s.classes[0]="mop"):s=Bt.makeSpan(["mop"],p,t)}else{for(var f=[],g=1;g<o.name.length;g++)f.push(Bt.mathsym(o.name[g],o.mode,t));s=Bt.makeSpan(["mop"],f,t)}var m=0,v=0;return(s instanceof Te||"\\oiint"===o.name||"\\oiiint"===o.name)&&!o.suppressBaseShift&&(m=(s.height-s.depth)/2-t.fontMetrics().axisHeight,v=s.italic),r?po(s,n,i,t,a,v,m):(m&&(s.style.position="relative",s.style.top=me(m)),s)},mo=(e,t)=>{var n;if(e.symbol)n=new pn("mo",[_n(e.name,e.mode)]),_.contains(fo,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new pn("mo",bn(e.body,t));else{n=new pn("mi",[new fn(e.name.slice(1))]);var i=new pn("mo",[_n("⁡","text")]);n=e.parentIsSupSub?new pn("mrow",[n,i]):dn([n,i])}return n},_o={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Kt({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:i}=e,o=i;return 1===o.length&&(o=_o[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:go,mathmlBuilder:mo}),Kt({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Xt(i)}},htmlBuilder:go,mathmlBuilder:mo});var vo={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Kt({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:go,mathmlBuilder:mo}),Kt({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:go,mathmlBuilder:mo}),Kt({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,i=n;return 1===i.length&&(i=vo[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:go,mathmlBuilder:mo});var yo=(e,t)=>{var n,i,o,r,s=!1;if("supsub"===e.type?(n=e.sup,i=e.sub,o=Mn(e.base,"operatorname"),s=!0):o=Mn(e,"operatorname"),o.body.length>0){for(var a=o.body.map(e=>{var t=e.text;return"string"===typeof t?{type:"textord",mode:e.mode,text:t}:e}),l=nn(a,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Te&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}r=Bt.makeSpan(["mop"],l,t)}else r=Bt.makeSpan(["mop"],[],t);return s?po(r,n,i,t,t.style,0,0):r},bo=(e,t)=>{for(var n=bn(e.body,t.withFont("mathrm")),i=!0,o=0;o<n.length;o++){var r=n[o];if(r instanceof mn.SpaceNode);else if(r instanceof mn.MathNode)switch(r.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var s=r.children[0];1===r.children.length&&s instanceof mn.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break;default:i=!1}else i=!1}if(i){var a=n.map(e=>e.toText()).join("");n=[new mn.TextNode(a)]}var l=new mn.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new mn.MathNode("mo",[_n("⁡","text")]);return e.parentIsSupSub?new mn.MathNode("mrow",[l,u]):mn.newDocumentFragment([l,u])};function wo(e,t,n){for(var i=nn(e,t,!1),o=t.sizeMultiplier/n.sizeMultiplier,r=0;r<i.length;r++){var s=i[r].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[r].classes,t.sizingClasses(n)):i[r].classes[s+1]==="reset-size"+t.size&&(i[r].classes[s+1]="reset-size"+n.size),i[r].height*=o,i[r].depth*=o}return Bt.makeFragment(i)}Kt({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,o=t[0];return{type:"operatorname",mode:n.mode,body:Xt(o),alwaysHandleSupSub:"\\operatornamewithlimits"===i,limits:!1,parentIsSupSub:!1}},htmlBuilder:yo,mathmlBuilder:bo}),Ui("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),qt({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?Bt.makeFragment(nn(e.body,t,!1)):Bt.makeSpan(["mord"],nn(e.body,t,!0),t)},mathmlBuilder(e,t){return wn(e.body,t,!0)}}),Kt({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(e,t){var n=un(e.body,t.havingCrampedStyle()),i=Bt.makeLineSpan("overline-line",t),o=t.fontMetrics().defaultRuleThickness,r=Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:i},{type:"kern",size:o}]},t);return Bt.makeSpan(["mord","overline"],[r],t)},mathmlBuilder(e,t){var n=new mn.MathNode("mo",[new mn.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new mn.MathNode("mover",[Cn(e.body,t),n]);return i.setAttribute("accent","true"),i}}),Kt({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"phantom",mode:n.mode,body:Xt(i)}},htmlBuilder:(e,t)=>{var n=nn(e.body,t.withPhantom(),!1);return Bt.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=bn(e.body,t);return new mn.MathNode("mphantom",n)}}),Kt({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=Bt.makeSpan([],[un(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),Bt.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=bn(Xt(e.body),t),i=new mn.MathNode("mphantom",n),o=new mn.MathNode("mpadded",[i]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}}),Kt({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=Bt.makeSpan(["inner"],[un(e.body,t.withPhantom())]),i=Bt.makeSpan(["fix"],[]);return Bt.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:(e,t)=>{var n=bn(Xt(e.body),t),i=new mn.MathNode("mphantom",n),o=new mn.MathNode("mpadded",[i]);return o.setAttribute("width","0px"),o}}),Kt({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,i=Mn(t[0],"size").value,o=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:o}},htmlBuilder(e,t){var n=un(e.body,t),i=ge(e.dy,t);return Bt.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new mn.MathNode("mpadded",[Cn(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}}),Kt({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),Kt({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:i}=e,o=n[0],r=Mn(t[0],"size"),s=Mn(t[1],"size");return{type:"rule",mode:i.mode,shift:o&&Mn(o,"size").value,width:r.value,height:s.value}},htmlBuilder(e,t){var n=Bt.makeSpan(["mord","rule"],[],t),i=ge(e.width,t),o=ge(e.height,t),r=e.shift?ge(e.shift,t):0;return n.style.borderRightWidth=me(i),n.style.borderTopWidth=me(o),n.style.bottom=me(r),n.width=i,n.height=o+r,n.depth=-r,n.maxFontSize=1.125*o*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=ge(e.width,t),i=ge(e.height,t),o=e.shift?ge(e.shift,t):0,r=t.color&&t.getColor()||"black",s=new mn.MathNode("mspace");s.setAttribute("mathbackground",r),s.setAttribute("width",me(n)),s.setAttribute("height",me(i));var a=new mn.MathNode("mpadded",[s]);return o>=0?a.setAttribute("height",me(o)):(a.setAttribute("height",me(o)),a.setAttribute("depth",me(-o))),a.setAttribute("voffset",me(o)),a}});var Co=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],So=(e,t)=>{var n=t.havingSize(e.size);return wo(e.body,n,t)};Kt({type:"sizing",names:Co,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:i,parser:o}=e,r=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:Co.indexOf(i)+1,body:r}},htmlBuilder:So,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),i=bn(e.body,n),o=new mn.MathNode("mstyle",i);return o.setAttribute("mathsize",me(n.sizeMultiplier)),o}}),Kt({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:i}=e,o=!1,r=!1,s=n[0]&&Mn(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l){var u=s.body[l];if(a=u.text,"t"===a)o=!0;else{if("b"!==a){o=!1,r=!1;break}r=!0}}else o=!0,r=!0;var c=t[0];return{type:"smash",mode:i.mode,body:c,smashHeight:o,smashDepth:r}},htmlBuilder:(e,t)=>{var n=Bt.makeSpan([],[un(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var r=Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return Bt.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var n=new mn.MathNode("mpadded",[Cn(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),Kt({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i}=e,o=n[0],r=t[0];return{type:"sqrt",mode:i.mode,body:r,index:o}},htmlBuilder(e,t){var n=un(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=Bt.wrapFragment(n,t);var i=t.fontMetrics(),o=i.defaultRuleThickness,r=o;t.style.id<F.TEXT.id&&(r=t.fontMetrics().xHeight);var s=o+r/4,a=n.height+n.depth+s+o,{span:l,ruleWidth:u,advanceWidth:c}=Ri.sqrtImage(a,t),h=l.height-u;h>n.height+n.depth+s&&(s=(s+h-n.height-n.depth)/2);var d=l.height-n.height-s-u;n.style.paddingLeft=me(c);var p=Bt.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var f=t.havingStyle(F.SCRIPTSCRIPT),g=un(e.index,f,t),m=.6*(p.height-p.depth),_=Bt.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:g}]},t),v=Bt.makeSpan(["root"],[_]);return Bt.makeSpan(["mord","sqrt"],[v,p],t)}return Bt.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:n,index:i}=e;return i?new mn.MathNode("mroot",[Cn(n,t),Cn(i,t)]):new mn.MathNode("msqrt",[Cn(n,t)])}});var Eo={display:F.DISPLAY,text:F.TEXT,script:F.SCRIPT,scriptscript:F.SCRIPTSCRIPT};Kt({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:i,parser:o}=e,r=o.parseExpression(!0,n),s=i.slice(1,i.length-5);return{type:"styling",mode:o.mode,style:s,body:r}},htmlBuilder(e,t){var n=Eo[e.style],i=t.havingStyle(n).withFont("");return wo(e.body,i,t)},mathmlBuilder(e,t){var n=Eo[e.style],i=t.havingStyle(n),o=bn(e.body,i),r=new mn.MathNode("mstyle",o),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=s[e.style];return r.setAttribute("scriptlevel",a[0]),r.setAttribute("displaystyle",a[1]),r}});var To=function(e,t){var n=e.base;if(n){if("op"===n.type){var i=n.limits&&(t.style.size===F.DISPLAY.size||n.alwaysHandleSupSub);return i?go:null}if("operatorname"===n.type){var o=n.alwaysHandleSupSub&&(t.style.size===F.DISPLAY.size||n.limits);return o?yo:null}if("accent"===n.type)return _.isCharacterBox(n.base)?Bn:null;if("horizBrace"===n.type){var r=!e.sub;return r===n.isOver?lo:null}return null}return null};qt({type:"supsub",htmlBuilder(e,t){var n=To(e,t);if(n)return n(e,t);var i,o,r,{base:s,sup:a,sub:l}=e,u=un(s,t),c=t.fontMetrics(),h=0,d=0,p=s&&_.isCharacterBox(s);if(a){var f=t.havingStyle(t.style.sup());i=un(a,f,t),p||(h=u.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(l){var g=t.havingStyle(t.style.sub());o=un(l,g,t),p||(d=u.depth+g.fontMetrics().subDrop*g.sizeMultiplier/t.sizeMultiplier)}r=t.style===F.DISPLAY?c.sup1:t.style.cramped?c.sup3:c.sup2;var m,v=t.sizeMultiplier,y=me(.5/c.ptPerEm/v),b=null;if(o){var w=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(u instanceof Te||w)&&(b=me(-u.italic))}if(i&&o){h=Math.max(h,r,i.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var C=c.defaultRuleThickness,S=4*C;if(h-i.depth-(o.height-d)<S){d=S-(h-i.depth)+o.height;var E=.8*c.xHeight-(h-i.depth);E>0&&(h+=E,d-=E)}var T=[{type:"elem",elem:o,shift:d,marginRight:y,marginLeft:b},{type:"elem",elem:i,shift:-h,marginRight:y}];m=Bt.makeVList({positionType:"individualShift",children:T},t)}else if(o){d=Math.max(d,c.sub1,o.height-.8*c.xHeight);var k=[{type:"elem",elem:o,marginLeft:b,marginRight:y}];m=Bt.makeVList({positionType:"shift",positionData:d,children:k},t)}else{if(!i)throw new Error("supsub must have either sup or sub.");h=Math.max(h,r,i.depth+.25*c.xHeight),m=Bt.makeVList({positionType:"shift",positionData:-h,children:[{type:"elem",elem:i,marginRight:y}]},t)}var x=an(u,"right")||"mord";return Bt.makeSpan([x],[u,Bt.makeSpan(["msupsub"],[m])],t)},mathmlBuilder(e,t){var n,i,o=!1;e.base&&"horizBrace"===e.base.type&&(i=!!e.sup,i===e.base.isOver&&(o=!0,n=e.base.isOver)),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var r,s=[Cn(e.base,t)];if(e.sub&&s.push(Cn(e.sub,t)),e.sup&&s.push(Cn(e.sup,t)),o)r=n?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;r=a&&"op"===a.type&&a.limits&&t.style===F.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(t.style===F.DISPLAY||a.limits)?"munderover":"msubsup"}else{var l=e.base;r=l&&"op"===l.type&&l.limits&&(t.style===F.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===F.DISPLAY)?"munder":"msub"}else{var u=e.base;r=u&&"op"===u.type&&u.limits&&(t.style===F.DISPLAY||u.alwaysHandleSupSub)||u&&"operatorname"===u.type&&u.alwaysHandleSupSub&&(u.limits||t.style===F.DISPLAY)?"mover":"msup"}return new mn.MathNode(r,s)}}),qt({type:"atom",htmlBuilder(e,t){return Bt.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new mn.MathNode("mo",[_n(e.text,e.mode)]);if("bin"===e.family){var i=yn(e,t);"bold-italic"===i&&n.setAttribute("mathvariant",i)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var ko={mi:"italic",mn:"normal",mtext:"normal"};qt({type:"mathord",htmlBuilder(e,t){return Bt.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new mn.MathNode("mi",[_n(e.text,e.mode,t)]),i=yn(e,t)||"italic";return i!==ko[n.type]&&n.setAttribute("mathvariant",i),n}}),qt({type:"textord",htmlBuilder(e,t){return Bt.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n,i=_n(e.text,e.mode,t),o=yn(e,t)||"normal";return n="text"===e.mode?new mn.MathNode("mtext",[i]):/[0-9]/.test(e.text)?new mn.MathNode("mn",[i]):"\\prime"===e.text?new mn.MathNode("mo",[i]):new mn.MathNode("mi",[i]),o!==ko[n.type]&&n.setAttribute("mathvariant",o),n}});var xo={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Lo={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};qt({type:"spacing",htmlBuilder(e,t){if(Lo.hasOwnProperty(e.text)){var n=Lo[e.text].className||"";if("text"===e.mode){var i=Bt.makeOrd(e,t,"textord");return i.classes.push(n),i}return Bt.makeSpan(["mspace",n],[Bt.mathsym(e.text,e.mode,t)],t)}if(xo.hasOwnProperty(e.text))return Bt.makeSpan(["mspace",xo[e.text]],[],t);throw new r('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){var n;if(!Lo.hasOwnProperty(e.text)){if(xo.hasOwnProperty(e.text))return new mn.MathNode("mspace");throw new r('Unknown type of space "'+e.text+'"')}return n=new mn.MathNode("mtext",[new mn.TextNode(" ")]),n}});var Io=()=>{var e=new mn.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};qt({type:"tag",mathmlBuilder(e,t){var n=new mn.MathNode("mtable",[new mn.MathNode("mtr",[Io(),new mn.MathNode("mtd",[wn(e.body,t)]),Io(),new mn.MathNode("mtd",[wn(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var Oo={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Do={"\\textbf":"textbf","\\textmd":"textmd"},No={"\\textit":"textit","\\textup":"textup"},Ro=(e,t)=>{var n=e.font;return n?Oo[n]?t.withTextFontFamily(Oo[n]):Do[n]?t.withTextFontWeight(Do[n]):t.withTextFontShape(No[n]):t};Kt({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,o=t[0];return{type:"text",mode:n.mode,body:Xt(o),font:i}},htmlBuilder(e,t){var n=Ro(e,t),i=nn(e.body,n,!0);return Bt.makeSpan(["mord","text"],i,n)},mathmlBuilder(e,t){var n=Ro(e,t);return wn(e.body,n)}}),Kt({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=un(e.body,t),i=Bt.makeLineSpan("underline-line",t),o=t.fontMetrics().defaultRuleThickness,r=Bt.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:i},{type:"kern",size:3*o},{type:"elem",elem:n}]},t);return Bt.makeSpan(["mord","underline"],[r],t)},mathmlBuilder(e,t){var n=new mn.MathNode("mo",[new mn.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new mn.MathNode("munder",[Cn(e.body,t),n]);return i.setAttribute("accentunder","true"),i}}),Kt({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=un(e.body,t),i=t.fontMetrics().axisHeight,o=.5*(n.height-i-(n.depth+i));return Bt.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new mn.MathNode("mpadded",[Cn(e.body,t)],["vcenter"])}}),Kt({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new r("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=Ao(e),i=[],o=t.havingStyle(t.style.text()),r=0;r<n.length;r++){var s=n[r];"~"===s&&(s="\\textasciitilde"),i.push(Bt.makeSymbol(s,"Typewriter-Regular",e.mode,o,["mord","texttt"]))}return Bt.makeSpan(["mord","text"].concat(o.sizingClasses(t)),Bt.tryCombineChars(i),o)},mathmlBuilder(e,t){var n=new mn.TextNode(Ao(e)),i=new mn.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var Ao=e=>e.body.replace(/ /g,e.star?"␣":" "),Mo=zt,Po="[ \r\n\t]",Fo="\\\\[a-zA-Z@]+",Bo="\\\\[^\ud800-\udfff]",Vo="("+Fo+")"+Po+"*",Ho="\\\\(\n|[ \r\t]+\n?)[ \r\t]*",$o="[̀-ͯ]",Wo=new RegExp($o+"+$"),Uo="("+Po+"+)|"+Ho+"|([!-\\[\\]-‧‪-퟿豈-￿]"+$o+"*|[\ud800-\udbff][\udc00-\udfff]"+$o+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+Vo+"|"+Bo+")";class zo{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(Uo,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new o("EOF",new i(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new r("Unexpected character: '"+e[t]+"'",new o(e[t],new i(this,t,t+1)));var s=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[s]){var a=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===a?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new o(s,new i(this,t,this.tokenRegex.lastIndex))}}class jo{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new r("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){while(this.undefStack.length>0)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(void 0===n&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var Go=Wi;Ui("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),Ui("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),Ui("\\@firstoftwo",(function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}})),Ui("\\@secondoftwo",(function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}})),Ui("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),Ui("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Ui("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var Ko={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Ui("\\char",(function(e){var t,n=e.popToken(),i="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if(n=e.popToken(),"\\"===n.text[0])i=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new r("\\char` missing argument");i=n.text.charCodeAt(0)}else t=10;if(t){if(i=Ko[n.text],null==i||i>=t)throw new r("Invalid base-"+t+" digit "+n.text);var o;while(null!=(o=Ko[e.future().text])&&o<t)i*=t,i+=o,e.popToken()}return"\\@char{"+i+"}"}));var qo=(e,t,n)=>{var i=e.consumeArg().tokens;if(1!==i.length)throw new r("\\newcommand's first argument must be a macro name");var o=i[0].text,s=e.isDefined(o);if(s&&!t)throw new r("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!s&&!n)throw new r("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var a=0;if(i=e.consumeArg().tokens,1===i.length&&"["===i[0].text){var l="",u=e.expandNextToken();while("]"!==u.text&&"EOF"!==u.text)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new r("Invalid number of arguments: "+l);a=parseInt(l),i=e.consumeArg().tokens}return e.macros.set(o,{tokens:i,numArgs:a}),""};Ui("\\newcommand",e=>qo(e,!1,!0)),Ui("\\renewcommand",e=>qo(e,!0,!1)),Ui("\\providecommand",e=>qo(e,!0,!0)),Ui("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join("")),""}),Ui("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join("")),""}),Ui("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Mo[n],Re.math[n],Re.text[n]),""}),Ui("\\bgroup","{"),Ui("\\egroup","}"),Ui("~","\\nobreakspace"),Ui("\\lq","`"),Ui("\\rq","'"),Ui("\\aa","\\r a"),Ui("\\AA","\\r A"),Ui("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Ui("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Ui("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Ui("ℬ","\\mathscr{B}"),Ui("ℰ","\\mathscr{E}"),Ui("ℱ","\\mathscr{F}"),Ui("ℋ","\\mathscr{H}"),Ui("ℐ","\\mathscr{I}"),Ui("ℒ","\\mathscr{L}"),Ui("ℳ","\\mathscr{M}"),Ui("ℛ","\\mathscr{R}"),Ui("ℭ","\\mathfrak{C}"),Ui("ℌ","\\mathfrak{H}"),Ui("ℨ","\\mathfrak{Z}"),Ui("\\Bbbk","\\Bbb{k}"),Ui("·","\\cdotp"),Ui("\\llap","\\mathllap{\\textrm{#1}}"),Ui("\\rlap","\\mathrlap{\\textrm{#1}}"),Ui("\\clap","\\mathclap{\\textrm{#1}}"),Ui("\\mathstrut","\\vphantom{(}"),Ui("\\underbar","\\underline{\\text{#1}}"),Ui("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Ui("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Ui("\\ne","\\neq"),Ui("≠","\\neq"),Ui("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Ui("∉","\\notin"),Ui("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Ui("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Ui("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Ui("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Ui("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Ui("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Ui("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Ui("⟂","\\perp"),Ui("‼","\\mathclose{!\\mkern-0.8mu!}"),Ui("∌","\\notni"),Ui("⌜","\\ulcorner"),Ui("⌝","\\urcorner"),Ui("⌞","\\llcorner"),Ui("⌟","\\lrcorner"),Ui("©","\\copyright"),Ui("®","\\textregistered"),Ui("️","\\textregistered"),Ui("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Ui("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Ui("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Ui("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Ui("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Ui("⋮","\\vdots"),Ui("\\varGamma","\\mathit{\\Gamma}"),Ui("\\varDelta","\\mathit{\\Delta}"),Ui("\\varTheta","\\mathit{\\Theta}"),Ui("\\varLambda","\\mathit{\\Lambda}"),Ui("\\varXi","\\mathit{\\Xi}"),Ui("\\varPi","\\mathit{\\Pi}"),Ui("\\varSigma","\\mathit{\\Sigma}"),Ui("\\varUpsilon","\\mathit{\\Upsilon}"),Ui("\\varPhi","\\mathit{\\Phi}"),Ui("\\varPsi","\\mathit{\\Psi}"),Ui("\\varOmega","\\mathit{\\Omega}"),Ui("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Ui("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Ui("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Ui("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Ui("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Ui("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Yo={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Ui("\\dots",(function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in Yo?t=Yo[n]:("\\not"===n.slice(0,4)||n in Re.math&&_.contains(["bin","rel"],Re.math[n].group))&&(t="\\dotsb"),t}));var Xo={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Ui("\\dotso",(function(e){var t=e.future().text;return t in Xo?"\\ldots\\,":"\\ldots"})),Ui("\\dotsc",(function(e){var t=e.future().text;return t in Xo&&","!==t?"\\ldots\\,":"\\ldots"})),Ui("\\cdots",(function(e){var t=e.future().text;return t in Xo?"\\@cdots\\,":"\\@cdots"})),Ui("\\dotsb","\\cdots"),Ui("\\dotsm","\\cdots"),Ui("\\dotsi","\\!\\cdots"),Ui("\\dotsx","\\ldots\\,"),Ui("\\DOTSI","\\relax"),Ui("\\DOTSB","\\relax"),Ui("\\DOTSX","\\relax"),Ui("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Ui("\\,","\\tmspace+{3mu}{.1667em}"),Ui("\\thinspace","\\,"),Ui("\\>","\\mskip{4mu}"),Ui("\\:","\\tmspace+{4mu}{.2222em}"),Ui("\\medspace","\\:"),Ui("\\;","\\tmspace+{5mu}{.2777em}"),Ui("\\thickspace","\\;"),Ui("\\!","\\tmspace-{3mu}{.1667em}"),Ui("\\negthinspace","\\!"),Ui("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Ui("\\negthickspace","\\tmspace-{5mu}{.277em}"),Ui("\\enspace","\\kern.5em "),Ui("\\enskip","\\hskip.5em\\relax"),Ui("\\quad","\\hskip1em\\relax"),Ui("\\qquad","\\hskip2em\\relax"),Ui("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Ui("\\tag@paren","\\tag@literal{({#1})}"),Ui("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new r("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Ui("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Ui("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Ui("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Ui("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Ui("\\newline","\\\\\\relax"),Ui("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Zo=me(te["Main-Regular"]["T".charCodeAt(0)][1]-.7*te["Main-Regular"]["A".charCodeAt(0)][1]);Ui("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+Zo+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),Ui("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+Zo+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),Ui("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Ui("\\@hspace","\\hskip #1\\relax"),Ui("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Ui("\\ordinarycolon",":"),Ui("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Ui("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Ui("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Ui("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Ui("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Ui("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Ui("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Ui("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Ui("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Ui("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Ui("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Ui("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Ui("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Ui("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Ui("∷","\\dblcolon"),Ui("∹","\\eqcolon"),Ui("≔","\\coloneqq"),Ui("≕","\\eqqcolon"),Ui("⩴","\\Coloneqq"),Ui("\\ratio","\\vcentcolon"),Ui("\\coloncolon","\\dblcolon"),Ui("\\colonequals","\\coloneqq"),Ui("\\coloncolonequals","\\Coloneqq"),Ui("\\equalscolon","\\eqqcolon"),Ui("\\equalscoloncolon","\\Eqqcolon"),Ui("\\colonminus","\\coloneq"),Ui("\\coloncolonminus","\\Coloneq"),Ui("\\minuscolon","\\eqcolon"),Ui("\\minuscoloncolon","\\Eqcolon"),Ui("\\coloncolonapprox","\\Colonapprox"),Ui("\\coloncolonsim","\\Colonsim"),Ui("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Ui("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Ui("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Ui("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Ui("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Ui("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Ui("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Ui("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Ui("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Ui("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Ui("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Ui("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Ui("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Ui("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Ui("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Ui("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Ui("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Ui("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Ui("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Ui("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Ui("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Ui("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Ui("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Ui("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Ui("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Ui("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Ui("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Ui("\\imath","\\html@mathml{\\@imath}{ı}"),Ui("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Ui("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Ui("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Ui("⟦","\\llbracket"),Ui("⟧","\\rrbracket"),Ui("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Ui("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Ui("⦃","\\lBrace"),Ui("⦄","\\rBrace"),Ui("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Ui("⦵","\\minuso"),Ui("\\darr","\\downarrow"),Ui("\\dArr","\\Downarrow"),Ui("\\Darr","\\Downarrow"),Ui("\\lang","\\langle"),Ui("\\rang","\\rangle"),Ui("\\uarr","\\uparrow"),Ui("\\uArr","\\Uparrow"),Ui("\\Uarr","\\Uparrow"),Ui("\\N","\\mathbb{N}"),Ui("\\R","\\mathbb{R}"),Ui("\\Z","\\mathbb{Z}"),Ui("\\alef","\\aleph"),Ui("\\alefsym","\\aleph"),Ui("\\Alpha","\\mathrm{A}"),Ui("\\Beta","\\mathrm{B}"),Ui("\\bull","\\bullet"),Ui("\\Chi","\\mathrm{X}"),Ui("\\clubs","\\clubsuit"),Ui("\\cnums","\\mathbb{C}"),Ui("\\Complex","\\mathbb{C}"),Ui("\\Dagger","\\ddagger"),Ui("\\diamonds","\\diamondsuit"),Ui("\\empty","\\emptyset"),Ui("\\Epsilon","\\mathrm{E}"),Ui("\\Eta","\\mathrm{H}"),Ui("\\exist","\\exists"),Ui("\\harr","\\leftrightarrow"),Ui("\\hArr","\\Leftrightarrow"),Ui("\\Harr","\\Leftrightarrow"),Ui("\\hearts","\\heartsuit"),Ui("\\image","\\Im"),Ui("\\infin","\\infty"),Ui("\\Iota","\\mathrm{I}"),Ui("\\isin","\\in"),Ui("\\Kappa","\\mathrm{K}"),Ui("\\larr","\\leftarrow"),Ui("\\lArr","\\Leftarrow"),Ui("\\Larr","\\Leftarrow"),Ui("\\lrarr","\\leftrightarrow"),Ui("\\lrArr","\\Leftrightarrow"),Ui("\\Lrarr","\\Leftrightarrow"),Ui("\\Mu","\\mathrm{M}"),Ui("\\natnums","\\mathbb{N}"),Ui("\\Nu","\\mathrm{N}"),Ui("\\Omicron","\\mathrm{O}"),Ui("\\plusmn","\\pm"),Ui("\\rarr","\\rightarrow"),Ui("\\rArr","\\Rightarrow"),Ui("\\Rarr","\\Rightarrow"),Ui("\\real","\\Re"),Ui("\\reals","\\mathbb{R}"),Ui("\\Reals","\\mathbb{R}"),Ui("\\Rho","\\mathrm{P}"),Ui("\\sdot","\\cdot"),Ui("\\sect","\\S"),Ui("\\spades","\\spadesuit"),Ui("\\sub","\\subset"),Ui("\\sube","\\subseteq"),Ui("\\supe","\\supseteq"),Ui("\\Tau","\\mathrm{T}"),Ui("\\thetasym","\\vartheta"),Ui("\\weierp","\\wp"),Ui("\\Zeta","\\mathrm{Z}"),Ui("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Ui("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Ui("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Ui("\\bra","\\mathinner{\\langle{#1}|}"),Ui("\\ket","\\mathinner{|{#1}\\rangle}"),Ui("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Ui("\\Bra","\\left\\langle#1\\right|"),Ui("\\Ket","\\left|#1\\right\\rangle");var Jo=e=>t=>{var n=t.consumeArg().tokens,i=t.consumeArg().tokens,o=t.consumeArg().tokens,r=t.consumeArg().tokens,s=t.macros.get("|"),a=t.macros.get("\\|");t.macros.beginGroup();var l=t=>n=>{e&&(n.macros.set("|",s),o.length&&n.macros.set("\\|",a));var r=t;if(!t&&o.length){var l=n.future();"|"===l.text&&(n.popToken(),r=!0)}return{tokens:r?o:i,numArgs:0}};t.macros.set("|",l(!1)),o.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,c=t.expandTokens([...r,...u,...n]);return t.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};Ui("\\bra@ket",Jo(!1)),Ui("\\bra@set",Jo(!0)),Ui("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Ui("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Ui("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Ui("\\angln","{\\angl n}"),Ui("\\blue","\\textcolor{##6495ed}{#1}"),Ui("\\orange","\\textcolor{##ffa500}{#1}"),Ui("\\pink","\\textcolor{##ff00af}{#1}"),Ui("\\red","\\textcolor{##df0030}{#1}"),Ui("\\green","\\textcolor{##28ae7b}{#1}"),Ui("\\gray","\\textcolor{gray}{#1}"),Ui("\\purple","\\textcolor{##9d38bd}{#1}"),Ui("\\blueA","\\textcolor{##ccfaff}{#1}"),Ui("\\blueB","\\textcolor{##80f6ff}{#1}"),Ui("\\blueC","\\textcolor{##63d9ea}{#1}"),Ui("\\blueD","\\textcolor{##11accd}{#1}"),Ui("\\blueE","\\textcolor{##0c7f99}{#1}"),Ui("\\tealA","\\textcolor{##94fff5}{#1}"),Ui("\\tealB","\\textcolor{##26edd5}{#1}"),Ui("\\tealC","\\textcolor{##01d1c1}{#1}"),Ui("\\tealD","\\textcolor{##01a995}{#1}"),Ui("\\tealE","\\textcolor{##208170}{#1}"),Ui("\\greenA","\\textcolor{##b6ffb0}{#1}"),Ui("\\greenB","\\textcolor{##8af281}{#1}"),Ui("\\greenC","\\textcolor{##74cf70}{#1}"),Ui("\\greenD","\\textcolor{##1fab54}{#1}"),Ui("\\greenE","\\textcolor{##0d923f}{#1}"),Ui("\\goldA","\\textcolor{##ffd0a9}{#1}"),Ui("\\goldB","\\textcolor{##ffbb71}{#1}"),Ui("\\goldC","\\textcolor{##ff9c39}{#1}"),Ui("\\goldD","\\textcolor{##e07d10}{#1}"),Ui("\\goldE","\\textcolor{##a75a05}{#1}"),Ui("\\redA","\\textcolor{##fca9a9}{#1}"),Ui("\\redB","\\textcolor{##ff8482}{#1}"),Ui("\\redC","\\textcolor{##f9685d}{#1}"),Ui("\\redD","\\textcolor{##e84d39}{#1}"),Ui("\\redE","\\textcolor{##bc2612}{#1}"),Ui("\\maroonA","\\textcolor{##ffbde0}{#1}"),Ui("\\maroonB","\\textcolor{##ff92c6}{#1}"),Ui("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Ui("\\maroonD","\\textcolor{##ca337c}{#1}"),Ui("\\maroonE","\\textcolor{##9e034e}{#1}"),Ui("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Ui("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Ui("\\purpleC","\\textcolor{##aa87ff}{#1}"),Ui("\\purpleD","\\textcolor{##7854ab}{#1}"),Ui("\\purpleE","\\textcolor{##543b78}{#1}"),Ui("\\mintA","\\textcolor{##f5f9e8}{#1}"),Ui("\\mintB","\\textcolor{##edf2df}{#1}"),Ui("\\mintC","\\textcolor{##e0e5cc}{#1}"),Ui("\\grayA","\\textcolor{##f6f7f7}{#1}"),Ui("\\grayB","\\textcolor{##f0f1f2}{#1}"),Ui("\\grayC","\\textcolor{##e3e5e6}{#1}"),Ui("\\grayD","\\textcolor{##d6d8da}{#1}"),Ui("\\grayE","\\textcolor{##babec2}{#1}"),Ui("\\grayF","\\textcolor{##888d93}{#1}"),Ui("\\grayG","\\textcolor{##626569}{#1}"),Ui("\\grayH","\\textcolor{##3b3e40}{#1}"),Ui("\\grayI","\\textcolor{##21242c}{#1}"),Ui("\\kaBlue","\\textcolor{##314453}{#1}"),Ui("\\kaGreen","\\textcolor{##71B307}{#1}");var Qo={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class er{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new jo(Go,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new zo(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,i;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:i,end:n}=this.consumeArg(["]"]))}else({tokens:i,start:t,end:n}=this.consumeArg());return this.pushToken(new o("EOF",n.loc)),this.pushTokens(i),t.range(n,"")}consumeSpaces(){for(;;){var e=this.future();if(" "!==e.text)break;this.stack.pop()}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var i,o=this.future(),s=0,a=0;do{if(i=this.popToken(),t.push(i),"{"===i.text)++s;else if("}"===i.text){if(--s,-1===s)throw new r("Extra }",i)}else if("EOF"===i.text)throw new r("Unexpected end of input in a macro argument, expected '"+(e&&n?e[a]:"}")+"'",i);if(e&&n)if((0===s||1===s&&"{"===e[a])&&i.text===e[a]){if(++a,a===e.length){t.splice(-a,a);break}}else a=0}while(0!==s||n);return"{"===o.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:o,end:i}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new r("The length of delimiters doesn't match the number of args!");for(var n=t[0],i=0;i<n.length;i++){var o=this.popToken();if(n[i]!==o.text)throw new r("Use of the macro doesn't match its definition",o)}}for(var s=[],a=0;a<e;a++)s.push(this.consumeArg(t&&t[a+1]).tokens);return s}expandOnce(e){var t=this.popToken(),n=t.text,i=t.noexpand?null:this._getExpansion(n);if(null==i||e&&i.unexpandable){if(e&&null==i&&"\\"===n[0]&&!this.isDefined(n))throw new r("Undefined control sequence: "+n);return this.pushToken(t),t}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new r("Too many expansions: infinite loop or need to increase maxExpand setting");var o=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var a=o.length-1;a>=0;--a){var l=o[a];if("#"===l.text){if(0===a)throw new r("Incomplete placeholder at end of macro body",l);if(l=o[--a],"#"===l.text)o.splice(a+1,1);else{if(!/^[1-9]$/.test(l.text))throw new r("Not a valid argument number",l);o.splice(a,2,...s[+l.text-1])}}}}return this.pushTokens(o),o}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof o)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new o(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;this.pushTokens(e);while(this.stack.length>n){var i=this.expandOnce(!0);i instanceof o&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),t.push(this.stack.pop()))}return t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map(e=>e.text).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var n=this.lexer.catcodes[e];if(null!=n&&13!==n)return}var i="function"===typeof t?t(this):t;if("string"===typeof i){var o=0;if(-1!==i.indexOf("#")){var r=i.replace(/##/g,"");while(-1!==r.indexOf("#"+(o+1)))++o}var s=new zo(i,this.settings),a=[],l=s.lex();while("EOF"!==l.text)a.push(l),l=s.lex();a.reverse();var u={tokens:a,numArgs:o};return u}return i}isDefined(e){return this.macros.has(e)||Mo.hasOwnProperty(e)||Re.math.hasOwnProperty(e)||Re.text.hasOwnProperty(e)||Qo.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"===typeof t||"function"===typeof t||!t.unexpandable:Mo.hasOwnProperty(e)&&!Mo[e].primitive}}var tr=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,nr=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g","ʰ":"h","ⁱ":"i","ʲ":"j","ᵏ":"k","ˡ":"l","ᵐ":"m","ⁿ":"n","ᵒ":"o","ᵖ":"p","ʳ":"r","ˢ":"s","ᵗ":"t","ᵘ":"u","ᵛ":"v","ʷ":"w","ˣ":"x","ʸ":"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),ir={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},or={"á":"á","à":"à","ä":"ä","ǟ":"ǟ","ã":"ã","ā":"ā","ă":"ă","ắ":"ắ","ằ":"ằ","ẵ":"ẵ","ǎ":"ǎ","â":"â","ấ":"ấ","ầ":"ầ","ẫ":"ẫ","ȧ":"ȧ","ǡ":"ǡ","å":"å","ǻ":"ǻ","ḃ":"ḃ","ć":"ć","ḉ":"ḉ","č":"č","ĉ":"ĉ","ċ":"ċ","ç":"ç","ď":"ď","ḋ":"ḋ","ḑ":"ḑ","é":"é","è":"è","ë":"ë","ẽ":"ẽ","ē":"ē","ḗ":"ḗ","ḕ":"ḕ","ĕ":"ĕ","ḝ":"ḝ","ě":"ě","ê":"ê","ế":"ế","ề":"ề","ễ":"ễ","ė":"ė","ȩ":"ȩ","ḟ":"ḟ","ǵ":"ǵ","ḡ":"ḡ","ğ":"ğ","ǧ":"ǧ","ĝ":"ĝ","ġ":"ġ","ģ":"ģ","ḧ":"ḧ","ȟ":"ȟ","ĥ":"ĥ","ḣ":"ḣ","ḩ":"ḩ","í":"í","ì":"ì","ï":"ï","ḯ":"ḯ","ĩ":"ĩ","ī":"ī","ĭ":"ĭ","ǐ":"ǐ","î":"î","ǰ":"ǰ","ĵ":"ĵ","ḱ":"ḱ","ǩ":"ǩ","ķ":"ķ","ĺ":"ĺ","ľ":"ľ","ļ":"ļ","ḿ":"ḿ","ṁ":"ṁ","ń":"ń","ǹ":"ǹ","ñ":"ñ","ň":"ň","ṅ":"ṅ","ņ":"ņ","ó":"ó","ò":"ò","ö":"ö","ȫ":"ȫ","õ":"õ","ṍ":"ṍ","ṏ":"ṏ","ȭ":"ȭ","ō":"ō","ṓ":"ṓ","ṑ":"ṑ","ŏ":"ŏ","ǒ":"ǒ","ô":"ô","ố":"ố","ồ":"ồ","ỗ":"ỗ","ȯ":"ȯ","ȱ":"ȱ","ő":"ő","ṕ":"ṕ","ṗ":"ṗ","ŕ":"ŕ","ř":"ř","ṙ":"ṙ","ŗ":"ŗ","ś":"ś","ṥ":"ṥ","š":"š","ṧ":"ṧ","ŝ":"ŝ","ṡ":"ṡ","ş":"ş","ẗ":"ẗ","ť":"ť","ṫ":"ṫ","ţ":"ţ","ú":"ú","ù":"ù","ü":"ü","ǘ":"ǘ","ǜ":"ǜ","ǖ":"ǖ","ǚ":"ǚ","ũ":"ũ","ṹ":"ṹ","ū":"ū","ṻ":"ṻ","ŭ":"ŭ","ǔ":"ǔ","û":"û","ů":"ů","ű":"ű","ṽ":"ṽ","ẃ":"ẃ","ẁ":"ẁ","ẅ":"ẅ","ŵ":"ŵ","ẇ":"ẇ","ẘ":"ẘ","ẍ":"ẍ","ẋ":"ẋ","ý":"ý","ỳ":"ỳ","ÿ":"ÿ","ỹ":"ỹ","ȳ":"ȳ","ŷ":"ŷ","ẏ":"ẏ","ẙ":"ẙ","ź":"ź","ž":"ž","ẑ":"ẑ","ż":"ż","Á":"Á","À":"À","Ä":"Ä","Ǟ":"Ǟ","Ã":"Ã","Ā":"Ā","Ă":"Ă","Ắ":"Ắ","Ằ":"Ằ","Ẵ":"Ẵ","Ǎ":"Ǎ","Â":"Â","Ấ":"Ấ","Ầ":"Ầ","Ẫ":"Ẫ","Ȧ":"Ȧ","Ǡ":"Ǡ","Å":"Å","Ǻ":"Ǻ","Ḃ":"Ḃ","Ć":"Ć","Ḉ":"Ḉ","Č":"Č","Ĉ":"Ĉ","Ċ":"Ċ","Ç":"Ç","Ď":"Ď","Ḋ":"Ḋ","Ḑ":"Ḑ","É":"É","È":"È","Ë":"Ë","Ẽ":"Ẽ","Ē":"Ē","Ḗ":"Ḗ","Ḕ":"Ḕ","Ĕ":"Ĕ","Ḝ":"Ḝ","Ě":"Ě","Ê":"Ê","Ế":"Ế","Ề":"Ề","Ễ":"Ễ","Ė":"Ė","Ȩ":"Ȩ","Ḟ":"Ḟ","Ǵ":"Ǵ","Ḡ":"Ḡ","Ğ":"Ğ","Ǧ":"Ǧ","Ĝ":"Ĝ","Ġ":"Ġ","Ģ":"Ģ","Ḧ":"Ḧ","Ȟ":"Ȟ","Ĥ":"Ĥ","Ḣ":"Ḣ","Ḩ":"Ḩ","Í":"Í","Ì":"Ì","Ï":"Ï","Ḯ":"Ḯ","Ĩ":"Ĩ","Ī":"Ī","Ĭ":"Ĭ","Ǐ":"Ǐ","Î":"Î","İ":"İ","Ĵ":"Ĵ","Ḱ":"Ḱ","Ǩ":"Ǩ","Ķ":"Ķ","Ĺ":"Ĺ","Ľ":"Ľ","Ļ":"Ļ","Ḿ":"Ḿ","Ṁ":"Ṁ","Ń":"Ń","Ǹ":"Ǹ","Ñ":"Ñ","Ň":"Ň","Ṅ":"Ṅ","Ņ":"Ņ","Ó":"Ó","Ò":"Ò","Ö":"Ö","Ȫ":"Ȫ","Õ":"Õ","Ṍ":"Ṍ","Ṏ":"Ṏ","Ȭ":"Ȭ","Ō":"Ō","Ṓ":"Ṓ","Ṑ":"Ṑ","Ŏ":"Ŏ","Ǒ":"Ǒ","Ô":"Ô","Ố":"Ố","Ồ":"Ồ","Ỗ":"Ỗ","Ȯ":"Ȯ","Ȱ":"Ȱ","Ő":"Ő","Ṕ":"Ṕ","Ṗ":"Ṗ","Ŕ":"Ŕ","Ř":"Ř","Ṙ":"Ṙ","Ŗ":"Ŗ","Ś":"Ś","Ṥ":"Ṥ","Š":"Š","Ṧ":"Ṧ","Ŝ":"Ŝ","Ṡ":"Ṡ","Ş":"Ş","Ť":"Ť","Ṫ":"Ṫ","Ţ":"Ţ","Ú":"Ú","Ù":"Ù","Ü":"Ü","Ǘ":"Ǘ","Ǜ":"Ǜ","Ǖ":"Ǖ","Ǚ":"Ǚ","Ũ":"Ũ","Ṹ":"Ṹ","Ū":"Ū","Ṻ":"Ṻ","Ŭ":"Ŭ","Ǔ":"Ǔ","Û":"Û","Ů":"Ů","Ű":"Ű","Ṽ":"Ṽ","Ẃ":"Ẃ","Ẁ":"Ẁ","Ẅ":"Ẅ","Ŵ":"Ŵ","Ẇ":"Ẇ","Ẍ":"Ẍ","Ẋ":"Ẋ","Ý":"Ý","Ỳ":"Ỳ","Ÿ":"Ÿ","Ỹ":"Ỹ","Ȳ":"Ȳ","Ŷ":"Ŷ","Ẏ":"Ẏ","Ź":"Ź","Ž":"Ž","Ẑ":"Ẑ","Ż":"Ż","ά":"ά","ὰ":"ὰ","ᾱ":"ᾱ","ᾰ":"ᾰ","έ":"έ","ὲ":"ὲ","ή":"ή","ὴ":"ὴ","ί":"ί","ὶ":"ὶ","ϊ":"ϊ","ΐ":"ΐ","ῒ":"ῒ","ῑ":"ῑ","ῐ":"ῐ","ό":"ό","ὸ":"ὸ","ύ":"ύ","ὺ":"ὺ","ϋ":"ϋ","ΰ":"ΰ","ῢ":"ῢ","ῡ":"ῡ","ῠ":"ῠ","ώ":"ώ","ὼ":"ὼ","Ύ":"Ύ","Ὺ":"Ὺ","Ϋ":"Ϋ","Ῡ":"Ῡ","Ῠ":"Ῠ","Ώ":"Ώ","Ὼ":"Ὼ"};class rr{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new er(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new r("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new o("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){var n=[];while(1){"math"===this.mode&&this.consumeSpaces();var i=this.fetch();if(-1!==rr.endOfExpression.indexOf(i.text))break;if(t&&i.text===t)break;if(e&&Mo[i.text]&&Mo[i.text].infix)break;var o=this.parseAtom(t);if(!o)break;"internal"!==o.type&&n.push(o)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t,n=-1,i=0;i<e.length;i++)if("infix"===e[i].type){if(-1!==n)throw new r("only one infix operator per group",e[i].token);n=i,t=e[i].replaceWith}if(-1!==n&&t){var o,s,a,l=e.slice(0,n),u=e.slice(n+1);return o=1===l.length&&"ordgroup"===l[0].type?l[0]:{type:"ordgroup",mode:this.mode,body:l},s=1===u.length&&"ordgroup"===u[0].type?u[0]:{type:"ordgroup",mode:this.mode,body:u},a="\\\\abovefrac"===t?this.callFunction(t,[o,e[n],s],[]):this.callFunction(t,[o,s],[]),[a]}return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new r("Expected group after '"+n+"'",t);return i}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var i={type:"text",mode:this.mode,body:t},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var t,n,i=this.parseGroup("atom",e);if("text"===this.mode)return i;while(1){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(i&&"op"===i.type){var s="\\limits"===o.text;i.limits=s,i.alwaysHandleSupSub=!0}else{if(!i||"operatorname"!==i.type)throw new r("Limit controls must follow a math operator",o);i.alwaysHandleSupSub&&(i.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new r("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new r("Double subscript",o);n=this.handleSupSubscript("subscript")}else if("'"===o.text){if(t)throw new r("Double superscript",o);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];this.consume();while("'"===this.fetch().text)l.push(a),this.consume();"^"===this.fetch().text&&l.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:l}}else{if(!nr[o.text])break;var u=nr[o.text],c=tr.test(o.text);this.consume();while(1){var h=this.fetch().text;if(!nr[h])break;if(tr.test(h)!==c)break;this.consume(),u+=nr[h]}var d=new rr(u,this.settings).parse();c?n={type:"ordgroup",mode:"math",body:d}:t={type:"ordgroup",mode:"math",body:d}}}return t||n?{type:"supsub",mode:this.mode,base:i,sup:t,sub:n}:i}parseFunction(e,t){var n=this.fetch(),i=n.text,o=Mo[i];if(!o)return null;if(this.consume(),t&&"atom"!==t&&!o.allowedInArgument)throw new r("Got function '"+i+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!o.allowedInText)throw new r("Can't use function '"+i+"' in text mode",n);if("math"===this.mode&&!1===o.allowedInMath)throw new r("Can't use function '"+i+"' in math mode",n);var{args:s,optArgs:a}=this.parseArguments(i,o);return this.callFunction(i,s,a,n,e)}callFunction(e,t,n,i,o){var s={funcName:e,parser:this,token:i,breakOnTokenText:o},a=Mo[e];if(a&&a.handler)return a.handler(s,t,n);throw new r("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var i=[],o=[],s=0;s<n;s++){var a=t.argTypes&&t.argTypes[s],l=s<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===s&&null==o[0])&&(a="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)o.push(u);else{if(null==u)throw new r("Null argument, please report this as a bug");i.push(u)}}return{args:i,optArgs:o}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":var i=this.parseArgumentGroup(n,"text");return null!=i?{type:"styling",mode:i.mode,body:[i],style:"text"}:null;case"raw":var o=this.parseStringGroup("raw",n);return null!=o?{type:"raw",mode:"text",string:o.text}:null;case"primitive":if(n)throw new r("A primitive argument cannot be optional");var s=this.parseGroup(e);if(null==s)throw new r("Expected group as "+e,this.fetch());return s;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new r("Unknown group type as "+e,this.fetch())}}consumeSpaces(){while(" "===this.fetch().text)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(null==n)return null;var i,o="";while("EOF"!==(i=this.fetch()).text)o+=i.text,this.consume();return this.consume(),n.text=o,n}parseRegexGroup(e,t){var n,i=this.fetch(),o=i,s="";while("EOF"!==(n=this.fetch()).text&&e.test(s+n.text))o=n,s+=o.text,this.consume();if(""===s)throw new r("Invalid "+t+": '"+i.text+"'",i);return i.range(o,s)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new r("Invalid color: '"+t.text+"'",t);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"),!t)return null;e||0!==t.text.length||(t.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new r("Invalid size: '"+t.text+"'",t);var o={number:+(i[1]+i[2]),unit:i[3]};if(!fe(o))throw new r("Invalid unit: '"+o.unit+"'",t);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(null==n)return null;var i=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var r={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return t&&this.switchMode(i),r}parseGroup(e,t){var n,o=this.fetch(),s=o.text;if("{"===s||"\\begingroup"===s){this.consume();var a="{"===s?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),u=this.fetch();this.expect(a),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:i.range(o,u),body:l,semisimple:"\\begingroup"===s||void 0}}else if(n=this.parseFunction(t,e)||this.parseSymbol(),null==n&&"\\"===s[0]&&!Qo.hasOwnProperty(s)){if(this.settings.throwOnError)throw new r("Undefined control sequence: "+s,o);n=this.formatUnsupportedCmd(s),this.consume()}return n}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var o=e[n],r=o.text;"-"===r&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:i.range(o,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:i.range(o,e[n+1]),text:"--"}),t-=1)),"'"!==r&&"`"!==r||e[n+1].text!==r||(e.splice(n,2,{type:"textord",mode:"text",loc:i.range(o,e[n+1]),text:r+r}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),o="*"===n.charAt(0);if(o&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new r("\\verb assertion failed --\n                    please report what input caused this bug");return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:o}}or.hasOwnProperty(t[0])&&!Re[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=or[t[0]]+t.slice(1));var s,a=Wo.exec(t);if(a&&(t=t.substring(0,a.index),"i"===t?t="ı":"j"===t&&(t="ȷ")),Re[this.mode][t]){this.settings.strict&&"math"===this.mode&&ht.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l,u=Re[this.mode][t].group,c=i.range(e);if(De.hasOwnProperty(u)){var h=u;l={type:"atom",mode:this.mode,family:h,loc:c,text:t}}else l={type:u,mode:this.mode,loc:c,text:t};s=l}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&($(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),s={type:"textord",mode:"text",loc:i.range(e),text:t}}if(this.consume(),a)for(var d=0;d<a[0].length;d++){var p=a[0][d];if(!ir[p])throw new r("Unknown accent ' "+p+"'",e);var f=ir[p][this.mode]||ir[p].text;if(!f)throw new r("Accent "+p+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:i.range(e),label:f,isStretchy:!1,isShifty:!0,base:s}}return s}}rr.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var sr=function(e,t){if(!("string"===typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new rr(e,t);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new r("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new o("\\df@tag")])}]}return i},ar=function(e,t,n){t.textContent="";var i=hr(e,n).toNode();t.appendChild(i)};"undefined"!==typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!==typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),ar=function(){throw new r("KaTeX doesn't work in quirks mode.")});var lr=function(e,t){var n=hr(e,t).toMarkup();return n},ur=function(e,t){var n=new b(t);return sr(e,n)},cr=function(e,t,n){if(n.throwOnError||!(e instanceof r))throw e;var i=Bt.makeSpan(["katex-error"],[new Te(t)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+n.errorColor),i},hr=function(e,t){var n=new b(t);try{var i=sr(e,n);return kn(i,e,n)}catch(o){return cr(o,e,n)}},dr=function(e,t){var n=new b(t);try{var i=sr(e,n);return xn(i,e,n)}catch(o){return cr(o,e,n)}},pr={version:"0.16.4",render:ar,renderToString:lr,ParseError:r,SETTINGS_SCHEMA:v,__parse:ur,__renderToDomTree:hr,__renderToHTMLTree:dr,__setFontMetrics:oe,__defineSymbol:Ae,__defineMacro:Ui,__domTree:{Span:we,Anchor:Ce,SymbolNode:Te,SvgNode:ke,PathNode:xe,LineNode:Le}}},2085:function(e,t,n){"use strict";e.exports=function(e){var t,n,i=0,o=e.tokens,r=e.tokens.length;for(t=n=0;t<r;t++)o[t].nesting<0&&i--,o[t].level=i,o[t].nesting>0&&i++,"text"===o[t].type&&t+1<r&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},"20f6":function(e,t,n){},"22a9":function(e,t,n){"use strict";const i=n("8d81");e.exports=e=>(Array.isArray(e)&&(e=e.join("")),i(e))},"22da":function(e,t,n){"use strict";var i=n("490a");t["a"]=i["a"]},"23cb":function(e,t,n){var i=n("5926"),o=Math.max,r=Math.min;e.exports=function(e,t){var n=i(e);return n<0?o(n+t,0):r(n,t)}},"23e7":function(e,t,n){var i=n("da84"),o=n("06cf").f,r=n("9112"),s=n("cb2d"),a=n("6374"),l=n("e893"),u=n("94ca");e.exports=function(e,t){var n,c,h,d,p,f,g=e.target,m=e.global,_=e.stat;if(c=m?i:_?i[g]||a(g,{}):(i[g]||{}).prototype,c)for(h in t){if(p=t[h],e.dontCallGetSet?(f=o(c,h),d=f&&f.value):d=c[h],n=u(m?h:g+(_?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&r(p,"sham",!0),s(c,h,p,e)}}},"241c":function(e,t,n){var i=n("ca84"),o=n("7839"),r=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},"24b2":function(e,t,n){"use strict";var i=n("80d2"),o=n("2b0e");t["a"]=o["a"].extend({name:"measurable",props:{height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},computed:{measurableStyles(){const e={},t=Object(i["g"])(this.height),n=Object(i["g"])(this.minHeight),o=Object(i["g"])(this.minWidth),r=Object(i["g"])(this.maxHeight),s=Object(i["g"])(this.maxWidth),a=Object(i["g"])(this.width);return t&&(e.height=t),n&&(e.minHeight=n),o&&(e.minWidth=o),r&&(e.maxHeight=r),s&&(e.maxWidth=s),a&&(e.width=a),e}}})},"25a8":function(e,t,n){},"27e6":function(e,t,n){},2877:function(e,t,n){"use strict";function i(e,t,n,i,o,r,s,a){var l,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=l):o&&(l=a?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var h=u.beforeCreate;u.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:u}}n.d(t,"a",(function(){return i}))},"28ec":function(e,t,n){"use strict";var i=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,o=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,t){var n,r,s,a,l,u,c=e.pos;if(60!==e.src.charCodeAt(c))return!1;for(l=e.pos,u=e.posMax;;){if(++c>=u)return!1;if(a=e.src.charCodeAt(c),60===a)return!1;if(62===a)break}return n=e.src.slice(l+1,c),o.test(n)?(r=e.md.normalizeLink(n),!!e.md.validateLink(r)&&(t||(s=e.push("link_open","a",1),s.attrs=[["href",r]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(n),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=n.length+2,!0)):!!i.test(n)&&(r=e.md.normalizeLink("mailto:"+n),!!e.md.validateLink(r)&&(t||(s=e.push("link_open","a",1),s.attrs=[["href",r]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(n),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=n.length+2,!0))}},"297c":function(e,t,n){"use strict";var i=n("2b0e"),o=(n("6ece"),n("0789")),r=n("90a2"),s=n("a9ad"),a=n("fe6c"),l=n("a452"),u=n("7560"),c=n("80d2"),h=n("58df");const d=Object(h["a"])(s["a"],Object(a["b"])(["absolute","fixed","top","bottom"]),l["a"],u["a"]);var p=d.extend({name:"v-progress-linear",directives:{intersect:r["a"]},props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,reverse:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data(){return{internalLazyValue:this.value||0,isVisible:!0}},computed:{__cachedBackground(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(c["g"])(this.normalizedValue,"%")}}))},__cachedIndeterminate(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(c["g"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle(){const e=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return{opacity:e,[this.isReversed?"right":"left"]:Object(c["g"])(this.normalizedValue,"%"),width:Object(c["g"])(Math.max(0,this.normalizedBuffer-this.normalizedValue),"%")}},classes(){return{"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--reverse":this.isReversed,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped,"v-progress-linear--visible":this.isVisible,...this.themeClasses}},computedTransition(){return this.indeterminate?o["a"]:o["b"]},isReversed(){return this.$vuetify.rtl!==this.reverse},normalizedBuffer(){return this.normalize(this.bufferValue)},normalizedValue(){return this.normalize(this.internalLazyValue)},reactive(){return Boolean(this.$listeners.change)},styles(){const e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(c["g"])(this.normalizedBuffer,"%")),e}},methods:{genContent(){const e=Object(c["m"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners(){const e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:{[e]:!0}}))},onClick(e){if(!this.reactive)return;const{width:t}=this.$el.getBoundingClientRect();this.internalValue=e.offsetX/t*100},onObserve(e,t,n){this.isVisible=n},normalize(e){return e<0?0:e>100?100:parseFloat(e)}},render(e){const t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:{bottom:this.bottom?0:void 0,height:this.active?Object(c["g"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}}),f=p;t["a"]=i["a"].extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress(){return!1===this.loading?null:this.$slots.progress||this.$createElement(f,{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"29a1":function(e,t,n){},"2a04":function(e,t,n){},"2a7f":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("71d9"),o=n("80d2");const r=Object(o["h"])("v-toolbar__title"),s=Object(o["h"])("v-toolbar__items");i["a"]},"2a83":function(e,t){Prism.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}},"2ab7":function(e,t,n){},"2b0e":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Xi}));
/*!
 * Vue.js v2.7.14
 * (c) 2014-2022 Evan You
 * Released under the MIT License.
 */
var i=Object.freeze({}),o=Array.isArray;function r(e){return void 0===e||null===e}function s(e){return void 0!==e&&null!==e}function a(e){return!0===e}function l(e){return!1===e}function u(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return"function"===typeof e}function h(e){return null!==e&&"object"===typeof e}var d=Object.prototype.toString;function p(e){return"[object Object]"===d.call(e)}function f(e){return"[object RegExp]"===d.call(e)}function g(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function m(e){return s(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function _(e){return null==e?"":Array.isArray(e)||p(e)&&e.toString===d?JSON.stringify(e,null,2):String(e)}function v(e){var t=parseFloat(e);return isNaN(t)?e:t}function y(e,t){for(var n=Object.create(null),i=e.split(","),o=0;o<i.length;o++)n[i[o]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}y("slot,component",!0);var b=y("key,ref,slot,slot-scope,is");function w(e,t){var n=e.length;if(n){if(t===e[n-1])return void(e.length=n-1);var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var C=Object.prototype.hasOwnProperty;function S(e,t){return C.call(e,t)}function E(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}}var T=/-(\w)/g,k=E((function(e){return e.replace(T,(function(e,t){return t?t.toUpperCase():""}))})),x=E((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),L=/\B([A-Z])/g,I=E((function(e){return e.replace(L,"-$1").toLowerCase()}));function O(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function D(e,t){return e.bind(t)}var N=Function.prototype.bind?D:O;function R(e,t){t=t||0;var n=e.length-t,i=new Array(n);while(n--)i[n]=e[n+t];return i}function A(e,t){for(var n in t)e[n]=t[n];return e}function M(e){for(var t={},n=0;n<e.length;n++)e[n]&&A(t,e[n]);return t}function P(e,t,n){}var F=function(e,t,n){return!1},B=function(e){return e};function V(e,t){if(e===t)return!0;var n=h(e),i=h(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var o=Array.isArray(e),r=Array.isArray(t);if(o&&r)return e.length===t.length&&e.every((function(e,n){return V(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(o||r)return!1;var s=Object.keys(e),a=Object.keys(t);return s.length===a.length&&s.every((function(n){return V(e[n],t[n])}))}catch(l){return!1}}function H(e,t){for(var n=0;n<e.length;n++)if(V(e[n],t))return n;return-1}function $(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function W(e,t){return e===t?0===e&&1/e!==1/t:e===e||t===t}var U="data-server-rendered",z=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],G={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:F,isReservedAttr:F,isUnknownElement:F,getTagNamespace:P,parsePlatformTagName:B,mustUseProp:F,async:!0,_lifecycleHooks:j},K=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Y(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var X=new RegExp("[^".concat(K.source,".$_\\d]"));function Z(e){if(!X.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var J="__proto__"in{},Q="undefined"!==typeof window,ee=Q&&window.navigator.userAgent.toLowerCase(),te=ee&&/msie|trident/.test(ee),ne=ee&&ee.indexOf("msie 9.0")>0,ie=ee&&ee.indexOf("edge/")>0;ee&&ee.indexOf("android");var oe=ee&&/iphone|ipad|ipod|ios/.test(ee);ee&&/chrome\/\d+/.test(ee),ee&&/phantomjs/.test(ee);var re,se=ee&&ee.match(/firefox\/(\d+)/),ae={}.watch,le=!1;if(Q)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){le=!0}}),window.addEventListener("test-passive",null,ue)}catch(Zs){}var ce=function(){return void 0===re&&(re=!Q&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),re},he=Q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function de(e){return"function"===typeof e&&/native code/.test(e.toString())}var pe,fe="undefined"!==typeof Symbol&&de(Symbol)&&"undefined"!==typeof Reflect&&de(Reflect.ownKeys);pe="undefined"!==typeof Set&&de(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ge=null;function me(e){void 0===e&&(e=null),e||ge&&ge._scope.off(),ge=e,e&&e._scope.on()}var _e=function(){function e(e,t,n,i,o,r,s,a){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=o,this.ns=void 0,this.context=r,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),ve=function(e){void 0===e&&(e="");var t=new _e;return t.text=e,t.isComment=!0,t};function ye(e){return new _e(void 0,void 0,void 0,String(e))}function be(e){var t=new _e(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var we=0,Ce=[],Se=function(){for(var e=0;e<Ce.length;e++){var t=Ce[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}Ce.length=0},Ee=function(){function e(){this._pending=!1,this.id=we++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,Ce.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.filter((function(e){return e}));for(var n=0,i=t.length;n<i;n++){var o=t[n];0,o.update()}},e}();Ee.target=null;var Te=[];function ke(e){Te.push(e),Ee.target=e}function xe(){Te.pop(),Ee.target=Te[Te.length-1]}var Le=Array.prototype,Ie=Object.create(Le),Oe=["push","pop","shift","unshift","splice","sort","reverse"];Oe.forEach((function(e){var t=Le[e];Y(Ie,e,(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o,r=t.apply(this,n),s=this.__ob__;switch(e){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2);break}return o&&s.observeArray(o),s.dep.notify(),r}))}));var De=Object.getOwnPropertyNames(Ie),Ne={},Re=!0;function Ae(e){Re=e}var Me={notify:P,depend:P,addSub:P,removeSub:P},Pe=function(){function e(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),this.value=e,this.shallow=t,this.mock=n,this.dep=n?Me:new Ee,this.vmCount=0,Y(e,"__ob__",this),o(e)){if(!n)if(J)e.__proto__=Ie;else for(var i=0,r=De.length;i<r;i++){var s=De[i];Y(e,s,Ie[s])}t||this.observeArray(e)}else{var a=Object.keys(e);for(i=0;i<a.length;i++){s=a[i];Be(e,s,Ne,void 0,t,n)}}}return e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Fe(e[t],!1,this.mock)},e}();function Fe(e,t,n){return e&&S(e,"__ob__")&&e.__ob__ instanceof Pe?e.__ob__:!Re||!n&&ce()||!o(e)&&!p(e)||!Object.isExtensible(e)||e.__v_skip||je(e)||e instanceof _e?void 0:new Pe(e,t,n)}function Be(e,t,n,i,r,s){var a=new Ee,l=Object.getOwnPropertyDescriptor(e,t);if(!l||!1!==l.configurable){var u=l&&l.get,c=l&&l.set;u&&!c||n!==Ne&&2!==arguments.length||(n=e[t]);var h=!r&&Fe(n,!1,s);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=u?u.call(e):n;return Ee.target&&(a.depend(),h&&(h.dep.depend(),o(t)&&$e(t))),je(t)&&!r?t.value:t},set:function(t){var i=u?u.call(e):n;if(W(i,t)){if(c)c.call(e,t);else{if(u)return;if(!r&&je(i)&&!je(t))return void(i.value=t);n=t}h=!r&&Fe(t,!1,s),a.notify()}}}),a}}function Ve(e,t,n){if(!ze(e)){var i=e.__ob__;return o(e)&&g(t)?(e.length=Math.max(e.length,t),e.splice(t,1,n),i&&!i.shallow&&i.mock&&Fe(n,!1,!0),n):t in e&&!(t in Object.prototype)?(e[t]=n,n):e._isVue||i&&i.vmCount?n:i?(Be(i.value,t,n,void 0,i.shallow,i.mock),i.dep.notify(),n):(e[t]=n,n)}}function He(e,t){if(o(e)&&g(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||ze(e)||S(e,t)&&(delete e[t],n&&n.dep.notify())}}function $e(e){for(var t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),o(t)&&$e(t)}function We(e){return Ue(e,!0),Y(e,"__v_isShallow",!0),e}function Ue(e,t){if(!ze(e)){Fe(e,t,ce());0}}function ze(e){return!(!e||!e.__v_isReadonly)}function je(e){return!(!e||!0!==e.__v_isRef)}function Ge(e,t,n){Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function(){var e=t[n];if(je(e))return e.value;var i=e&&e.__ob__;return i&&i.dep.depend(),e},set:function(e){var i=t[n];je(i)&&!je(e)?i.value=e:t[n]=e}})}var Ke="watcher";"".concat(Ke," callback"),"".concat(Ke," getter"),"".concat(Ke," cleanup");var qe;var Ye=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=qe,!e&&qe&&(this.index=(qe.scopes||(qe.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=qe;try{return qe=this,e()}finally{qe=t}}else 0},e.prototype.on=function(){qe=this},e.prototype.off=function(){qe=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,n=void 0;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].teardown();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Xe(e,t){void 0===t&&(t=qe),t&&t.active&&t.effects.push(e)}function Ze(e){var t=e._provided,n=e.$parent&&e.$parent._provided;return n===t?e._provided=Object.create(n):t}var Je=E((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,once:n,capture:i,passive:t}}));function Qe(e,t){function n(){var e=n.fns;if(!o(e))return Yt(e,null,arguments,t,"v-on handler");for(var i=e.slice(),r=0;r<i.length;r++)Yt(i[r],null,arguments,t,"v-on handler")}return n.fns=e,n}function et(e,t,n,i,o,s){var l,u,c,h;for(l in e)u=e[l],c=t[l],h=Je(l),r(u)||(r(c)?(r(u.fns)&&(u=e[l]=Qe(u,s)),a(h.once)&&(u=e[l]=o(h.name,u,h.capture)),n(h.name,u,h.capture,h.passive,h.params)):u!==c&&(c.fns=u,e[l]=c));for(l in t)r(e[l])&&(h=Je(l),i(h.name,t[l],h.capture))}function tt(e,t,n){var i;e instanceof _e&&(e=e.data.hook||(e.data.hook={}));var o=e[t];function l(){n.apply(this,arguments),w(i.fns,l)}r(o)?i=Qe([l]):s(o.fns)&&a(o.merged)?(i=o,i.fns.push(l)):i=Qe([o,l]),i.merged=!0,e[t]=i}function nt(e,t,n){var i=t.options.props;if(!r(i)){var o={},a=e.attrs,l=e.props;if(s(a)||s(l))for(var u in i){var c=I(u);it(o,l,u,c,!0)||it(o,a,u,c,!1)}return o}}function it(e,t,n,i,o){if(s(t)){if(S(t,n))return e[n]=t[n],o||delete t[n],!0;if(S(t,i))return e[n]=t[i],o||delete t[i],!0}return!1}function ot(e){for(var t=0;t<e.length;t++)if(o(e[t]))return Array.prototype.concat.apply([],e);return e}function rt(e){return u(e)?[ye(e)]:o(e)?at(e):void 0}function st(e){return s(e)&&s(e.text)&&l(e.isComment)}function at(e,t){var n,i,l,c,h=[];for(n=0;n<e.length;n++)i=e[n],r(i)||"boolean"===typeof i||(l=h.length-1,c=h[l],o(i)?i.length>0&&(i=at(i,"".concat(t||"","_").concat(n)),st(i[0])&&st(c)&&(h[l]=ye(c.text+i[0].text),i.shift()),h.push.apply(h,i)):u(i)?st(c)?h[l]=ye(c.text+i):""!==i&&h.push(ye(i)):st(i)&&st(c)?h[l]=ye(c.text+i.text):(a(e._isVList)&&s(i.tag)&&r(i.key)&&s(t)&&(i.key="__vlist".concat(t,"_").concat(n,"__")),h.push(i)));return h}function lt(e,t){var n,i,r,a,l=null;if(o(e)||"string"===typeof e)for(l=new Array(e.length),n=0,i=e.length;n<i;n++)l[n]=t(e[n],n);else if("number"===typeof e)for(l=new Array(e),n=0;n<e;n++)l[n]=t(n+1,n);else if(h(e))if(fe&&e[Symbol.iterator]){l=[];var u=e[Symbol.iterator](),c=u.next();while(!c.done)l.push(t(c.value,l.length)),c=u.next()}else for(r=Object.keys(e),l=new Array(r.length),n=0,i=r.length;n<i;n++)a=r[n],l[n]=t(e[a],a,n);return s(l)||(l=[]),l._isVList=!0,l}function ut(e,t,n,i){var o,r=this.$scopedSlots[e];r?(n=n||{},i&&(n=A(A({},i),n)),o=r(n)||(c(t)?t():t)):o=this.$slots[e]||(c(t)?t():t);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function ct(e){return Si(this.$options,"filters",e,!0)||B}function ht(e,t){return o(e)?-1===e.indexOf(t):e!==t}function dt(e,t,n,i,o){var r=G.keyCodes[t]||n;return o&&i&&!G.keyCodes[t]?ht(o,i):r?ht(r,e):i?I(i)!==t:void 0===e}function pt(e,t,n,i,r){if(n)if(h(n)){o(n)&&(n=M(n));var s=void 0,a=function(o){if("class"===o||"style"===o||b(o))s=e;else{var a=e.attrs&&e.attrs.type;s=i||G.mustUseProp(t,a,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=k(o),u=I(o);if(!(l in s)&&!(u in s)&&(s[o]=n[o],r)){var c=e.on||(e.on={});c["update:".concat(o)]=function(e){n[o]=e}}};for(var l in n)a(l)}else;return e}function ft(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),mt(i,"__static__".concat(e),!1)),i}function gt(e,t,n){return mt(e,"__once__".concat(t).concat(n?"_".concat(n):""),!0),e}function mt(e,t,n){if(o(e))for(var i=0;i<e.length;i++)e[i]&&"string"!==typeof e[i]&&_t(e[i],"".concat(t,"_").concat(i),n);else _t(e,t,n)}function _t(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function vt(e,t){if(t)if(p(t)){var n=e.on=e.on?A({},e.on):{};for(var i in t){var o=n[i],r=t[i];n[i]=o?[].concat(o,r):r}}else;return e}function yt(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var s=e[r];o(s)?yt(s,t,n):s&&(s.proxy&&(s.fn.proxy=!0),t[s.key]=s.fn)}return i&&(t.$key=i),t}function bt(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"===typeof i&&i&&(e[t[n]]=t[n+1])}return e}function wt(e,t){return"string"===typeof e?t+e:e}function Ct(e){e._o=gt,e._n=v,e._s=_,e._l=lt,e._t=ut,e._q=V,e._i=H,e._m=ft,e._f=ct,e._k=dt,e._b=pt,e._v=ye,e._e=ve,e._u=yt,e._g=vt,e._d=bt,e._p=wt}function St(e,t){if(!e||!e.length)return{};for(var n={},i=0,o=e.length;i<o;i++){var r=e[i],s=r.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,r.context!==t&&r.fnContext!==t||!s||null==s.slot)(n.default||(n.default=[])).push(r);else{var a=s.slot,l=n[a]||(n[a]=[]);"template"===r.tag?l.push.apply(l,r.children||[]):l.push(r)}}for(var u in n)n[u].every(Et)&&delete n[u];return n}function Et(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Tt(e){return e.isComment&&e.asyncFactory}function kt(e,t,n,o){var r,s=Object.keys(n).length>0,a=t?!!t.$stable:!s,l=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&o&&o!==i&&l===o.$key&&!s&&!o.$hasNormal)return o;for(var u in r={},t)t[u]&&"$"!==u[0]&&(r[u]=xt(e,n,u,t[u]))}else r={};for(var c in n)c in r||(r[c]=Lt(n,c));return t&&Object.isExtensible(t)&&(t._normalized=r),Y(r,"$stable",a),Y(r,"$key",l),Y(r,"$hasNormal",s),r}function xt(e,t,n,i){var r=function(){var t=ge;me(e);var n=arguments.length?i.apply(null,arguments):i({});n=n&&"object"===typeof n&&!o(n)?[n]:rt(n);var r=n&&n[0];return me(t),n&&(!r||1===n.length&&r.isComment&&!Tt(r))?void 0:n};return i.proxy&&Object.defineProperty(t,n,{get:r,enumerable:!0,configurable:!0}),r}function Lt(e,t){return function(){return e[t]}}function It(e){var t=e.$options,n=t.setup;if(n){var i=e._setupContext=Ot(e);me(e),ke();var o=Yt(n,null,[e._props||We({}),i],e,"setup");if(xe(),me(),c(o))t.render=o;else if(h(o))if(e._setupState=o,o.__sfc){var r=e._setupProxy={};for(var s in o)"__sfc"!==s&&Ge(r,o,s)}else for(var s in o)q(s)||Ge(e,o,s);else 0}}function Ot(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};Y(t,"_v_attr_proxy",!0),Dt(t,e.$attrs,i,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var t=e._listenersProxy={};Dt(t,e.$listeners,i,e,"$listeners")}return e._listenersProxy},get slots(){return Rt(e)},emit:N(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(n){return Ge(e,t,n)}))}}}function Dt(e,t,n,i,o){var r=!1;for(var s in t)s in e?t[s]!==n[s]&&(r=!0):(r=!0,Nt(e,s,i,o));for(var s in e)s in t||(r=!0,delete e[s]);return r}function Nt(e,t,n,i){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return n[i][t]}})}function Rt(e){return e._slotsProxy||At(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function At(e,t){for(var n in t)e[n]=t[n];for(var n in e)n in t||delete e[n]}function Mt(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,o=n&&n.context;e.$slots=St(t._renderChildren,o),e.$scopedSlots=n?kt(e.$parent,n.data.scopedSlots,e.$slots):i,e._c=function(t,n,i,o){return zt(e,t,n,i,o,!1)},e.$createElement=function(t,n,i,o){return zt(e,t,n,i,o,!0)};var r=n&&n.data;Be(e,"$attrs",r&&r.attrs||i,null,!0),Be(e,"$listeners",t._parentListeners||i,null,!0)}var Pt=null;function Ft(e){Ct(e.prototype),e.prototype.$nextTick=function(e){return ln(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&t._isMounted&&(t.$scopedSlots=kt(t.$parent,r.data.scopedSlots,t.$slots,t.$scopedSlots),t._slotsProxy&&At(t._slotsProxy,t.$scopedSlots)),t.$vnode=r;try{me(t),Pt=t,e=i.call(t._renderProxy,t.$createElement)}catch(Zs){qt(Zs,t,"render"),e=t._vnode}finally{Pt=null,me()}return o(e)&&1===e.length&&(e=e[0]),e instanceof _e||(e=ve()),e.parent=r,e}}function Bt(e,t){return(e.__esModule||fe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),h(e)?t.extend(e):e}function Vt(e,t,n,i,o){var r=ve();return r.asyncFactory=e,r.asyncMeta={data:t,context:n,children:i,tag:o},r}function Ht(e,t){if(a(e.error)&&s(e.errorComp))return e.errorComp;if(s(e.resolved))return e.resolved;var n=Pt;if(n&&s(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&s(e.loadingComp))return e.loadingComp;if(n&&!s(e.owners)){var i=e.owners=[n],o=!0,l=null,u=null;n.$on("hook:destroyed",(function(){return w(i,n)}));var c=function(e){for(var t=0,n=i.length;t<n;t++)i[t].$forceUpdate();e&&(i.length=0,null!==l&&(clearTimeout(l),l=null),null!==u&&(clearTimeout(u),u=null))},d=$((function(n){e.resolved=Bt(n,t),o?i.length=0:c(!0)})),p=$((function(t){s(e.errorComp)&&(e.error=!0,c(!0))})),f=e(d,p);return h(f)&&(m(f)?r(e.resolved)&&f.then(d,p):m(f.component)&&(f.component.then(d,p),s(f.error)&&(e.errorComp=Bt(f.error,t)),s(f.loading)&&(e.loadingComp=Bt(f.loading,t),0===f.delay?e.loading=!0:l=setTimeout((function(){l=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,c(!1))}),f.delay||200)),s(f.timeout)&&(u=setTimeout((function(){u=null,r(e.resolved)&&p(null)}),f.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}function $t(e){if(o(e))for(var t=0;t<e.length;t++){var n=e[t];if(s(n)&&(s(n.componentOptions)||Tt(n)))return n}}var Wt=1,Ut=2;function zt(e,t,n,i,r,s){return(o(n)||u(n))&&(r=i,i=n,n=void 0),a(s)&&(r=Ut),jt(e,t,n,i,r)}function jt(e,t,n,i,r){if(s(n)&&s(n.__ob__))return ve();if(s(n)&&s(n.is)&&(t=n.is),!t)return ve();var a,l;if(o(i)&&c(i[0])&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),r===Ut?i=rt(i):r===Wt&&(i=ot(i)),"string"===typeof t){var u=void 0;l=e.$vnode&&e.$vnode.ns||G.getTagNamespace(t),a=G.isReservedTag(t)?new _e(G.parsePlatformTagName(t),n,i,void 0,void 0,e):n&&n.pre||!s(u=Si(e.$options,"components",t))?new _e(t,n,i,void 0,void 0,e):si(u,n,e,i,t)}else a=si(t,n,e,i);return o(a)?a:s(a)?(s(l)&&Gt(a,l),s(n)&&Kt(n),a):ve()}function Gt(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),s(e.children))for(var i=0,o=e.children.length;i<o;i++){var l=e.children[i];s(l.tag)&&(r(l.ns)||a(n)&&"svg"!==l.tag)&&Gt(l,t,n)}}function Kt(e){h(e.style)&&pn(e.style),h(e.class)&&pn(e.class)}function qt(e,t,n){ke();try{if(t){var i=t;while(i=i.$parent){var o=i.$options.errorCaptured;if(o)for(var r=0;r<o.length;r++)try{var s=!1===o[r].call(i,e,t,n);if(s)return}catch(Zs){Xt(Zs,i,"errorCaptured hook")}}}Xt(e,t,n)}finally{xe()}}function Yt(e,t,n,i,o){var r;try{r=n?e.apply(t,n):e.call(t),r&&!r._isVue&&m(r)&&!r._handled&&(r.catch((function(e){return qt(e,i,o+" (Promise/async)")})),r._handled=!0)}catch(Zs){qt(Zs,i,o)}return r}function Xt(e,t,n){if(G.errorHandler)try{return G.errorHandler.call(null,e,t,n)}catch(Zs){Zs!==e&&Zt(Zs,null,"config.errorHandler")}Zt(e,t,n)}function Zt(e,t,n){if(!Q||"undefined"===typeof console)throw e;console.error(e)}var Jt,Qt=!1,en=[],tn=!1;function nn(){tn=!1;var e=en.slice(0);en.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&de(Promise)){var on=Promise.resolve();Jt=function(){on.then(nn),oe&&setTimeout(P)},Qt=!0}else if(te||"undefined"===typeof MutationObserver||!de(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Jt="undefined"!==typeof setImmediate&&de(setImmediate)?function(){setImmediate(nn)}:function(){setTimeout(nn,0)};else{var rn=1,sn=new MutationObserver(nn),an=document.createTextNode(String(rn));sn.observe(an,{characterData:!0}),Jt=function(){rn=(rn+1)%2,an.data=String(rn)},Qt=!0}function ln(e,t){var n;if(en.push((function(){if(e)try{e.call(t)}catch(Zs){qt(Zs,t,"nextTick")}else n&&n(t)})),tn||(tn=!0,Jt()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}function un(e){return function(t,n){if(void 0===n&&(n=ge),n)return cn(n,e,t)}}function cn(e,t,n){var i=e.$options;i[t]=gi(i[t],n)}un("beforeMount"),un("mounted"),un("beforeUpdate"),un("updated"),un("beforeDestroy"),un("destroyed"),un("activated"),un("deactivated"),un("serverPrefetch"),un("renderTracked"),un("renderTriggered"),un("errorCaptured");var hn="2.7.14";var dn=new pe;function pn(e){return fn(e,dn),dn.clear(),e}function fn(e,t){var n,i,r=o(e);if(!(!r&&!h(e)||e.__v_skip||Object.isFrozen(e)||e instanceof _e)){if(e.__ob__){var s=e.__ob__.dep.id;if(t.has(s))return;t.add(s)}if(r){n=e.length;while(n--)fn(e[n],t)}else if(je(e))fn(e.value,t);else{i=Object.keys(e),n=i.length;while(n--)fn(e[i[n]],t)}}}var gn,mn=0,_n=function(){function e(e,t,n,i,o){Xe(this,qe&&!qe._vm?qe:e?e._scope:void 0),(this.vm=e)&&o&&(e._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++mn,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new pe,this.newDepIds=new pe,this.expression="",c(t)?this.getter=t:(this.getter=Z(t),this.getter||(this.getter=P)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;ke(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(Zs){if(!this.user)throw Zs;qt(Zs,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&pn(e),xe(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Yn(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||h(e)||this.deep){var t=this.value;if(this.value=e,this.user){var n='callback for watcher "'.concat(this.expression,'"');Yt(this.cb,this.vm,[e,t],this.vm,n)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function vn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Cn(e,t)}function yn(e,t){gn.$on(e,t)}function bn(e,t){gn.$off(e,t)}function wn(e,t){var n=gn;return function i(){var o=t.apply(null,arguments);null!==o&&n.$off(e,i)}}function Cn(e,t,n){gn=e,et(t,n||{},yn,bn,wn,e),gn=void 0}function Sn(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(o(e))for(var r=0,s=e.length;r<s;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(o(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var s,a=n._events[e];if(!a)return n;if(!t)return n._events[e]=null,n;var l=a.length;while(l--)if(s=a[l],s===t||s.fn===t){a.splice(l,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?R(n):n;for(var i=R(arguments,1),o='event handler for "'.concat(e,'"'),r=0,s=n.length;r<s;r++)Yt(n[r],t,i,t,o)}return t}}var En=null;function Tn(e){var t=En;return En=e,function(){En=t}}function kn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._provided=n?n._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function xn(e){e.prototype._update=function(e,t){var n=this,i=n.$el,o=n._vnode,r=Tn(n);n._vnode=e,n.$el=o?n.__patch__(o,e):n.__patch__(n.$el,e,t,!1),r(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n);var s=n;while(s&&s.$vnode&&s.$parent&&s.$vnode===s.$parent._vnode)s.$parent.$el=s.$el,s=s.$parent},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Rn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||w(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Rn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ln(e,t,n){var i;e.$el=t,e.$options.render||(e.$options.render=ve),Rn(e,"beforeMount"),i=function(){e._update(e._render(),n)};var o={before:function(){e._isMounted&&!e._isDestroyed&&Rn(e,"beforeUpdate")}};new _n(e,i,P,o,!0),n=!1;var r=e._preWatchers;if(r)for(var s=0;s<r.length;s++)r[s].run();return null==e.$vnode&&(e._isMounted=!0,Rn(e,"mounted")),e}function In(e,t,n,o,r){var s=o.data.scopedSlots,a=e.$scopedSlots,l=!!(s&&!s.$stable||a!==i&&!a.$stable||s&&e.$scopedSlots.$key!==s.$key||!s&&e.$scopedSlots.$key),u=!!(r||e.$options._renderChildren||l),c=e.$vnode;e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o),e.$options._renderChildren=r;var h=o.data.attrs||i;e._attrsProxy&&Dt(e._attrsProxy,h,c.data&&c.data.attrs||i,e,"$attrs")&&(u=!0),e.$attrs=h,n=n||i;var d=e.$options._parentListeners;if(e._listenersProxy&&Dt(e._listenersProxy,n,d||i,e,"$listeners"),e.$listeners=e.$options._parentListeners=n,Cn(e,n,d),t&&e.$options.props){Ae(!1);for(var p=e._props,f=e.$options._propKeys||[],g=0;g<f.length;g++){var m=f[g],_=e.$options.props;p[m]=Ei(m,_,t,e)}Ae(!0),e.$options.propsData=t}u&&(e.$slots=St(r,o.context),e.$forceUpdate())}function On(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Dn(e,t){if(t){if(e._directInactive=!1,On(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Dn(e.$children[n]);Rn(e,"activated")}}function Nn(e,t){if((!t||(e._directInactive=!0,!On(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)Nn(e.$children[n]);Rn(e,"deactivated")}}function Rn(e,t,n,i){void 0===i&&(i=!0),ke();var o=ge;i&&me(e);var r=e.$options[t],s="".concat(t," hook");if(r)for(var a=0,l=r.length;a<l;a++)Yt(r[a],e,n||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),i&&me(o),xe()}var An=[],Mn=[],Pn={},Fn=!1,Bn=!1,Vn=0;function Hn(){Vn=An.length=Mn.length=0,Pn={},Fn=Bn=!1}var $n=0,Wn=Date.now;if(Q&&!te){var Un=window.performance;Un&&"function"===typeof Un.now&&Wn()>document.createEvent("Event").timeStamp&&(Wn=function(){return Un.now()})}var zn=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function jn(){var e,t;for($n=Wn(),Bn=!0,An.sort(zn),Vn=0;Vn<An.length;Vn++)e=An[Vn],e.before&&e.before(),t=e.id,Pn[t]=null,e.run();var n=Mn.slice(),i=An.slice();Hn(),qn(n),Gn(i),Se(),he&&G.devtools&&he.emit("flush")}function Gn(e){var t=e.length;while(t--){var n=e[t],i=n.vm;i&&i._watcher===n&&i._isMounted&&!i._isDestroyed&&Rn(i,"updated")}}function Kn(e){e._inactive=!1,Mn.push(e)}function qn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Dn(e[t],!0)}function Yn(e){var t=e.id;if(null==Pn[t]&&(e!==Ee.target||!e.noRecurse)){if(Pn[t]=!0,Bn){var n=An.length-1;while(n>Vn&&An[n].id>e.id)n--;An.splice(n+1,0,e)}else An.push(e);Fn||(Fn=!0,ln(jn))}}function Xn(e){var t=e.$options.provide;if(t){var n=c(t)?t.call(e):t;if(!h(n))return;for(var i=Ze(e),o=fe?Reflect.ownKeys(n):Object.keys(n),r=0;r<o.length;r++){var s=o[r];Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))}}}function Zn(e){var t=Jn(e.$options.inject,e);t&&(Ae(!1),Object.keys(t).forEach((function(n){Be(e,n,t[n])})),Ae(!0))}function Jn(e,t){if(e){for(var n=Object.create(null),i=fe?Reflect.ownKeys(e):Object.keys(e),o=0;o<i.length;o++){var r=i[o];if("__ob__"!==r){var s=e[r].from;if(s in t._provided)n[r]=t._provided[s];else if("default"in e[r]){var a=e[r].default;n[r]=c(a)?a.call(t):a}else 0}}return n}}function Qn(e,t,n,r,s){var l,u=this,c=s.options;S(r,"_uid")?(l=Object.create(r),l._original=r):(l=r,r=r._original);var h=a(c._compiled),d=!h;this.data=e,this.props=t,this.children=n,this.parent=r,this.listeners=e.on||i,this.injections=Jn(c.inject,r),this.slots=function(){return u.$slots||kt(r,e.scopedSlots,u.$slots=St(n,r)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return kt(r,e.scopedSlots,this.slots())}}),h&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=kt(r,e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,i){var s=zt(l,e,t,n,i,d);return s&&!o(s)&&(s.fnScopeId=c._scopeId,s.fnContext=r),s}:this._c=function(e,t,n,i){return zt(l,e,t,n,i,d)}}function ei(e,t,n,r,a){var l=e.options,u={},c=l.props;if(s(c))for(var h in c)u[h]=Ei(h,c,t||i);else s(n.attrs)&&ni(u,n.attrs),s(n.props)&&ni(u,n.props);var d=new Qn(n,u,a,r,e),p=l.render.call(null,d._c,d);if(p instanceof _e)return ti(p,n,d.parent,l,d);if(o(p)){for(var f=rt(p)||[],g=new Array(f.length),m=0;m<f.length;m++)g[m]=ti(f[m],n,d.parent,l,d);return g}}function ti(e,t,n,i,o){var r=be(e);return r.fnContext=n,r.fnOptions=i,t.slot&&((r.data||(r.data={})).slot=t.slot),r}function ni(e,t){for(var n in t)e[k(n)]=t[n]}function ii(e){return e.name||e.__name||e._componentTag}Ct(Qn.prototype);var oi={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;oi.prepatch(n,n)}else{var i=e.componentInstance=ai(e,En);i.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,i=t.componentInstance=e.componentInstance;In(i,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Rn(n,"mounted")),e.data.keepAlive&&(t._isMounted?Kn(n):Dn(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Nn(t,!0):t.$destroy())}},ri=Object.keys(oi);function si(e,t,n,i,o){if(!r(e)){var l=n.$options._base;if(h(e)&&(e=l.extend(e)),"function"===typeof e){var u;if(r(e.cid)&&(u=e,e=Ht(u,l),void 0===e))return Vt(u,t,n,i,o);t=t||{},qi(e),s(t.model)&&ci(e.options,t);var c=nt(t,e,o);if(a(e.options.functional))return ei(e,c,t,n,i);var d=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var p=t.slot;t={},p&&(t.slot=p)}li(t);var f=ii(e.options)||o,g=new _e("vue-component-".concat(e.cid).concat(f?"-".concat(f):""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:c,listeners:d,tag:o,children:i},u);return g}}}function ai(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;return s(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(n)}function li(e){for(var t=e.hook||(e.hook={}),n=0;n<ri.length;n++){var i=ri[n],o=t[i],r=oi[i];o===r||o&&o._merged||(t[i]=o?ui(r,o):r)}}function ui(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function ci(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var r=t.on||(t.on={}),a=r[i],l=t.model.callback;s(a)?(o(a)?-1===a.indexOf(l):a!==l)&&(r[i]=[l].concat(a)):r[i]=l}var hi=P,di=G.optionMergeStrategies;function pi(e,t,n){if(void 0===n&&(n=!0),!t)return e;for(var i,o,r,s=fe?Reflect.ownKeys(t):Object.keys(t),a=0;a<s.length;a++)i=s[a],"__ob__"!==i&&(o=e[i],r=t[i],n&&S(e,i)?o!==r&&p(o)&&p(r)&&pi(o,r):Ve(e,i,r));return e}function fi(e,t,n){return n?function(){var i=c(t)?t.call(n,n):t,o=c(e)?e.call(n,n):e;return i?pi(i,o):o}:t?e?function(){return pi(c(t)?t.call(this,this):t,c(e)?e.call(this,this):e)}:t:e}function gi(e,t){var n=t?e?e.concat(t):o(t)?t:[t]:e;return n?mi(n):n}function mi(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function _i(e,t,n,i){var o=Object.create(e||null);return t?A(o,t):o}di.data=function(e,t,n){return n?fi(e,t,n):t&&"function"!==typeof t?e:fi(e,t)},j.forEach((function(e){di[e]=gi})),z.forEach((function(e){di[e+"s"]=_i})),di.watch=function(e,t,n,i){if(e===ae&&(e=void 0),t===ae&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var s in A(r,e),t){var a=r[s],l=t[s];a&&!o(a)&&(a=[a]),r[s]=a?a.concat(l):o(l)?l:[l]}return r},di.props=di.methods=di.inject=di.computed=function(e,t,n,i){if(!e)return t;var o=Object.create(null);return A(o,e),t&&A(o,t),o},di.provide=function(e,t){return e?function(){var n=Object.create(null);return pi(n,c(e)?e.call(this):e),t&&pi(n,c(t)?t.call(this):t,!1),n}:t};var vi=function(e,t){return void 0===t?e:t};function yi(e,t){var n=e.props;if(n){var i,r,s,a={};if(o(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(s=k(r),a[s]={type:null})}else if(p(n))for(var l in n)r=n[l],s=k(l),a[s]=p(r)?r:{type:r};else 0;e.props=a}}function bi(e,t){var n=e.inject;if(n){var i=e.inject={};if(o(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(p(n))for(var s in n){var a=n[s];i[s]=p(a)?A({from:s},a):{from:a}}else 0}}function wi(e){var t=e.directives;if(t)for(var n in t){var i=t[n];c(i)&&(t[n]={bind:i,update:i})}}function Ci(e,t,n){if(c(t)&&(t=t.options),yi(t,n),bi(t,n),wi(t),!t._base&&(t.extends&&(e=Ci(e,t.extends,n)),t.mixins))for(var i=0,o=t.mixins.length;i<o;i++)e=Ci(e,t.mixins[i],n);var r,s={};for(r in e)a(r);for(r in t)S(e,r)||a(r);function a(i){var o=di[i]||vi;s[i]=o(e[i],t[i],n,i)}return s}function Si(e,t,n,i){if("string"===typeof n){var o=e[t];if(S(o,n))return o[n];var r=k(n);if(S(o,r))return o[r];var s=x(r);if(S(o,s))return o[s];var a=o[n]||o[r]||o[s];return a}}function Ei(e,t,n,i){var o=t[e],r=!S(n,e),s=n[e],a=Ii(Boolean,o.type);if(a>-1)if(r&&!S(o,"default"))s=!1;else if(""===s||s===I(e)){var l=Ii(String,o.type);(l<0||a<l)&&(s=!0)}if(void 0===s){s=Ti(i,o,e);var u=Re;Ae(!0),Fe(s),Ae(u)}return s}function Ti(e,t,n){if(S(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:c(i)&&"Function"!==xi(t.type)?i.call(e):i}}var ki=/^\s*function (\w+)/;function xi(e){var t=e&&e.toString().match(ki);return t?t[1]:""}function Li(e,t){return xi(e)===xi(t)}function Ii(e,t){if(!o(t))return Li(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(Li(t[n],e))return n;return-1}var Oi={enumerable:!0,configurable:!0,get:P,set:P};function Di(e,t,n){Oi.get=function(){return this[t][n]},Oi.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Oi)}function Ni(e){var t=e.$options;if(t.props&&Ri(e,t.props),It(e),t.methods&&$i(e,t.methods),t.data)Ai(e);else{var n=Fe(e._data={});n&&n.vmCount++}t.computed&&Fi(e,t.computed),t.watch&&t.watch!==ae&&Wi(e,t.watch)}function Ri(e,t){var n=e.$options.propsData||{},i=e._props=We({}),o=e.$options._propKeys=[],r=!e.$parent;r||Ae(!1);var s=function(r){o.push(r);var s=Ei(r,t,n,e);Be(i,r,s),r in e||Di(e,"_props",r)};for(var a in t)s(a);Ae(!0)}function Ai(e){var t=e.$options.data;t=e._data=c(t)?Mi(t,e):t||{},p(t)||(t={});var n=Object.keys(t),i=e.$options.props,o=(e.$options.methods,n.length);while(o--){var r=n[o];0,i&&S(i,r)||q(r)||Di(e,"_data",r)}var s=Fe(t);s&&s.vmCount++}function Mi(e,t){ke();try{return e.call(t,t)}catch(Zs){return qt(Zs,t,"data()"),{}}finally{xe()}}var Pi={lazy:!0};function Fi(e,t){var n=e._computedWatchers=Object.create(null),i=ce();for(var o in t){var r=t[o],s=c(r)?r:r.get;0,i||(n[o]=new _n(e,s||P,P,Pi)),o in e||Bi(e,o,r)}}function Bi(e,t,n){var i=!ce();c(n)?(Oi.get=i?Vi(t):Hi(n),Oi.set=P):(Oi.get=n.get?i&&!1!==n.cache?Vi(t):Hi(n.get):P,Oi.set=n.set||P),Object.defineProperty(e,t,Oi)}function Vi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),Ee.target&&t.depend(),t.value}}function Hi(e){return function(){return e.call(this,this)}}function $i(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?P:N(t[n],e)}function Wi(e,t){for(var n in t){var i=t[n];if(o(i))for(var r=0;r<i.length;r++)Ui(e,n,i[r]);else Ui(e,n,i)}}function Ui(e,t,n,i){return p(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,i)}function zi(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ve,e.prototype.$delete=He,e.prototype.$watch=function(e,t,n){var i=this;if(p(t))return Ui(i,e,t,n);n=n||{},n.user=!0;var o=new _n(i,e,t,n);if(n.immediate){var r='callback for immediate watcher "'.concat(o.expression,'"');ke(),Yt(t,i,[o.value],i,r),xe()}return function(){o.teardown()}}}var ji=0;function Gi(e){e.prototype._init=function(e){var t=this;t._uid=ji++,t._isVue=!0,t.__v_skip=!0,t._scope=new Ye(!0),t._scope._vm=!0,e&&e._isComponent?Ki(t,e):t.$options=Ci(qi(t.constructor),e||{},t),t._renderProxy=t,t._self=t,kn(t),vn(t),Mt(t),Rn(t,"beforeCreate",void 0,!1),Zn(t),Ni(t),Xn(t),Rn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Ki(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var o=i.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function qi(e){var t=e.options;if(e.super){var n=qi(e.super),i=e.superOptions;if(n!==i){e.superOptions=n;var o=Yi(e);o&&A(e.extendOptions,o),t=e.options=Ci(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Yi(e){var t,n=e.options,i=e.sealedOptions;for(var o in n)n[o]!==i[o]&&(t||(t={}),t[o]=n[o]);return t}function Xi(e){this._init(e)}function Zi(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=R(arguments,1);return n.unshift(this),c(e.install)?e.install.apply(e,n):c(e)&&e.apply(null,n),t.push(e),this}}function Ji(e){e.mixin=function(e){return this.options=Ci(this.options,e),this}}function Qi(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,o=e._Ctor||(e._Ctor={});if(o[i])return o[i];var r=ii(e)||ii(n.options);var s=function(e){this._init(e)};return s.prototype=Object.create(n.prototype),s.prototype.constructor=s,s.cid=t++,s.options=Ci(n.options,e),s["super"]=n,s.options.props&&eo(s),s.options.computed&&to(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,z.forEach((function(e){s[e]=n[e]})),r&&(s.options.components[r]=s),s.superOptions=n.options,s.extendOptions=e,s.sealedOptions=A({},s.options),o[i]=s,s}}function eo(e){var t=e.options.props;for(var n in t)Di(e.prototype,"_props",n)}function to(e){var t=e.options.computed;for(var n in t)Bi(e.prototype,n,t[n])}function no(e){z.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&p(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&c(n)&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function io(e){return e&&(ii(e.Ctor.options)||e.tag)}function oo(e,t){return o(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!f(e)&&e.test(t)}function ro(e,t){var n=e.cache,i=e.keys,o=e._vnode;for(var r in n){var s=n[r];if(s){var a=s.name;a&&!t(a)&&so(n,r,i,o)}}}function so(e,t,n,i){var o=e[t];!o||i&&o.tag===i.tag||o.componentInstance.$destroy(),e[t]=null,w(n,t)}Gi(Xi),zi(Xi),Sn(Xi),xn(Xi),Ft(Xi);var ao=[String,RegExp,Array],lo={name:"keep-alive",abstract:!0,props:{include:ao,exclude:ao,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,n=e.keys,i=e.vnodeToCache,o=e.keyToCache;if(i){var r=i.tag,s=i.componentInstance,a=i.componentOptions;t[o]={name:io(a),tag:r,componentInstance:s},n.push(o),this.max&&n.length>parseInt(this.max)&&so(t,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)so(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){ro(e,(function(e){return oo(t,e)}))})),this.$watch("exclude",(function(t){ro(e,(function(e){return!oo(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=$t(e),n=t&&t.componentOptions;if(n){var i=io(n),o=this,r=o.include,s=o.exclude;if(r&&(!i||!oo(r,i))||s&&i&&oo(s,i))return t;var a=this,l=a.cache,u=a.keys,c=null==t.key?n.Ctor.cid+(n.tag?"::".concat(n.tag):""):t.key;l[c]?(t.componentInstance=l[c].componentInstance,w(u,c),u.push(c)):(this.vnodeToCache=t,this.keyToCache=c),t.data.keepAlive=!0}return t||e&&e[0]}},uo={KeepAlive:lo};function co(e){var t={get:function(){return G}};Object.defineProperty(e,"config",t),e.util={warn:hi,extend:A,mergeOptions:Ci,defineReactive:Be},e.set=Ve,e.delete=He,e.nextTick=ln,e.observable=function(e){return Fe(e),e},e.options=Object.create(null),z.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,A(e.options.components,uo),Zi(e),Ji(e),Qi(e),no(e)}co(Xi),Object.defineProperty(Xi.prototype,"$isServer",{get:ce}),Object.defineProperty(Xi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Xi,"FunctionalRenderContext",{value:Qn}),Xi.version=hn;var ho=y("style,class"),po=y("input,textarea,option,select,progress"),fo=function(e,t,n){return"value"===n&&po(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},go=y("contenteditable,draggable,spellcheck"),mo=y("events,caret,typing,plaintext-only"),_o=function(e,t){return Co(t)||"false"===t?"false":"contenteditable"===e&&mo(t)?t:"true"},vo=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),yo="http://www.w3.org/1999/xlink",bo=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},wo=function(e){return bo(e)?e.slice(6,e.length):""},Co=function(e){return null==e||!1===e};function So(e){var t=e.data,n=e,i=e;while(s(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(t=Eo(i.data,t));while(s(n=n.parent))n&&n.data&&(t=Eo(t,n.data));return To(t.staticClass,t.class)}function Eo(e,t){return{staticClass:ko(e.staticClass,t.staticClass),class:s(e.class)?[e.class,t.class]:t.class}}function To(e,t){return s(e)||s(t)?ko(e,xo(t)):""}function ko(e,t){return e?t?e+" "+t:e:t||""}function xo(e){return Array.isArray(e)?Lo(e):h(e)?Io(e):"string"===typeof e?e:""}function Lo(e){for(var t,n="",i=0,o=e.length;i<o;i++)s(t=xo(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function Io(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var Oo={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Do=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),No=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ro=function(e){return Do(e)||No(e)};function Ao(e){return No(e)?"svg":"math"===e?"math":void 0}var Mo=Object.create(null);function Po(e){if(!Q)return!0;if(Ro(e))return!1;if(e=e.toLowerCase(),null!=Mo[e])return Mo[e];var t=document.createElement(e);return e.indexOf("-")>-1?Mo[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Mo[e]=/HTMLUnknownElement/.test(t.toString())}var Fo=y("text,number,password,search,email,tel,url");function Bo(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Vo(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function Ho(e,t){return document.createElementNS(Oo[e],t)}function $o(e){return document.createTextNode(e)}function Wo(e){return document.createComment(e)}function Uo(e,t,n){e.insertBefore(t,n)}function zo(e,t){e.removeChild(t)}function jo(e,t){e.appendChild(t)}function Go(e){return e.parentNode}function Ko(e){return e.nextSibling}function qo(e){return e.tagName}function Yo(e,t){e.textContent=t}function Xo(e,t){e.setAttribute(t,"")}var Zo=Object.freeze({__proto__:null,createElement:Vo,createElementNS:Ho,createTextNode:$o,createComment:Wo,insertBefore:Uo,removeChild:zo,appendChild:jo,parentNode:Go,nextSibling:Ko,tagName:qo,setTextContent:Yo,setStyleScope:Xo}),Jo={create:function(e,t){Qo(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Qo(e,!0),Qo(t))},destroy:function(e){Qo(e,!0)}};function Qo(e,t){var n=e.data.ref;if(s(n)){var i=e.context,r=e.componentInstance||e.elm,a=t?null:r,l=t?void 0:r;if(c(n))Yt(n,i,[a],i,"template ref function");else{var u=e.data.refInFor,h="string"===typeof n||"number"===typeof n,d=je(n),p=i.$refs;if(h||d)if(u){var f=h?p[n]:n.value;t?o(f)&&w(f,r):o(f)?f.includes(r)||f.push(r):h?(p[n]=[r],er(i,n,p[n])):n.value=[r]}else if(h){if(t&&p[n]!==r)return;p[n]=l,er(i,n,a)}else if(d){if(t&&n.value!==r)return;n.value=a}else 0}}}function er(e,t,n){var i=e._setupState;i&&S(i,t)&&(je(i[t])?i[t].value=n:i[t]=n)}var tr=new _e("",{},[]),nr=["create","activate","update","remove","destroy"];function ir(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&s(e.data)===s(t.data)&&or(e,t)||a(e.isAsyncPlaceholder)&&r(t.asyncFactory.error))}function or(e,t){if("input"!==e.tag)return!0;var n,i=s(n=e.data)&&s(n=n.attrs)&&n.type,o=s(n=t.data)&&s(n=n.attrs)&&n.type;return i===o||Fo(i)&&Fo(o)}function rr(e,t,n){var i,o,r={};for(i=t;i<=n;++i)o=e[i].key,s(o)&&(r[o]=i);return r}function sr(e){var t,n,i={},l=e.modules,c=e.nodeOps;for(t=0;t<nr.length;++t)for(i[nr[t]]=[],n=0;n<l.length;++n)s(l[n][nr[t]])&&i[nr[t]].push(l[n][nr[t]]);function h(e){return new _e(c.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function n(){0===--n.listeners&&p(e)}return n.listeners=t,n}function p(e){var t=c.parentNode(e);s(t)&&c.removeChild(t,e)}function f(e,t,n,i,o,r,l){if(s(e.elm)&&s(r)&&(e=r[l]=be(e)),e.isRootInsert=!o,!g(e,t,n,i)){var u=e.data,h=e.children,d=e.tag;s(d)?(e.elm=e.ns?c.createElementNS(e.ns,d):c.createElement(d,e),S(e),b(e,h,t),s(u)&&C(e,t),v(n,e.elm,i)):a(e.isComment)?(e.elm=c.createComment(e.text),v(n,e.elm,i)):(e.elm=c.createTextNode(e.text),v(n,e.elm,i))}}function g(e,t,n,i){var o=e.data;if(s(o)){var r=s(e.componentInstance)&&o.keepAlive;if(s(o=o.hook)&&s(o=o.init)&&o(e,!1),s(e.componentInstance))return m(e,t),v(n,e.elm,i),a(r)&&_(e,t,n,i),!0}}function m(e,t){s(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,w(e)?(C(e,t),S(e)):(Qo(e),t.push(e))}function _(e,t,n,o){var r,a=e;while(a.componentInstance)if(a=a.componentInstance._vnode,s(r=a.data)&&s(r=r.transition)){for(r=0;r<i.activate.length;++r)i.activate[r](tr,a);t.push(a);break}v(n,e.elm,o)}function v(e,t,n){s(e)&&(s(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function b(e,t,n){if(o(t)){0;for(var i=0;i<t.length;++i)f(t[i],n,e.elm,null,!0,t,i)}else u(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function w(e){while(e.componentInstance)e=e.componentInstance._vnode;return s(e.tag)}function C(e,n){for(var o=0;o<i.create.length;++o)i.create[o](tr,e);t=e.data.hook,s(t)&&(s(t.create)&&t.create(tr,e),s(t.insert)&&n.push(e))}function S(e){var t;if(s(t=e.fnScopeId))c.setStyleScope(e.elm,t);else{var n=e;while(n)s(t=n.context)&&s(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent}s(t=En)&&t!==e.context&&t!==e.fnContext&&s(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function E(e,t,n,i,o,r){for(;i<=o;++i)f(n[i],r,e,t,!1,n,i)}function T(e){var t,n,o=e.data;if(s(o))for(s(t=o.hook)&&s(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(s(t=e.children))for(n=0;n<e.children.length;++n)T(e.children[n])}function k(e,t,n){for(;t<=n;++t){var i=e[t];s(i)&&(s(i.tag)?(x(i),T(i)):p(i.elm))}}function x(e,t){if(s(t)||s(e.data)){var n,o=i.remove.length+1;for(s(t)?t.listeners+=o:t=d(e.elm,o),s(n=e.componentInstance)&&s(n=n._vnode)&&s(n.data)&&x(n,t),n=0;n<i.remove.length;++n)i.remove[n](e,t);s(n=e.data.hook)&&s(n=n.remove)?n(e,t):t()}else p(e.elm)}function L(e,t,n,i,o){var a,l,u,h,d=0,p=0,g=t.length-1,m=t[0],_=t[g],v=n.length-1,y=n[0],b=n[v],w=!o;while(d<=g&&p<=v)r(m)?m=t[++d]:r(_)?_=t[--g]:ir(m,y)?(O(m,y,i,n,p),m=t[++d],y=n[++p]):ir(_,b)?(O(_,b,i,n,v),_=t[--g],b=n[--v]):ir(m,b)?(O(m,b,i,n,v),w&&c.insertBefore(e,m.elm,c.nextSibling(_.elm)),m=t[++d],b=n[--v]):ir(_,y)?(O(_,y,i,n,p),w&&c.insertBefore(e,_.elm,m.elm),_=t[--g],y=n[++p]):(r(a)&&(a=rr(t,d,g)),l=s(y.key)?a[y.key]:I(y,t,d,g),r(l)?f(y,i,e,m.elm,!1,n,p):(u=t[l],ir(u,y)?(O(u,y,i,n,p),t[l]=void 0,w&&c.insertBefore(e,u.elm,m.elm)):f(y,i,e,m.elm,!1,n,p)),y=n[++p]);d>g?(h=r(n[v+1])?null:n[v+1].elm,E(e,h,n,p,v,i)):p>v&&k(t,d,g)}function I(e,t,n,i){for(var o=n;o<i;o++){var r=t[o];if(s(r)&&ir(e,r))return o}}function O(e,t,n,o,l,u){if(e!==t){s(t.elm)&&s(o)&&(t=o[l]=be(t));var h=t.elm=e.elm;if(a(e.isAsyncPlaceholder))s(t.asyncFactory.resolved)?R(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var d,p=t.data;s(p)&&s(d=p.hook)&&s(d=d.prepatch)&&d(e,t);var f=e.children,g=t.children;if(s(p)&&w(t)){for(d=0;d<i.update.length;++d)i.update[d](e,t);s(d=p.hook)&&s(d=d.update)&&d(e,t)}r(t.text)?s(f)&&s(g)?f!==g&&L(h,f,g,n,u):s(g)?(s(e.text)&&c.setTextContent(h,""),E(h,null,g,0,g.length-1,n)):s(f)?k(f,0,f.length-1):s(e.text)&&c.setTextContent(h,""):e.text!==t.text&&c.setTextContent(h,t.text),s(p)&&s(d=p.hook)&&s(d=d.postpatch)&&d(e,t)}}}function D(e,t,n){if(a(n)&&s(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var N=y("attrs,class,staticClass,staticStyle,key");function R(e,t,n,i){var o,r=t.tag,l=t.data,u=t.children;if(i=i||l&&l.pre,t.elm=e,a(t.isComment)&&s(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(s(l)&&(s(o=l.hook)&&s(o=o.init)&&o(t,!0),s(o=t.componentInstance)))return m(t,n),!0;if(s(r)){if(s(u))if(e.hasChildNodes())if(s(o=l)&&s(o=o.domProps)&&s(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var c=!0,h=e.firstChild,d=0;d<u.length;d++){if(!h||!R(h,u[d],n,i)){c=!1;break}h=h.nextSibling}if(!c||h)return!1}else b(t,u,n);if(s(l)){var p=!1;for(var f in l)if(!N(f)){p=!0,C(t,n);break}!p&&l["class"]&&pn(l["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,o){if(!r(t)){var l=!1,u=[];if(r(e))l=!0,f(t,u);else{var d=s(e.nodeType);if(!d&&ir(e,t))O(e,t,u,null,null,o);else{if(d){if(1===e.nodeType&&e.hasAttribute(U)&&(e.removeAttribute(U),n=!0),a(n)&&R(e,t,u))return D(t,u,!0),e;e=h(e)}var p=e.elm,g=c.parentNode(p);if(f(t,u,p._leaveCb?null:g,c.nextSibling(p)),s(t.parent)){var m=t.parent,_=w(t);while(m){for(var v=0;v<i.destroy.length;++v)i.destroy[v](m);if(m.elm=t.elm,_){for(var y=0;y<i.create.length;++y)i.create[y](tr,m);var b=m.data.hook.insert;if(b.merged)for(var C=1;C<b.fns.length;C++)b.fns[C]()}else Qo(m);m=m.parent}}s(g)?k([e],0,0):s(e.tag)&&T(e)}}return D(t,u,l),t.elm}s(e)&&T(e)}}var ar={create:lr,update:lr,destroy:function(e){lr(e,tr)}};function lr(e,t){(e.data.directives||t.data.directives)&&ur(e,t)}function ur(e,t){var n,i,o,r=e===tr,s=t===tr,a=hr(e.data.directives,e.context),l=hr(t.data.directives,t.context),u=[],c=[];for(n in l)i=a[n],o=l[n],i?(o.oldValue=i.value,o.oldArg=i.arg,pr(o,"update",t,e),o.def&&o.def.componentUpdated&&c.push(o)):(pr(o,"bind",t,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var h=function(){for(var n=0;n<u.length;n++)pr(u[n],"inserted",t,e)};r?tt(t,"insert",h):h()}if(c.length&&tt(t,"postpatch",(function(){for(var n=0;n<c.length;n++)pr(c[n],"componentUpdated",t,e)})),!r)for(n in a)l[n]||pr(a[n],"unbind",e,e,s)}var cr=Object.create(null);function hr(e,t){var n,i,o=Object.create(null);if(!e)return o;for(n=0;n<e.length;n++){if(i=e[n],i.modifiers||(i.modifiers=cr),o[dr(i)]=i,t._setupState&&t._setupState.__sfc){var r=i.def||Si(t,"_setupState","v-"+i.name);i.def="function"===typeof r?{bind:r,update:r}:r}i.def=i.def||Si(t.$options,"directives",i.name,!0)}return o}function dr(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function pr(e,t,n,i,o){var r=e.def&&e.def[t];if(r)try{r(n.elm,e,n,i,o)}catch(Zs){qt(Zs,n.context,"directive ".concat(e.name," ").concat(t," hook"))}}var fr=[Jo,ar];function gr(e,t){var n=t.componentOptions;if((!s(n)||!1!==n.Ctor.options.inheritAttrs)&&(!r(e.data.attrs)||!r(t.data.attrs))){var i,o,l,u=t.elm,c=e.data.attrs||{},h=t.data.attrs||{};for(i in(s(h.__ob__)||a(h._v_attr_proxy))&&(h=t.data.attrs=A({},h)),h)o=h[i],l=c[i],l!==o&&mr(u,i,o,t.data.pre);for(i in(te||ie)&&h.value!==c.value&&mr(u,"value",h.value),c)r(h[i])&&(bo(i)?u.removeAttributeNS(yo,wo(i)):go(i)||u.removeAttribute(i))}}function mr(e,t,n,i){i||e.tagName.indexOf("-")>-1?_r(e,t,n):vo(t)?Co(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):go(t)?e.setAttribute(t,_o(t,n)):bo(t)?Co(n)?e.removeAttributeNS(yo,wo(t)):e.setAttributeNS(yo,t,n):_r(e,t,n)}function _r(e,t,n){if(Co(n))e.removeAttribute(t);else{if(te&&!ne&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var vr={create:gr,update:gr};function yr(e,t){var n=t.elm,i=t.data,o=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(o)||r(o.staticClass)&&r(o.class)))){var a=So(t),l=n._transitionClasses;s(l)&&(a=ko(a,xo(l))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var br,wr={create:yr,update:yr},Cr="__r",Sr="__c";function Er(e){if(s(e[Cr])){var t=te?"change":"input";e[t]=[].concat(e[Cr],e[t]||[]),delete e[Cr]}s(e[Sr])&&(e.change=[].concat(e[Sr],e.change||[]),delete e[Sr])}function Tr(e,t,n){var i=br;return function o(){var r=t.apply(null,arguments);null!==r&&Lr(e,o,n,i)}}var kr=Qt&&!(se&&Number(se[1])<=53);function xr(e,t,n,i){if(kr){var o=$n,r=t;t=r._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return r.apply(this,arguments)}}br.addEventListener(e,t,le?{capture:n,passive:i}:n)}function Lr(e,t,n,i){(i||br).removeEventListener(e,t._wrapper||t,n)}function Ir(e,t){if(!r(e.data.on)||!r(t.data.on)){var n=t.data.on||{},i=e.data.on||{};br=t.elm||e.elm,Er(n),et(n,i,xr,Lr,Tr,t.context),br=void 0}}var Or,Dr={create:Ir,update:Ir,destroy:function(e){return Ir(e,tr)}};function Nr(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var n,i,o=t.elm,l=e.data.domProps||{},u=t.data.domProps||{};for(n in(s(u.__ob__)||a(u._v_attr_proxy))&&(u=t.data.domProps=A({},u)),l)n in u||(o[n]="");for(n in u){if(i=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),i===l[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=i;var c=r(i)?"":String(i);Rr(o,c)&&(o.value=c)}else if("innerHTML"===n&&No(o.tagName)&&r(o.innerHTML)){Or=Or||document.createElement("div"),Or.innerHTML="<svg>".concat(i,"</svg>");var h=Or.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(h.firstChild)o.appendChild(h.firstChild)}else if(i!==l[n])try{o[n]=i}catch(Zs){}}}}function Rr(e,t){return!e.composing&&("OPTION"===e.tagName||Ar(e,t)||Mr(e,t))}function Ar(e,t){var n=!0;try{n=document.activeElement!==e}catch(Zs){}return n&&e.value!==t}function Mr(e,t){var n=e.value,i=e._vModifiers;if(s(i)){if(i.number)return v(n)!==v(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}var Pr={create:Nr,update:Nr},Fr=E((function(e){var t={},n=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function Br(e){var t=Vr(e.style);return e.staticStyle?A(e.staticStyle,t):t}function Vr(e){return Array.isArray(e)?M(e):"string"===typeof e?Fr(e):e}function Hr(e,t){var n,i={};if(t){var o=e;while(o.componentInstance)o=o.componentInstance._vnode,o&&o.data&&(n=Br(o.data))&&A(i,n)}(n=Br(e.data))&&A(i,n);var r=e;while(r=r.parent)r.data&&(n=Br(r.data))&&A(i,n);return i}var $r,Wr=/^--/,Ur=/\s*!important$/,zr=function(e,t,n){if(Wr.test(t))e.style.setProperty(t,n);else if(Ur.test(n))e.style.setProperty(I(t),n.replace(Ur,""),"important");else{var i=Gr(t);if(Array.isArray(n))for(var o=0,r=n.length;o<r;o++)e.style[i]=n[o];else e.style[i]=n}},jr=["Webkit","Moz","ms"],Gr=E((function(e){if($r=$r||document.createElement("div").style,e=k(e),"filter"!==e&&e in $r)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<jr.length;n++){var i=jr[n]+t;if(i in $r)return i}}));function Kr(e,t){var n=t.data,i=e.data;if(!(r(n.staticStyle)&&r(n.style)&&r(i.staticStyle)&&r(i.style))){var o,a,l=t.elm,u=i.staticStyle,c=i.normalizedStyle||i.style||{},h=u||c,d=Vr(t.data.style)||{};t.data.normalizedStyle=s(d.__ob__)?A({},d):d;var p=Hr(t,!0);for(a in h)r(p[a])&&zr(l,a,"");for(a in p)o=p[a],o!==h[a]&&zr(l,a,null==o?"":o)}}var qr={create:Kr,update:Kr},Yr=/\s+/;function Xr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Yr).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" ".concat(e.getAttribute("class")||""," ");n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Zr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Yr).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" ".concat(e.getAttribute("class")||""," "),i=" "+t+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function Jr(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&A(t,Qr(e.name||"v")),A(t,e),t}return"string"===typeof e?Qr(e):void 0}}var Qr=E((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),es=Q&&!ne,ts="transition",ns="animation",is="transition",os="transitionend",rs="animation",ss="animationend";es&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(is="WebkitTransition",os="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(rs="WebkitAnimation",ss="webkitAnimationEnd"));var as=Q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function ls(e){as((function(){as(e)}))}function us(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Xr(e,t))}function cs(e,t){e._transitionClasses&&w(e._transitionClasses,t),Zr(e,t)}function hs(e,t,n){var i=ps(e,t),o=i.type,r=i.timeout,s=i.propCount;if(!o)return n();var a=o===ts?os:ss,l=0,u=function(){e.removeEventListener(a,c),n()},c=function(t){t.target===e&&++l>=s&&u()};setTimeout((function(){l<s&&u()}),r+1),e.addEventListener(a,c)}var ds=/\b(transform|all)(,|$)/;function ps(e,t){var n,i=window.getComputedStyle(e),o=(i[is+"Delay"]||"").split(", "),r=(i[is+"Duration"]||"").split(", "),s=fs(o,r),a=(i[rs+"Delay"]||"").split(", "),l=(i[rs+"Duration"]||"").split(", "),u=fs(a,l),c=0,h=0;t===ts?s>0&&(n=ts,c=s,h=r.length):t===ns?u>0&&(n=ns,c=u,h=l.length):(c=Math.max(s,u),n=c>0?s>u?ts:ns:null,h=n?n===ts?r.length:l.length:0);var d=n===ts&&ds.test(i[is+"Property"]);return{type:n,timeout:c,propCount:h,hasTransform:d}}function fs(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return gs(t)+gs(e[n])})))}function gs(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ms(e,t){var n=e.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Jr(e.data.transition);if(!r(i)&&!s(n._enterCb)&&1===n.nodeType){var o=i.css,a=i.type,l=i.enterClass,u=i.enterToClass,d=i.enterActiveClass,p=i.appearClass,f=i.appearToClass,g=i.appearActiveClass,m=i.beforeEnter,_=i.enter,y=i.afterEnter,b=i.enterCancelled,w=i.beforeAppear,C=i.appear,S=i.afterAppear,E=i.appearCancelled,T=i.duration,k=En,x=En.$vnode;while(x&&x.parent)k=x.context,x=x.parent;var L=!k._isMounted||!e.isRootInsert;if(!L||C||""===C){var I=L&&p?p:l,O=L&&g?g:d,D=L&&f?f:u,N=L&&w||m,R=L&&c(C)?C:_,A=L&&S||y,M=L&&E||b,P=v(h(T)?T.enter:T);0;var F=!1!==o&&!ne,B=ys(R),V=n._enterCb=$((function(){F&&(cs(n,D),cs(n,O)),V.cancelled?(F&&cs(n,I),M&&M(n)):A&&A(n),n._enterCb=null}));e.data.show||tt(e,"insert",(function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),R&&R(n,V)})),N&&N(n),F&&(us(n,I),us(n,O),ls((function(){cs(n,I),V.cancelled||(us(n,D),B||(vs(P)?setTimeout(V,P):hs(n,a,V)))}))),e.data.show&&(t&&t(),R&&R(n,V)),F||B||V()}}}function _s(e,t){var n=e.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var i=Jr(e.data.transition);if(r(i)||1!==n.nodeType)return t();if(!s(n._leaveCb)){var o=i.css,a=i.type,l=i.leaveClass,u=i.leaveToClass,c=i.leaveActiveClass,d=i.beforeLeave,p=i.leave,f=i.afterLeave,g=i.leaveCancelled,m=i.delayLeave,_=i.duration,y=!1!==o&&!ne,b=ys(p),w=v(h(_)?_.leave:_);0;var C=n._leaveCb=$((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),y&&(cs(n,u),cs(n,c)),C.cancelled?(y&&cs(n,l),g&&g(n)):(t(),f&&f(n)),n._leaveCb=null}));m?m(S):S()}function S(){C.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),d&&d(n),y&&(us(n,l),us(n,c),ls((function(){cs(n,l),C.cancelled||(us(n,u),b||(vs(w)?setTimeout(C,w):hs(n,a,C)))}))),p&&p(n,C),y||b||C())}}function vs(e){return"number"===typeof e&&!isNaN(e)}function ys(e){if(r(e))return!1;var t=e.fns;return s(t)?ys(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function bs(e,t){!0!==t.data.show&&ms(t)}var ws=Q?{create:bs,activate:bs,remove:function(e,t){!0!==e.data.show?_s(e,t):t()}}:{},Cs=[vr,wr,Dr,Pr,qr,ws],Ss=Cs.concat(fr),Es=sr({nodeOps:Zo,modules:Ss});ne&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Ns(e,"input")}));var Ts={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?tt(n,"postpatch",(function(){Ts.componentUpdated(e,t,n)})):ks(e,t,n.context),e._vOptions=[].map.call(e.options,Is)):("textarea"===n.tag||Fo(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Os),e.addEventListener("compositionend",Ds),e.addEventListener("change",Ds),ne&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){ks(e,t,n.context);var i=e._vOptions,o=e._vOptions=[].map.call(e.options,Is);if(o.some((function(e,t){return!V(e,i[t])}))){var r=e.multiple?t.value.some((function(e){return Ls(e,o)})):t.value!==t.oldValue&&Ls(t.value,o);r&&Ns(e,"change")}}}};function ks(e,t,n){xs(e,t,n),(te||ie)&&setTimeout((function(){xs(e,t,n)}),0)}function xs(e,t,n){var i=t.value,o=e.multiple;if(!o||Array.isArray(i)){for(var r,s,a=0,l=e.options.length;a<l;a++)if(s=e.options[a],o)r=H(i,Is(s))>-1,s.selected!==r&&(s.selected=r);else if(V(Is(s),i))return void(e.selectedIndex!==a&&(e.selectedIndex=a));o||(e.selectedIndex=-1)}}function Ls(e,t){return t.every((function(t){return!V(t,e)}))}function Is(e){return"_value"in e?e._value:e.value}function Os(e){e.target.composing=!0}function Ds(e){e.target.composing&&(e.target.composing=!1,Ns(e.target,"input"))}function Ns(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Rs(e){return!e.componentInstance||e.data&&e.data.transition?e:Rs(e.componentInstance._vnode)}var As={bind:function(e,t,n){var i=t.value;n=Rs(n);var o=n.data&&n.data.transition,r=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&o?(n.data.show=!0,ms(n,(function(){e.style.display=r}))):e.style.display=i?r:"none"},update:function(e,t,n){var i=t.value,o=t.oldValue;if(!i!==!o){n=Rs(n);var r=n.data&&n.data.transition;r?(n.data.show=!0,i?ms(n,(function(){e.style.display=e.__vOriginalDisplay})):_s(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,i,o){o||(e.style.display=e.__vOriginalDisplay)}},Ms={model:Ts,show:As},Ps={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Fs(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Fs($t(t.children)):e}function Bs(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var o=n._parentListeners;for(var i in o)t[k(i)]=o[i];return t}function Vs(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Hs(e){while(e=e.parent)if(e.data.transition)return!0}function $s(e,t){return t.key===e.key&&t.tag===e.tag}var Ws=function(e){return e.tag||Tt(e)},Us=function(e){return"show"===e.name},zs={name:"transition",props:Ps,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Ws),n.length)){0;var i=this.mode;0;var o=n[0];if(Hs(this.$vnode))return o;var r=Fs(o);if(!r)return o;if(this._leaving)return Vs(e,o);var s="__transition-".concat(this._uid,"-");r.key=null==r.key?r.isComment?s+"comment":s+r.tag:u(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var a=(r.data||(r.data={})).transition=Bs(this),l=this._vnode,c=Fs(l);if(r.data.directives&&r.data.directives.some(Us)&&(r.data.show=!0),c&&c.data&&!$s(r,c)&&!Tt(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var h=c.data.transition=A({},a);if("out-in"===i)return this._leaving=!0,tt(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Vs(e,o);if("in-out"===i){if(Tt(r))return l;var d,p=function(){d()};tt(a,"afterEnter",p),tt(a,"enterCancelled",p),tt(h,"delayLeave",(function(e){d=e}))}}return o}}},js=A({tag:String,moveClass:String},Ps);delete js.mode;var Gs={props:js,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var o=Tn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,o=this.$slots.default||[],r=this.children=[],s=Bs(this),a=0;a<o.length;a++){var l=o[a];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))r.push(l),n[l.key]=l,(l.data||(l.data={})).transition=s;else;}if(i){var u=[],c=[];for(a=0;a<i.length;a++){l=i[a];l.data.transition=s,l.data.pos=l.elm.getBoundingClientRect(),n[l.key]?u.push(l):c.push(l)}this.kept=e(t,null,u),this.removed=c}return e(t,null,r)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ks),e.forEach(qs),e.forEach(Ys),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;us(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(os,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(os,e),n._moveCb=null,cs(n,t))})}})))},methods:{hasMove:function(e,t){if(!es)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Zr(n,e)})),Xr(n,t),n.style.display="none",this.$el.appendChild(n);var i=ps(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function Ks(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function qs(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ys(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,o=t.top-n.top;if(i||o){e.data.moved=!0;var r=e.elm.style;r.transform=r.WebkitTransform="translate(".concat(i,"px,").concat(o,"px)"),r.transitionDuration="0s"}}var Xs={Transition:zs,TransitionGroup:Gs};Xi.config.mustUseProp=fo,Xi.config.isReservedTag=Ro,Xi.config.isReservedAttr=ho,Xi.config.getTagNamespace=Ao,Xi.config.isUnknownElement=Po,A(Xi.options.directives,Ms),A(Xi.options.components,Xs),Xi.prototype.__patch__=Q?Es:P,Xi.prototype.$mount=function(e,t){return e=e&&Q?Bo(e):void 0,Ln(this,e,t)},Q&&setTimeout((function(){G.devtools&&he&&he.emit("init",Xi)}),0)}).call(this,n("c8ba"))},"2ba4":function(e,t,n){var i=n("40d5"),o=Function.prototype,r=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(r):function(){return s.apply(r,arguments)})},"2c64":function(e,t,n){},"2d00":function(e,t,n){var i,o,r=n("da84"),s=n("342f"),a=r.process,l=r.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(i=c.split("."),o=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&s&&(i=s.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/),i&&(o=+i[1]))),e.exports=o},"2ddc":function(e,t,n){var i,o,r;(function(s,a){o=[n("b7fd"),n("a884"),n("49d2"),n("fc06")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e,t,n,i){
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";return e.setLocale(t),e}))},"2f62":function(e,t,n){"use strict";(function(e){
/*!
 * vuex v3.6.2
 * (c) 2021 Evan You
 * @license MIT
 */
function i(e){var t=Number(e.version.split(".")[0]);if(t>=2)e.mixin({beforeCreate:i});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[i].concat(e.init):i,n.call(this,e)}}function i(){var e=this.$options;e.store?this.$store="function"===typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return R}));var o="undefined"!==typeof window?window:"undefined"!==typeof e?e:{},r=o.__VUE_DEVTOOLS_GLOBAL_HOOK__;function s(e){r&&(e._devtoolHook=r,r.emit("vuex:init",e),r.on("vuex:travel-to-state",(function(t){e.replaceState(t)})),e.subscribe((function(e,t){r.emit("vuex:mutation",e,t)}),{prepend:!0}),e.subscribeAction((function(e,t){r.emit("vuex:action",e,t)}),{prepend:!0}))}function a(e,t){return e.filter(t)[0]}function l(e,t){if(void 0===t&&(t=[]),null===e||"object"!==typeof e)return e;var n=a(t,(function(t){return t.original===e}));if(n)return n.copy;var i=Array.isArray(e)?[]:{};return t.push({original:e,copy:i}),Object.keys(e).forEach((function(n){i[n]=l(e[n],t)})),i}function u(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function c(e){return null!==e&&"object"===typeof e}function h(e){return e&&"function"===typeof e.then}function d(e,t){return function(){return e(t)}}var p=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},f={namespaced:{configurable:!0}};f.namespaced.get=function(){return!!this._rawModule.namespaced},p.prototype.addChild=function(e,t){this._children[e]=t},p.prototype.removeChild=function(e){delete this._children[e]},p.prototype.getChild=function(e){return this._children[e]},p.prototype.hasChild=function(e){return e in this._children},p.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},p.prototype.forEachChild=function(e){u(this._children,e)},p.prototype.forEachGetter=function(e){this._rawModule.getters&&u(this._rawModule.getters,e)},p.prototype.forEachAction=function(e){this._rawModule.actions&&u(this._rawModule.actions,e)},p.prototype.forEachMutation=function(e){this._rawModule.mutations&&u(this._rawModule.mutations,e)},Object.defineProperties(p.prototype,f);var g=function(e){this.register([],e,!1)};function m(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return void 0;m(e.concat(i),t.getChild(i),n.modules[i])}}g.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},g.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},g.prototype.update=function(e){m([],this.root,e)},g.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var o=new p(t,n);if(0===e.length)this.root=o;else{var r=this.get(e.slice(0,-1));r.addChild(e[e.length-1],o)}t.modules&&u(t.modules,(function(t,o){i.register(e.concat(o),t,n)}))},g.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],i=t.getChild(n);i&&i.runtime&&t.removeChild(n)},g.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var _;var v=function(e){var t=this;void 0===e&&(e={}),!_&&"undefined"!==typeof window&&window.Vue&&N(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var i=e.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new g(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new _,this._makeLocalGettersCache=Object.create(null);var o=this,r=this,a=r.dispatch,l=r.commit;this.dispatch=function(e,t){return a.call(o,e,t)},this.commit=function(e,t,n){return l.call(o,e,t,n)},this.strict=i;var u=this._modules.root.state;S(this,u,[],this._modules.root),C(this,u),n.forEach((function(e){return e(t)}));var c=void 0!==e.devtools?e.devtools:_.config.devtools;c&&s(this)},y={state:{configurable:!0}};function b(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function w(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;S(e,n,[],e._modules.root,!0),C(e,n,t)}function C(e,t,n){var i=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,r={};u(o,(function(t,n){r[n]=d(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})}));var s=_.config.silent;_.config.silent=!0,e._vm=new _({data:{$$state:t},computed:r}),_.config.silent=s,e.strict&&I(e),i&&(n&&e._withCommit((function(){i._data.$$state=null})),_.nextTick((function(){return i.$destroy()})))}function S(e,t,n,i,o){var r=!n.length,s=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=i),!r&&!o){var a=O(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){_.set(a,l,i.state)}))}var u=i.context=E(e,s,n);i.forEachMutation((function(t,n){var i=s+n;k(e,i,t,u)})),i.forEachAction((function(t,n){var i=t.root?n:s+n,o=t.handler||t;x(e,i,o,u)})),i.forEachGetter((function(t,n){var i=s+n;L(e,i,t,u)})),i.forEachChild((function(i,r){S(e,t,n.concat(r),i,o)}))}function E(e,t,n){var i=""===t,o={dispatch:i?e.dispatch:function(n,i,o){var r=D(n,i,o),s=r.payload,a=r.options,l=r.type;return a&&a.root||(l=t+l),e.dispatch(l,s)},commit:i?e.commit:function(n,i,o){var r=D(n,i,o),s=r.payload,a=r.options,l=r.type;a&&a.root||(l=t+l),e.commit(l,s,a)}};return Object.defineProperties(o,{getters:{get:i?function(){return e.getters}:function(){return T(e,t)}},state:{get:function(){return O(e.state,n)}}}),o}function T(e,t){if(!e._makeLocalGettersCache[t]){var n={},i=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,i)===t){var r=o.slice(i);Object.defineProperty(n,r,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function k(e,t,n,i){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,i.state,t)}))}function x(e,t,n,i){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t);return h(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function L(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)})}function I(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}function O(e,t){return t.reduce((function(e,t){return e[t]}),e)}function D(e,t,n){return c(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function N(e){_&&e===_||(_=e,i(_))}y.state.get=function(){return this._vm._data.$$state},y.state.set=function(e){0},v.prototype.commit=function(e,t,n){var i=this,o=D(e,t,n),r=o.type,s=o.payload,a=(o.options,{type:r,payload:s}),l=this._mutations[r];l&&(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,i.state)})))},v.prototype.dispatch=function(e,t){var n=this,i=D(e,t),o=i.type,r=i.payload,s={type:o,payload:r},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){0}var l=a.length>1?Promise.all(a.map((function(e){return e(r)}))):a[0](r);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){0}t(e)}))}))}},v.prototype.subscribe=function(e,t){return b(e,this._subscribers,t)},v.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return b(n,this._actionSubscribers,t)},v.prototype.watch=function(e,t,n){var i=this;return this._watcherVM.$watch((function(){return e(i.state,i.getters)}),t,n)},v.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._vm._data.$$state=e}))},v.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),S(this,this.state,e,this._modules.get(e),n.preserveState),C(this,this.state)},v.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=O(t.state,e.slice(0,-1));_.delete(n,e[e.length-1])})),w(this)},v.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},v.prototype.hotUpdate=function(e){this._modules.update(e),w(this,!0)},v.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(v.prototype,y);var R=H((function(e,t){var n={};return B(t).forEach((function(t){var i=t.key,o=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=$(this.$store,"mapState",e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[i].vuex=!0})),n})),A=H((function(e,t){var n={};return B(t).forEach((function(t){var i=t.key,o=t.val;n[i]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var i=this.$store.commit;if(e){var r=$(this.$store,"mapMutations",e);if(!r)return;i=r.context.commit}return"function"===typeof o?o.apply(this,[i].concat(t)):i.apply(this.$store,[o].concat(t))}})),n})),M=H((function(e,t){var n={};return B(t).forEach((function(t){var i=t.key,o=t.val;o=e+o,n[i]=function(){if(!e||$(this.$store,"mapGetters",e))return this.$store.getters[o]},n[i].vuex=!0})),n})),P=H((function(e,t){var n={};return B(t).forEach((function(t){var i=t.key,o=t.val;n[i]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var r=$(this.$store,"mapActions",e);if(!r)return;i=r.context.dispatch}return"function"===typeof o?o.apply(this,[i].concat(t)):i.apply(this.$store,[o].concat(t))}})),n})),F=function(e){return{mapState:R.bind(null,e),mapGetters:M.bind(null,e),mapMutations:A.bind(null,e),mapActions:P.bind(null,e)}};function B(e){return V(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function V(e){return Array.isArray(e)||c(e)}function H(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function $(e,t,n){var i=e._modulesNamespaceMap[n];return i}function W(e){void 0===e&&(e={});var t=e.collapsed;void 0===t&&(t=!0);var n=e.filter;void 0===n&&(n=function(e,t,n){return!0});var i=e.transformer;void 0===i&&(i=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var r=e.actionFilter;void 0===r&&(r=function(e,t){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var a=e.logMutations;void 0===a&&(a=!0);var u=e.logActions;void 0===u&&(u=!0);var c=e.logger;return void 0===c&&(c=console),function(e){var h=l(e.state);"undefined"!==typeof c&&(a&&e.subscribe((function(e,r){var s=l(r);if(n(e,h,s)){var a=j(),u=o(e),d="mutation "+e.type+a;U(c,d,t),c.log("%c prev state","color: #9E9E9E; font-weight: bold",i(h)),c.log("%c mutation","color: #03A9F4; font-weight: bold",u),c.log("%c next state","color: #4CAF50; font-weight: bold",i(s)),z(c)}h=s})),u&&e.subscribeAction((function(e,n){if(r(e,n)){var i=j(),o=s(e),a="action "+e.type+i;U(c,a,t),c.log("%c action","color: #03A9F4; font-weight: bold",o),z(c)}})))}}function U(e,t,n){var i=n?e.groupCollapsed:e.group;try{i.call(e,t)}catch(o){e.log(t)}}function z(e){try{e.groupEnd()}catch(t){e.log("—— log end ——")}}function j(){var e=new Date;return" @ "+K(e.getHours(),2)+":"+K(e.getMinutes(),2)+":"+K(e.getSeconds(),2)+"."+K(e.getMilliseconds(),3)}function G(e,t){return new Array(t+1).join(e)}function K(e,t){return G("0",t-e.toString().length)+e}var q={Store:v,install:N,version:"3.6.2",mapState:R,mapMutations:A,mapGetters:M,mapActions:P,createNamespacedHelpers:F,createLogger:W};t["a"]=q}).call(this,n("c8ba"))},"2fa4":function(e,t,n){"use strict";n("20f6");var i=n("80d2");t["a"]=Object(i["h"])("spacer","div","v-spacer")},"30d5":function(e,t,n){},"30db":function(e,t,n){"use strict";(function(e,i){n.d(t,"h",(function(){return _})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return E})),n.d(t,"i",(function(){return T})),n.d(t,"a",(function(){return k}));var o="en",r=!1,s=!1,a=!1,l=!1,u=!1,c=!1,h=void 0,d=void 0,p="undefined"!==typeof e&&"undefined"!==typeof e.versions&&"undefined"!==typeof e.versions.electron&&"renderer"===e.type;if("object"!==typeof navigator||p){if("object"===typeof e){r="win32"===e.platform,s="darwin"===e.platform,a="linux"===e.platform,h=o,o;var f=Object({NODE_ENV:"production",BASE_URL:"/external-question/"})["VSCODE_NLS_CONFIG"];if(f)try{var g=JSON.parse(f),m=g.availableLanguages["*"];h=g.locale,m||o,g._translationsConfigFile}catch(x){}l=!0}}else d=navigator.userAgent,r=d.indexOf("Windows")>=0,s=d.indexOf("Macintosh")>=0,c=d.indexOf("Macintosh")>=0&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,a=d.indexOf("Linux")>=0,u=!0,h=navigator.language,h;var _=r,v=s,y=a,b=l,w=u,C=c,S="object"===typeof self?self:"object"===typeof i?i:{},E=S,T=function(){if(E.setImmediate)return E.setImmediate.bind(E);if("function"===typeof E.postMessage&&!E.importScripts){var t=[];E.addEventListener("message",(function(e){if(e.data&&e.data.vscodeSetImmediateId)for(var n=0,i=t.length;n<i;n++){var o=t[n];if(o.id===e.data.vscodeSetImmediateId)return t.splice(n,1),void o.callback()}}));var n=0;return function(e){var i=++n;t.push({id:i,callback:e}),E.postMessage({vscodeSetImmediateId:i},"*")}}if("undefined"!==typeof e&&"function"===typeof e.nextTick)return e.nextTick.bind(e);var i=Promise.resolve();return function(e){return i.then(e)}}(),k=s?2:r?1:3}).call(this,n("4362"),n("c8ba"))},3206:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n("2b0e"),o=n("d9bd");function r(e,t){return()=>Object(o["c"])(`The ${e} component must be used inside a ${t}`)}function s(e,t,n){const o=t&&n?{register:r(t,n),unregister:r(t,n)}:null;return i["a"].extend({name:"registrable-inject",inject:{[e]:{default:o}}})}function a(e,t=!1){return i["a"].extend({name:"registrable-provide",provide(){return{[e]:t?this:{register:this.register,unregister:this.unregister}}}})}},3408:function(e,t,n){"use strict";e.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},"342f":function(e,t){e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3511:function(e,t){var n=TypeError,i=9007199254740991;e.exports=function(e){if(e>i)throw n("Maximum allowed index exceeded");return e}},"368e":function(e,t,n){},"36a7":function(e,t,n){},"38a2":function(e,t,n){},"38cb":function(e,t,n){"use strict";n("14d9");var i=n("a9ad"),o=n("7560"),r=n("3206"),s=n("80d2"),a=n("d9bd"),l=n("58df");const u=Object(l["a"])(i["a"],Object(r["a"])("form"),o["a"]);t["a"]=u.extend({name:"validatable",props:{disabled:Boolean,error:Boolean,errorCount:{type:[Number,String],default:1},errorMessages:{type:[String,Array],default:()=>[]},messages:{type:[String,Array],default:()=>[]},readonly:Boolean,rules:{type:Array,default:()=>[]},success:Boolean,successMessages:{type:[String,Array],default:()=>[]},validateOnBlur:Boolean,value:{required:!1}},data(){return{errorBucket:[],hasColor:!1,hasFocused:!1,hasInput:!1,isFocused:!1,isResetting:!1,lazyValue:this.value,valid:!1}},computed:{computedColor(){if(!this.isDisabled)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},hasError(){return this.internalErrorMessages.length>0||this.errorBucket.length>0||this.error},hasSuccess(){return this.internalSuccessMessages.length>0||this.success},externalError(){return this.internalErrorMessages.length>0||this.error},hasMessages(){return this.validationTarget.length>0},hasState(){return!this.isDisabled&&(this.hasSuccess||this.shouldValidate&&this.hasError)},internalErrorMessages(){return this.genInternalMessages(this.errorMessages)},internalMessages(){return this.genInternalMessages(this.messages)},internalSuccessMessages(){return this.genInternalMessages(this.successMessages)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("input",e)}},isDisabled(){return this.disabled||!!this.form&&this.form.disabled},isInteractive(){return!this.isDisabled&&!this.isReadonly},isReadonly(){return this.readonly||!!this.form&&this.form.readonly},shouldValidate(){return!!this.externalError||!this.isResetting&&(this.validateOnBlur?this.hasFocused&&!this.isFocused:this.hasInput||this.hasFocused)},validations(){return this.validationTarget.slice(0,Number(this.errorCount))},validationState(){if(!this.isDisabled)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":this.hasColor?this.computedColor:void 0},validationTarget(){return this.internalErrorMessages.length>0?this.internalErrorMessages:this.successMessages&&this.successMessages.length>0?this.internalSuccessMessages:this.messages&&this.messages.length>0?this.internalMessages:this.shouldValidate?this.errorBucket:[]}},watch:{rules:{handler(e,t){Object(s["i"])(e,t)||this.validate()},deep:!0},internalValue(){this.hasInput=!0,this.validateOnBlur||this.$nextTick(this.validate)},isFocused(e){e||this.isDisabled||(this.hasFocused=!0,this.validateOnBlur&&this.$nextTick(this.validate))},isResetting(){setTimeout(()=>{this.hasInput=!1,this.hasFocused=!1,this.isResetting=!1,this.validate()},0)},hasError(e){this.shouldValidate&&this.$emit("update:error",e)},value(e){this.lazyValue=e}},beforeMount(){this.validate()},created(){this.form&&this.form.register(this)},beforeDestroy(){this.form&&this.form.unregister(this)},methods:{genInternalMessages(e){return e?Array.isArray(e)?e:[e]:[]},reset(){this.isResetting=!0,this.internalValue=Array.isArray(this.internalValue)?[]:null},resetValidation(){this.isResetting=!0},validate(e=!1,t){const n=[];t=t||this.internalValue,e&&(this.hasInput=this.hasFocused=!0);for(let i=0;i<this.rules.length;i++){const e=this.rules[i],o="function"===typeof e?e(t):e;!1===o||"string"===typeof o?n.push(o||""):"boolean"!==typeof o&&Object(a["b"])(`Rules should return a string or boolean, received '${typeof o}' instead`,this)}return this.errorBucket=n,this.valid=0===n.length,this.valid}}})},"3a19":function(e,t,n){},"3a34":function(e,t,n){"use strict";var i=n("83ab"),o=n("e8b5"),r=TypeError,s=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!s(e,"length").writable)throw r("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,n){var i=n("e330");e.exports=i({}.isPrototypeOf)},"3bbe":function(e,t,n){var i=n("1626"),o=String,r=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw r("Can't set "+o(e)+" as a prototype")}},"3c65":function(e,t,n){"use strict";var i=n("23e7"),o=n("7b0b"),r=n("07fa"),s=n("3a34"),a=n("083a"),l=n("3511"),u=1!==[].unshift(0),c=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},h=u||!c();i({target:"Array",proto:!0,arity:1,forced:h},{unshift:function(e){var t=o(this),n=r(t),i=arguments.length;if(i){l(n+i);var u=n;while(u--){var c=u+i;u in t?t[c]=t[u]:a(t,c)}for(var h=0;h<i;h++)t[h]=arguments[h]}return s(t,n+i)}})},"3c93":function(e,t,n){},"3d86":function(e,t,n){},"40d5":function(e,t,n){var i=n("d039");e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},"40dc":function(e,t,n){"use strict";n("14d9"),n("8b0d");var i=n("71d9");function o(e,t,n){const{self:i=!1}=t.modifiers||{},o=t.value,r="object"===typeof o&&o.options||{passive:!0},s="function"===typeof o||"handleEvent"in o?o:o.handler,a=i?e:t.arg?document.querySelector(t.arg):window;a&&(a.addEventListener("scroll",s,r),e._onScroll=Object(e._onScroll),e._onScroll[n.context._uid]={handler:s,options:r,target:i?void 0:a})}function r(e,t,n){var i;if(!(null===(i=e._onScroll)||void 0===i?void 0:i[n.context._uid]))return;const{handler:o,options:r,target:s=e}=e._onScroll[n.context._uid];s.removeEventListener("scroll",o,r),delete e._onScroll[n.context._uid]}const s={inserted:o,unbind:r};var a=s,l=n("fe6c"),u=n("58df");function c(e,t=[]){return Object(u["a"])(Object(l["b"])(["absolute","fixed"])).extend({name:"applicationable",props:{app:Boolean},computed:{applicationProperty(){return e}},watch:{app(e,t){t?this.removeApplication(!0):this.callUpdate()},applicationProperty(e,t){this.$vuetify.application.unregister(this._uid,t)}},activated(){this.callUpdate()},created(){for(let e=0,n=t.length;e<n;e++)this.$watch(t[e],this.callUpdate);this.callUpdate()},mounted(){this.callUpdate()},deactivated(){this.removeApplication()},destroyed(){this.removeApplication()},methods:{callUpdate(){this.app&&this.$vuetify.application.register(this._uid,this.applicationProperty,this.updateApplication())},removeApplication(e=!1){(e||this.app)&&this.$vuetify.application.unregister(this._uid,this.applicationProperty)},updateApplication:()=>0}})}var h=n("d9bd"),d=n("2b0e"),p=d["a"].extend({name:"scrollable",directives:{Scroll:s},props:{scrollTarget:String,scrollThreshold:[String,Number]},data:()=>({currentScroll:0,currentThreshold:0,isActive:!1,isScrollingUp:!1,previousScroll:0,savedScroll:0,target:null}),computed:{canScroll(){return"undefined"!==typeof window},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):300}},watch:{isScrollingUp(){this.savedScroll=this.savedScroll||this.currentScroll},isActive(){this.savedScroll=0}},mounted(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget),this.target||Object(h["c"])("Unable to locate element with identifier "+this.scrollTarget,this))},methods:{onScroll(){this.canScroll&&(this.previousScroll=this.currentScroll,this.currentScroll=this.target?this.target.scrollTop:window.pageYOffset,this.isScrollingUp=this.currentScroll<this.previousScroll,this.currentThreshold=Math.abs(this.currentScroll-this.computedScrollThreshold),this.$nextTick(()=>{Math.abs(this.currentScroll-this.savedScroll)>this.computedScrollThreshold&&this.thresholdMet()}))},thresholdMet(){}}}),f=n("d10f"),g=n("f2e7"),m=n("80d2");const _=Object(u["a"])(i["a"],p,f["a"],g["a"],c("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","isExtended","isProminent","value"]));t["a"]=_.extend({name:"v-app-bar",directives:{Scroll:a},provide(){return{VAppBar:this}},props:{clippedLeft:Boolean,clippedRight:Boolean,collapseOnScroll:Boolean,elevateOnScroll:Boolean,fadeImgOnScroll:Boolean,hideOnScroll:Boolean,invertedScroll:Boolean,scrollOffScreen:Boolean,shrinkOnScroll:Boolean,value:{type:Boolean,default:!0}},data(){return{isActive:this.value}},computed:{applicationProperty(){return this.bottom?"bottom":"top"},canScroll(){return p.options.computed.canScroll.call(this)&&(this.invertedScroll||this.elevateOnScroll||this.hideOnScroll||this.collapseOnScroll||this.isBooted||!this.value)},classes(){return{...i["a"].options.computed.classes.call(this),"v-toolbar--collapse":this.collapse||this.collapseOnScroll,"v-app-bar":!0,"v-app-bar--clipped":this.clippedLeft||this.clippedRight,"v-app-bar--fade-img-on-scroll":this.fadeImgOnScroll,"v-app-bar--elevate-on-scroll":this.elevateOnScroll,"v-app-bar--fixed":!this.absolute&&(this.app||this.fixed),"v-app-bar--hide-shadow":this.hideShadow,"v-app-bar--is-scrolled":this.currentScroll>0,"v-app-bar--shrink-on-scroll":this.shrinkOnScroll}},scrollRatio(){const e=this.computedScrollThreshold;return Math.max((e-this.currentScroll)/e,0)},computedContentHeight(){if(!this.shrinkOnScroll)return i["a"].options.computed.computedContentHeight.call(this);const e=this.dense?48:56,t=this.computedOriginalHeight;return e+(t-e)*this.scrollRatio},computedFontSize(){if(!this.isProminent)return;const e=1.25,t=1.5;return e+(t-e)*this.scrollRatio},computedLeft(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedMarginTop(){return this.app?this.$vuetify.application.bar:0},computedOpacity(){if(this.fadeImgOnScroll)return this.scrollRatio},computedOriginalHeight(){let e=i["a"].options.computed.computedContentHeight.call(this);return this.isExtended&&(e+=parseInt(this.extensionHeight)),e},computedRight(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedScrollThreshold(){return this.scrollThreshold?Number(this.scrollThreshold):this.computedOriginalHeight-(this.dense?48:56)},computedTransform(){if(!this.canScroll||this.elevateOnScroll&&0===this.currentScroll&&this.isActive)return 0;if(this.isActive)return 0;const e=this.scrollOffScreen?this.computedHeight:this.computedContentHeight;return this.bottom?e:-e},hideShadow(){return this.elevateOnScroll&&this.isExtended?this.currentScroll<this.computedScrollThreshold:this.elevateOnScroll?0===this.currentScroll||this.computedTransform<0:(!this.isExtended||this.scrollOffScreen)&&0!==this.computedTransform},isCollapsed(){return this.collapseOnScroll?this.currentScroll>0:i["a"].options.computed.isCollapsed.call(this)},isProminent(){return i["a"].options.computed.isProminent.call(this)||this.shrinkOnScroll},styles(){return{...i["a"].options.computed.styles.call(this),fontSize:Object(m["g"])(this.computedFontSize,"rem"),marginTop:Object(m["g"])(this.computedMarginTop),transform:`translateY(${Object(m["g"])(this.computedTransform)})`,left:Object(m["g"])(this.computedLeft),right:Object(m["g"])(this.computedRight)}}},watch:{canScroll:"onScroll",computedTransform(){this.canScroll&&(this.clippedLeft||this.clippedRight)&&this.callUpdate()},invertedScroll(e){this.isActive=!e||0!==this.currentScroll},hideOnScroll(e){this.isActive=!e||this.currentScroll<this.computedScrollThreshold}},created(){this.invertedScroll&&(this.isActive=!1)},methods:{genBackground(){const e=i["a"].options.methods.genBackground.call(this);return e.data=this._b(e.data||{},e.tag,{style:{opacity:this.computedOpacity}}),e},updateApplication(){return this.invertedScroll?0:this.computedHeight+this.computedTransform},thresholdMet(){this.invertedScroll?this.isActive=this.currentScroll>this.computedScrollThreshold:(this.hideOnScroll&&(this.isActive=this.isScrollingUp||this.currentScroll<this.computedScrollThreshold),this.currentThreshold<this.computedScrollThreshold||(this.savedScroll=this.currentScroll))}},render(e){const t=i["a"].options.render.call(this,e);return t.data=t.data||{},this.canScroll&&(t.data.directives=t.data.directives||[],t.data.directives.push({arg:this.scrollTarget,name:"scroll",value:this.onScroll})),t}})},"41a0":function(e,t,n){},4236:function(e,t,n){"use strict";var i=n("0068").isSpace;e.exports=function(e,t){var n,o,r,s=e.pos;if(10!==e.src.charCodeAt(s))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){r=n-1;while(r>=1&&32===e.pending.charCodeAt(r-1))r--;e.pending=e.pending.slice(0,r),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);s++;while(s<o&&i(e.src.charCodeAt(s)))s++;return e.pos=s,!0}},"428d":function(e,t,n){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},"42f0":function(e,t,n){},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,i="/";t.cwd=function(){return i},t.chdir=function(t){e||(e=n("df7c")),i=e.resolve(t,i)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"43a6":function(e,t,n){"use strict";n("ec29"),n("3d86");var i=n("c37a"),o=n("604c"),r=n("58df");const s=Object(r["a"])(o["a"],i["a"]);t["a"]=s.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},i["a"].options.methods.genDefaultSlot.call(this))},genInputSlot(){const e=i["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel(){const e=i["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:o["a"].options.methods.onClick},render(e){const t=i["a"].options.render.call(this,e);return this._b(t.data,"div",this.attrs$),t}})},"43e0":function(e,t,n){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}},"44a8":function(e,t,n){"use strict";e.exports=function(e,t){var n,i,o,r,s,a,l=t+1,u=e.md.block.ruler.getRules("paragraph"),c=e.lineMax;for(a=e.parentType,e.parentType="paragraph";l<c&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3)&&!(e.sCount[l]<0)){for(i=!1,o=0,r=u.length;o<r;o++)if(u[o](e,l,c,!0)){i=!0;break}if(i)break}return n=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,s=e.push("paragraph_open","p",1),s.map=[t,e.line],s=e.push("inline","",0),s.content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),e.parentType=a,!0}},"44ad":function(e,t,n){var i=n("e330"),o=n("d039"),r=n("c6b6"),s=Object,a=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a(e,""):s(e)}:s},"44c7":function(e,t,n){},"44e7":function(e,t,n){var i=n("861d"),o=n("c6b6"),r=n("b622"),s=r("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==o(e))}},4581:function(e,t,n){"use strict";t["a"]=null},4804:function(e,t,n){},"485a":function(e,t,n){var i=n("c65b"),o=n("1626"),r=n("861d"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!r(a=i(n,e)))return a;if(o(n=e.valueOf)&&!r(a=i(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!r(a=i(n,e)))return a;throw s("Can't convert object to primitive value")}},4883:function(e,t,n){"use strict";function i(){this.__rules__=[],this.__cache__=null}i.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},i.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},i.prototype.at=function(e,t,n){var i=this.__find__(e),o=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=o.alt||[],this.__cache__=null},i.prototype.before=function(e,t,n,i){var o=this.__find__(e),r=i||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null},i.prototype.after=function(e,t,n,i){var o=this.__find__(e),r=i||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:r.alt||[]}),this.__cache__=null},i.prototype.push=function(e,t,n){var i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null},i.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!0,n.push(e)}),this),this.__cache__=null,n},i.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},i.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var i=this.__find__(e);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!1,n.push(e)}),this),this.__cache__=null,n},i.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=i},"490a":function(e,t,n){"use strict";n("8d4f");var i=n("90a2"),o=n("a9ad"),r=n("80d2");t["a"]=o["a"].extend({name:"v-progress-circular",directives:{intersect:i["a"]},props:{button:Boolean,indeterminate:Boolean,rotate:{type:[Number,String],default:0},size:{type:[Number,String],default:32},width:{type:[Number,String],default:4},value:{type:[Number,String],default:0}},data:()=>({radius:20,isVisible:!0}),computed:{calculatedSize(){return Number(this.size)+(this.button?8:0)},circumference(){return 2*Math.PI*this.radius},classes(){return{"v-progress-circular--visible":this.isVisible,"v-progress-circular--indeterminate":this.indeterminate,"v-progress-circular--button":this.button}},normalizedValue(){return this.value<0?0:this.value>100?100:parseFloat(this.value)},strokeDashArray(){return Math.round(1e3*this.circumference)/1e3},strokeDashOffset(){return(100-this.normalizedValue)/100*this.circumference+"px"},strokeWidth(){return Number(this.width)/+this.size*this.viewBoxSize*2},styles(){return{height:Object(r["g"])(this.calculatedSize),width:Object(r["g"])(this.calculatedSize)}},svgStyles(){return{transform:`rotate(${Number(this.rotate)}deg)`}},viewBoxSize(){return this.radius/(1-Number(this.width)/+this.size)}},methods:{genCircle(e,t){return this.$createElement("circle",{class:"v-progress-circular__"+e,attrs:{fill:"transparent",cx:2*this.viewBoxSize,cy:2*this.viewBoxSize,r:this.radius,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDashArray,"stroke-dashoffset":t}})},genSvg(){const e=[this.indeterminate||this.genCircle("underlay",0),this.genCircle("overlay",this.strokeDashOffset)];return this.$createElement("svg",{style:this.svgStyles,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:`${this.viewBoxSize} ${this.viewBoxSize} ${2*this.viewBoxSize} ${2*this.viewBoxSize}`}},e)},genInfo(){return this.$createElement("div",{staticClass:"v-progress-circular__info"},this.$slots.default)},onObserve(e,t,n){this.isVisible=n}},render(e){return e("div",this.setTextColor(this.color,{staticClass:"v-progress-circular",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,directives:[{name:"intersect",value:this.onObserve}],style:this.styles,on:this.$listeners}),[this.genSvg(),this.genInfo()])}})},"49d2":function(e,t,n){var i,o,r;(function(s,a){o=[n("75da")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e){
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
return e}))},"4a94":function(e,t,n){"use strict";e.exports=function(e,t){var n,i,o,r,s,a,l,u,c=e.pos,h=e.src.charCodeAt(c);if(96!==h)return!1;n=c,c++,i=e.posMax;while(c<i&&96===e.src.charCodeAt(c))c++;if(o=e.src.slice(n,c),l=o.length,e.backticksScanned&&(e.backticks[l]||0)<=n)return t||(e.pending+=o),e.pos+=l,!0;s=a=c;while(-1!==(s=e.src.indexOf("`",a))){a=s+1;while(a<i&&96===e.src.charCodeAt(a))a++;if(u=a-s,u===l)return t||(r=e.push("code_inline","code",0),r.markup=o,r.content=e.src.slice(c,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=a,!0;e.backticks[u]=s}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=l,!0}},"4b03":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAB8CAQAAAA8hX1TAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAADdcAAA3XAUIom3gAAAkESURBVHja7ZxrbBTXFcePwdiY0LRQ8AMopQ0NzxZCgEB5KeShRBFSPkRtVbX0G1+qKBVVRcSrG8W79393kYuNGzBN0tYJIRgloV+SqA0lwkSxHTcPaKvKBmogSYMNmLW9gIN3//2wr5nZmfXu2uB1NHe+eHfmP3t+955z7rnjmRH5yrblUpDF0ffll/EVUidhGZuFYkAa5Nv5Yfw4eUqCQmECYImEhTZbRFYnVGGhhMQjJSNt/gY5nTAwOQIv2gK8ZNDFES/Ixqxcb1jbXHnLZGASoCw2JsYtJDNtACiUd2Xx7Td+slTLTYuJxhh4OgVgu0lvdrKw1EvZ7TO+UDZJl42LGAGKpM2077xMSANAoXTLFim+fQCdgwCIPG7a94TlHCMKkIkLiYi8ndhzIiVQR9SFkkH8ZlqA+THEsNybojUH8aJ8S6PxVisUSp2NLi/SqNNElmyT5JIEpdwBICQeGZ/vpcSTsjnfS4n0xVyhFI2GYs5tedC4nGOyOHpFfhlfwTqGmcV6gANsYH4EMYv4FIMkGQfgPQzTrkWYWA8wTDJEcGJGOa5efnmrzN/AMwkDEyPAF20B6g26OOIFbmT6iWy8fChHpPBWGD+Xb5kMTAKU8WqK+SHOtAEgySamS6p7pU2+NvzGT2Y1b1pMNMQAt6QAbDPpzU4WZj3ti7l18qUsHW7jC7mJXTYuMtYUGW2mfec5IQ0ASfbSQ2s5XST/lurh7/1CbmJnegARPm7aZ1kP2AB0cwuTs/YMmSIim6RTvnFrgndSehcSEeHbiT0nrIFq40KlpgNOyWWZI2ctC9FhhpjDN9MCzOeXMfNS1gMmgGNMXQ88LANyRXpl8q2eBTbwtBOACGtJkvtsdOFEbGx0OPU2oVTdjolsnHUiMznaJQZZ7gAQoofO64ECKcvqWt+QS4kBu1KCT3KzYykxM7/qoWV2MyoLWWRf+rnlr9vc5ja3ffUaZuIM6Lzp8/67RrH5eY6Qifl5g4CbmZia3eYZ4wK4AC6AC+C20dZYMBzbyE1n4VHu/aMfIDLKAdRoT6DDNgMUugAugAvgArgALoAL4AK4AC6AC5Dj1jB2pAAGRvuCxgVwAVwAF8AFcAFcABfABXABXAAXYNQCXBkWgB4ZqYbDwwGgG0YMQM3G5SEDXNYzREYS4dAQHOmKblCzJb8aGtGcvcozHo9hP1rRhQgiuIRW7MdjnvFZ6y8hggi60KrrstFbMlN213kqp+s69NqOUC/2V04fXI/9Q9EPCaCqRPkQAhFBi97mWxkoZQELAqW+ldiKFkRAhJSvqsRZDxXXY6u9Ht4MR6JuHFbrnyMM6l/419SNG1yhp6EFRAQH7SNBzcZBREC06Gnp9PoV+xs5E/pme73x0HvUy+g2DV83Dqh7047VInwKol2nfU5PL0U7iM/8i617/IvxGYi29L+ilqEdxKep+kTzTcWB6H0r6hNVr/3Qqh4fgdG+CZTaq/zluACq476pg7rZZPwNxOfmdOutyEL/Tqo+2Y/fx1kQ1zQC3zGRz4p6p+rAIlvfbQbx90wcTaRuHN4B0ZKMhaoStIA4mrH+KIhmm1jwLkQQxHuV33LID40gelIRVCWI9qqMH3Krmox2UFUmus2btf40iGdTnecsqBtqHN+I4inSr4Cqw+xI3gr0IaJtn2Py3edbaRsLyxFBKBqMehpCiKhl2WRHvRwR9HkrzO7zEogPqkrSD596F8QB08n2gjjkENpB9NnfRadfBbFPRAT7QP1q1jPUIVDvNWeRMK7vGvS5eD0D1xD2L0mOCoKI+O52+JmwU3ntuxsRBGuKa4oRRMT/vWwBonpP8qk29ScQAYvL3KkfUA/i6xYEgOrlhO4REK2O/RR2Xh+gFcSjeBTEBzmVOf8A1SOxDw1j0QUa+5EF2IprIIhr2G50AzULxNU4u/o9iJ25AOgdoN6L50C9IyeAnSCei59sBYh/mXY/baryTQ+g4ySI2BsN0AT61+Q0AqtBNKM5ea7smn8NiKb4yX4C4qDBeSaizzQTX/PcaQn3n8X+vghaskGGAN4yEJ3oBP3lOQGUg7go6njCSMPTvlhrrQXVesNenfi+CTdAY+JVyxByXDGE9ApjUgbRj37QEIqil6fT+wzvS6gpBnFDcBQEEQbxO8vwmJeK9xsAArFvB3AM10HjnOhfgh5HAy4ZZ4uaYhD91g7QS9Pou4yzhWc8iBtxk35kzuWBOyyn6dOGd0HgAIifJl3IuTpM50L+8rgLObtguuatAHExOXDEf0w/vdnkQL8x7fsniB/G/n4f9K/LKYjXgmhCE4i1OcXAOhDvx4djDL4A9RxTmvsVgtELJerXxjTqvwvE5fgNBWoPiGdyAVAeELWoBZUnpzT6DKj2JD++AGK3tcr0rfKt8kyw5O9dIP6c+PQQiI9zGoGPQf2QehjERzldgvgEVA8mT7cAA+gf/KE2NQvXEQ78wFDcdoO++VmXEvOj06GnCFdBPS/rUmI+iG5TAY4XQHxo7e+U6wVNIP5oQtoD4nUHgKvotS/m8DqIWhER1IJ4LWsHesPkQCIiahLaQPUXZ4SqErwG4rS5cg+Uogf0rbINtMXJss/Uf6tA9HjLYhNaLyLxpJCh+atB9KSsD31zcQVEq8Oi/LtoAdGd6i7YmbpKSDv8U1WHsYLSvwXx38GXk8kuUx0OFZSegzYQ/ara7JV6HnajH0S7nbd7itAIorEmo5dDeorUcRCNyfnXU6RPgOp4ZvqaYqve4kj6D7EL7W04rKqxG4fRFpt3n3da9vm+iTMg3vMO+orIXVNwDMQ585G7pmSrTzveeh724wvTTNyJ57EgrVcuUB2g6nCuTKMliuoAcc670EmfvjL1r8E5UHWktyU2teml+gmEQfVjtSyTq3OBUjSCII6kmhdL1EdAEI32vRco1SdAEG/Ym+ddGNWr45lHW5aXFj1F2B6dvfUpVanWV073TAzcUTldrVeVOAmCCGK7g+9GY2FHrAY7iWf1/Ua9PhXV623O+mG5uOubqqod/s9wWVUPnmmGqrcC/BXHcri8XqjWYzca8T/0oQ+foxG79QOZ344Z1esTRr1ab6//P5G7ylGflo+2AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTA5LTIzVDE5OjI2OjQ4KzAwOjAwGMCiogAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0wOS0yM1QxOToyNjo0OCswMDowMGmdGh4AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},"4b3e":function(e,t,n){"use strict";var i=n("0068").isSpace;function o(e,t){var n,o,r,s;return o=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],n=e.src.charCodeAt(o++),42!==n&&45!==n&&43!==n||o<r&&(s=e.src.charCodeAt(o),!i(s))?-1:o}function r(e,t){var n,o=e.bMarks[t]+e.tShift[t],r=o,s=e.eMarks[t];if(r+1>=s)return-1;if(n=e.src.charCodeAt(r++),n<48||n>57)return-1;for(;;){if(r>=s)return-1;if(n=e.src.charCodeAt(r++),!(n>=48&&n<=57)){if(41===n||46===n)break;return-1}if(r-o>=10)return-1}return r<s&&(n=e.src.charCodeAt(r),!i(n))?-1:r}function s(e,t){var n,i,o=e.level+2;for(n=t+2,i=e.tokens.length-2;n<i;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}e.exports=function(e,t,n,i){var a,l,u,c,h,d,p,f,g,m,_,v,y,b,w,C,S,E,T,k,x,L,I,O,D,N,R,A,M=!1,P=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(i&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(M=!0),(I=r(e,t))>=0){if(p=!0,D=e.bMarks[t]+e.tShift[t],y=Number(e.src.slice(D,I-1)),M&&1!==y)return!1}else{if(!((I=o(e,t))>=0))return!1;p=!1}if(M&&e.skipSpaces(I)>=e.eMarks[t])return!1;if(v=e.src.charCodeAt(I-1),i)return!0;_=e.tokens.length,p?(A=e.push("ordered_list_open","ol",1),1!==y&&(A.attrs=[["start",y]])):A=e.push("bullet_list_open","ul",1),A.map=m=[t,0],A.markup=String.fromCharCode(v),w=t,O=!1,R=e.md.block.ruler.getRules("list"),E=e.parentType,e.parentType="list";while(w<n){L=I,b=e.eMarks[w],d=C=e.sCount[w]+I-(e.bMarks[t]+e.tShift[t]);while(L<b){if(a=e.src.charCodeAt(L),9===a)C+=4-(C+e.bsCount[w])%4;else{if(32!==a)break;C++}L++}if(l=L,h=l>=b?1:C-d,h>4&&(h=1),c=d+h,A=e.push("list_item_open","li",1),A.markup=String.fromCharCode(v),A.map=f=[t,0],p&&(A.info=e.src.slice(D,I-1)),x=e.tight,k=e.tShift[t],T=e.sCount[t],S=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[t]=l-e.bMarks[t],e.sCount[t]=C,l>=b&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!O||(P=!1),O=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=S,e.tShift[t]=k,e.sCount[t]=T,e.tight=x,A=e.push("list_item_close","li",-1),A.markup=String.fromCharCode(v),w=t=e.line,f[1]=w,l=e.bMarks[t],w>=n)break;if(e.sCount[w]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(N=!1,u=0,g=R.length;u<g;u++)if(R[u](e,w,n,!0)){N=!0;break}if(N)break;if(p){if(I=r(e,w),I<0)break;D=e.bMarks[w]+e.tShift[w]}else if(I=o(e,w),I<0)break;if(v!==e.src.charCodeAt(I-1))break}return A=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),A.markup=String.fromCharCode(v),m[1]=w,e.line=w,e.parentType=E,P&&s(e,_),!0}},"4b85":function(e,t,n){},"4c26":function(e,t,n){"use strict";var i=/\r\n?|\n/g,o=/\0/g;e.exports=function(e){var t;t=e.src.replace(i,"\n"),t=t.replace(o,"�"),e.src=t}},"4cb4":function(e,t,n){"use strict";var i=n("4883"),o=[["text",n("baca")],["newline",n("4236")],["escape",n("6e00")],["backticks",n("4a94")],["strikethrough",n("922c").tokenize],["emphasis",n("c8a9").tokenize],["link",n("cd0f")],["image",n("932d")],["autolink",n("28ec")],["html_inline",n("c2d8")],["entity",n("5b54")]],r=[["balance_pairs",n("838d")],["strikethrough",n("922c").postProcess],["emphasis",n("c8a9").postProcess],["text_collapse",n("2085")]];function s(){var e;for(this.ruler=new i,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new i,e=0;e<r.length;e++)this.ruler2.push(r[e][0],r[e][1])}s.prototype.skipToken=function(e){var t,n,i=e.pos,o=this.ruler.getRules(""),r=o.length,s=e.md.options.maxNesting,a=e.cache;if("undefined"===typeof a[i]){if(e.level<s){for(n=0;n<r;n++)if(e.level++,t=o[n](e,!0),e.level--,t)break}else e.pos=e.posMax;t||e.pos++,a[i]=e.pos}else e.pos=a[i]},s.prototype.tokenize=function(e){var t,n,i=this.ruler.getRules(""),o=i.length,r=e.posMax,s=e.md.options.maxNesting;while(e.pos<r){if(e.level<s)for(n=0;n<o;n++)if(t=i[n](e,!1),t)break;if(t){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},s.prototype.parse=function(e,t,n,i){var o,r,s,a=new this.State(e,t,n,i);for(this.tokenize(a),r=this.ruler2.getRules(""),s=r.length,o=0;o<s;o++)r[o](a)},s.prototype.State=n("097b"),e.exports=s},"4d3d":function(e,t,n){},"4d64":function(e,t,n){var i=n("fc6a"),o=n("23cb"),r=n("07fa"),s=function(e){return function(t,n,s){var a,l=i(t),u=r(l),c=o(s,u);if(e&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4e82":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("3206");function o(e,t,n){return Object(i["a"])(e,t,n).extend({name:"groupable",props:{activeClass:{type:String,default(){if(this[e])return this[e].activeClass}},disabled:Boolean},data(){return{isActive:!1}},computed:{groupClasses(){return this.activeClass?{[this.activeClass]:this.isActive}:{}}},created(){this[e]&&this[e].register(this)},beforeDestroy(){this[e]&&this[e].unregister(this)},methods:{toggle(){this.$emit("change")}}})}o("itemGroup")},"4fc2":function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},"4ff9":function(e,t,n){},5029:function(e,t,n){},"50c4":function(e,t,n){var i=n("5926"),o=Math.min;e.exports=function(e){return e>0?o(i(e),9007199254740991):0}},5110:function(e,t,n){(function(e){
/*!
Copyright (c) 2014 Taylor Hakes
Copyright (c) 2014 Forbes Lindesay
 */
(function(e,t){t()})(0,(function(){"use strict";function t(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))}var n=setTimeout;function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function s(e,t){while(3===e._state)e=e._value;0!==e._state?(e._handled=!0,r._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(o){return void l(t.promise,o)}a(t.promise,i)}else(1===e._state?a:l)(t.promise,e._value)}))):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===typeof t||"function"===typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void u(e);if("function"===typeof n)return void h(o(n,t),e)}e._state=1,e._value=t,u(e)}catch(i){l(e,i)}}function l(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&r._immediateFn((function(){e._handled||r._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,a(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(i){if(n)return;n=!0,l(t,i)}}r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(i);return s(this,new c(e,t,n)),n},r.prototype["finally"]=t,r.all=function(e){return new r((function(t,n){if(!e||"undefined"===typeof e.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function r(e,s){try{if(s&&("object"===typeof s||"function"===typeof s)){var a=s.then;if("function"===typeof a)return void a.call(s,(function(t){r(e,t)}),n)}i[e]=s,0===--o&&t(i)}catch(l){n(l)}}for(var s=0;s<i.length;s++)r(s,i[s])}))},r.resolve=function(e){return e&&"object"===typeof e&&e.constructor===r?e:new r((function(t){t(e)}))},r.reject=function(e){return new r((function(t,n){n(e)}))},r.race=function(e){return new r((function(t,n){for(var i=0,o=e.length;i<o;i++)e[i].then(t,n)}))},r._immediateFn="function"===typeof setImmediate&&function(e){setImmediate(e)}||function(e){n(e,0)},r._unhandledRejectionFn=function(e){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var d=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")}();"Promise"in d?d.Promise.prototype["finally"]||(d.Promise.prototype["finally"]=t):d["Promise"]=r}))}).call(this,n("c8ba"))},"52c8":function(e,t,n){},"54ca":function(e,t,n){var i,o,r;(function(s,a){o=[n("2ddc")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e){
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
return e}))},"54f2":function(e,t,n){},5607:function(e,t,n){"use strict";n("7435");var i=n("80d2");const o=80;function r(e,t){e.style.transform=t,e.style.webkitTransform=t}function s(e){return"TouchEvent"===e.constructor.name}function a(e){return"KeyboardEvent"===e.constructor.name}const l=(e,t,n={})=>{let i=0,o=0;if(!a(e)){const n=t.getBoundingClientRect(),r=s(e)?e.touches[e.touches.length-1]:e;i=r.clientX-n.left,o=r.clientY-n.top}let r=0,l=.3;t._ripple&&t._ripple.circle?(l=.15,r=t.clientWidth/2,r=n.center?r:r+Math.sqrt((i-r)**2+(o-r)**2)/4):r=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const u=(t.clientWidth-2*r)/2+"px",c=(t.clientHeight-2*r)/2+"px",h=n.center?u:i-r+"px",d=n.center?c:o-r+"px";return{radius:r,scale:l,x:h,y:d,centerX:u,centerY:c}},u={show(e,t,n={}){if(!t._ripple||!t._ripple.enabled)return;const i=document.createElement("span"),o=document.createElement("span");i.appendChild(o),i.className="v-ripple__container",n.class&&(i.className+=" "+n.class);const{radius:s,scale:a,x:u,y:c,centerX:h,centerY:d}=l(e,t,n),p=2*s+"px";o.className="v-ripple__animation",o.style.width=p,o.style.height=p,t.appendChild(i);const f=window.getComputedStyle(t);f&&"static"===f.position&&(t.style.position="relative",t.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),r(o,`translate(${u}, ${c}) scale3d(${a},${a},${a})`),o.dataset.activated=String(performance.now()),setTimeout(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),r(o,`translate(${h}, ${d}) scale3d(1,1,1)`)},0)},hide(e){if(!e||!e._ripple||!e._ripple.enabled)return;const t=e.getElementsByClassName("v-ripple__animation");if(0===t.length)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),o=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var t;const i=e.getElementsByClassName("v-ripple__animation");1===i.length&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),(null===(t=n.parentNode)||void 0===t?void 0:t.parentNode)===e&&e.removeChild(n.parentNode)},300)},o)}};function c(e){return"undefined"===typeof e||!!e}function h(e){const t={},n=e.currentTarget;if(n&&n._ripple&&!n._ripple.touched&&!e.rippleStop){if(e.rippleStop=!0,s(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||a(e),n._ripple.class&&(t.class=n._ripple.class),s(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{u.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{n&&n._ripple&&n._ripple.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},o)}else u.show(e,n,t)}}function d(e){const t=e.currentTarget;if(t&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),"touchend"===e.type&&t._ripple.showTimerCommit)return t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,void(t._ripple.showTimer=setTimeout(()=>{d(e)}));window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),u.hide(t)}}function p(e){const t=e.currentTarget;t&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let f=!1;function g(e){f||e.keyCode!==i["q"].enter&&e.keyCode!==i["q"].space||(f=!0,h(e))}function m(e){f=!1,d(e)}function _(e){!0===f&&(f=!1,d(e))}function v(e,t,n){const i=c(t.value);i||u.hide(e),e._ripple=e._ripple||{},e._ripple.enabled=i;const o=t.value||{};o.center&&(e._ripple.centered=!0),o.class&&(e._ripple.class=t.value.class),o.circle&&(e._ripple.circle=o.circle),i&&!n?(e.addEventListener("touchstart",h,{passive:!0}),e.addEventListener("touchend",d,{passive:!0}),e.addEventListener("touchmove",p,{passive:!0}),e.addEventListener("touchcancel",d),e.addEventListener("mousedown",h),e.addEventListener("mouseup",d),e.addEventListener("mouseleave",d),e.addEventListener("keydown",g),e.addEventListener("keyup",m),e.addEventListener("blur",_),e.addEventListener("dragstart",d,{passive:!0})):!i&&n&&y(e)}function y(e){e.removeEventListener("mousedown",h),e.removeEventListener("touchstart",h),e.removeEventListener("touchend",d),e.removeEventListener("touchmove",p),e.removeEventListener("touchcancel",d),e.removeEventListener("mouseup",d),e.removeEventListener("mouseleave",d),e.removeEventListener("keydown",g),e.removeEventListener("keyup",m),e.removeEventListener("dragstart",d),e.removeEventListener("blur",_)}function b(e,t,n){v(e,t,!1)}function w(e){delete e._ripple,y(e)}function C(e,t){if(t.value===t.oldValue)return;const n=c(t.oldValue);v(e,t,n)}const S={bind:b,unbind:w,update:C};t["a"]=S},"565b":function(e,t,n){"use strict";t.parseLinkLabel=n("df56"),t.parseLinkDestination=n("e4ca"),t.parseLinkTitle=n("7d91")},5692:function(e,t,n){var i=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.28.0",mode:i?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},"56a4":function(e,t,n){"use strict";n("14d9");var i=n("9d26"),o=n("a9ad"),r=n("3206"),s=n("5607"),a=n("58df"),l=n("80d2");const u=Object(a["a"])(o["a"],Object(r["a"])("stepper","v-stepper-step","v-stepper"));t["a"]=u.extend().extend({name:"v-stepper-step",directives:{ripple:s["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:()=>[]},step:[Number,String]},data(){return{isActive:!1,isInactive:!0}},computed:{classes(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError(){return this.rules.some(e=>!0!==e())}},mounted(){this.stepper&&this.stepper.register(this)},beforeDestroy(){this.stepper&&this.stepper.unregister(this)},methods:{click(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon(e){return this.$createElement(i["a"],e)},genLabel(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep(){const e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent(){const e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},keyboardClick(e){e.keyCode===l["q"].space&&this.click(e)},toggle(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render(e){return e("div",{attrs:{tabindex:this.editable?0:-1},staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click,keydown:this.keyboardClick}},[this.genStep(),this.genLabel()])}})},"56dc":function(e,t,n){},"56ef":function(e,t,n){var i=n("d066"),o=n("e330"),r=n("241c"),s=n("7418"),a=n("825a"),l=o([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(a(e)),n=s.f;return n?l(t,n(e)):t}},"56f3":function(e,t,n){},5706:function(e,t,n){"use strict";var i="[a-zA-Z_:][a-zA-Z0-9:._-]*",o="[^\"'=<>`\\x00-\\x20]+",r="'[^']*'",s='"[^"]*"',a="(?:"+o+"|"+r+"|"+s+")",l="(?:\\s+"+i+"(?:\\s*=\\s*"+a+")?)",u="<[A-Za-z][A-Za-z0-9\\-]*"+l+"*\\s*\\/?>",c="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",h="\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e",d="<[?][\\s\\S]*?[?]>",p="<![A-Z]+\\s+[^>]*>",f="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",g=new RegExp("^(?:"+u+"|"+c+"|"+h+"|"+d+"|"+p+"|"+f+")"),m=new RegExp("^(?:"+u+"|"+c+")");e.exports.HTML_TAG_RE=g,e.exports.HTML_OPEN_CLOSE_TAG_RE=m},"577e":function(e,t,n){var i=n("f5df"),o=String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},"58df":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("2b0e");function o(...e){return i["a"].extend({mixins:e})}},5926:function(e,t,n){var i=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},"59ed":function(e,t,n){var i=n("1626"),o=n("0d51"),r=TypeError;e.exports=function(e){if(i(e))return e;throw r(o(e)+" is not a function")}},"5b54":function(e,t,n){"use strict";var i=n("bd68"),o=n("0068").has,r=n("0068").isValidEntityCode,s=n("0068").fromCodePoint,a=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,u,c,h=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(h))return!1;if(h+1<d)if(n=e.src.charCodeAt(h+1),35===n){if(c=e.src.slice(h).match(a),c)return t||(u="x"===c[1][0].toLowerCase()?parseInt(c[1].slice(1),16):parseInt(c[1],10),e.pending+=r(u)?s(u):s(65533)),e.pos+=c[0].length,!0}else if(c=e.src.slice(h).match(l),c&&o(i,c[1]))return t||(e.pending+=i[c[1]]),e.pos+=c[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},"5b81":function(e,t,n){"use strict";var i=n("23e7"),o=n("c65b"),r=n("e330"),s=n("1d80"),a=n("1626"),l=n("7234"),u=n("44e7"),c=n("577e"),h=n("dc4a"),d=n("90d8"),p=n("0cb2"),f=n("b622"),g=n("c430"),m=f("replace"),_=TypeError,v=r("".indexOf),y=r("".replace),b=r("".slice),w=Math.max,C=function(e,t,n){return n>e.length?-1:""===t?n:v(e,t,n)};i({target:"String",proto:!0},{replaceAll:function(e,t){var n,i,r,f,S,E,T,k,x,L=s(this),I=0,O=0,D="";if(!l(e)){if(n=u(e),n&&(i=c(s(d(e))),!~v(i,"g")))throw _("`.replaceAll` does not allow non-global regexes");if(r=h(e,m),r)return o(r,e,L,t);if(g&&n)return y(c(L),e,t)}f=c(L),S=c(e),E=a(t),E||(t=c(t)),T=S.length,k=w(1,T),I=C(f,S,0);while(-1!==I)x=E?c(t(S,I,f)):p(S,f,I,[],void 0,t),D+=b(f,O,I)+x,O=I+T,I=C(f,S,I+k);return O<f.length&&(D+=b(f,O)),D}})},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5cdb":function(e,t,n){},"5d70":function(e,t,n){},"5e23":function(e,t,n){},"5e77":function(e,t,n){var i=n("83ab"),o=n("1a2d"),r=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=o(r,"name"),l=a&&"something"===function(){}.name,u=a&&(!i||i&&s(r,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},"5fbd":function(e,t,n){"use strict";var i=n("e1f3"),o=n("5706").HTML_OPEN_CLOSE_TAG_RE,r=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+i.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,i){var o,s,a,l,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(l=e.src.slice(u,c),o=0;o<r.length;o++)if(r[o][0].test(l))break;if(o===r.length)return!1;if(i)return r[o][2];if(s=t+1,!r[o][1].test(l))for(;s<n;s++){if(e.sCount[s]<e.blkIndent)break;if(u=e.bMarks[s]+e.tShift[s],c=e.eMarks[s],l=e.src.slice(u,c),r[o][1].test(l)){0!==l.length&&s++;break}}return e.line=s,a=e.push("html_block","",0),a.map=[t,s],a.content=e.getLines(t,s,e.blkIndent,!0),!0}},"600f":function(e,t,n){"use strict";
/*!
 * nano-assign v1.0.1
 * (c) 2018-present egoist <0x142857@gmail.com>
 * Released under the MIT License.
 */var i=function(e){for(var t=arguments,n=1;n<arguments.length;n++)for(var i in arguments[n])e[i]=t[n][i];return e};e.exports=i},"604c":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("14d9"),n("166a");var i=n("8547"),o=n("a452"),r=n("7560"),s=n("58df"),a=n("d9bd");const l=Object(s["a"])(i["a"],o["a"],r["a"]).extend({name:"base-item-group",props:{activeClass:{type:String,default:"v-item--active"},mandatory:Boolean,max:{type:[Number,String],default:null},multiple:Boolean,tag:{type:String,default:"div"}},data(){return{internalLazyValue:void 0!==this.value?this.value:this.multiple?[]:void 0,items:[]}},computed:{classes(){return{"v-item-group":!0,...this.themeClasses}},selectedIndex(){return this.selectedItem&&this.items.indexOf(this.selectedItem)||-1},selectedItem(){if(!this.multiple)return this.selectedItems[0]},selectedItems(){return this.items.filter((e,t)=>this.toggleMethod(this.getValue(e,t)))},selectedValues(){return null==this.internalValue?[]:Array.isArray(this.internalValue)?this.internalValue:[this.internalValue]},toggleMethod(){if(!this.multiple)return e=>this.valueComparator(this.internalValue,e);const e=this.internalValue;return Array.isArray(e)?t=>e.some(e=>this.valueComparator(e,t)):()=>!1}},watch:{internalValue:"updateItemsState",items:"updateItemsState"},created(){this.multiple&&!Array.isArray(this.internalValue)&&Object(a["c"])("Model must be bound to an array if the multiple property is true.",this)},methods:{genData(){return{class:this.classes}},getValue(e,t){return void 0===e.value?t:e.value},onClick(e){this.updateInternalValue(this.getValue(e,this.items.indexOf(e)))},register(e){const t=this.items.push(e)-1;e.$on("change",()=>this.onClick(e)),this.mandatory&&!this.selectedValues.length&&this.updateMandatory(),this.updateItem(e,t)},unregister(e){if(this._isDestroyed)return;const t=this.items.indexOf(e),n=this.getValue(e,t);this.items.splice(t,1);const i=this.selectedValues.indexOf(n);if(!(i<0)){if(!this.mandatory)return this.updateInternalValue(n);this.multiple&&Array.isArray(this.internalValue)?this.internalValue=this.internalValue.filter(e=>e!==n):this.internalValue=void 0,this.selectedItems.length||this.updateMandatory(!0)}},updateItem(e,t){const n=this.getValue(e,t);e.isActive=this.toggleMethod(n)},updateItemsState(){this.$nextTick(()=>{if(this.mandatory&&!this.selectedItems.length)return this.updateMandatory();this.items.forEach(this.updateItem)})},updateInternalValue(e){this.multiple?this.updateMultiple(e):this.updateSingle(e)},updateMandatory(e){if(!this.items.length)return;const t=this.items.slice();e&&t.reverse();const n=t.find(e=>!e.disabled);if(!n)return;const i=this.items.indexOf(n);this.updateInternalValue(this.getValue(n,i))},updateMultiple(e){const t=Array.isArray(this.internalValue)?this.internalValue:[],n=t.slice(),i=n.findIndex(t=>this.valueComparator(t,e));this.mandatory&&i>-1&&n.length-1<1||null!=this.max&&i<0&&n.length+1>this.max||(i>-1?n.splice(i,1):n.push(e),this.internalValue=n)},updateSingle(e){const t=this.valueComparator(this.internalValue,e);this.mandatory&&t||(this.internalValue=t?void 0:e)}},render(e){return e(this.tag,this.genData(),this.$slots.default)}});l.extend({name:"v-item-group",provide(){return{itemGroup:this}}})},"605d":function(e,t,n){(function(t){var i=n("c6b6");e.exports="undefined"!=typeof t&&"process"==i(t)}).call(this,n("4362"))},"607c":function(e,t,n){},"608c":function(e,t,n){},"615b":function(e,t,n){},"62ad":function(e,t,n){"use strict";n("13d5"),n("14d9"),n("4b85");var i=n("2b0e"),o=n("d9f7"),r=n("80d2");const s=["sm","md","lg","xl"],a=(()=>s.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}))(),l=(()=>s.reduce((e,t)=>(e["offset"+Object(r["v"])(t)]={type:[String,Number],default:null},e),{}))(),u=(()=>s.reduce((e,t)=>(e["order"+Object(r["v"])(t)]={type:[String,Number],default:null},e),{}))(),c={col:Object.keys(a),offset:Object.keys(l),order:Object.keys(u)};function h(e,t,n){let i=e;if(null!=n&&!1!==n){if(t){const n=t.replace(e,"");i+="-"+n}return"col"!==e||""!==n&&!0!==n?(i+="-"+n,i.toLowerCase()):i.toLowerCase()}}const d=new Map;t["a"]=i["a"].extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...a,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...u,alignSelf:{type:String,default:null,validator:e=>["auto","start","end","center","baseline","stretch"].includes(e)},tag:{type:String,default:"div"}},render(e,{props:t,data:n,children:i,parent:r}){let s="";for(const o in t)s+=String(t[o]);let a=d.get(s);if(!a){let e;for(e in a=[],c)c[e].forEach(n=>{const i=t[n],o=h(e,n,i);o&&a.push(o)});const n=a.some(e=>e.startsWith("col-"));a.push({col:!n||!t.cols,["col-"+t.cols]:t.cols,["offset-"+t.offset]:t.offset,["order-"+t.order]:t.order,["align-self-"+t.alignSelf]:t.alignSelf}),d.set(s,a)}return e(t.tag,Object(o["a"])(n,{class:a}),i)}})},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},6374:function(e,t,n){var i=n("da84"),o=Object.defineProperty;e.exports=function(e,t){try{o(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},"67b6":function(e,t,n){"use strict";n("2c64");var i=n("ba87"),o=n("9d26"),r=n("c37a"),s=n("7e2b"),a=n("a9ad"),l=n("4e82"),u=(n("14d9"),n("5607")),c=n("2b0e"),h=c["a"].extend({name:"rippleable",directives:{ripple:u["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(e={}){return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),d=n("7560"),p=n("8547"),f=n("58df");function g(e){e.preventDefault()}var m=Object(f["a"])(r["a"],h,p["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const e=this.value,t=this.internalValue;return this.isMultiple?!!Array.isArray(t)&&t.some(t=>this.valueComparator(t,e)):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,t):Boolean(t):this.valueComparator(t,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel(){const e=r["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:g},e):e},genInput(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:g},ref:"input"})},onClick(e){this.onChange(),this.$emit("click",e)},onChange(){if(!this.isInteractive)return;const e=this.value;let t=this.internalValue;if(this.isMultiple){Array.isArray(t)||(t=[]);const n=t.length;t=t.filter(t=>!this.valueComparator(t,e)),t.length===n&&t.push(e)}else t=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(t,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(t,e)?null:e:!t;this.validate(!0,t),this.internalValue=t,this.hasColor=t},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onKeydown(e){}}}),_=n("80d2"),v=n("d9f7");const y=Object(f["a"])(s["a"],a["a"],h,Object(l["a"])("radioGroup"),d["a"]);t["a"]=y.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){if(!this.isDisabled)return m.options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return r["a"].options.computed.computedId.call(this)},hasLabel:r["a"].options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-"+this.radioGroup._uid},rippleState(){return m.options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(e){return m.options.methods.genInput.call(this,"radio",e)},genLabel(){return this.hasLabel?this.$createElement(i["a"],{on:{click:g},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(_["m"])(this,"label")||this.label):null},genRadio(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(o["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...t}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(e){const t={staticClass:"v-radio",class:this.classes,on:Object(v["b"])({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return e("div",t,[this.genRadio(),this.genLabel()])}})},"69f3":function(e,t,n){var i,o,r,s=n("cdce"),a=n("da84"),l=n("861d"),u=n("9112"),c=n("1a2d"),h=n("c6cd"),d=n("f772"),p=n("d012"),f="Object already initialized",g=a.TypeError,m=a.WeakMap,_=function(e){return r(e)?o(e):i(e,{})},v=function(e){return function(t){var n;if(!l(t)||(n=o(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(s||h.state){var y=h.state||(h.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,i=function(e,t){if(y.has(e))throw g(f);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},r=function(e){return y.has(e)}}else{var b=d("state");p[b]=!0,i=function(e,t){if(c(e,b))throw g(f);return t.facade=e,u(e,b,t),t},o=function(e){return c(e,b)?e[b]:{}},r=function(e){return c(e,b)}}e.exports={set:i,get:o,has:r,enforce:_,getterFor:v}},"6e00":function(e,t,n){"use strict";for(var i=n("0068").isSpace,o=[],r=0;r<256;r++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,r=e.pos,s=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(r++,r<s){if(n=e.src.charCodeAt(r),n<256&&0!==o[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){t||e.push("hardbreak","br",0),r++;while(r<s){if(n=e.src.charCodeAt(r),!i(n))break;r++}return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}},"6ece":function(e,t,n){},"6f19":function(e,t,n){var i=n("9112"),o=n("0d26"),r=n("b980"),s=Error.captureStackTrace;e.exports=function(e,t,n,a){r&&(s?s(e,t):i(e,"stack",o(n,a)))}},"6fd1":function(e,t){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},7133:function(e,t,n){"use strict";var i=n("096b");function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=i,e.exports=o},7156:function(e,t,n){var i=n("1626"),o=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var s,a;return r&&i(s=t.constructor)&&s!==n&&o(a=s.prototype)&&a!==n.prototype&&r(e,a),e}},"71a3":function(e,t,n){"use strict";var i=n("4e82"),o=n("1c87"),r=n("7560"),s=n("80d2"),a=n("58df");const l=Object(a["a"])(o["a"],Object(i["a"])("tabsBar"),r["a"]);t["a"]=l.extend().extend().extend({name:"v-tab",props:{ripple:{type:[Boolean,Object],default:!0}},data:()=>({proxyClass:"v-tab--active"}),computed:{classes(){return{"v-tab":!0,...o["a"].options.computed.classes.call(this),"v-tab--disabled":this.disabled,...this.groupClasses}},value(){let e=this.to||this.href;if(null==e)return e;if(this.$router&&this.to===Object(this.to)){const t=this.$router.resolve(this.to,this.$route,this.append);e=t.href}return e.replace("#","")}},methods:{click(e){this.disabled?e.preventDefault():(this.href&&this.href.indexOf("#")>-1&&e.preventDefault(),e.detail&&this.$el.blur(),this.$emit("click",e),this.to||this.toggle())},toggle(){this.isActive&&(this.tabsBar.mandatory||this.to)||this.$emit("change")}},render(e){const{tag:t,data:n}=this.generateRouteLink();return n.attrs={...n.attrs,"aria-selected":String(this.isActive),role:"tab",tabindex:this.disabled?-1:0},n.on={...n.on,keydown:e=>{e.keyCode===s["q"].enter&&this.click(e),this.$emit("keydown",e)}},e(t,n,this.$slots.default)}})},"71d9":function(e,t,n){"use strict";n("14d9"),n("3c65"),n("5e23");var i=n("8dd9"),o=(n("8efc"),n("90a2")),r=(n("36a7"),n("24b2")),s=n("58df"),a=n("80d2"),l=Object(s["a"])(r["a"]).extend({name:"v-responsive",props:{aspectRatio:[String,Number],contentClass:String},computed:{computedAspectRatio(){return Number(this.aspectRatio)},aspectStyle(){return this.computedAspectRatio?{paddingBottom:1/this.computedAspectRatio*100+"%"}:void 0},__cachedSizer(){return this.aspectStyle?this.$createElement("div",{style:this.aspectStyle,staticClass:"v-responsive__sizer"}):[]}},methods:{genContent(){return this.$createElement("div",{staticClass:"v-responsive__content",class:this.contentClass},Object(a["m"])(this))}},render(e){return e("div",{staticClass:"v-responsive",style:this.measurableStyles,on:this.$listeners},[this.__cachedSizer,this.genContent()])}}),u=l,c=n("7560"),h=n("d9f7"),d=n("d9bd");const p="undefined"!==typeof window&&"IntersectionObserver"in window;var f=Object(s["a"])(u,c["a"]).extend({name:"v-img",directives:{intersect:o["a"]},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const e=[],t=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&e.push(`linear-gradient(${this.gradient})`),t&&e.push(`url("${t}")`);const n=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:e.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[n]):n}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(e,t,n){if(!p||n||this.eager){if(this.normalisedSrc.lazySrc){const e=new Image;e.src=this.normalisedSrc.lazySrc,this.pollForSize(e,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const e=new Image;this.image=e,e.onload=()=>{e.decode?e.decode().catch(e=>{Object(d["c"])("Failed to decode image, trying to render anyway\n\nsrc: "+this.normalisedSrc.src+(e.message?"\nOriginal error: "+e.message:""),this)}).then(this.onLoad):this.onLoad()},e.onerror=this.onError,this.hasError=!1,this.sizes&&(e.sizes=this.sizes),this.normalisedSrc.srcset&&(e.srcset=this.normalisedSrc.srcset),e.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(e),this.getSrc()},pollForSize(e,t=100){const n=()=>{const{naturalHeight:i,naturalWidth:o}=e;i||o?(this.naturalWidth=o,this.calculatedAspectRatio=o/i):e.complete||!this.isLoading||this.hasError||null==t||setTimeout(n,t)};n()},genContent(){const e=u.options.methods.genContent.call(this);return this.naturalWidth&&this._b(e.data,"div",{style:{width:this.naturalWidth+"px"}}),e},__genPlaceholder(){const e=Object(a["m"])(this,"placeholder");if(e){const t=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},e)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},t):t[0]}}},render(e){const t=u.options.render.call(this,e),n=Object(h["a"])(t.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:p?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return t.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],e(t.tag,n,t.children)}});t["a"]=i["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:()=>({isExtended:!1}),computed:{computedHeight(){const e=this.computedContentHeight;if(!this.isExtended)return e;const t=parseInt(this.extensionHeight);return this.isCollapsed?e:e+(isNaN(t)?0:t)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...i["a"].options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:Object(a["g"])(this.computedHeight)}}},created(){const e=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(d["a"])(e,t,this)})},methods:{genBackground(){const e={height:Object(a["g"])(this.computedHeight),src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img({props:e}):this.$createElement(f,{props:e});return this.$createElement("div",{staticClass:"v-toolbar__image"},[t])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(a["g"])(this.computedContentHeight)}},Object(a["m"])(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(a["g"])(this.extensionHeight)}},Object(a["m"])(this,"extension"))}},render(e){this.isExtended=this.extended||!!this.$scopedSlots.extension;const t=[this.genContent()],n=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&t.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&t.unshift(this.genBackground()),e(this.tag,n,t)}})},"722f":function(e,t,n){},7234:function(e,t){e.exports=function(e){return null===e||void 0===e}},"725e":function(e,t,n){},7282:function(e,t,n){var i=n("e330"),o=n("59ed");e.exports=function(e,t,n){try{return i(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(r){}}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7435:function(e,t,n){},7457:function(e,t,n){},7496:function(e,t,n){"use strict";n("d9e2"),n("df86");var i=n("7560"),o=n("58df");t["a"]=Object(o["a"])(i["a"]).extend({name:"v-app",props:{dark:{type:Boolean,default:void 0},id:{type:String,default:"app"},light:{type:Boolean,default:void 0}},computed:{isDark(){return this.$vuetify.theme.dark}},beforeCreate(){if(!this.$vuetify||this.$vuetify===this.$root)throw new Error("Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object")},render(e){const t=e("div",{staticClass:"v-application--wrap"},this.$slots.default);return e("div",{staticClass:"v-application",class:{"v-application--is-rtl":this.$vuetify.rtl,"v-application--is-ltr":!this.$vuetify.rtl,...this.themeClasses},attrs:{"data-app":!0},domProps:{id:this.id}},[t])}})},7560:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var i=n("2b0e");const o=i["a"].extend().extend({name:"themeable",provide(){return{theme:this.themeableProvide}},inject:{theme:{default:{isDark:!1}}},props:{dark:{type:Boolean,default:null},light:{type:Boolean,default:null}},data(){return{themeableProvide:{isDark:!1}}},computed:{appIsDark(){return this.$vuetify.theme.dark||!1},isDark(){return!0===this.dark||!0!==this.light&&this.theme.isDark},themeClasses(){return{"theme--dark":this.isDark,"theme--light":!this.isDark}},rootIsDark(){return!0===this.dark||!0!==this.light&&this.appIsDark},rootThemeClasses(){return{"theme--dark":this.rootIsDark,"theme--light":!this.rootIsDark}}},watch:{isDark:{handler(e,t){e!==t&&(this.themeableProvide.isDark=this.isDark)},immediate:!0}}});function r(e){const t={...e.props,...e.injections},n=o.options.computed.isDark.call(t);return o.options.computed.themeClasses.call({isDark:n})}t["a"]=o},"75da":function(e,t,n){var i,o,r;(function(s,a){o=[n("e98f")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e){var t=e.__namespace__,n={},i=(t.module$build$src$core$contextmenu,t.module$build$src$core$extensions,t.module$build$src$core$variables,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),o=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,r=t.module$build$src$core$common.defineBlocks;n.blocks=o([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);var s={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!==this.type&&"variables_get_reporter_dynamic"!==this.type||(n={text:i.RENAME_VARIABLE,enabled:!0,callback:a(this)},s=this.getField("VAR").getText(),s={text:i.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:l(this)},e.unshift(n),e.unshift(s));else{var n=this.getFieldValue("VAR"),o=this.workspace.getVariableById(n).type;if("variables_get_dynamic"===this.type){n="variables_set_dynamic";var r=i.VARIABLES_GET_CREATE_SET}else n="variables_get_dynamic",r=i.VARIABLES_SET_CREATE_GET;var s={enabled:0<this.workspace.remainingCapacity()};const a=this.getField("VAR").getText();s.text=r.replace("%1",a),r=t.module$build$src$core$utils$xml.createElement("field"),r.setAttribute("name","VAR"),r.setAttribute("variabletype",o),r.appendChild(t.module$build$src$core$utils$xml.createTextNode(a)),o=t.module$build$src$core$utils$xml.createElement("block"),o.setAttribute("type",n),o.appendChild(r),s.callback=t.module$build$src$core$contextmenu.callbackFactory(this,o),e.push(s)}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.module$build$src$core$variables.getVariable(this.workspace,e),"variables_get_dynamic"===this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},a=function(e){return function(){const n=e.workspace,i=e.getField("VAR").getVariable();t.module$build$src$core$variables.renameVariable(n,i)}},l=function(e){return function(){const t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};t.module$build$src$core$extensions.registerMixin("contextMenu_variableDynamicSetterGetter",s),r(n.blocks);var u={},c=(t.module$build$src$core$contextmenu,t.module$build$src$core$extensions,t.module$build$src$core$variables,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),h=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,d=t.module$build$src$core$common.defineBlocks;u.blocks=h([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);var p={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!==this.type&&"variables_get_reporter"!==this.type||(n={text:c.RENAME_VARIABLE,enabled:!0,callback:f(this)},o=this.getField("VAR").getText(),o={text:c.DELETE_VARIABLE.replace("%1",o),enabled:!0,callback:g(this)},e.unshift(n),e.unshift(o));else{if("variables_get"===this.type)var n="variables_set",i=c.VARIABLES_GET_CREATE_SET;else n="variables_get",i=c.VARIABLES_SET_CREATE_GET;var o={enabled:0<this.workspace.remainingCapacity()},r=this.getField("VAR").getText();o.text=i.replace("%1",r),i=t.module$build$src$core$utils$xml.createElement("field"),i.setAttribute("name","VAR"),i.appendChild(t.module$build$src$core$utils$xml.createTextNode(r)),r=t.module$build$src$core$utils$xml.createElement("block"),r.setAttribute("type",n),r.appendChild(i),o.callback=t.module$build$src$core$contextmenu.callbackFactory(this,r),e.push(o)}}},f=function(e){return function(){const n=e.workspace,i=e.getField("VAR").getVariable();t.module$build$src$core$variables.renameVariable(n,i)}},g=function(e){return function(){const t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};t.module$build$src$core$extensions.registerMixin("contextMenu_variableSetterGetter",p),d(u.blocks);var m={},_=(t.module$build$src$core$extensions,t.module$build$src$core$msg.Msg),v=(t.module$build$src$core$utils$xml,t.Align$$module$build$src$core$input,t.module$build$src$core$connection_type.ConnectionType,t.module$build$src$core$field_dropdown.FieldDropdown),y=(t.FieldImage$$module$build$src$core$field_image,t.FieldTextInput$$module$build$src$core$field_textinput,t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),b=t.module$build$src$core$common.defineBlocks;m.blocks=y([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"¶"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),m.blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[_.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[_.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[_.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[_.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[_.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[_.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(_.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(_.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),_.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(_.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(_.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");var n=this.getInput("AT1").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(e){const t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),_.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(_.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2===e&&_.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(_.TEXT_GET_SUBSTRING_TAIL));const n=new v(this["WHERE_OPTIONS_"+e],(function(n){const i="FROM_START"===n||"FROM_END"===n;if(i!==t){const t=this.getSourceBlock();return t.updateAt_(e,i),t.setFieldValue(n,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},m.blocks.text_changeCase={init:function(){const e=[[_.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[_.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[_.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(_.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new v(e),"CASE"),this.setOutput(!0,"String"),this.setTooltip(_.TEXT_CHANGECASE_TOOLTIP)}},m.blocks.text_trim={init:function(){const e=[[_.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[_.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[_.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(_.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new v(e),"MODE"),this.setOutput(!0,"String"),this.setTooltip(_.TEXT_TRIM_TOOLTIP)}},m.blocks.text_print={init:function(){this.jsonInit({message0:_.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:_.TEXT_PRINT_TOOLTIP,helpUrl:_.TEXT_PRINT_HELPURL})}};var w={updateType_:function(e){this.outputConnection.setCheck("NUMBER"===e?"Number":"String")},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}};m.blocks.text_prompt_ext=Object.assign({},w,{init:function(){var e=[[_.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[_.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(_.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");const t=this;e=new v(e,(function(e){t.updateType_(e)})),this.appendValueInput("TEXT").appendField(e,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===t.getFieldValue("TYPE")?_.TEXT_PROMPT_TOOLTIP_TEXT:_.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),m.blocks.text_prompt=Object.assign({},w,{init:function(){this.mixin(C);var e=[[_.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[_.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];const n=this;this.setHelpUrl(_.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),e=new v(e,(function(e){n.updateType_(e)})),this.appendDummyInput().appendField(e,"TYPE").appendField(this.newQuote_(!0)).appendField(new t.FieldTextInput$$module$build$src$core$field_textinput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===n.getFieldValue("TYPE")?_.TEXT_PROMPT_TOOLTIP_TEXT:_.TEXT_PROMPT_TOOLTIP_NUMBER}))}}),m.blocks.text_count={init:function(){this.jsonInit({message0:_.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:_.TEXT_COUNT_TOOLTIP,helpUrl:_.TEXT_COUNT_HELPURL})}},m.blocks.text_replace={init:function(){this.jsonInit({message0:_.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:_.TEXT_REPLACE_TOOLTIP,helpUrl:_.TEXT_REPLACE_HELPURL})}},m.blocks.text_reverse={init:function(){this.jsonInit({message0:_.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:_.TEXT_REVERSE_TOOLTIP,helpUrl:_.TEXT_REVERSE_HELPURL})}};var C={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(let t,n=0;t=this.inputList[n];n++)for(let i,o=0;i=t.fieldRow[o];o++)if(e===i.name)return t.insertFieldAt(o,this.newQuote_(!0)),void t.insertFieldAt(o+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,new t.FieldImage$$module$build$src$core$field_image(e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,e?"“":"”")}},S=function(){this.mixin(C),this.quoteField_("TEXT")},E={mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){const t=e.newBlock("text_create_join_container");t.initSvg();let n=t.getInput("STACK").connection;for(let i=0;i<this.itemCount_;i++){const t=e.newBlock("text_create_join_item");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return t},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n;)n.isInsertionMarker()||e.push(n.valueConnection_),n=n.getNextBlock();for(n=0;n<this.itemCount_;n++){const t=this.getInput("ADD"+n).connection.targetConnection;t&&-1===e.indexOf(t)&&t.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.Mutator$$module$build$src$core$mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");let t=0;for(;e;){if(e.isInsertionMarker()){e=e.getNextBlock();continue}const n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){const n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$input.RIGHT);0===e&&n.appendField(_.TEXT_JOIN_TITLE_CREATEWITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},T=function(){this.mixin(C),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["text_create_join_item"],this))};t.module$build$src$core$extensions.register("text_append_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var k=function(){const e=this;this.setTooltip((function(){return _.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},x={mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("at",!!this.isAt_),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),_.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(_.ORDINAL_NUMBER_SUFFIX)),_.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(_.TEXT_CHARAT_TAIL)),this.isAt_=e}},L=function(){this.getField("WHERE").setValidator((function(e){e="FROM_START"===e||"FROM_END"===e,e!==this.isAt_&&this.getSourceBlock().updateAt_(e)})),this.updateAt_(!0);const e=this;this.setTooltip((function(){var t=e.getFieldValue("WHERE");let n=_.TEXT_CHARAT_TOOLTIP;return("FROM_START"===t||"FROM_END"===t)&&(t="FROM_START"===t?_.LISTS_INDEX_FROM_START_TOOLTIP:_.LISTS_INDEX_FROM_END_TOOLTIP)&&(n+="  "+t.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),n}))};t.module$build$src$core$extensions.register("text_indexOf_tooltip",k),t.module$build$src$core$extensions.register("text_quotes",S),t.module$build$src$core$extensions.registerMutator("text_join_mutator",E,T),t.module$build$src$core$extensions.registerMutator("text_charAt_mutator",x,L),b(m.blocks);var I={},O=(t.module$build$src$core$contextmenu,t.module$build$src$core$events$events,t.module$build$src$core$procedures,t.module$build$src$core$variables,t.module$build$src$core$xml,t.module$build$src$core$utils$xml,t.Align$$module$build$src$core$input,t.config$$module$build$src$core$config,t.FieldCheckbox$$module$build$src$core$field_checkbox,t.FieldLabel$$module$build$src$core$field_label,t.FieldTextInput$$module$build$src$core$field_textinput,t.module$build$src$core$msg.Msg),D=(t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$names.Names,t.module$build$src$core$common.defineBlocks);I.blocks={};var N={setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(O.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){let e="";this.arguments_.length&&(e=O.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.module$build$src$core$events$events.disable();try{this.setFieldValue(e,"PARAMS")}finally{t.module$build$src$core$events$events.enable()}},mutationToDom:function(e){const n=t.module$build$src$core$utils$xml.createElement("mutation");e&&n.setAttribute("name",this.getFieldValue("NAME"));for(let i=0;i<this.argumentVarModels_.length;i++){const o=t.module$build$src$core$utils$xml.createElement("arg"),r=this.argumentVarModels_[i];o.setAttribute("name",r.name),o.setAttribute("varid",r.getId()),e&&this.paramIds_&&o.setAttribute("paramId",this.paramIds_[i]),n.appendChild(o)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(let i,o=0;i=e.childNodes[o];o++)if("arg"===i.nodeName.toLowerCase()){const e=i.getAttribute("name");var n=i.getAttribute("varid")||i.getAttribute("varId");this.arguments_.push(e),n=t.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace,n,e,""),null!==n?this.argumentVarModels_.push(n):console.log(`Failed to create a variable named "${e}", ignoring.`)}this.updateParams_(),t.module$build$src$core$procedures.mutateCallers(this),this.setStatements_("false"!==e.getAttribute("statements"))},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const e=Object.create(null);if(this.argumentVarModels_.length){e.params=[];for(let t=0;t<this.argumentVarModels_.length;t++)e.params.push({name:this.argumentVarModels_[t].name,id:this.argumentVarModels_[t].getId()})}return this.hasStatements_||(e.hasStatements=!1),e},loadExtraState:function(e){if(this.arguments_=[],this.argumentVarModels_=[],e.params)for(let i=0;i<e.params.length;i++){var n=e.params[i];n=t.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace,n.id,n.name,""),this.arguments_.push(n.name),this.argumentVarModels_.push(n)}this.updateParams_(),t.module$build$src$core$procedures.mutateCallers(this),this.setStatements_(!1!==e.hasStatements)},decompose:function(e){const n=t.module$build$src$core$utils$xml.createElement("block");n.setAttribute("type","procedures_mutatorcontainer");var i=t.module$build$src$core$utils$xml.createElement("statement");i.setAttribute("name","STACK"),n.appendChild(i);for(let r=0;r<this.arguments_.length;r++){const e=t.module$build$src$core$utils$xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");var o=t.module$build$src$core$utils$xml.createElement("field");o.setAttribute("name","NAME");const n=t.module$build$src$core$utils$xml.createTextNode(this.arguments_[r]);o.appendChild(n),e.appendChild(o),o=t.module$build$src$core$utils$xml.createElement("next"),e.appendChild(o),i.appendChild(e),i=o}return e=t.module$build$src$core$xml.domToBlock(n,e),"procedures_defreturn"===this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.module$build$src$core$procedures.mutateCallers(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let n=e.getInputTargetBlock("STACK");for(;n&&!n.isInsertionMarker();){var i=n.getFieldValue("NAME");this.arguments_.push(i),i=this.workspace.getVariable(i,""),this.argumentVarModels_.push(i),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),t.module$build$src$core$procedures.mutateCallers(this),e=e.getFieldValue("STATEMENTS"),null!==e&&(e="TRUE"===e,this.hasStatements_!==e)&&(e?(this.setStatements_(!0),t.Mutator$$module$build$src$core$mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(e=this.getInput("STACK").connection,(this.statementConnection_=e.targetConnection)&&(e=e.targetBlock(),e.unplug(),e.bumpNeighbours()),this.setStatements_(!1)))},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,n){var i=this.workspace.getVariableById(e);if(""===i.type){i=i.name,n=this.workspace.getVariableById(n);var o=!1;for(let t=0;t<this.argumentVarModels_.length;t++)this.argumentVarModels_[t].getId()===e&&(this.arguments_[t]=n.name,this.argumentVarModels_[t]=n,o=!0);o&&(this.displayRenamedVar_(i,n.name),t.module$build$src$core$procedures.mutateCallers(this))}},updateVarName:function(e){const n=e.name;let i,o=!1;for(let t=0;t<this.argumentVarModels_.length;t++)this.argumentVarModels_[t].getId()===e.getId()&&(i=this.arguments_[t],this.arguments_[t]=n,o=!0);o&&(this.displayRenamedVar_(i,n),t.module$build$src$core$procedures.mutateCallers(this))},displayRenamedVar_:function(e,n){if(this.updateParams_(),this.mutator&&this.mutator.isVisible()){const i=this.mutator.workspace_.getAllBlocks(!1);for(let o,r=0;o=i[r];r++)"procedures_mutatorarg"===o.type&&t.module$build$src$core$names.Names.equals(e,o.getFieldValue("NAME"))&&o.setFieldValue(n,"NAME")}},customContextMenu:function(e){if(!this.isInFlyout){var n={enabled:!0},i=this.getFieldValue("NAME");n.text=O.PROCEDURES_CREATE_DO.replace("%1",i);var o=t.module$build$src$core$utils$xml.createElement("mutation");for(o.setAttribute("name",i),i=0;i<this.arguments_.length;i++){var r=t.module$build$src$core$utils$xml.createElement("arg");r.setAttribute("name",this.arguments_[i]),o.appendChild(r)}if(i=t.module$build$src$core$utils$xml.createElement("block"),i.setAttribute("type",this.callType_),i.appendChild(o),n.callback=t.module$build$src$core$contextmenu.callbackFactory(this,i),e.push(n),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++)o={enabled:!0},i=this.argumentVarModels_[n],o.text=O.VARIABLES_SET_CREATE_GET.replace("%1",i.name),i=t.module$build$src$core$variables.generateVariableFieldDom(i),r=t.module$build$src$core$utils$xml.createElement("block"),r.setAttribute("type","variables_get"),r.appendChild(i),o.callback=t.module$build$src$core$contextmenu.callbackFactory(this,r),e.push(o)}}};I.blocks.procedures_defnoreturn=Object.assign({},N,{init:function(){var e=t.module$build$src$core$procedures.findLegalName("",this);e=new t.FieldTextInput$$module$build$src$core$field_textinput(e,t.module$build$src$core$procedures.rename),e.setSpellcheck(!1),this.appendDummyInput().appendField(O.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&O.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(O.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(O.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),I.blocks.procedures_defreturn=Object.assign({},N,{init:function(){var e=t.module$build$src$core$procedures.findLegalName("",this);e=new t.FieldTextInput$$module$build$src$core$field_textinput(e,t.module$build$src$core$procedures.rename),e.setSpellcheck(!1),this.appendDummyInput().appendField(O.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.Align$$module$build$src$core$input.RIGHT).appendField(O.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&O.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(O.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(O.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"}),I.blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(O.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(O.PROCEDURES_ALLOW_STATEMENTS).appendField(new t.FieldCheckbox$$module$build$src$core$field_checkbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},I.blocks.procedures_mutatorarg={init:function(){const e=new t.FieldTextInput$$module$build$src$core$field_textinput(t.module$build$src$core$procedures.DEFAULT_ARG,this.validator_);e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(O.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var n=this.getSourceBlock();const i=t.Mutator$$module$build$src$core$mutator.findParentWs(n.workspace);if(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!e)return null;const o=(n.workspace.targetWorkspace||n.workspace).getAllBlocks(!1),r=e.toLowerCase();for(let t=0;t<o.length;t++){if(o[t].id===this.getSourceBlock().id)continue;const e=o[t].getFieldValue("NAME");if(e&&e.toLowerCase()===r)return null}return n.isInFlyout||((n=i.getVariable(e,""))&&n.name!==e&&i.renameVariableById(n.getId(),e),n||(n=i.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(n)),e},deleteIntermediateVars_:function(e){const n=t.Mutator$$module$build$src$core$mutator.findParentWs(this.getSourceBlock().workspace);if(n)for(let t=0;t<this.createdVariables_.length;t++){const i=this.createdVariables_[t];i.name!==e&&n.deleteVariableById(i.getId())}}};var R={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,n){t.module$build$src$core$names.Names.equals(e,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?O.PROCEDURES_CALLRETURN_TOOLTIP:O.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(e,n){var i=t.module$build$src$core$procedures.getDefinition(this.getProcedureCall(),this.workspace),o=i&&i.mutator&&i.mutator.isVisible();if(o?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),e.join("\n")===this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!==e.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),i=this.rendered,this.rendered=!1;for(let e=0;e<this.arguments_.length;e++){var r=this.getInput("ARG"+e);r&&(r=r.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=r,o&&r&&-1===n.indexOf(this.quarkIds_[e])&&(r.disconnect(),r.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],e=0;e<this.arguments_.length;e++)o=t.module$build$src$core$variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[e],""),this.argumentVarModels_.push(o);if(this.updateShape_(),this.quarkIds_=n)for(n=0;n<this.arguments_.length;n++)e=this.quarkIds_[n],e in this.quarkConnections_&&(t.Mutator$$module$build$src$core$mutator.reconnect(this.quarkConnections_[e],this,"ARG"+n)||delete this.quarkConnections_[e]);(this.rendered=i)&&this.render()}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var n=this.getField("ARGNAME"+e);if(n){t.module$build$src$core$events$events.disable();try{n.setValue(this.arguments_[e])}finally{t.module$build$src$core$events$events.enable()}}else n=new t.FieldLabel$$module$build$src$core$field_label(this.arguments_[e]),this.appendValueInput("ARG"+e).setAlign(t.Align$$module$build$src$core$input.RIGHT).appendField(n,"ARGNAME"+e).init()}for(e=this.arguments_.length;this.getInput("ARG"+e);e++)this.removeInput("ARG"+e);(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(O.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");e.setAttribute("name",this.getProcedureCall());for(let n=0;n<this.arguments_.length;n++){const i=t.module$build$src$core$utils$xml.createElement("arg");i.setAttribute("name",this.arguments_[n]),e.appendChild(i)}return e},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];const n=[];for(let i,o=0;i=e.childNodes[o];o++)"arg"===i.nodeName.toLowerCase()&&(t.push(i.getAttribute("name")),n.push(i.getAttribute("paramId")));this.setProcedureParameters_(t,n)},saveExtraState:function(){const e=Object.create(null);return e.name=this.getProcedureCall(),this.arguments_.length&&(e.params=this.arguments_),e},loadExtraState:function(e){if(this.renameProcedure(this.getProcedureCall(),e.name),e=e.params){const t=[];t.length=e.length,t.fill(null),this.setProcedureParameters_(e,t)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type===t.module$build$src$core$events$events.BLOCK_CREATE&&-1!==e.ids.indexOf(this.id)){var n=this.getProcedureCall();if(n=t.module$build$src$core$procedures.getDefinition(n,this.workspace),!n||n.type===this.defType_&&JSON.stringify(n.getVars())===JSON.stringify(this.arguments_)||(n=null),!n){t.module$build$src$core$events$events.setGroup(e.group),e=t.module$build$src$core$utils$xml.createElement("xml"),n=t.module$build$src$core$utils$xml.createElement("block"),n.setAttribute("type",this.defType_);var i=this.getRelativeToSurfaceXY(),o=i.y+2*t.config$$module$build$src$core$config.snapRadius;n.setAttribute("x",i.x+t.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)),n.setAttribute("y",o),i=this.mutationToDom(),n.appendChild(i),i=t.module$build$src$core$utils$xml.createElement("field"),i.setAttribute("name","NAME"),o=this.getProcedureCall();const r=t.module$build$src$core$procedures.findLegalName(o,this);o!==r&&this.renameProcedure(o,r),i.appendChild(t.module$build$src$core$utils$xml.createTextNode(o)),n.appendChild(i),e.appendChild(n),t.module$build$src$core$xml.domToWorkspace(e,this.workspace),t.module$build$src$core$events$events.setGroup(!1)}}else e.type===t.module$build$src$core$events$events.BLOCK_DELETE?(n=this.getProcedureCall(),t.module$build$src$core$procedures.getDefinition(n,this.workspace)||(t.module$build$src$core$events$events.setGroup(e.group),this.dispose(!0),t.module$build$src$core$events$events.setGroup(!1))):e.type===t.module$build$src$core$events$events.CHANGE&&"disabled"===e.element&&(n=this.getProcedureCall(),(n=t.module$build$src$core$procedures.getDefinition(n,this.workspace))&&n.id===e.blockId&&((n=t.module$build$src$core$events$events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),t.module$build$src$core$events$events.setGroup(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.module$build$src$core$events$events.setGroup(n)))},customContextMenu:function(e){if(this.workspace.isMovable()){var n={enabled:!0};n.text=O.PROCEDURES_HIGHLIGHT_DEF;var i=this.getProcedureCall(),o=this.workspace;n.callback=function(){const e=t.module$build$src$core$procedures.getDefinition(i,o);e&&(o.centerOnBlock(e.id),e.select())},e.push(n)}}};I.blocks.procedures_callnoreturn=Object.assign({},R,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(O.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),I.blocks.procedures_callreturn=Object.assign({},R,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(O.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"}),I.blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(O.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(O.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(O.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("value",Number(this.hasReturnValue_)),e},domToMutation:function(e){this.hasReturnValue_="1"===e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(!(this.workspace.isDragging&&this.workspace.isDragging()||e.type!==t.module$build$src$core$events$events.BLOCK_MOVE)){var n=!1,i=this;do{if(-1!==this.FUNCTION_TYPES.indexOf(i.type)){n=!0;break}i=i.getSurroundParent()}while(i);n?("procedures_defnoreturn"===i.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!==i.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(O.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(O.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(i=t.module$build$src$core$events$events.getGroup(),t.module$build$src$core$events$events.setGroup(e.group),this.setEnabled(n),t.module$build$src$core$events$events.setGroup(i))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},D(I.blocks);var A={},M=(t.module$build$src$core$extensions,t.module$build$src$core$field_dropdown,t.module$build$src$core$utils$xml,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),P=t.module$build$src$core$common.defineBlocks;A.blocks=M([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);var F={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};t.module$build$src$core$extensions.register("math_op_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("OP",F));var B={mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation"),n="DIVISIBLE_BY"===this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",n),e},domToMutation:function(e){e="true"===e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){const t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},V=function(){this.getField("PROPERTY").setValidator((function(e){e="DIVISIBLE_BY"===e,this.getSourceBlock().updateShape_(e)}))};t.module$build$src$core$extensions.registerMutator("math_is_divisibleby_mutator",B,V),t.module$build$src$core$extensions.register("math_change_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var H={updateType_:function(e){"MODE"===e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},$=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))};t.module$build$src$core$extensions.registerMutator("math_modes_of_list_mutator",H,$),P(A.blocks);var W={},U=(t.module$build$src$core$contextmenu,t.module$build$src$core$events$events,t.module$build$src$core$extensions,t.module$build$src$core$variables,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),z=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,j=t.module$build$src$core$common.defineBlocks;W.blocks=z([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);var G={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};t.module$build$src$core$extensions.register("controls_whileUntil_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("MODE",G));var K={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};t.module$build$src$core$extensions.register("controls_flow_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("FLOW",K));var q={customContextMenu:function(e){if(!this.isInFlyout){var n=this.getField("VAR").getVariable(),i=n.name;if(!this.isCollapsed()&&null!==i){const o={enabled:!0};o.text=U.VARIABLES_SET_CREATE_GET.replace("%1",i),n=t.module$build$src$core$variables.generateVariableFieldDom(n),i=t.module$build$src$core$utils$xml.createElement("block"),i.setAttribute("type","variables_get"),i.appendChild(n),o.callback=t.module$build$src$core$contextmenu.callbackFactory(this,i),e.push(o)}}}};t.module$build$src$core$extensions.registerMixin("contextMenu_newGetVariableBlock",q),t.module$build$src$core$extensions.register("controls_for_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.module$build$src$core$extensions.register("controls_forEach_tooltip",t.module$build$src$core$extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),W.loopTypes=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]);var Y={getSurroundLoop:function(){let e=this;do{if(W.loopTypes.has(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){if(this.workspace.isDragging&&!this.workspace.isDragging()&&e.type===t.module$build$src$core$events$events.BLOCK_MOVE){var n=this.getSurroundLoop(this);if(this.setWarningText(n?null:U.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){const i=t.module$build$src$core$events$events.getGroup();t.module$build$src$core$events$events.setGroup(e.group),this.setEnabled(n),t.module$build$src$core$events$events.setGroup(i)}}}};t.module$build$src$core$extensions.registerMixin("controls_flow_in_loop_check",Y),j(W.blocks);var X={},Z=(t.module$build$src$core$events$events,t.module$build$src$core$extensions,t.module$build$src$core$utils$xml,t.module$build$src$core$msg.Msg),J=(t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),Q=t.module$build$src$core$common.defineBlocks;X.blocks=J([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);var ee={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};t.module$build$src$core$extensions.register("logic_op_tooltip",t.module$build$src$core$extensions.buildTooltipForDropdown("OP",ee));var te={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const e=t.module$build$src$core$utils$xml.createElement("mutation");return this.elseifCount_&&e.setAttribute("elseif",this.elseifCount_),this.elseCount_&&e.setAttribute("else",1),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const e=Object.create(null);return this.elseifCount_&&(e.elseIfCount=this.elseifCount_),this.elseCount_&&(e.hasElse=!0),e},loadExtraState:function(e){this.elseifCount_=e.elseIfCount||0,this.elseCount_=e.hasElse?1:0,this.updateShape_()},decompose:function(e){const t=e.newBlock("controls_if_if");t.initSvg();let n=t.nextConnection;for(let i=1;i<=this.elseifCount_;i++){const t=e.newBlock("controls_if_elseif");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return this.elseCount_&&(e=e.newBlock("controls_if_else"),e.initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const t=[null],n=[null];let i=null;for(;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,i=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,i)},saveConnections:function(e){e=e.nextConnection.targetBlock();let t=1;for(;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t);const i=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=i&&i.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}},rebuildShape_:function(){const e=[null],t=[null];let n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(let i=1;this.getInput("IF"+i);i++){const n=this.getInput("IF"+i),o=this.getInput("DO"+i);e.push(n.connection.targetConnection),t.push(o.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);e++)this.removeInput("IF"+e),this.removeInput("DO"+e);for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(Z.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(Z.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(Z.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,n,i){for(let o=1;o<=this.elseifCount_;o++)t.Mutator$$module$build$src$core$mutator.reconnect(e[o],this,"IF"+o),t.Mutator$$module$build$src$core$mutator.reconnect(n[o],this,"DO"+o);t.Mutator$$module$build$src$core$mutator.reconnect(i,this,"ELSE")}};t.module$build$src$core$extensions.registerMutator("controls_if_mutator",te,null,["controls_if_elseif","controls_if_else"]);var ne=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?Z.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?Z.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?Z.CONTROLS_IF_TOOLTIP_4:"":Z.CONTROLS_IF_TOOLTIP_1}.bind(this))};t.module$build$src$core$extensions.register("controls_if_tooltip",ne);var ie={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A");const i=this.getInputTargetBlock("B");n&&i&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,i.outputConnection)&&(t.module$build$src$core$events$events.setGroup(e.group),e=this.prevBlocks_[0],e!==n&&(n.unplug(),!e||e.isDisposed()||e.isShadow()||this.getInput("A").connection.connect(e.outputConnection)),n=this.prevBlocks_[1],n!==i&&(i.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),t.module$build$src$core$events$events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},oe=function(){this.mixin(ie)};t.module$build$src$core$extensions.register("logic_compare",oe);var re={prevParentConnection_:null,onchange:function(e){const n=this.getInputTargetBlock("THEN"),i=this.getInputTargetBlock("ELSE"),o=this.outputConnection.targetConnection;if((n||i)&&o)for(let r=0;2>r;r++){const s=1===r?n:i;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,o)&&(t.module$build$src$core$events$events.setGroup(e.group),o===this.prevParentConnection_?(this.unplug(),o.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),t.module$build$src$core$events$events.setGroup(!1))}this.prevParentConnection_=o}};t.module$build$src$core$extensions.registerMixin("logic_ternary",re),Q(X.blocks);var se={},ae=(t.module$build$src$core$utils$xml,t.module$build$src$core$xml,t.Align$$module$build$src$core$input,t.module$build$src$core$connection_type.ConnectionType,t.module$build$src$core$field_dropdown.FieldDropdown),le=t.module$build$src$core$msg.Msg,ue=(t.Mutator$$module$build$src$core$mutator,t.module$build$src$core$common.createBlockDefinitionsFromJsonArray),ce=t.module$build$src$core$common.defineBlocks;se.blocks=ue([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),se.blocks.lists_create_with={init:function(){this.setHelpUrl(le.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.Mutator$$module$build$src$core$mutator(["lists_create_with_item"],this)),this.setTooltip(le.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){const t=e.newBlock("lists_create_with_container");t.initSvg();let n=t.getInput("STACK").connection;for(let i=0;i<this.itemCount_;i++){const t=e.newBlock("lists_create_with_item");t.initSvg(),n.connect(t.previousConnection),n=t.nextConnection}return t},compose:function(e){var n=e.getInputTargetBlock("STACK");for(e=[];n;)n.isInsertionMarker()||e.push(n.valueConnection_),n=n.getNextBlock();for(n=0;n<this.itemCount_;n++){const t=this.getInput("ADD"+n).connection.targetConnection;t&&-1===e.indexOf(t)&&t.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),n=0;n<this.itemCount_;n++)t.Mutator$$module$build$src$core$mutator.reconnect(e[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");let t=0;for(;e;){if(e.isInsertionMarker()){e=e.getNextBlock();continue}const n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(le.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){const n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$input.RIGHT);0===e&&n.appendField(le.LISTS_CREATE_WITH_INPUT_WITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},se.blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(le.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(le.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},se.blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(le.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(le.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},se.blocks.lists_indexOf={init:function(){const e=[[le.LISTS_INDEX_OF_FIRST,"FIRST"],[le.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(le.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(le.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new ae(e),"END"),this.setInputsInline(!0);const t=this;this.setTooltip((function(){return le.LISTS_INDEX_OF_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"0":"-1")}))}},se.blocks.lists_getIndex={init:function(){var e=[[le.LISTS_GET_INDEX_GET,"GET"],[le.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[le.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[le.LISTS_GET_INDEX_FROM_START,"FROM_START"],[le.LISTS_GET_INDEX_FROM_END,"FROM_END"],[le.LISTS_GET_INDEX_FIRST,"FIRST"],[le.LISTS_GET_INDEX_LAST,"LAST"],[le.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(le.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),e=new ae(e,(function(e){e="REMOVE"===e,this.getSourceBlock().updateStatement_(e)})),this.appendValueInput("VALUE").setCheck("Array").appendField(le.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(e,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),le.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(le.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);const t=this;this.setTooltip((function(){const e=t.getFieldValue("MODE"),n=t.getFieldValue("WHERE");let i="";switch(e+" "+n){case"GET FROM_START":case"GET FROM_END":i=le.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":i=le.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":i=le.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":i=le.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":i=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":i=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":i=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":i=le.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":i=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":i=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":i=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":i=le.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!==n&&"FROM_END"!==n||(i+="  "+("FROM_START"===n?le.LISTS_INDEX_FROM_START_TOOLTIP:le.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");e.setAttribute("statement",!this.outputConnection);const n=this.getInput("AT").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(e){const t="true"===e.getAttribute("statement");this.updateStatement_(t),e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(e){e.isStatement?this.updateStatement_(!0):"string"===typeof e&&this.domToMutation(t.module$build$src$core$xml.textToDom(e))},updateStatement_:function(e){e!==!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),le.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(le.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const t=new ae(this.WHERE_OPTIONS,(function(t){const n="FROM_START"===t||"FROM_END"===t;if(n!==e){const e=this.getSourceBlock();return e.updateAt_(n),e.setFieldValue(t,"WHERE"),null}}));this.getInput("AT").appendField(t,"WHERE"),le.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},se.blocks.lists_setIndex={init:function(){const e=[[le.LISTS_SET_INDEX_SET,"SET"],[le.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[le.LISTS_GET_INDEX_FROM_START,"FROM_START"],[le.LISTS_GET_INDEX_FROM_END,"FROM_END"],[le.LISTS_GET_INDEX_FIRST,"FIRST"],[le.LISTS_GET_INDEX_LAST,"LAST"],[le.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(le.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(le.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new ae(e),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(le.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(le.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);const t=this;this.setTooltip((function(){const e=t.getFieldValue("MODE"),n=t.getFieldValue("WHERE");let i="";switch(e+" "+n){case"SET FROM_START":case"SET FROM_END":i=le.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":i=le.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":i=le.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":i=le.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":i=le.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":i=le.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":i=le.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":i=le.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!==n&&"FROM_END"!==n||(i+="  "+le.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation"),n=this.getInput("AT").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at",n),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),le.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(le.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const t=new ae(this.WHERE_OPTIONS,(function(t){const n="FROM_START"===t||"FROM_END"===t;if(n!==e){const e=this.getSourceBlock();return e.updateAt_(n),e.setFieldValue(t,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(t,"WHERE")}},se.blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[le.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[le.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[le.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[le.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[le.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[le.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(le.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(le.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),le.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(le.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(le.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");var n=this.getInput("AT1").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE;return e.setAttribute("at1",n),n=this.getInput("AT2").type===t.module$build$src$core$connection_type.ConnectionType.INPUT_VALUE,e.setAttribute("at2",n),e},domToMutation:function(e){const t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck("Number"),le.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(le.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);const n=new ae(this["WHERE_OPTIONS_"+e],(function(n){const i="FROM_START"===n||"FROM_END"===n;if(i!==t){const t=this.getSourceBlock();return t.updateAt_(e,i),t.setFieldValue(n,"WHERE"+e),null}}));this.getInput("AT"+e).appendField(n,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),le.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},se.blocks.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},se.blocks.lists_split={init:function(){const e=this,t=new ae([[le.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[le.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(t){e.updateType_(t)}));this.setHelpUrl(le.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(t,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(le.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){const t=e.getFieldValue("MODE");if("SPLIT"===t)return le.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"===t)return le.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+t)}))},updateType_:function(e){if(this.getFieldValue("MODE")!==e){const e=this.getInput("INPUT").connection;e.setShadowDom(null);const t=e.targetBlock();t&&(e.disconnect(),t.isShadow()?t.dispose():this.bumpNeighbours())}"SPLIT"===e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const e=t.module$build$src$core$utils$xml.createElement("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},ce(se.blocks);var he={},de=t.module$build$src$core$common.createBlockDefinitionsFromJsonArray,pe=t.module$build$src$core$common.defineBlocks;he.blocks=de([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),pe(he.blocks);var fe={};return fe.colour=he,fe.lists=se,fe.logic=X,fe.loops=W,fe.math=A,fe.procedures=I,fe.texts=m,fe.variables=u,fe.variablesDynamic=n,fe.blocks=Object.assign({},he.blocks,se.blocks,X.blocks,W.blocks,A.blocks,I.blocks,u.blocks,n.blocks),fe.__namespace__=t,fe}))},7696:function(e,t,n){"use strict";var i=n("4883"),o=[["table",n("80d3"),["paragraph","reference"]],["code",n("9c12")],["fence",n("bf2b"),["paragraph","reference","blockquote","list"]],["blockquote",n("e80e"),["paragraph","reference","blockquote","list"]],["hr",n("fdfe"),["paragraph","reference","blockquote","list"]],["list",n("4b3e"),["paragraph","reference","blockquote"]],["reference",n("d670")],["html_block",n("5fbd"),["paragraph","reference","blockquote"]],["heading",n("0758"),["paragraph","reference","blockquote"]],["lheading",n("199e")],["paragraph",n("44a8")]];function r(){this.ruler=new i;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}r.prototype.tokenize=function(e,t,n){var i,o,r=this.ruler.getRules(""),s=r.length,a=t,l=!1,u=e.md.options.maxNesting;while(a<n){if(e.line=a=e.skipEmptyLines(a),a>=n)break;if(e.sCount[a]<e.blkIndent)break;if(e.level>=u){e.line=n;break}for(o=0;o<s;o++)if(i=r[o](e,a,n,!1),i)break;e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),a=e.line,a<n&&e.isEmpty(a)&&(l=!0,a++,e.line=a)}},r.prototype.parse=function(e,t,n,i){var o;e&&(o=new this.State(e,t,n,i),this.tokenize(o,o.line,o.lineMax))},r.prototype.State=n("834f"),e.exports=r},"782d":function(e,t,n){},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7917:function(e,t,n){"use strict";var i=n("c532");function o(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o)}i["a"].inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:i["a"].toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const r=o.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{s[e]={value:e}}),Object.defineProperties(o,s),Object.defineProperty(r,"isAxiosError",{value:!0}),o.from=(e,t,n,s,a,l)=>{const u=Object.create(r);return i["a"].toFlatObject(e,u,(function(e){return e!==Error.prototype}),e=>"isAxiosError"!==e),o.call(u,e.message,t,n,s,a),u.cause=e,u.name=e.name,l&&Object.assign(u,l),u},t["a"]=o},"7a2c":function(e,t,n){},"7a99":function(e,t,n){},"7aad":function(e,t,n){},"7b0b":function(e,t,n){var i=n("1d80"),o=Object;e.exports=function(e){return o(i(e))}},"7b59":function(e,t,n){},"7bc6":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));n("d9e2");var i=n("d9bd");n("80d2"),n("8da5");function o(e){return!!e&&!!e.match(/^(#|var\(--|(rgb|hsl)a?\()/)}function r(e){let t;if("number"===typeof e)t=e;else{if("string"!==typeof e)throw new TypeError(`Colors can only be numbers or strings, recieved ${null==e?e:e.constructor.name} instead`);{let n="#"===e[0]?e.substring(1):e;3===n.length&&(n=n.split("").map(e=>e+e).join("")),6!==n.length&&Object(i["c"])(`'${e}' is not a valid rgb color`),t=parseInt(n,16)}}return t<0?(Object(i["c"])(`Colors cannot be negative: '${e}'`),t=0):(t>16777215||isNaN(t))&&(Object(i["c"])(`'${e}' is not a valid rgb color`),t=16777215),t}function s(e){let t=e.toString(16);return t.length<6&&(t="0".repeat(6-t.length)+t),"#"+t}function a(e){return s(r(e))}},"7ca0":function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},"7cc2":function(e,t,n){"use strict";var i=n("0068").assign,o=n("0068").unescapeAll,r=n("0068").escapeHtml,s={};function a(){this.rules=i({},s)}s.code_inline=function(e,t,n,i,o){var s=e[t];return"<code"+o.renderAttrs(s)+">"+r(e[t].content)+"</code>"},s.code_block=function(e,t,n,i,o){var s=e[t];return"<pre"+o.renderAttrs(s)+"><code>"+r(e[t].content)+"</code></pre>\n"},s.fence=function(e,t,n,i,s){var a,l,u,c,h,d=e[t],p=d.info?o(d.info).trim():"",f="",g="";return p&&(u=p.split(/(\s+)/g),f=u[0],g=u.slice(2).join("")),a=n.highlight&&n.highlight(d.content,f,g)||r(d.content),0===a.indexOf("<pre")?a+"\n":p?(l=d.attrIndex("class"),c=d.attrs?d.attrs.slice():[],l<0?c.push(["class",n.langPrefix+f]):(c[l]=c[l].slice(),c[l][1]+=" "+n.langPrefix+f),h={attrs:c},"<pre><code"+s.renderAttrs(h)+">"+a+"</code></pre>\n"):"<pre><code"+s.renderAttrs(d)+">"+a+"</code></pre>\n"},s.image=function(e,t,n,i,o){var r=e[t];return r.attrs[r.attrIndex("alt")][1]=o.renderInlineAsText(r.children,n,i),o.renderToken(e,t,n)},s.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},s.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},s.text=function(e,t){return r(e[t].content)},s.html_block=function(e,t){return e[t].content},s.html_inline=function(e,t){return e[t].content},a.prototype.renderAttrs=function(e){var t,n,i;if(!e.attrs)return"";for(i="",t=0,n=e.attrs.length;t<n;t++)i+=" "+r(e.attrs[t][0])+'="'+r(e.attrs[t][1])+'"';return i},a.prototype.renderToken=function(e,t,n){var i,o="",r=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===s.nesting?"</":"<")+s.tag,o+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(o+=" /"),s.block&&(r=!0,1===s.nesting&&t+1<e.length&&(i=e[t+1],("inline"===i.type||i.hidden||-1===i.nesting&&i.tag===s.tag)&&(r=!1))),o+=r?">\n":">",o)},a.prototype.renderInline=function(e,t,n){for(var i,o="",r=this.rules,s=0,a=e.length;s<a;s++)i=e[s].type,"undefined"!==typeof r[i]?o+=r[i](e,s,t,n,this):o+=this.renderToken(e,s,t);return o},a.prototype.renderInlineAsText=function(e,t,n){for(var i="",o=0,r=e.length;o<r;o++)"text"===e[o].type?i+=e[o].content:"image"===e[o].type?i+=this.renderInlineAsText(e[o].children,t,n):"softbreak"===e[o].type&&(i+="\n");return i},a.prototype.render=function(e,t,n){var i,o,r,s="",a=this.rules;for(i=0,o=e.length;i<o;i++)r=e[i].type,"inline"===r?s+=this.renderInline(e[i].children,t,n):"undefined"!==typeof a[r]?s+=a[e[i].type](e,i,t,n,this):s+=this.renderToken(e,i,t,n);return s},e.exports=a},"7d91":function(e,t,n){"use strict";var i=n("0068").unescapeAll;e.exports=function(e,t,n){var o,r,s=0,a=t,l={ok:!1,pos:0,lines:0,str:""};if(t>=n)return l;if(r=e.charCodeAt(t),34!==r&&39!==r&&40!==r)return l;t++,40===r&&(r=41);while(t<n){if(o=e.charCodeAt(t),o===r)return l.pos=t+1,l.lines=s,l.str=i(e.slice(a+1,t)),l.ok=!0,l;if(40===o&&41===r)return l;10===o?s++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&s++),t++}return l}},"7e2b":function(e,t,n){"use strict";var i=n("2b0e");function o(e){return function(t,n){for(const i in n)Object.prototype.hasOwnProperty.call(t,i)||this.$delete(this.$data[e],i);for(const i in t)this.$set(this.$data[e],i,t[i])}}t["a"]=i["a"].extend({data:()=>({attrs$:{},listeners$:{}}),created(){this.$watch("$attrs",o("attrs$"),{immediate:!0}),this.$watch("$listeners",o("listeners$"),{immediate:!0})}})},"7e85":function(e,t,n){"use strict";n("14d9"),n("8836");var i=n("10d2"),o=n("3206"),r=n("a452"),s=n("58df"),a=n("d9bd");const l=Object(s["a"])(i["a"],Object(o["b"])("stepper"),r["a"]);t["a"]=l.extend({name:"v-stepper",provide(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data(){const e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes(){return{"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear,...i["a"].options.computed.classes.call(this)}},styles(){return{...i["a"].options.computed.styles.call(this)}}},watch:{internalValue(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created(){this.$listeners.input&&Object(a["a"])("@input","@change",this)},mounted(){this.updateView()},methods:{register(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter(t=>t!==e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter(t=>t!==e))},stepClick(e){this.$nextTick(()=>this.internalValue=e)},updateView(){for(let e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(let e=this.content.length;--e>=0;)this.content[e].toggle(this.internalValue,this.isReverse)}},render(e){return e(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}})},"80d2":function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return c})),n.d(t,"o",(function(){return h})),n.d(t,"j",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return m})),n.d(t,"u",(function(){return _})),n.d(t,"r",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"v",(function(){return w})),n.d(t,"w",(function(){return C})),n.d(t,"n",(function(){return S})),n.d(t,"m",(function(){return E})),n.d(t,"e",(function(){return T})),n.d(t,"t",(function(){return k})),n.d(t,"d",(function(){return x})),n.d(t,"s",(function(){return L})),n.d(t,"f",(function(){return I}));n("14d9"),n("13d5");var i=n("2b0e");function o(e,t="div",n){return i["a"].extend({name:n||e.replace(/__/g,"-"),functional:!0,props:{tag:{type:String,default:t}},render(t,{data:n,props:i,children:o}){return n.staticClass=`${e} ${n.staticClass||""}`.trim(),t(i.tag,n,o)}})}function r(e,t,n,i=!1){const o=r=>{n(r),e.removeEventListener(t,o,i)};e.addEventListener(t,o,i)}let s=!1;try{if("undefined"!==typeof window){const e=Object.defineProperty({},"passive",{get:()=>{s=!0}});window.addEventListener("testListener",e,e),window.removeEventListener("testListener",e,e)}}catch(O){console.warn(O)}function a(e,t,n,i){e.addEventListener(t,n,!!s&&i)}function l(e,t,n){const i=t.length-1;if(i<0)return void 0===e?n:e;for(let o=0;o<i;o++){if(null==e)return n;e=e[t[o]]}return null==e||void 0===e[t[i]]?n:e[t[i]]}function u(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime())return!1;if(e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length===Object.keys(t).length&&n.every(n=>u(e[n],t[n]))}function c(e,t,n){return null!=e&&t&&"string"===typeof t?void 0!==e[t]?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),l(e,t.split("."),n)):n}function h(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return 0;const t=+window.getComputedStyle(e).getPropertyValue("z-index");return t||h(e.parentNode)}function d(e,t){const n={};for(let i=0;i<t.length;i++){const o=t[i];"undefined"!==typeof e[o]&&(n[o]=e[o])}return n}function p(e,t="px"){return null==e||""===e?void 0:isNaN(+e)?String(e):`${Number(e)}${t}`}function f(e){return(e||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function g(e){return null!==e&&"object"===typeof e}const m=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function _(e,t){const n=e.$vuetify.icons.component;if(t.startsWith("$")){const n="$vuetify.icons.values."+t.split("$").pop().split(".").pop(),i=c(e,n,t);if("string"!==typeof i)return i;t=i}return null==n?t:{component:n,props:{icon:t}}}function v(e){return Object.keys(e)}const y=/-(\w)/g,b=e=>e.replace(y,(e,t)=>t?t.toUpperCase():"");function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}function C(e){return null!=e?Array.isArray(e)?e:[e]:[]}function S(e,t,n){return e.$slots.hasOwnProperty(t)&&e.$scopedSlots.hasOwnProperty(t)&&e.$scopedSlots[t].name?n?"v-slot":"scoped":e.$slots.hasOwnProperty(t)?"normal":e.$scopedSlots.hasOwnProperty(t)?"scoped":void 0}function E(e,t="default",n,i=!1){return e.$scopedSlots.hasOwnProperty(t)?e.$scopedSlots[t](n instanceof Function?n():n):!e.$slots.hasOwnProperty(t)||n&&!i?void 0:e.$slots[t]}function T(e,t=0,n=1){return Math.max(t,Math.min(n,e))}function k(e,t,n="0"){return e+n.repeat(Math.max(0,t-e.length))}function x(e,t=1){const n=[];let i=0;while(i<e.length)n.push(e.substr(i,t)),i+=t;return n}function L(e={},t={}){for(const n in t){const i=e[n],o=t[n];g(i)&&g(o)?e[n]=L(i,o):e[n]=o}return e}function I(e){if(e.composedPath)return e.composedPath();const t=[];let n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}return t}},"80d3":function(e,t,n){"use strict";var i=n("0068").isSpace;function o(e,t){var n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.substr(n,i-n)}function r(e){var t,n=[],i=0,o=e.length,r=!1,s=0,a="";t=e.charCodeAt(i);while(i<o)124===t&&(r?(a+=e.substring(s,i-1),s=i):(n.push(a+e.substring(s,i)),a="",s=i+1)),r=92===t,i++,t=e.charCodeAt(i);return n.push(a+e.substring(s)),n}e.exports=function(e,t,n,s){var a,l,u,c,h,d,p,f,g,m,_,v,y,b,w,C,S,E;if(t+2>n)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if(u=e.bMarks[d]+e.tShift[d],u>=e.eMarks[d])return!1;if(S=e.src.charCodeAt(u++),124!==S&&45!==S&&58!==S)return!1;if(u>=e.eMarks[d])return!1;if(E=e.src.charCodeAt(u++),124!==E&&45!==E&&58!==E&&!i(E))return!1;if(45===S&&i(E))return!1;while(u<e.eMarks[d]){if(a=e.src.charCodeAt(u),124!==a&&45!==a&&58!==a&&!i(a))return!1;u++}for(l=o(e,t+1),p=l.split("|"),m=[],c=0;c<p.length;c++){if(_=p[c].trim(),!_){if(0===c||c===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(_))return!1;58===_.charCodeAt(_.length-1)?m.push(58===_.charCodeAt(0)?"center":"right"):58===_.charCodeAt(0)?m.push("left"):m.push("")}if(l=o(e,t).trim(),-1===l.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(p=r(l),p.length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),f=p.length,0===f||f!==m.length)return!1;if(s)return!0;for(b=e.parentType,e.parentType="table",C=e.md.block.ruler.getRules("blockquote"),g=e.push("table_open","table",1),g.map=v=[t,0],g=e.push("thead_open","thead",1),g.map=[t,t+1],g=e.push("tr_open","tr",1),g.map=[t,t+1],c=0;c<p.length;c++)g=e.push("th_open","th",1),m[c]&&(g.attrs=[["style","text-align:"+m[c]]]),g=e.push("inline","",0),g.content=p[c].trim(),g.children=[],g=e.push("th_close","th",-1);for(g=e.push("tr_close","tr",-1),g=e.push("thead_close","thead",-1),d=t+2;d<n;d++){if(e.sCount[d]<e.blkIndent)break;for(w=!1,c=0,h=C.length;c<h;c++)if(C[c](e,d,n,!0)){w=!0;break}if(w)break;if(l=o(e,d).trim(),!l)break;if(e.sCount[d]-e.blkIndent>=4)break;for(p=r(l),p.length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),d===t+2&&(g=e.push("tbody_open","tbody",1),g.map=y=[t+2,0]),g=e.push("tr_open","tr",1),g.map=[d,d+1],c=0;c<f;c++)g=e.push("td_open","td",1),m[c]&&(g.attrs=[["style","text-align:"+m[c]]]),g=e.push("inline","",0),g.content=p[c]?p[c].trim():"",g.children=[],g=e.push("td_close","td",-1);g=e.push("tr_close","tr",-1)}return y&&(g=e.push("tbody_close","tbody",-1),y[1]=d),g=e.push("table_close","table",-1),v[1]=d,e.parentType=b,e.line=d,!0}},"825a":function(e,t,n){var i=n("861d"),o=String,r=TypeError;e.exports=function(e){if(i(e))return e;throw r(o(e)+" is not an object")}},8336:function(e,t,n){"use strict";n("86cc");var i=n("10d2"),o=n("22da"),r=n("4e82"),s=n("f2e7"),a=n("c995"),l=n("fe6c"),u=n("1c87"),c=n("af2b"),h=n("58df"),d=n("d9bd");const p=Object(h["a"])(i["a"],u["a"],l["a"],c["a"],Object(r["a"])("btnToggle"),Object(s["b"])("inputValue"));t["a"]=p.extend().extend({name:"v-btn",props:{activeClass:{type:String,default(){return this.btnToggle?this.btnToggle.activeClass:""}},block:Boolean,depressed:Boolean,fab:Boolean,icon:Boolean,loading:Boolean,outlined:Boolean,plain:Boolean,retainFocusOnClick:Boolean,rounded:Boolean,tag:{type:String,default:"button"},text:Boolean,tile:Boolean,type:{type:String,default:"button"},value:null},data:()=>({proxyClass:"v-btn--active"}),computed:{classes(){return{"v-btn":!0,...u["a"].options.computed.classes.call(this),"v-btn--absolute":this.absolute,"v-btn--block":this.block,"v-btn--bottom":this.bottom,"v-btn--disabled":this.disabled,"v-btn--is-elevated":this.isElevated,"v-btn--fab":this.fab,"v-btn--fixed":this.fixed,"v-btn--has-bg":this.hasBg,"v-btn--icon":this.icon,"v-btn--left":this.left,"v-btn--loading":this.loading,"v-btn--outlined":this.outlined,"v-btn--plain":this.plain,"v-btn--right":this.right,"v-btn--round":this.isRound,"v-btn--rounded":this.rounded,"v-btn--router":this.to,"v-btn--text":this.text,"v-btn--tile":this.tile,"v-btn--top":this.top,...this.themeClasses,...this.groupClasses,...this.elevationClasses,...this.sizeableClasses}},computedElevation(){if(!this.disabled)return a["a"].options.computed.computedElevation.call(this)},computedRipple(){var e;const t=!this.icon&&!this.fab||{circle:!0};return!this.disabled&&(null!==(e=this.ripple)&&void 0!==e?e:t)},hasBg(){return!this.text&&!this.plain&&!this.outlined&&!this.icon},isElevated(){return Boolean(!this.icon&&!this.text&&!this.outlined&&!this.depressed&&!this.disabled&&!this.plain&&(null==this.elevation||Number(this.elevation)>0))},isRound(){return Boolean(this.icon||this.fab)},styles(){return{...this.measurableStyles}}},created(){const e=[["flat","text"],["outline","outlined"],["round","rounded"]];e.forEach(([e,t])=>{this.$attrs.hasOwnProperty(e)&&Object(d["a"])(e,t,this)})},methods:{click(e){!this.retainFocusOnClick&&!this.fab&&e.detail&&this.$el.blur(),this.$emit("click",e),this.btnToggle&&this.toggle()},genContent(){return this.$createElement("span",{staticClass:"v-btn__content"},this.$slots.default)},genLoader(){return this.$createElement("span",{class:"v-btn__loader"},this.$slots.loader||[this.$createElement(o["a"],{props:{indeterminate:!0,size:23,width:2}})])}},render(e){const t=[this.genContent(),this.loading&&this.genLoader()],{tag:n,data:i}=this.generateRouteLink(),o=this.hasBg?this.setBackgroundColor:this.setTextColor;return"button"===n&&(i.attrs.type=this.type,i.attrs.disabled=this.disabled),i.attrs.value=["string","number"].includes(typeof this.value)?this.value:JSON.stringify(this.value),e(n,this.disabled?i:o(this.color,i),t)}})},"834f":function(e,t,n){"use strict";var i=n("096b"),o=n("0068").isSpace;function r(e,t,n,i){var r,s,a,l,u,c,h,d;for(this.src=e,this.md=t,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,d=!1,a=l=c=h=0,u=s.length;l<u;l++){if(r=s.charCodeAt(l),!d){if(o(r)){c++,9===r?h+=4-h%4:h++;continue}d=!0}10!==r&&l!==u-1||(10!==r&&l++,this.bMarks.push(a),this.eMarks.push(l),this.tShift.push(c),this.sCount.push(h),this.bsCount.push(0),d=!1,c=0,h=0,a=l+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}r.prototype.push=function(e,t,n){var o=new i(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},r.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},r.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t;e++)if(this.bMarks[e]+this.tShift[e]<this.eMarks[e])break;return e},r.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n;e++)if(t=this.src.charCodeAt(e),!o(t))break;return e},r.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;while(e>t)if(!o(this.src.charCodeAt(--e)))return e+1;return e},r.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n;e++)if(this.src.charCodeAt(e)!==t)break;return e},r.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;while(e>n)if(t!==this.src.charCodeAt(--e))return e+1;return e},r.prototype.getLines=function(e,t,n,i){var r,s,a,l,u,c,h,d=e;if(e>=t)return"";for(c=new Array(t-e),r=0;d<t;d++,r++){s=0,h=l=this.bMarks[d],u=d+1<t||i?this.eMarks[d]+1:this.eMarks[d];while(l<u&&s<n){if(a=this.src.charCodeAt(l),o(a))9===a?s+=4-(s+this.bsCount[d])%4:s++;else{if(!(l-h<this.tShift[d]))break;s++}l++}c[r]=s>n?new Array(s-n+1).join(" ")+this.src.slice(l,u):this.src.slice(l,u)}return c.join("")},r.prototype.Token=i,e.exports=r},"838d":function(e,t,n){"use strict";function i(e,t){var n,i,o,r,s,a,l,u,c={},h=t.length;if(h){var d=0,p=-2,f=[];for(n=0;n<h;n++)if(o=t[n],f.push(0),t[d].marker===o.marker&&p===o.token-1||(d=n),p=o.token,o.length=o.length||0,o.close){for(c.hasOwnProperty(o.marker)||(c[o.marker]=[-1,-1,-1,-1,-1,-1]),s=c[o.marker][(o.open?3:0)+o.length%3],i=d-f[d]-1,a=i;i>s;i-=f[i]+1)if(r=t[i],r.marker===o.marker&&r.open&&r.end<0&&(l=!1,(r.close||o.open)&&(r.length+o.length)%3===0&&(r.length%3===0&&o.length%3===0||(l=!0)),!l)){u=i>0&&!t[i-1].open?f[i-1]+1:0,f[n]=n-i+u,f[i]=u,o.open=!1,r.end=n,r.close=!1,a=-1,p=-2;break}-1!==a&&(c[o.marker][(o.open?3:0)+(o.length||0)%3]=a)}}}e.exports=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(i(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&i(e,n[t].delimiters)}},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8478:function(e,t,n){},8547:function(e,t,n){"use strict";var i=n("2b0e"),o=n("80d2");t["a"]=i["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:o["i"]}}})},"861d":function(e,t,n){var i=n("1626"),o=n("8ea1"),r=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===r}:function(e){return"object"==typeof e?null!==e:i(e)}},"86cc":function(e,t,n){},8836:function(e,t,n){},8899:function(e,t,n){},8925:function(e,t,n){var i=n("e330"),o=n("1626"),r=n("c6cd"),s=i(Function.toString);o(r.inspectSource)||(r.inspectSource=function(e){return s(e)}),e.exports=r.inspectSource},"8a31":function(e,t,n){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},"8b0d":function(e,t,n){},"8bf4":function(e,t,n){},"8c1d":function(e,t,n){var i,o,r;(function(s,a){o=[n("e98f")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e){
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
return e}))},"8ce9":function(e,t,n){},"8d4f":function(e,t,n){},"8d81":function(e,t,n){var i;(function(o){"use strict";function r(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function s(e,t){return e<<t|e>>>32-t}function a(e,t,n,i,o,a){return r(s(r(r(t,e),r(i,a)),o),n)}function l(e,t,n,i,o,r,s){return a(t&n|~t&i,e,t,o,r,s)}function u(e,t,n,i,o,r,s){return a(t&i|n&~i,e,t,o,r,s)}function c(e,t,n,i,o,r,s){return a(t^n^i,e,t,o,r,s)}function h(e,t,n,i,o,r,s){return a(n^(t|~i),e,t,o,r,s)}function d(e,t){var n,i,o,s,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var d=1732584193,p=-271733879,f=-1732584194,g=271733878;for(n=0;n<e.length;n+=16)i=d,o=p,s=f,a=g,d=l(d,p,f,g,e[n],7,-680876936),g=l(g,d,p,f,e[n+1],12,-389564586),f=l(f,g,d,p,e[n+2],17,606105819),p=l(p,f,g,d,e[n+3],22,-1044525330),d=l(d,p,f,g,e[n+4],7,-176418897),g=l(g,d,p,f,e[n+5],12,1200080426),f=l(f,g,d,p,e[n+6],17,-1473231341),p=l(p,f,g,d,e[n+7],22,-45705983),d=l(d,p,f,g,e[n+8],7,1770035416),g=l(g,d,p,f,e[n+9],12,-1958414417),f=l(f,g,d,p,e[n+10],17,-42063),p=l(p,f,g,d,e[n+11],22,-1990404162),d=l(d,p,f,g,e[n+12],7,1804603682),g=l(g,d,p,f,e[n+13],12,-40341101),f=l(f,g,d,p,e[n+14],17,-1502002290),p=l(p,f,g,d,e[n+15],22,1236535329),d=u(d,p,f,g,e[n+1],5,-165796510),g=u(g,d,p,f,e[n+6],9,-1069501632),f=u(f,g,d,p,e[n+11],14,643717713),p=u(p,f,g,d,e[n],20,-373897302),d=u(d,p,f,g,e[n+5],5,-701558691),g=u(g,d,p,f,e[n+10],9,38016083),f=u(f,g,d,p,e[n+15],14,-660478335),p=u(p,f,g,d,e[n+4],20,-405537848),d=u(d,p,f,g,e[n+9],5,568446438),g=u(g,d,p,f,e[n+14],9,-1019803690),f=u(f,g,d,p,e[n+3],14,-187363961),p=u(p,f,g,d,e[n+8],20,1163531501),d=u(d,p,f,g,e[n+13],5,-1444681467),g=u(g,d,p,f,e[n+2],9,-51403784),f=u(f,g,d,p,e[n+7],14,1735328473),p=u(p,f,g,d,e[n+12],20,-1926607734),d=c(d,p,f,g,e[n+5],4,-378558),g=c(g,d,p,f,e[n+8],11,-2022574463),f=c(f,g,d,p,e[n+11],16,1839030562),p=c(p,f,g,d,e[n+14],23,-35309556),d=c(d,p,f,g,e[n+1],4,-1530992060),g=c(g,d,p,f,e[n+4],11,1272893353),f=c(f,g,d,p,e[n+7],16,-155497632),p=c(p,f,g,d,e[n+10],23,-1094730640),d=c(d,p,f,g,e[n+13],4,681279174),g=c(g,d,p,f,e[n],11,-358537222),f=c(f,g,d,p,e[n+3],16,-722521979),p=c(p,f,g,d,e[n+6],23,76029189),d=c(d,p,f,g,e[n+9],4,-640364487),g=c(g,d,p,f,e[n+12],11,-421815835),f=c(f,g,d,p,e[n+15],16,530742520),p=c(p,f,g,d,e[n+2],23,-995338651),d=h(d,p,f,g,e[n],6,-198630844),g=h(g,d,p,f,e[n+7],10,1126891415),f=h(f,g,d,p,e[n+14],15,-1416354905),p=h(p,f,g,d,e[n+5],21,-57434055),d=h(d,p,f,g,e[n+12],6,1700485571),g=h(g,d,p,f,e[n+3],10,-1894986606),f=h(f,g,d,p,e[n+10],15,-1051523),p=h(p,f,g,d,e[n+1],21,-2054922799),d=h(d,p,f,g,e[n+8],6,1873313359),g=h(g,d,p,f,e[n+15],10,-30611744),f=h(f,g,d,p,e[n+6],15,-1560198380),p=h(p,f,g,d,e[n+13],21,1309151649),d=h(d,p,f,g,e[n+4],6,-145523070),g=h(g,d,p,f,e[n+11],10,-1120210379),f=h(f,g,d,p,e[n+2],15,718787259),p=h(p,f,g,d,e[n+9],21,-343485551),d=r(d,i),p=r(p,o),f=r(f,s),g=r(g,a);return[d,p,f,g]}function p(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function g(e){return p(d(f(e),8*e.length))}function m(e,t){var n,i,o=f(e),r=[],s=[];for(r[15]=s[15]=void 0,o.length>16&&(o=d(o,8*e.length)),n=0;n<16;n+=1)r[n]=909522486^o[n],s[n]=1549556828^o[n];return i=d(r.concat(f(t)),512+8*t.length),p(d(s.concat(i),640))}function _(e){var t,n,i="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=i.charAt(t>>>4&15)+i.charAt(15&t);return o}function v(e){return unescape(encodeURIComponent(e))}function y(e){return g(v(e))}function b(e){return _(y(e))}function w(e,t){return m(v(e),v(t))}function C(e,t){return _(w(e,t))}function S(e,t,n){return t?n?w(t,e):C(t,e):n?y(e):b(e)}i=function(){return S}.call(t,n,t,e),void 0===i||(e.exports=i)})()},"8da5":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var i=n("80d2");const o=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],r=e=>e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055,s=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],a=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function l(e){const t=Array(3),n=r,s=o;for(let o=0;o<3;++o)t[o]=Math.round(255*Object(i["e"])(n(s[o][0]*e[0]+s[o][1]*e[1]+s[o][2]*e[2])));return(t[0]<<16)+(t[1]<<8)+(t[2]<<0)}function u(e){const t=[0,0,0],n=a,i=s,o=n((e>>16&255)/255),r=n((e>>8&255)/255),l=n((e>>0&255)/255);for(let s=0;s<3;++s)t[s]=i[s][0]*o+i[s][1]*r+i[s][2]*l;return t}},"8dd9":function(e,t,n){"use strict";n("25a8");var i=n("7e2b"),o=n("a9ad"),r=n("c995"),s=n("24b2"),a=(n("14d9"),n("2b0e")),l=a["a"].extend({name:"roundable",props:{rounded:[Boolean,String],tile:Boolean},computed:{roundedClasses(){const e=[],t="string"===typeof this.rounded?String(this.rounded):!0===this.rounded;if(this.tile)e.push("rounded-0");else if("string"===typeof t){const n=t.split(" ");for(const t of n)e.push("rounded-"+t)}else t&&e.push("rounded");return e.length>0?{[e.join(" ")]:!0}:{}}}}),u=n("7560"),c=n("58df");t["a"]=Object(c["a"])(i["a"],o["a"],r["a"],s["a"],l,u["a"]).extend({name:"v-sheet",props:{outlined:Boolean,shaped:Boolean,tag:{type:String,default:"div"}},computed:{classes(){return{"v-sheet":!0,"v-sheet--outlined":this.outlined,"v-sheet--shaped":this.shaped,...this.themeClasses,...this.elevationClasses,...this.roundedClasses}},styles(){return this.measurableStyles}},render(e){const t={class:this.classes,style:this.styles,on:this.listeners$};return e(this.tag,this.setBackgroundColor(this.color,t),this.$slots.default)}})},"8ea1":function(e,t){var n="object"==typeof document&&document.all,i="undefined"==typeof n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:i}},"8ea9":function(e,t,n){"use strict";n.r(t),n.d(t,"CancellationTokenSource",(function(){return SB})),n.d(t,"Emitter",(function(){return EB})),n.d(t,"KeyCode",(function(){return TB})),n.d(t,"KeyMod",(function(){return kB})),n.d(t,"Position",(function(){return xB})),n.d(t,"Range",(function(){return LB})),n.d(t,"Selection",(function(){return IB})),n.d(t,"SelectionDirection",(function(){return OB})),n.d(t,"MarkerSeverity",(function(){return DB})),n.d(t,"MarkerTag",(function(){return NB})),n.d(t,"Uri",(function(){return RB})),n.d(t,"Token",(function(){return AB})),n.d(t,"editor",(function(){return MB})),n.d(t,"languages",(function(){return PB}));var i={};function o(e,t){var n;return n=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){var i=n[0];return"undefined"!==typeof t[i]?t[i]:e})),n}function r(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return o(t,n)}n.r(i),n.d(i,"win32",(function(){return Ks})),n.d(i,"posix",(function(){return qs})),n.d(i,"normalize",(function(){return Ys})),n.d(i,"join",(function(){return Xs})),n.d(i,"relative",(function(){return Zs})),n.d(i,"dirname",(function(){return Js})),n.d(i,"basename",(function(){return Qs})),n.d(i,"extname",(function(){return ea})),n.d(i,"sep",(function(){return ta}));var s=n("30db"),a="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function l(e){void 0===e&&(e="");for(var t="(-?\\d*\\.\\d\\w*)|([^",n=0,i=a;n<i.length;n++){var o=i[n];e.indexOf(o)>=0||(t+="\\"+o)}return t+="\\s]+)",new RegExp(t,"g")}var u=l();function c(e){var t=u;if(e&&e instanceof RegExp)if(e.global)t=e;else{var n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.unicode&&(n+="u"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}function h(e,t,n,i){var o,r=e-1-i,s=n.lastIndexOf(" ",r-1)+1;t.lastIndex=s;while(o=t.exec(n)){var a=o.index||0;if(a<=r&&t.lastIndex>=r)return{word:o[0],startColumn:i+1+a,endColumn:i+1+t.lastIndex}}return null}function d(e,t,n,i){var o,r=e-1-i;t.lastIndex=0;while(o=t.exec(n)){var s=o.index||0;if(s>r)return null;if(t.lastIndex>=r)return{word:o[0],startColumn:i+1+s,endColumn:i+1+t.lastIndex}}return null}function p(e,t,n,i){t.lastIndex=0;var o=t.exec(n);if(!o)return null;var r=o[0].indexOf(" ")>=0?d(e,t,n,i):h(e,t,n,i);return t.lastIndex=0,r}var f=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),g=function(){return g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},g.apply(this,arguments)},m=8,_=function(){function e(e){this._values=e}return e.prototype.hasChanged=function(e){return this._values[e]},e}(),v=function(){function e(){this._values=[]}return e.prototype._read=function(e){return this._values[e]},e.prototype.get=function(e){return this._values[e]},e.prototype._write=function(e,t){this._values[e]=t},e}(),y=function(){function e(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}return e.prototype.compute=function(e,t,n){return n},e}(),b=function(){function e(e,t){void 0===t&&(t=null),this.schema=void 0,this.id=e,this.name="_never_",this.defaultValue=void 0,this.deps=t}return e.prototype.validate=function(e){return this.defaultValue},e}(),w=function(){function e(e,t,n,i){this.id=e,this.name=t,this.defaultValue=n,this.schema=i}return e.prototype.validate=function(e){return"undefined"===typeof e?this.defaultValue:e},e.prototype.compute=function(e,t,n){return n},e}(),C=function(e){function t(t,n,i,o){void 0===o&&(o=void 0);var r=this;return"undefined"!==typeof o&&(o.type="boolean",o.default=i),r=e.call(this,t,n,i,o)||this,r}return f(t,e),t.boolean=function(e,t){return"undefined"===typeof e?t:"false"!==e&&Boolean(e)},t.prototype.validate=function(e){return t.boolean(e,this.defaultValue)},t}(w),S=function(e){function t(t,n,i,o,r,s){void 0===s&&(s=void 0);var a=this;return"undefined"!==typeof s&&(s.type="integer",s.default=i,s.minimum=o,s.maximum=r),a=e.call(this,t,n,i,s)||this,a.minimum=o,a.maximum=r,a}return f(t,e),t.clampedInt=function(e,t,n,i){var o;return"undefined"===typeof e?o=t:(o=parseInt(e,10),isNaN(o)&&(o=t)),o=Math.max(n,o),o=Math.min(i,o),0|o},t.prototype.validate=function(e){return t.clampedInt(e,this.defaultValue,this.minimum,this.maximum)},t}(w),E=function(e){function t(t,n,i,o,r){var s=this;return"undefined"!==typeof r&&(r.type="number",r.default=i),s=e.call(this,t,n,i,r)||this,s.validationFn=o,s}return f(t,e),t.clamp=function(e,t,n){return e<t?t:e>n?n:e},t.float=function(e,t){if("number"===typeof e)return e;if("undefined"===typeof e)return t;var n=parseFloat(e);return isNaN(n)?t:n},t.prototype.validate=function(e){return this.validationFn(t.float(e,this.defaultValue))},t}(w),T=function(e){function t(t,n,i,o){void 0===o&&(o=void 0);var r=this;return"undefined"!==typeof o&&(o.type="string",o.default=i),r=e.call(this,t,n,i,o)||this,r}return f(t,e),t.string=function(e,t){return"string"!==typeof e?t:e},t.prototype.validate=function(e){return t.string(e,this.defaultValue)},t}(w),k=function(e){function t(t,n,i,o,r){void 0===r&&(r=void 0);var s=this;return"undefined"!==typeof r&&(r.type="string",r.enum=o,r.default=i),s=e.call(this,t,n,i,r)||this,s._allowedValues=o,s}return f(t,e),t.stringSet=function(e,t,n){return"string"!==typeof e||-1===n.indexOf(e)?t:e},t.prototype.validate=function(e){return t.stringSet(e,this.defaultValue,this._allowedValues)},t}(w),x=function(e){function t(t,n,i,o,r,s,a){void 0===a&&(a=void 0);var l=this;return"undefined"!==typeof a&&(a.type="string",a.enum=r,a.default=o),l=e.call(this,t,n,i,a)||this,l._allowedValues=r,l._convert=s,l}return f(t,e),t.prototype.validate=function(e){return"string"!==typeof e||-1===this._allowedValues.indexOf(e)?this.defaultValue:this._convert(e)},t}(y);function L(e){switch(e){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}var I,O=function(e){function t(){return e.call(this,2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[r("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),r("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader."),r("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:r("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers.")})||this}return f(t,e),t.prototype.validate=function(e){switch(e){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue},t.prototype.compute=function(e,t,n){return 0===n?e.accessibilitySupport:n},t}(y),D=function(e){function t(){var t=this,n={insertSpace:!0};return t=e.call(this,13,"comments",n,{"editor.comments.insertSpace":{type:"boolean",default:n.insertSpace,description:r("comments.insertSpace","Controls whether a space character is inserted when commenting.")}})||this,t}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e;return{insertSpace:C.boolean(t.insertSpace,this.defaultValue.insertSpace)}},t}(y);function N(e){switch(e){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}function R(e){switch(e){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}(function(e){e[e["Line"]=1]="Line",e[e["Block"]=2]="Block",e[e["Underline"]=3]="Underline",e[e["LineThin"]=4]="LineThin",e[e["BlockOutline"]=5]="BlockOutline",e[e["UnderlineThin"]=6]="UnderlineThin"})(I||(I={}));var A=function(e){function t(){return e.call(this,104,[55,26])||this}return f(t,e),t.prototype.compute=function(e,t,n){var i="monaco-editor";return t.get(26)&&(i+=" "+t.get(26)),e.extraEditorClassName&&(i+=" "+e.extraEditorClassName),"default"===t.get(55)?i+=" mouse-default":"copy"===t.get(55)&&(i+=" mouse-copy"),t.get(85)&&(i+=" showUnused"),i},t}(b),M=function(e){function t(){return e.call(this,25,"emptySelectionClipboard",!0,{description:r("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})||this}return f(t,e),t.prototype.compute=function(e,t,n){return n&&e.emptySelectionClipboard},t}(C),P=function(e){function t(){var t=this,n={seedSearchStringFromSelection:!0,autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0};return t=e.call(this,28,"find",n,{"editor.find.seedSearchStringFromSelection":{type:"boolean",default:n.seedSearchStringFromSelection,description:r("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:n.autoFindInSelection,enumDescriptions:[r("editor.find.autoFindInSelection.never","Never turn on Find in selection automatically (default)"),r("editor.find.autoFindInSelection.always","Always turn on Find in selection automatically"),r("editor.find.autoFindInSelection.multiline","Turn on Find in selection automatically when multiple lines of content are selected.")],description:r("find.autoFindInSelection","Controls whether the find operation is carried out on selected text or the entire file in the editor.")},"editor.find.globalFindClipboard":{type:"boolean",default:n.globalFindClipboard,description:r("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:s["e"]},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:n.addExtraSpaceOnTop,description:r("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")}})||this,t}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e;return{seedSearchStringFromSelection:C.boolean(t.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection),autoFindInSelection:"boolean"===typeof e.autoFindInSelection?e.autoFindInSelection?"always":"never":k.stringSet(t.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:C.boolean(t.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:C.boolean(t.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop)}},t}(y),F=function(e){function t(){return e.call(this,35,"fontLigatures",t.OFF,{anyOf:[{type:"boolean",description:r("fontLigatures","Enables/Disables font ligatures.")},{type:"string",description:r("fontFeatureSettings","Explicit font-feature-settings.")}],description:r("fontLigaturesGeneral","Configures font ligatures."),default:!1})||this}return f(t,e),t.prototype.validate=function(e){return"undefined"===typeof e?this.defaultValue:"string"===typeof e?"false"===e?t.OFF:"true"===e?t.ON:e:Boolean(e)?t.ON:t.OFF},t.OFF='"liga" off, "calt" off',t.ON='"liga" on, "calt" on',t}(y),B=function(e){function t(){return e.call(this,34)||this}return f(t,e),t.prototype.compute=function(e,t,n){return e.fontInfo},t}(b),V=function(e){function t(){return e.call(this,36,"fontSize",le.fontSize,{type:"number",minimum:6,maximum:100,default:le.fontSize,description:r("fontSize","Controls the font size in pixels.")})||this}return f(t,e),t.prototype.validate=function(e){var t=E.float(e,this.defaultValue);return 0===t?le.fontSize:E.clamp(t,6,100)},t.prototype.compute=function(e,t,n){return e.fontInfo.fontSize},t}(w),H=function(e){function t(){var t=this,n={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},i={type:"string",enum:["peek","gotoAndPeek","goto"],default:n.multiple,enumDescriptions:[r("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),r("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),r("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]};return t=e.call(this,41,"gotoLocation",n,{"editor.gotoLocation.multiple":{deprecationMessage:r("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":g({description:r("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleTypeDefinitions":g({description:r("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleDeclarations":g({description:r("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleImplementations":g({description:r("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},i),"editor.gotoLocation.multipleReferences":g({description:r("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},i),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:n.alternativeDefinitionCommand,description:r("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:n.alternativeTypeDefinitionCommand,description:r("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:n.alternativeDeclarationCommand,description:r("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:n.alternativeImplementationCommand,description:r("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:n.alternativeReferenceCommand,description:r("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})||this,t}return f(t,e),t.prototype.validate=function(e){var t,n,i,o,r;if("object"!==typeof e)return this.defaultValue;var s=e;return{multiple:k.stringSet(s.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(t=s.multipleDefinitions)&&void 0!==t?t:k.stringSet(s.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(n=s.multipleTypeDefinitions)&&void 0!==n?n:k.stringSet(s.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(i=s.multipleDeclarations)&&void 0!==i?i:k.stringSet(s.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(o=s.multipleImplementations)&&void 0!==o?o:k.stringSet(s.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(r=s.multipleReferences)&&void 0!==r?r:k.stringSet(s.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:T.string(s.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:T.string(s.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:T.string(s.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:T.string(s.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:T.string(s.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}},t}(y),$=function(e){function t(){var t=this,n={enabled:!0,delay:300,sticky:!0};return t=e.call(this,44,"hover",n,{"editor.hover.enabled":{type:"boolean",default:n.enabled,description:r("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:n.delay,description:r("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:n.sticky,description:r("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")}})||this,t}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e;return{enabled:C.boolean(t.enabled,this.defaultValue.enabled),delay:S.clampedInt(t.delay,this.defaultValue.delay,0,1e4),sticky:C.boolean(t.sticky,this.defaultValue.sticky)}},t}(y),W=function(e){function t(){return e.call(this,107,[40,48,30,54,78,50])||this}return f(t,e),t.prototype.compute=function(e,n,i){return t.computeLayout(n,{outerWidth:e.outerWidth,outerHeight:e.outerHeight,lineHeight:e.fontInfo.lineHeight,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio})},t.computeLayout=function(e,t){var n,i=0|t.outerWidth,o=0|t.outerHeight,r=0|t.lineHeight,s=0|t.lineNumbersDigitCount,a=t.typicalHalfwidthCharacterWidth,l=t.maxDigitWidth,u=t.pixelRatio,c=e.get(40),h=0!==e.get(50).renderType,d=0|e.get(51),p=e.get(54),f=p.enabled,g=p.side,_=p.renderCharacters,v=u>=2?Math.round(2*p.scale):p.scale,y=0|p.maxColumn,b=e.get(78),w=0|b.verticalScrollbarSize,C=b.verticalHasArrows,E=0|b.arrowSize,T=0|b.horizontalScrollbarSize,k=e.get(48),x=e.get(30);if("string"===typeof k&&/^\d+(\.\d+)?ch$/.test(k)){var L=parseFloat(k.substr(0,k.length-2));n=S.clampedInt(L*a,0,0,1e3)}else n=S.clampedInt(k,0,0,1e3);x&&(n+=16);var I=0;if(h){var O=Math.max(s,d);I=Math.round(O*l)}var D=0;c&&(D=r);var N,R,A,M,P=0,F=P+D,B=F+I,V=B+n,H=i-D-I-n;if(f){var $=v/u;N=_?1:2,A=Math.max(0,Math.floor((H-w-2)*$/(a+$)))+m;var W=A/$;W>y&&(A=Math.floor(y*$)),M=H-A,"left"===g?(R=0,P+=A,F+=A,B+=A,V+=A):R=i-A-w}else R=0,A=0,N=0,M=H;var U=Math.max(1,Math.floor((M-w-2)/a)),z=C?E:0;return{width:i,height:o,glyphMarginLeft:P,glyphMarginWidth:D,lineNumbersLeft:F,lineNumbersWidth:I,decorationsLeft:B,decorationsWidth:n,contentLeft:V,contentWidth:M,renderMinimap:N,minimapLeft:R,minimapWidth:A,viewportColumn:U,verticalScrollbarWidth:w,horizontalScrollbarHeight:T,overviewRuler:{top:z,width:w,height:o-2*z,right:0}}},t}(b),U=function(e){function t(){var t=this,n={enabled:!0};return t=e.call(this,47,"lightbulb",n,{"editor.lightbulb.enabled":{type:"boolean",default:n.enabled,description:r("codeActions","Enables the code action lightbulb in the editor.")}})||this,t}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e;return{enabled:C.boolean(t.enabled,this.defaultValue.enabled)}},t}(y),z=function(e){function t(){return e.call(this,49,"lineHeight",le.lineHeight,0,150,{description:r("lineHeight","Controls the line height. Use 0 to compute the line height from the font size.")})||this}return f(t,e),t.prototype.compute=function(e,t,n){return e.fontInfo.lineHeight},t}(S),j=function(e){function t(){var t=this,n={enabled:!0,side:"right",showSlider:"mouseover",renderCharacters:!0,maxColumn:120,scale:1};return t=e.call(this,54,"minimap",n,{"editor.minimap.enabled":{type:"boolean",default:n.enabled,description:r("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:n.side,description:r("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:n.showSlider,description:r("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:n.scale,minimum:1,maximum:3,description:r("minimap.scale","Scale of content drawn in the minimap.")},"editor.minimap.renderCharacters":{type:"boolean",default:n.renderCharacters,description:r("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:n.maxColumn,description:r("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})||this,t}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e;return{enabled:C.boolean(t.enabled,this.defaultValue.enabled),side:k.stringSet(t.side,this.defaultValue.side,["right","left"]),showSlider:k.stringSet(t.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:C.boolean(t.renderCharacters,this.defaultValue.renderCharacters),scale:S.clampedInt(t.scale,1,1,3),maxColumn:S.clampedInt(t.maxColumn,this.defaultValue.maxColumn,1,1e4)}},t}(y);function G(e){return"ctrlCmd"===e?s["e"]?"metaKey":"ctrlKey":"altKey"}var K=function(e){function t(){var t=this,n={enabled:!0,cycle:!1};return t=e.call(this,64,"parameterHints",n,{"editor.parameterHints.enabled":{type:"boolean",default:n.enabled,description:r("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:n.cycle,description:r("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})||this,t}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e;return{enabled:C.boolean(t.enabled,this.defaultValue.enabled),cycle:C.boolean(t.cycle,this.defaultValue.cycle)}},t}(y),q=function(e){function t(){return e.call(this,105)||this}return f(t,e),t.prototype.compute=function(e,t,n){return e.pixelRatio},t}(b),Y=function(e){function t(){var t=this,n={other:!0,comments:!1,strings:!1};return t=e.call(this,66,"quickSuggestions",n,{anyOf:[{type:"boolean"},{type:"object",properties:{strings:{type:"boolean",default:n.strings,description:r("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{type:"boolean",default:n.comments,description:r("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{type:"boolean",default:n.other,description:r("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}}}],default:n,description:r("quickSuggestions","Controls whether suggestions should automatically show up while typing.")})||this,t.defaultValue=n,t}return f(t,e),t.prototype.validate=function(e){if("boolean"===typeof e)return e;if("object"===typeof e){var t=e,n={other:C.boolean(t.other,this.defaultValue.other),comments:C.boolean(t.comments,this.defaultValue.comments),strings:C.boolean(t.strings,this.defaultValue.strings)};return!!(n.other&&n.comments&&n.strings)||!!(n.other||n.comments||n.strings)&&n}return this.defaultValue},t}(y),X=function(e){function t(){return e.call(this,50,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[r("lineNumbers.off","Line numbers are not rendered."),r("lineNumbers.on","Line numbers are rendered as absolute number."),r("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),r("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:r("lineNumbers","Controls the display of line numbers.")})||this}return f(t,e),t.prototype.validate=function(e){var t=this.defaultValue.renderType,n=this.defaultValue.renderFn;return"undefined"!==typeof e&&("function"===typeof e?(t=4,n=e):t="interval"===e?3:"relative"===e?2:"on"===e?1:0),{renderType:t,renderFn:n}},t}(y);function Z(e){var t=e.get(73);return"editable"===t?e.get(68):"on"!==t}var J=function(e){function t(){var t=this,n=[];return t=e.call(this,77,"rulers",n,{type:"array",items:{type:"number"},default:n,description:r("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})||this,t}return f(t,e),t.prototype.validate=function(e){if(Array.isArray(e)){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n];t.push(S.clampedInt(o,0,0,1e4))}return t.sort((function(e,t){return e-t})),t}return this.defaultValue},t}(w);function Q(e,t){if("string"!==typeof e)return t;switch(e){case"hidden":return 2;case"visible":return 3;default:return 1}}var ee=function(e){function t(){return e.call(this,78,"scrollbar",{vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:10,horizontalSliderSize:10,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0})||this}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e,n=S.clampedInt(t.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),i=S.clampedInt(t.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:S.clampedInt(t.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Q(t.vertical,this.defaultValue.vertical),horizontal:Q(t.horizontal,this.defaultValue.horizontal),useShadows:C.boolean(t.useShadows,this.defaultValue.useShadows),verticalHasArrows:C.boolean(t.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:C.boolean(t.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:C.boolean(t.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:C.boolean(t.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:n,horizontalSliderSize:S.clampedInt(t.horizontalSliderSize,n,0,1e3),verticalScrollbarSize:i,verticalSliderSize:S.clampedInt(t.verticalSliderSize,i,0,1e3)}},t}(y),te=function(e){function t(){var t=this,n={insertMode:"insert",insertHighlight:!1,filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,maxVisibleSuggestions:12,showMethods:!0,showFunctions:!0,showConstructors:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,hideStatusBar:!0};return t=e.call(this,89,"suggest",n,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[r("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),r("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:n.insertMode,description:r("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.insertHighlight":{type:"boolean",default:n.insertHighlight,description:r("suggest.insertHighlight","Controls whether unexpected text modifications while accepting completions should be highlighted, e.g `insertMode` is `replace` but the completion only supports `insert`.")},"editor.suggest.filterGraceful":{type:"boolean",default:n.filterGraceful,description:r("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:n.localityBonus,description:r("suggest.localityBonus","Controls whether sorting favours words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:n.shareSuggestSelections,markdownDescription:r("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:n.snippetsPreventQuickSuggestions,description:r("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:n.showIcons,description:r("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.maxVisibleSuggestions":{type:"number",default:n.maxVisibleSuggestions,minimum:1,maximum:15,description:r("suggest.maxVisibleSuggestions","Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:r("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.hideStatusBar":{type:"boolean",default:!0,markdownDescription:r("editor.suggest.hideStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")}})||this,t}return f(t,e),t.prototype.validate=function(e){if("object"!==typeof e)return this.defaultValue;var t=e;return{insertMode:k.stringSet(t.insertMode,this.defaultValue.insertMode,["insert","replace"]),insertHighlight:C.boolean(t.insertHighlight,this.defaultValue.insertHighlight),filterGraceful:C.boolean(t.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:C.boolean(t.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:C.boolean(t.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:C.boolean(t.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:C.boolean(t.showIcons,this.defaultValue.showIcons),maxVisibleSuggestions:S.clampedInt(t.maxVisibleSuggestions,this.defaultValue.maxVisibleSuggestions,1,15),showMethods:C.boolean(t.showMethods,this.defaultValue.showMethods),showFunctions:C.boolean(t.showFunctions,this.defaultValue.showFunctions),showConstructors:C.boolean(t.showConstructors,this.defaultValue.showConstructors),showFields:C.boolean(t.showFields,this.defaultValue.showFields),showVariables:C.boolean(t.showVariables,this.defaultValue.showVariables),showClasses:C.boolean(t.showClasses,this.defaultValue.showClasses),showStructs:C.boolean(t.showStructs,this.defaultValue.showStructs),showInterfaces:C.boolean(t.showInterfaces,this.defaultValue.showInterfaces),showModules:C.boolean(t.showModules,this.defaultValue.showModules),showProperties:C.boolean(t.showProperties,this.defaultValue.showProperties),showEvents:C.boolean(t.showEvents,this.defaultValue.showEvents),showOperators:C.boolean(t.showOperators,this.defaultValue.showOperators),showUnits:C.boolean(t.showUnits,this.defaultValue.showUnits),showValues:C.boolean(t.showValues,this.defaultValue.showValues),showConstants:C.boolean(t.showConstants,this.defaultValue.showConstants),showEnums:C.boolean(t.showEnums,this.defaultValue.showEnums),showEnumMembers:C.boolean(t.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:C.boolean(t.showKeywords,this.defaultValue.showKeywords),showWords:C.boolean(t.showWords,this.defaultValue.showWords),showColors:C.boolean(t.showColors,this.defaultValue.showColors),showFiles:C.boolean(t.showFiles,this.defaultValue.showFiles),showReferences:C.boolean(t.showReferences,this.defaultValue.showReferences),showFolders:C.boolean(t.showFolders,this.defaultValue.showFolders),showTypeParameters:C.boolean(t.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:C.boolean(t.showSnippets,this.defaultValue.showSnippets),hideStatusBar:C.boolean(t.hideStatusBar,this.defaultValue.hideStatusBar)}},t}(y),ne=function(e){function t(){return e.call(this,106,[68])||this}return f(t,e),t.prototype.compute=function(e,t,n){var i=t.get(68);return!!i||e.tabFocusMode},t}(b);function ie(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}var oe=function(e){function t(){return e.call(this,108,[97,100,101,107,2])||this}return f(t,e),t.prototype.compute=function(e,t,n){var i=t.get(97),o=t.get(100),r=t.get(101),s=t.get(107),a=t.get(2),l=null;return l=2===a?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1}:r&&e.isDominatedByLongLines?{isWordWrapMinified:!0,isViewportWrapping:!0,wrappingColumn:Math.max(1,s.viewportColumn)}:"on"===i?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.max(1,s.viewportColumn)}:"bounded"===i?{isWordWrapMinified:!1,isViewportWrapping:!0,wrappingColumn:Math.min(Math.max(1,s.viewportColumn),o)}:"wordWrapColumn"===i?{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:o}:{isWordWrapMinified:!1,isViewportWrapping:!1,wrappingColumn:-1},{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:l.isWordWrapMinified,isViewportWrapping:l.isViewportWrapping,wrappingColumn:l.wrappingColumn}},t}(b),re="Consolas, 'Courier New', monospace",se="Menlo, Monaco, 'Courier New', monospace",ae="'Droid Sans Mono', 'monospace', monospace, 'Droid Sans Fallback'",le={fontFamily:s["e"]?se:s["d"]?ae:re,fontWeight:"normal",fontSize:s["e"]?12:14,lineHeight:0,letterSpacing:0},ue={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0},ce=[];function he(e){return ce[e.id]=e,e}var de={acceptSuggestionOnCommitCharacter:he(new C(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:r("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:he(new k(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",r("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:r("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:he(new O),accessibilityPageSize:he(new S(3,"accessibilityPageSize",10,1,1073741824,{description:r("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:he(new T(4,"ariaLabel",r("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:he(new k(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",r("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),r("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:r("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingOvertype:he(new k(6,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",r("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:r("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:he(new k(7,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",r("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),r("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:r("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:he(new x(8,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],L,{enumDescriptions:[r("editor.autoIndent.none","The editor will not insert indentation automatically."),r("editor.autoIndent.keep","The editor will keep the current line's indentation."),r("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),r("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),r("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:r("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:he(new C(9,"automaticLayout",!1)),autoSurround:he(new k(10,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[r("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),r("editor.autoSurround.quotes","Surround with quotes but not brackets."),r("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:r("autoSurround","Controls whether the editor should automatically surround selections.")})),codeLens:he(new C(11,"codeLens",!0,{description:r("codeLens","Controls whether the editor shows CodeLens.")})),colorDecorators:he(new C(12,"colorDecorators",!0,{description:r("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),comments:he(new D),contextmenu:he(new C(14,"contextmenu",!0)),copyWithSyntaxHighlighting:he(new C(15,"copyWithSyntaxHighlighting",!0,{description:r("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:he(new x(16,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],N,{description:r("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:he(new C(17,"cursorSmoothCaretAnimation",!1,{description:r("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:he(new x(18,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],R,{description:r("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:he(new S(19,"cursorSurroundingLines",0,0,1073741824,{description:r("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or `scrollOffset` in some other editors.")})),cursorSurroundingLinesStyle:he(new k(20,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[r("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),r("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:r("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:he(new S(21,"cursorWidth",0,0,1073741824,{markdownDescription:r("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:he(new C(22,"disableLayerHinting",!1)),disableMonospaceOptimizations:he(new C(23,"disableMonospaceOptimizations",!1)),dragAndDrop:he(new C(24,"dragAndDrop",!0,{description:r("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:he(new M),extraEditorClassName:he(new T(26,"extraEditorClassName","")),fastScrollSensitivity:he(new E(27,"fastScrollSensitivity",5,(function(e){return e<=0?5:e}),{markdownDescription:r("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:he(new P),fixedOverflowWidgets:he(new C(29,"fixedOverflowWidgets",!1)),folding:he(new C(30,"folding",!0,{description:r("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:he(new k(31,"foldingStrategy","auto",["auto","indentation"],{markdownDescription:r("foldingStrategy","Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.")})),foldingHighlight:he(new C(32,"foldingHighlight",!0,{description:r("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),fontFamily:he(new T(33,"fontFamily",le.fontFamily,{description:r("fontFamily","Controls the font family.")})),fontInfo:he(new B),fontLigatures2:he(new F),fontSize:he(new V),fontWeight:he(new T(37,"fontWeight",le.fontWeight,{enum:["normal","bold","100","200","300","400","500","600","700","800","900"],description:r("fontWeight","Controls the font weight.")})),formatOnPaste:he(new C(38,"formatOnPaste",!1,{description:r("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:he(new C(39,"formatOnType",!1,{description:r("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:he(new C(40,"glyphMargin",!0,{description:r("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:he(new H),hideCursorInOverviewRuler:he(new C(42,"hideCursorInOverviewRuler",!1,{description:r("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),highlightActiveIndentGuide:he(new C(43,"highlightActiveIndentGuide",!0,{description:r("highlightActiveIndentGuide","Controls whether the editor should highlight the active indent guide.")})),hover:he(new $),inDiffEditor:he(new C(45,"inDiffEditor",!1)),letterSpacing:he(new E(46,"letterSpacing",le.letterSpacing,(function(e){return E.clamp(e,-5,20)}),{description:r("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:he(new U),lineDecorationsWidth:he(new w(48,"lineDecorationsWidth",10)),lineHeight:he(new z),lineNumbers:he(new X),lineNumbersMinChars:he(new S(51,"lineNumbersMinChars",5,1,300)),links:he(new C(52,"links",!0,{description:r("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:he(new k(53,"matchBrackets","always",["always","near","never"],{description:r("matchBrackets","Highlight matching brackets.")})),minimap:he(new j),mouseStyle:he(new k(55,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:he(new E(56,"mouseWheelScrollSensitivity",1,(function(e){return 0===e?1:e}),{markdownDescription:r("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:he(new C(57,"mouseWheelZoom",!1,{markdownDescription:r("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:he(new C(58,"multiCursorMergeOverlapping",!0,{description:r("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:he(new x(59,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],G,{markdownEnumDescriptions:[r("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),r("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:r({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:he(new k(60,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[r("multiCursorPaste.spread","Each cursor pastes a single line of the text."),r("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:r("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:he(new C(61,"occurrencesHighlight",!0,{description:r("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:he(new C(62,"overviewRulerBorder",!0,{description:r("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:he(new S(63,"overviewRulerLanes",3,0,3)),parameterHints:he(new K),peekWidgetDefaultFocus:he(new k(65,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[r("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),r("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:r("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),quickSuggestions:he(new Y),quickSuggestionsDelay:he(new S(67,"quickSuggestionsDelay",10,0,1073741824,{description:r("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:he(new C(68,"readOnly",!1)),renderControlCharacters:he(new C(69,"renderControlCharacters",!1,{description:r("renderControlCharacters","Controls whether the editor should render control characters.")})),renderIndentGuides:he(new C(70,"renderIndentGuides",!0,{description:r("renderIndentGuides","Controls whether the editor should render indent guides.")})),renderFinalNewline:he(new C(71,"renderFinalNewline",!0,{description:r("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:he(new k(72,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",r("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:r("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderValidationDecorations:he(new k(73,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:he(new k(74,"renderWhitespace","none",["none","boundary","selection","all"],{enumDescriptions:["",r("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),r("renderWhitespace.selection","Render whitespace characters only on selected text."),""],description:r("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:he(new S(75,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:he(new C(76,"roundedSelection",!0,{description:r("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:he(new J),scrollbar:he(new ee),scrollBeyondLastColumn:he(new S(79,"scrollBeyondLastColumn",5,0,1073741824,{description:r("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:he(new C(80,"scrollBeyondLastLine",!0,{description:r("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),selectionClipboard:he(new C(81,"selectionClipboard",!0,{description:r("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:s["d"]})),selectionHighlight:he(new C(82,"selectionHighlight",!0,{description:r("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:he(new C(83,"selectOnLineNumbers",!0)),showFoldingControls:he(new k(84,"showFoldingControls","mouseover",["always","mouseover"],{description:r("showFoldingControls","Controls whether the fold controls on the gutter are automatically hidden.")})),showUnused:he(new C(85,"showUnused",!0,{description:r("showUnused","Controls fading out of unused code.")})),snippetSuggestions:he(new k(86,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[r("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),r("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),r("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),r("snippetSuggestions.none","Do not show snippet suggestions.")],description:r("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smoothScrolling:he(new C(87,"smoothScrolling",!1,{description:r("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:he(new S(88,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:he(new te),suggestFontSize:he(new S(90,"suggestFontSize",0,0,1e3,{markdownDescription:r("suggestFontSize","Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.")})),suggestLineHeight:he(new S(91,"suggestLineHeight",0,0,1e3,{markdownDescription:r("suggestLineHeight","Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.")})),suggestOnTriggerCharacters:he(new C(92,"suggestOnTriggerCharacters",!0,{description:r("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:he(new k(93,"suggestSelection","recentlyUsed",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[r("suggestSelection.first","Always select the first suggestion."),r("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),r("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:r("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:he(new k(94,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[r("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),r("tabCompletion.off","Disable tab completions."),r("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:r("tabCompletion","Enables tab completions.")})),useTabStops:he(new C(95,"useTabStops",!0,{description:r("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:he(new T(96,"wordSeparators",a,{description:r("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:he(new k(97,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[r("wordWrap.off","Lines will never wrap."),r("wordWrap.on","Lines will wrap at the viewport width."),r({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),r({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:r({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:he(new T(98,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;¢°′″‰℃、。｡､￠，．：；？！％・･ゝゞヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻ｧｨｩｪｫｬｭｮｯｰ”〉》」』】〕）］｝｣")),wordWrapBreakBeforeCharacters:he(new T(99,"wordWrapBreakBeforeCharacters","([{‘“〈《「『【〔（［｛｢£¥＄￡￥+＋")),wordWrapColumn:he(new S(100,"wordWrapColumn",80,1,1073741824,{markdownDescription:r({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapMinified:he(new C(101,"wordWrapMinified",!0)),wrappingIndent:he(new x(102,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],ie,{enumDescriptions:[r("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),r("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),r("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),r("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:r("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:he(new k(103,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[r("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),r("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:r("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:he(new A),pixelRatio:he(new q),tabFocusMode:he(new ne),layoutInfo:he(new W),wrappingInfo:he(new oe)},pe=(n("5110"),function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e}),0)}}return e.prototype.emit=function(e){this.listeners.forEach((function(t){t(e)}))},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},e}()),fe=new pe;function ge(e){ye(e)||fe.onUnexpectedError(e)}function me(e){ye(e)||fe.onUnexpectedExternalError(e)}function _e(e){if(e instanceof Error){var t=e.name,n=e.message,i=e.stacktrace||e.stack;return{$isError:!0,name:t,message:n,stack:i}}return e}var ve="Canceled";function ye(e){return e instanceof Error&&e.name===ve&&e.message===ve}function be(){var e=new Error(ve);return e.name=e.message,e}function we(e){return e?new Error("Illegal argument: "+e):new Error("Illegal argument")}function Ce(e){return e?new Error("Illegal state: "+e):new Error("Illegal state")}function Se(e){var t,n=this,i=!1;return function(){return i||(i=!0,t=e.apply(n,arguments)),t}}var Ee=!1,Te="__is_disposable_tracked__";function ke(e){if(Ee&&e&&e!==Ae.None)try{e[Te]=!0}catch(t){}}function xe(e){if(!Ee)return e;var t=new Error("Potentially leaked disposable").stack;return setTimeout((function(){e[Te]||console.log(t)}),3e3),e}function Le(e){return"function"===typeof e.dispose&&0===e.dispose.length}function Ie(e){return Array.isArray(e)?(e.forEach((function(e){e&&(ke(e),e.dispose())})),[]):e?(ke(e),e.dispose(),e):void 0}function Oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.forEach(ke),xe({dispose:function(){return Ie(e)}})}function De(e){var t=xe({dispose:function(){ke(t),e()}});return t}var Ne,Re=function(){function e(){this._toDispose=new Set,this._isDisposed=!1}return e.prototype.dispose=function(){this._isDisposed||(ke(this),this._isDisposed=!0,this.clear())},e.prototype.clear=function(){this._toDispose.forEach((function(e){return e.dispose()})),this._toDispose.clear()},e.prototype.add=function(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return ke(e),this._isDisposed?console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e},e}(),Ae=function(){function e(){this._store=new Re,xe(this)}return e.prototype.dispose=function(){ke(this),this._store.dispose()},e.prototype._register=function(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)},e.None=Object.freeze({dispose:function(){}}),e}(),Me=function(){function e(){this._isDisposed=!1,xe(this)}return Object.defineProperty(e.prototype,"value",{get:function(){return this._isDisposed?void 0:this._value},set:function(e){this._isDisposed||e===this._value||(this._value&&this._value.dispose(),e&&ke(e),this._value=e)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.value=void 0},e.prototype.dispose=function(){this._isDisposed=!0,ke(this),this._value&&this._value.dispose(),this._value=void 0},e}(),Pe=function(){function e(e){this.object=e}return e.prototype.dispose=function(){},e}(),Fe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Be={done:!0,value:void 0};(function(e){var t={next:function(){return Be}};function n(){return t}function i(e){var t=!1;return{next:function(){return t?Be:(t=!0,{done:!1,value:e})}}}function o(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.length),{next:function(){return t>=n?Be:{done:!1,value:e[t++]}}}}function r(e){return{next:function(){var t=e.next();return t.done?Be:{done:!1,value:t.value}}}}function s(t){return t?Array.isArray(t)?e.fromArray(t):t:e.empty()}function a(e,t){return{next:function(){var n=e.next();return n.done?Be:{done:!1,value:t(n.value)}}}}function l(e,t){return{next:function(){while(1){var n=e.next();if(n.done)return Be;if(t(n.value))return{done:!1,value:n.value}}}}}function u(e,t){for(var n=e.next();!n.done;n=e.next())t(n.value)}function c(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY);var n=[];if(0===t)return n;for(var i=0,o=e.next();!o.done;o=e.next())if(n.push(o.value),++i>=t)break;return n}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=0;return{next:function(){if(n>=e.length)return Be;var t=e[n],i=t.next();return i.done?(n++,this.next()):i}}}function d(e){return new Ve(e)}e.empty=n,e.single=i,e.fromArray=o,e.fromNativeIterator=r,e.from=s,e.map=a,e.filter=l,e.forEach=u,e.collect=c,e.concat=h,e.chain=d})(Ne||(Ne={}));var Ve=function(){function e(e){this.it=e}return e.prototype.next=function(){return this.it.next()},e}();function He(e){return Array.isArray(e)?Ne.fromArray(e):e||Ne.empty()}var $e,We=function(){function e(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=e.length),void 0===i&&(i=t-1),this.items=e,this.start=t,this.end=n,this.index=i}return e.prototype.first=function(){return this.index=this.start,this.current()},e.prototype.next=function(){return this.index=Math.min(this.index+1,this.end),this.current()},e.prototype.current=function(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]},e}(),Ue=function(e){function t(t,n,i,o){return void 0===n&&(n=0),void 0===i&&(i=t.length),void 0===o&&(o=n-1),e.call(this,t,n,i,o)||this}return Fe(t,e),t.prototype.current=function(){return e.prototype.current.call(this)},t.prototype.previous=function(){return this.index=Math.max(this.index-1,this.start-1),this.current()},t.prototype.first=function(){return this.index=this.start,this.current()},t.prototype.last=function(){return this.index=this.end-1,this.current()},t.prototype.parent=function(){return null},t}(We),ze=function(){function e(e,t){this.iterator=e,this.fn=t}return e.prototype.next=function(){return this.fn(this.iterator.next())},e}(),je=function(){function e(t){this.element=t,this.next=e.Undefined,this.prev=e.Undefined}return e.Undefined=new e(void 0),e}(),Ge=function(){function e(){this._first=je.Undefined,this._last=je.Undefined,this._size=0}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return this._first===je.Undefined},e.prototype.clear=function(){this._first=je.Undefined,this._last=je.Undefined,this._size=0},e.prototype.unshift=function(e){return this._insert(e,!1)},e.prototype.push=function(e){return this._insert(e,!0)},e.prototype._insert=function(e,t){var n=this,i=new je(e);if(this._first===je.Undefined)this._first=i,this._last=i;else if(t){var o=this._last;this._last=i,i.prev=o,o.next=i}else{var r=this._first;this._first=i,i.next=r,r.prev=i}this._size+=1;var s=!1;return function(){s||(s=!0,n._remove(i))}},e.prototype.shift=function(){if(this._first!==je.Undefined){var e=this._first.element;return this._remove(this._first),e}},e.prototype.pop=function(){if(this._last!==je.Undefined){var e=this._last.element;return this._remove(this._last),e}},e.prototype._remove=function(e){if(e.prev!==je.Undefined&&e.next!==je.Undefined){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev===je.Undefined&&e.next===je.Undefined?(this._first=je.Undefined,this._last=je.Undefined):e.next===je.Undefined?(this._last=this._last.prev,this._last.next=je.Undefined):e.prev===je.Undefined&&(this._first=this._first.next,this._first.prev=je.Undefined);this._size-=1},e.prototype.iterator=function(){var e,t=this._first;return{next:function(){return t===je.Undefined?Be:(e?e.value=t.element:e={done:!1,value:t.element},t=t.next,e)}}},e.prototype.toArray=function(){for(var e=[],t=this._first;t!==je.Undefined;t=t.next)e.push(t.element);return e},e}(),Ke=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();(function(e){function t(e){return function(t,n,i){void 0===n&&(n=null);var o,r=!1;return o=e((function(e){if(!r)return o?o.dispose():r=!0,t.call(n,e)}),null,i),r&&o.dispose(),o}}function n(e,t){return l((function(n,i,o){return void 0===i&&(i=null),e((function(e){return n.call(i,t(e))}),null,o)}))}function i(e,t){return l((function(n,i,o){return void 0===i&&(i=null),e((function(e){t(e),n.call(i,e)}),null,o)}))}function o(e,t){return l((function(n,i,o){return void 0===i&&(i=null),e((function(e){return t(e)&&n.call(i,e)}),null,o)}))}function r(e){return e}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,i){return void 0===n&&(n=null),Oe.apply(void 0,e.map((function(e){return e((function(e){return t.call(n,e)}),null,i)})))}}function a(e,t,i){var o=i;return n(e,(function(e){return o=t(o,e),o}))}function l(e){var t,n=new Ze({onFirstListenerAdd:function(){t=e(n.fire,n)},onLastListenerRemove:function(){t.dispose()}});return n.event}function u(e,t,n,i,o){var r;void 0===n&&(n=100),void 0===i&&(i=!1);var s=void 0,a=void 0,l=0,u=new Ze({leakWarningThreshold:o,onFirstListenerAdd:function(){r=e((function(e){l++,s=t(s,e),i&&!a&&(u.fire(s),s=void 0),clearTimeout(a),a=setTimeout((function(){var e=s;s=void 0,a=void 0,(!i||l>1)&&u.fire(e),l=0}),n)}))},onLastListenerRemove:function(){r.dispose()}});return u.event}function c(e){var i=(new Date).getTime();return n(t(e),(function(e){return(new Date).getTime()-i}))}function h(e){var t,n=!0;return o(e,(function(e){var i=n||e!==t;return n=!1,t=e,i}))}function d(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=[]);var i=n.slice(),o=e((function(e){i?i.push(e):s.fire(e)})),r=function(){i&&i.forEach((function(e){return s.fire(e)})),i=null},s=new Ze({onFirstListenerAdd:function(){o||(o=e((function(e){return s.fire(e)})))},onFirstListenerDidAdd:function(){i&&(t?setTimeout(r):r())},onLastListenerRemove:function(){o&&o.dispose(),o=null}});return s.event}e.None=function(){return Ae.None},e.once=t,e.map=n,e.forEach=i,e.filter=o,e.signal=r,e.any=s,e.reduce=a,e.snapshot=l,e.debounce=u,e.stopwatch=c,e.latch=h,e.buffer=d;var p=function(){function e(e){this.event=e}return e.prototype.map=function(t){return new e(n(this.event,t))},e.prototype.forEach=function(t){return new e(i(this.event,t))},e.prototype.filter=function(t){return new e(o(this.event,t))},e.prototype.reduce=function(t,n){return new e(a(this.event,t,n))},e.prototype.latch=function(){return new e(h(this.event))},e.prototype.debounce=function(t,n,i,o){return void 0===n&&(n=100),void 0===i&&(i=!1),new e(u(this.event,t,n,i,o))},e.prototype.on=function(e,t,n){return this.event(e,t,n)},e.prototype.once=function(e,n,i){return t(this.event)(e,n,i)},e}();function f(e){return new p(e)}function g(e,t,n){void 0===n&&(n=function(e){return e});var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.fire(n.apply(void 0,e))},o=function(){return e.on(t,i)},r=function(){return e.removeListener(t,i)},s=new Ze({onFirstListenerAdd:o,onLastListenerRemove:r});return s.event}function m(e,t,n){void 0===n&&(n=function(e){return e});var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.fire(n.apply(void 0,e))},o=function(){return e.addEventListener(t,i)},r=function(){return e.removeEventListener(t,i)},s=new Ze({onFirstListenerAdd:o,onLastListenerRemove:r});return s.event}function _(e){var t=new Ze,n=!1;return e.then(void 0,(function(){return null})).then((function(){n?t.fire(void 0):setTimeout((function(){return t.fire(void 0)}),0)})),n=!0,t.event}function v(e){return new Promise((function(n){return t(e)(n)}))}e.chain=f,e.fromNodeEventEmitter=g,e.fromDOMEventEmitter=m,e.fromPromise=_,e.toPromise=v})($e||($e={}));var qe,Ye=-1,Xe=function(){function e(e,t){void 0===t&&(t=Math.random().toString(18).slice(2,5)),this.customThreshold=e,this.name=t,this._warnCountdown=0}return e.prototype.dispose=function(){this._stacks&&this._stacks.clear()},e.prototype.check=function(e){var t=this,n=Ye;if("number"===typeof this.customThreshold&&(n=this.customThreshold),!(n<=0||e<n)){this._stacks||(this._stacks=new Map);var i=(new Error).stack.split("\n").slice(3).join("\n"),o=this._stacks.get(i)||0;if(this._stacks.set(i,o+1),this._warnCountdown-=1,this._warnCountdown<=0){var r;this._warnCountdown=.5*n;var s=0;this._stacks.forEach((function(e,t){(!r||s<e)&&(r=t,s=e)})),console.warn("["+this.name+"] potential listener LEAK detected, having "+e+" listeners already. MOST frequent listener ("+s+"):"),console.warn(r)}return function(){var e=t._stacks.get(i)||0;t._stacks.set(i,e-1)}}},e}(),Ze=function(){function e(e){this._disposed=!1,this._options=e,this._leakageMon=Ye>0?new Xe(this._options&&this._options.leakWarningThreshold):void 0}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,i,o){t._listeners||(t._listeners=new Ge);var r=t._listeners.isEmpty();r&&t._options&&t._options.onFirstListenerAdd&&t._options.onFirstListenerAdd(t);var s,a,l=t._listeners.push(i?[n,i]:n);return r&&t._options&&t._options.onFirstListenerDidAdd&&t._options.onFirstListenerDidAdd(t),t._options&&t._options.onListenerDidAdd&&t._options.onListenerDidAdd(t,n,i),t._leakageMon&&(s=t._leakageMon.check(t._listeners.size)),a={dispose:function(){if(s&&s(),a.dispose=e._noop,!t._disposed&&(l(),t._options&&t._options.onLastListenerRemove)){var n=t._listeners&&!t._listeners.isEmpty();n||t._options.onLastListenerRemove(t)}}},o instanceof Re?o.add(a):Array.isArray(o)&&o.push(a),a}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new Ge);for(var t=this._listeners.iterator(),n=t.next();!n.done;n=t.next())this._deliveryQueue.push([n.value,e]);while(this._deliveryQueue.size>0){var i=this._deliveryQueue.shift(),o=i[0],r=i[1];try{"function"===typeof o?o.call(void 0,r):o[0].call(o[1],r)}catch(n){ge(n)}}}},e.prototype.dispose=function(){this._listeners&&this._listeners.clear(),this._deliveryQueue&&this._deliveryQueue.clear(),this._leakageMon&&this._leakageMon.dispose(),this._disposed=!0},e._noop=function(){},e}(),Je=function(e){function t(t){var n=e.call(this,t)||this;return n._isPaused=0,n._eventQueue=new Ge,n._mergeFn=t&&t.merge,n}return Ke(t,e),t.prototype.pause=function(){this._isPaused++},t.prototype.resume=function(){if(0!==this._isPaused&&0===--this._isPaused)if(this._mergeFn){var t=this._eventQueue.toArray();this._eventQueue.clear(),e.prototype.fire.call(this,this._mergeFn(t))}else while(!this._isPaused&&0!==this._eventQueue.size)e.prototype.fire.call(this,this._eventQueue.shift())},t.prototype.fire=function(t){this._listeners&&(0!==this._isPaused?this._eventQueue.push(t):e.prototype.fire.call(this,t))},t}(Ze),Qe=function(){function e(){var e=this;this.hasListeners=!1,this.events=[],this.emitter=new Ze({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}return Object.defineProperty(e.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this,n={event:e,listener:null};this.events.push(n),this.hasListeners&&this.hook(n);var i=function(){t.hasListeners&&t.unhook(n);var e=t.events.indexOf(n);t.events.splice(e,1)};return De(Se(i))},e.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach((function(t){return e.hook(t)}))},e.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach((function(t){return e.unhook(t)}))},e.prototype.hook=function(e){var t=this;e.listener=e.event((function(e){return t.emitter.fire(e)}))},e.prototype.unhook=function(e){e.listener&&e.listener.dispose(),e.listener=null},e.prototype.dispose=function(){this.emitter.dispose()},e}(),et=function(){function e(){this.buffers=[]}return e.prototype.wrapEvent=function(e){var t=this;return function(n,i,o){return e((function(e){var o=t.buffers[t.buffers.length-1];o?o.push((function(){return n.call(i,e)})):n.call(i,e)}),void 0,o)}},e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t);var n=e();return this.buffers.pop(),t.forEach((function(e){return e()})),n},e}(),tt=function(){function e(){var e=this;this.listening=!1,this.inputEvent=$e.None,this.inputEventListener=Ae.None,this.emitter=new Ze({onFirstListenerDidAdd:function(){e.listening=!0,e.inputEventListener=e.inputEvent(e.emitter.fire,e.emitter)},onLastListenerRemove:function(){e.listening=!1,e.inputEventListener.dispose()}}),this.event=this.emitter.event}return Object.defineProperty(e.prototype,"input",{set:function(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.inputEventListener.dispose(),this.emitter.dispose()},e}(),nt=Object.freeze((function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}}));(function(e){function t(t){return t===e.None||t===e.Cancelled||(t instanceof ot||!(!t||"object"!==typeof t)&&("boolean"===typeof t.isCancellationRequested&&"function"===typeof t.onCancellationRequested))}e.isCancellationToken=t,e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:$e.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:nt})})(qe||(qe={}));var it,ot=function(){function e(){this._isCancelled=!1,this._emitter=null}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?nt:(this._emitter||(this._emitter=new Ze),this._emitter.event)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=null)},e}(),rt=function(){function e(e){this._token=void 0,this._parentListener=void 0,this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new ot),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token instanceof ot&&this._token.cancel():this._token=qe.Cancelled},e.prototype.dispose=function(e){void 0===e&&(e=!1),e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof ot&&this._token.dispose():this._token=qe.None},e}(),st=function(){function e(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return e.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},e}(),at=new st,lt=new st,ut=new st;function ct(e,t){var n=(65535&t)<<16>>>0;return(e|n)>>>0}function ht(e,t){if(0===e)return null;var n=(65535&e)>>>0,i=(4294901760&e)>>>16;return new gt(0!==i?[dt(n,t),dt(i,t)]:[dt(n,t)])}function dt(e,t){var n=!!(2048&e),i=!!(256&e),o=2===t?i:n,r=!!(1024&e),s=!!(512&e),a=2===t?n:i,l=255&e;return new ft(o,r,s,a,l)}(function(){function e(e,t,n,i){void 0===n&&(n=t),void 0===i&&(i=n),at.define(e,t),lt.define(e,n),ut.define(e,i)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")})(),function(e){function t(e){return at.keyCodeToStr(e)}function n(e){return at.strToKeyCode(e)}function i(e){return lt.keyCodeToStr(e)}function o(e){return ut.keyCodeToStr(e)}function r(e){return lt.strToKeyCode(e)||ut.strToKeyCode(e)}e.toString=t,e.fromString=n,e.toUserSettingsUS=i,e.toUserSettingsGeneral=o,e.fromUserSettings=r}(it||(it={}));var pt,ft=function(){function e(e,t,n,i,o){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyCode=o}return e.prototype.equals=function(e){return this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode},e.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},e.prototype.toChord=function(){return new gt([this])},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode},e}(),gt=function(){function e(e){if(0===e.length)throw we("parts");this.parts=e}return e.prototype.equals=function(e){if(null===e)return!1;if(this.parts.length!==e.parts.length)return!1;for(var t=0;t<this.parts.length;t++)if(!this.parts[t].equals(e.parts[t]))return!1;return!0},e}(),mt=function(){function e(e,t,n,i,o,r){this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=i,this.keyLabel=o,this.keyAriaLabel=r}return e}(),_t=function(){function e(){}return e}(),vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yt=/^\w[\w\d+.-]*$/,bt=/^\//,wt=/^\/\//;function Ct(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+e.authority+'", path: "'+e.path+'", query: "'+e.query+'", fragment: "'+e.fragment+'"}');if(e.scheme&&!yt.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!bt.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(wt.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}function St(e,t){return e||t?e:"file"}function Et(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==kt&&(t=kt+t):t=kt;break}return t}var Tt="",kt="/",xt=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,Lt=function(){function e(e,t,n,i,o,r){void 0===r&&(r=!1),"object"===typeof e?(this.scheme=e.scheme||Tt,this.authority=e.authority||Tt,this.path=e.path||Tt,this.query=e.query||Tt,this.fragment=e.fragment||Tt):(this.scheme=St(e,r),this.authority=t||Tt,this.path=Et(this.scheme,n||Tt),this.query=i||Tt,this.fragment=o||Tt,Ct(this,r))}return e.isUri=function(t){return t instanceof e||!!t&&("string"===typeof t.authority&&"string"===typeof t.fragment&&"string"===typeof t.path&&"string"===typeof t.query&&"string"===typeof t.scheme&&"function"===typeof t.fsPath&&"function"===typeof t.with&&"function"===typeof t.toString)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return At(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,i=e.path,o=e.query,r=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=Tt),void 0===n?n=this.authority:null===n&&(n=Tt),void 0===i?i=this.path:null===i&&(i=Tt),void 0===o?o=this.query:null===o&&(o=Tt),void 0===r?r=this.fragment:null===r&&(r=Tt),t===this.scheme&&n===this.authority&&i===this.path&&o===this.query&&r===this.fragment?this:new Ot(t,n,i,o,r)},e.parse=function(e,t){void 0===t&&(t=!1);var n=xt.exec(e);return n?new Ot(n[2]||Tt,Bt(n[4]||Tt),Bt(n[5]||Tt),Bt(n[7]||Tt),Bt(n[9]||Tt),t):new Ot(Tt,Tt,Tt,Tt,Tt)},e.file=function(e){var t=Tt;if(s["h"]&&(e=e.replace(/\\/g,kt)),e[0]===kt&&e[1]===kt){var n=e.indexOf(kt,2);-1===n?(t=e.substring(2),e=kt):(t=e.substring(2,n),e=e.substring(n)||kt)}return new Ot("file",t,e,Tt,Tt)},e.from=function(e){return new Ot(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),Mt(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new Ot(t);return n._formatted=t.external,n._fsPath=t._sep===It?t.fsPath:null,n}return t},e}(),It=s["h"]?1:void 0,Ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return vt(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=At(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?Mt(this,!0):(this._formatted||(this._formatted=Mt(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=It),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(Lt),Dt=(pt={},pt[58]="%3A",pt[47]="%2F",pt[63]="%3F",pt[35]="%23",pt[91]="%5B",pt[93]="%5D",pt[64]="%40",pt[33]="%21",pt[36]="%24",pt[38]="%26",pt[39]="%27",pt[40]="%28",pt[41]="%29",pt[42]="%2A",pt[43]="%2B",pt[44]="%2C",pt[59]="%3B",pt[61]="%3D",pt[32]="%20",pt);function Nt(e,t){for(var n=void 0,i=-1,o=0;o<e.length;o++){var r=e.charCodeAt(o);if(r>=97&&r<=122||r>=65&&r<=90||r>=48&&r<=57||45===r||46===r||95===r||126===r||t&&47===r)-1!==i&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),void 0!==n&&(n+=e.charAt(o));else{void 0===n&&(n=e.substr(0,o));var s=Dt[r];void 0!==s?(-1!==i&&(n+=encodeURIComponent(e.substring(i,o)),i=-1),n+=s):-1===i&&(i=o)}}return-1!==i&&(n+=encodeURIComponent(e.substring(i))),void 0!==n?n:e}function Rt(e){for(var t=void 0,n=0;n<e.length;n++){var i=e.charCodeAt(n);35===i||63===i?(void 0===t&&(t=e.substr(0,n)),t+=Dt[i]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function At(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,s["h"]&&(t=t.replace(/\//g,"\\")),t}function Mt(e,t){var n=t?Rt:Nt,i="",o=e.scheme,r=e.authority,s=e.path,a=e.query,l=e.fragment;if(o&&(i+=o,i+=":"),(r||"file"===o)&&(i+=kt,i+=kt),r){var u=r.indexOf("@");if(-1!==u){var c=r.substr(0,u);r=r.substr(u+1),u=c.indexOf(":"),-1===u?i+=n(c,!1):(i+=n(c.substr(0,u),!1),i+=":",i+=n(c.substr(u+1),!1)),i+="@"}r=r.toLowerCase(),u=r.indexOf(":"),-1===u?i+=n(r,!1):(i+=n(r.substr(0,u),!1),i+=r.substr(u))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){var h=s.charCodeAt(1);h>=65&&h<=90&&(s="/"+String.fromCharCode(h+32)+":"+s.substr(3))}else if(s.length>=2&&58===s.charCodeAt(1)){h=s.charCodeAt(0);h>=65&&h<=90&&(s=String.fromCharCode(h+32)+":"+s.substr(2))}i+=n(s,!0)}return a&&(i+="?",i+=n(a,!1)),l&&(i+="#",i+=t?l:Nt(l,!1)),i}function Pt(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+Pt(e.substr(3)):e}}var Ft=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Bt(e){return e.match(Ft)?e.replace(Ft,(function(e){return Pt(e)})):e}var Vt,Ht,$t,Wt,Ut,zt,jt,Gt,Kt,qt,Yt,Xt,Zt,Jt,Qt,en,tn,nn,on,rn,sn,an,ln,un,cn,hn,dn,pn,fn,gn,mn,_n,vn,yn=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.with=function(t,n){return void 0===t&&(t=this.lineNumber),void 0===n&&(n=this.column),t===this.lineNumber&&n===this.column?this:new e(t,n)},e.prototype.delta=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),this.with(this.lineNumber+e,this.column+t)},e.prototype.equals=function(t){return e.equals(this,t)},e.equals=function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},e.prototype.isBefore=function(t){return e.isBefore(this,t)},e.isBefore=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column},e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)},e.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column},e.compare=function(e,t){var n=0|e.lineNumber,i=0|t.lineNumber;if(n===i){var o=0|e.column,r=0|t.column;return o-r}return n-i},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"===typeof e.lineNumber&&"number"===typeof e.column},e}(),bn=function(){function e(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.prototype.strictContainsRange=function(t){return e.strictContainsRange(this,t)},e.strictContainsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.plusRange=function(t,n){var i,o,r,s;return n.startLineNumber<t.startLineNumber?(i=n.startLineNumber,o=n.startColumn):n.startLineNumber===t.startLineNumber?(i=n.startLineNumber,o=Math.min(n.startColumn,t.startColumn)):(i=t.startLineNumber,o=t.startColumn),n.endLineNumber>t.endLineNumber?(r=n.endLineNumber,s=n.endColumn):n.endLineNumber===t.endLineNumber?(r=n.endLineNumber,s=Math.max(n.endColumn,t.endColumn)):(r=t.endLineNumber,s=t.endColumn),new e(i,o,r,s)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.intersectRanges=function(t,n){var i=t.startLineNumber,o=t.startColumn,r=t.endLineNumber,s=t.endColumn,a=n.startLineNumber,l=n.startColumn,u=n.endLineNumber,c=n.endColumn;return i<a?(i=a,o=l):i===a&&(o=Math.max(o,l)),r>u?(r=u,s=c):r===u&&(s=Math.min(s,c)),i>r||i===r&&o>s?null:new e(i,o,r,s)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.prototype.getEndPosition=function(){return new yn(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new yn(this.startLineNumber,this.startColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return e.collapseToStart(this)},e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},e.fromPositions=function(t,n){return void 0===n&&(n=t),new e(t.lineNumber,t.column,n.lineNumber,n.column)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"===typeof e.startLineNumber&&"number"===typeof e.startColumn&&"number"===typeof e.endLineNumber&&"number"===typeof e.endColumn},e.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},e.areIntersecting=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)},e.compareRangesUsingStarts=function(e,t){if(e&&t){var n=0|e.startLineNumber,i=0|t.startLineNumber;if(n===i){var o=0|e.startColumn,r=0|t.startColumn;if(o===r){var s=0|e.endLineNumber,a=0|t.endLineNumber;if(s===a){var l=0|e.endColumn,u=0|t.endColumn;return l-u}return s-a}return o-r}return n-i}var c=e?1:0,h=t?1:0;return c-h},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e}(),wn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cn=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.selectionStartLineNumber=t,r.selectionStartColumn=n,r.positionLineNumber=i,r.positionColumn=o,r}return wn(t,e),t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)},t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1},t.prototype.setEndPosition=function(e,n){return 0===this.getDirection()?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.getPosition=function(){return new yn(this.positionLineNumber,this.positionColumn)},t.prototype.setStartPosition=function(e,n){return 0===this.getDirection()?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t.fromPositions=function(e,n){return void 0===n&&(n=e),new t(e.lineNumber,e.column,n.lineNumber,n.column)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0},t.isISelection=function(e){return e&&"number"===typeof e.selectionStartLineNumber&&"number"===typeof e.selectionStartColumn&&"number"===typeof e.positionLineNumber&&"number"===typeof e.positionColumn},t.createWithDirection=function(e,n,i,o,r){return 0===r?new t(e,n,i,o):new t(i,o,e,n)},t}(bn),Sn=function(){function e(e,t,n){this.offset=0|e,this.type=t,this.language=n}return e.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},e}(),En=function(){function e(e,t){this.tokens=e,this.endState=t}return e}(),Tn=function(){function e(e,t){this.tokens=e,this.endState=t}return e}();(function(e){e[e["Unknown"]=0]="Unknown",e[e["Disabled"]=1]="Disabled",e[e["Enabled"]=2]="Enabled"})(Vt||(Vt={})),function(e){e[e["KeepWhitespace"]=1]="KeepWhitespace",e[e["InsertAsSnippet"]=4]="InsertAsSnippet"}(Ht||(Ht={})),function(e){e[e["Method"]=0]="Method",e[e["Function"]=1]="Function",e[e["Constructor"]=2]="Constructor",e[e["Field"]=3]="Field",e[e["Variable"]=4]="Variable",e[e["Class"]=5]="Class",e[e["Struct"]=6]="Struct",e[e["Interface"]=7]="Interface",e[e["Module"]=8]="Module",e[e["Property"]=9]="Property",e[e["Event"]=10]="Event",e[e["Operator"]=11]="Operator",e[e["Unit"]=12]="Unit",e[e["Value"]=13]="Value",e[e["Constant"]=14]="Constant",e[e["Enum"]=15]="Enum",e[e["EnumMember"]=16]="EnumMember",e[e["Keyword"]=17]="Keyword",e[e["Text"]=18]="Text",e[e["Color"]=19]="Color",e[e["File"]=20]="File",e[e["Reference"]=21]="Reference",e[e["Customcolor"]=22]="Customcolor",e[e["Folder"]=23]="Folder",e[e["TypeParameter"]=24]="TypeParameter",e[e["Snippet"]=25]="Snippet"}($t||($t={})),function(e){e[e["Deprecated"]=1]="Deprecated"}(Wt||(Wt={})),function(e){e[e["Invoke"]=0]="Invoke",e[e["TriggerCharacter"]=1]="TriggerCharacter",e[e["TriggerForIncompleteCompletions"]=2]="TriggerForIncompleteCompletions"}(Ut||(Ut={})),function(e){e[e["EXACT"]=0]="EXACT",e[e["ABOVE"]=1]="ABOVE",e[e["BELOW"]=2]="BELOW"}(zt||(zt={})),function(e){e[e["NotSet"]=0]="NotSet",e[e["ContentFlush"]=1]="ContentFlush",e[e["RecoverFromMarkers"]=2]="RecoverFromMarkers",e[e["Explicit"]=3]="Explicit",e[e["Paste"]=4]="Paste",e[e["Undo"]=5]="Undo",e[e["Redo"]=6]="Redo"}(jt||(jt={})),function(e){e[e["LF"]=1]="LF",e[e["CRLF"]=2]="CRLF"}(Gt||(Gt={})),function(e){e[e["Text"]=0]="Text",e[e["Read"]=1]="Read",e[e["Write"]=2]="Write"}(Kt||(Kt={})),function(e){e[e["None"]=0]="None",e[e["Keep"]=1]="Keep",e[e["Brackets"]=2]="Brackets",e[e["Advanced"]=3]="Advanced",e[e["Full"]=4]="Full"}(qt||(qt={})),function(e){e[e["acceptSuggestionOnCommitCharacter"]=0]="acceptSuggestionOnCommitCharacter",e[e["acceptSuggestionOnEnter"]=1]="acceptSuggestionOnEnter",e[e["accessibilitySupport"]=2]="accessibilitySupport",e[e["accessibilityPageSize"]=3]="accessibilityPageSize",e[e["ariaLabel"]=4]="ariaLabel",e[e["autoClosingBrackets"]=5]="autoClosingBrackets",e[e["autoClosingOvertype"]=6]="autoClosingOvertype",e[e["autoClosingQuotes"]=7]="autoClosingQuotes",e[e["autoIndent"]=8]="autoIndent",e[e["automaticLayout"]=9]="automaticLayout",e[e["autoSurround"]=10]="autoSurround",e[e["codeLens"]=11]="codeLens",e[e["colorDecorators"]=12]="colorDecorators",e[e["comments"]=13]="comments",e[e["contextmenu"]=14]="contextmenu",e[e["copyWithSyntaxHighlighting"]=15]="copyWithSyntaxHighlighting",e[e["cursorBlinking"]=16]="cursorBlinking",e[e["cursorSmoothCaretAnimation"]=17]="cursorSmoothCaretAnimation",e[e["cursorStyle"]=18]="cursorStyle",e[e["cursorSurroundingLines"]=19]="cursorSurroundingLines",e[e["cursorSurroundingLinesStyle"]=20]="cursorSurroundingLinesStyle",e[e["cursorWidth"]=21]="cursorWidth",e[e["disableLayerHinting"]=22]="disableLayerHinting",e[e["disableMonospaceOptimizations"]=23]="disableMonospaceOptimizations",e[e["dragAndDrop"]=24]="dragAndDrop",e[e["emptySelectionClipboard"]=25]="emptySelectionClipboard",e[e["extraEditorClassName"]=26]="extraEditorClassName",e[e["fastScrollSensitivity"]=27]="fastScrollSensitivity",e[e["find"]=28]="find",e[e["fixedOverflowWidgets"]=29]="fixedOverflowWidgets",e[e["folding"]=30]="folding",e[e["foldingStrategy"]=31]="foldingStrategy",e[e["foldingHighlight"]=32]="foldingHighlight",e[e["fontFamily"]=33]="fontFamily",e[e["fontInfo"]=34]="fontInfo",e[e["fontLigatures"]=35]="fontLigatures",e[e["fontSize"]=36]="fontSize",e[e["fontWeight"]=37]="fontWeight",e[e["formatOnPaste"]=38]="formatOnPaste",e[e["formatOnType"]=39]="formatOnType",e[e["glyphMargin"]=40]="glyphMargin",e[e["gotoLocation"]=41]="gotoLocation",e[e["hideCursorInOverviewRuler"]=42]="hideCursorInOverviewRuler",e[e["highlightActiveIndentGuide"]=43]="highlightActiveIndentGuide",e[e["hover"]=44]="hover",e[e["inDiffEditor"]=45]="inDiffEditor",e[e["letterSpacing"]=46]="letterSpacing",e[e["lightbulb"]=47]="lightbulb",e[e["lineDecorationsWidth"]=48]="lineDecorationsWidth",e[e["lineHeight"]=49]="lineHeight",e[e["lineNumbers"]=50]="lineNumbers",e[e["lineNumbersMinChars"]=51]="lineNumbersMinChars",e[e["links"]=52]="links",e[e["matchBrackets"]=53]="matchBrackets",e[e["minimap"]=54]="minimap",e[e["mouseStyle"]=55]="mouseStyle",e[e["mouseWheelScrollSensitivity"]=56]="mouseWheelScrollSensitivity",e[e["mouseWheelZoom"]=57]="mouseWheelZoom",e[e["multiCursorMergeOverlapping"]=58]="multiCursorMergeOverlapping",e[e["multiCursorModifier"]=59]="multiCursorModifier",e[e["multiCursorPaste"]=60]="multiCursorPaste",e[e["occurrencesHighlight"]=61]="occurrencesHighlight",e[e["overviewRulerBorder"]=62]="overviewRulerBorder",e[e["overviewRulerLanes"]=63]="overviewRulerLanes",e[e["parameterHints"]=64]="parameterHints",e[e["peekWidgetDefaultFocus"]=65]="peekWidgetDefaultFocus",e[e["quickSuggestions"]=66]="quickSuggestions",e[e["quickSuggestionsDelay"]=67]="quickSuggestionsDelay",e[e["readOnly"]=68]="readOnly",e[e["renderControlCharacters"]=69]="renderControlCharacters",e[e["renderIndentGuides"]=70]="renderIndentGuides",e[e["renderFinalNewline"]=71]="renderFinalNewline",e[e["renderLineHighlight"]=72]="renderLineHighlight",e[e["renderValidationDecorations"]=73]="renderValidationDecorations",e[e["renderWhitespace"]=74]="renderWhitespace",e[e["revealHorizontalRightPadding"]=75]="revealHorizontalRightPadding",e[e["roundedSelection"]=76]="roundedSelection",e[e["rulers"]=77]="rulers",e[e["scrollbar"]=78]="scrollbar",e[e["scrollBeyondLastColumn"]=79]="scrollBeyondLastColumn",e[e["scrollBeyondLastLine"]=80]="scrollBeyondLastLine",e[e["selectionClipboard"]=81]="selectionClipboard",e[e["selectionHighlight"]=82]="selectionHighlight",e[e["selectOnLineNumbers"]=83]="selectOnLineNumbers",e[e["showFoldingControls"]=84]="showFoldingControls",e[e["showUnused"]=85]="showUnused",e[e["snippetSuggestions"]=86]="snippetSuggestions",e[e["smoothScrolling"]=87]="smoothScrolling",e[e["stopRenderingLineAfter"]=88]="stopRenderingLineAfter",e[e["suggest"]=89]="suggest",e[e["suggestFontSize"]=90]="suggestFontSize",e[e["suggestLineHeight"]=91]="suggestLineHeight",e[e["suggestOnTriggerCharacters"]=92]="suggestOnTriggerCharacters",e[e["suggestSelection"]=93]="suggestSelection",e[e["tabCompletion"]=94]="tabCompletion",e[e["useTabStops"]=95]="useTabStops",e[e["wordSeparators"]=96]="wordSeparators",e[e["wordWrap"]=97]="wordWrap",e[e["wordWrapBreakAfterCharacters"]=98]="wordWrapBreakAfterCharacters",e[e["wordWrapBreakBeforeCharacters"]=99]="wordWrapBreakBeforeCharacters",e[e["wordWrapColumn"]=100]="wordWrapColumn",e[e["wordWrapMinified"]=101]="wordWrapMinified",e[e["wrappingIndent"]=102]="wrappingIndent",e[e["wrappingStrategy"]=103]="wrappingStrategy",e[e["editorClassName"]=104]="editorClassName",e[e["pixelRatio"]=105]="pixelRatio",e[e["tabFocusMode"]=106]="tabFocusMode",e[e["layoutInfo"]=107]="layoutInfo",e[e["wrappingInfo"]=108]="wrappingInfo"}(Yt||(Yt={})),function(e){e[e["TextDefined"]=0]="TextDefined",e[e["LF"]=1]="LF",e[e["CRLF"]=2]="CRLF"}(Xt||(Xt={})),function(e){e[e["LF"]=0]="LF",e[e["CRLF"]=1]="CRLF"}(Zt||(Zt={})),function(e){e[e["None"]=0]="None",e[e["Indent"]=1]="Indent",e[e["IndentOutdent"]=2]="IndentOutdent",e[e["Outdent"]=3]="Outdent"}(Jt||(Jt={})),function(e){e[e["Unknown"]=0]="Unknown",e[e["Backspace"]=1]="Backspace",e[e["Tab"]=2]="Tab",e[e["Enter"]=3]="Enter",e[e["Shift"]=4]="Shift",e[e["Ctrl"]=5]="Ctrl",e[e["Alt"]=6]="Alt",e[e["PauseBreak"]=7]="PauseBreak",e[e["CapsLock"]=8]="CapsLock",e[e["Escape"]=9]="Escape",e[e["Space"]=10]="Space",e[e["PageUp"]=11]="PageUp",e[e["PageDown"]=12]="PageDown",e[e["End"]=13]="End",e[e["Home"]=14]="Home",e[e["LeftArrow"]=15]="LeftArrow",e[e["UpArrow"]=16]="UpArrow",e[e["RightArrow"]=17]="RightArrow",e[e["DownArrow"]=18]="DownArrow",e[e["Insert"]=19]="Insert",e[e["Delete"]=20]="Delete",e[e["KEY_0"]=21]="KEY_0",e[e["KEY_1"]=22]="KEY_1",e[e["KEY_2"]=23]="KEY_2",e[e["KEY_3"]=24]="KEY_3",e[e["KEY_4"]=25]="KEY_4",e[e["KEY_5"]=26]="KEY_5",e[e["KEY_6"]=27]="KEY_6",e[e["KEY_7"]=28]="KEY_7",e[e["KEY_8"]=29]="KEY_8",e[e["KEY_9"]=30]="KEY_9",e[e["KEY_A"]=31]="KEY_A",e[e["KEY_B"]=32]="KEY_B",e[e["KEY_C"]=33]="KEY_C",e[e["KEY_D"]=34]="KEY_D",e[e["KEY_E"]=35]="KEY_E",e[e["KEY_F"]=36]="KEY_F",e[e["KEY_G"]=37]="KEY_G",e[e["KEY_H"]=38]="KEY_H",e[e["KEY_I"]=39]="KEY_I",e[e["KEY_J"]=40]="KEY_J",e[e["KEY_K"]=41]="KEY_K",e[e["KEY_L"]=42]="KEY_L",e[e["KEY_M"]=43]="KEY_M",e[e["KEY_N"]=44]="KEY_N",e[e["KEY_O"]=45]="KEY_O",e[e["KEY_P"]=46]="KEY_P",e[e["KEY_Q"]=47]="KEY_Q",e[e["KEY_R"]=48]="KEY_R",e[e["KEY_S"]=49]="KEY_S",e[e["KEY_T"]=50]="KEY_T",e[e["KEY_U"]=51]="KEY_U",e[e["KEY_V"]=52]="KEY_V",e[e["KEY_W"]=53]="KEY_W",e[e["KEY_X"]=54]="KEY_X",e[e["KEY_Y"]=55]="KEY_Y",e[e["KEY_Z"]=56]="KEY_Z",e[e["Meta"]=57]="Meta",e[e["ContextMenu"]=58]="ContextMenu",e[e["F1"]=59]="F1",e[e["F2"]=60]="F2",e[e["F3"]=61]="F3",e[e["F4"]=62]="F4",e[e["F5"]=63]="F5",e[e["F6"]=64]="F6",e[e["F7"]=65]="F7",e[e["F8"]=66]="F8",e[e["F9"]=67]="F9",e[e["F10"]=68]="F10",e[e["F11"]=69]="F11",e[e["F12"]=70]="F12",e[e["F13"]=71]="F13",e[e["F14"]=72]="F14",e[e["F15"]=73]="F15",e[e["F16"]=74]="F16",e[e["F17"]=75]="F17",e[e["F18"]=76]="F18",e[e["F19"]=77]="F19",e[e["NumLock"]=78]="NumLock",e[e["ScrollLock"]=79]="ScrollLock",e[e["US_SEMICOLON"]=80]="US_SEMICOLON",e[e["US_EQUAL"]=81]="US_EQUAL",e[e["US_COMMA"]=82]="US_COMMA",e[e["US_MINUS"]=83]="US_MINUS",e[e["US_DOT"]=84]="US_DOT",e[e["US_SLASH"]=85]="US_SLASH",e[e["US_BACKTICK"]=86]="US_BACKTICK",e[e["US_OPEN_SQUARE_BRACKET"]=87]="US_OPEN_SQUARE_BRACKET",e[e["US_BACKSLASH"]=88]="US_BACKSLASH",e[e["US_CLOSE_SQUARE_BRACKET"]=89]="US_CLOSE_SQUARE_BRACKET",e[e["US_QUOTE"]=90]="US_QUOTE",e[e["OEM_8"]=91]="OEM_8",e[e["OEM_102"]=92]="OEM_102",e[e["NUMPAD_0"]=93]="NUMPAD_0",e[e["NUMPAD_1"]=94]="NUMPAD_1",e[e["NUMPAD_2"]=95]="NUMPAD_2",e[e["NUMPAD_3"]=96]="NUMPAD_3",e[e["NUMPAD_4"]=97]="NUMPAD_4",e[e["NUMPAD_5"]=98]="NUMPAD_5",e[e["NUMPAD_6"]=99]="NUMPAD_6",e[e["NUMPAD_7"]=100]="NUMPAD_7",e[e["NUMPAD_8"]=101]="NUMPAD_8",e[e["NUMPAD_9"]=102]="NUMPAD_9",e[e["NUMPAD_MULTIPLY"]=103]="NUMPAD_MULTIPLY",e[e["NUMPAD_ADD"]=104]="NUMPAD_ADD",e[e["NUMPAD_SEPARATOR"]=105]="NUMPAD_SEPARATOR",e[e["NUMPAD_SUBTRACT"]=106]="NUMPAD_SUBTRACT",e[e["NUMPAD_DECIMAL"]=107]="NUMPAD_DECIMAL",e[e["NUMPAD_DIVIDE"]=108]="NUMPAD_DIVIDE",e[e["KEY_IN_COMPOSITION"]=109]="KEY_IN_COMPOSITION",e[e["ABNT_C1"]=110]="ABNT_C1",e[e["ABNT_C2"]=111]="ABNT_C2",e[e["MAX_VALUE"]=112]="MAX_VALUE"}(Qt||(Qt={})),function(e){e[e["Hint"]=1]="Hint",e[e["Info"]=2]="Info",e[e["Warning"]=4]="Warning",e[e["Error"]=8]="Error"}(en||(en={})),function(e){e[e["Unnecessary"]=1]="Unnecessary",e[e["Deprecated"]=2]="Deprecated"}(tn||(tn={})),function(e){e[e["Inline"]=1]="Inline",e[e["Gutter"]=2]="Gutter"}(nn||(nn={})),function(e){e[e["UNKNOWN"]=0]="UNKNOWN",e[e["TEXTAREA"]=1]="TEXTAREA",e[e["GUTTER_GLYPH_MARGIN"]=2]="GUTTER_GLYPH_MARGIN",e[e["GUTTER_LINE_NUMBERS"]=3]="GUTTER_LINE_NUMBERS",e[e["GUTTER_LINE_DECORATIONS"]=4]="GUTTER_LINE_DECORATIONS",e[e["GUTTER_VIEW_ZONE"]=5]="GUTTER_VIEW_ZONE",e[e["CONTENT_TEXT"]=6]="CONTENT_TEXT",e[e["CONTENT_EMPTY"]=7]="CONTENT_EMPTY",e[e["CONTENT_VIEW_ZONE"]=8]="CONTENT_VIEW_ZONE",e[e["CONTENT_WIDGET"]=9]="CONTENT_WIDGET",e[e["OVERVIEW_RULER"]=10]="OVERVIEW_RULER",e[e["SCROLLBAR"]=11]="SCROLLBAR",e[e["OVERLAY_WIDGET"]=12]="OVERLAY_WIDGET",e[e["OUTSIDE_EDITOR"]=13]="OUTSIDE_EDITOR"}(on||(on={})),function(e){e[e["TOP_RIGHT_CORNER"]=0]="TOP_RIGHT_CORNER",e[e["BOTTOM_RIGHT_CORNER"]=1]="BOTTOM_RIGHT_CORNER",e[e["TOP_CENTER"]=2]="TOP_CENTER"}(rn||(rn={})),function(e){e[e["Left"]=1]="Left",e[e["Center"]=2]="Center",e[e["Right"]=4]="Right",e[e["Full"]=7]="Full"}(sn||(sn={})),function(e){e[e["Off"]=0]="Off",e[e["On"]=1]="On",e[e["Relative"]=2]="Relative",e[e["Interval"]=3]="Interval",e[e["Custom"]=4]="Custom"}(an||(an={})),function(e){e[e["None"]=0]="None",e[e["Text"]=1]="Text",e[e["Blocks"]=2]="Blocks"}(ln||(ln={})),function(e){e[e["Smooth"]=0]="Smooth",e[e["Immediate"]=1]="Immediate"}(un||(un={})),function(e){e[e["Auto"]=1]="Auto",e[e["Hidden"]=2]="Hidden",e[e["Visible"]=3]="Visible"}(cn||(cn={})),function(e){e[e["LTR"]=0]="LTR",e[e["RTL"]=1]="RTL"}(hn||(hn={})),function(e){e[e["Invoke"]=1]="Invoke",e[e["TriggerCharacter"]=2]="TriggerCharacter",e[e["ContentChange"]=3]="ContentChange"}(dn||(dn={})),function(e){e[e["File"]=0]="File",e[e["Module"]=1]="Module",e[e["Namespace"]=2]="Namespace",e[e["Package"]=3]="Package",e[e["Class"]=4]="Class",e[e["Method"]=5]="Method",e[e["Property"]=6]="Property",e[e["Field"]=7]="Field",e[e["Constructor"]=8]="Constructor",e[e["Enum"]=9]="Enum",e[e["Interface"]=10]="Interface",e[e["Function"]=11]="Function",e[e["Variable"]=12]="Variable",e[e["Constant"]=13]="Constant",e[e["String"]=14]="String",e[e["Number"]=15]="Number",e[e["Boolean"]=16]="Boolean",e[e["Array"]=17]="Array",e[e["Object"]=18]="Object",e[e["Key"]=19]="Key",e[e["Null"]=20]="Null",e[e["EnumMember"]=21]="EnumMember",e[e["Struct"]=22]="Struct",e[e["Event"]=23]="Event",e[e["Operator"]=24]="Operator",e[e["TypeParameter"]=25]="TypeParameter"}(pn||(pn={})),function(e){e[e["Deprecated"]=1]="Deprecated"}(fn||(fn={})),function(e){e[e["Hidden"]=0]="Hidden",e[e["Blink"]=1]="Blink",e[e["Smooth"]=2]="Smooth",e[e["Phase"]=3]="Phase",e[e["Expand"]=4]="Expand",e[e["Solid"]=5]="Solid"}(gn||(gn={})),function(e){e[e["Line"]=1]="Line",e[e["Block"]=2]="Block",e[e["Underline"]=3]="Underline",e[e["LineThin"]=4]="LineThin",e[e["BlockOutline"]=5]="BlockOutline",e[e["UnderlineThin"]=6]="UnderlineThin"}(mn||(mn={})),function(e){e[e["AlwaysGrowsWhenTypingAtEdges"]=0]="AlwaysGrowsWhenTypingAtEdges",e[e["NeverGrowsWhenTypingAtEdges"]=1]="NeverGrowsWhenTypingAtEdges",e[e["GrowsOnlyWhenTypingBefore"]=2]="GrowsOnlyWhenTypingBefore",e[e["GrowsOnlyWhenTypingAfter"]=3]="GrowsOnlyWhenTypingAfter"}(_n||(_n={})),function(e){e[e["None"]=0]="None",e[e["Same"]=1]="Same",e[e["Indent"]=2]="Indent",e[e["DeepIndent"]=3]="DeepIndent"}(vn||(vn={}));var kn=function(){function e(){}return e.chord=function(e,t){return ct(e,t)},e.CtrlCmd=2048,e.Shift=1024,e.Alt=512,e.WinCtrl=256,e}();function xn(){return{editor:void 0,languages:void 0,CancellationTokenSource:rt,Emitter:Ze,KeyCode:Qt,KeyMod:kn,Position:yn,Range:bn,Selection:Cn,SelectionDirection:hn,MarkerSeverity:en,MarkerTag:tn,Uri:Lt,Token:Sn}}var Ln;n("b223");(function(e){function t(t){return t[e.DI_DEPENDENCIES]||[]}e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=t})(Ln||(Ln={}));var In=Dn("instantiationService");function On(e,t,n,i){t[Ln.DI_TARGET]===t?t[Ln.DI_DEPENDENCIES].push({id:e,index:n,optional:i}):(t[Ln.DI_DEPENDENCIES]=[{id:e,index:n,optional:i}],t[Ln.DI_TARGET]=t)}function Dn(e){if(Ln.serviceIds.has(e))return Ln.serviceIds.get(e);var t=function(e,n,i){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");On(t,e,i,!1)};return t.toString=function(){return e},Ln.serviceIds.set(e,t),t}function Nn(e){return function(t,n,i){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");On(e,t,i,!0)}}var Rn=Dn("codeEditorService"),An=function(){function e(){this._zoomLevel=0,this._lastZoomLevelChangeTime=0,this._onDidChangeZoomLevel=new Ze,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.getTimeSinceLastZoomLevelChanged=function(){return Date.now()-this._lastZoomLevelChangeTime},e.prototype.getPixelRatio=function(){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n},e.INSTANCE=new e,e}();function Mn(){return An.INSTANCE.getZoomLevel()}function Pn(){return An.INSTANCE.getTimeSinceLastZoomLevelChanged()}function Fn(e){return An.INSTANCE.onDidChangeZoomLevel(e)}function Bn(){return An.INSTANCE.getPixelRatio()}var Vn=navigator.userAgent,Hn=Vn.indexOf("Trident")>=0,$n=Vn.indexOf("Edge/")>=0,Wn=Hn||$n,Un=Vn.indexOf("Firefox")>=0,zn=Vn.indexOf("AppleWebKit")>=0,jn=Vn.indexOf("Chrome")>=0,Gn=!jn&&Vn.indexOf("Safari")>=0,Kn=!jn&&!Gn&&zn,qn=Vn.indexOf("iPad")>=0||Gn&&navigator.maxTouchPoints>0,Yn=$n&&Vn.indexOf("WebView/")>=0,Xn=window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches,Zn=function(e,t,n){var i=function(e){return o.fire(e)},o=new Ze({onFirstListenerAdd:function(){e.addEventListener(t,i,n)},onLastListenerRemove:function(){e.removeEventListener(t,i,n)}});return o.event};function Jn(e){return $e.map(e,(function(e){return e.preventDefault(),e.stopPropagation(),e}))}var Qn=new Array(230),ei=new Array(112);function ti(e){if(e.charCode){var t=String.fromCharCode(e.charCode).toUpperCase();return it.fromString(t)}return Qn[e.keyCode]||0}(function(){for(var e=0;e<ei.length;e++)ei[e]=-1;function t(e,t){Qn[e]=t,ei[t]=e}t(3,7),t(8,1),t(9,2),t(13,3),t(16,4),t(17,5),t(18,6),t(19,7),t(20,8),t(27,9),t(32,10),t(33,11),t(34,12),t(35,13),t(36,14),t(37,15),t(38,16),t(39,17),t(40,18),t(45,19),t(46,20),t(48,21),t(49,22),t(50,23),t(51,24),t(52,25),t(53,26),t(54,27),t(55,28),t(56,29),t(57,30),t(65,31),t(66,32),t(67,33),t(68,34),t(69,35),t(70,36),t(71,37),t(72,38),t(73,39),t(74,40),t(75,41),t(76,42),t(77,43),t(78,44),t(79,45),t(80,46),t(81,47),t(82,48),t(83,49),t(84,50),t(85,51),t(86,52),t(87,53),t(88,54),t(89,55),t(90,56),t(93,58),t(96,93),t(97,94),t(98,95),t(99,96),t(100,97),t(101,98),t(102,99),t(103,100),t(104,101),t(105,102),t(106,103),t(107,104),t(108,105),t(109,106),t(110,107),t(111,108),t(112,59),t(113,60),t(114,61),t(115,62),t(116,63),t(117,64),t(118,65),t(119,66),t(120,67),t(121,68),t(122,69),t(123,70),t(124,71),t(125,72),t(126,73),t(127,74),t(128,75),t(129,76),t(130,77),t(144,78),t(145,79),t(186,80),t(187,81),t(188,82),t(189,83),t(190,84),t(191,85),t(192,86),t(193,110),t(194,111),t(219,87),t(220,88),t(221,89),t(222,90),t(223,91),t(226,92),t(229,109),Hn?t(91,57):Un?(t(59,80),t(107,81),t(109,83),s["e"]&&t(224,57)):zn&&(t(91,57),s["e"]?t(93,57):t(92,57))})();var ni=s["e"]?256:2048,ii=512,oi=1024,ri=s["e"]?2048:256,si=function(){function e(e){this._standardKeyboardEventBrand=!0;var t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.keyCode=ti(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e.prototype.toKeybinding=function(){return this._asRuntimeKeybinding},e.prototype.equals=function(e){return this._asKeybinding===e},e.prototype._computeKeybinding=function(){var e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);var t=0;return this.ctrlKey&&(t|=ni),this.altKey&&(t|=ii),this.shiftKey&&(t|=oi),this.metaKey&&(t|=ri),t|=e,t},e.prototype._computeRuntimeKeybinding=function(){var e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new ft(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)},e}(),ai=!1,li=null;function ui(e){if(!e.parent||e.parent===e)return null;try{var t=e.location,n=e.parent.location;if(t.protocol!==n.protocol||t.hostname!==n.hostname||t.port!==n.port)return ai=!0,null}catch(i){return ai=!0,null}return e.parent}function ci(e,t){for(var n,i=e.document.getElementsByTagName("iframe"),o=0,r=i.length;o<r;o++)if(n=i[o],n.contentWindow===t)return n;return null}var hi=function(){function e(){}return e.getSameOriginWindowChain=function(){if(!li){li=[];var e,t=window;do{e=ui(t),e?li.push({window:t,iframeElement:ci(e,t)}):li.push({window:t,iframeElement:null}),t=e}while(t)}return li.slice(0)},e.hasDifferentOriginAncestor=function(){return li||this.getSameOriginWindowChain(),ai},e.getPositionOfChildWindowRelativeToAncestorWindow=function(e,t){if(!t||e===t)return{top:0,left:0};for(var n=0,i=0,o=this.getSameOriginWindowChain(),r=0,s=o;r<s.length;r++){var a=s[r];if(a.window===t)break;if(!a.iframeElement)break;var l=a.iframeElement.getBoundingClientRect();n+=l.top,i+=l.left}return{top:n,left:i}},e}(),di=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pi=function(){function e(e){this.timestamp=Date.now(),this.browserEvent=e,this.leftButton=0===e.button,this.middleButton=1===e.button,this.rightButton=2===e.button,this.buttons=e.buttons,this.target=e.target,this.detail=e.detail||1,"dblclick"===e.type&&(this.detail=2),this.ctrlKey=e.ctrlKey,this.shiftKey=e.shiftKey,this.altKey=e.altKey,this.metaKey=e.metaKey,"number"===typeof e.pageX?(this.posx=e.pageX,this.posy=e.pageY):(this.posx=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=e.clientY+document.body.scrollTop+document.documentElement.scrollTop);var t=hi.getPositionOfChildWindowRelativeToAncestorWindow(self,e.view);this.posx-=t.left,this.posy-=t.top}return e.prototype.preventDefault=function(){this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}(),fi=function(e){function t(t){var n=e.call(this,t)||this;return n.dataTransfer=t.dataTransfer,n}return di(t,e),t}(pi),gi=function(){function e(e,t,n){if(void 0===t&&(t=0),void 0===n&&(n=0),this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t,e){var i=e,o=e;if("undefined"!==typeof i.wheelDeltaY)this.deltaY=i.wheelDeltaY/120;else if("undefined"!==typeof o.VERTICAL_AXIS&&o.axis===o.VERTICAL_AXIS)this.deltaY=-o.detail/3;else if("wheel"===e.type){var r=e;r.deltaMode===r.DOM_DELTA_LINE?this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if("undefined"!==typeof i.wheelDeltaX)Gn&&s["h"]?this.deltaX=-i.wheelDeltaX/120:this.deltaX=i.wheelDeltaX/120;else if("undefined"!==typeof o.HORIZONTAL_AXIS&&o.axis===o.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){r=e;r.deltaMode===r.DOM_DELTA_LINE?this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=e.wheelDelta/120)}}return e.prototype.preventDefault=function(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()},e.prototype.stopPropagation=function(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()},e}();function mi(e){return e&&"function"===typeof e.then}function _i(e){var t=new rt,n=e(t.token),i=new Promise((function(e,i){t.token.onCancellationRequested((function(){i(be())})),Promise.resolve(n).then((function(n){t.dispose(),e(n)}),(function(e){t.dispose(),i(e)}))}));return new(function(){function e(){}return e.prototype.cancel=function(){t.cancel()},e.prototype.then=function(e,t){return i.then(e,t)},e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.finally=function(e){return i.finally(e)},e}())}function vi(e,t,n){return Promise.race([e,new Promise((function(e){return t.onCancellationRequested((function(){return e(n)}))}))])}var yi=function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}return e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((function(e,t){n.doResolve=e,n.doReject=t})).then((function(){if(n.completionPromise=null,n.doResolve=null,n.task){var e=n.task;return n.task=null,e()}}))),this.timeout=setTimeout((function(){n.timeout=null,n.doResolve&&n.doResolve(null)}),t),this.completionPromise},e.prototype.isTriggered=function(){return null!==this.timeout},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.doReject&&this.doReject(be()),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},e.prototype.dispose=function(){this.cancelTimeout()},e}();function bi(e,t){return t?new Promise((function(n,i){var o=setTimeout(n,e);t.onCancellationRequested((function(){clearTimeout(o),i(be())}))})):_i((function(t){return bi(e,t)}))}function wi(e,t){void 0===t&&(t=0);var n=setTimeout(e,t);return De((function(){return clearTimeout(n)}))}function Ci(e,t,n){void 0===t&&(t=function(e){return!!e}),void 0===n&&(n=null);var i=0,o=e.length,r=function(){if(i>=o)return Promise.resolve(n);var s=e[i++],a=Promise.resolve(s());return a.then((function(e){return t(e)?Promise.resolve(e):r()}))};return r()}var Si,Ei=function(){function e(e,t){this._token=-1,"function"===typeof e&&"number"===typeof t&&this.setIfNotSet(e,t)}return e.prototype.dispose=function(){this.cancel()},e.prototype.cancel=function(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)},e.prototype.cancelAndSet=function(e,t){var n=this;this.cancel(),this._token=setTimeout((function(){n._token=-1,e()}),t)},e.prototype.setIfNotSet=function(e,t){var n=this;-1===this._token&&(this._token=setTimeout((function(){n._token=-1,e()}),t))},e}(),Ti=function(){function e(){this._token=-1}return e.prototype.dispose=function(){this.cancel()},e.prototype.cancel=function(){-1!==this._token&&(clearInterval(this._token),this._token=-1)},e.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=setInterval((function(){e()}),t)},e}(),ki=function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}return e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return-1!==this.timeoutToken},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},e.prototype.doRun=function(){this.runner&&this.runner()},e}();(function(){if("function"!==typeof requestIdleCallback||"function"!==typeof cancelIdleCallback){var e=Object.freeze({didTimeout:!0,timeRemaining:function(){return 15}});Si=function(t){var n=setTimeout((function(){return t(e)})),i=!1;return{dispose:function(){i||(i=!0,clearTimeout(n))}}}}else Si=function(e,t){var n=requestIdleCallback(e,"number"===typeof t?{timeout:t}:void 0),i=!1;return{dispose:function(){i||(i=!0,cancelIdleCallback(n))}}}})();var xi,Li=function(){function e(e){var t=this;this._didRun=!1,this._executor=function(){try{t._value=e()}catch(n){t._error=n}finally{t._didRun=!0}},this._handle=Si((function(){return t._executor()}))}return e.prototype.dispose=function(){this._handle.dispose()},e.prototype.getValue=function(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value},e}();function Ii(e,t){return void 0===t&&(t=0),e[e.length-(1+t)]}function Oi(e){if(0===e.length)throw new Error("Invalid tail call");return[e.slice(0,e.length-1),e[e.length-1]]}function Di(e,t,n){if(void 0===n&&(n=function(e,t){return e===t}),e===t)return!0;if(!e||!t)return!1;if(e.length!==t.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!n(e[i],t[i]))return!1;return!0}function Ni(e,t,n){var i=0,o=e.length-1;while(i<=o){var r=(i+o)/2|0,s=n(e[r],t);if(s<0)i=r+1;else{if(!(s>0))return r;o=r-1}}return-(i+1)}function Ri(e,t){var n=0,i=e.length;if(0===i)return 0;while(n<i){var o=Math.floor((n+i)/2);t(e[o])?i=o:n=o+1}return n}function Ai(e,t){return Pi(e,t,0,e.length-1,[]),e}function Mi(e,t,n,i,o,r){for(var s=n,a=i+1,l=n;l<=o;l++)r[l]=e[l];for(l=n;l<=o;l++)s>i?e[l]=r[a++]:a>o?e[l]=r[s++]:t(r[a],r[s])<0?e[l]=r[a++]:e[l]=r[s++]}function Pi(e,t,n,i,o){if(!(i<=n)){var r=n+(i-n)/2|0;Pi(e,t,n,r,o),Pi(e,t,r+1,i,o),t(e[r],e[r+1])<=0||Mi(e,t,n,r,i,o)}}function Fi(e,t){for(var n=[],i=void 0,o=0,r=Ai(e.slice(0),t);o<r.length;o++){var s=r[o];i&&0===t(i[0],s)?i.push(s):(i=[s],n.push(i))}return n}function Bi(e){return e.filter((function(e){return!!e}))}function Vi(e){return!Array.isArray(e)||0===e.length}function Hi(e){return Array.isArray(e)&&e.length>0}function $i(e,t){if(!t)return e.filter((function(t,n){return e.indexOf(t)===n}));var n=Object.create(null);return e.filter((function(e){var i=t(e);return!n[i]&&(n[i]=!0,!0)}))}function Wi(e){var t=new Set;return e.filter((function(e){return!t.has(e)&&(t.add(e),!0)}))}function Ui(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function zi(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i))return n}return-1}function ji(e,t,n){void 0===n&&(n=void 0);var i=zi(e,t);return i<0?n:e[i]}function Gi(e,t){return e.length>0?e[0]:t}function Ki(e){var t;return(t=[]).concat.apply(t,e)}function qi(e,t){var n="number"===typeof t?e:0;"number"===typeof t?n=e:(n=0,t=e);var i=[];if(n<=t)for(var o=n;o<t;o++)i.push(o);else for(o=n;o>t;o--)i.push(o);return i}function Yi(e,t,n){var i=e.slice(0,t),o=e.slice(t);return i.concat(n,o)}function Xi(e,t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),e.unshift(t))}function Zi(e,t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),e.push(t))}function Ji(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}}function Qi(e){return Array.isArray(e)?e:[e]}(function(e){e.inMemory="inmemory",e.vscode="vscode",e.internal="private",e.walkThrough="walkThrough",e.walkThroughSnippet="walkThroughSnippet",e.http="http",e.https="https",e.file="file",e.mailto="mailto",e.untitled="untitled",e.data="data",e.command="command",e.vscodeRemote="vscode-remote",e.vscodeRemoteResource="vscode-remote-resource",e.userData="vscode-userdata"})(xi||(xi={}));var eo=function(){function e(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null}return e.prototype.setPreferredWebSchema=function(e){this._preferredWebSchema=e},e.prototype.rewrite=function(e){if(this._delegate)return this._delegate(e);var t=e.authority,n=this._hosts[t];n&&-1!==n.indexOf(":")&&(n="["+n+"]");var i=this._ports[t],o=this._connectionTokens[t],r="path="+encodeURIComponent(e.path);return"string"===typeof o&&(r+="&tkn="+encodeURIComponent(o)),Lt.from({scheme:s["g"]?this._preferredWebSchema:xi.vscodeRemoteResource,authority:n+":"+i,path:"/vscode-remote-resource",query:r})},e}(),to=new eo,no={clipboard:{writeText:s["f"]||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:s["f"]||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText),richText:function(){if(Hn)return!1;if($n){var e=navigator.userAgent.indexOf("Edge/"),t=parseInt(navigator.userAgent.substring(e+5,navigator.userAgent.indexOf(".",e)),10);if(!t||t>=12&&t<=16)return!1}return!0}()},keyboard:function(){return s["f"]||Xn?0:navigator.keyboard||Gn?1:2}(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0)},io=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oo=function(){return oo=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},oo.apply(this,arguments)},ro=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i};function so(e){while(e.firstChild)e.removeChild(e.firstChild)}function ao(e){e.parentNode&&e.parentNode.removeChild(e)}function lo(e){while(e){if(e===document.body)return!0;e=e.parentNode||e.host}return!1}var uo=new(function(){function e(){this._lastStart=-1,this._lastEnd=-1}return e.prototype._findClassName=function(e,t){var n=e.className;if(n){t=t.trim();var i=n.length,o=t.length;if(0!==o)if(i<o)this._lastStart=-1;else{if(n===t)return this._lastStart=0,void(this._lastEnd=i);var r,s=-1;while((s=n.indexOf(t,s+1))>=0){if(r=s+o,(0===s||32===n.charCodeAt(s-1))&&32===n.charCodeAt(r))return this._lastStart=s,void(this._lastEnd=r+1);if(s>0&&32===n.charCodeAt(s-1)&&r===i)return this._lastStart=s-1,void(this._lastEnd=r);if(0===s&&r===i)return this._lastStart=0,void(this._lastEnd=r)}this._lastStart=-1}else this._lastStart=-1}else this._lastStart=-1},e.prototype.hasClass=function(e,t){return this._findClassName(e,t),-1!==this._lastStart},e.prototype.addClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach((function(n){return n.split(" ").forEach((function(n){return t.addClass(e,n)}))}))},e.prototype.addClass=function(e,t){e.className?(this._findClassName(e,t),-1===this._lastStart&&(e.className=e.className+" "+t)):e.className=t},e.prototype.removeClass=function(e,t){this._findClassName(e,t),-1!==this._lastStart&&(e.className=e.className.substring(0,this._lastStart)+e.className.substring(this._lastEnd))},e.prototype.removeClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach((function(n){return n.split(" ").forEach((function(n){return t.removeClass(e,n)}))}))},e.prototype.toggleClass=function(e,t,n){this._findClassName(e,t),-1===this._lastStart||void 0!==n&&n||this.removeClass(e,t),-1!==this._lastStart||void 0!==n&&!n||this.addClass(e,t)},e}()),co=new(function(){function e(){}return e.prototype.hasClass=function(e,t){return Boolean(t)&&e.classList&&e.classList.contains(t)},e.prototype.addClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach((function(n){return n.split(" ").forEach((function(n){return t.addClass(e,n)}))}))},e.prototype.addClass=function(e,t){t&&e.classList&&e.classList.add(t)},e.prototype.removeClass=function(e,t){t&&e.classList&&e.classList.remove(t)},e.prototype.removeClasses=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];n.forEach((function(n){return n.split(" ").forEach((function(n){return t.removeClass(e,n)}))}))},e.prototype.toggleClass=function(e,t,n){e.classList&&e.classList.toggle(t,n)},e}()),ho=Hn?uo:co,po=ho.hasClass.bind(ho),fo=ho.addClass.bind(ho),go=ho.addClasses.bind(ho),mo=ho.removeClass.bind(ho),_o=ho.removeClasses.bind(ho),vo=ho.toggleClass.bind(ho),yo=function(){function e(e,t,n,i){this._node=e,this._type=t,this._handler=n,this._options=i||!1,this._node.addEventListener(this._type,this._handler,this._options)}return e.prototype.dispose=function(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)},e}();function bo(e,t,n,i){return new yo(e,t,n,i)}function wo(e){return function(t){return e(new pi(t))}}function Co(e){return function(t){return e(new si(t))}}var So=function(e,t,n,i){var o=n;return"click"===t||"mousedown"===t?o=wo(n):"keydown"!==t&&"keypress"!==t&&"keyup"!==t||(o=Co(n)),bo(e,t,o,i)},Eo=function(e,t,n){var i=wo(t);return To(e,i,n)};function To(e,t,n){return bo(e,s["c"]&&no.pointerEvents?ar.POINTER_DOWN:ar.MOUSE_DOWN,t,n)}function ko(e,t,n){return bo(e,s["c"]&&no.pointerEvents?ar.POINTER_UP:ar.MOUSE_UP,t,n)}function xo(e,t){return bo(e,"mouseout",(function(n){var i=n.relatedTarget;while(i&&i!==e)i=i.parentNode;i!==e&&t(n)}))}function Lo(e,t){return bo(e,"pointerout",(function(n){var i=n.relatedTarget;while(i&&i!==e)i=i.parentNode;i!==e&&t(n)}))}var Io,Oo,Do=null;function No(e){if(!Do){var t=function(e){return setTimeout((function(){return e((new Date).getTime())}),0)};Do=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||t}return Do.call(self,e)}var Ro=function(){function e(e,t){void 0===t&&(t=0),this._runner=e,this.priority=t,this._canceled=!1}return e.prototype.dispose=function(){this._canceled=!0},e.prototype.execute=function(){if(!this._canceled)try{this._runner()}catch(e){ge(e)}},e.sort=function(e,t){return t.priority-e.priority},e}();(function(){var e=[],t=null,n=!1,i=!1,o=function(){n=!1,t=e,e=[],i=!0;while(t.length>0){t.sort(Ro.sort);var o=t.shift();o.execute()}i=!1};Oo=function(t,i){void 0===i&&(i=0);var r=new Ro(t,i);return e.push(r),n||(n=!0,No(o)),r},Io=function(e,n){if(i){var o=new Ro(e,n);return t.push(o),o}return Oo(e,n)}})();var Ao=16,Mo=function(e,t){return t},Po=function(e){function t(t,n,i,o,r){void 0===o&&(o=Mo),void 0===r&&(r=Ao);var s=e.call(this)||this,a=null,l=0,u=s._register(new Ei),c=function(){l=(new Date).getTime(),i(a),a=null};return s._register(bo(t,n,(function(e){a=o(a,e);var t=(new Date).getTime()-l;t>=r?(u.cancel(),c()):u.setIfNotSet(c,r-t)}))),s}return io(t,e),t}(Ae);function Fo(e,t,n,i,o){return new Po(e,t,n,i,o)}function Bo(e){return document.defaultView.getComputedStyle(e,null)}function Vo(e){if(e!==document.body)return new $o(e.clientWidth,e.clientHeight);if(s["c"]&&window.visualViewport){var t=window.visualViewport.width,n=window.visualViewport.height-(Xn?24:0);return new $o(t,n)}if(window.innerWidth&&window.innerHeight)return new $o(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new $o(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new $o(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}var Ho=function(){function e(){}return e.convertToPixels=function(e,t){return parseFloat(t)||0},e.getDimension=function(t,n,i){var o=Bo(t),r="0";return o&&(r=o.getPropertyValue?o.getPropertyValue(n):o.getAttribute(i)),e.convertToPixels(t,r)},e.getBorderLeftWidth=function(t){return e.getDimension(t,"border-left-width","borderLeftWidth")},e.getBorderRightWidth=function(t){return e.getDimension(t,"border-right-width","borderRightWidth")},e.getBorderTopWidth=function(t){return e.getDimension(t,"border-top-width","borderTopWidth")},e.getBorderBottomWidth=function(t){return e.getDimension(t,"border-bottom-width","borderBottomWidth")},e.getPaddingLeft=function(t){return e.getDimension(t,"padding-left","paddingLeft")},e.getPaddingRight=function(t){return e.getDimension(t,"padding-right","paddingRight")},e.getPaddingTop=function(t){return e.getDimension(t,"padding-top","paddingTop")},e.getPaddingBottom=function(t){return e.getDimension(t,"padding-bottom","paddingBottom")},e.getMarginLeft=function(t){return e.getDimension(t,"margin-left","marginLeft")},e.getMarginTop=function(t){return e.getDimension(t,"margin-top","marginTop")},e.getMarginRight=function(t){return e.getDimension(t,"margin-right","marginRight")},e.getMarginBottom=function(t){return e.getDimension(t,"margin-bottom","marginBottom")},e}(),$o=function(){function e(e,t){this.width=e,this.height=t}return e}();function Wo(e){var t=e.offsetParent,n=e.offsetTop,i=e.offsetLeft;while(null!==(e=e.parentNode)&&e!==document.body&&e!==document.documentElement){n-=e.scrollTop;var o=Zo(e)?null:Bo(e);o&&(i-="rtl"!==o.direction?e.scrollLeft:-e.scrollLeft),e===t&&(i+=Ho.getBorderLeftWidth(e),n+=Ho.getBorderTopWidth(e),n+=e.offsetTop,i+=e.offsetLeft,t=e.offsetParent)}return{left:i,top:n}}function Uo(e){var t=e.getBoundingClientRect();return{left:t.left+zo.scrollX,top:t.top+zo.scrollY,width:t.width,height:t.height}}var zo=new(function(){function e(){}return Object.defineProperty(e.prototype,"scrollX",{get:function(){return"number"===typeof window.scrollX?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollY",{get:function(){return"number"===typeof window.scrollY?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop},enumerable:!0,configurable:!0}),e}());function jo(e){var t=Ho.getMarginLeft(e)+Ho.getMarginRight(e);return e.offsetWidth+t}function Go(e){var t=Ho.getBorderLeftWidth(e)+Ho.getBorderRightWidth(e),n=Ho.getPaddingLeft(e)+Ho.getPaddingRight(e);return e.offsetWidth-t-n}function Ko(e){var t=Ho.getBorderTopWidth(e)+Ho.getBorderBottomWidth(e),n=Ho.getPaddingTop(e)+Ho.getPaddingBottom(e);return e.offsetHeight-t-n}function qo(e){var t=Ho.getMarginTop(e)+Ho.getMarginBottom(e);return e.offsetHeight+t}function Yo(e,t){while(e){if(e===t)return!0;e=e.parentNode}return!1}function Xo(e,t,n){while(e&&e.nodeType===e.ELEMENT_NODE){if(po(e,t))return e;if(n)if("string"===typeof n){if(po(e,n))return null}else if(e===n)return null;e=e.parentNode}return null}function Zo(e){return e&&!!e.host&&!!e.mode}function Jo(e){return!!Qo(e)}function Qo(e){while(e.parentNode){if(e===document.body)return null;e=e.parentNode}return Zo(e)?e:null}function er(e){void 0===e&&(e=document.getElementsByTagName("head")[0]);var t=document.createElement("style");return t.type="text/css",t.media="screen",e.appendChild(t),t}var tr=null;function nr(){return tr||(tr=er()),tr}function ir(e){return e&&e.sheet&&e.sheet.rules?e.sheet.rules:e&&e.sheet&&e.sheet.cssRules?e.sheet.cssRules:[]}function or(e,t,n){void 0===n&&(n=nr()),n&&t&&n.sheet.insertRule(e+"{"+t+"}",0)}function rr(e,t){if(void 0===t&&(t=nr()),t){for(var n=ir(t),i=[],o=0;o<n.length;o++){var r=n[o];-1!==r.selectorText.indexOf(e)&&i.push(o)}for(o=i.length-1;o>=0;o--)t.sheet.deleteRule(i[o])}}function sr(e){return"object"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&1===e.nodeType&&"string"===typeof e.nodeName}var ar={CLICK:"click",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:zn?"webkitAnimationStart":"animationstart",ANIMATION_END:zn?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:zn?"webkitAnimationIteration":"animationiteration"},lr={stop:function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,t&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}};function ur(e){for(var t=[],n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)t[n]=e.scrollTop,e=e.parentNode;return t}function cr(e,t){for(var n=0;e&&e.nodeType===e.ELEMENT_NODE;n++)e.scrollTop!==t[n]&&(e.scrollTop=t[n]),e=e.parentNode}var hr=function(e){function t(t){var n=e.call(this)||this;n._onDidFocus=n._register(new Ze),n.onDidFocus=n._onDidFocus.event,n._onDidBlur=n._register(new Ze),n.onDidBlur=n._onDidBlur.event;var i=Yo(document.activeElement,t),o=!1,r=function(){o=!1,i||(i=!0,n._onDidFocus.fire())},s=function(){i&&(o=!0,window.setTimeout((function(){o&&(o=!1,i=!1,n._onDidBlur.fire())}),0))};return n._refreshStateHandler=function(){var e=Yo(document.activeElement,t);e!==i&&(i?s():r())},n._register(Zn(t,ar.FOCUS,!0)(r)),n._register(Zn(t,ar.BLUR,!0)(s)),n}return io(t,e),t}(Ae);function dr(e){return new hr(e)}function pr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){return e.appendChild(t)})),t[t.length-1]}var fr,gr=/([\w\-]+)?(#([\w\-]+))?((.([\w\-]+))*)/;function mr(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var r=gr.exec(t);if(!r)throw new Error("Bad use of emmet");n=oo({},n||{});var s,a=r[1]||"div";return s=e!==fr.HTML?document.createElementNS(e,a):document.createElement(a),r[3]&&(s.id=r[3]),r[4]&&(s.className=r[4].replace(/\./g," ").trim()),Object.keys(n).forEach((function(e){var t=n[e];"undefined"!==typeof t&&(/^on\w+$/.test(e)?s[e]=t:"selected"===e?t&&s.setAttribute(e,"true"):s.setAttribute(e,t))})),Bi(i).forEach((function(e){e instanceof Node?s.appendChild(e):s.appendChild(document.createTextNode(e))})),s}function _r(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return mr.apply(void 0,ro([fr.HTML,e,t],n))}function vr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];o.style.display="",o.removeAttribute("aria-hidden")}}function yr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];o.style.display="none",o.setAttribute("aria-hidden","true")}}function br(e,t){while(e&&e.nodeType===e.ELEMENT_NODE){if(e instanceof HTMLElement&&e.hasAttribute(t))return e;e=e.parentNode}return null}function wr(e){if(e&&e.hasAttribute("tabIndex")){if(document.activeElement===e){var t=br(e.parentElement,"tabIndex");t&&t.focus()}e.removeAttribute("tabindex")}}function Cr(e){return Array.prototype.slice.call(document.getElementsByTagName(e),0)}function Sr(e){var t=window.devicePixelRatio*e;return Math.max(1,Math.floor(t))/window.devicePixelRatio}function Er(e){if(s["f"]||Yn)window.open(e);else{var t=window.open();t&&(t.opener=null,t.location.href=e)}}function Tr(e){var t=function(){e(),n=Oo(t)},n=Oo(t);return De((function(){return n.dispose()}))}function kr(e){return e&&xi.vscodeRemote===e.scheme?to.rewrite(e):e}function xr(e){return e?"url('"+kr(e).toString(!0).replace(/'/g,"%27")+"')":"url('')"}function Lr(e){var t=JSON.parse(e);return t=Ir(t),t}function Ir(e,t){if(void 0===t&&(t=0),!e||t>200)return e;if("object"===typeof e){switch(e.$mid){case 1:return Lt.revive(e);case 2:return new RegExp(e.source,e.flags)}for(var n in e)Object.hasOwnProperty.call(e,n)&&(e[n]=Ir(e[n],t+1))}return e}function Or(e){return!e||"string"!==typeof e||0===e.trim().length}function Dr(e,t,n){void 0===n&&(n="0");for(var i=""+e,o=[i],r=i.length;r<t;r++)o.push(n);return o.reverse().join("")}(function(e){e["HTML"]="http://www.w3.org/1999/xhtml",e["SVG"]="http://www.w3.org/2000/svg"})(fr||(fr={})),_r.SVG=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return mr.apply(void 0,ro([fr.SVG,e,t],n))},to.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");var Nr=/{(\d+)}/g;function Rr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return 0===t.length?e:e.replace(Nr,(function(e,n){var i=parseInt(n,10);return isNaN(i)||i<0||i>=t.length?e:t[i]}))}function Ar(e){return e.replace(/[<>&]/g,(function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}}))}function Mr(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function Pr(e,t){void 0===t&&(t=" ");var n=Fr(e,t);return Br(n,t)}function Fr(e,t){if(!e||!t)return e;var n=t.length;if(0===n||0===e.length)return e;var i=0;while(e.indexOf(t,i)===i)i+=n;return e.substring(i)}function Br(e,t){if(!e||!t)return e;var n=t.length,i=e.length;if(0===n||0===i)return e;var o=i,r=-1;while(1){if(r=e.lastIndexOf(t,o-1),-1===r||r+n!==o)break;if(0===r)return"";o=r}return e.substring(0,o)}function Vr(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function Hr(e,t){if(e.length<t.length)return!1;if(e===t)return!0;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}function $r(e,t){var n=e.length-t.length;return n>0?e.indexOf(t,n)===n:0===n&&e===t}function Wr(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("Cannot create regex from empty string");t||(e=Mr(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e="\\b"+e),/\B/.test(e.charAt(e.length-1))||(e+="\\b"));var i="";return n.global&&(i+="g"),n.matchCase||(i+="i"),n.multiline&&(i+="m"),n.unicode&&(i+="u"),new RegExp(e,i)}function Ur(e){if("^"===e.source||"^$"===e.source||"$"===e.source||"^\\s*$"===e.source)return!1;var t=e.exec("");return!(!t||0!==e.lastIndex)}function zr(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")}function jr(e){for(var t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);if(32!==i&&9!==i)return t}return-1}function Gr(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length);for(var i=t;i<n;i++){var o=e.charCodeAt(i);if(32!==o&&9!==o)return e.substring(t,i)}return e.substring(t,n)}function Kr(e,t){void 0===t&&(t=e.length-1);for(var n=t;n>=0;n--){var i=e.charCodeAt(n);if(32!==i&&9!==i)return n}return-1}function qr(e,t){return e<t?-1:e>t?1:0}function Yr(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=e.charCodeAt(i),r=t.charCodeAt(i);if(o!==r){Zr(o)&&(o+=32),Zr(r)&&(r+=32);var s=o-r;if(0!==s)return Xr(o)&&Xr(r)?s:qr(e.toLowerCase(),t.toLowerCase())}}return e.length<t.length?-1:e.length>t.length?1:0}function Xr(e){return e>=97&&e<=122}function Zr(e){return e>=65&&e<=90}function Jr(e){return Xr(e)||Zr(e)}function Qr(e,t){return e.length===t.length&&es(e,t)}function es(e,t,n){void 0===n&&(n=e.length);for(var i=0;i<n;i++){var o=e.charCodeAt(i),r=t.charCodeAt(i);if(o!==r)if(Jr(o)&&Jr(r)){var s=Math.abs(o-r);if(0!==s&&32!==s)return!1}else if(String.fromCharCode(o).toLowerCase()!==String.fromCharCode(r).toLowerCase())return!1}return!0}function ts(e,t){var n=t.length;return!(t.length>e.length)&&es(e,t,n)}function ns(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return n;return i}function is(e,t){var n,i=Math.min(e.length,t.length),o=e.length-1,r=t.length-1;for(n=0;n<i;n++)if(e.charCodeAt(o-n)!==t.charCodeAt(r-n))return n;return i}function os(e){return 55296<=e&&e<=56319}function rs(e){return 56320<=e&&e<=57343}function ss(e,t,n){var i=e.charCodeAt(n);if(os(i)&&n+1<t){var o=e.charCodeAt(n+1);if(rs(o))return o-56320+(i-55296<<10)+65536}return i}function as(e,t){var n=e.charCodeAt(t-1);if(rs(n)&&t>1){var i=e.charCodeAt(t-2);if(os(i))return n-56320+(i-55296<<10)+65536}return n}function ls(e,t){var n=xs.getInstance(),i=t,o=e.length,r=ss(e,o,t);t+=r>=65536?2:1;var s=n.getGraphemeBreakType(r);while(t<o){var a=ss(e,o,t),l=n.getGraphemeBreakType(a);if(ks(s,l))break;t+=a>=65536?2:1,s=l}return t-i}function us(e,t){var n=xs.getInstance(),i=t,o=as(e,t);t-=o>=65536?2:1;var r=n.getGraphemeBreakType(o);while(t>0){var s=as(e,t),a=n.getGraphemeBreakType(s);if(ks(a,r))break;t-=s>=65536?2:1,r=a}return i-t}var cs=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u08BD\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE33\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDCFF]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD50-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function hs(e){return cs.test(e)}var ds=/(?:[\u231A\u231B\u23F0\u23F3\u2600-\u27BF\u2B50\u2B55]|\uD83C[\uDDE6-\uDDFF\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F\uDE80-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD00-\uDDFF\uDE70-\uDE73\uDE78-\uDE82\uDE90-\uDE95])/;function ps(e){return ds.test(e)}var fs=/^[\t\n\r\x20-\x7E]*$/;function gs(e){return fs.test(e)}function ms(e){for(var t=0,n=e.length;t<n;t++)if(_s(e.charCodeAt(t)))return!0;return!1}function _s(e){return e=+e,e>=11904&&e<=55215||e>=63744&&e<=64255||e>=65281&&e<=65374}function vs(e){return e>=127462&&e<=127487||e>=9728&&e<=10175||e>=127744&&e<=128591||e>=128640&&e<=128764||e>=128992&&e<=129003||e>=129280&&e<=129535||e>=129648&&e<=129651||e>=129656&&e<=129666||e>=129680&&e<=129685}var ys=String.fromCharCode(65279);function bs(e){return!!(e&&e.length>0&&65279===e.charCodeAt(0))}function ws(e){return btoa(encodeURIComponent(e))}function Cs(e,t){for(var n="",i=0;i<t;i++)n+=e;return n}function Ss(e,t){return void 0===t&&(t=!1),!!e&&(t&&(e=e.replace(/\\./g,"")),e.toLowerCase()!==e)}function Es(e){var t=26;return e%=2*t,e<t?String.fromCharCode(97+e):String.fromCharCode(65+e-t)}function Ts(e){var t=xs.getInstance();return t.getGraphemeBreakType(e)}function ks(e,t){return 0===e?5!==t&&7!==t:(2!==e||3!==t)&&(4===e||2===e||3===e||(4===t||2===t||3===t||(8!==e||8!==t&&9!==t&&11!==t&&12!==t)&&((11!==e&&9!==e||9!==t&&10!==t)&&((12!==e&&10!==e||10!==t)&&(5!==t&&13!==t&&(7!==t&&(1!==e&&((13!==e||14!==t)&&(6!==e||6!==t)))))))))}var xs=function(){function e(){this._data=Ls()}return e.getInstance=function(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE},e.prototype.getGraphemeBreakType=function(e){if(e<32)return 10===e?3:13===e?2:4;if(e<127)return 0;var t=this._data,n=t.length/3,i=1;while(i<=n)if(e<t[3*i])i*=2;else{if(!(e>t[3*i+1]))return t[3*i+2];i=2*i+1}return 0},e._INSTANCE=null,e}();function Ls(){return JSON.parse("[0,0,0,51592,51592,11,44424,44424,11,72251,72254,5,7150,7150,7,48008,48008,11,55176,55176,11,128420,128420,14,3276,3277,5,9979,9980,14,46216,46216,11,49800,49800,11,53384,53384,11,70726,70726,5,122915,122916,5,129320,129327,14,2558,2558,5,5906,5908,5,9762,9763,14,43360,43388,8,45320,45320,11,47112,47112,11,48904,48904,11,50696,50696,11,52488,52488,11,54280,54280,11,70082,70083,1,71350,71350,7,73111,73111,5,127892,127893,14,128726,128727,14,129473,129474,14,2027,2035,5,2901,2902,5,3784,3789,5,6754,6754,5,8418,8420,5,9877,9877,14,11088,11088,14,44008,44008,5,44872,44872,11,45768,45768,11,46664,46664,11,47560,47560,11,48456,48456,11,49352,49352,11,50248,50248,11,51144,51144,11,52040,52040,11,52936,52936,11,53832,53832,11,54728,54728,11,69811,69814,5,70459,70460,5,71096,71099,7,71998,71998,5,72874,72880,5,119149,119149,7,127374,127374,14,128335,128335,14,128482,128482,14,128765,128767,14,129399,129400,14,129680,129685,14,1476,1477,5,2377,2380,7,2759,2760,5,3137,3140,7,3458,3459,7,4153,4154,5,6432,6434,5,6978,6978,5,7675,7679,5,9723,9726,14,9823,9823,14,9919,9923,14,10035,10036,14,42736,42737,5,43596,43596,5,44200,44200,11,44648,44648,11,45096,45096,11,45544,45544,11,45992,45992,11,46440,46440,11,46888,46888,11,47336,47336,11,47784,47784,11,48232,48232,11,48680,48680,11,49128,49128,11,49576,49576,11,50024,50024,11,50472,50472,11,50920,50920,11,51368,51368,11,51816,51816,11,52264,52264,11,52712,52712,11,53160,53160,11,53608,53608,11,54056,54056,11,54504,54504,11,54952,54952,11,68108,68111,5,69933,69940,5,70197,70197,7,70498,70499,7,70845,70845,5,71229,71229,5,71727,71735,5,72154,72155,5,72344,72345,5,73023,73029,5,94095,94098,5,121403,121452,5,126981,127182,14,127538,127546,14,127990,127990,14,128391,128391,14,128445,128449,14,128500,128505,14,128752,128752,14,129160,129167,14,129356,129356,14,129432,129442,14,129648,129651,14,129751,131069,14,173,173,4,1757,1757,1,2274,2274,1,2494,2494,5,2641,2641,5,2876,2876,5,3014,3016,7,3262,3262,7,3393,3396,5,3570,3571,7,3968,3972,5,4228,4228,7,6086,6086,5,6679,6680,5,6912,6915,5,7080,7081,5,7380,7392,5,8252,8252,14,9096,9096,14,9748,9749,14,9784,9786,14,9833,9850,14,9890,9894,14,9938,9938,14,9999,9999,14,10085,10087,14,12349,12349,14,43136,43137,7,43454,43456,7,43755,43755,7,44088,44088,11,44312,44312,11,44536,44536,11,44760,44760,11,44984,44984,11,45208,45208,11,45432,45432,11,45656,45656,11,45880,45880,11,46104,46104,11,46328,46328,11,46552,46552,11,46776,46776,11,47000,47000,11,47224,47224,11,47448,47448,11,47672,47672,11,47896,47896,11,48120,48120,11,48344,48344,11,48568,48568,11,48792,48792,11,49016,49016,11,49240,49240,11,49464,49464,11,49688,49688,11,49912,49912,11,50136,50136,11,50360,50360,11,50584,50584,11,50808,50808,11,51032,51032,11,51256,51256,11,51480,51480,11,51704,51704,11,51928,51928,11,52152,52152,11,52376,52376,11,52600,52600,11,52824,52824,11,53048,53048,11,53272,53272,11,53496,53496,11,53720,53720,11,53944,53944,11,54168,54168,11,54392,54392,11,54616,54616,11,54840,54840,11,55064,55064,11,65438,65439,5,69633,69633,5,69837,69837,1,70018,70018,7,70188,70190,7,70368,70370,7,70465,70468,7,70712,70719,5,70835,70840,5,70850,70851,5,71132,71133,5,71340,71340,7,71458,71461,5,71985,71989,7,72002,72002,7,72193,72202,5,72281,72283,5,72766,72766,7,72885,72886,5,73104,73105,5,92912,92916,5,113824,113827,4,119173,119179,5,121505,121519,5,125136,125142,5,127279,127279,14,127489,127490,14,127570,127743,14,127900,127901,14,128254,128254,14,128369,128370,14,128400,128400,14,128425,128432,14,128468,128475,14,128489,128494,14,128715,128720,14,128745,128745,14,128759,128760,14,129004,129023,14,129296,129304,14,129340,129342,14,129388,129392,14,129404,129407,14,129454,129455,14,129485,129487,14,129659,129663,14,129719,129727,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2363,2363,7,2402,2403,5,2507,2508,7,2622,2624,7,2691,2691,7,2786,2787,5,2881,2884,5,3006,3006,5,3072,3072,5,3170,3171,5,3267,3268,7,3330,3331,7,3406,3406,1,3538,3540,5,3655,3662,5,3897,3897,5,4038,4038,5,4184,4185,5,4352,4447,8,6068,6069,5,6155,6157,5,6448,6449,7,6742,6742,5,6783,6783,5,6966,6970,5,7042,7042,7,7143,7143,7,7212,7219,5,7412,7412,5,8206,8207,4,8294,8303,4,8596,8601,14,9410,9410,14,9742,9742,14,9757,9757,14,9770,9770,14,9794,9794,14,9828,9828,14,9855,9855,14,9882,9882,14,9900,9903,14,9929,9933,14,9963,9967,14,9987,9988,14,10006,10006,14,10062,10062,14,10175,10175,14,11744,11775,5,42607,42607,5,43043,43044,7,43263,43263,5,43444,43445,7,43569,43570,5,43698,43700,5,43766,43766,5,44032,44032,11,44144,44144,11,44256,44256,11,44368,44368,11,44480,44480,11,44592,44592,11,44704,44704,11,44816,44816,11,44928,44928,11,45040,45040,11,45152,45152,11,45264,45264,11,45376,45376,11,45488,45488,11,45600,45600,11,45712,45712,11,45824,45824,11,45936,45936,11,46048,46048,11,46160,46160,11,46272,46272,11,46384,46384,11,46496,46496,11,46608,46608,11,46720,46720,11,46832,46832,11,46944,46944,11,47056,47056,11,47168,47168,11,47280,47280,11,47392,47392,11,47504,47504,11,47616,47616,11,47728,47728,11,47840,47840,11,47952,47952,11,48064,48064,11,48176,48176,11,48288,48288,11,48400,48400,11,48512,48512,11,48624,48624,11,48736,48736,11,48848,48848,11,48960,48960,11,49072,49072,11,49184,49184,11,49296,49296,11,49408,49408,11,49520,49520,11,49632,49632,11,49744,49744,11,49856,49856,11,49968,49968,11,50080,50080,11,50192,50192,11,50304,50304,11,50416,50416,11,50528,50528,11,50640,50640,11,50752,50752,11,50864,50864,11,50976,50976,11,51088,51088,11,51200,51200,11,51312,51312,11,51424,51424,11,51536,51536,11,51648,51648,11,51760,51760,11,51872,51872,11,51984,51984,11,52096,52096,11,52208,52208,11,52320,52320,11,52432,52432,11,52544,52544,11,52656,52656,11,52768,52768,11,52880,52880,11,52992,52992,11,53104,53104,11,53216,53216,11,53328,53328,11,53440,53440,11,53552,53552,11,53664,53664,11,53776,53776,11,53888,53888,11,54000,54000,11,54112,54112,11,54224,54224,11,54336,54336,11,54448,54448,11,54560,54560,11,54672,54672,11,54784,54784,11,54896,54896,11,55008,55008,11,55120,55120,11,64286,64286,5,66272,66272,5,68900,68903,5,69762,69762,7,69817,69818,5,69927,69931,5,70003,70003,5,70070,70078,5,70094,70094,7,70194,70195,7,70206,70206,5,70400,70401,5,70463,70463,7,70475,70477,7,70512,70516,5,70722,70724,5,70832,70832,5,70842,70842,5,70847,70848,5,71088,71089,7,71102,71102,7,71219,71226,5,71231,71232,5,71342,71343,7,71453,71455,5,71463,71467,5,71737,71738,5,71995,71996,5,72000,72000,7,72145,72147,7,72160,72160,5,72249,72249,7,72273,72278,5,72330,72342,5,72752,72758,5,72850,72871,5,72882,72883,5,73018,73018,5,73031,73031,5,73109,73109,5,73461,73462,7,94031,94031,5,94192,94193,7,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,126976,126979,14,127184,127231,14,127344,127345,14,127405,127461,14,127514,127514,14,127561,127567,14,127778,127779,14,127896,127896,14,127985,127986,14,127995,127999,5,128326,128328,14,128360,128366,14,128378,128378,14,128394,128397,14,128405,128406,14,128422,128423,14,128435,128443,14,128453,128464,14,128479,128480,14,128484,128487,14,128496,128498,14,128640,128709,14,128723,128724,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129096,129103,14,129292,129292,14,129311,129311,14,129329,129330,14,129344,129349,14,129360,129374,14,129394,129394,14,129402,129402,14,129413,129425,14,129445,129450,14,129466,129471,14,129483,129483,14,129511,129535,14,129653,129655,14,129667,129670,14,129705,129711,14,129731,129743,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2307,2307,7,2366,2368,7,2382,2383,7,2434,2435,7,2497,2500,5,2519,2519,5,2563,2563,7,2631,2632,5,2677,2677,5,2750,2752,7,2763,2764,7,2817,2817,5,2879,2879,5,2891,2892,7,2914,2915,5,3008,3008,5,3021,3021,5,3076,3076,5,3146,3149,5,3202,3203,7,3264,3265,7,3271,3272,7,3298,3299,5,3390,3390,5,3402,3404,7,3426,3427,5,3535,3535,5,3544,3550,7,3635,3635,7,3763,3763,7,3893,3893,5,3953,3966,5,3981,3991,5,4145,4145,7,4157,4158,5,4209,4212,5,4237,4237,5,4520,4607,10,5970,5971,5,6071,6077,5,6089,6099,5,6277,6278,5,6439,6440,5,6451,6456,7,6683,6683,5,6744,6750,5,6765,6770,7,6846,6846,5,6964,6964,5,6972,6972,5,7019,7027,5,7074,7077,5,7083,7085,5,7146,7148,7,7154,7155,7,7222,7223,5,7394,7400,5,7416,7417,5,8204,8204,5,8233,8233,4,8288,8292,4,8413,8416,5,8482,8482,14,8986,8987,14,9193,9203,14,9654,9654,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9775,14,9792,9792,14,9800,9811,14,9825,9826,14,9831,9831,14,9852,9853,14,9872,9873,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9936,9936,14,9941,9960,14,9974,9974,14,9982,9985,14,9992,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10145,10145,14,11013,11015,14,11503,11505,5,12334,12335,5,12951,12951,14,42612,42621,5,43014,43014,5,43047,43047,7,43204,43205,5,43335,43345,5,43395,43395,7,43450,43451,7,43561,43566,5,43573,43574,5,43644,43644,5,43710,43711,5,43758,43759,7,44005,44005,5,44012,44012,7,44060,44060,11,44116,44116,11,44172,44172,11,44228,44228,11,44284,44284,11,44340,44340,11,44396,44396,11,44452,44452,11,44508,44508,11,44564,44564,11,44620,44620,11,44676,44676,11,44732,44732,11,44788,44788,11,44844,44844,11,44900,44900,11,44956,44956,11,45012,45012,11,45068,45068,11,45124,45124,11,45180,45180,11,45236,45236,11,45292,45292,11,45348,45348,11,45404,45404,11,45460,45460,11,45516,45516,11,45572,45572,11,45628,45628,11,45684,45684,11,45740,45740,11,45796,45796,11,45852,45852,11,45908,45908,11,45964,45964,11,46020,46020,11,46076,46076,11,46132,46132,11,46188,46188,11,46244,46244,11,46300,46300,11,46356,46356,11,46412,46412,11,46468,46468,11,46524,46524,11,46580,46580,11,46636,46636,11,46692,46692,11,46748,46748,11,46804,46804,11,46860,46860,11,46916,46916,11,46972,46972,11,47028,47028,11,47084,47084,11,47140,47140,11,47196,47196,11,47252,47252,11,47308,47308,11,47364,47364,11,47420,47420,11,47476,47476,11,47532,47532,11,47588,47588,11,47644,47644,11,47700,47700,11,47756,47756,11,47812,47812,11,47868,47868,11,47924,47924,11,47980,47980,11,48036,48036,11,48092,48092,11,48148,48148,11,48204,48204,11,48260,48260,11,48316,48316,11,48372,48372,11,48428,48428,11,48484,48484,11,48540,48540,11,48596,48596,11,48652,48652,11,48708,48708,11,48764,48764,11,48820,48820,11,48876,48876,11,48932,48932,11,48988,48988,11,49044,49044,11,49100,49100,11,49156,49156,11,49212,49212,11,49268,49268,11,49324,49324,11,49380,49380,11,49436,49436,11,49492,49492,11,49548,49548,11,49604,49604,11,49660,49660,11,49716,49716,11,49772,49772,11,49828,49828,11,49884,49884,11,49940,49940,11,49996,49996,11,50052,50052,11,50108,50108,11,50164,50164,11,50220,50220,11,50276,50276,11,50332,50332,11,50388,50388,11,50444,50444,11,50500,50500,11,50556,50556,11,50612,50612,11,50668,50668,11,50724,50724,11,50780,50780,11,50836,50836,11,50892,50892,11,50948,50948,11,51004,51004,11,51060,51060,11,51116,51116,11,51172,51172,11,51228,51228,11,51284,51284,11,51340,51340,11,51396,51396,11,51452,51452,11,51508,51508,11,51564,51564,11,51620,51620,11,51676,51676,11,51732,51732,11,51788,51788,11,51844,51844,11,51900,51900,11,51956,51956,11,52012,52012,11,52068,52068,11,52124,52124,11,52180,52180,11,52236,52236,11,52292,52292,11,52348,52348,11,52404,52404,11,52460,52460,11,52516,52516,11,52572,52572,11,52628,52628,11,52684,52684,11,52740,52740,11,52796,52796,11,52852,52852,11,52908,52908,11,52964,52964,11,53020,53020,11,53076,53076,11,53132,53132,11,53188,53188,11,53244,53244,11,53300,53300,11,53356,53356,11,53412,53412,11,53468,53468,11,53524,53524,11,53580,53580,11,53636,53636,11,53692,53692,11,53748,53748,11,53804,53804,11,53860,53860,11,53916,53916,11,53972,53972,11,54028,54028,11,54084,54084,11,54140,54140,11,54196,54196,11,54252,54252,11,54308,54308,11,54364,54364,11,54420,54420,11,54476,54476,11,54532,54532,11,54588,54588,11,54644,54644,11,54700,54700,11,54756,54756,11,54812,54812,11,54868,54868,11,54924,54924,11,54980,54980,11,55036,55036,11,55092,55092,11,55148,55148,11,55216,55238,9,65056,65071,5,65529,65531,4,68097,68099,5,68159,68159,5,69446,69456,5,69688,69702,5,69808,69810,7,69815,69816,7,69821,69821,1,69888,69890,5,69932,69932,7,69957,69958,7,70016,70017,5,70067,70069,7,70079,70080,7,70089,70092,5,70095,70095,5,70191,70193,5,70196,70196,5,70198,70199,5,70367,70367,5,70371,70378,5,70402,70403,7,70462,70462,5,70464,70464,5,70471,70472,7,70487,70487,5,70502,70508,5,70709,70711,7,70720,70721,7,70725,70725,7,70750,70750,5,70833,70834,7,70841,70841,7,70843,70844,7,70846,70846,7,70849,70849,7,71087,71087,5,71090,71093,5,71100,71101,5,71103,71104,5,71216,71218,7,71227,71228,7,71230,71230,7,71339,71339,5,71341,71341,5,71344,71349,5,71351,71351,5,71456,71457,7,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123628,123631,5,125252,125258,5,126980,126980,14,127183,127183,14,127245,127247,14,127340,127343,14,127358,127359,14,127377,127386,14,127462,127487,6,127491,127503,14,127535,127535,14,127548,127551,14,127568,127569,14,127744,127777,14,127780,127891,14,127894,127895,14,127897,127899,14,127902,127984,14,127987,127989,14,127991,127994,14,128000,128253,14,128255,128317,14,128329,128334,14,128336,128359,14,128367,128368,14,128371,128377,14,128379,128390,14,128392,128393,14,128398,128399,14,128401,128404,14,128407,128419,14,128421,128421,14,128424,128424,14,128433,128434,14,128444,128444,14,128450,128452,14,128465,128467,14,128476,128478,14,128481,128481,14,128483,128483,14,128488,128488,14,128495,128495,14,128499,128499,14,128506,128591,14,128710,128714,14,128721,128722,14,128725,128725,14,128728,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129664,129666,14,129671,129679,14,129686,129704,14,129712,129718,14,129728,129730,14,129744,129750,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2259,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3134,3136,5,3142,3144,5,3157,3158,5,3201,3201,5,3260,3260,5,3263,3263,5,3266,3266,5,3270,3270,5,3274,3275,7,3285,3286,5,3328,3329,5,3387,3388,5,3391,3392,7,3398,3400,7,3405,3405,5,3415,3415,5,3457,3457,5,3530,3530,5,3536,3537,7,3542,3542,5,3551,3551,5,3633,3633,5,3636,3642,5,3761,3761,5,3764,3772,5,3864,3865,5,3895,3895,5,3902,3903,7,3967,3967,7,3974,3975,5,3993,4028,5,4141,4144,5,4146,4151,5,4155,4156,7,4182,4183,7,4190,4192,5,4226,4226,5,4229,4230,5,4253,4253,5,4448,4519,9,4957,4959,5,5938,5940,5,6002,6003,5,6070,6070,7,6078,6085,7,6087,6088,7,6109,6109,5,6158,6158,4,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6848,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7673,5,8203,8203,4,8205,8205,13,8232,8232,4,8234,8238,4,8265,8265,14,8293,8293,4,8400,8412,5,8417,8417,5,8421,8432,5,8505,8505,14,8617,8618,14,9000,9000,14,9167,9167,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9776,9783,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9935,14,9937,9937,14,9939,9940,14,9961,9962,14,9968,9973,14,9975,9978,14,9981,9981,14,9986,9986,14,9989,9989,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10084,14,10133,10135,14,10160,10160,14,10548,10549,14,11035,11036,14,11093,11093,14,11647,11647,5,12330,12333,5,12336,12336,14,12441,12442,5,12953,12953,14,42608,42610,5,42654,42655,5,43010,43010,5,43019,43019,5,43045,43046,5,43052,43052,5,43188,43203,7,43232,43249,5,43302,43309,5,43346,43347,7,43392,43394,5,43443,43443,5,43446,43449,5,43452,43453,5,43493,43493,5,43567,43568,7,43571,43572,7,43587,43587,5,43597,43597,7,43696,43696,5,43703,43704,5,43713,43713,5,43756,43757,5,43765,43765,7,44003,44004,7,44006,44007,7,44009,44010,7,44013,44013,5,44033,44059,12,44061,44087,12,44089,44115,12,44117,44143,12,44145,44171,12,44173,44199,12,44201,44227,12,44229,44255,12,44257,44283,12,44285,44311,12,44313,44339,12,44341,44367,12,44369,44395,12,44397,44423,12,44425,44451,12,44453,44479,12,44481,44507,12,44509,44535,12,44537,44563,12,44565,44591,12,44593,44619,12,44621,44647,12,44649,44675,12,44677,44703,12,44705,44731,12,44733,44759,12,44761,44787,12,44789,44815,12,44817,44843,12,44845,44871,12,44873,44899,12,44901,44927,12,44929,44955,12,44957,44983,12,44985,45011,12,45013,45039,12,45041,45067,12,45069,45095,12,45097,45123,12,45125,45151,12,45153,45179,12,45181,45207,12,45209,45235,12,45237,45263,12,45265,45291,12,45293,45319,12,45321,45347,12,45349,45375,12,45377,45403,12,45405,45431,12,45433,45459,12,45461,45487,12,45489,45515,12,45517,45543,12,45545,45571,12,45573,45599,12,45601,45627,12,45629,45655,12,45657,45683,12,45685,45711,12,45713,45739,12,45741,45767,12,45769,45795,12,45797,45823,12,45825,45851,12,45853,45879,12,45881,45907,12,45909,45935,12,45937,45963,12,45965,45991,12,45993,46019,12,46021,46047,12,46049,46075,12,46077,46103,12,46105,46131,12,46133,46159,12,46161,46187,12,46189,46215,12,46217,46243,12,46245,46271,12,46273,46299,12,46301,46327,12,46329,46355,12,46357,46383,12,46385,46411,12,46413,46439,12,46441,46467,12,46469,46495,12,46497,46523,12,46525,46551,12,46553,46579,12,46581,46607,12,46609,46635,12,46637,46663,12,46665,46691,12,46693,46719,12,46721,46747,12,46749,46775,12,46777,46803,12,46805,46831,12,46833,46859,12,46861,46887,12,46889,46915,12,46917,46943,12,46945,46971,12,46973,46999,12,47001,47027,12,47029,47055,12,47057,47083,12,47085,47111,12,47113,47139,12,47141,47167,12,47169,47195,12,47197,47223,12,47225,47251,12,47253,47279,12,47281,47307,12,47309,47335,12,47337,47363,12,47365,47391,12,47393,47419,12,47421,47447,12,47449,47475,12,47477,47503,12,47505,47531,12,47533,47559,12,47561,47587,12,47589,47615,12,47617,47643,12,47645,47671,12,47673,47699,12,47701,47727,12,47729,47755,12,47757,47783,12,47785,47811,12,47813,47839,12,47841,47867,12,47869,47895,12,47897,47923,12,47925,47951,12,47953,47979,12,47981,48007,12,48009,48035,12,48037,48063,12,48065,48091,12,48093,48119,12,48121,48147,12,48149,48175,12,48177,48203,12,48205,48231,12,48233,48259,12,48261,48287,12,48289,48315,12,48317,48343,12,48345,48371,12,48373,48399,12,48401,48427,12,48429,48455,12,48457,48483,12,48485,48511,12,48513,48539,12,48541,48567,12,48569,48595,12,48597,48623,12,48625,48651,12,48653,48679,12,48681,48707,12,48709,48735,12,48737,48763,12,48765,48791,12,48793,48819,12,48821,48847,12,48849,48875,12,48877,48903,12,48905,48931,12,48933,48959,12,48961,48987,12,48989,49015,12,49017,49043,12,49045,49071,12,49073,49099,12,49101,49127,12,49129,49155,12,49157,49183,12,49185,49211,12,49213,49239,12,49241,49267,12,49269,49295,12,49297,49323,12,49325,49351,12,49353,49379,12,49381,49407,12,49409,49435,12,49437,49463,12,49465,49491,12,49493,49519,12,49521,49547,12,49549,49575,12,49577,49603,12,49605,49631,12,49633,49659,12,49661,49687,12,49689,49715,12,49717,49743,12,49745,49771,12,49773,49799,12,49801,49827,12,49829,49855,12,49857,49883,12,49885,49911,12,49913,49939,12,49941,49967,12,49969,49995,12,49997,50023,12,50025,50051,12,50053,50079,12,50081,50107,12,50109,50135,12,50137,50163,12,50165,50191,12,50193,50219,12,50221,50247,12,50249,50275,12,50277,50303,12,50305,50331,12,50333,50359,12,50361,50387,12,50389,50415,12,50417,50443,12,50445,50471,12,50473,50499,12,50501,50527,12,50529,50555,12,50557,50583,12,50585,50611,12,50613,50639,12,50641,50667,12,50669,50695,12,50697,50723,12,50725,50751,12,50753,50779,12,50781,50807,12,50809,50835,12,50837,50863,12,50865,50891,12,50893,50919,12,50921,50947,12,50949,50975,12,50977,51003,12,51005,51031,12,51033,51059,12,51061,51087,12,51089,51115,12,51117,51143,12,51145,51171,12,51173,51199,12,51201,51227,12,51229,51255,12,51257,51283,12,51285,51311,12,51313,51339,12,51341,51367,12,51369,51395,12,51397,51423,12,51425,51451,12,51453,51479,12,51481,51507,12,51509,51535,12,51537,51563,12,51565,51591,12,51593,51619,12,51621,51647,12,51649,51675,12,51677,51703,12,51705,51731,12,51733,51759,12,51761,51787,12,51789,51815,12,51817,51843,12,51845,51871,12,51873,51899,12,51901,51927,12,51929,51955,12,51957,51983,12,51985,52011,12,52013,52039,12,52041,52067,12,52069,52095,12,52097,52123,12,52125,52151,12,52153,52179,12,52181,52207,12,52209,52235,12,52237,52263,12,52265,52291,12,52293,52319,12,52321,52347,12,52349,52375,12,52377,52403,12,52405,52431,12,52433,52459,12,52461,52487,12,52489,52515,12,52517,52543,12,52545,52571,12,52573,52599,12,52601,52627,12,52629,52655,12,52657,52683,12,52685,52711,12,52713,52739,12,52741,52767,12,52769,52795,12,52797,52823,12,52825,52851,12,52853,52879,12,52881,52907,12,52909,52935,12,52937,52963,12,52965,52991,12,52993,53019,12,53021,53047,12,53049,53075,12,53077,53103,12,53105,53131,12,53133,53159,12,53161,53187,12,53189,53215,12,53217,53243,12,53245,53271,12,53273,53299,12,53301,53327,12,53329,53355,12,53357,53383,12,53385,53411,12,53413,53439,12,53441,53467,12,53469,53495,12,53497,53523,12,53525,53551,12,53553,53579,12,53581,53607,12,53609,53635,12,53637,53663,12,53665,53691,12,53693,53719,12,53721,53747,12,53749,53775,12,53777,53803,12,53805,53831,12,53833,53859,12,53861,53887,12,53889,53915,12,53917,53943,12,53945,53971,12,53973,53999,12,54001,54027,12,54029,54055,12,54057,54083,12,54085,54111,12,54113,54139,12,54141,54167,12,54169,54195,12,54197,54223,12,54225,54251,12,54253,54279,12,54281,54307,12,54309,54335,12,54337,54363,12,54365,54391,12,54393,54419,12,54421,54447,12,54449,54475,12,54477,54503,12,54505,54531,12,54533,54559,12,54561,54587,12,54589,54615,12,54617,54643,12,54645,54671,12,54673,54699,12,54701,54727,12,54729,54755,12,54757,54783,12,54785,54811,12,54813,54839,12,54841,54867,12,54869,54895,12,54897,54923,12,54925,54951,12,54953,54979,12,54981,55007,12,55009,55035,12,55037,55063,12,55065,55091,12,55093,55119,12,55121,55147,12,55149,55175,12,55177,55203,12,55243,55291,10,65024,65039,5,65279,65279,4,65520,65528,4,66045,66045,5,66422,66426,5,68101,68102,5,68152,68154,5,68325,68326,5,69291,69292,5,69632,69632,7,69634,69634,7,69759,69761,5]")}var Is=n("c317"),Os=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ds=65,Ns=97,Rs=90,As=122,Ms=46,Ps=47,Fs=92,Bs=58,Vs=63,Hs=function(e){function t(t,n,i){var o,r=this;"string"===typeof n&&0===n.indexOf("not ")?(o="must not be",n=n.replace(/^not /,"")):o="must be";var s=-1!==t.indexOf(".")?"property":"argument",a='The "'+t+'" '+s+" "+o+" of type "+n;return a+=". Received type "+typeof i,r=e.call(this,a)||this,r.code="ERR_INVALID_ARG_TYPE",r}return Os(t,e),t}(Error);function $s(e,t){if("string"!==typeof e)throw new Hs(t,"string",e)}function Ws(e){return e===Ps||e===Fs}function Us(e){return e===Ps}function zs(e){return e>=Ds&&e<=Rs||e>=Ns&&e<=As}function js(e,t,n,i){for(var o,r="",s=0,a=-1,l=0,u=0;u<=e.length;++u){if(u<e.length)o=e.charCodeAt(u);else{if(i(o))break;o=Ps}if(i(o)){if(a===u-1||1===l);else if(a!==u-1&&2===l){if(r.length<2||2!==s||r.charCodeAt(r.length-1)!==Ms||r.charCodeAt(r.length-2)!==Ms){if(r.length>2){var c=r.lastIndexOf(n);-1===c?(r="",s=0):(r=r.slice(0,c),s=r.length-1-r.lastIndexOf(n)),a=u,l=0;continue}if(2===r.length||1===r.length){r="",s=0,a=u,l=0;continue}}t&&(r.length>0?r+=n+"..":r="..",s=2)}else r.length>0?r+=n+e.slice(a+1,u):r=e.slice(a+1,u),s=u-a-1;a=u,l=0}else o===Ms&&-1!==l?++l:l=-1}return r}function Gs(e,t){var n=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+i:n+e+i:i}var Ks={resolve:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i="",o=!1,r=e.length-1;r>=-1;r--){var s=void 0;if(r>=0?s=e[r]:n?(s=Is["b"]["="+n]||Is["a"](),void 0!==s&&s.slice(0,3).toLowerCase()===n.toLowerCase()+"\\"||(s=n+"\\")):s=Is["a"](),$s(s,"path"),0!==s.length){var a=s.length,l=0,u="",c=!1,h=s.charCodeAt(0);if(a>1)if(Ws(h))if(c=!0,Ws(s.charCodeAt(1))){for(var d=2,p=d;d<a;++d)if(Ws(s.charCodeAt(d)))break;if(d<a&&d!==p){var f=s.slice(p,d);for(p=d;d<a;++d)if(!Ws(s.charCodeAt(d)))break;if(d<a&&d!==p){for(p=d;d<a;++d)if(Ws(s.charCodeAt(d)))break;d===a?(u="\\\\"+f+"\\"+s.slice(p),l=d):d!==p&&(u="\\\\"+f+"\\"+s.slice(p,d),l=d)}}}else l=1;else zs(h)&&s.charCodeAt(1)===Bs&&(u=s.slice(0,2),l=2,a>2&&Ws(s.charCodeAt(2))&&(c=!0,l=3));else Ws(h)&&(l=1,c=!0);if(!(u.length>0&&n.length>0&&u.toLowerCase()!==n.toLowerCase())&&(0===n.length&&u.length>0&&(n=u),o||(i=s.slice(l)+"\\"+i,o=c),n.length>0&&o))break}}return i=js(i,!o,"\\",Ws),n+(o?"\\":"")+i||"."},normalize:function(e){$s(e,"path");var t=e.length;if(0===t)return".";var n,i,o=0,r=!1,s=e.charCodeAt(0);if(t>1)if(Ws(s))if(r=!0,Ws(e.charCodeAt(1))){for(var a=2,l=a;a<t;++a)if(Ws(e.charCodeAt(a)))break;if(a<t&&a!==l){var u=e.slice(l,a);for(l=a;a<t;++a)if(!Ws(e.charCodeAt(a)))break;if(a<t&&a!==l){for(l=a;a<t;++a)if(Ws(e.charCodeAt(a)))break;if(a===t)return"\\\\"+u+"\\"+e.slice(l)+"\\";a!==l&&(n="\\\\"+u+"\\"+e.slice(l,a),o=a)}}}else o=1;else zs(s)&&e.charCodeAt(1)===Bs&&(n=e.slice(0,2),o=2,t>2&&Ws(e.charCodeAt(2))&&(r=!0,o=3));else if(Ws(s))return"\\";return i=o<t?js(e.slice(o),!r,"\\",Ws):"",0!==i.length||r||(i="."),i.length>0&&Ws(e.charCodeAt(t-1))&&(i+="\\"),void 0===n?r?i.length>0?"\\"+i:"\\":i.length>0?i:"":r?i.length>0?n+"\\"+i:n+"\\":i.length>0?n+i:n},isAbsolute:function(e){$s(e,"path");var t=e.length;if(0===t)return!1;var n=e.charCodeAt(0);return!!Ws(n)||!!(zs(n)&&t>2&&e.charCodeAt(1)===Bs&&Ws(e.charCodeAt(2)))},join:function(){for(var e,t,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(0===n.length)return".";for(var o=0;o<n.length;++o){var r=n[o];$s(r,"path"),r.length>0&&(void 0===e?e=t=r:e+="\\"+r)}if(void 0===e)return".";var s=!0,a=0;if("string"===typeof t&&Ws(t.charCodeAt(0))){++a;var l=t.length;l>1&&Ws(t.charCodeAt(1))&&(++a,l>2&&(Ws(t.charCodeAt(2))?++a:s=!1))}if(s){for(;a<e.length;++a)if(!Ws(e.charCodeAt(a)))break;a>=2&&(e="\\"+e.slice(a))}return Ks.normalize(e)},relative:function(e,t){if($s(e,"from"),$s(t,"to"),e===t)return"";var n=Ks.resolve(e),i=Ks.resolve(t);if(n===i)return"";if(e=n.toLowerCase(),t=i.toLowerCase(),e===t)return"";for(var o=0;o<e.length;++o)if(e.charCodeAt(o)!==Fs)break;for(var r=e.length;r-1>o;--r)if(e.charCodeAt(r-1)!==Fs)break;for(var s=r-o,a=0;a<t.length;++a)if(t.charCodeAt(a)!==Fs)break;for(var l=t.length;l-1>a;--l)if(t.charCodeAt(l-1)!==Fs)break;for(var u=l-a,c=s<u?s:u,h=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(t.charCodeAt(a+d)===Fs)return i.slice(a+d+1);if(2===d)return i.slice(a+d)}s>c&&(e.charCodeAt(o+d)===Fs?h=d:2===d&&(h=3));break}var p=e.charCodeAt(o+d),f=t.charCodeAt(a+d);if(p!==f)break;p===Fs&&(h=d)}if(d!==c&&-1===h)return i;var g="";for(-1===h&&(h=0),d=o+h+1;d<=r;++d)d!==r&&e.charCodeAt(d)!==Fs||(0===g.length?g+="..":g+="\\..");return g.length>0?g+i.slice(a+h,l):(a+=h,i.charCodeAt(a)===Fs&&++a,i.slice(a,l))},toNamespacedPath:function(e){if("string"!==typeof e)return e;if(0===e.length)return"";var t=Ks.resolve(e);if(t.length>=3)if(t.charCodeAt(0)===Fs){if(t.charCodeAt(1)===Fs){var n=t.charCodeAt(2);if(n!==Vs&&n!==Ms)return"\\\\?\\UNC\\"+t.slice(2)}}else if(zs(t.charCodeAt(0))&&t.charCodeAt(1)===Bs&&t.charCodeAt(2)===Fs)return"\\\\?\\"+t;return e},dirname:function(e){$s(e,"path");var t=e.length;if(0===t)return".";var n=-1,i=-1,o=!0,r=0,s=e.charCodeAt(0);if(t>1)if(Ws(s)){if(n=r=1,Ws(e.charCodeAt(1))){for(var a=2,l=a;a<t;++a)if(Ws(e.charCodeAt(a)))break;if(a<t&&a!==l){for(l=a;a<t;++a)if(!Ws(e.charCodeAt(a)))break;if(a<t&&a!==l){for(l=a;a<t;++a)if(Ws(e.charCodeAt(a)))break;if(a===t)return e;a!==l&&(n=r=a+1)}}}}else zs(s)&&e.charCodeAt(1)===Bs&&(n=r=2,t>2&&Ws(e.charCodeAt(2))&&(n=r=3));else if(Ws(s))return e;for(var u=t-1;u>=r;--u)if(Ws(e.charCodeAt(u))){if(!o){i=u;break}}else o=!1;if(-1===i){if(-1===n)return".";i=n}return e.slice(0,i)},basename:function(e,t){void 0!==t&&$s(t,"ext"),$s(e,"path");var n,i=0,o=-1,r=!0;if(e.length>=2){var s=e.charCodeAt(0);zs(s)&&e.charCodeAt(1)===Bs&&(i=2)}if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,l=-1;for(n=e.length-1;n>=i;--n){var u=e.charCodeAt(n);if(Ws(u)){if(!r){i=n+1;break}}else-1===l&&(r=!1,l=n+1),a>=0&&(u===t.charCodeAt(a)?-1===--a&&(o=n):(a=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=i;--n)if(Ws(e.charCodeAt(n))){if(!r){i=n+1;break}}else-1===o&&(r=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){$s(e,"path");var t=0,n=-1,i=0,o=-1,r=!0,s=0;e.length>=2&&e.charCodeAt(1)===Bs&&zs(e.charCodeAt(0))&&(t=i=2);for(var a=e.length-1;a>=t;--a){var l=e.charCodeAt(a);if(Ws(l)){if(!r){i=a+1;break}}else-1===o&&(r=!1,o=a+1),l===Ms?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1)}return-1===n||-1===o||0===s||1===s&&n===o-1&&n===i+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!==typeof e)throw new Hs("pathObject","Object",e);return Gs("\\",e)},parse:function(e){$s(e,"path");var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n=e.length,i=0,o=e.charCodeAt(0);if(n>1){if(Ws(o)){if(i=1,Ws(e.charCodeAt(1))){for(var r=2,s=r;r<n;++r)if(Ws(e.charCodeAt(r)))break;if(r<n&&r!==s){for(s=r;r<n;++r)if(!Ws(e.charCodeAt(r)))break;if(r<n&&r!==s){for(s=r;r<n;++r)if(Ws(e.charCodeAt(r)))break;r===n?i=r:r!==s&&(i=r+1)}}}}else if(zs(o)&&e.charCodeAt(1)===Bs){if(i=2,!(n>2))return t.root=t.dir=e,t;if(Ws(e.charCodeAt(2))){if(3===n)return t.root=t.dir=e,t;i=3}}}else if(Ws(o))return t.root=t.dir=e,t;i>0&&(t.root=e.slice(0,i));for(var a=-1,l=i,u=-1,c=!0,h=e.length-1,d=0;h>=i;--h)if(o=e.charCodeAt(h),Ws(o)){if(!c){l=h+1;break}}else-1===u&&(c=!1,u=h+1),o===Ms?-1===a?a=h:1!==d&&(d=1):-1!==a&&(d=-1);return-1===a||-1===u||0===d||1===d&&a===u-1&&a===l+1?-1!==u&&(t.base=t.name=e.slice(l,u)):(t.name=e.slice(l,a),t.base=e.slice(l,u),t.ext=e.slice(a,u)),t.dir=l>0&&l!==i?e.slice(0,l-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},qs={resolve:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",i=!1,o=e.length-1;o>=-1&&!i;o--){var r=void 0;r=o>=0?e[o]:Is["a"](),$s(r,"path"),0!==r.length&&(n=r+"/"+n,i=r.charCodeAt(0)===Ps)}return n=js(n,!i,"/",Us),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if($s(e,"path"),0===e.length)return".";var t=e.charCodeAt(0)===Ps,n=e.charCodeAt(e.length-1)===Ps;return e=js(e,!t,"/",Us),0!==e.length||t||(e="."),e.length>0&&n&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return $s(e,"path"),e.length>0&&e.charCodeAt(0)===Ps},join:function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return".";for(var i=0;i<t.length;++i){var o=arguments[i];$s(o,"path"),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":qs.normalize(e)},relative:function(e,t){if($s(e,"from"),$s(t,"to"),e===t)return"";if(e=qs.resolve(e),t=qs.resolve(t),e===t)return"";for(var n=1;n<e.length;++n)if(e.charCodeAt(n)!==Ps)break;for(var i=e.length,o=i-n,r=1;r<t.length;++r)if(t.charCodeAt(r)!==Ps)break;for(var s=t.length,a=s-r,l=o<a?o:a,u=-1,c=0;c<=l;++c){if(c===l){if(a>l){if(t.charCodeAt(r+c)===Ps)return t.slice(r+c+1);if(0===c)return t.slice(r+c)}else o>l&&(e.charCodeAt(n+c)===Ps?u=c:0===c&&(u=0));break}var h=e.charCodeAt(n+c),d=t.charCodeAt(r+c);if(h!==d)break;h===Ps&&(u=c)}var p="";for(c=n+u+1;c<=i;++c)c!==i&&e.charCodeAt(c)!==Ps||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(r+u):(r+=u,t.charCodeAt(r)===Ps&&++r,t.slice(r))},toNamespacedPath:function(e){return e},dirname:function(e){if($s(e,"path"),0===e.length)return".";for(var t=e.charCodeAt(0)===Ps,n=-1,i=!0,o=e.length-1;o>=1;--o)if(e.charCodeAt(o)===Ps){if(!i){n=o;break}}else i=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename:function(e,t){void 0!==t&&$s(t,"ext"),$s(e,"path");var n,i=0,o=-1,r=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,a=-1;for(n=e.length-1;n>=0;--n){var l=e.charCodeAt(n);if(l===Ps){if(!r){i=n+1;break}}else-1===a&&(r=!1,a=n+1),s>=0&&(l===t.charCodeAt(s)?-1===--s&&(o=n):(s=-1,o=a))}return i===o?o=a:-1===o&&(o=e.length),e.slice(i,o)}for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===Ps){if(!r){i=n+1;break}}else-1===o&&(r=!1,o=n+1);return-1===o?"":e.slice(i,o)},extname:function(e){$s(e,"path");for(var t=-1,n=0,i=-1,o=!0,r=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(a!==Ps)-1===i&&(o=!1,i=s+1),a===Ms?-1===t?t=s:1!==r&&(r=1):-1!==t&&(r=-1);else if(!o){n=s+1;break}}return-1===t||-1===i||0===r||1===r&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!==typeof e)throw new Hs("pathObject","Object",e);return Gs("/",e)},parse:function(e){$s(e,"path");var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0)===Ps;i?(t.root="/",n=1):n=0;for(var o=-1,r=0,s=-1,a=!0,l=e.length-1,u=0;l>=n;--l){var c=e.charCodeAt(l);if(c!==Ps)-1===s&&(a=!1,s=l+1),c===Ms?-1===o?o=l:1!==u&&(u=1):-1!==o&&(u=-1);else if(!a){r=l+1;break}}return-1===o||-1===s||0===u||1===u&&o===s-1&&o===r+1?-1!==s&&(t.base=t.name=0===r&&i?e.slice(1,s):e.slice(r,s)):(0===r&&i?(t.name=e.slice(1,o),t.base=e.slice(1,s)):(t.name=e.slice(r,o),t.base=e.slice(r,s)),t.ext=e.slice(o,s)),r>0?t.dir=e.slice(0,r-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};qs.win32=Ks.win32=Ks,qs.posix=Ks.posix=qs;var Ys="win32"===Is["c"]?Ks.normalize:qs.normalize,Xs="win32"===Is["c"]?Ks.join:qs.join,Zs="win32"===Is["c"]?Ks.relative:qs.relative,Js="win32"===Is["c"]?Ks.dirname:qs.dirname,Qs="win32"===Is["c"]?Ks.basename:qs.basename,ea="win32"===Is["c"]?Ks.extname:qs.extname,ta="win32"===Is["c"]?Ks.sep:qs.sep;function na(e){return e.replace(/[\\/]/g,qs.sep)}function ia(e,t,n,i){if(void 0===i&&(i=ta),e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(n){var o=ts(e,t);if(!o)return!1;if(t.length===e.length)return!0;var r=t.length;return t.charAt(t.length-1)===i&&r--,e.charAt(r)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)}function oa(e){return e>=65&&e<=90||e>=97&&e<=122}var ra,sa=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i};function aa(e){return!e||e.scheme!==xi.file||!s["d"]}function la(e){return ha(e)||e.authority}function ua(e,t){return e===t||Qr(e,t)}function ca(e,t,n){if(void 0===n&&(n=aa(e)),e===t)return!0;if(!e||!t)return!1;if(e.scheme!==t.scheme||!ua(e.authority,t.authority))return!1;var i=e.path||"/",o=t.path||"/";return i===o||n&&Qr(i||"/",o||"/")}function ha(e){return qs.basename(e.path)}function da(e){if(0===e.path.length)return e;if(e.scheme===xi.file)return Lt.file(Js(ga(e)));var t=qs.dirname(e.path);return e.authority&&t.length&&47!==t.charCodeAt(0)&&(console.error('dirname("'+e.toString+")) resulted in a relative path"),t="/"),e.with({path:t})}function pa(e){for(var t,n,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];return n=e.scheme===xi.file?Lt.file(Xs.apply(i,sa([ga(e)],o))).path:(t=qs).join.apply(t,sa([e.path||"/"],o)),e.with({path:n})}function fa(e){return e.path.length?(t=e.scheme===xi.file?Lt.file(Ys(ga(e))).path:qs.normalize(e.path),e.with({path:t})):e;var t}function ga(e){var t,n=e.path;return t=e.authority&&n.length>1&&e.scheme===xi.file?"//"+e.authority+n:s["h"]&&47===n.charCodeAt(0)&&oa(n.charCodeAt(1))&&58===n.charCodeAt(2)?n.substr(1):n,s["h"]&&(t=t.replace(/\//g,"\\")),t}function ma(e,t,n){if(void 0===n&&(n=aa(e)),e.scheme===t.scheme&&ua(e.authority,t.authority)){if(e.scheme===xi.file){var i=Zs(e.path,t.path);return s["h"]?na(i):i}var o=e.path||"/",r=t.path||"/";if(n){for(var a=0,l=Math.min(o.length,r.length);a<l;a++)if(o.charCodeAt(a)!==r.charCodeAt(a)&&o.charAt(a).toLowerCase()!==r.charAt(a).toLowerCase())break;o=r.substr(0,a)+o.substr(a)}return qs.relative(o,r)}}(function(e){function t(t){var n=new Map,i=t.path.substring(t.path.indexOf(";")+1,t.path.lastIndexOf(";"));i.split(";").forEach((function(e){var t=e.split(":"),i=t[0],o=t[1];i&&o&&n.set(i,o)}));var o=t.path.substring(0,t.path.indexOf(";"));return o&&n.set(e.META_DATA_MIME,o),n}e.META_DATA_LABEL="label",e.META_DATA_DESCRIPTION="description",e.META_DATA_SIZE="size",e.META_DATA_MIME="mime",e.parseMetaData=t})(ra||(ra={}));var _a={number:"number",string:"string",undefined:"undefined",object:"object",function:"function"};function va(e){return Array.isArray?Array.isArray(e):!(!e||typeof e.length!==_a.number||e.constructor!==Array)}function ya(e){return typeof e===_a.string||e instanceof String}function ba(e){return typeof e===_a.object&&null!==e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function wa(e){return(typeof e===_a.number||e instanceof Number)&&!isNaN(e)}function Ca(e){return!0===e||!1===e}function Sa(e){return typeof e===_a.undefined}function Ea(e){return Sa(e)||null===e}function Ta(e,t){if(!e)throw new Error(t?"Unexpected type, expected '"+t+"'":"Unexpected type")}var ka=Object.prototype.hasOwnProperty;function xa(e){if(!ba(e))return!1;for(var t in e)if(ka.call(e,t))return!1;return!0}function La(e){return typeof e===_a.function}function Ia(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)Oa(e[i],t[i])}function Oa(e,t){if(ya(t)){if(typeof e!==t)throw new Error("argument does not match constraint: typeof "+t)}else if(La(t)){try{if(e instanceof t)return}catch(n){}if(!Ea(e)&&e.constructor===t)return;if(1===t.length&&!0===t.call(void 0,e))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function Da(e){var t=[],n=Object.getPrototypeOf(e);while(Object.prototype!==n)t=t.concat(Object.getOwnPropertyNames(n)),n=Object.getPrototypeOf(n);return t}function Na(e){for(var t=[],n=0,i=Da(e);n<i.length;n++){var o=i[n];"function"===typeof e[o]&&t.push(o)}return t}function Ra(e,t){for(var n=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}},i={},o=0,r=e;o<r.length;o++){var s=r[o];i[s]=n(s)}return i}function Aa(e){return null===e?void 0:e}function Ma(e){return"undefined"===typeof e?null:e}var Pa=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Fa(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function Ba(e){var t=[];return e.forEach((function(e,n){return t.push(n)})),t}var Va,Ha=function(){function e(){this._value="",this._pos=0}return e.prototype.reset=function(e){return this._value=e,this._pos=0,this},e.prototype.next=function(){return this._pos+=1,this},e.prototype.hasNext=function(){return this._pos<this._value.length-1},e.prototype.cmp=function(e){var t=e.charCodeAt(0),n=this._value.charCodeAt(this._pos);return t-n},e.prototype.value=function(){return this._value[this._pos]},e}(),$a=function(){function e(e){void 0===e&&(e=!0),this._splitOnBackslash=e}return e.prototype.reset=function(e){return this._value=e.replace(/\\$|\/$/,""),this._from=0,this._to=0,this.next()},e.prototype.hasNext=function(){return this._to<this._value.length},e.prototype.next=function(){this._from=this._to;for(var e=!0;this._to<this._value.length;this._to++){var t=this._value.charCodeAt(this._to);if(47===t||this._splitOnBackslash&&92===t){if(!e)break;this._from++}else e=!1}return this},e.prototype.cmp=function(e){var t=0,n=e.length,i=this._from;while(t<n&&i<this._to){var o=e.charCodeAt(t)-this._value.charCodeAt(i);if(0!==o)return o;t+=1,i+=1}return n===this._to-this._from?0:t<n?-1:1},e.prototype.value=function(){return this._value.substring(this._from,this._to)},e}(),Wa=function(){function e(){}return e}(),Ua=function(){function e(e){this._iter=e}return e.forPaths=function(){return new e(new $a)},e.forStrings=function(){return new e(new Ha)},e.prototype.clear=function(){this._root=void 0},e.prototype.set=function(e,t){var n,i=this._iter.reset(e);this._root||(this._root=new Wa,this._root.segment=i.value()),n=this._root;while(1){var o=i.cmp(n.segment);if(o>0)n.left||(n.left=new Wa,n.left.segment=i.value()),n=n.left;else if(o<0)n.right||(n.right=new Wa,n.right.segment=i.value()),n=n.right;else{if(!i.hasNext())break;i.next(),n.mid||(n.mid=new Wa,n.mid.segment=i.value()),n=n.mid}}var r=n.value;return n.value=t,n.key=e,r},e.prototype.get=function(e){var t=this._iter.reset(e),n=this._root;while(n){var i=t.cmp(n.segment);if(i>0)n=n.left;else if(i<0)n=n.right;else{if(!t.hasNext())break;t.next(),n=n.mid}}return n?n.value:void 0},e.prototype.findSubstr=function(e){var t=this._iter.reset(e),n=this._root,i=void 0;while(n){var o=t.cmp(n.segment);if(o>0)n=n.left;else if(o<0)n=n.right;else{if(!t.hasNext())break;t.next(),i=n.value||i,n=n.mid}}return n&&n.value||i},e.prototype.forEach=function(e){this._forEach(this._root,e)},e.prototype._forEach=function(e,t){e&&(this._forEach(e.left,t),e.value&&t(e.value,e.key),this._forEach(e.mid,t),this._forEach(e.right,t))},e}(),za=function(){function e(){this.map=new Map,this.ignoreCase=!1}return e.prototype.set=function(e,t){this.map.set(this.toKey(e),t)},e.prototype.get=function(e){return this.map.get(this.toKey(e))},e.prototype.toKey=function(e){var t=e.toString();return this.ignoreCase&&(t=t.toLowerCase()),t},e}(),ja=function(){function e(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}return e.prototype.clear=function(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.get=function(e,t){void 0===t&&(t=0);var n=this._map.get(e);if(n)return 0!==t&&this.touch(n,t),n.value},e.prototype.set=function(e,t,n){void 0===n&&(n=0);var i=this._map.get(e);if(i)i.value=t,0!==n&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case 0:this.addItemLast(i);break;case 1:this.addItemFirst(i);break;case 2:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}},e.prototype.delete=function(e){return!!this.remove(e)},e.prototype.remove=function(e){var t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value},e.prototype.forEach=function(e,t){var n=this._head;while(n)t?e.bind(t)(n.value,n.key,this):e(n.value,n.key,this),n=n.next},e.prototype.trimOld=function(e){if(!(e>=this.size))if(0!==e){var t=this._head,n=this.size;while(t&&n>e)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0)}else this.clear()},e.prototype.addItemFirst=function(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e},e.prototype.addItemLast=function(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e},e.prototype.removeItem=function(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{var t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0},e.prototype.touch=function(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===t||2===t)if(1===t){if(e===this._head)return;var n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(2===t){if(e===this._tail)return;n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}},e.prototype.toJSON=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),e},e}(),Ga=function(e){function t(t,n){void 0===n&&(n=1);var i=e.call(this)||this;return i._limit=t,i._ratio=Math.min(Math.max(0,n),1),i}return Pa(t,e),t.prototype.get=function(t){return e.prototype.get.call(this,t,2)},t.prototype.peek=function(t){return e.prototype.get.call(this,t,0)},t.prototype.set=function(t,n){e.prototype.set.call(this,t,n,2),this.checkTrim()},t.prototype.checkTrim=function(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))},t}(ja),Ka=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},qa=Dn("commandService"),Ya=new(function(){function e(){this._commands=new Map,this._onDidRegisterCommand=new Ze,this.onDidRegisterCommand=this._onDidRegisterCommand.event}return e.prototype.registerCommand=function(e,t){var n=this;if(!e)throw new Error("invalid command");if("string"===typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){for(var i=[],o=0,r=e.description.args;o<r.length;o++){var s=r[o];i.push(s.constraint)}var a=e.handler;e.handler=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Ia(t,i),a.apply(void 0,Ka([e],t))}}var l=e.id,u=this._commands.get(l);u||(u=new Ge,this._commands.set(l,u));var c=u.unshift(e),h=De((function(){c();var e=n._commands.get(l);(null===e||void 0===e?void 0:e.isEmpty())&&n._commands.delete(l)}));return this._onDidRegisterCommand.fire(l),h},e.prototype.registerCommandAlias=function(e,t){return Ya.registerCommand(e,(function(e){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(n=e.get(qa)).executeCommand.apply(n,Ka([t],i))}))},e.prototype.getCommand=function(e){var t=this._commands.get(e);if(t&&!t.isEmpty())return t.iterator().next().value},e.prototype.getCommands=function(){for(var e=new Map,t=0,n=Ba(this._commands);t<n.length;t++){var i=n[t],o=this.getCommand(i);o&&e.set(i,o)}return e},e}()),Xa=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},Za=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Ja=Dn("openerService"),Qa=Object.freeze({_serviceBrand:void 0,registerOpener:function(){return Ae.None},registerValidator:function(){return Ae.None},registerExternalUriResolver:function(){return Ae.None},setExternalOpener:function(){},open:function(){return Xa(this,void 0,void 0,(function(){return Za(this,(function(e){return[2,!1]}))}))},resolveExternalUri:function(e){return Xa(this,void 0,void 0,(function(){return Za(this,(function(t){return[2,{resolved:e,dispose:function(){}}]}))}))}});function el(e,t){return Lt.isUri(e)?Qr(e.scheme,t):ts(e,t+":")}(function(e){e[e["API"]=0]="API",e[e["USER"]=1]="USER"})(Va||(Va={}));var tl=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},nl=function(e,t){return function(n,i){t(n,i,e)}},il=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},ol=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},rl=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},sl=function(){function e(e){this._commandService=e}return e.prototype.open=function(e){return il(this,void 0,void 0,(function(){var t,n;return ol(this,(function(i){switch(i.label){case 0:if(!el(e,xi.command))return[2,!1];if("string"===typeof e&&(e=Lt.parse(e)),!Ya.getCommand(e.path))throw new Error("command '"+e.path+"' NOT known");t=[];try{t=Lr(decodeURIComponent(e.query))}catch(o){try{t=Lr(e.query)}catch(r){}}return Array.isArray(t)||(t=[t]),[4,(n=this._commandService).executeCommand.apply(n,rl([e.path],t))];case 1:return i.sent(),[2,!0]}}))}))},e=tl([nl(0,qa)],e),e}(),al=function(){function e(e){this._editorService=e}return e.prototype.open=function(e,t){return il(this,void 0,void 0,(function(){var n,i;return ol(this,(function(o){switch(o.label){case 0:return"string"===typeof e&&(e=Lt.parse(e)),n=void 0,i=/^L?(\d+)(?:,(\d+))?/.exec(e.fragment),i&&(n={startLineNumber:parseInt(i[1]),startColumn:i[2]?parseInt(i[2]):1},e=e.with({fragment:""})),e.scheme===xi.file&&(e=fa(e)),[4,this._editorService.openCodeEditor({resource:e,options:{selection:n,context:(null===t||void 0===t?void 0:t.fromUserGesture)?Va.USER:Va.API}},this._editorService.getFocusedCodeEditor(),null===t||void 0===t?void 0:t.openToSide)];case 1:return o.sent(),[2,!0]}}))}))},e=tl([nl(0,Rn)],e),e}(),ll=function(){function e(e,t){var n=this;this._openers=new Ge,this._validators=new Ge,this._resolvers=new Ge,this._externalOpener={openExternal:function(e){return Er(e),Promise.resolve(!0)}},this._openers.push({open:function(e,t){return il(n,void 0,void 0,(function(){return ol(this,(function(n){switch(n.label){case 0:return(null===t||void 0===t?void 0:t.openExternal)||el(e,xi.mailto)||el(e,xi.http)||el(e,xi.https)?[4,this._doOpenExternal(e,t)]:[3,2];case 1:return n.sent(),[2,!0];case 2:return[2,!1]}}))}))}}),this._openers.push(new sl(t)),this._openers.push(new al(e))}return e.prototype.open=function(e,t){return il(this,void 0,void 0,(function(){var n,i,o,r,s,a,l;return ol(this,(function(u){switch(u.label){case 0:n=0,i=this._validators.toArray(),u.label=1;case 1:return n<i.length?(o=i[n],[4,o.shouldOpen(e)]):[3,4];case 2:if(!u.sent())return[2,!1];u.label=3;case 3:return n++,[3,1];case 4:r=0,s=this._openers.toArray(),u.label=5;case 5:return r<s.length?(a=s[r],[4,a.open(e,t)]):[3,8];case 6:if(l=u.sent(),l)return[2,!0];u.label=7;case 7:return r++,[3,5];case 8:return[2,!1]}}))}))},e.prototype.resolveExternalUri=function(e,t){return il(this,void 0,void 0,(function(){var n,i,o,r;return ol(this,(function(s){switch(s.label){case 0:n=0,i=this._resolvers.toArray(),s.label=1;case 1:return n<i.length?(o=i[n],[4,o.resolveExternalUri(e,t)]):[3,4];case 2:if(r=s.sent(),r)return[2,r];s.label=3;case 3:return n++,[3,1];case 4:return[2,{resolved:e,dispose:function(){}}]}}))}))},e.prototype._doOpenExternal=function(e,t){return il(this,void 0,void 0,(function(){var n,i;return ol(this,(function(o){switch(o.label){case 0:return n="string"===typeof e?Lt.parse(e):e,[4,this.resolveExternalUri(n,t)];case 1:return i=o.sent().resolved,"string"===typeof e&&n.toString()===i.toString()?[2,this._externalOpener.openExternal(e)]:[2,this._externalOpener.openExternal(encodeURI(i.toString(!0)))]}}))}))},e.prototype.dispose=function(){this._validators.clear()},e=tl([nl(0,Rn),nl(1,qa)],e),e}();function ul(e,t){if(!e)throw new Error(t?"Assertion failed ("+t+")":"Assertion Failed")}function cl(e){if(!e||"object"!==typeof e)return e;if(e instanceof RegExp)return e;var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((function(n){e[n]&&"object"===typeof e[n]?t[n]=cl(e[n]):t[n]=e[n]})),t}function hl(e){if(!e||"object"!==typeof e)return e;var t=[e];while(t.length>0){var n=t.shift();for(var i in Object.freeze(n),n)if(dl.call(n,i)){var o=n[i];"object"!==typeof o||Object.isFrozen(o)||t.push(o)}}return e}var dl=Object.prototype.hasOwnProperty;function pl(e,t){return fl(e,t,new Set)}function fl(e,t,n){if(Ea(e))return e;var i=t(e);if("undefined"!==typeof i)return i;if(va(e)){for(var o=[],r=0,s=e;r<s.length;r++){var a=s[r];o.push(fl(a,t,n))}return o}if(ba(e)){if(n.has(e))throw new Error("Cannot clone recursive data-structure");n.add(e);var l={};for(var u in e)dl.call(e,u)&&(l[u]=fl(e[u],t,n));return n.delete(e),l}return e}function gl(e,t,n){return void 0===n&&(n=!0),ba(e)?(ba(t)&&Object.keys(t).forEach((function(i){i in e?n&&(ba(e[i])&&ba(t[i])?gl(e[i],t[i],n):e[i]=t[i]):e[i]=t[i]})),e):t}function ml(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){return Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}function _l(e,t){if(e===t)return!0;if(null===e||void 0===e||null===t||void 0===t)return!1;if(typeof e!==typeof t)return!1;if("object"!==typeof e)return!1;if(Array.isArray(e)!==Array.isArray(t))return!1;var n,i;if(Array.isArray(e)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!_l(e[n],t[n]))return!1}else{var o=[];for(i in e)o.push(i);o.sort();var r=[];for(i in t)r.push(i);if(r.sort(),!_l(o,r))return!1;for(n=0;n<o.length;n++)if(!_l(e[o[n]],t[o[n]]))return!1}return!0}function vl(e,t,n){var i=t(e);return"undefined"===typeof i?n:i}var yl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bl={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0},wl=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this)||this;return i._onDidUpdate=i._register(new Ze),i._editor=t,i._options=gl(n,bl,!1),i.disposed=!1,i.nextIdx=-1,i.ranges=[],i.ignoreSelectionChange=!1,i.revealFirst=Boolean(i._options.alwaysRevealFirst),i._register(i._editor.onDidDispose((function(){return i.dispose()}))),i._register(i._editor.onDidUpdateDiff((function(){return i._onDiffUpdated()}))),i._options.followsCaret&&i._register(i._editor.getModifiedEditor().onDidChangeCursorPosition((function(e){i.ignoreSelectionChange||(i.nextIdx=-1)}))),i._options.alwaysRevealFirst&&i._register(i._editor.getModifiedEditor().onDidChangeModel((function(e){i.revealFirst=!0}))),i._init(),i}return yl(t,e),t.prototype._init=function(){this._editor.getLineChanges()},t.prototype._onDiffUpdated=function(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))},t.prototype._compute=function(e){var t=this;this.ranges=[],e&&e.forEach((function(e){!t._options.ignoreCharChanges&&e.charChanges?e.charChanges.forEach((function(e){t.ranges.push({rhs:!0,range:new bn(e.modifiedStartLineNumber,e.modifiedStartColumn,e.modifiedEndLineNumber,e.modifiedEndColumn)})})):t.ranges.push({rhs:!0,range:new bn(e.modifiedStartLineNumber,1,e.modifiedStartLineNumber,1)})})),this.ranges.sort((function(e,t){return e.range.getStartPosition().isBeforeOrEqual(t.range.getStartPosition())?-1:t.range.getStartPosition().isBeforeOrEqual(e.range.getStartPosition())?1:0})),this._onDidUpdate.fire(this)},t.prototype._initIdx=function(e){var t=!1,n=this._editor.getPosition();if(n){for(var i=0,o=this.ranges.length;i<o&&!t;i++){var r=this.ranges[i].range;n.isBeforeOrEqual(r.getStartPosition())&&(this.nextIdx=i+(e?0:-1),t=!0)}t||(this.nextIdx=e?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0},t.prototype._move=function(e,t){if(ul(!this.disposed,"Illegal State - diff navigator has been disposed"),this.canNavigate()){-1===this.nextIdx?this._initIdx(e):e?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));var n=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{var i=n.range.getStartPosition();this._editor.setPosition(i),this._editor.revealPositionInCenter(i,t)}finally{this.ignoreSelectionChange=!1}}},t.prototype.canNavigate=function(){return this.ranges&&this.ranges.length>0},t.prototype.next=function(e){void 0===e&&(e=0),this._move(!0,e)},t.prototype.previous=function(e){void 0===e&&(e=0),this._move(!1,e)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.ranges=[],this.disposed=!0},t}(Ae),Cl=new(function(){function e(){this._zoomLevel=0,this._onDidChangeZoomLevel=new Ze,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}return e.prototype.getZoomLevel=function(){return this._zoomLevel},e.prototype.setZoomLevel=function(e){e=Math.min(Math.max(-5,e),20),this._zoomLevel!==e&&(this._zoomLevel=e,this._onDidChangeZoomLevel.fire(this._zoomLevel))},e}()),Sl=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),El=s["e"]?1.5:1.35,Tl=8,kl=function(){function e(e){this.zoomLevel=e.zoomLevel,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.lineHeight=0|e.lineHeight,this.letterSpacing=e.letterSpacing}return e.createFromValidatedSettings=function(t,n,i){var o=t.get(33),r=t.get(37),s=t.get(36),a=t.get(35),l=t.get(49),u=t.get(46);return e._create(o,r,s,a,l,u,n,i)},e._create=function(t,n,i,o,r,s,a,l){0===r?r=Math.round(El*i):r<Tl&&(r=Tl);var u=1+(l?0:.1*Cl.getZoomLevel());return i*=u,r*=u,new e({zoomLevel:a,fontFamily:t,fontWeight:n,fontSize:i,fontFeatureSettings:o,lineHeight:r,letterSpacing:s})},e.prototype.getId=function(){return this.zoomLevel+"-"+this.fontFamily+"-"+this.fontWeight+"-"+this.fontSize+"-"+this.fontFeatureSettings+"-"+this.lineHeight+"-"+this.letterSpacing},e.prototype.getMassagedFontFamily=function(){return/[,"']/.test(this.fontFamily)?this.fontFamily:/[+ ]/.test(this.fontFamily)?'"'+this.fontFamily+'"':this.fontFamily},e}(),xl=function(e){function t(t,n){var i=e.call(this,t)||this;return i.isTrusted=n,i.isMonospace=t.isMonospace,i.typicalHalfwidthCharacterWidth=t.typicalHalfwidthCharacterWidth,i.typicalFullwidthCharacterWidth=t.typicalFullwidthCharacterWidth,i.canUseHalfwidthRightwardsArrow=t.canUseHalfwidthRightwardsArrow,i.spaceWidth=t.spaceWidth,i.middotWidth=t.middotWidth,i.maxDigitWidth=t.maxDigitWidth,i}return Sl(t,e),t.prototype.equals=function(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.maxDigitWidth===e.maxDigitWidth},t}(kl);function Ll(e){return e&&"string"===typeof e.id}var Il,Ol,Dl={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"},Nl={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",Type:"type",ReplacePreviousChar:"replacePreviousChar",CompositionStart:"compositionStart",CompositionEnd:"compositionEnd",Paste:"paste",Cut:"cut",Undo:"undo",Redo:"redo"};(function(e){e[e["Left"]=1]="Left",e[e["Center"]=2]="Center",e[e["Right"]=4]="Right",e[e["Full"]=7]="Full"})(Il||(Il={})),function(e){e[e["Inline"]=1]="Inline",e[e["Gutter"]=2]="Gutter"}(Ol||(Ol={}));var Rl=function(){function e(e){this.tabSize=Math.max(1,0|e.tabSize),this.indentSize=0|e.tabSize,this.insertSpaces=Boolean(e.insertSpaces),this.defaultEOL=0|e.defaultEOL,this.trimAutoWhitespace=Boolean(e.trimAutoWhitespace)}return e.prototype.equals=function(e){return this.tabSize===e.tabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace},e.prototype.createChangeEvent=function(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}},e}(),Al=function(){function e(e,t){this.range=e,this.matches=t}return e}(),Ml=function(){function e(e,t,n){this.reverseEdits=e,this.changes=t,this.trimAutoWhitespaceLineNumbers=n}return e}(),Pl="**",Fl="/",Bl="[/\\\\]",Vl="[^/\\\\]",Hl=/\//g;function $l(e){switch(e){case 0:return"";case 1:return Vl+"*?";default:return"(?:"+Bl+"|"+Vl+"+"+Bl+"|"+Bl+Vl+"+)*?"}}function Wl(e,t){if(!e)return[];for(var n=[],i=!1,o=!1,r="",s=0,a=e;s<a.length;s++){var l=a[s];switch(l){case t:if(!i&&!o){n.push(r),r="";continue}break;case"{":i=!0;break;case"}":i=!1;break;case"[":o=!0;break;case"]":o=!1;break}r+=l}return r&&n.push(r),n}function Ul(e){if(!e)return"";var t="",n=Wl(e,Fl);if(n.every((function(e){return e===Pl})))t=".*";else{var i=!1;n.forEach((function(e,o){if(e!==Pl){for(var r=!1,s="",a=!1,l="",u=0,c=e;u<c.length;u++){var h=c[u];if("}"!==h&&r)s+=h;else if(!a||"]"===h&&l)switch(h){case"{":r=!0;continue;case"[":a=!0;continue;case"}":var d=Wl(s,","),p="(?:"+d.map((function(e){return Ul(e)})).join("|")+")";t+=p,r=!1,s="";break;case"]":t+="["+l+"]",a=!1,l="";break;case"?":t+=Vl;continue;case"*":t+=$l(1);continue;default:t+=Mr(h)}else{var f=void 0;f="-"===h?h:"^"!==h&&"!"!==h||l?h===Fl?"":Mr(h):"^",l+=f}}o<n.length-1&&(n[o+1]!==Pl||o+2<n.length)&&(t+=Bl),i=!1}else i||(t+=$l(2),i=!0)}))}return t}var zl=/^\*\*\/\*\.[\w\.-]+$/,jl=/^\*\*\/([\w\.-]+)\/?$/,Gl=/^{\*\*\/[\*\.]?[\w\.-]+\/?(,\*\*\/[\*\.]?[\w\.-]+\/?)*}$/,Kl=/^{\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?(,\*\*\/[\*\.]?[\w\.-]+(\/(\*\*)?)?)*}$/,ql=/^\*\*((\/[\w\.-]+)+)\/?$/,Yl=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,Xl=new Ga(1e4),Zl=function(){return!1},Jl=function(){return null};function Ql(e,t){if(!e)return Jl;var n;n="string"!==typeof e?e.pattern:e,n=n.trim();var i,o=n+"_"+!!t.trimForExclusions,r=Xl.get(o);if(r)return eu(r,e);if(zl.test(n)){var s=n.substr(4);r=function(e,t){return"string"===typeof e&&$r(e,s)?n:null}}else r=(i=jl.exec(tu(n,t)))?nu(i[1],n):(t.trimForExclusions?Kl:Gl).test(n)?iu(n,t):(i=ql.exec(tu(n,t)))?ou(i[1].substr(1),n,!0):(i=Yl.exec(tu(n,t)))?ou(i[1],n,!1):ru(n);return Xl.set(o,r),eu(r,e)}function eu(e,t){return"string"===typeof t?e:function(n,i){return ia(n,t.base)?e(Zs(t.base,n),i):null}}function tu(e,t){return t.trimForExclusions&&$r(e,"/**")?e.substr(0,e.length-2):e}function nu(e,t){var n="/"+e,i="\\"+e,o=function(o,r){return"string"!==typeof o?null:r?r===e?t:null:o===e||$r(o,n)||$r(o,i)?t:null},r=[e];return o.basenames=r,o.patterns=[t],o.allBasenames=r,o}function iu(e,t){var n=hu(e.slice(1,-1).split(",").map((function(e){return Ql(e,t)})).filter((function(e){return e!==Jl})),e),i=n.length;if(!i)return Jl;if(1===i)return n[0];var o=function(t,i){for(var o=0,r=n.length;o<r;o++)if(n[o](t,i))return e;return null},r=ji(n,(function(e){return!!e.allBasenames}));r&&(o.allBasenames=r.allBasenames);var s=n.reduce((function(e,t){return t.allPaths?e.concat(t.allPaths):e}),[]);return s.length&&(o.allPaths=s),o}function ou(e,t,n){var i=ta!==qs.sep?e.replace(Hl,ta):e,o=ta+i,r=n?function(e,n){return"string"!==typeof e||e!==i&&!$r(e,o)?null:t}:function(e,n){return"string"===typeof e&&e===i?t:null};return r.allPaths=[(n?"*/":"./")+e],r}function ru(e){try{var t=new RegExp("^"+Ul(e)+"$");return function(n,i){return t.lastIndex=0,"string"===typeof n&&t.test(n)?e:null}}catch(n){return Jl}}function su(e,t,n){return!(!e||"string"!==typeof t)&&au(e)(t,void 0,n)}function au(e,t){if(void 0===t&&(t={}),!e)return Zl;if("string"===typeof e||lu(e)){var n=Ql(e,t);if(n===Jl)return Zl;var i=function(e,t){return!!n(e,t)};return n.allBasenames&&(i.allBasenames=n.allBasenames),n.allPaths&&(i.allPaths=n.allPaths),i}return uu(e,t)}function lu(e){var t=e;return t&&"string"===typeof t.base&&"string"===typeof t.pattern}function uu(e,t){var n=hu(Object.getOwnPropertyNames(e).map((function(n){return cu(n,e[n],t)})).filter((function(e){return e!==Jl}))),i=n.length;if(!i)return Jl;if(!n.some((function(e){return!!e.requiresSiblings}))){if(1===i)return n[0];var o=function(e,t){for(var i=0,o=n.length;i<o;i++){var r=n[i](e,t);if(r)return r}return null},r=ji(n,(function(e){return!!e.allBasenames}));r&&(o.allBasenames=r.allBasenames);var s=n.reduce((function(e,t){return t.allPaths?e.concat(t.allPaths):e}),[]);return s.length&&(o.allPaths=s),o}var a=function(e,t,i){for(var o=void 0,r=0,s=n.length;r<s;r++){var a=n[r];a.requiresSiblings&&i&&(t||(t=Qs(e)),o||(o=t.substr(0,t.length-ea(e).length)));var l=a(e,t,o,i);if(l)return l}return null},l=ji(n,(function(e){return!!e.allBasenames}));l&&(a.allBasenames=l.allBasenames);var u=n.reduce((function(e,t){return t.allPaths?e.concat(t.allPaths):e}),[]);return u.length&&(a.allPaths=u),a}function cu(e,t,n){if(!1===t)return Jl;var i=Ql(e,n);if(i===Jl)return Jl;if("boolean"===typeof t)return i;if(t){var o=t.when;if("string"===typeof o){var r=function(t,n,r,s){if(!s||!i(t,n))return null;var a=o.replace("$(basename)",r),l=s(a);return mi(l)?l.then((function(t){return t?e:null})):l?e:null};return r.requiresSiblings=!0,r}}return i}function hu(e,t){var n=e.filter((function(e){return!!e.basenames}));if(n.length<2)return e;var i,o=n.reduce((function(e,t){var n=t.basenames;return n?e.concat(n):e}),[]);if(t){i=[];for(var r=0,s=o.length;r<s;r++)i.push(t)}else i=n.reduce((function(e,t){var n=t.patterns;return n?e.concat(n):e}),[]);var a=function(e,t){if("string"!==typeof e)return null;if(!t){var n=void 0;for(n=e.length;n>0;n--){var r=e.charCodeAt(n-1);if(47===r||92===r)break}t=e.substr(n)}var s=o.indexOf(t);return-1!==s?i[s]:null};a.basenames=o,a.patterns=i,a.allBasenames=o;var l=e.filter((function(e){return!e.basenames}));return l.push(a),l}function du(e,t,n,i){if(Array.isArray(e)){for(var o=0,r=0,s=e;r<s.length;r++){var a=s[r],l=du(a,t,n,i);if(10===l)return l;l>o&&(o=l)}return o}if("string"===typeof e)return i?"*"===e?5:e===n?10:0:0;if(e){var u=e.language,c=e.pattern,h=e.scheme,d=e.hasAccessToAllModels;if(!i&&!d)return 0;o=0;if(h)if(h===t.scheme)o=10;else{if("*"!==h)return 0;o=5}if(u)if(u===n)o=10;else{if("*"!==u)return 0;o=Math.max(o,5)}if(c){if(c!==t.fsPath&&!su(c,t.fsPath))return 0;o=10}return o}return 0}var pu=Dn("modelService");function fu(e){return!e.isTooLargeForSyncing()&&!e.isForSimpleWidget}function gu(e){return"string"!==typeof e&&(Array.isArray(e)?e.every(gu):!!e.exclusive)}var mu,_u,vu,yu=function(){function e(){this._clock=0,this._entries=[],this._onDidChange=new Ze}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this,i={selector:e,provider:t,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),De((function(){if(i){var e=n._entries.indexOf(i);e>=0&&(n._entries.splice(e,1),n._lastCandidate=void 0,n._onDidChange.fire(n._entries.length),i=void 0)}}))},e.prototype.has=function(e){return this.all(e).length>0},e.prototype.all=function(e){if(!e)return[];this._updateScores(e);for(var t=[],n=0,i=this._entries;n<i.length;n++){var o=i[n];o._score>0&&t.push(o.provider)}return t},e.prototype.ordered=function(e){var t=[];return this._orderedForEach(e,(function(e){return t.push(e.provider)})),t},e.prototype.orderedGroups=function(e){var t,n,i=[];return this._orderedForEach(e,(function(e){t&&n===e._score?t.push(e.provider):(n=e._score,t=[e.provider],i.push(t))})),i},e.prototype._orderedForEach=function(e,t){if(e){this._updateScores(e);for(var n=0,i=this._entries;n<i.length;n++){var o=i[n];o._score>0&&t(o)}}},e.prototype._updateScores=function(t){var n={uri:t.uri.toString(),language:t.getLanguageIdentifier().language};if(!this._lastCandidate||this._lastCandidate.language!==n.language||this._lastCandidate.uri!==n.uri){this._lastCandidate=n;for(var i=0,o=this._entries;i<o.length;i++){var r=o[i];if(r._score=du(r.selector,t.uri,t.getLanguageIdentifier().language,fu(t)),gu(r.selector)&&r._score>0){for(var s=0,a=this._entries;s<a.length;s++){var l=a[s];l._score=0}r._score=1e3;break}}this._entries.sort(e._compareByScoreAndTime)}},e._compareByScoreAndTime=function(e,t){return e._score<t._score?1:e._score>t._score?-1:e._time<t._time?1:e._time>t._time?-1:0},e}(),bu=function(){function e(){this._map=new Map,this._promises=new Map,this._onDidChange=new Ze,this.onDidChange=this._onDidChange.event,this._colorMap=null}return e.prototype.fire=function(e){this._onDidChange.fire({changedLanguages:e,changedColorMap:!1})},e.prototype.register=function(e,t){var n=this;return this._map.set(e,t),this.fire([e]),De((function(){n._map.get(e)===t&&(n._map.delete(e),n.fire([e]))}))},e.prototype.registerPromise=function(e,t){var n=this,i=null,o=!1;return this._promises.set(e,t.then((function(t){n._promises.delete(e),!o&&t&&(i=n.register(e,t))}))),De((function(){o=!0,i&&i.dispose()}))},e.prototype.getPromise=function(e){var t=this,n=this.get(e);if(n)return Promise.resolve(n);var i=this._promises.get(e);return i?i.then((function(n){return t.get(e)})):null},e.prototype.get=function(e){return Ma(this._map.get(e))},e.prototype.setColorMap=function(e){this._colorMap=e,this._onDidChange.fire({changedLanguages:Ba(this._map),changedColorMap:!0})},e.prototype.getColorMap=function(){return this._colorMap},e.prototype.getDefaultBackground=function(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null},e}(),wu=function(){function e(e,t){this.language=e,this.id=t}return e}(),Cu=function(){function e(){}return e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.getClassNameFromMetadata=function(e){var t=this.getForeground(e),n="mtk"+t,i=this.getFontStyle(e);return 1&i&&(n+=" mtki"),2&i&&(n+=" mtkb"),4&i&&(n+=" mtku"),n},e.getInlineStyleFromMetadata=function(e,t){var n=this.getForeground(e),i=this.getFontStyle(e),o="color: "+t[n]+";";return 1&i&&(o+="font-style: italic;"),2&i&&(o+="font-weight: bold;"),4&i&&(o+="text-decoration: underline;"),o},e}(),Su=function(){var e=Object.create(null);return e[0]="method",e[1]="function",e[2]="constructor",e[3]="field",e[4]="variable",e[5]="class",e[6]="struct",e[7]="interface",e[8]="module",e[9]="property",e[10]="event",e[11]="operator",e[12]="unit",e[13]="value",e[14]="constant",e[15]="enum",e[16]="enum-member",e[17]="keyword",e[25]="snippet",e[18]="text",e[19]="color",e[20]="file",e[21]="reference",e[22]="customcolor",e[23]="folder",e[24]="type-parameter",function(t){return e[t]||"property"}}(),Eu=function(){var e=Object.create(null);return e["method"]=0,e["function"]=1,e["constructor"]=2,e["field"]=3,e["variable"]=4,e["class"]=5,e["struct"]=6,e["interface"]=7,e["module"]=8,e["property"]=9,e["event"]=10,e["operator"]=11,e["unit"]=12,e["value"]=13,e["constant"]=14,e["enum"]=15,e["enum-member"]=16,e["enumMember"]=16,e["keyword"]=17,e["snippet"]=25,e["text"]=18,e["color"]=19,e["file"]=20,e["reference"]=21,e["customcolor"]=22,e["folder"]=23,e["type-parameter"]=24,e["typeParameter"]=24,function(t,n){var i=e[t];return"undefined"!==typeof i||n||(i=9),i}}();function Tu(e){return e&&Lt.isUri(e.uri)&&bn.isIRange(e.range)&&(bn.isIRange(e.originSelectionRange)||bn.isIRange(e.targetSelectionRange))}(function(e){e[e["Invoke"]=1]="Invoke",e[e["TriggerCharacter"]=2]="TriggerCharacter",e[e["ContentChange"]=3]="ContentChange"})(mu||(mu={})),function(e){e[e["Text"]=0]="Text",e[e["Read"]=1]="Read",e[e["Write"]=2]="Write"}(_u||(_u={})),function(e){var t=new Map;t.set("file",0),t.set("module",1),t.set("namespace",2),t.set("package",3),t.set("class",4),t.set("method",5),t.set("property",6),t.set("field",7),t.set("constructor",8),t.set("enum",9),t.set("interface",10),t.set("function",11),t.set("variable",12),t.set("constant",13),t.set("string",14),t.set("number",15),t.set("boolean",16),t.set("array",17),t.set("object",18),t.set("key",19),t.set("null",20),t.set("enum-member",21),t.set("struct",22),t.set("event",23),t.set("operator",24),t.set("type-parameter",25);var n=new Map;function i(e){return t.get(e)}function o(e){return n.get(e)}function r(e,t){return"codicon "+(t?"inline":"block")+" codicon-symbol-"+(n.get(e)||"property")}n.set(0,"file"),n.set(1,"module"),n.set(2,"namespace"),n.set(3,"package"),n.set(4,"class"),n.set(5,"method"),n.set(6,"property"),n.set(7,"field"),n.set(8,"constructor"),n.set(9,"enum"),n.set(10,"interface"),n.set(11,"function"),n.set(12,"variable"),n.set(13,"constant"),n.set(14,"string"),n.set(15,"number"),n.set(16,"boolean"),n.set(17,"array"),n.set(18,"object"),n.set(19,"key"),n.set(20,"null"),n.set(21,"enum-member"),n.set(22,"struct"),n.set(23,"event"),n.set(24,"operator"),n.set(25,"type-parameter"),e.fromString=i,e.toString=o,e.toCssClassName=r}(vu||(vu={}));var ku,xu,Lu=function(){function e(e){this.value=e}return e.Comment=new e("comment"),e.Imports=new e("imports"),e.Region=new e("region"),e}();(function(e){function t(e){return ba(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}e.is=t})(ku||(ku={})),function(e){function t(e){return ba(e)&&Lt.isUri(e.resource)&&ba(e.edit)}e.is=t}(xu||(xu={}));var Iu=new yu,Ou=new yu,Du=new yu,Nu=new yu,Ru=new yu,Au=new yu,Mu=new yu,Pu=new yu,Fu=new yu,Bu=new yu,Vu=new yu,Hu=new yu,$u=new yu,Wu=new yu,Uu=new yu,zu=new yu,ju=new yu,Gu=new yu,Ku=new yu,qu=new yu,Yu=new yu,Xu=new yu,Zu=new bu,Ju=function(){function e(){}return e.prototype.clone=function(){return this},e.prototype.equals=function(e){return this===e},e}(),Qu=new Ju,ec="vs.editor.nullMode",tc=new wu(ec,0);function nc(e,t,n,i){return new En([new Sn(i,"",e)],n)}function ic(e,t,n,i){var o=new Uint32Array(2);return o[0]=i,o[1]=(16384|e<<0|2<<23)>>>0,new Tn(o,null===n?Qu:n)}var oc="editorWorkerService",rc=Dn(oc),sc=Dn("textModelService"),ac=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lc="$initialize",uc=!1;function cc(e){s["g"]&&(uc||(uc=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/Microsoft/monaco-editor#faq")),console.warn(e.message))}var hc=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,t){var n=this,i=String(++this._lastSentReq);return new Promise((function(o,r){n._pendingReplies[i]={resolve:o,reject:r},n._send({vsWorker:n._workerId,req:i,method:e,args:t})}))},e.prototype.handleMessage=function(e){e&&e.vsWorker&&(-1!==this._workerId&&e.vsWorker!==this._workerId||this._handleMessage(e))},e.prototype._handleMessage=function(e){var t=this;if(e.seq){var n=e;if(!this._pendingReplies[n.seq])return void console.warn("Got reply to unknown seq");var i=this._pendingReplies[n.seq];if(delete this._pendingReplies[n.seq],n.err){var o=n.err;return n.err.$isError&&(o=new Error,o.name=n.err.name,o.message=n.err.message,o.stack=n.err.stack),void i.reject(o)}i.resolve(n.res)}else{var r=e,s=r.req,a=this._handler.handleMessage(r.method,r.args);a.then((function(e){t._send({vsWorker:t._workerId,seq:s,res:e,err:void 0})}),(function(e){e.detail instanceof Error&&(e.detail=_e(e.detail)),t._send({vsWorker:t._workerId,seq:s,res:void 0,err:_e(e)})}))}},e.prototype._send=function(e){var t=[];if(e.req)for(var n=e,i=0;i<n.args.length;i++)n.args[i]instanceof ArrayBuffer&&t.push(n.args[i]);else{n=e;n.res instanceof ArrayBuffer&&t.push(n.res)}this._handler.sendMessage(e,t)},e}(),dc=function(e){function t(t,n,i){var o=e.call(this)||this,r=null;o._worker=o._register(t.create("vs/base/common/worker/simpleWorker",(function(e){o._protocol.handleMessage(e)}),(function(e){r&&r(e)}))),o._protocol=new hc({sendMessage:function(e,t){o._worker.postMessage(e,t)},handleMessage:function(e,t){if("function"!==typeof i[e])return Promise.reject(new Error("Missing method "+e+" on main thread host."));try{return Promise.resolve(i[e].apply(i,t))}catch(n){return Promise.reject(n)}}}),o._protocol.setWorkerId(o._worker.getId());var s=null;"undefined"!==typeof self.require&&"function"===typeof self.require.getConfig?s=self.require.getConfig():"undefined"!==typeof self.requirejs&&(s=self.requirejs.s.contexts._.config);var a=Na(i);o._onModuleLoaded=o._protocol.sendMessage(lc,[o._worker.getId(),JSON.parse(JSON.stringify(s)),n,a]);var l=function(e,t){return o._request(e,t)};return o._lazyProxy=new Promise((function(e,t){r=t,o._onModuleLoaded.then((function(t){e(Ra(t,l))}),(function(e){t(e),o._onError("Worker failed to load "+n,e)}))})),o}return ac(t,e),t.prototype.getProxyObject=function(){return this._lazyProxy},t.prototype._request=function(e,t){var n=this;return new Promise((function(i,o){n._onModuleLoaded.then((function(){n._protocol.sendMessage(e,t).then(i,o)}),o)}))},t.prototype._onError=function(e,t){console.error(e),console.info(t)},t}(Ae);(function(){function e(e,t){var n=this;this._requestHandlerFactory=t,this._requestHandler=null,this._protocol=new hc({sendMessage:function(t,n){e(t,n)},handleMessage:function(e,t){return n._handleMessage(e,t)}})}e.prototype.onmessage=function(e){this._protocol.handleMessage(e)},e.prototype._handleMessage=function(e,t){if(e===lc)return this.initialize(t[0],t[1],t[2],t[3]);if(!this._requestHandler||"function"!==typeof this._requestHandler[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._requestHandler[e].apply(this._requestHandler,t))}catch(n){return Promise.reject(n)}},e.prototype.initialize=function(e,t,n,i){var o=this;this._protocol.setWorkerId(e);var r=function(e,t){return o._protocol.sendMessage(e,t)},s=Ra(i,r);return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(s),Promise.resolve(Na(this._requestHandler))):(t&&("undefined"!==typeof t.baseUrl&&delete t["baseUrl"],"undefined"!==typeof t.paths&&"undefined"!==typeof t.paths.vs&&delete t.paths["vs"],t.catchError=!0,self.require.config(t)),new Promise((function(e,t){self.require([n],(function(n){o._requestHandler=n.create(s),o._requestHandler?e(Na(o._requestHandler)):t(new Error("No RequestHandler!"))}),t)})))}})();function pc(e,t){if(s["b"].MonacoEnvironment){if("function"===typeof s["b"].MonacoEnvironment.getWorker)return s["b"].MonacoEnvironment.getWorker(e,t);if("function"===typeof s["b"].MonacoEnvironment.getWorkerUrl)return new Worker(s["b"].MonacoEnvironment.getWorkerUrl(e,t))}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function fc(e){return"function"===typeof e.then}var gc,mc=function(){function e(e,t,n,i,o){this.id=t;var r=pc("workerMain.js",n);fc(r)?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(e,[]),this.worker.then((function(e){e.onmessage=function(e){i(e.data)},e.onmessageerror=o,"function"===typeof e.addEventListener&&e.addEventListener("error",o)}))}return e.prototype.getId=function(){return this.id},e.prototype.postMessage=function(e,t){this.worker&&this.worker.then((function(n){return n.postMessage(e,t)}))},e.prototype.dispose=function(){this.worker&&this.worker.then((function(e){return e.terminate()})),this.worker=null},e}(),_c=function(){function e(e){this._label=e,this._webWorkerFailedBeforeError=!1}return e.prototype.create=function(t,n,i){var o=this,r=++e.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new mc(t,r,this._label||"anonymous"+r,n,(function(e){cc(e),o._webWorkerFailedBeforeError=e,i(e)}))},e.LAST_WORKER_ID=0,e}();(function(e){e[e["None"]=0]="None",e[e["Indent"]=1]="Indent",e[e["IndentOutdent"]=2]="IndentOutdent",e[e["Outdent"]=3]="Outdent"})(gc||(gc={}));var vc=function(){function e(e){if(this.open=e.open,this.close=e.close,this._standardTokenMask=0,Array.isArray(e.notIn))for(var t=0,n=e.notIn.length;t<n;t++){var i=e.notIn[t];switch(i){case"string":this._standardTokenMask|=2;break;case"comment":this._standardTokenMask|=1;break;case"regex":this._standardTokenMask|=4;break}}}return e.prototype.isOK=function(e){return 0===(this._standardTokenMask&e)},e}();function yc(e,t){var n=e.getCount(),i=e.findTokenIndexAtOffset(t),o=e.getLanguageId(i),r=i;while(r+1<n&&e.getLanguageId(r+1)===o)r++;var s=i;while(s>0&&e.getLanguageId(s-1)===o)s--;return new bc(e,o,s,r+1,e.getStartOffset(s),e.getEndOffset(r))}var bc=function(){function e(e,t,n,i,o,r){this._actual=e,this.languageId=t,this._firstTokenIndex=n,this._lastTokenIndex=i,this.firstCharOffset=o,this._lastCharOffset=r}return e.prototype.getLineContent=function(){var e=this._actual.getLineContent();return e.substring(this.firstCharOffset,this._lastCharOffset)},e.prototype.getActualLineContentBefore=function(e){var t=this._actual.getLineContent();return t.substring(0,this.firstCharOffset+e)},e.prototype.getTokenCount=function(){return this._lastTokenIndex-this._firstTokenIndex},e.prototype.findTokenIndexAtOffset=function(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex},e.prototype.getStandardTokenType=function(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)},e}();function wc(e){return 0!==(7&e)}var Cc=function(){function e(t){if(t.autoClosingPairs?this._autoClosingPairs=t.autoClosingPairs.map((function(e){return new vc(e)})):t.brackets?this._autoClosingPairs=t.brackets.map((function(e){return new vc({open:e[0],close:e[1]})})):this._autoClosingPairs=[],t.__electricCharacterSupport&&t.__electricCharacterSupport.docComment){var n=t.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new vc({open:n.open,close:n.close||""}))}this._autoCloseBefore="string"===typeof t.autoCloseBefore?t.autoCloseBefore:e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=t.surroundingPairs||this._autoClosingPairs}return e.prototype.getAutoClosingPairs=function(){return this._autoClosingPairs},e.prototype.getAutoCloseBeforeSet=function(){return this._autoCloseBefore},e.shouldAutoClosePair=function(e,t,n){if(0===t.getTokenCount())return!0;var i=t.findTokenIndexAtOffset(n-2),o=t.getStandardTokenType(i);return e.isOK(o)},e.prototype.getSurroundingPairs=function(){return this._surroundingPairs},e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=";:.,=}])> \n\t",e}(),Sc=function(){function e(t,n,i,o,r,s){this.languageIdentifier=t,this.index=n,this.open=i,this.close=o,this.forwardRegex=r,this.reversedRegex=s,this._openSet=e._toSet(this.open),this._closeSet=e._toSet(this.close)}return e.prototype.isOpen=function(e){return this._openSet.has(e)},e.prototype.isClose=function(e){return this._closeSet.has(e)},e._toSet=function(e){for(var t=new Set,n=0,i=e;n<i.length;n++){var o=i[n];t.add(o)}return t},e}();function Ec(e){var t=e.length;e=e.map((function(e){return[e[0].toLowerCase(),e[1].toLowerCase()]}));for(var n=[],i=0;i<t;i++)n[i]=i;var o=function(e,t){var n=e[0],i=e[1],o=t[0],r=t[1];return n===o||n===r||i===o||i===r},r=function(e,i){for(var o=Math.min(e,i),r=Math.max(e,i),s=0;s<t;s++)n[s]===r&&(n[s]=o)};for(i=0;i<t;i++)for(var s=e[i],a=i+1;a<t;a++){var l=e[a];o(s,l)&&r(n[i],n[a])}for(var u=[],c=0;c<t;c++){var h=[],d=[];for(i=0;i<t;i++)if(n[i]===c){var p=e[i],f=p[0],g=p[1];h.push(f),d.push(g)}h.length>0&&u.push({open:h,close:d})}return u}var Tc=function(){function e(e,t){var n=Ec(t);this.brackets=n.map((function(t,i){return new Sc(e,i,t.open,t.close,Ic(t.open,t.close,n,i),Oc(t.open,t.close,n,i))})),this.forwardRegex=Dc(this.brackets),this.reversedRegex=Nc(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(var i=0,o=this.brackets;i<o.length;i++){for(var r=o[i],s=0,a=r.open;s<a.length;s++){var l=a[s];this.textIsBracket[l]=r,this.textIsOpenBracket[l]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,l.length)}for(var u=0,c=r.close;u<c.length;u++){var h=c[u];this.textIsBracket[h]=r,this.textIsOpenBracket[h]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,h.length)}}}return e}();function kc(e,t,n,i){for(var o=0,r=t.length;o<r;o++)if(o!==n){for(var s=t[o],a=0,l=s.open;a<l.length;a++){var u=l[a];u.indexOf(e)>=0&&i.push(u)}for(var c=0,h=s.close;c<h.length;c++){var d=h[c];d.indexOf(e)>=0&&i.push(d)}}}function xc(e,t){return e.length-t.length}function Lc(e){if(e.length<=1)return e;for(var t=[],n=new Set,i=0,o=e;i<o.length;i++){var r=o[i];n.has(r)||(t.push(r),n.add(r))}return t}function Ic(e,t,n,i){var o=[];o=o.concat(e),o=o.concat(t);for(var r=0,s=o.length;r<s;r++)kc(o[r],n,i,o);return o=Lc(o),o.sort(xc),o.reverse(),Ac(o)}function Oc(e,t,n,i){var o=[];o=o.concat(e),o=o.concat(t);for(var r=0,s=o.length;r<s;r++)kc(o[r],n,i,o);return o=Lc(o),o.sort(xc),o.reverse(),Ac(o.map(Mc))}function Dc(e){for(var t=[],n=0,i=e;n<i.length;n++){for(var o=i[n],r=0,s=o.open;r<s.length;r++){var a=s[r];t.push(a)}for(var l=0,u=o.close;l<u.length;l++){var c=u[l];t.push(c)}}return t=Lc(t),Ac(t)}function Nc(e){for(var t=[],n=0,i=e;n<i.length;n++){for(var o=i[n],r=0,s=o.open;r<s.length;r++){var a=s[r];t.push(a)}for(var l=0,u=o.close;l<u.length;l++){var c=u[l];t.push(c)}}return t=Lc(t),Ac(t.map(Mc))}function Rc(e){var t=/^[\w ]+$/.test(e);return e=Mr(e),t?"\\b"+e+"\\b":e}function Ac(e){var t="("+e.map(Rc).join(")|(")+")";return Wr(t,!0)}var Mc=function(){function e(e){for(var t="",n=e.length-1;n>=0;n--)t+=e.charAt(n);return t}var t=null,n=null;return function(i){return t!==i&&(t=i,n=e(t)),n}}(),Pc=function(){function e(){}return e._findPrevBracketInText=function(e,t,n,i){var o=n.match(e);if(!o)return null;var r=n.length-(o.index||0),s=o[0].length,a=i+r;return new bn(t,a-s+1,t,a+1)},e.findPrevBracketInRange=function(e,t,n,i,o){var r=Mc(n),s=r.substring(n.length-o,n.length-i);return this._findPrevBracketInText(e,t,s,i)},e.findNextBracketInText=function(e,t,n,i){var o=n.match(e);if(!o)return null;var r=o.index||0,s=o[0].length;if(0===s)return null;var a=i+r;return new bn(t,a+1,t,a+1+s)},e.findNextBracketInRange=function(e,t,n,i,o){var r=n.substring(i,o);return this.findNextBracketInText(e,t,r,i)},e}(),Fc=function(){function e(e){this._richEditBrackets=e}return e.prototype.getElectricCharacters=function(){var e=[];if(this._richEditBrackets)for(var t=0,n=this._richEditBrackets.brackets;t<n.length;t++)for(var i=n[t],o=0,r=i.close;o<r.length;o++){var s=r[o],a=s.charAt(s.length-1);e.push(a)}return e=e.filter((function(e,t,n){return n.indexOf(e)===t})),e},e.prototype.onElectricCharacter=function(e,t,n){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;var i=t.findTokenIndexAtOffset(n-1);if(wc(t.getStandardTokenType(i)))return null;var o=this._richEditBrackets.reversedRegex,r=t.getLineContent().substring(0,n-1)+e,s=Pc.findPrevBracketInRange(o,1,r,0,r.length);if(!s)return null;var a=r.substring(s.startColumn-1,s.endColumn-1).toLowerCase(),l=this._richEditBrackets.textIsOpenBracket[a];if(l)return null;var u=t.getActualLineContentBefore(s.startColumn-1);return/^\s*$/.test(u)?{matchOpenBracket:a}:null},e}(),Bc=function(){function e(e){this._indentationRules=e}return e.prototype.shouldIncrease=function(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&this._indentationRules.increaseIndentPattern.test(e))},e.prototype.shouldDecrease=function(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&this._indentationRules.decreaseIndentPattern.test(e))},e.prototype.shouldIndentNextLine=function(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&this._indentationRules.indentNextLinePattern.test(e))},e.prototype.shouldIgnore=function(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&this._indentationRules.unIndentedLinePattern.test(e))},e.prototype.getIndentMetadata=function(e){var t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t},e}(),Vc=function(){function e(t){var n=this;t=t||{},t.brackets=t.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],t.brackets.forEach((function(t){var i=e._createOpenBracketRegExp(t[0]),o=e._createCloseBracketRegExp(t[1]);i&&o&&n._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:o})})),this._regExpRules=t.onEnterRules||[]}return e.prototype.onEnter=function(e,t,n,i){if(e>=3)for(var o=0,r=this._regExpRules.length;o<r;o++){var s=this._regExpRules[o],a=[{reg:s.beforeText,text:n},{reg:s.afterText,text:i},{reg:s.oneLineAboveText,text:t}].every((function(e){return!e.reg||e.reg.test(e.text)}));if(a)return s.action}if(e>=2&&n.length>0&&i.length>0)for(o=0,r=this._brackets.length;o<r;o++){var l=this._brackets[o];if(l.openRegExp.test(n)&&l.closeRegExp.test(i))return{indentAction:gc.IndentOutdent}}if(e>=2&&n.length>0)for(o=0,r=this._brackets.length;o<r;o++){l=this._brackets[o];if(l.openRegExp.test(n))return{indentAction:gc.Indent}}return null},e._createOpenBracketRegExp=function(t){var n=Mr(t);return/\B/.test(n.charAt(0))||(n="\\b"+n),n+="\\s*$",e._safeRegExp(n)},e._createCloseBracketRegExp=function(t){var n=Mr(t);return/\B/.test(n.charAt(n.length-1))||(n+="\\b"),n="^\\s*"+n,e._safeRegExp(n)},e._safeRegExp=function(e){try{return new RegExp(e)}catch(t){return ge(t),null}},e}(),Hc=function(){function e(t,n,i){this._languageIdentifier=t,this._brackets=null,this._electricCharacter=null;var o=null;n&&(o=n._conf),this._conf=e._mergeConf(o,i),this._onEnterSupport=this._conf.brackets||this._conf.indentationRules||this._conf.onEnterRules?new Vc(this._conf):null,this.comments=e._handleComments(this._conf),this.characterPair=new Cc(this._conf),this.wordDefinition=this._conf.wordPattern||u,this.indentationRules=this._conf.indentationRules,this._conf.indentationRules?this.indentRulesSupport=new Bc(this._conf.indentationRules):this.indentRulesSupport=null,this.foldingRules=this._conf.folding||{}}return Object.defineProperty(e.prototype,"brackets",{get:function(){return!this._brackets&&this._conf.brackets&&(this._brackets=new Tc(this._languageIdentifier,this._conf.brackets)),this._brackets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"electricCharacter",{get:function(){return this._electricCharacter||(this._electricCharacter=new Fc(this.brackets)),this._electricCharacter},enumerable:!0,configurable:!0}),e.prototype.onEnter=function(e,t,n,i){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,n,i):null},e._mergeConf=function(e,t){return{comments:e?t.comments||e.comments:t.comments,brackets:e?t.brackets||e.brackets:t.brackets,wordPattern:e?t.wordPattern||e.wordPattern:t.wordPattern,indentationRules:e?t.indentationRules||e.indentationRules:t.indentationRules,onEnterRules:e?t.onEnterRules||e.onEnterRules:t.onEnterRules,autoClosingPairs:e?t.autoClosingPairs||e.autoClosingPairs:t.autoClosingPairs,surroundingPairs:e?t.surroundingPairs||e.surroundingPairs:t.surroundingPairs,autoCloseBefore:e?t.autoCloseBefore||e.autoCloseBefore:t.autoCloseBefore,folding:e?t.folding||e.folding:t.folding,__electricCharacterSupport:e?t.__electricCharacterSupport||e.__electricCharacterSupport:t.__electricCharacterSupport}},e._handleComments=function(e){var t=e.comments;if(!t)return null;var n={};if(t.lineComment&&(n.lineCommentToken=t.lineComment),t.blockComment){var i=t.blockComment,o=i[0],r=i[1];n.blockCommentStartToken=o,n.blockCommentEndToken=r}return n},e}(),$c=function(){function e(e){this.languageIdentifier=e}return e}(),Wc=function(){function e(){this._entries=new Map,this._onDidChange=new Ze,this.onDidChange=this._onDidChange.event}return e.prototype.register=function(e,t){var n=this,i=this._getRichEditSupport(e.id),o=new Hc(e,i,t);return this._entries.set(e.id,o),this._onDidChange.fire(new $c(e)),De((function(){n._entries.get(e.id)===o&&(n._entries.set(e.id,i),n._onDidChange.fire(new $c(e)))}))},e.prototype._getRichEditSupport=function(e){return this._entries.get(e)},e.prototype._getElectricCharacterSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.electricCharacter||null},e.prototype.getElectricCharacters=function(e){var t=this._getElectricCharacterSupport(e);return t?t.getElectricCharacters():[]},e.prototype.onElectricCharacter=function(e,t,n){var i=yc(t,n-1),o=this._getElectricCharacterSupport(i.languageId);return o?o.onElectricCharacter(e,i,n-i.firstCharOffset):null},e.prototype.getComments=function(e){var t=this._getRichEditSupport(e);return t&&t.comments||null},e.prototype._getCharacterPairSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.characterPair||null},e.prototype.getAutoClosingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoClosingPairs():[]},e.prototype.getAutoCloseBeforeSet=function(e){var t=this._getCharacterPairSupport(e);return t?t.getAutoCloseBeforeSet():Cc.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED},e.prototype.getSurroundingPairs=function(e){var t=this._getCharacterPairSupport(e);return t?t.getSurroundingPairs():[]},e.prototype.shouldAutoClosePair=function(e,t,n){var i=yc(t,n-1);return Cc.shouldAutoClosePair(e,i,n-i.firstCharOffset)},e.prototype.getWordDefinition=function(e){var t=this._getRichEditSupport(e);return c(t&&t.wordDefinition||null)},e.prototype.getFoldingRules=function(e){var t=this._getRichEditSupport(e);return t?t.foldingRules:{}},e.prototype.getIndentRulesSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.indentRulesSupport||null},e.prototype.getPrecedingValidLine=function(e,t,n){var i=e.getLanguageIdAtPosition(t,0);if(t>1){var o=void 0,r=-1;for(o=t-1;o>=1;o--){if(e.getLanguageIdAtPosition(o,0)!==i)return r;var s=e.getLineContent(o);if(!n.shouldIgnore(s)&&!/^\s+$/.test(s)&&""!==s)return o;r=o}}return-1},e.prototype.getInheritIndentForLine=function(e,t,n,i){if(void 0===i&&(i=!0),e<4)return null;var o=this.getIndentRulesSupport(t.getLanguageIdentifier().id);if(!o)return null;if(n<=1)return{indentation:"",action:null};var r=this.getPrecedingValidLine(t,n,o);if(r<0)return null;if(r<1)return{indentation:"",action:null};var s=t.getLineContent(r);if(o.shouldIncrease(s)||o.shouldIndentNextLine(s))return{indentation:Gr(s),action:gc.Indent,line:r};if(o.shouldDecrease(s))return{indentation:Gr(s),action:null,line:r};if(1===r)return{indentation:Gr(t.getLineContent(r)),action:null,line:r};var a=r-1,l=o.getIndentMetadata(t.getLineContent(a));if(!(3&l)&&4&l){for(var u=0,c=a-1;c>0;c--)if(!o.shouldIndentNextLine(t.getLineContent(c))){u=c;break}return{indentation:Gr(t.getLineContent(u+1)),action:null,line:u+1}}if(i)return{indentation:Gr(t.getLineContent(r)),action:null,line:r};for(c=r;c>0;c--){var h=t.getLineContent(c);if(o.shouldIncrease(h))return{indentation:Gr(h),action:gc.Indent,line:c};if(o.shouldIndentNextLine(h)){u=0;for(var d=c-1;d>0;d--)if(!o.shouldIndentNextLine(t.getLineContent(c))){u=d;break}return{indentation:Gr(t.getLineContent(u+1)),action:null,line:u+1}}if(o.shouldDecrease(h))return{indentation:Gr(h),action:null,line:c}}return{indentation:Gr(t.getLineContent(1)),action:null,line:1}},e.prototype.getGoodIndentForLine=function(e,t,n,i,o){if(e<4)return null;var r=this._getRichEditSupport(n);if(!r)return null;var s=this.getIndentRulesSupport(n);if(!s)return null;var a=this.getInheritIndentForLine(e,t,i),l=t.getLineContent(i);if(a){var u=a.line;if(void 0!==u){var c=r.onEnter(e,"",t.getLineContent(u),"");if(c){var h=Gr(t.getLineContent(u));return c.removeText&&(h=h.substring(0,h.length-c.removeText)),c.indentAction===gc.Indent||c.indentAction===gc.IndentOutdent?h=o.shiftIndent(h):c.indentAction===gc.Outdent&&(h=o.unshiftIndent(h)),s.shouldDecrease(l)&&(h=o.unshiftIndent(h)),c.appendText&&(h+=c.appendText),Gr(h)}}return s.shouldDecrease(l)?a.action===gc.Indent?a.indentation:o.unshiftIndent(a.indentation):a.action===gc.Indent?o.shiftIndent(a.indentation):a.indentation}return null},e.prototype.getIndentForEnter=function(e,t,n,i){if(e<4)return null;t.forceTokenization(n.startLineNumber);var o,r,s=t.getLineTokens(n.startLineNumber),a=yc(s,n.startColumn-1),l=a.getLineContent(),u=!1;if(a.firstCharOffset>0&&s.getLanguageId(0)!==a.languageId?(u=!0,o=l.substr(0,n.startColumn-1-a.firstCharOffset)):o=s.getLineContent().substring(0,n.startColumn-1),n.isEmpty())r=l.substr(n.startColumn-1-a.firstCharOffset);else{var c=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn);r=c.getLineContent().substr(n.endColumn-1-a.firstCharOffset)}var h=this.getIndentRulesSupport(a.languageId);if(!h)return null;var d=o,p=Gr(o),f={getLineTokens:function(e){return t.getLineTokens(e)},getLanguageIdentifier:function(){return t.getLanguageIdentifier()},getLanguageIdAtPosition:function(e,n){return t.getLanguageIdAtPosition(e,n)},getLineContent:function(e){return e===n.startLineNumber?d:t.getLineContent(e)}},g=Gr(s.getLineContent()),m=this.getInheritIndentForLine(e,f,n.startLineNumber+1);if(!m){var _=u?g:p;return{beforeEnter:_,afterEnter:_}}var v=u?g:m.indentation;return m.action===gc.Indent&&(v=i.shiftIndent(v)),h.shouldDecrease(r)&&(v=i.unshiftIndent(v)),{beforeEnter:u?g:p,afterEnter:v}},e.prototype.getIndentActionForType=function(e,t,n,i,o){if(e<4)return null;var r=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),s=this.getIndentRulesSupport(r.languageId);if(!s)return null;var a,l=r.getLineContent(),u=l.substr(0,n.startColumn-1-r.firstCharOffset);if(n.isEmpty())a=l.substr(n.startColumn-1-r.firstCharOffset);else{var c=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn);a=c.getLineContent().substr(n.endColumn-1-r.firstCharOffset)}if(!s.shouldDecrease(u+a)&&s.shouldDecrease(u+i+a)){var h=this.getInheritIndentForLine(e,t,n.startLineNumber,!1);if(!h)return null;var d=h.indentation;return h.action!==gc.Indent&&(d=o.unshiftIndent(d)),d}return null},e.prototype.getIndentMetadata=function(e,t){var n=this.getIndentRulesSupport(e.getLanguageIdentifier().id);return n?t<1||t>e.getLineCount()?null:n.getIndentMetadata(e.getLineContent(t)):null},e.prototype.getEnterAction=function(e,t,n){var i=this.getScopedLineTokens(t,n.startLineNumber,n.startColumn),o=this._getRichEditSupport(i.languageId);if(!o)return null;var r,s=i.getLineContent(),a=s.substr(0,n.startColumn-1-i.firstCharOffset);if(n.isEmpty())r=s.substr(n.startColumn-1-i.firstCharOffset);else{var l=this.getScopedLineTokens(t,n.endLineNumber,n.endColumn);r=l.getLineContent().substr(n.endColumn-1-i.firstCharOffset)}var u="";if(n.startLineNumber>1&&0===i.firstCharOffset){var c=this.getScopedLineTokens(t,n.startLineNumber-1);c.languageId===i.languageId&&(u=c.getLineContent())}var h=o.onEnter(e,u,a,r);if(!h)return null;var d=h.indentAction,p=h.appendText,f=h.removeText||0;p||(p=d===gc.Indent||d===gc.IndentOutdent?"\t":"");var g=this.getIndentationAtPosition(t,n.startLineNumber,n.startColumn);return f&&(g=g.substring(0,g.length-f)),{indentAction:d,appendText:p,removeText:f,indentation:g}},e.prototype.getIndentationAtPosition=function(e,t,n){var i=e.getLineContent(t),o=Gr(i);return o.length>n-1&&(o=o.substring(0,n-1)),o},e.prototype.getScopedLineTokens=function(e,t,n){e.forceTokenization(t);var i=e.getLineTokens(t),o="undefined"===typeof n?e.getLineMaxColumn(t)-1:n-1;return yc(i,o)},e.prototype.getBracketsSupport=function(e){var t=this._getRichEditSupport(e);return t&&t.brackets||null},e}(),Uc=new Wc,zc=function(){function e(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i}return e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();function jc(e,t){switch(void 0===t&&(t=0),typeof e){case"object":return null===e?Gc(349,t):Array.isArray(e)?Yc(e,t):Xc(e,t);case"string":return qc(e,t);case"boolean":return Kc(e,t);case"number":return Gc(e,t);case"undefined":return Gc(0,937);default:return Gc(0,617)}}function Gc(e,t){return(t<<5)-t+e|0}function Kc(e,t){return Gc(e?433:863,t)}function qc(e,t){t=Gc(149417,t);for(var n=0,i=e.length;n<i;n++)t=Gc(e.charCodeAt(n),t);return t}function Yc(e,t){return t=Gc(104579,t),e.reduce((function(e,t){return jc(t,e)}),t)}function Xc(e,t){return t=Gc(181387,t),Object.keys(e).sort().reduce((function(t,n){return t=qc(n,t),jc(e[n],t)}),t)}var Zc=function(){function e(e){this.source=e}return e.prototype.getElements=function(){for(var e=this.source,t=new Int32Array(e.length),n=0,i=e.length;n<i;n++)t[n]=e.charCodeAt(n);return t},e}();function Jc(e,t,n){return new nh(new Zc(e),new Zc(t)).ComputeDiff(n).changes}var Qc=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}(),eh=function(){function e(){}return e.Copy=function(e,t,n,i,o){for(var r=0;r<o;r++)n[i+r]=e[t+r]},e.Copy2=function(e,t,n,i,o){for(var r=0;r<o;r++)n[i+r]=e[t+r]},e}(),th=function(){function e(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new zc(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),nh=function(){function e(t,n,i){void 0===i&&(i=null),this.ContinueProcessingPredicate=i;var o=e._getElements(t),r=o[0],s=o[1],a=o[2],l=e._getElements(n),u=l[0],c=l[1],h=l[2];this._hasStrings=a&&h,this._originalStringElements=r,this._originalElementsOrHash=s,this._modifiedStringElements=u,this._modifiedElementsOrHash=c,this.m_forwardHistory=[],this.m_reverseHistory=[]}return e._isStringArray=function(e){return e.length>0&&"string"===typeof e[0]},e._getElements=function(t){var n=t.getElements();if(e._isStringArray(n)){for(var i=new Int32Array(n.length),o=0,r=n.length;o<r;o++)i[o]=qc(n[o],0);return[n,i,!0]}return n instanceof Int32Array?[[],n,!1]:[[],new Int32Array(n),!1]},e.prototype.ElementsAreEqual=function(e,t){return this._originalElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._modifiedStringElements[t])},e.prototype.OriginalElementsAreEqual=function(e,t){return this._originalElementsOrHash[e]===this._originalElementsOrHash[t]&&(!this._hasStrings||this._originalStringElements[e]===this._originalStringElements[t])},e.prototype.ModifiedElementsAreEqual=function(e,t){return this._modifiedElementsOrHash[e]===this._modifiedElementsOrHash[t]&&(!this._hasStrings||this._modifiedStringElements[e]===this._modifiedStringElements[t])},e.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)},e.prototype._ComputeDiff=function(e,t,n,i,o){var r=[!1],s=this.ComputeDiffRecursive(e,t,n,i,r);return o&&(s=this.PrettifyChanges(s)),{quitEarly:r[0],changes:s}},e.prototype.ComputeDiffRecursive=function(e,t,n,i,o){o[0]=!1;while(e<=t&&n<=i&&this.ElementsAreEqual(e,n))e++,n++;while(t>=e&&i>=n&&this.ElementsAreEqual(t,i))t--,i--;if(e>t||n>i){var r=void 0;return n<=i?(Qc.Assert(e===t+1,"originalStart should only be one more than originalEnd"),r=[new zc(e,0,n,i-n+1)]):e<=t?(Qc.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),r=[new zc(e,t-e+1,n,0)]):(Qc.Assert(e===t+1,"originalStart should only be one more than originalEnd"),Qc.Assert(n===i+1,"modifiedStart should only be one more than modifiedEnd"),r=[]),r}var s=[0],a=[0],l=this.ComputeRecursionPoint(e,t,n,i,s,a,o),u=s[0],c=a[0];if(null!==l)return l;if(!o[0]){var h=this.ComputeDiffRecursive(e,u,n,c,o),d=[];return d=o[0]?[new zc(u+1,t-(u+1)+1,c+1,i-(c+1)+1)]:this.ComputeDiffRecursive(u+1,t,c+1,i,o),this.ConcatenateChanges(h,d)}return[new zc(e,t-e+1,n,i-n+1)]},e.prototype.WALKTRACE=function(e,t,n,i,o,r,s,a,l,u,c,h,d,p,f,g,m,_){var v=null,y=null,b=new th,w=t,C=n,S=d[0]-g[0]-i,E=-1073741824,T=this.m_forwardHistory.length-1;do{var k=S+e;k===w||k<C&&l[k-1]<l[k+1]?(c=l[k+1],p=c-S-i,c<E&&b.MarkNextChange(),E=c,b.AddModifiedElement(c+1,p),S=k+1-e):(c=l[k-1]+1,p=c-S-i,c<E&&b.MarkNextChange(),E=c-1,b.AddOriginalElement(c,p+1),S=k-1-e),T>=0&&(l=this.m_forwardHistory[T],e=l[0],w=1,C=l.length-1)}while(--T>=-1);if(v=b.getReverseChanges(),_[0]){var x=d[0]+1,L=g[0]+1;if(null!==v&&v.length>0){var I=v[v.length-1];x=Math.max(x,I.getOriginalEnd()),L=Math.max(L,I.getModifiedEnd())}y=[new zc(x,h-x+1,L,f-L+1)]}else{b=new th,w=r,C=s,S=d[0]-g[0]-a,E=1073741824,T=m?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{k=S+o;k===w||k<C&&u[k-1]>=u[k+1]?(c=u[k+1]-1,p=c-S-a,c>E&&b.MarkNextChange(),E=c+1,b.AddOriginalElement(c+1,p+1),S=k+1-o):(c=u[k-1],p=c-S-a,c>E&&b.MarkNextChange(),E=c,b.AddModifiedElement(c+1,p+1),S=k-1-o),T>=0&&(u=this.m_reverseHistory[T],o=u[0],w=1,C=u.length-1)}while(--T>=-1);y=b.getChanges()}return this.ConcatenateChanges(v,y)},e.prototype.ComputeRecursionPoint=function(e,t,n,i,o,r,s){var a=0,l=0,u=0,c=0,h=0,d=0;e--,n--,o[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var p=t-e+(i-n),f=p+1,g=new Int32Array(f),m=new Int32Array(f),_=i-n,v=t-e,y=e-n,b=t-i,w=v-_,C=w%2===0;g[_]=e,m[v]=t,s[0]=!1;for(var S=1;S<=p/2+1;S++){var E=0,T=0;u=this.ClipDiagonalBound(_-S,S,_,f),c=this.ClipDiagonalBound(_+S,S,_,f);for(var k=u;k<=c;k+=2){a=k===u||k<c&&g[k-1]<g[k+1]?g[k+1]:g[k-1]+1,l=a-(k-_)-y;var x=a;while(a<t&&l<i&&this.ElementsAreEqual(a+1,l+1))a++,l++;if(g[k]=a,a+l>E+T&&(E=a,T=l),!C&&Math.abs(k-v)<=S-1&&a>=m[k])return o[0]=a,r[0]=l,x<=m[k]&&S<=1448?this.WALKTRACE(_,u,c,y,v,h,d,b,g,m,a,t,o,l,i,r,C,s):null}var L=(E-e+(T-n)-S)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(E,L))return s[0]=!0,o[0]=E,r[0]=T,L>0&&S<=1448?this.WALKTRACE(_,u,c,y,v,h,d,b,g,m,a,t,o,l,i,r,C,s):(e++,n++,[new zc(e,t-e+1,n,i-n+1)]);h=this.ClipDiagonalBound(v-S,S,v,f),d=this.ClipDiagonalBound(v+S,S,v,f);for(k=h;k<=d;k+=2){a=k===h||k<d&&m[k-1]>=m[k+1]?m[k+1]-1:m[k-1],l=a-(k-v)-b;x=a;while(a>e&&l>n&&this.ElementsAreEqual(a,l))a--,l--;if(m[k]=a,C&&Math.abs(k-_)<=S&&a<=g[k])return o[0]=a,r[0]=l,x>=g[k]&&S<=1448?this.WALKTRACE(_,u,c,y,v,h,d,b,g,m,a,t,o,l,i,r,C,s):null}if(S<=1447){var I=new Int32Array(c-u+2);I[0]=_-u+1,eh.Copy2(g,u,I,1,c-u+1),this.m_forwardHistory.push(I),I=new Int32Array(d-h+2),I[0]=v-h+1,eh.Copy2(m,h,I,1,d-h+1),this.m_reverseHistory.push(I)}}return this.WALKTRACE(_,u,c,y,v,h,d,b,g,m,a,t,o,l,i,r,C,s)},e.prototype.PrettifyChanges=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=t<e.length-1?e[t+1].originalStart:this._originalElementsOrHash.length,o=t<e.length-1?e[t+1].modifiedStart:this._modifiedElementsOrHash.length,r=n.originalLength>0,s=n.modifiedLength>0;while(n.originalStart+n.originalLength<i&&n.modifiedStart+n.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(n.originalStart,n.originalStart+n.originalLength))&&(!s||this.ModifiedElementsAreEqual(n.modifiedStart,n.modifiedStart+n.modifiedLength)))n.originalStart++,n.modifiedStart++;var a=[null];t<e.length-1&&this.ChangesOverlap(e[t],e[t+1],a)&&(e[t]=a[0],e.splice(t+1,1),t--)}for(t=e.length-1;t>=0;t--){n=e[t],i=0,o=0;if(t>0){var l=e[t-1];l.originalLength>0&&(i=l.originalStart+l.originalLength),l.modifiedLength>0&&(o=l.modifiedStart+l.modifiedLength)}r=n.originalLength>0,s=n.modifiedLength>0;for(var u=0,c=this._boundaryScore(n.originalStart,n.originalLength,n.modifiedStart,n.modifiedLength),h=1;;h++){var d=n.originalStart-h,p=n.modifiedStart-h;if(d<i||p<o)break;if(r&&!this.OriginalElementsAreEqual(d,d+n.originalLength))break;if(s&&!this.ModifiedElementsAreEqual(p,p+n.modifiedLength))break;var f=this._boundaryScore(d,n.originalLength,p,n.modifiedLength);f>c&&(c=f,u=h)}n.originalStart-=u,n.modifiedStart-=u}return e},e.prototype._OriginalIsBoundary=function(e){return e<=0||e>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])},e.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1},e.prototype._ModifiedIsBoundary=function(e){return e<=0||e>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])},e.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1},e.prototype._boundaryScore=function(e,t,n,i){var o=this._OriginalRegionIsBoundary(e,t)?1:0,r=this._ModifiedRegionIsBoundary(n,i)?1:0;return o+r},e.prototype.ConcatenateChanges=function(e,t){var n=[];if(0===e.length||0===t.length)return t.length>0?t:e;if(this.ChangesOverlap(e[e.length-1],t[0],n)){var i=new Array(e.length+t.length-1);return eh.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],eh.Copy(t,1,i,e.length,t.length-1),i}i=new Array(e.length+t.length);return eh.Copy(e,0,i,0,e.length),eh.Copy(t,0,i,e.length,t.length),i},e.prototype.ChangesOverlap=function(e,t,n){if(Qc.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),Qc.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var i=e.originalStart,o=e.originalLength,r=e.modifiedStart,s=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(o=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new zc(i,o,r,s),!0}return n[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,i){if(e>=0&&e<i)return e;var o=n,r=i-n-1,s=t%2===0;if(e<0){var a=o%2===0;return s===a?0:1}var l=r%2===0;return s===l?i-1:i-2},e}(),ih=3;function oh(e,t,n,i){var o=new nh(e,t,n);return o.ComputeDiff(i)}var rh=function(){function e(e){for(var t=[],n=[],i=0,o=e.length;i<o;i++)t[i]=hh(e[i],1),n[i]=dh(e[i],1);this.lines=e,this._startColumns=t,this._endColumns=n}return e.prototype.getElements=function(){for(var e=[],t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e},e.prototype.getStartLineNumber=function(e){return e+1},e.prototype.getEndLineNumber=function(e){return e+1},e.prototype.createCharSequence=function(e,t,n){for(var i=[],o=[],r=[],s=0,a=t;a<=n;a++)for(var l=this.lines[a],u=e?this._startColumns[a]:1,c=e?this._endColumns[a]:l.length+1,h=u;h<c;h++)i[s]=l.charCodeAt(h-1),o[s]=a+1,r[s]=h,s++;return new sh(i,o,r)},e}(),sh=function(){function e(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}return e.prototype.getElements=function(){return this._charCodes},e.prototype.getStartLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getStartColumn=function(e){return this._columns[e]},e.prototype.getEndLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getEndColumn=function(e){return this._columns[e]+1},e}(),ah=function(){function e(e,t,n,i,o,r,s,a){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=o,this.modifiedStartColumn=r,this.modifiedEndLineNumber=s,this.modifiedEndColumn=a}return e.createFromDiffChange=function(t,n,i){var o,r,s,a,l,u,c,h;return 0===t.originalLength?(o=0,r=0,s=0,a=0):(o=n.getStartLineNumber(t.originalStart),r=n.getStartColumn(t.originalStart),s=n.getEndLineNumber(t.originalStart+t.originalLength-1),a=n.getEndColumn(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(l=0,u=0,c=0,h=0):(l=i.getStartLineNumber(t.modifiedStart),u=i.getStartColumn(t.modifiedStart),c=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),h=i.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new e(o,r,s,a,l,u,c,h)},e}();function lh(e){if(e.length<=1)return e;for(var t=[e[0]],n=t[0],i=1,o=e.length;i<o;i++){var r=e[i],s=r.originalStart-(n.originalStart+n.originalLength),a=r.modifiedStart-(n.modifiedStart+n.modifiedLength),l=Math.min(s,a);l<ih?(n.originalLength=r.originalStart+r.originalLength-n.originalStart,n.modifiedLength=r.modifiedStart+r.modifiedLength-n.modifiedStart):(t.push(r),n=r)}return t}var uh=function(){function e(e,t,n,i,o){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=o}return e.createFromDiffResult=function(t,n,i,o,r,s,a){var l,u,c,h,d=void 0;if(0===n.originalLength?(l=i.getStartLineNumber(n.originalStart)-1,u=0):(l=i.getStartLineNumber(n.originalStart),u=i.getEndLineNumber(n.originalStart+n.originalLength-1)),0===n.modifiedLength?(c=o.getStartLineNumber(n.modifiedStart)-1,h=0):(c=o.getStartLineNumber(n.modifiedStart),h=o.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),s&&n.originalLength>0&&n.originalLength<20&&n.modifiedLength>0&&n.modifiedLength<20&&r()){var p=i.createCharSequence(t,n.originalStart,n.originalStart+n.originalLength-1),f=o.createCharSequence(t,n.modifiedStart,n.modifiedStart+n.modifiedLength-1),g=oh(p,f,r,!0).changes;a&&(g=lh(g)),d=[];for(var m=0,_=g.length;m<_;m++)d.push(ah.createFromDiffChange(g[m],p,f))}return new e(l,u,c,h,d)},e}(),ch=function(){function e(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new rh(e),this.modified=new rh(t),this.continueLineDiff=ph(n.maxComputationTime),this.continueCharDiff=ph(0===n.maxComputationTime?0:Math.min(n.maxComputationTime,5e3))}return e.prototype.computeDiff=function(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};var e=oh(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){for(var i=[],o=0,r=t.length;o<r;o++)i.push(uh.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[o],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:i}}for(var s=[],a=0,l=0,u=(o=-1,t.length);o<u;o++){var c=o+1<u?t[o+1]:null,h=c?c.originalStart:this.originalLines.length,d=c?c.modifiedStart:this.modifiedLines.length;while(a<h&&l<d){var p=this.originalLines[a],f=this.modifiedLines[l];if(p!==f){var g=hh(p,1),m=hh(f,1);while(g>1&&m>1){var _=p.charCodeAt(g-2),v=f.charCodeAt(m-2);if(_!==v)break;g--,m--}(g>1||m>1)&&this._pushTrimWhitespaceCharChange(s,a+1,1,g,l+1,1,m);var y=dh(p,1),b=dh(f,1),w=p.length+1,C=f.length+1;while(y<w&&b<C){_=p.charCodeAt(y-1),v=p.charCodeAt(b-1);if(_!==v)break;y++,b++}(y<w||b<C)&&this._pushTrimWhitespaceCharChange(s,a+1,y,w,l+1,b,C)}a++,l++}c&&(s.push(uh.createFromDiffResult(this.shouldIgnoreTrimWhitespace,c,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),a+=c.originalLength,l+=c.modifiedLength)}return{quitEarly:n,changes:s}},e.prototype._pushTrimWhitespaceCharChange=function(e,t,n,i,o,r,s){if(!this._mergeTrimWhitespaceCharChange(e,t,n,i,o,r,s)){var a=void 0;this.shouldComputeCharChanges&&(a=[new ah(t,n,t,i,o,r,o,s)]),e.push(new uh(t,t,o,o,a))}},e.prototype._mergeTrimWhitespaceCharChange=function(e,t,n,i,o,r,s){var a=e.length;if(0===a)return!1;var l=e[a-1];return 0!==l.originalEndLineNumber&&0!==l.modifiedEndLineNumber&&(l.originalEndLineNumber+1===t&&l.modifiedEndLineNumber+1===o&&(l.originalEndLineNumber=t,l.modifiedEndLineNumber=o,this.shouldComputeCharChanges&&l.charChanges&&l.charChanges.push(new ah(t,n,t,i,o,r,o,s)),!0))},e}();function hh(e,t){var n=jr(e);return-1===n?t:n+1}function dh(e,t){var n=Kr(e);return-1===n?t:n+2}function ph(e){if(0===e)return function(){return!0};var t=Date.now();return function(){return Date.now()-t<e}}function fh(e){return e<0?0:e>255?255:0|e}function gh(e){return e<0?0:e>4294967295?4294967295:0|e}var mh=function(){function e(e,t){this.index=e,this.remainder=t}return e}(),_h=function(){function e(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return e.prototype.insertValues=function(e,t){e=gh(e);var n=this.values,i=this.prefixSum,o=t.length;return 0!==o&&(this.values=new Uint32Array(n.length+o),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+o),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.changeValue=function(e,t){return e=gh(e),t=gh(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},e.prototype.removeValues=function(e,t){e=gh(e),t=gh(t);var n=this.values,i=this.prefixSum;if(e>=n.length)return!1;var o=n.length-e;return t>=o&&(t=o),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(i.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){return e<0?0:(e=gh(e),this._getAccumulatedValue(e))},e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();var t=0,n=this.values.length-1,i=0,o=0,r=0;while(t<=n)if(i=t+(n-t)/2|0,o=this.prefixSum[i],r=o-this.values[i],e<r)n=i-1;else{if(!(e>=o))break;t=i+1}return new mh(i,e-r)},e}(),vh=function(){function e(e,t,n,i){this._uri=e,this._lines=t,this._eol=n,this._versionId=i,this._lineStarts=null}return e.prototype.dispose=function(){this._lines.length=0},e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,n=0,i=t;n<i.length;n++){var o=i[n];this._acceptDeleteRange(o.range),this._acceptInsertText(new yn(o.range.startLineNumber,o.range.startColumn),o.text)}this._versionId=e.versionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,n=new Uint32Array(t),i=0;i<t;i++)n[i]=this._lines[i].length+e;this._lineStarts=new _h(n)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1!==n.length){n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);for(var i=new Uint32Array(n.length-1),o=1;o<n.length;o++)this._lines.splice(e.lineNumber+o-1,0,n[o]),i[o-1]=n[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,i)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1))}},e}(),yh=function(){function e(t){var n=fh(t);this._defaultValue=n,this._asciiMap=e._createAsciiMap(n),this._map=new Map}return e._createAsciiMap=function(e){for(var t=new Uint8Array(256),n=0;n<256;n++)t[n]=e;return t},e.prototype.set=function(e,t){var n=fh(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)},e.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue},e}(),bh=function(){function e(){this._actual=new yh(0)}return e.prototype.add=function(e){this._actual.set(e,1)},e.prototype.has=function(e){return 1===this._actual.get(e)},e}(),wh=function(){function e(e,t,n){for(var i=new Uint8Array(e*t),o=0,r=e*t;o<r;o++)i[o]=n;this._data=i,this.rows=e,this.cols=t}return e.prototype.get=function(e,t){return this._data[e*this.cols+t]},e.prototype.set=function(e,t,n){this._data[e*this.cols+t]=n},e}(),Ch=function(){function e(e){for(var t=0,n=0,i=0,o=e.length;i<o;i++){var r=e[i],s=r[0],a=r[1],l=r[2];a>t&&(t=a),s>n&&(n=s),l>n&&(n=l)}t++,n++;var u=new wh(n,t,0);for(i=0,o=e.length;i<o;i++){var c=e[i];s=c[0],a=c[1],l=c[2];u.set(s,a,l)}this._states=u,this._maxCharCode=t}return e.prototype.nextState=function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)},e}(),Sh=null;function Eh(){return null===Sh&&(Sh=new Ch([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Sh}var Th=null;function kh(){if(null===Th){Th=new yh(0);for(var e=" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…",t=0;t<e.length;t++)Th.set(e.charCodeAt(t),1);var n=".,;";for(t=0;t<n.length;t++)Th.set(n.charCodeAt(t),2)}return Th}var xh=function(){function e(){}return e._createLink=function(e,t,n,i,o){var r=o-1;do{var s=t.charCodeAt(r),a=e.get(s);if(2!==a)break;r--}while(r>i);if(i>0){var l=t.charCodeAt(i-1),u=t.charCodeAt(r);(40===l&&41===u||91===l&&93===u||123===l&&125===u)&&r--}return{range:{startLineNumber:n,startColumn:i+1,endLineNumber:n,endColumn:r+2},url:t.substring(i,r+1)}},e.computeLinks=function(t,n){void 0===n&&(n=Eh());for(var i=kh(),o=[],r=1,s=t.getLineCount();r<=s;r++){var a=t.getLineContent(r),l=a.length,u=0,c=0,h=0,d=1,p=!1,f=!1,g=!1;while(u<l){var m=!1,_=a.charCodeAt(u);if(13===d){var v=void 0;switch(_){case 40:p=!0,v=0;break;case 41:v=p?0:1;break;case 91:f=!0,v=0;break;case 93:v=f?0:1;break;case 123:g=!0,v=0;break;case 125:v=g?0:1;break;case 39:v=34===h||96===h?0:1;break;case 34:v=39===h||96===h?0:1;break;case 96:v=39===h||34===h?0:1;break;case 42:v=42===h?1:0;break;case 124:v=124===h?1:0;break;default:v=i.get(_)}1===v&&(o.push(e._createLink(i,a,r,c,u)),m=!0)}else if(12===d){v=void 0;91===_?(f=!0,v=0):v=i.get(_),1===v?m=!0:d=13}else d=n.nextState(d,_),0===d&&(m=!0);m&&(d=1,p=!1,f=!1,g=!1,c=u+1,h=_),u++}13===d&&o.push(e._createLink(i,a,r,c,l))}return o},e}();function Lh(e){return e&&"function"===typeof e.getLineCount&&"function"===typeof e.getLineContent?xh.computeLinks(e):[]}var Ih=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,n,i,o){if(e&&t){var r=this.doNavigateValueSet(t,o);if(r)return{range:e,value:r}}if(n&&i){r=this.doNavigateValueSet(i,o);if(r)return{range:n,value:r}}return null},e.prototype.doNavigateValueSet=function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),o=parseFloat(e);return isNaN(i)||isNaN(o)||i!==o?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,n){for(var i=null,o=0,r=e.length;null===i&&o<r;o++)i=this.valueSetReplace(e[o],t,n);return i},e.prototype.valueSetReplace=function(e,t,n){var i=e.indexOf(t);return i>=0?(i+=n?1:-1,i<0?i=e.length-1:i%=e.length,e[i]):null},e.INSTANCE=new e,e}(),Oh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dh=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},Nh=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Rh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Oh(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var n=p(e.column,c(t),this._lines[e.lineNumber-1],0);return n?new bn(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null},t.prototype.createWordIterator=function(e){var t,n,i=this,o=0,r=0,s=[],a=function(){if(r<s.length){var l=n.substring(s[r].start,s[r].end);return r+=1,t?t.value=l:t={done:!1,value:l},t}return o>=i._lines.length?Be:(n=i._lines[o],s=i._wordenize(n,e),r=0,o+=1,a())};return{next:a}},t.prototype.getLineWords=function(e,t){for(var n=this._lines[e-1],i=this._wordenize(n,t),o=[],r=0,s=i;r<s.length;r++){var a=s[r];o.push({word:n.substring(a.start,a.end),startColumn:a.start+1,endColumn:a.end+1})}return o},t.prototype._wordenize=function(e,t){var n,i=[];t.lastIndex=0;while(n=t.exec(e)){if(0===n[0].length)break;i.push({start:n.index,end:n.index+n[0].length})}return i},t.prototype.getValueInRange=function(e){if(e=this._validateRange(e),e.startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,n=e.startLineNumber-1,i=e.endLineNumber-1,o=[];o.push(this._lines[n].substring(e.startColumn-1));for(var r=n+1;r<i;r++)o.push(this._lines[r]);return o.push(this._lines[i].substring(0,e.endColumn-1)),o.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}},t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e},t.prototype._validatePosition=function(e){if(!yn.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,n=e.column,i=!1;if(t<1)t=1,n=1,i=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,i=!0;else{var o=this._lines[t-1].length+1;n<1?(n=1,i=!0):n>o&&(n=o,i=!0)}return i?{lineNumber:t,column:n}:e},t}(vh),Ah=function(){function e(e,t){this._host=e,this._models=Object.create(null),this._foreignModuleFactory=t,this._foreignModule=null}return e.prototype.dispose=function(){this._models=Object.create(null)},e.prototype._getModel=function(e){return this._models[e]},e.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach((function(n){return t.push(e._models[n])})),t},e.prototype.acceptNewModel=function(e){this._models[e.url]=new Rh(Lt.parse(e.url),e.lines,e.EOL,e.versionId)},e.prototype.acceptModelChanged=function(e,t){if(this._models[e]){var n=this._models[e];n.onEvents(t)}},e.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},e.prototype.computeDiff=function(e,t,n,i){return Dh(this,void 0,void 0,(function(){var o,r,s,a,l,u,c;return Nh(this,(function(h){return o=this._getModel(e),r=this._getModel(t),o&&r?(s=o.getLinesContent(),a=r.getLinesContent(),l=new ch(s,a,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0,maxComputationTime:i}),u=l.computeDiff(),c=!(u.changes.length>0)&&this._modelsAreIdentical(o,r),[2,{quitEarly:u.quitEarly,identical:c,changes:u.changes}]):[2,null]}))}))},e.prototype._modelsAreIdentical=function(e,t){var n=e.getLineCount(),i=t.getLineCount();if(n!==i)return!1;for(var o=1;o<=n;o++){var r=e.getLineContent(o),s=t.getLineContent(o);if(r!==s)return!1}return!0},e.prototype.computeMoreMinimalEdits=function(t,n){return Dh(this,void 0,void 0,(function(){var i,o,r,s,a,l,u,c,h,d,p,f,g,m,_,v,y,b;return Nh(this,(function(w){if(i=this._getModel(t),!i)return[2,n];for(o=[],r=void 0,n=Ai(n,(function(e,t){if(e.range&&t.range)return bn.compareRangesUsingStarts(e.range,t.range);var n=e.range?0:1,i=t.range?0:1;return n-i})),s=0,a=n;s<a.length;s++)if(l=a[s],u=l.range,c=l.text,h=l.eol,"number"===typeof h&&(r=h),(!bn.isEmpty(u)||c)&&(d=i.getValueInRange(u),c=c.replace(/\r\n|\n|\r/g,i.eol),d!==c))if(Math.max(c.length,d.length)>e._diffLimit)o.push({range:u,text:c});else for(p=Jc(d,c,!1),f=i.offsetAt(bn.lift(u).getStartPosition()),g=0,m=p;g<m.length;g++)_=m[g],v=i.positionAt(f+_.originalStart),y=i.positionAt(f+_.originalStart+_.originalLength),b={text:c.substr(_.modifiedStart,_.modifiedLength),range:{startLineNumber:v.lineNumber,startColumn:v.column,endLineNumber:y.lineNumber,endColumn:y.column}},i.getValueInRange(b.range)!==b.text&&o.push(b);return"number"===typeof r&&o.push({eol:r,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),[2,o]}))}))},e.prototype.computeLinks=function(e){return Dh(this,void 0,void 0,(function(){var t;return Nh(this,(function(n){return t=this._getModel(e),t?[2,Lh(t)]:[2,null]}))}))},e.prototype.textualSuggest=function(t,n,i,o){return Dh(this,void 0,void 0,(function(){var r,s,a,l,u,c,h,d;return Nh(this,(function(p){if(r=this._getModel(t),!r)return[2,null];for(s=[],a=new Set,l=new RegExp(i,o),u=r.getWordAtPosition(n,l),u&&a.add(r.getValueInRange(u)),c=r.createWordIterator(l),h=c.next();!h.done&&a.size<=e._suggestionsLimit;h=c.next())d=h.value,a.has(d)||(a.add(d),isNaN(Number(d))&&s.push(d));return[2,s]}))}))},e.prototype.computeWordRanges=function(e,t,n,i){return Dh(this,void 0,void 0,(function(){var o,r,s,a,l,u,c,h,d;return Nh(this,(function(p){if(o=this._getModel(e),!o)return[2,Object.create(null)];for(r=new RegExp(n,i),s=Object.create(null),a=t.startLineNumber;a<t.endLineNumber;a++)for(l=o.getLineWords(a,r),u=0,c=l;u<c.length;u++)h=c[u],isNaN(Number(h.word))&&(d=s[h.word],d||(d=[],s[h.word]=d),d.push({startLineNumber:a,startColumn:h.startColumn,endLineNumber:a,endColumn:h.endColumn}));return[2,s]}))}))},e.prototype.navigateValueSet=function(e,t,n,i,o){return Dh(this,void 0,void 0,(function(){var r,s,a,l,u,c;return Nh(this,(function(h){return r=this._getModel(e),r?(s=new RegExp(i,o),t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1}),a=r.getValueInRange(t),l=r.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s),l?(u=r.getValueInRange(l),c=Ih.INSTANCE.navigateValueSet(t,a,l,u,n),[2,c]):[2,null]):[2,null]}))}))},e.prototype.loadForeignModule=function(e,t,n){var i=this,o=function(e,t){return i._host.fhr(e,t)},r=Ra(n,o),s={host:r,getMirrorModels:function(){return i._getModels()}};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(s,t),Promise.resolve(Na(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!==typeof this._foreignModule[e])return Promise.reject(new Error("Missing requestHandler or method: "+e));try{return Promise.resolve(this._foreignModule[e].apply(this._foreignModule,t))}catch(n){return Promise.reject(n)}},e._diffLimit=1e5,e._suggestionsLimit=1e4,e}();"function"===typeof importScripts&&(s["b"].monaco=xn());var Mh,Ph=Dn("textResourceConfigurationService"),Fh=Dn("textResourcePropertiesService"),Bh=Dn("logService");(function(e){e[e["Trace"]=0]="Trace",e[e["Debug"]=1]="Debug",e[e["Info"]=2]="Info",e[e["Warning"]=3]="Warning",e[e["Error"]=4]="Error",e[e["Critical"]=5]="Critical",e[e["Off"]=6]="Off"})(Mh||(Mh={}));var Vh=function(){function e(){}return e.prototype.getLevel=function(){return Mh.Info},e.prototype.trace=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.dispose=function(){},e}(),Hh=s["b"].performance&&"function"===typeof s["b"].performance.now,$h=function(){function e(e){this._highResolution=Hh&&e,this._startTime=this._now(),this._stopTime=-1}return e.create=function(t){return void 0===t&&(t=!0),new e(t)},e.prototype.stop=function(){this._stopTime=this._now()},e.prototype.elapsed=function(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime},e.prototype._now=function(){return this._highResolution?s["b"].performance.now():(new Date).getTime()},e}(),Wh=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Uh=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},zh=function(e,t){return function(n,i){t(n,i,e)}},jh=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},Gh=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},Kh=6e4,qh=3e5;function Yh(e,t){var n=e.getModel(t);return!!n&&!n.isTooLargeForSyncing()}var Xh=function(e){function t(t,n,i){var o=e.call(this)||this;return o._modelService=t,o._workerManager=o._register(new Jh(o._modelService)),o._logService=i,o._register(ju.register("*",{provideLinks:function(e,t){return Yh(o._modelService,e.uri)?o._workerManager.withWorker().then((function(t){return t.computeLinks(e.uri)})).then((function(e){return e&&{links:e}})):Promise.resolve({links:[]})}})),o._register(Du.register("*",new Zh(o._workerManager,n,o._modelService))),o}return Wh(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.canComputeDiff=function(e,t){return Yh(this._modelService,e)&&Yh(this._modelService,t)},t.prototype.computeDiff=function(e,t,n,i){return this._workerManager.withWorker().then((function(o){return o.computeDiff(e,t,n,i)}))},t.prototype.computeMoreMinimalEdits=function(e,t){var n=this;if(Hi(t)){if(!Yh(this._modelService,e))return Promise.resolve(t);var i=$h.create(!0),o=this._workerManager.withWorker().then((function(n){return n.computeMoreMinimalEdits(e,t)}));return o.finally((function(){return n._logService.trace("FORMAT#computeMoreMinimalEdits",e.toString(!0),i.elapsed())})),o}return Promise.resolve(void 0)},t.prototype.canNavigateValueSet=function(e){return Yh(this._modelService,e)},t.prototype.navigateValueSet=function(e,t,n){return this._workerManager.withWorker().then((function(i){return i.navigateValueSet(e,t,n)}))},t.prototype.canComputeWordRanges=function(e){return Yh(this._modelService,e)},t.prototype.computeWordRanges=function(e,t){return this._workerManager.withWorker().then((function(n){return n.computeWordRanges(e,t)}))},t=Uh([zh(0,pu),zh(1,Ph),zh(2,Bh)],t),t}(Ae),Zh=function(){function e(e,t,n){this._debugDisplayName="wordbasedCompletions",this._workerManager=e,this._configurationService=t,this._modelService=n}return e.prototype.provideCompletionItems=function(e,t){return jh(this,void 0,void 0,(function(){var n,i,o,r,s,a;return Gh(this,(function(l){switch(l.label){case 0:return n=this._configurationService.getValue(e.uri,t,"editor").wordBasedSuggestions,n?Yh(this._modelService,e.uri)?(i=e.getWordAtPosition(t),o=i?new bn(t.lineNumber,i.startColumn,t.lineNumber,i.endColumn):bn.fromPositions(t),r=o.setEndPosition(t.lineNumber,t.column),[4,this._workerManager.withWorker()]):[2,void 0]:[2,void 0];case 1:return s=l.sent(),[4,s.textualSuggest(e.uri,t)];case 2:return a=l.sent(),a?[2,{suggestions:a.map((function(e){return{kind:18,label:e,insertText:e,range:{insert:r,replace:o}}}))}]:[2,void 0]}}))}))},e}(),Jh=function(e){function t(t){var n=e.call(this)||this;n._modelService=t,n._editorWorkerClient=null,n._lastWorkerUsedTime=(new Date).getTime();var i=n._register(new Ti);return i.cancelAndSet((function(){return n._checkStopIdleWorker()}),Math.round(qh/2)),n._register(n._modelService.onModelRemoved((function(e){return n._checkStopEmptyWorker()}))),n}return Wh(t,e),t.prototype.dispose=function(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),e.prototype.dispose.call(this)},t.prototype._checkStopEmptyWorker=function(){if(this._editorWorkerClient){var e=this._modelService.getModels();0===e.length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},t.prototype._checkStopIdleWorker=function(){if(this._editorWorkerClient){var e=(new Date).getTime()-this._lastWorkerUsedTime;e>qh&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}},t.prototype.withWorker=function(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new nd(this._modelService,!1,"editorWorkerService")),Promise.resolve(this._editorWorkerClient)},t}(Ae),Qh=function(e){function t(t,n,i){var o=e.call(this)||this;if(o._syncedModels=Object.create(null),o._syncedModelsLastUsedTime=Object.create(null),o._proxy=t,o._modelService=n,!i){var r=new Ti;r.cancelAndSet((function(){return o._checkStopModelSync()}),Math.round(Kh/2)),o._register(r)}return o}return Wh(t,e),t.prototype.dispose=function(){for(var t in this._syncedModels)Ie(this._syncedModels[t]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),e.prototype.dispose.call(this)},t.prototype.ensureSyncedResources=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o=i.toString();this._syncedModels[o]||this._beginModelSync(i),this._syncedModels[o]&&(this._syncedModelsLastUsedTime[o]=(new Date).getTime())}},t.prototype._checkStopModelSync=function(){var e=(new Date).getTime(),t=[];for(var n in this._syncedModelsLastUsedTime){var i=e-this._syncedModelsLastUsedTime[n];i>Kh&&t.push(n)}for(var o=0,r=t;o<r.length;o++){var s=r[o];this._stopModelSync(s)}},t.prototype._beginModelSync=function(e){var t=this,n=this._modelService.getModel(e);if(n&&!n.isTooLargeForSyncing()){var i=e.toString();this._proxy.acceptNewModel({url:n.uri.toString(),lines:n.getLinesContent(),EOL:n.getEOL(),versionId:n.getVersionId()});var o=new Re;o.add(n.onDidChangeContent((function(e){t._proxy.acceptModelChanged(i.toString(),e)}))),o.add(n.onWillDispose((function(){t._stopModelSync(i)}))),o.add(De((function(){t._proxy.acceptRemovedModel(i)}))),this._syncedModels[i]=o}},t.prototype._stopModelSync=function(e){var t=this._syncedModels[e];delete this._syncedModels[e],delete this._syncedModelsLastUsedTime[e],Ie(t)},t}(Ae),ed=function(){function e(e){this._instance=e,this._proxyObj=Promise.resolve(this._instance)}return e.prototype.dispose=function(){this._instance.dispose()},e.prototype.getProxyObject=function(){return this._proxyObj},e}(),td=function(){function e(e){this._workerClient=e}return e.prototype.fhr=function(e,t){return this._workerClient.fhr(e,t)},e}(),nd=function(e){function t(t,n,i){var o=e.call(this)||this;return o._modelService=t,o._keepIdleModels=n,o._workerFactory=new _c(i),o._worker=null,o._modelManager=null,o}return Wh(t,e),t.prototype.fhr=function(e,t){throw new Error("Not implemented!")},t.prototype._getOrCreateWorker=function(){if(!this._worker)try{this._worker=this._register(new dc(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new td(this)))}catch(e){cc(e),this._worker=new ed(new Ah(new td(this),null))}return this._worker},t.prototype._getProxy=function(){var e=this;return this._getOrCreateWorker().getProxyObject().then(void 0,(function(t){return cc(t),e._worker=new ed(new Ah(new td(e),null)),e._getOrCreateWorker().getProxyObject()}))},t.prototype._getOrCreateModelManager=function(e){return this._modelManager||(this._modelManager=this._register(new Qh(e,this._modelService,this._keepIdleModels))),this._modelManager},t.prototype._withSyncedResources=function(e){var t=this;return this._getProxy().then((function(n){return t._getOrCreateModelManager(n).ensureSyncedResources(e),n}))},t.prototype.computeDiff=function(e,t,n,i){return this._withSyncedResources([e,t]).then((function(o){return o.computeDiff(e.toString(),t.toString(),n,i)}))},t.prototype.computeMoreMinimalEdits=function(e,t){return this._withSyncedResources([e]).then((function(n){return n.computeMoreMinimalEdits(e.toString(),t)}))},t.prototype.computeLinks=function(e){return this._withSyncedResources([e]).then((function(t){return t.computeLinks(e.toString())}))},t.prototype.textualSuggest=function(e,t){var n=this;return this._withSyncedResources([e]).then((function(i){var o=n._modelService.getModel(e);if(!o)return null;var r=Uc.getWordDefinition(o.getLanguageIdentifier().id),s=r.source,a=zr(r);return i.textualSuggest(e.toString(),t,s,a)}))},t.prototype.computeWordRanges=function(e,t){var n=this;return this._withSyncedResources([e]).then((function(i){var o=n._modelService.getModel(e);if(!o)return Promise.resolve(null);var r=Uc.getWordDefinition(o.getLanguageIdentifier().id),s=r.source,a=zr(r);return i.computeWordRanges(e.toString(),t,s,a)}))},t.prototype.navigateValueSet=function(e,t,n){var i=this;return this._withSyncedResources([e]).then((function(o){var r=i._modelService.getModel(e);if(!r)return null;var s=Uc.getWordDefinition(r.getLanguageIdentifier().id),a=s.source,l=zr(s);return o.navigateValueSet(e.toString(),t,n,a,l)}))},t}(Ae),id=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function od(e,t){return new sd(e,t)}var rd,sd=function(e){function t(t,n){var i=e.call(this,t,n.keepIdleModels||!1,n.label)||this;return i._foreignModuleId=n.moduleId,i._foreignModuleCreateData=n.createData||null,i._foreignModuleHost=n.host||null,i._foreignProxy=null,i}return id(t,e),t.prototype.fhr=function(e,t){if(!this._foreignModuleHost||"function"!==typeof this._foreignModuleHost[e])return Promise.reject(new Error("Missing method "+e+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[e].apply(this._foreignModuleHost,t))}catch(n){return Promise.reject(n)}},t.prototype._getForeignProxy=function(){var e=this;return this._foreignProxy||(this._foreignProxy=this._getProxy().then((function(t){var n=e._foreignModuleHost?Na(e._foreignModuleHost):[];return t.loadForeignModule(e._foreignModuleId,e._foreignModuleCreateData,n).then((function(n){e._foreignModuleCreateData=null;for(var i=function(e,n){return t.fmr(e,n)},o=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}},r={},s=0,a=n;s<a.length;s++){var l=a[s];r[l]=o(l,i)}return r}))}))),this._foreignProxy},t.prototype.getProxy=function(){return this._getForeignProxy()},t.prototype.withSyncedResources=function(e){var t=this;return this._withSyncedResources(e).then((function(e){return t.getProxy()}))},t}(nd),ad=function(){function e(e,t){this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}return e.prototype.equals=function(t){return t instanceof e&&this.slicedEquals(t,0,this._tokensCount)},e.prototype.slicedEquals=function(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;for(var i=t<<1,o=i+(n<<1),r=i;r<o;r++)if(this._tokens[r]!==e._tokens[r])return!1;return!0},e.prototype.getLineContent=function(){return this._text},e.prototype.getCount=function(){return this._tokensCount},e.prototype.getStartOffset=function(e){return e>0?this._tokens[e-1<<1]:0},e.prototype.getMetadata=function(e){var t=this._tokens[1+(e<<1)];return t},e.prototype.getLanguageId=function(e){var t=this._tokens[1+(e<<1)];return Cu.getLanguageId(t)},e.prototype.getStandardTokenType=function(e){var t=this._tokens[1+(e<<1)];return Cu.getTokenType(t)},e.prototype.getForeground=function(e){var t=this._tokens[1+(e<<1)];return Cu.getForeground(t)},e.prototype.getClassName=function(e){var t=this._tokens[1+(e<<1)];return Cu.getClassNameFromMetadata(t)},e.prototype.getInlineStyle=function(e,t){var n=this._tokens[1+(e<<1)];return Cu.getInlineStyleFromMetadata(n,t)},e.prototype.getEndOffset=function(e){return this._tokens[e<<1]},e.prototype.findTokenIndexAtOffset=function(t){return e.findIndexInTokensArray(this._tokens,t)},e.prototype.inflate=function(){return this},e.prototype.sliceAndInflate=function(e,t,n){return new ld(this,e,t,n)},e.convertToEndOffset=function(e,t){for(var n=e.length>>>1,i=n-1,o=0;o<i;o++)e[o<<1]=e[o+1<<1];e[i<<1]=t},e.findIndexInTokensArray=function(e,t){if(e.length<=2)return 0;var n=0,i=(e.length>>>1)-1;while(n<i){var o=n+Math.floor((i-n)/2),r=e[o<<1];if(r===t)return o+1;r<t?n=o+1:r>t&&(i=o)}return n},e}(),ld=function(){function e(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(var o=this._firstTokenIndex,r=e.getCount();o<r;o++){var s=e.getStartOffset(o);if(s>=n)break;this._tokensCount++}}return e.prototype.equals=function(t){return t instanceof e&&(this._startOffset===t._startOffset&&this._endOffset===t._endOffset&&this._deltaOffset===t._deltaOffset&&this._source.slicedEquals(t._source,this._firstTokenIndex,this._tokensCount))},e.prototype.getCount=function(){return this._tokensCount},e.prototype.getForeground=function(e){return this._source.getForeground(this._firstTokenIndex+e)},e.prototype.getEndOffset=function(e){var t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset},e.prototype.getClassName=function(e){return this._source.getClassName(this._firstTokenIndex+e)},e.prototype.getInlineStyle=function(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)},e.prototype.findTokenIndexAtOffset=function(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex},e}();rd="undefined"!==typeof TextDecoder?function(e){return new ud(e)}:function(e){return new cd};var ud=function(){function e(e){this._decoder=new TextDecoder("UTF-16LE"),this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}return e.prototype.reset=function(){this._completedStrings=null,this._bufferLength=0},e.prototype.build=function(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()},e.prototype._buildBuffer=function(){if(0===this._bufferLength)return"";var e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return this._decoder.decode(e)},e.prototype._flushBuffer=function(){var e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e},e.prototype.write1=function(e){var t=this._capacity-this._bufferLength;t<=1&&(0===t||os(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},e.prototype.appendASCII=function(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e},e.prototype.appendASCIIString=function(e){var t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(var n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)},e}(),cd=function(){function e(){this._pieces=[],this._piecesLen=0}return e.prototype.reset=function(){this._pieces=[],this._piecesLen=0},e.prototype.build=function(){return this._pieces.join("")},e.prototype.write1=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},e.prototype.appendASCII=function(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)},e.prototype.appendASCIIString=function(e){this._pieces[this._piecesLen++]=e},e}(),hd=function(){function e(e,t,n,i){this.startColumn=e,this.endColumn=t,this.className=n,this.type=i}return e._equals=function(e,t){return e.startColumn===t.startColumn&&e.endColumn===t.endColumn&&e.className===t.className&&e.type===t.type},e.equalsArr=function(t,n){var i=t.length,o=n.length;if(i!==o)return!1;for(var r=0;r<i;r++)if(!e._equals(t[r],n[r]))return!1;return!0},e.filter=function(t,n,i,o){if(0===t.length)return[];for(var r=[],s=0,a=0,l=t.length;a<l;a++){var u=t[a],c=u.range;if(!(c.endLineNumber<n||c.startLineNumber>n)&&(!c.isEmpty()||0!==u.type&&3!==u.type)){var h=c.startLineNumber===n?c.startColumn:i,d=c.endLineNumber===n?c.endColumn:o;r[s++]=new e(h,d,u.inlineClassName,u.type)}}return r},e.compare=function(e,t){return e.startColumn===t.startColumn?e.endColumn===t.endColumn?e.className<t.className?-1:e.className>t.className?1:0:e.endColumn-t.endColumn:e.startColumn-t.startColumn},e}(),dd=function(){function e(e,t,n){this.startOffset=e,this.endOffset=t,this.className=n}return e}(),pd=function(){function e(){this.stopOffsets=[],this.classNames=[],this.count=0}return e.prototype.consumeLowerThan=function(e,t,n){while(this.count>0&&this.stopOffsets[0]<e){var i=0;while(i+1<this.count&&this.stopOffsets[i]===this.stopOffsets[i+1])i++;n.push(new dd(t,this.stopOffsets[i],this.classNames.join(" "))),t=this.stopOffsets[i]+1,this.stopOffsets.splice(0,i+1),this.classNames.splice(0,i+1),this.count-=i+1}return this.count>0&&t<e&&(n.push(new dd(t,e-1,this.classNames.join(" "))),t=e),t},e.prototype.insert=function(e,t){if(0===this.count||this.stopOffsets[this.count-1]<=e)this.stopOffsets.push(e),this.classNames.push(t);else for(var n=0;n<this.count;n++)if(this.stopOffsets[n]>=e){this.stopOffsets.splice(n,0,e),this.classNames.splice(n,0,t);break}this.count++},e}(),fd=function(){function e(){}return e.normalize=function(e,t){if(0===t.length)return[];for(var n=[],i=new pd,o=0,r=0,s=t.length;r<s;r++){var a=t[r],l=a.startColumn,u=a.endColumn,c=a.className;if(l>1){var h=e.charCodeAt(l-2);os(h)&&l--}if(u>1){h=e.charCodeAt(u-2);os(h)&&u--}var d=l-1,p=u-2;o=i.consumeLowerThan(d,o,n),0===i.count&&(o=d),i.insert(p,c)}return i.consumeLowerThan(1073741824,o,n),n},e}(),gd=function(){function e(e,t){this.endIndex=e,this.type=t}return e}(),md=function(){function e(e,t){this.startOffset=e,this.endOffset=t}return e.prototype.equals=function(e){return this.startOffset===e.startOffset&&this.endOffset===e.endOffset},e}(),_d=function(){function e(e,t,n,i,o,r,s,a,l,u,c,h,d,p,f,g,m,_){this.useMonospaceOptimizations=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.continuesWithWrappedLine=i,this.isBasicASCII=o,this.containsRTL=r,this.fauxIndentLength=s,this.lineTokens=a,this.lineDecorations=l,this.tabSize=u,this.startVisibleColumn=c,this.spaceWidth=h,this.middotWidth=d,this.stopRenderingLineAfter=p,this.renderWhitespace="all"===f?3:"boundary"===f?1:"selection"===f?2:0,this.renderControlCharacters=g,this.fontLigatures=m,this.selectionsOnLine=_&&_.sort((function(e,t){return e.startOffset<t.startOffset?-1:1}))}return e.prototype.sameSelection=function(e){if(null===this.selectionsOnLine)return null===e;if(null===e)return!1;if(e.length!==this.selectionsOnLine.length)return!1;for(var t=0;t<this.selectionsOnLine.length;t++)if(!this.selectionsOnLine[t].equals(e[t]))return!1;return!0},e.prototype.equals=function(e){return this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineContent===e.lineContent&&this.continuesWithWrappedLine===e.continuesWithWrappedLine&&this.isBasicASCII===e.isBasicASCII&&this.containsRTL===e.containsRTL&&this.fauxIndentLength===e.fauxIndentLength&&this.tabSize===e.tabSize&&this.startVisibleColumn===e.startVisibleColumn&&this.spaceWidth===e.spaceWidth&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.fontLigatures===e.fontLigatures&&hd.equalsArr(this.lineDecorations,e.lineDecorations)&&this.lineTokens.equals(e.lineTokens)&&this.sameSelection(e.selectionsOnLine)},e}(),vd=function(){function e(e,t){this.length=e,this._data=new Uint32Array(this.length),this._absoluteOffsets=new Uint32Array(this.length)}return e.getPartIndex=function(e){return(4294901760&e)>>>16},e.getCharIndex=function(e){return(65535&e)>>>0},e.prototype.setPartData=function(e,t,n,i){var o=(t<<16|n<<0)>>>0;this._data[e]=o,this._absoluteOffsets[e]=i+n},e.prototype.getAbsoluteOffsets=function(){return this._absoluteOffsets},e.prototype.charOffsetToPartData=function(e){return 0===this.length?0:e<0?this._data[0]:e>=this.length?this._data[this.length-1]:this._data[e]},e.prototype.partDataToCharOffset=function(t,n,i){if(0===this.length)return 0;var o=(t<<16|i<<0)>>>0,r=0,s=this.length-1;while(r+1<s){var a=r+s>>>1,l=this._data[a];if(l===o)return a;l>o?s=a:r=a}if(r===s)return r;var u=this._data[r],c=this._data[s];if(u===o)return r;if(c===o)return s;var h,d=e.getPartIndex(u),p=e.getCharIndex(u),f=e.getPartIndex(c);h=d!==f?n:e.getCharIndex(c);var g=i-p,m=h-i;return g<=m?r:s},e}(),yd=function(){function e(e,t,n){this.characterMapping=e,this.containsRTL=t,this.containsForeignElements=n}return e}();function bd(e,t){if(0===e.lineContent.length){var n=0,i="<span><span> </span></span>";if(e.lineDecorations.length>0){for(var o=[],r=[],s=0,a=e.lineDecorations.length;s<a;s++){var l=e.lineDecorations[s];1===l.type&&(o.push(e.lineDecorations[s].className),n|=1),2===l.type&&(r.push(e.lineDecorations[s].className),n|=2)}if(0!==n){var u=o.length>0?'<span class="'+o.join(" ")+'"></span>':"",c=r.length>0?'<span class="'+r.join(" ")+'"></span>':"";i="<span>"+u+c+"</span>"}}return t.appendASCIIString(i),new yd(new vd(0,0),!1,n)}return Id(Ed(e),t)}var wd=function(){function e(e,t,n,i){this.characterMapping=e,this.html=t,this.containsRTL=n,this.containsForeignElements=i}return e}();function Cd(e){var t=rd(1e4),n=bd(e,t);return new wd(n.characterMapping,t.build(),n.containsRTL,n.containsForeignElements)}var Sd=function(){function e(e,t,n,i,o,r,s,a,l,u,c,h,d,p,f){this.fontIsMonospace=e,this.canUseHalfwidthRightwardsArrow=t,this.lineContent=n,this.len=i,this.isOverflowing=o,this.parts=r,this.containsForeignElements=s,this.fauxIndentLength=a,this.tabSize=l,this.startVisibleColumn=u,this.containsRTL=c,this.spaceWidth=h,this.middotWidth=d,this.renderWhitespace=p,this.renderControlCharacters=f}return e}();function Ed(e){var t,n,i=e.useMonospaceOptimizations,o=e.lineContent;-1!==e.stopRenderingLineAfter&&e.stopRenderingLineAfter<o.length?(t=!0,n=e.stopRenderingLineAfter):(t=!1,n=o.length);var r=Td(e.lineTokens,e.fauxIndentLength,n);(3===e.renderWhitespace||1===e.renderWhitespace||2===e.renderWhitespace&&e.selectionsOnLine)&&(r=xd(o,n,e.continuesWithWrappedLine,r,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,i,e.selectionsOnLine,1===e.renderWhitespace));var s=0;if(e.lineDecorations.length>0){for(var a=0,l=e.lineDecorations.length;a<l;a++){var u=e.lineDecorations[a];3===u.type||1===u.type?s|=1:2===u.type&&(s|=2)}r=Ld(o,n,r,e.lineDecorations)}return e.containsRTL||(r=kd(o,r,!e.isBasicASCII||e.fontLigatures)),new Sd(i,e.canUseHalfwidthRightwardsArrow,o,n,t,r,s,e.fauxIndentLength,e.tabSize,e.startVisibleColumn,e.containsRTL,e.spaceWidth,e.middotWidth,e.renderWhitespace,e.renderControlCharacters)}function Td(e,t,n){var i=[],o=0;t>0&&(i[o++]=new gd(t,""));for(var r=0,s=e.getCount();r<s;r++){var a=e.getEndOffset(r);if(!(a<=t)){var l=e.getClassName(r);if(a>=n){i[o++]=new gd(n,l);break}i[o++]=new gd(a,l)}}return i}function kd(e,t,n){var i=0,o=[],r=0;if(n)for(var s=0,a=t.length;s<a;s++){var l=t[s],u=l.endIndex;if(i+50<u){for(var c=l.type,h=-1,d=i,p=i;p<u;p++)32===e.charCodeAt(p)&&(h=p),-1!==h&&p-d>=50&&(o[r++]=new gd(h+1,c),d=h+1,h=-1);d!==u&&(o[r++]=new gd(u,c))}else o[r++]=l;i=u}else for(s=0,a=t.length;s<a;s++){l=t[s],u=l.endIndex;var f=u-i;if(f>50){c=l.type;var g=Math.ceil(f/50);for(p=1;p<g;p++){var m=i+50*p;o[r++]=new gd(m,c)}o[r++]=new gd(u,c)}else o[r++]=l;i=u}return o}function xd(e,t,n,i,o,r,s,a,l,u){var c,h=[],d=0,p=0,f=i[p].type,g=i[p].endIndex,m=i.length,_=jr(e);-1===_?(_=t,c=t):c=Kr(e);for(var v=!1,y=0,b=l&&l[y],w=s%r,C=o;C<t;C++){var S=e.charCodeAt(C);b&&C>=b.endOffset&&(y++,b=l&&l[y]);var E=void 0;if(C<_||C>c)E=!0;else if(9===S)E=!0;else if(32===S)if(u)if(v)E=!0;else{var T=C+1<t?e.charCodeAt(C+1):0;E=32===T||9===T}else E=!0;else E=!1;E&&l&&(E=!!b&&b.startOffset<=C&&b.endOffset>C),v?(!E||!a&&w>=r)&&(h[d++]=new gd(C,"vs-whitespace"),w%=r):(C===g||E&&C>o)&&(h[d++]=new gd(C,f),w%=r),9===S?w=r:_s(S)?w+=2:w++,v=E,C===g&&(p++,p<m&&(f=i[p].type,g=i[p].endIndex))}var k=!1;if(v)if(n&&u){var x=t>0?e.charCodeAt(t-1):0,L=t>1?e.charCodeAt(t-2):0,I=32===x&&32!==L&&9!==L;I||(k=!0)}else k=!0;return h[d++]=new gd(t,k?"vs-whitespace":f),h}function Ld(e,t,n,i){i.sort(hd.compare);for(var o=fd.normalize(e,i),r=o.length,s=0,a=[],l=0,u=0,c=0,h=n.length;c<h;c++){var d=n[c],p=d.endIndex,f=d.type;while(s<r&&o[s].startOffset<p){var g=o[s];if(g.startOffset>u&&(u=g.startOffset,a[l++]=new gd(u,f)),!(g.endOffset+1<=p)){u=p,a[l++]=new gd(u,f+" "+g.className);break}u=g.endOffset+1,a[l++]=new gd(u,f+" "+g.className),s++}p>u&&(u=p,a[l++]=new gd(u,f))}var m=n[n.length-1].endIndex;if(s<r&&o[s].startOffset===m){var _=[];while(s<r&&o[s].startOffset===m)_.push(o[s].className),s++;a[l++]=new gd(u,_.join(" "))}return a}function Id(e,t){var n=e.fontIsMonospace,i=e.canUseHalfwidthRightwardsArrow,o=e.containsForeignElements,r=e.lineContent,s=e.len,a=e.isOverflowing,l=e.parts,u=e.fauxIndentLength,c=e.tabSize,h=e.startVisibleColumn,d=e.containsRTL,p=e.spaceWidth,f=e.middotWidth,g=e.renderWhitespace,m=e.renderControlCharacters,_=f>p?11825:183,v=new vd(s+1,l.length),y=0,b=h,w=0,C=0,S=0;t.appendASCIIString("<span>");for(var E=0,T=l.length;E<T;E++){S+=C;var k=l[E],x=k.endIndex,L=k.type,I=0!==g&&L.indexOf("vs-whitespace")>=0;if(w=0,t.appendASCIIString('<span class="'),t.appendASCIIString(L),t.appendASCII(34),I){for(var O=0,D=y,N=b;D<x;D++){var R=r.charCodeAt(D),A=0|(9===R?c-N%c:1);O+=A,D>=u&&(N+=A)}if(!n){var M="vs-whitespace"===L;!M&&o||(t.appendASCIIString(' style="display:inline-block;width:'),t.appendASCIIString(String(p*O)),t.appendASCIIString('px"'))}for(t.appendASCII(62);y<x;y++){v.setPartData(y,E,w,S);R=r.charCodeAt(y),A=void 0;if(9===R){A=c-b%c|0,!i||A>1?t.write1(8594):t.write1(65515);for(var P=2;P<=A;P++)t.write1(160)}else A=1,t.write1(_);w+=A,y>=u&&(b+=A)}C=O}else{O=0;for(d&&t.appendASCIIString(' dir="ltr"'),t.appendASCII(62);y<x;y++){v.setPartData(y,E,w,S);R=r.charCodeAt(y);var F=1;A=1;switch(R){case 9:F=c-b%c,A=F;for(P=1;P<=F;P++)t.write1(160);break;case 32:t.write1(160);break;case 60:t.appendASCIIString("&lt;");break;case 62:t.appendASCIIString("&gt;");break;case 38:t.appendASCIIString("&amp;");break;case 0:t.appendASCIIString("&#00;");break;case 65279:case 8232:t.write1(65533);break;default:_s(R)&&A++,m&&R<32?t.write1(9216+R):t.write1(R)}w+=F,O+=F,y>=u&&(b+=A)}C=O}t.appendASCIIString("</span>")}return v.setPartData(s,l.length-1,w,S),a&&t.appendASCIIString("<span>&hellip;</span>"),t.appendASCIIString("</span>"),new yd(v,d,o)}var Od=function(){function e(e,t,n,i){this.top=0|e,this.left=0|t,this.width=0|n,this.height=0|i}return e}(),Dd=function(){function e(e,t){this.tabSize=e,this.data=t}return e}(),Nd=function(){function e(e,t,n,i,o,r){this.content=e,this.continuesWithWrappedLine=t,this.minColumn=n,this.maxColumn=i,this.startVisibleColumn=o,this.tokens=r}return e}(),Rd=function(){function e(t,n,i,o,r,s,a,l,u,c){this.minColumn=t,this.maxColumn=n,this.content=i,this.continuesWithWrappedLine=o,this.isBasicASCII=e.isBasicASCII(i,s),this.containsRTL=e.containsRTL(i,this.isBasicASCII,r),this.tokens=a,this.inlineDecorations=l,this.tabSize=u,this.startVisibleColumn=c}return e.isBasicASCII=function(e,t){return!t||gs(e)},e.containsRTL=function(e,t,n){return!(t||!n)&&hs(e)},e}(),Ad=function(){function e(e,t,n){this.range=e,this.inlineClassName=t,this.type=n}return e}(),Md=function(){function e(e,t){this.range=e,this.options=t}return e}();function Pd(e){return Array.isArray(e)}function Fd(e){return!Pd(e)}function Bd(e){return"string"===typeof e}function Vd(e){return!Bd(e)}function Hd(e){return!e}function $d(e,t){return e.ignoreCase&&t?t.toLowerCase():t}function Wd(e){return e.replace(/[&<>'"_]/g,"-")}function Ud(e,t){console.log(e.languageId+": "+t)}function zd(e,t){return new Error(e.languageId+": "+t)}function jd(e,t,n,i,o){var r=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,s=null;return t.replace(r,(function(t,r,a,l,u,c,h,d,p){return Hd(a)?Hd(l)?!Hd(u)&&u<i.length?$d(e,i[u]):!Hd(h)&&e&&"string"===typeof e[h]?e[h]:(null===s&&(s=o.split("."),s.unshift(o)),!Hd(c)&&c<s.length?$d(e,s[c]):""):$d(e,n):"$"}))}function Gd(e,t){var n=t;while(n&&n.length>0){var i=e.tokenizer[n];if(i)return i;var o=n.lastIndexOf(".");n=o<0?null:n.substr(0,o)}return null}function Kd(e,t){var n=t;while(n&&n.length>0){var i=e.stateNames[n];if(i)return!0;var o=n.lastIndexOf(".");n=o<0?null:n.substr(0,o)}return!1}var qd=5,Yd=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==e&&e.depth>=this._maxCacheDepth)return new Xd(e,t);var n=Xd.getStackElementId(e);n.length>0&&(n+="|"),n+=t;var i=this._entries[n];return i||(i=new Xd(e,t),this._entries[n]=i,i)},e._INSTANCE=new e(qd),e}(),Xd=function(){function e(e,t){this.parent=e,this.state=t,this.depth=(this.parent?this.parent.depth:0)+1}return e.getStackElementId=function(e){var t="";while(null!==e)t.length>0&&(t+="|"),t+=e.state,e=e.parent;return t},e._equals=function(e,t){while(null!==e&&null!==t){if(e===t)return!0;if(e.state!==t.state)return!1;e=e.parent,t=t.parent}return null===e&&null===t},e.prototype.equals=function(t){return e._equals(this,t)},e.prototype.push=function(e){return Yd.create(this,e)},e.prototype.pop=function(){return this.parent},e.prototype.popall=function(){var e=this;while(e.parent)e=e.parent;return e},e.prototype.switchTo=function(e){return Yd.create(this.parent,e)},e}(),Zd=function(){function e(e,t){this.modeId=e,this.state=t}return e.prototype.equals=function(e){return this.modeId===e.modeId&&this.state.equals(e.state)},e.prototype.clone=function(){var t=this.state.clone();return t===this.state?this:new e(this.modeId,this.state)},e}(),Jd=function(){function e(e){this._maxCacheDepth=e,this._entries=Object.create(null)}return e.create=function(e,t){return this._INSTANCE.create(e,t)},e.prototype.create=function(e,t){if(null!==t)return new Qd(e,t);if(null!==e&&e.depth>=this._maxCacheDepth)return new Qd(e,t);var n=Xd.getStackElementId(e),i=this._entries[n];return i||(i=new Qd(e,null),this._entries[n]=i,i)},e._INSTANCE=new e(qd),e}(),Qd=function(){function e(e,t){this.stack=e,this.embeddedModeData=t}return e.prototype.clone=function(){var e=this.embeddedModeData?this.embeddedModeData.clone():null;return e===this.embeddedModeData?this:Jd.create(this.stack,this.embeddedModeData)},e.prototype.equals=function(t){return t instanceof e&&(!!this.stack.equals(t.stack)&&(null===this.embeddedModeData&&null===t.embeddedModeData||null!==this.embeddedModeData&&null!==t.embeddedModeData&&this.embeddedModeData.equals(t.embeddedModeData)))},e}(),ep=function(){function e(){this._tokens=[],this._language=null,this._lastTokenType=null,this._lastTokenLanguage=null}return e.prototype.enterMode=function(e,t){this._language=t},e.prototype.emit=function(e,t){this._lastTokenType===t&&this._lastTokenLanguage===this._language||(this._lastTokenType=t,this._lastTokenLanguage=this._language,this._tokens.push(new Sn(e,t,this._language)))},e.prototype.nestedModeTokenize=function(e,t,n){var i=t.modeId,o=t.state,r=Zu.get(i);if(!r)return this.enterMode(n,i),this.emit(n,""),o;var s=r.tokenize(e,o,n);return this._tokens=this._tokens.concat(s.tokens),this._lastTokenType=null,this._lastTokenLanguage=null,this._language=null,s.endState},e.prototype.finalize=function(e){return new En(this._tokens,e)},e}(),tp=function(){function e(e,t){this._modeService=e,this._theme=t,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}return e.prototype.enterMode=function(e,t){this._currentLanguageId=this._modeService.getLanguageIdentifier(t).id},e.prototype.emit=function(e,t){var n=this._theme.match(this._currentLanguageId,t);this._lastTokenMetadata!==n&&(this._lastTokenMetadata=n,this._tokens.push(e),this._tokens.push(n))},e._merge=function(e,t,n){var i=null!==e?e.length:0,o=t.length,r=null!==n?n.length:0;if(0===i&&0===o&&0===r)return new Uint32Array(0);if(0===i&&0===o)return n;if(0===o&&0===r)return e;var s=new Uint32Array(i+o+r);null!==e&&s.set(e);for(var a=0;a<o;a++)s[i+a]=t[a];return null!==n&&s.set(n,i+o),s},e.prototype.nestedModeTokenize=function(t,n,i){var o=n.modeId,r=n.state,s=Zu.get(o);if(!s)return this.enterMode(i,o),this.emit(i,""),r;var a=s.tokenize2(t,r,i);return this._prependTokens=e._merge(this._prependTokens,this._tokens,a.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,a.endState},e.prototype.finalize=function(t){return new Tn(e._merge(this._prependTokens,this._tokens,null),t)},e}(),np=function(){function e(e,t,n,i){var o=this;this._modeService=e,this._standaloneThemeService=t,this._modeId=n,this._lexer=i,this._embeddedModes=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);var r=!1;this._tokenizationRegistryListener=Zu.onDidChange((function(e){if(!r){for(var t=!1,n=0,i=e.changedLanguages.length;n<i;n++){var s=e.changedLanguages[n];if(o._embeddedModes[s]){t=!0;break}}t&&(r=!0,Zu.fire([o._modeId]),r=!1)}}))}return e.prototype.dispose=function(){this._tokenizationRegistryListener.dispose()},e.prototype.getLoadStatus=function(){var t=[];for(var n in this._embeddedModes){var i=Zu.get(n);if(i){if(i instanceof e){var o=i.getLoadStatus();!1===o.loaded&&t.push(o.promise)}}else{var r=Zu.getPromise(n);r&&t.push(r)}}return 0===t.length?{loaded:!0}:{loaded:!1,promise:Promise.all(t).then((function(e){}))}},e.prototype.getInitialState=function(){var e=Yd.create(null,this._lexer.start);return Jd.create(e,null)},e.prototype.tokenize=function(e,t,n){var i=new ep,o=this._tokenize(e,t,n,i);return i.finalize(o)},e.prototype.tokenize2=function(e,t,n){var i=new tp(this._modeService,this._standaloneThemeService.getTheme().tokenTheme),o=this._tokenize(e,t,n,i);return i.finalize(o)},e.prototype._tokenize=function(e,t,n,i){return t.embeddedModeData?this._nestedTokenize(e,t,n,i):this._myTokenize(e,t,n,i)},e.prototype._findLeavingNestedModeOffset=function(e,t){var n=this._lexer.tokenizer[t.stack.state];if(!n&&(n=Gd(this._lexer,t.stack.state),!n))throw zd(this._lexer,"tokenizer state is not defined: "+t.stack.state);for(var i=-1,o=!1,r=0,s=n;r<s.length;r++){var a=s[r];if(Vd(a.action)&&"@pop"===a.action.nextEmbedded){o=!0;var l=a.regex,u=a.regex.source;"^(?:"===u.substr(0,4)&&")"===u.substr(u.length-1,1)&&(l=new RegExp(u.substr(4,u.length-5),l.ignoreCase?"i":""));var c=e.search(l);-1===c||0!==c&&a.matchOnlyAtLineStart||(-1===i||c<i)&&(i=c)}}if(!o)throw zd(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+t.stack.state);return i},e.prototype._nestedTokenize=function(e,t,n,i){var o=this._findLeavingNestedModeOffset(e,t);if(-1===o){var r=i.nestedModeTokenize(e,t.embeddedModeData,n);return Jd.create(t.stack,new Zd(t.embeddedModeData.modeId,r))}var s=e.substring(0,o);s.length>0&&i.nestedModeTokenize(s,t.embeddedModeData,n);var a=e.substring(o);return this._myTokenize(a,t,n+o,i)},e.prototype._safeRuleName=function(e){return e?e.name:"(unknown)"},e.prototype._myTokenize=function(e,t,n,i){i.enterMode(n,this._modeId);var o=e.length,r=t.embeddedModeData,s=t.stack,a=0,l=null,u=!0;while(u||a<o){var c=a,h=s.depth,d=l?l.groups.length:0,p=s.state,f=null,g=null,m=null,_=null,v=null;if(l){f=l.matches;var y=l.groups.shift();g=y.matched,m=y.action,_=l.rule,0===l.groups.length&&(l=null)}else{if(!u&&a>=o)break;u=!1;var b=this._lexer.tokenizer[p];if(!b&&(b=Gd(this._lexer,p),!b))throw zd(this._lexer,"tokenizer state is not defined: "+p);for(var w=e.substr(a),C=0,S=b;C<S.length;C++){var E=S[C];if((0===a||!E.matchOnlyAtLineStart)&&(f=w.match(E.regex),f)){g=f[0],m=E.action;break}}}if(f||(f=[""],g=""),m||(a<o&&(f=[e.charAt(a)],g=f[0]),m=this._lexer.defaultToken),null===g)break;a+=g.length;while(Fd(m)&&Vd(m)&&m.test)m=m.test(g,f,p,a===o);var T=null;if("string"===typeof m||Array.isArray(m))T=m;else if(m.group)T=m.group;else if(null!==m.token&&void 0!==m.token){if(T=m.tokenSubst?jd(this._lexer,m.token,g,f,p):m.token,m.nextEmbedded)if("@pop"===m.nextEmbedded){if(!r)throw zd(this._lexer,"cannot pop embedded mode if not inside one");r=null}else{if(r)throw zd(this._lexer,"cannot enter embedded mode from within an embedded mode");v=jd(this._lexer,m.nextEmbedded,g,f,p)}if(m.goBack&&(a=Math.max(0,a-m.goBack)),m.switchTo&&"string"===typeof m.switchTo){var k=jd(this._lexer,m.switchTo,g,f,p);if("@"===k[0]&&(k=k.substr(1)),!Gd(this._lexer,k))throw zd(this._lexer,"trying to switch to a state '"+k+"' that is undefined in rule: "+this._safeRuleName(_));s=s.switchTo(k)}else{if(m.transform&&"function"===typeof m.transform)throw zd(this._lexer,"action.transform not supported");if(m.next)if("@push"===m.next){if(s.depth>=this._lexer.maxStack)throw zd(this._lexer,"maximum tokenizer stack size reached: ["+s.state+","+s.parent.state+",...]");s=s.push(p)}else if("@pop"===m.next){if(s.depth<=1)throw zd(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(_));s=s.pop()}else if("@popall"===m.next)s=s.popall();else{k=jd(this._lexer,m.next,g,f,p);if("@"===k[0]&&(k=k.substr(1)),!Gd(this._lexer,k))throw zd(this._lexer,"trying to set a next state '"+k+"' that is undefined in rule: "+this._safeRuleName(_));s=s.push(k)}}m.log&&"string"===typeof m.log&&Ud(this._lexer,this._lexer.languageId+": "+jd(this._lexer,m.log,g,f,p))}if(null===T)throw zd(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(_));if(Array.isArray(T)){if(l&&l.groups.length>0)throw zd(this._lexer,"groups cannot be nested: "+this._safeRuleName(_));if(f.length!==T.length+1)throw zd(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(_));for(var x=0,L=1;L<f.length;L++)x+=f[L].length;if(x!==g.length)throw zd(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(_));l={rule:_,matches:f,groups:[]};for(L=0;L<T.length;L++)l.groups[L]={action:T[L],matched:f[L+1]};a-=g.length}else{if("@rematch"===T&&(a-=g.length,g="",f=null,T=""),0===g.length){if(0===o||h!==s.depth||p!==s.state||(l?l.groups.length:0)!==d)continue;throw zd(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(_))}var I=null;if(Bd(T)&&0===T.indexOf("@brackets")){var O=T.substr("@brackets".length),D=ip(this._lexer,g);if(!D)throw zd(this._lexer,"@brackets token returned but no bracket defined as: "+g);I=Wd(D.token+O)}else{var N=""===T?"":T+this._lexer.tokenPostfix;I=Wd(N)}if(i.emit(c+n,I),null!==v){var R=this._modeService.getModeIdForLanguageName(v);R&&(v=R);var A=this._getNestedEmbeddedModeData(v);if(a<o){w=e.substr(a);return this._nestedTokenize(w,Jd.create(s,A),n+a,i)}return Jd.create(s,A)}}}return Jd.create(s,r)},e.prototype._getNestedEmbeddedModeData=function(e){var t=this._locateMode(e);if(t){var n=Zu.get(t);if(n)return new Zd(t,n.getInitialState())}return new Zd(t||ec,Qu)},e.prototype._locateMode=function(e){if(!e||!this._modeService.isRegisteredMode(e))return null;if(e===this._modeId)return e;var t=this._modeService.getModeId(e);return t&&(this._modeService.triggerMode(t),this._embeddedModes[t]=!0),t},e}();function ip(e,t){if(!t)return null;t=$d(e,t);for(var n=e.brackets,i=0,o=n;i<o.length;i++){var r=o[i];if(r.open===t)return{token:r.token,bracketType:1};if(r.close===t)return{token:r.token,bracketType:-1}}return null}function op(e,t,n,i){return new np(e,t,n,i)}var rp,sp=function(){function e(){}return e.colorizeElement=function(e,t,n,i){i=i||{};var o=i.theme||"vs",r=i.mimeType||n.getAttribute("lang")||n.getAttribute("data-lang");if(!r)return console.error("Mode not detected"),Promise.resolve();e.setTheme(o);var s=n.firstChild?n.firstChild.nodeValue:"";n.className+=" "+o;var a=function(e){n.innerHTML=e};return this.colorize(t,s||"",r,i).then(a,(function(e){return console.error(e)}))},e.colorize=function(e,t,n,i){var o=4;i&&"number"===typeof i.tabSize&&(o=i.tabSize),bs(t)&&(t=t.substr(1));var r=t.split(/\r\n|\r|\n/),s=e.getModeId(n);if(!s)return Promise.resolve(lp(r,o));e.triggerMode(s);var a=Zu.get(s);if(a)return ap(r,o,a);var l=Zu.getPromise(s);return new Promise(l?function(e,t){l.then((function(n){ap(r,o,n).then(e,t)}),t)}:function(e,t){var n=null,i=null,a=function(){n&&(n.dispose(),n=null),i&&(i.dispose(),i=null);var a=Zu.get(s);a?ap(r,o,a).then(e,t):e(lp(r,o))};i=new Ei,i.cancelAndSet(a,500),n=Zu.onDidChange((function(e){e.changedLanguages.indexOf(s)>=0&&a()}))})},e.colorizeLine=function(e,t,n,i,o){void 0===o&&(o=4);var r=Rd.isBasicASCII(e,t),s=Rd.containsRTL(e,r,n),a=Cd(new _d(!1,!0,e,!1,r,s,0,i,[],o,0,0,0,-1,"none",!1,!1,null));return a.html},e.colorizeModelLine=function(e,t,n){void 0===n&&(n=4);var i=e.getLineContent(t);e.forceTokenization(t);var o=e.getLineTokens(t),r=o.inflate();return this.colorizeLine(i,e.mightContainNonBasicASCII(),e.mightContainRTL(),r,n)},e}();function ap(e,t,n){return new Promise((function(i,o){var r=function(){var s=up(e,t,n);if(n instanceof np){var a=n.getLoadStatus();if(!1===a.loaded)return void a.promise.then(r,o)}i(s)};r()}))}function lp(e,t){var n=[],i=16793600,o=new Uint32Array(2);o[0]=0,o[1]=i;for(var r=0,s=e.length;r<s;r++){var a=e[r];o[0]=a.length;var l=new ad(o,a),u=Rd.isBasicASCII(a,!0),c=Rd.containsRTL(a,u,!0),h=Cd(new _d(!1,!0,a,!1,u,c,0,l,[],t,0,0,0,-1,"none",!1,!1,null));n=n.concat(h.html),n.push("<br/>")}return n.join("")}function up(e,t,n){for(var i=[],o=n.getInitialState(),r=0,s=e.length;r<s;r++){var a=e[r],l=n.tokenize2(a,o,0);ad.convertToEndOffset(l.tokens,a.length);var u=new ad(l.tokens,a),c=Rd.isBasicASCII(a,!0),h=Rd.containsRTL(a,c,!0),d=Cd(new _d(!1,!0,a,!1,c,h,0,u.inflate(),[],t,0,0,0,-1,"none",!1,!1,null));i=i.concat(d.html),i.push("<br/>"),o=l.endState}return i.join("")}(function(e){e[e["Ignore"]=0]="Ignore",e[e["Info"]=1]="Info",e[e["Warning"]=2]="Warning",e[e["Error"]=3]="Error"})(rp||(rp={})),function(e){var t="error",n="warning",i="warn",o="info",s=Object.create(null);function a(r){return r?Qr(t,r)?e.Error:Qr(n,r)||Qr(i,r)?e.Warning:Qr(o,r)?e.Info:e.Ignore:e.Ignore}s[e.Error]=r("sev.error","Error"),s[e.Warning]=r("sev.warning","Warning"),s[e.Info]=r("sev.info","Info"),e.fromValue=a}(rp||(rp={}));var cp=rp;function hp(e){return!(!e||"function"!==typeof e.getEditorType)&&e.getEditorType()===Dl.ICodeEditor}var dp=function(){function e(){this.data=new Map}return e.prototype.add=function(e,t){ul(ya(e)),ul(ba(t)),ul(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,t)},e.prototype.as=function(e){return this.data.get(e)||null},e}(),pp=new dp,fp={JSONContribution:"base.contributions.json"};function gp(e){return e.length>0&&"#"===e.charAt(e.length-1)?e.substring(0,e.length-1):e}var mp=function(){function e(){this._onDidChangeSchema=new Ze,this.schemasById={}}return e.prototype.registerSchema=function(e,t){this.schemasById[gp(e)]=t,this._onDidChangeSchema.fire(e)},e.prototype.notifySchemaChanged=function(e){this._onDidChangeSchema.fire(e)},e}(),_p=new mp;pp.add(fp.JSONContribution,_p);var vp={Configuration:"base.contributions.configuration"},yp={properties:{},patternProperties:{}},bp={properties:{},patternProperties:{}},wp={properties:{},patternProperties:{}},Cp={properties:{},patternProperties:{}},Sp={properties:{},patternProperties:{}},Ep={properties:{},patternProperties:{}},Tp="vscode://schemas/settings/resourceLanguage",kp=pp.as(fp.JSONContribution),xp=function(){function e(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new Ze,this._onDidUpdateConfiguration=new Ze,this.defaultOverridesConfigurationNode={id:"defaultOverrides",title:r("defaultConfigurations.title","Default Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultOverridesConfigurationNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},kp.registerSchema(Tp,this.resourceLanguageSettingsSchema)}return e.prototype.registerConfiguration=function(e,t){void 0===t&&(t=!0),this.registerConfigurations([e],t)},e.prototype.registerConfigurations=function(e,t){var n=this;void 0===t&&(t=!0);var i=[];e.forEach((function(e){i.push.apply(i,n.validateAndRegisterProperties(e,t)),n.configurationContributors.push(e),n.registerJSONConfiguration(e)})),kp.registerSchema(Tp,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)},e.prototype.registerOverrideIdentifiers=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];this.overrideIdentifiers.add(i)}this.updateOverridePropertyPatternKey()},e.prototype.validateAndRegisterProperties=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=3),n=Ea(e.scope)?n:e.scope;var i=[],o=e.properties;if(o)for(var r in o)if(t&&Np(r))delete o[r];else{var s=o[r],a=s.default;Sa(a)&&(s.default=Op(s.type)),Ip.test(r)?s.scope=void 0:s.scope=Ea(s.scope)?n:s.scope,!o[r].hasOwnProperty("included")||o[r].included?(this.configurationProperties[r]=o[r],i.push(r)):(this.excludedConfigurationProperties[r]=o[r],delete o[r])}var l=e.allOf;if(l)for(var u=0,c=l;u<c.length;u++){var h=c[u];i.push.apply(i,this.validateAndRegisterProperties(h,t,n))}return i},e.prototype.getConfigurationProperties=function(){return this.configurationProperties},e.prototype.registerJSONConfiguration=function(e){var t=this,n=function(e){var i=e.properties;if(i)for(var o in i)switch(yp.properties[o]=i[o],i[o].scope){case 1:bp.properties[o]=i[o];break;case 2:wp.properties[o]=i[o];break;case 6:Cp.properties[o]=i[o];break;case 3:Sp.properties[o]=i[o];break;case 4:Ep.properties[o]=i[o];break;case 5:Ep.properties[o]=i[o],t.resourceLanguageSettingsSchema.properties[o]=i[o];break}var r=e.allOf;r&&r.forEach(n)};n(e)},e.prototype.updateOverridePropertyPatternKey=function(){for(var e,t=0,n=Fa(this.overrideIdentifiers);t<n.length;t++){var i=n[t],o="["+i+"]",s={type:"object",description:r("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:r("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Tp,default:null===(e=this.defaultOverridesConfigurationNode.properties[o])||void 0===e?void 0:e.default};yp.properties[o]=s,bp.properties[o]=s,wp.properties[o]=s,Cp.properties[o]=s,Sp.properties[o]=s,Ep.properties[o]=s}this._onDidSchemaChange.fire()},e}(),Lp="\\[.*\\]$",Ip=new RegExp(Lp);function Op(e){var t=Array.isArray(e)?e[0]:e;switch(t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}var Dp=new xp;function Np(e){return Ip.test(e)?r("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==Dp.getConfigurationProperties()[e]?r("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null}pp.add(vp.Configuration,Dp);var Rp=Object.prototype.hasOwnProperty;function Ap(e){var t=[];for(var n in e)Rp.call(e,n)&&t.push(e[n]);return t}function Mp(e){for(var t in e)if(Rp.call(e,t))return e[t]}function Pp(e,t){var n=function(n){if(Rp.call(e,n)){var i=t({key:n,value:e[n]},(function(){delete e[n]}));if(!1===i)return{value:void 0}}};for(var i in e){var o=n(i);if("object"===typeof o)return o.value}}var Fp=function(){function e(){this.map=new Map}return e.prototype.add=function(e,t){var n=this.map.get(e);n||(n=new Set,this.map.set(e,n)),n.add(t)},e.prototype.delete=function(e,t){var n=this.map.get(e);n&&(n.delete(t),0===n.size&&this.map.delete(e))},e.prototype.forEach=function(e,t){var n=this.map.get(e);n&&n.forEach(t)},e}(),Bp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Vp=function(){return Vp=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Vp.apply(this,arguments)},Hp=new(function(){function e(){this._tabFocus=!1,this._onDidChangeTabFocus=new Ze,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}return e.prototype.getTabFocusMode=function(){return this._tabFocus},e.prototype.setTabFocusMode=function(e){this._tabFocus!==e&&(this._tabFocus=e,this._onDidChangeTabFocus.fire(this._tabFocus))},e}()),$p=Object.hasOwnProperty,Wp=function(){function e(){this._values=[]}return e.prototype._read=function(e){return this._values[e]},e.prototype.get=function(e){return this._values[e]},e.prototype._write=function(e,t){this._values[e]=t},e}(),Up=function(){function e(){this._values=[]}return e.prototype._read=function(e){return this._values[e]},e.prototype._write=function(e,t){this._values[e]=t},e}(),zp=function(){function e(){}return e.readOptions=function(e){for(var t=e,n=new Up,i=0,o=ce;i<o.length;i++){var r=o[i],s="_never_"===r.name?void 0:t[r.name];n._write(r.id,s)}return n},e.validateOptions=function(e){for(var t=new v,n=0,i=ce;n<i.length;n++){var o=i[n];t._write(o.id,o.validate(e._read(o.id)))}return t},e.computeOptions=function(e,t){for(var n=new Wp,i=0,o=ce;i<o.length;i++){var r=o[i];n._write(r.id,r.compute(t,n,e._read(r.id)))}return n},e._deepEquals=function(t,n){if("object"!==typeof t||"object"!==typeof n)return t===n;if(Array.isArray(t)||Array.isArray(n))return!(!Array.isArray(t)||!Array.isArray(n))&&Di(t,n);for(var i in t)if(!e._deepEquals(t[i],n[i]))return!1;return!0},e.checkEquals=function(t,n){for(var i=[],o=!1,r=0,s=ce;r<s.length;r++){var a=s[r],l=!e._deepEquals(t._read(a.id),n._read(a.id));i[a.id]=l,l&&(o=!0)}return o?new _(i):null},e}();function jp(e){var t=e.wordWrap;!0===t?e.wordWrap="on":!1===t&&(e.wordWrap="off");var n=e.lineNumbers;!0===n?e.lineNumbers="on":!1===n&&(e.lineNumbers="off");var i=e.autoClosingBrackets;!1===i&&(e.autoClosingBrackets="never",e.autoClosingQuotes="never",e.autoSurround="never");var o=e.cursorBlinking;"visible"===o&&(e.cursorBlinking="solid");var r=e.renderWhitespace;!0===r?e.renderWhitespace="boundary":!1===r&&(e.renderWhitespace="none");var s=e.renderLineHighlight;!0===s?e.renderLineHighlight="line":!1===s&&(e.renderLineHighlight="none");var a=e.acceptSuggestionOnEnter;!0===a?e.acceptSuggestionOnEnter="on":!1===a&&(e.acceptSuggestionOnEnter="off");var l=e.tabCompletion;!1===l?e.tabCompletion="off":!0===l&&(e.tabCompletion="onlySnippets");var u=e.suggest;if(u&&"object"===typeof u.filteredTypes&&u.filteredTypes){var c={method:"showMethods",function:"showFunctions",constructor:"showConstructors",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};Pp(c,(function(e){var t=u.filteredTypes[e.key];!1===t&&(u[e.value]=t)}))}var h=e.hover;!0===h?e.hover={enabled:!0}:!1===h&&(e.hover={enabled:!1});var d=e.parameterHints;!0===d?e.parameterHints={enabled:!0}:!1===d&&(e.parameterHints={enabled:!1});var p=e.autoIndent;!0===p?e.autoIndent="full":!1===p&&(e.autoIndent="advanced");var f=e.matchBrackets;!0===f?e.matchBrackets="always":!1===f&&(e.matchBrackets="never")}function Gp(e){var t=cl(e);return jp(t),t}var Kp=function(e){function t(t,n){var i=e.call(this)||this;return i._onDidChange=i._register(new Ze),i.onDidChange=i._onDidChange.event,i.isSimpleWidget=t,i._isDominatedByLongLines=!1,i._lineNumbersDigitCount=1,i._rawOptions=Gp(n),i._readOptions=zp.readOptions(i._rawOptions),i._validatedOptions=zp.validateOptions(i._readOptions),i._register(Cl.onDidChangeZoomLevel((function(e){return i._recomputeOptions()}))),i._register(Hp.onDidChangeTabFocus((function(e){return i._recomputeOptions()}))),i}return Bp(t,e),t.prototype.observeReferenceElement=function(e){},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._recomputeOptions=function(){var e=this.options,t=this._computeInternalOptions();if(e){var n=zp.checkEquals(e,t);if(null===n)return;this.options=t,this._onDidChange.fire(n)}else this.options=t},t.prototype.getRawOptions=function(){return this._rawOptions},t.prototype._computeInternalOptions=function(){var e=this._getEnvConfiguration(),t=kl.createFromValidatedSettings(this._validatedOptions,e.zoomLevel,this.isSimpleWidget),n={outerWidth:e.outerWidth,outerHeight:e.outerHeight,fontInfo:this.readConfiguration(t),extraEditorClassName:e.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:e.emptySelectionClipboard,pixelRatio:e.pixelRatio,tabFocusMode:Hp.getTabFocusMode(),accessibilitySupport:e.accessibilitySupport};return zp.computeOptions(this._validatedOptions,n)},t._subsetEquals=function(e,t){for(var n in t)if($p.call(t,n)){var i=t[n],o=e[n];if(o===i)continue;if(Array.isArray(o)&&Array.isArray(i)){if(!Di(o,i))return!1;continue}if("object"===typeof o&&"object"===typeof i){if(!this._subsetEquals(o,i))return!1;continue}return!1}return!0},t.prototype.updateOptions=function(e){if("undefined"!==typeof e){var n=Gp(e);t._subsetEquals(this._rawOptions,n)||(this._rawOptions=gl(this._rawOptions,n||{}),this._readOptions=zp.readOptions(this._rawOptions),this._validatedOptions=zp.validateOptions(this._readOptions),this._recomputeOptions())}},t.prototype.setIsDominatedByLongLines=function(e){this._isDominatedByLongLines=e,this._recomputeOptions()},t.prototype.setMaxLineNumber=function(e){var n=t._digitCount(e);this._lineNumbersDigitCount!==n&&(this._lineNumbersDigitCount=n,this._recomputeOptions())},t._digitCount=function(e){var t=0;while(e)e=Math.floor(e/10),t++;return t||1},t}(Ae),qp=Object.freeze({id:"editor",order:5,type:"object",title:r("editorConfigurationTitle","Editor"),scope:5}),Yp=pp.as(vp.Configuration),Xp=Vp(Vp({},qp),{properties:{"editor.tabSize":{type:"number",default:ue.tabSize,minimum:1,markdownDescription:r("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:ue.insertSpaces,markdownDescription:r("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:ue.detectIndentation,markdownDescription:r("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:ue.trimAutoWhitespace,description:r("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:ue.largeFileOptimizations,description:r("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:r("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.semanticHighlighting.enabled":{type:"boolean",default:!1,description:r("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:r("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:r("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:r("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:r("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:r("ignoreTrimWhitespace","Controls whether the diff editor shows changes in leading or trailing whitespace as diffs.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:r("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")}}});function Zp(e){return"undefined"!==typeof e.type||"undefined"!==typeof e.anyOf}for(var Jp=0,Qp=ce;Jp<Qp.length;Jp++){var ef=Qp[Jp],tf=ef.schema;if("undefined"!==typeof tf)if(Zp(tf))Xp.properties["editor."+ef.name]=tf;else for(var nf in tf)$p.call(tf,nf)&&(Xp.properties[nf]=tf[nf])}var of=null;function rf(){return null===of&&(of=Object.create(null),Object.keys(Xp.properties).forEach((function(e){of[e]=!0}))),of}function sf(e){var t=rf();return t["editor."+e]||!1}function af(e){var t=rf();return t["diffEditor."+e]||!1}Yp.registerConfiguration(Xp);var lf=function(){function e(){}return e.insert=function(e,t){return{range:new bn(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}},e.delete=function(e){return{range:e,text:null}},e.replace=function(e,t){return{range:e,text:t}},e.replaceMove=function(e,t){return{range:e,text:t,forceMoveMarkers:!0}},e}(),uf=Dn("configurationService");function cf(e,t){var n=Object.create(null);for(var i in e)hf(n,i,e[i],t);return n}function hf(e,t,n,i){for(var o=t.split("."),r=o.pop(),s=e,a=0;a<o.length;a++){var l=o[a],u=s[l];switch(typeof u){case"undefined":u=s[l]=Object.create(null);break;case"object":break;default:return void i("Ignoring "+t+" as "+o.slice(0,a+1).join(".")+" is "+JSON.stringify(u))}s=u}"object"===typeof s?s[r]=n:i("Ignoring "+t+" as "+o.join(".")+" is "+JSON.stringify(s))}function df(e,t){var n=t.split(".");pf(e,n)}function pf(e,t){var n=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(n)){var i=e[n];"object"!==typeof i||Array.isArray(i)||(pf(i,t),0===Object.keys(i).length&&delete e[n])}}else delete e[n]}function ff(e,t,n){function i(e,t){for(var n=e,i=0,o=t;i<o.length;i++){var r=o[i];if("object"!==typeof n||null===n)return;n=n[r]}return n}var o=t.split("."),r=i(e,o);return"undefined"===typeof r?n:r}function gf(){var e=pp.as(vp.Configuration).getConfigurationProperties();return Object.keys(e)}function mf(){var e=Object.create(null),t=pp.as(vp.Configuration).getConfigurationProperties();for(var n in t){var i=t[n].default;hf(e,n,i,(function(e){return console.error("Conflict in default settings: "+e)}))}return e}function _f(e){return e.substring(1,e.length-1)}function vf(e,t,n){var i=e.inspect(t),o=e.inspect(n);return"undefined"!==typeof i.userValue||"undefined"!==typeof i.workspaceValue||"undefined"!==typeof i.workspaceFolderValue?i.value:"undefined"!==typeof o.userValue||"undefined"!==typeof o.workspaceValue||"undefined"!==typeof o.workspaceFolderValue?o.value:i.defaultValue}var yf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bf=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},wf=function(){function e(e,t,n){void 0===e&&(e={}),void 0===t&&(t=[]),void 0===n&&(n=[]),this._contents=e,this._keys=t,this._overrides=n,this.isFrozen=!1}return Object.defineProperty(e.prototype,"contents",{get:function(){return this.checkAndFreeze(this._contents)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overrides",{get:function(){return this.checkAndFreeze(this._overrides)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keys",{get:function(){return this.checkAndFreeze(this._keys)},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length},e.prototype.getValue=function(e){return e?ff(this.contents,e):this.contents},e.prototype.getOverrideValue=function(e,t){var n=this.getContentsForOverrideIdentifer(t);return n?e?ff(n,e):n:void 0},e.prototype.override=function(t){var n=this.getContentsForOverrideIdentifer(t);if(!n||"object"!==typeof n||!Object.keys(n).length)return this;for(var i={},o=0,r=$i(bf(Object.keys(this.contents),Object.keys(n)));o<r.length;o++){var s=r[o],a=this.contents[s],l=n[s];l&&("object"===typeof a&&"object"===typeof l?(a=cl(a),this.mergeContents(a,l)):a=l),i[s]=a}return new e(i,this.keys,this.overrides)},e.prototype.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=cl(this.contents),o=cl(this.overrides),r=bf(this.keys),s=0,a=t;s<a.length;s++){var l=a[s];this.mergeContents(i,l.contents);for(var u=function(e){var t=o.filter((function(t){return Di(t.identifiers,e.identifiers)}))[0];t?c.mergeContents(t.contents,e.contents):o.push(cl(e))},c=this,h=0,d=l.overrides;h<d.length;h++){var p=d[h];u(p)}for(var f=0,g=l.keys;f<g.length;f++){var m=g[f];-1===r.indexOf(m)&&r.push(m)}}return new e(i,r,o)},e.prototype.freeze=function(){return this.isFrozen=!0,this},e.prototype.mergeContents=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var o=i[n];o in e&&ba(e[o])&&ba(t[o])?this.mergeContents(e[o],t[o]):e[o]=cl(t[o])}},e.prototype.checkAndFreeze=function(e){return this.isFrozen&&!Object.isFrozen(e)?hl(e):e},e.prototype.getContentsForOverrideIdentifer=function(e){for(var t=0,n=this.overrides;t<n.length;t++){var i=n[t];if(-1!==i.identifiers.indexOf(e))return i.contents}return null},e.prototype.toJSON=function(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}},e.prototype.setValue=function(e,t){this.addKey(e),hf(this.contents,e,t,(function(e){throw new Error(e)}))},e.prototype.removeValue=function(e){this.removeKey(e)&&df(this.contents,e)},e.prototype.addKey=function(e){for(var t=this.keys.length,n=0;n<t;n++)0===e.indexOf(this.keys[n])&&(t=n);this.keys.splice(t,1,e)},e.prototype.removeKey=function(e){var t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)},e}(),Cf=function(e){function t(){for(var t=this,n=mf(),i=gf(),o=[],r=0,s=Object.keys(n);r<s.length;r++){var a=s[r];Ip.test(a)&&o.push({identifiers:[_f(a).trim()],keys:Object.keys(n[a]),contents:cf(n[a],(function(e){return console.error("Conflict in default settings file: "+e)}))})}return t=e.call(this,n,i,o)||this,t}return yf(t,e),t}(wf),Sf=function(){function e(e,t,n,i,o,r,s,a){void 0===n&&(n=new wf),void 0===i&&(i=new wf),void 0===o&&(o=new za),void 0===r&&(r=new wf),void 0===s&&(s=new za),void 0===a&&(a=!0),this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=n,this._workspaceConfiguration=i,this._folderConfigurations=o,this._memoryConfiguration=r,this._memoryConfigurationByResource=s,this._freeze=a,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new za,this._userConfiguration=null}return e.prototype.getValue=function(e,t,n){var i=this.getConsolidateConfigurationModel(t,n);return i.getValue(e)},e.prototype.updateValue=function(e,t,n){var i;void 0===n&&(n={}),n.resource?(i=this._memoryConfigurationByResource.get(n.resource),i||(i=new wf,this._memoryConfigurationByResource.set(n.resource,i))):i=this._memoryConfiguration,void 0===t?i.removeValue(e):i.setValue(e,t),n.resource||(this._workspaceConsolidatedConfiguration=null)},e.prototype.inspect=function(e,t,n){var i=this.getConsolidateConfigurationModel(t,n),o=this.getFolderConfigurationModelForResource(t.resource,n),r=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,s=t.overrideIdentifier?this._defaultConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._defaultConfiguration.freeze().getValue(e),a=t.overrideIdentifier?this.userConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.userConfiguration.freeze().getValue(e),l=t.overrideIdentifier?this.localUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.localUserConfiguration.freeze().getValue(e),u=t.overrideIdentifier?this.remoteUserConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this.remoteUserConfiguration.freeze().getValue(e),c=n?t.overrideIdentifier?this._workspaceConfiguration.freeze().override(t.overrideIdentifier).getValue(e):this._workspaceConfiguration.freeze().getValue(e):void 0,h=o?t.overrideIdentifier?o.freeze().override(t.overrideIdentifier).getValue(e):o.freeze().getValue(e):void 0,d=t.overrideIdentifier?r.override(t.overrideIdentifier).getValue(e):r.getValue(e),p=i.getValue(e),f=$i(Ki(i.overrides.map((function(e){return e.identifiers})))).filter((function(t){return void 0!==i.getOverrideValue(e,t)}));return{defaultValue:s,userValue:a,userLocalValue:l,userRemoteValue:u,workspaceValue:c,workspaceFolderValue:h,memoryValue:d,value:p,default:void 0!==s?{value:this._defaultConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,user:void 0!==a?{value:this.userConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userLocal:void 0!==l?{value:this.localUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,userRemote:void 0!==u?{value:this.remoteUserConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspace:void 0!==c?{value:this._workspaceConfiguration.freeze().getValue(e),override:t.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,workspaceFolder:void 0!==h?{value:null===o||void 0===o?void 0:o.freeze().getValue(e),override:t.overrideIdentifier?null===o||void 0===o?void 0:o.freeze().getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,memory:void 0!==d?{value:r.getValue(e),override:t.overrideIdentifier?r.getOverrideValue(e,t.overrideIdentifier):void 0}:void 0,overrideIdentifiers:f.length?f:void 0}},Object.defineProperty(e.prototype,"userConfiguration",{get:function(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"localUserConfiguration",{get:function(){return this._localUserConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"remoteUserConfiguration",{get:function(){return this._remoteUserConfiguration},enumerable:!0,configurable:!0}),e.prototype.getConsolidateConfigurationModel=function(e,t){var n=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?n.override(e.overrideIdentifier):n},e.prototype.getConsolidatedConfigurationModelForResource=function(e,t){var n=e.resource,i=this.getWorkspaceConsolidatedConfiguration();if(t&&n){var o=t.getFolder(n);o&&(i=this.getFolderConsolidatedConfiguration(o.uri)||i);var r=this._memoryConfigurationByResource.get(n);r&&(i=i.merge(r))}return i},e.prototype.getWorkspaceConsolidatedConfiguration=function(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration},e.prototype.getFolderConsolidatedConfiguration=function(e){var t=this._foldersConsolidatedConfigurations.get(e);if(!t){var n=this.getWorkspaceConsolidatedConfiguration(),i=this._folderConfigurations.get(e);i?(t=n.merge(i),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=n}return t},e.prototype.getFolderConfigurationModelForResource=function(e,t){if(t&&e){var n=t.getFolder(e);if(n)return this._folderConfigurations.get(n.uri)}},e}(),Ef=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Tf=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._contextKeyService=t,r._commandService=n,r._telemetryService=i,r._notificationService=o,r._onDidUpdateKeybindings=r._register(new Ze),r._currentChord=null,r._currentChordChecker=new Ti,r._currentChordStatusMessage=null,r}return Ef(t,e),Object.defineProperty(t.prototype,"onDidUpdateKeybindings",{get:function(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:$e.None},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getKeybindings=function(){return this._getResolver().getKeybindings()},t.prototype.lookupKeybinding=function(e){var t=this._getResolver().lookupPrimaryKeybinding(e);if(t)return t.resolvedKeybinding},t.prototype.softDispatch=function(e,t){var n=this.resolveKeyboardEvent(e);if(n.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;var i=n.getDispatchParts()[0];if(null===i)return null;var o=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(o,r,i)},t.prototype._enterChordMode=function(e,t){var n=this;this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(r("first.chord","({0}) was pressed. Waiting for second key of chord...",t));var i=Date.now();this._currentChordChecker.cancelAndSet((function(){n._documentHasFocus()?Date.now()-i>5e3&&n._leaveChordMode():n._leaveChordMode()}),500)},t.prototype._leaveChordMode=function(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null},t.prototype._dispatch=function(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t)},t.prototype._doDispatch=function(e,t){var n=this,i=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;var o=e.getDispatchParts()[0];if(null===o)return i;var s=this._contextKeyService.getContext(t),a=this._currentChord?this._currentChord.keypress:null,l=e.getLabel(),u=this._getResolver().resolve(s,a,o);return u&&u.enterChord?(i=!0,this._enterChordMode(o,l),i):(this._currentChord&&(u&&u.commandId||(this._notificationService.status(r("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,l),{hideAfter:1e4}),i=!0)),this._leaveChordMode(),u&&u.commandId&&(u.bubble||(i=!0),"undefined"===typeof u.commandArgs?this._commandService.executeCommand(u.commandId).then(void 0,(function(e){return n._notificationService.warn(e)})):this._commandService.executeCommand(u.commandId,u.commandArgs).then(void 0,(function(e){return n._notificationService.warn(e)})),this._telemetryService.publicLog2("workbenchActionExecuted",{id:u.commandId,from:"keybinding"})),i)},t.prototype.mightProducePrintableCharacter=function(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)},t}(Ae),kf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xf=function(){function e(){}return e.has=function(e){return If.create(e)},e.equals=function(e,t){return Of.create(e,t)},e.regex=function(e,t){return Rf.create(e,t)},e.not=function(e){return Nf.create(e)},e.and=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Mf.create(e)},e.or=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pf.create(e)},e.deserialize=function(e,t){if(void 0===t&&(t=!1),e)return this._deserializeOrExpression(e,t)},e._deserializeOrExpression=function(e,t){var n=this,i=e.split("||");return Pf.create(i.map((function(e){return n._deserializeAndExpression(e,t)})))},e._deserializeAndExpression=function(e,t){var n=this,i=e.split("&&");return Mf.create(i.map((function(e){return n._deserializeOne(e,t)})))},e._deserializeOne=function(e,t){if(e=e.trim(),e.indexOf("!=")>=0){var n=e.split("!=");return Df.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("==")>=0){n=e.split("==");return Of.create(n[0].trim(),this._deserializeValue(n[1],t))}if(e.indexOf("=~")>=0){n=e.split("=~");return Rf.create(n[0].trim(),this._deserializeRegexValue(n[1],t))}return/^\!\s*/.test(e)?Nf.create(e.substr(1).trim()):If.create(e)},e._deserializeValue=function(e,t){if(e=e.trim(),"true"===e)return!0;if("false"===e)return!1;var n=/^'([^']*)'$/.exec(e);return n?n[1].trim():e},e._deserializeRegexValue=function(e,t){if(Or(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}var n=e.indexOf("/"),i=e.lastIndexOf("/");if(n===i||n<0){if(t)throw new Error("bad regexp-value '"+e+"', missing /-enclosure");return console.warn("bad regexp-value '"+e+"', missing /-enclosure"),null}var o=e.slice(n+1,i),r="i"===e[i+1]?"i":"";try{return new RegExp(o,r)}catch(s){if(t)throw new Error("bad regexp-value '"+e+"', parse error: "+s);return console.warn("bad regexp-value '"+e+"', parse error: "+s),null}},e}();function Lf(e,t){var n=e.getType(),i=t.getType();if(n!==i)return n-i;switch(n){case 1:return e.cmp(t);case 2:return e.cmp(t);case 3:return e.cmp(t);case 4:return e.cmp(t);case 6:return e.cmp(t);case 7:return e.cmp(t);case 5:return e.cmp(t);default:throw new Error("Unknown ContextKeyExpr!")}}var If=function(){function e(e){this.key=e}return e.create=function(t){return new e(t)},e.prototype.getType=function(){return 1},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!!e.getValue(this.key)},e.prototype.keys=function(){return[this.key]},e.prototype.negate=function(){return Nf.create(this.key)},e}(),Of=function(){function e(e,t){this.key=e,this.value=t}return e.create=function(t,n){return"boolean"===typeof n?n?If.create(t):Nf.create(t):new e(t,n)},e.prototype.getType=function(){return 3},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e.getValue(this.key)==this.value},e.prototype.keys=function(){return[this.key]},e.prototype.negate=function(){return Df.create(this.key,this.value)},e}(),Df=function(){function e(e,t){this.key=e,this.value=t}return e.create=function(t,n){return"boolean"===typeof n?n?Nf.create(t):If.create(t):new e(t,n)},e.prototype.getType=function(){return 4},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:this.value<e.value?-1:this.value>e.value?1:0},e.prototype.equals=function(t){return t instanceof e&&(this.key===t.key&&this.value===t.value)},e.prototype.evaluate=function(e){return e.getValue(this.key)!=this.value},e.prototype.keys=function(){return[this.key]},e.prototype.negate=function(){return Of.create(this.key,this.value)},e}(),Nf=function(){function e(e){this.key=e}return e.create=function(t){return new e(t)},e.prototype.getType=function(){return 2},e.prototype.cmp=function(e){return this.key<e.key?-1:this.key>e.key?1:0},e.prototype.equals=function(t){return t instanceof e&&this.key===t.key},e.prototype.evaluate=function(e){return!e.getValue(this.key)},e.prototype.keys=function(){return[this.key]},e.prototype.negate=function(){return If.create(this.key)},e}(),Rf=function(){function e(e,t){this.key=e,this.regexp=t}return e.create=function(t,n){return new e(t,n)},e.prototype.getType=function(){return 6},e.prototype.cmp=function(e){if(this.key<e.key)return-1;if(this.key>e.key)return 1;var t=this.regexp?this.regexp.source:"",n=e.regexp?e.regexp.source:"";return t<n?-1:t>n?1:0},e.prototype.equals=function(t){if(t instanceof e){var n=this.regexp?this.regexp.source:"",i=t.regexp?t.regexp.source:"";return this.key===t.key&&n===i}return!1},e.prototype.evaluate=function(e){var t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)},e.prototype.keys=function(){return[this.key]},e.prototype.negate=function(){return Af.create(this)},e}(),Af=function(){function e(e){this._actual=e}return e.create=function(t){return new e(t)},e.prototype.getType=function(){return 7},e.prototype.cmp=function(e){return this._actual.cmp(e._actual)},e.prototype.equals=function(t){return t instanceof e&&this._actual.equals(t._actual)},e.prototype.evaluate=function(e){return!this._actual.evaluate(e)},e.prototype.keys=function(){return this._actual.keys()},e.prototype.negate=function(){return this._actual},e}(),Mf=function(){function e(e){this.expr=e}return e.create=function(t){var n=e._normalizeArr(t);if(0!==n.length)return 1===n.length?n[0]:new e(n)},e.prototype.getType=function(){return 5},e.prototype.cmp=function(e){if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(var t=0,n=this.expr.length;t<n;t++){var i=Lf(this.expr[t],e.expr[t]);if(0!==i)return i}return 0},e.prototype.equals=function(t){if(t instanceof e){if(this.expr.length!==t.expr.length)return!1;for(var n=0,i=this.expr.length;n<i;n++)if(!this.expr[n].equals(t.expr[n]))return!1;return!0}return!1},e.prototype.evaluate=function(e){for(var t=0,n=this.expr.length;t<n;t++)if(!this.expr[t].evaluate(e))return!1;return!0},e._normalizeArr=function(t){var n=[];if(t){for(var i=0,o=t.length;i<o;i++){var r=t[i];if(r)if(r instanceof e)n=n.concat(r.expr);else{if(r instanceof Pf)throw new Error('It is not allowed to have an or expression here due to lack of parens! For example "a && (b||c)" is not supported, use "(a&&b) || (a&&c)" instead.');n.push(r)}}n.sort(Lf)}return n},e.prototype.keys=function(){for(var e=[],t=0,n=this.expr;t<n.length;t++){var i=n[t];e.push.apply(e,i.keys())}return e},e.prototype.negate=function(){for(var e=[],t=0,n=this.expr;t<n.length;t++){var i=n[t];e.push(i.negate())}return Pf.create(e)},e}(),Pf=function(){function e(e){this.expr=e}return e.create=function(t){var n=e._normalizeArr(t);if(0!==n.length)return 1===n.length?n[0]:new e(n)},e.prototype.getType=function(){return 8},e.prototype.equals=function(t){if(t instanceof e){if(this.expr.length!==t.expr.length)return!1;for(var n=0,i=this.expr.length;n<i;n++)if(!this.expr[n].equals(t.expr[n]))return!1;return!0}return!1},e.prototype.evaluate=function(e){for(var t=0,n=this.expr.length;t<n;t++)if(this.expr[t].evaluate(e))return!0;return!1},e._normalizeArr=function(t){var n=[];if(t){for(var i=0,o=t.length;i<o;i++){var r=t[i];r&&(r instanceof e?n=n.concat(r.expr):n.push(r))}n.sort(Lf)}return n},e.prototype.keys=function(){for(var e=[],t=0,n=this.expr;t<n.length;t++){var i=n[t];e.push.apply(e,i.keys())}return e},e.prototype.negate=function(){for(var t=[],n=0,i=this.expr;n<i.length;n++){var o=i[n];t.push(o.negate())}var r=function(t){return t instanceof e?t.expr:[t]};while(t.length>1){for(var s=t.shift(),a=t.shift(),l=[],u=0,c=r(s);u<c.length;u++)for(var h=c[u],d=0,p=r(a);d<p.length;d++){var f=p[d];l.push(xf.and(h,f))}t.unshift(xf.or.apply(xf,l))}return t[0]},e}(),Ff=function(e){function t(t,n){var i=e.call(this,t)||this;return i._defaultValue=n,i}return kf(t,e),t.prototype.bindTo=function(e){return e.createKey(this.key,this._defaultValue)},t.prototype.getValue=function(e){return e.getContextKeyValue(this.key)},t.prototype.toNegated=function(){return xf.not(this.key)},t}(If),Bf=Dn("contextKeyService"),Vf="setContext",Hf=function(){function e(t,n){this._defaultKeybindings=t,this._defaultBoundCommands=new Map;for(var i=0,o=t.length;i<o;i++){var r=t[i].command;r&&this._defaultBoundCommands.set(r,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=e.combine(t,n);for(i=0,o=this._keybindings.length;i<o;i++){var s=this._keybindings[i];0!==s.keypressParts.length&&this._addKeyPress(s.keypressParts[0],s)}}return e._isTargetedForRemoval=function(e,t,n,i,o){if(e.command!==i)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(n&&e.keypressParts[1]!==n)return!1;if(o){if(!e.when)return!1;if(!o.equals(e.when))return!1}return!0},e.combine=function(e,t){e=e.slice(0);for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i];if(r.command&&0!==r.command.length&&"-"===r.command.charAt(0))for(var s=r.command.substr(1),a=r.keypressParts[0],l=r.keypressParts[1],u=r.when,c=e.length-1;c>=0;c--)this._isTargetedForRemoval(e[c],a,l,s,u)&&e.splice(c,1);else n.push(r)}return e.concat(n)},e.prototype._addKeyPress=function(t,n){var i=this._map.get(t);if("undefined"===typeof i)return this._map.set(t,[n]),void this._addToLookupMap(n);for(var o=i.length-1;o>=0;o--){var r=i[o];if(r.command!==n.command){var s=r.keypressParts.length>1,a=n.keypressParts.length>1;s&&a&&r.keypressParts[1]!==n.keypressParts[1]||e.whenIsEntirelyIncluded(r.when,n.when)&&this._removeFromLookupMap(r)}}i.push(n),this._addToLookupMap(n)},e.prototype._addToLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);"undefined"===typeof t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}},e.prototype._removeFromLookupMap=function(e){if(e.command){var t=this._lookupMap.get(e.command);if("undefined"!==typeof t)for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return void t.splice(n,1)}},e.whenIsEntirelyIncluded=function(e,t){return!t||!!e&&this._implies(e,t)},e._implies=function(e,t){for(var n=e.negate(),i=function(e){return e instanceof Pf?e.expr:[e]},o=i(n).concat(i(t)),r=0;r<o.length;r++)for(var s=o[r],a=s.negate(),l=r+1;l<o.length;l++){var u=o[l];if(a.equals(u))return!0}return!1},e.prototype.getKeybindings=function(){return this._keybindings},e.prototype.lookupPrimaryKeybinding=function(e){var t=this._lookupMap.get(e);return"undefined"===typeof t||0===t.length?null:t[t.length-1]},e.prototype.resolve=function(e,t,n){var i=null;if(null!==t){var o=this._map.get(t);if("undefined"===typeof o)return null;i=[];for(var r=0,s=o.length;r<s;r++){var a=o[r];a.keypressParts[1]===n&&i.push(a)}}else{o=this._map.get(n);if("undefined"===typeof o)return null;i=o}var l=this._findCommand(e,i);return l?null===t&&l.keypressParts.length>1&&null!==l.keypressParts[1]?{enterChord:!0,commandId:null,commandArgs:null,bubble:!1}:{enterChord:!1,commandId:l.command,commandArgs:l.commandArgs,bubble:l.bubble}:null},e.prototype._findCommand=function(t,n){for(var i=n.length-1;i>=0;i--){var o=n[i];if(e.contextMatchesRules(t,o.when))return o}return null},e.contextMatchesRules=function(e,t){return!t||t.evaluate(e)},e}(),$f=function(){function e(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}return e.bindToCurrentPlatform=function(e){if(1===s["a"]){if(e&&e.win)return e.win}else if(2===s["a"]){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e},e.prototype.registerKeybindingRule=function(t){var n=e.bindToCurrentPlatform(t);if(n&&n.primary){var i=ht(n.primary,s["a"]);i&&this._registerDefaultKeybinding(i,t.id,t.args,t.weight,0,t.when)}if(n&&Array.isArray(n.secondary))for(var o=0,r=n.secondary.length;o<r;o++){var a=n.secondary[o];i=ht(a,s["a"]);i&&this._registerDefaultKeybinding(i,t.id,t.args,t.weight,-o-1,t.when)}},e.prototype.registerCommandAndKeybindingRule=function(e){this.registerKeybindingRule(e),Ya.registerCommand(e)},e._mightProduceChar=function(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))},e.prototype._assertNoCtrlAlt=function(t,n){t.ctrlKey&&t.altKey&&!t.metaKey&&e._mightProduceChar(t.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",t," for ",n)},e.prototype._registerDefaultKeybinding=function(e,t,n,i,o,r){1===s["a"]&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:n,when:r,weight1:i,weight2:o}),this._cachedMergedKeybindings=null},e.prototype.getDefaultKeybindings=function(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(zf)),this._cachedMergedKeybindings.slice(0)},e}(),Wf=new $f,Uf={EditorModes:"platform.keybindingsRegistry"};function zf(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}pp.add(Uf.EditorModes,Wf);var jf=function(){function e(e,t,n,i,o){this.resolvedKeybinding=e,this.keypressParts=e?Gf(e.getDispatchParts()):[],this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=n,this.when=i,this.isDefault=o}return e}();function Gf(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];if(!o)return t;t.push(o)}return t}var Kf=function(){function e(e,t,n){void 0===n&&(n=t),this.modifierLabels=[null],this.modifierLabels[2]=e,this.modifierLabels[1]=t,this.modifierLabels[3]=n}return e.prototype.toLabel=function(e,t,n){if(0===t.length)return null;for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=n(s);if(null===a)return null;i[o]=Xf(s,a,this.modifierLabels[e])}return i.join(" ")},e}(),qf=new Kf({ctrlKey:"⌃",shiftKey:"⇧",altKey:"⌥",metaKey:"⌘",separator:""},{ctrlKey:r({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:r({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:r({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:r({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:r({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:r({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:r({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:r({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),Yf=new Kf({ctrlKey:r({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:r({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:r({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:r({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:r({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:r({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:r({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:r({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:r({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:r({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:r({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:r({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});function Xf(e,t,n){if(null===t)return"";var i=[];return e.ctrlKey&&i.push(n.ctrlKey),e.shiftKey&&i.push(n.shiftKey),e.altKey&&i.push(n.altKey),e.metaKey&&i.push(n.metaKey),i.push(t),i.join(n.separator)}var Zf,Jf,Qf=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eg=function(e){function t(t,n){var i=e.call(this)||this;if(0===n.length)throw we("parts");return i._os=t,i._parts=n,i}return Qf(t,e),t.prototype.getLabel=function(){var e=this;return qf.toLabel(this._os,this._parts,(function(t){return e._getLabel(t)}))},t.prototype.getAriaLabel=function(){var e=this;return Yf.toLabel(this._os,this._parts,(function(t){return e._getAriaLabel(t)}))},t.prototype.isChord=function(){return this._parts.length>1},t.prototype.getParts=function(){var e=this;return this._parts.map((function(t){return e._getPart(t)}))},t.prototype._getPart=function(e){return new mt(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))},t.prototype.getDispatchParts=function(){var e=this;return this._parts.map((function(t){return e._getDispatchPart(t)}))},t}(_t),tg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ng=function(e){function t(t,n){return e.call(this,n,t.parts)||this}return tg(t,e),t.prototype._keyCodeToUILabel=function(e){if(2===this._os)switch(e){case 15:return"←";case 16:return"↑";case 17:return"→";case 18:return"↓"}return it.toString(e)},t.prototype._getLabel=function(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)},t.prototype._getAriaLabel=function(e){return e.isDuplicateModifierCase()?"":it.toString(e.keyCode)},t.prototype._getDispatchPart=function(e){return t.getDispatchStr(e)},t.getDispatchStr=function(e){if(e.isModifierKey())return null;var t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=it.toString(e.keyCode),t},t}(eg),ig=Dn("notificationService"),og=function(){function e(){}return e}(),rg=Dn("contextService");(function(e){function t(e){return e&&"object"===typeof e&&"string"===typeof e.id&&Array.isArray(e.folders)}e.isIWorkspace=t})(Zf||(Zf={})),function(e){function t(e){return e&&"object"===typeof e&&Lt.isUri(e.uri)&&"string"===typeof e.name&&"function"===typeof e.toResource}e.isIWorkspaceFolder=t}(Jf||(Jf={}));(function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=null),this._id=e,this._configuration=n,this._foldersMap=Ua.forPaths(),this.folders=t}Object.defineProperty(e.prototype,"folders",{get:function(){return this._folders},set:function(e){this._folders=e,this.updateFoldersMap()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"configuration",{get:function(){return this._configuration},set:function(e){this._configuration=e},enumerable:!0,configurable:!0}),e.prototype.getFolder=function(e){return e&&this._foldersMap.findSubstr(e.with({scheme:e.scheme,authority:e.authority,path:e.path}).toString())||null},e.prototype.updateFoldersMap=function(){this._foldersMap=Ua.forPaths();for(var e=0,t=this.folders;e<t.length;e++){var n=t[e];this._foldersMap.set(n.uri.toString(),n)}},e.prototype.toJSON=function(){return{id:this.id,folders:this.folders,configuration:this.configuration}}})();var sg,ag,lg,ug,cg,hg,dg,pg,fg=function(){function e(e,t){this.raw=t,this.uri=e.uri,this.index=e.index,this.name=e.name}return e.prototype.toResource=function(e){return pa(this.uri,e)},e.prototype.toJSON=function(){return{uri:this.uri,name:this.name,index:this.index}},e}();(function(e){e.noSelection=r("noSelection","No selection"),e.singleSelectionRange=r("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),e.singleSelection=r("singleSelection","Line {0}, Column {1}"),e.multiSelectionRange=r("multiSelectionRange","{0} selections ({1} characters selected)"),e.multiSelection=r("multiSelection","{0} selections"),e.emergencyConfOn=r("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),e.openingDocs=r("openingDocs","Now opening the Editor Accessibility documentation page."),e.readonlyDiffEditor=r("readonlyDiffEditor"," in a read-only pane of a diff editor."),e.editableDiffEditor=r("editableDiffEditor"," in a pane of a diff editor."),e.readonlyEditor=r("readonlyEditor"," in a read-only code editor"),e.editableEditor=r("editableEditor"," in a code editor"),e.changeConfigToOnMac=r("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),e.changeConfigToOnWinLinux=r("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),e.auto_on=r("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),e.auto_off=r("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),e.tabFocusModeOnMsg=r("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),e.tabFocusModeOnMsgNoKb=r("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),e.tabFocusModeOffMsg=r("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),e.tabFocusModeOffMsgNoKb=r("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),e.openDocMac=r("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),e.openDocWinLinux=r("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),e.outroMsg=r("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),e.showAccessibilityHelpAction=r("showAccessibilityHelpAction","Show Accessibility Help")})(sg||(sg={})),function(e){e.inspectTokensAction=r("inspectTokens","Developer: Inspect Tokens")}(ag||(ag={})),function(e){e.gotoLineLabelValidLineAndColumn=r("gotoLineLabelValidLineAndColumn","Go to line {0} and character {1}"),e.gotoLineLabelValidLine=r("gotoLineLabelValidLine","Go to line {0}"),e.gotoLineLabelEmptyWithLineLimit=r("gotoLineLabelEmptyWithLineLimit","Type a line number between 1 and {0} to navigate to"),e.gotoLineLabelEmptyWithLineAndColumnLimit=r("gotoLineLabelEmptyWithLineAndColumnLimit","Type a character between 1 and {0} to navigate to"),e.gotoLineAriaLabel=r("gotoLineAriaLabel","Current Line: {0}. Go to line {1}."),e.gotoLineActionInput=r("gotoLineActionInput","Type a line number, followed by an optional colon and a character number to navigate to"),e.gotoLineActionLabel=r("gotoLineActionLabel","Go to Line...")}(lg||(lg={})),function(e){e.ariaLabelEntryWithKey=r("ariaLabelEntryWithKey","{0}, {1}, commands"),e.ariaLabelEntry=r("ariaLabelEntry","{0}, commands"),e.quickCommandActionInput=r("quickCommandActionInput","Type the name of an action you want to execute"),e.quickCommandActionLabel=r("quickCommandActionLabel","Command Palette")}(ug||(ug={})),function(e){e.entryAriaLabel=r("entryAriaLabel","{0}, symbols"),e.quickOutlineActionInput=r("quickOutlineActionInput","Type the name of an identifier you wish to navigate to"),e.quickOutlineActionLabel=r("quickOutlineActionLabel","Go to Symbol..."),e._symbols_=r("symbols","symbols ({0})"),e._modules_=r("modules","modules ({0})"),e._class_=r("class","classes ({0})"),e._interface_=r("interface","interfaces ({0})"),e._method_=r("method","methods ({0})"),e._function_=r("function","functions ({0})"),e._property_=r("property","properties ({0})"),e._variable_=r("variable","variables ({0})"),e._variable2_=r("variable2","variables ({0})"),e._constructor_=r("_constructor","constructors ({0})"),e._call_=r("call","calls ({0})")}(cg||(cg={})),function(e){e.editorViewAccessibleLabel=r("editorViewAccessibleLabel","Editor content"),e.accessibilityHelpMessageIE=r("accessibilityHelpMessageIE","Press Ctrl+F1 for Accessibility Options."),e.accessibilityHelpMessage=r("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(hg||(hg={})),function(e){e.toggleHighContrast=r("toggleHighContrast","Toggle High Contrast Theme")}(dg||(dg={})),function(e){e.bulkEditServiceSummary=r("bulkEditServiceSummary","Made {0} edits in {1} files")}(pg||(pg={}));var gg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mg=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_g=function(e,t){return function(n,i){t(n,i,e)}},vg=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},yg=function(){function e(e){this.model=e,this._onDispose=new Ze}return Object.defineProperty(e.prototype,"textEditorModel",{get:function(){return this.model},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._onDispose.fire()},e}();function bg(e,t,n){return hp(e)?t(e):n(e)}var wg=function(){function e(e){this.modelService=e}return e.prototype.setEditor=function(e){this.editor=e},e.prototype.createModelReference=function(e){var t=this,n=null;return this.editor&&(n=bg(this.editor,(function(n){return t.findModel(n,e)}),(function(n){return t.findModel(n.getOriginalEditor(),e)||t.findModel(n.getModifiedEditor(),e)}))),n?Promise.resolve(new Pe(new yg(n))):Promise.reject(new Error("Model not found"))},e.prototype.findModel=function(e,t){var n=this.modelService?this.modelService.getModel(t):e.getModel();return n&&n.uri.toString()!==t.toString()?null:n},e}(),Cg=function(){function e(){}return e.prototype.show=function(){return e.NULL_PROGRESS_RUNNER},e.prototype.showWhile=function(e,t){return Promise.resolve(void 0)},e.NULL_PROGRESS_RUNNER={done:function(){},total:function(){},worked:function(){}},e}(),Sg=function(){function e(){}return e}(),Eg=function(){function e(){}return e.prototype.info=function(e){return this.notify({severity:cp.Info,message:e})},e.prototype.warn=function(e){return this.notify({severity:cp.Warning,message:e})},e.prototype.error=function(e){return this.notify({severity:cp.Error,message:e})},e.prototype.notify=function(t){switch(t.severity){case cp.Error:console.error(t.message);break;case cp.Warning:console.warn(t.message);break;default:console.log(t.message);break}return e.NO_OP},e.prototype.status=function(e,t){return Ae.None},e.NO_OP=new og,e}(),Tg=function(){function e(e){this._onWillExecuteCommand=new Ze,this._onDidExecuteCommand=new Ze,this._instantiationService=e,this._dynamicCommands=Object.create(null)}return e.prototype.addCommand=function(e){var t=this,n=e.id;return this._dynamicCommands[n]=e,De((function(){delete t._dynamicCommands[n]}))},e.prototype.executeCommand=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Ya.getCommand(e)||this._dynamicCommands[e];if(!i)return Promise.reject(new Error("command '"+e+"' not found"));try{this._onWillExecuteCommand.fire({commandId:e,args:t});var o=this._instantiationService.invokeFunction.apply(this._instantiationService,vg([i.handler],t));return this._onDidExecuteCommand.fire({commandId:e,args:t}),Promise.resolve(o)}catch(r){return Promise.reject(r)}},e}(),kg=function(e){function t(t,n,i,o,r){var s=e.call(this,t,n,i,o)||this;return s._cachedResolver=null,s._dynamicKeybindings=[],s._register(bo(r,ar.KEY_DOWN,(function(e){var t=new si(e),n=s._dispatch(t,t.target);n&&(t.preventDefault(),t.stopPropagation())}))),s}return gg(t,e),t.prototype.addDynamicKeybinding=function(e,t,n,i){var o=this,r=ht(t,s["a"]),a=new Re;r&&(this._dynamicKeybindings.push({keybinding:r,command:e,when:i,weight1:1e3,weight2:0}),a.add(De((function(){for(var t=0;t<o._dynamicKeybindings.length;t++){var n=o._dynamicKeybindings[t];if(n.command===e)return o._dynamicKeybindings.splice(t,1),void o.updateResolver({source:1})}}))));var l=this._commandService;if(!(l instanceof Tg))throw new Error("Unknown command service!");return a.add(l.addCommand({id:e,handler:n})),this.updateResolver({source:1}),a},t.prototype.updateResolver=function(e){this._cachedResolver=null,this._onDidUpdateKeybindings.fire(e)},t.prototype._getResolver=function(){if(!this._cachedResolver){var e=this._toNormalizedKeybindingItems(Wf.getDefaultKeybindings(),!0),t=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Hf(e,t)}return this._cachedResolver},t.prototype._documentHasFocus=function(){return document.hasFocus()},t.prototype._toNormalizedKeybindingItems=function(e,t){for(var n=[],i=0,o=0,r=e;o<r.length;o++){var s=r[o],a=s.when||void 0,l=s.keybinding;if(l)for(var u=this.resolveKeybinding(l),c=0,h=u;c<h.length;c++){var d=h[c];n[i++]=new jf(d,s.command,s.commandArgs,a,t)}else n[i++]=new jf(void 0,s.command,s.commandArgs,a,t)}return n},t.prototype.resolveKeybinding=function(e){return[new ng(e,s["a"])]},t.prototype.resolveKeyboardEvent=function(e){var t=new ft(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,e.keyCode).toChord();return new ng(t,s["a"])},t}(Tf);function xg(e){return e&&"object"===typeof e&&(!e.overrideIdentifier||"string"===typeof e.overrideIdentifier)&&(!e.resource||e.resource instanceof Lt)}var Lg=function(){function e(){this._onDidChangeConfiguration=new Ze,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Sf(new Cf,new wf)}return e.prototype.configuration=function(){return this._configuration},e.prototype.getValue=function(e,t){var n="string"===typeof e?e:void 0,i=xg(e)?e:xg(t)?t:{};return this.configuration().getValue(n,i,void 0)},e.prototype.updateValue=function(e,t,n,i){return this.configuration().updateValue(e,t),Promise.resolve()},e.prototype.inspect=function(e,t){return void 0===t&&(t={}),this.configuration().inspect(e,t,void 0)},e}(),Ig=function(){function e(e){var t=this;this.configurationService=e,this._onDidChangeConfiguration=new Ze,this.configurationService.onDidChangeConfiguration((function(e){t._onDidChangeConfiguration.fire({affectedKeys:e.affectedKeys,affectsConfiguration:function(t,n){return e.affectsConfiguration(n)}})}))}return e.prototype.getValue=function(e,t,n){var i=yn.isIPosition(t)?t:null,o=i?"string"===typeof n?n:void 0:"string"===typeof t?t:void 0;return"undefined"===typeof o?this.configurationService.getValue():this.configurationService.getValue(o)},e}(),Og=function(){function e(e){this.configurationService=e}return e.prototype.getEOL=function(e,t){var n=this.configurationService.getValue("files.eol",{overrideIdentifier:t,resource:e});return n&&"auto"!==n?n:s["d"]||s["e"]?"\n":"\r\n"},e=mg([_g(0,uf)],e),e}(),Dg=function(){function e(){}return e.prototype.publicLog=function(e,t){return Promise.resolve(void 0)},e.prototype.publicLog2=function(e,t){return this.publicLog(e,t)},e}(),Ng=function(){function e(){var t=Lt.from({scheme:e.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new fg({uri:t,name:"",index:0})]}}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getWorkspaceFolder=function(t){return t&&t.scheme===e.SCHEME?this.workspace.folders[0]:null},e.SCHEME="inmemory",e}();function Rg(e,t,n){t&&e instanceof Lg&&Object.keys(t).forEach((function(i){sf(i)&&e.updateValue("editor."+i,t[i]),n&&af(i)&&e.updateValue("diffEditor."+i,t[i])}))}var Ag,Mg,Pg,Fg=function(){function e(e){this._modelService=e}return e.prototype.hasPreviewHandler=function(){return!1},e.prototype.apply=function(e,t){var n=new Map;if(e.edits)for(var i=0,o=e.edits;i<o.length;i++){var r=o[i];if(!xu.is(r))return Promise.reject(new Error("bad edit - only text edits are supported"));var s=this._modelService.getModel(r.resource);if(!s)return Promise.reject(new Error("bad edit - model not found"));var a=n.get(s);a||(a=[],n.set(s,a)),a.push(r.edit)}var l=0,u=0;return n.forEach((function(e,t){t.pushStackElement(),t.pushEditOperations([],e.map((function(e){return lf.replaceMove(bn.lift(e.range),e.text)})),(function(){return[]})),t.pushStackElement(),u+=1,l+=e.length})),Promise.resolve({selection:void 0,ariaSummary:Rr(pg.bulkEditServiceSummary,l,u)})},e}(),Bg=function(){function e(){}return e.prototype.getUriLabel=function(e,t){return"file"===e.scheme?e.fsPath:e.path},e}(),Vg=function(){function e(e){this._container=e,this.onLayout=$e.None}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!0,configurable:!0}),e}();n("5029");function Hg(e){Ag=document.createElement("div"),Ag.className="monaco-aria-container",Mg=document.createElement("div"),Mg.className="monaco-alert",Mg.setAttribute("role","alert"),Mg.setAttribute("aria-atomic","true"),Ag.appendChild(Mg),Pg=document.createElement("div"),Pg.className="monaco-status",Pg.setAttribute("role","status"),Pg.setAttribute("aria-atomic","true"),Ag.appendChild(Pg),e.appendChild(Ag)}function $g(e,t){jg(Mg,e,t)}function Wg(e,t){s["e"]?$g(e,t):jg(Pg,e,t)}var Ug=0,zg=void 0;function jg(e,t,n){if(Ag){if(!n)switch(zg===t?Ug++:(zg=t,Ug=0),Ug){case 0:break;case 1:t=r("repeated","{0} (occurred again)",t);break;default:t=r("repeatedNtimes","{0} (occurred {1} times)",t,Ug);break}so(e),e.textContent=t,e.style.visibility="hidden",e.style.visibility="visible"}}n("96b9");var Gg=function(){function e(e,t){this.chr=e,this.type=t,this.width=0}return e.prototype.fulfill=function(e){this.width=e},e}(),Kg=function(){function e(e,t){this._bareFontInfo=e,this._requests=t,this._container=null,this._testElements=null}return e.prototype.read=function(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null},e.prototype._createDomElements=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-50000px",t.style.width="50000px";var n=document.createElement("div");n.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),n.style.fontWeight=this._bareFontInfo.fontWeight,n.style.fontSize=this._bareFontInfo.fontSize+"px",n.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,n.style.lineHeight=this._bareFontInfo.lineHeight+"px",n.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(n);var i=document.createElement("div");i.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),i.style.fontWeight="bold",i.style.fontSize=this._bareFontInfo.fontSize+"px",i.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,i.style.lineHeight=this._bareFontInfo.lineHeight+"px",i.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",t.appendChild(i);var o=document.createElement("div");o.style.fontFamily=this._bareFontInfo.getMassagedFontFamily(),o.style.fontWeight=this._bareFontInfo.fontWeight,o.style.fontSize=this._bareFontInfo.fontSize+"px",o.style.fontFeatureSettings=this._bareFontInfo.fontFeatureSettings,o.style.lineHeight=this._bareFontInfo.lineHeight+"px",o.style.letterSpacing=this._bareFontInfo.letterSpacing+"px",o.style.fontStyle="italic",t.appendChild(o);for(var r=[],s=0,a=this._requests;s<a.length;s++){var l=a[s],u=void 0;0===l.type&&(u=n),2===l.type&&(u=i),1===l.type&&(u=o),u.appendChild(document.createElement("br"));var c=document.createElement("span");e._render(c,l),u.appendChild(c),r.push(c)}this._container=t,this._testElements=r},e._render=function(e,t){if(" "===t.chr){for(var n="&#160;",i=0;i<8;i++)n+=n;e.innerHTML=n}else{var o=t.chr;for(i=0;i<8;i++)o+=o;e.textContent=o}},e.prototype._readFromDomElements=function(){for(var e=0,t=this._requests.length;e<t;e++){var n=this._requests[e],i=this._testElements[e];n.fulfill(i.offsetWidth/256)}},e}();function qg(e,t){var n=new Kg(e,t);n.read()}var Yg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xg=function(e){function t(t,n,i){var o=e.call(this)||this;return o.referenceDomElement=t,o.changeCallback=i,o.width=-1,o.height=-1,o.mutationObserver=null,o.windowSizeListener=null,o.measureReferenceDomElement(!1,n),o}return Yg(t,e),t.prototype.dispose=function(){this.stopObserving(),e.prototype.dispose.call(this)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.startObserving=function(){var e=this;!this.mutationObserver&&this.referenceDomElement&&(this.mutationObserver=new MutationObserver((function(){return e._onDidMutate()})),this.mutationObserver.observe(this.referenceDomElement,{attributes:!0})),this.windowSizeListener||(this.windowSizeListener=bo(window,"resize",(function(){return e._onDidResizeWindow()})))},t.prototype.stopObserving=function(){this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.windowSizeListener&&(this.windowSizeListener.dispose(),this.windowSizeListener=null)},t.prototype.observe=function(e){this.measureReferenceDomElement(!0,e)},t.prototype._onDidMutate=function(){this.measureReferenceDomElement(!0)},t.prototype._onDidResizeWindow=function(){this.measureReferenceDomElement(!0)},t.prototype.measureReferenceDomElement=function(e,t){var n=0,i=0;t?(n=t.width,i=t.height):this.referenceDomElement&&(n=this.referenceDomElement.clientWidth,i=this.referenceDomElement.clientHeight),n=Math.max(5,n),i=Math.max(5,i),this.width===n&&this.height===i||(this.width=n,this.height=i,e&&this.changeCallback())},t}(Ae),Zg=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jg=function(){function e(){this._keys=Object.create(null),this._values=Object.create(null)}return e.prototype.has=function(e){var t=e.getId();return!!this._values[t]},e.prototype.get=function(e){var t=e.getId();return this._values[t]},e.prototype.put=function(e,t){var n=e.getId();this._keys[n]=e,this._values[n]=t},e.prototype.remove=function(e){var t=e.getId();delete this._keys[t],delete this._values[t]},e.prototype.getValues=function(){var e=this;return Object.keys(this._keys).map((function(t){return e._values[t]}))},e}();function Qg(){em.INSTANCE.clearCache()}var em=function(e){function t(){var t=e.call(this)||this;return t._onDidChange=t._register(new Ze),t.onDidChange=t._onDidChange.event,t._cache=new Jg,t._evictUntrustedReadingsTimeout=-1,t}return Zg(t,e),t.prototype.dispose=function(){-1!==this._evictUntrustedReadingsTimeout&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),e.prototype.dispose.call(this)},t.prototype.clearCache=function(){this._cache=new Jg,this._onDidChange.fire()},t.prototype._writeToCache=function(e,t){var n=this;this._cache.put(e,t),t.isTrusted||-1!==this._evictUntrustedReadingsTimeout||(this._evictUntrustedReadingsTimeout=setTimeout((function(){n._evictUntrustedReadingsTimeout=-1,n._evictUntrustedReadings()}),5e3))},t.prototype._evictUntrustedReadings=function(){for(var e=this._cache.getValues(),t=!1,n=0,i=e.length;n<i;n++){var o=e[n];o.isTrusted||(t=!0,this._cache.remove(o))}t&&this._onDidChange.fire()},t.prototype.readConfiguration=function(e){if(!this._cache.has(e)){var n=t._actualReadConfiguration(e);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new xl({zoomLevel:Mn(),fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(e,n)}return this._cache.get(e)},t.createRequest=function(e,t,n,i){var o=new Gg(e,t);return n.push(o),i&&i.push(o),o},t._actualReadConfiguration=function(e){var t=[],n=[],i=this.createRequest("n",0,t,n),o=this.createRequest("ｍ",0,t,null),r=this.createRequest(" ",0,t,n),s=this.createRequest("0",0,t,n),a=this.createRequest("1",0,t,n),l=this.createRequest("2",0,t,n),u=this.createRequest("3",0,t,n),c=this.createRequest("4",0,t,n),h=this.createRequest("5",0,t,n),d=this.createRequest("6",0,t,n),p=this.createRequest("7",0,t,n),f=this.createRequest("8",0,t,n),g=this.createRequest("9",0,t,n),m=this.createRequest("→",0,t,n),_=this.createRequest("￫",0,t,null),v=this.createRequest("·",0,t,n);this.createRequest("|",0,t,n),this.createRequest("/",0,t,n),this.createRequest("-",0,t,n),this.createRequest("_",0,t,n),this.createRequest("i",0,t,n),this.createRequest("l",0,t,n),this.createRequest("m",0,t,n),this.createRequest("|",1,t,n),this.createRequest("_",1,t,n),this.createRequest("i",1,t,n),this.createRequest("l",1,t,n),this.createRequest("m",1,t,n),this.createRequest("n",1,t,n),this.createRequest("|",2,t,n),this.createRequest("_",2,t,n),this.createRequest("i",2,t,n),this.createRequest("l",2,t,n),this.createRequest("m",2,t,n),this.createRequest("n",2,t,n),qg(e,t);for(var y=Math.max(s.width,a.width,l.width,u.width,c.width,h.width,d.width,p.width,f.width,g.width),b=e.fontFeatureSettings===F.OFF,w=n[0].width,C=1,S=n.length;b&&C<S;C++){var E=w-n[C].width;if(E<-.001||E>.001){b=!1;break}}var T=!0;b&&_.width!==w&&(T=!1),_.width>m.width&&(T=!1);var k=Pn()>2e3;return new xl({zoomLevel:Mn(),fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,fontFeatureSettings:e.fontFeatureSettings,lineHeight:e.lineHeight,letterSpacing:e.letterSpacing,isMonospace:b,typicalHalfwidthCharacterWidth:i.width,typicalFullwidthCharacterWidth:o.width,canUseHalfwidthRightwardsArrow:T,spaceWidth:r.width,middotWidth:v.width,maxDigitWidth:y},k)},t.INSTANCE=new t,t}(Ae),tm=function(e){function t(t,n,i,o){void 0===i&&(i=null);var r=e.call(this,t,n)||this;return r.accessibilityService=o,r._elementSizeObserver=r._register(new Xg(i,n.dimension,(function(){return r._onReferenceDomElementSizeChanged()}))),r._register(em.INSTANCE.onDidChange((function(){return r._onCSSBasedConfigurationChanged()}))),r._validatedOptions.get(9)&&r._elementSizeObserver.startObserving(),r._register(Fn((function(e){return r._recomputeOptions()}))),r._register(r.accessibilityService.onDidChangeScreenReaderOptimized((function(){return r._recomputeOptions()}))),r._recomputeOptions(),r}return Zg(t,e),t.applyFontInfoSlow=function(e,t){e.style.fontFamily=t.getMassagedFontFamily(),e.style.fontWeight=t.fontWeight,e.style.fontSize=t.fontSize+"px",e.style.fontFeatureSettings=t.fontFeatureSettings,e.style.lineHeight=t.lineHeight+"px",e.style.letterSpacing=t.letterSpacing+"px"},t.applyFontInfo=function(e,t){e.setFontFamily(t.getMassagedFontFamily()),e.setFontWeight(t.fontWeight),e.setFontSize(t.fontSize),e.setFontFeatureSettings(t.fontFeatureSettings),e.setLineHeight(t.lineHeight),e.setLetterSpacing(t.letterSpacing)},t.prototype._onReferenceDomElementSizeChanged=function(){this._recomputeOptions()},t.prototype._onCSSBasedConfigurationChanged=function(){this._recomputeOptions()},t.prototype.observeReferenceElement=function(e){this._elementSizeObserver.observe(e)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._getExtraEditorClassName=function(){var e="";return Gn||Kn||(e+="no-user-select "),s["e"]&&(e+="mac "),e},t.prototype._getEnvConfiguration=function(){return{extraEditorClassName:this._getExtraEditorClassName(),outerWidth:this._elementSizeObserver.getWidth(),outerHeight:this._elementSizeObserver.getHeight(),emptySelectionClipboard:zn||Un,pixelRatio:Bn(),zoomLevel:Mn(),accessibilitySupport:this.accessibilityService.isScreenReaderOptimized()?2:this.accessibilityService.getAccessibilitySupport()}},t.prototype.readConfiguration=function(e){return em.INSTANCE.readConfiguration(e)},t}(Kp),nm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),im=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},om=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},rm=function(e){function t(t,n,i,o,r){void 0===n&&(n=""),void 0===i&&(i=""),void 0===o&&(o=!0);var s=e.call(this)||this;return s._onDidChange=s._register(new Ze),s.onDidChange=s._onDidChange.event,s._enabled=!0,s._checked=!1,s._id=t,s._label=n,s._cssClass=i,s._enabled=o,s._actionCallback=r,s}return nm(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._setLabel(e)},enumerable:!0,configurable:!0}),t.prototype._setLabel=function(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))},Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip||""},set:function(e){this._setTooltip(e)},enumerable:!0,configurable:!0}),t.prototype._setTooltip=function(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))},Object.defineProperty(t.prototype,"class",{get:function(){return this._cssClass},set:function(e){this._setClass(e)},enumerable:!0,configurable:!0}),t.prototype._setClass=function(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._setEnabled(e)},enumerable:!0,configurable:!0}),t.prototype._setEnabled=function(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._setChecked(e)},enumerable:!0,configurable:!0}),t.prototype._setChecked=function(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))},t.prototype.run=function(e,t){return this._actionCallback?this._actionCallback(e):Promise.resolve(!0)},t}(Ae),sm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidBeforeRun=t._register(new Ze),t.onDidBeforeRun=t._onDidBeforeRun.event,t._onDidRun=t._register(new Ze),t.onDidRun=t._onDidRun.event,t}return nm(t,e),t.prototype.run=function(e,t){return im(this,void 0,void 0,(function(){var n,i;return om(this,(function(o){switch(o.label){case 0:if(!e.enabled)return[2,Promise.resolve(null)];this._onDidBeforeRun.fire({action:e}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.runAction(e,t)];case 2:return n=o.sent(),this._onDidRun.fire({action:e,result:n}),[3,4];case 3:return i=o.sent(),this._onDidRun.fire({action:e,error:i}),[3,4];case 4:return[2]}}))}))},t.prototype.runAction=function(e,t){var n=t?e.run(t):e.run();return Promise.resolve(n)},t}(Ae),am=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lm=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},um=function(e,t){return function(n,i){t(n,i,e)}},cm=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i};function hm(e){return void 0!==e.command}var dm,pm=Dn("menuService"),fm=new(function(){function e(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new Ze,this.onDidChangeMenu=this._onDidChangeMenu.event}return e.prototype.addCommand=function(e){var t=this;return this._commands.set(e.id,e),this._onDidChangeMenu.fire(0),{dispose:function(){t._commands.delete(e.id)&&t._onDidChangeMenu.fire(0)}}},e.prototype.getCommand=function(e){return this._commands.get(e)},e.prototype.getCommands=function(){var e=new Map;return this._commands.forEach((function(t,n){return e.set(n,t)})),e},e.prototype.appendMenuItem=function(e,t){var n=this,i=this._menuItems.get(e);return i?i.push(t):(i=[t],this._menuItems.set(e,i)),this._onDidChangeMenu.fire(e),{dispose:function(){var o=i.indexOf(t);o>=0&&(i.splice(o,1),n._onDidChangeMenu.fire(e))}}},e.prototype.getMenuItems=function(e){var t=(this._menuItems.get(e)||[]).slice(0);return 0===e&&this._appendImplicitItems(t),t},e.prototype._appendImplicitItems=function(e){for(var t=new Set,n=e.filter((function(e){return hm(e)})),i=0,o=n;i<o.length;i++){var r=o[i],s=r.command,a=r.alt;t.add(s.id),a&&t.add(a.id)}this._commands.forEach((function(n,i){t.has(i)||e.push({command:n})}))},e}()),gm=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o._commandService=i,o}return am(t,e),t.prototype.run=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this._commandService).executeCommand.apply(e,cm([this.id],t))},t=lm([um(2,qa)],t),t}(rm),mm=function(e){function t(t){var n=this;return n="string"===typeof t.title?e.call(this,"",t.title,"submenu")||this:e.call(this,"",t.title.value,"submenu")||this,n.item=t,n}return am(t,e),t}(rm),_m=function(e){function t(n,i,o,r,s){var a=this;return a="string"===typeof n.title?e.call(this,n.id,n.title,s)||this:e.call(this,n.id,n.title.value,s)||this,a._cssClass=void 0,a._enabled=!n.precondition||r.contextMatchesRules(n.precondition),a._checked=Boolean(n.toggled&&r.contextMatchesRules(n.toggled)),a._options=o||{},a.item=n,a.alt=i?new t(i,void 0,a._options,r,s):void 0,a}return am(t,e),t.prototype.dispose=function(){this.alt&&this.alt.dispose(),e.prototype.dispose.call(this)},t.prototype.run=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=[];return this._options.arg&&(i=cm(i,[this._options.arg])),this._options.shouldForwardArgs&&(i=cm(i,t)),e.prototype.run.apply(this,i)},t=lm([um(3,Bf),um(4,qa)],t),t}(gm),vm=Dn("telemetryService"),ym=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bm=function(){function e(e){this.id=e.id,this.precondition=e.precondition,this._kbOpts=e.kbOpts,this._menuOpts=e.menuOpts,this._description=e.description}return e.prototype.register=function(){var e=this;if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){var t=this._kbOpts.kbExpr;this.precondition&&(t=t?xf.and(t,this.precondition):this.precondition),Wf.registerCommandAndKeybindingRule({id:this.id,handler:function(t,n){return e.runCommand(t,n)},weight:this._kbOpts.weight,when:t,primary:this._kbOpts.primary,secondary:this._kbOpts.secondary,win:this._kbOpts.win,linux:this._kbOpts.linux,mac:this._kbOpts.mac,description:this._description})}else Ya.registerCommand({id:this.id,handler:function(t,n){return e.runCommand(t,n)},description:this._description})},e.prototype._registerMenuItem=function(e){fm.appendMenuItem(e.menuId,{group:e.group,command:{id:this.id,title:e.title},when:e.when,order:e.order})},e}(),wm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ym(t,e),t.bindToContribution=function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n._callback=e.handler,n}return ym(n,t),n.prototype.runEditorCommand=function(t,n,i){var o=e(n);o&&this._callback(e(n),i)},n}(t)},t.prototype.runCommand=function(e,t){var n=this,i=e.get(Rn),o=i.getFocusedCodeEditor()||i.getActiveCodeEditor();if(o)return o.invokeWithinContext((function(e){var i=e.get(Bf);if(i.contextMatchesRules(Aa(n.precondition)))return n.runEditorCommand(e,o,t)}))},t}(bm),Cm=function(e){function t(n){var i=e.call(this,t.convertOptions(n))||this;return i.label=n.label,i.alias=n.alias,i}return ym(t,e),t.convertOptions=function(e){var t;function n(t){return t.menuId||(t.menuId=7),t.title||(t.title=e.label),t.when=xf.and(e.precondition,t.when),t}return t=Array.isArray(e.menuOpts)?e.menuOpts:e.menuOpts?[e.menuOpts]:[],Array.isArray(e.contextMenuOpts)?t.push.apply(t,e.contextMenuOpts.map(n)):e.contextMenuOpts&&t.push(n(e.contextMenuOpts)),e.menuOpts=t,e},t.prototype.runEditorCommand=function(e,t,n){return this.reportTelemetry(e,t),this.run(e,t,n||{})},t.prototype.reportTelemetry=function(e,t){e.get(vm).publicLog2("editorActionInvoked",{name:this.label,id:this.id})},t}(wm);function Sm(e,t){Ya.registerCommand(e,(function(e,n){return t(e,n||{})}))}function Em(e,t){Sm(e,(function(e,n){var i=n.resource,o=n.position;if(!(i instanceof Lt))throw we("resource");if(!yn.isIPosition(o))throw we("position");var r=e.get(pu).getModel(i);if(r){var s=yn.lift(o);return t(r,s,n)}return e.get(sc).createModelReference(i).then((function(e){return new Promise((function(i,r){try{var s=t(e.object.textEditorModel,yn.lift(o),n);i(s)}catch(a){r(a)}})).finally((function(){e.dispose()}))}))}))}function Tm(e,t){Ya.registerCommand(e,(function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0],r=n[1];Ta(Lt.isUri(o)),Ta(yn.isIPosition(r));var s=e.get(pu).getModel(o);if(s){var a=yn.lift(r);return t(s,a,n.slice(2))}return e.get(sc).createModelReference(o).then((function(e){return new Promise((function(i,o){try{var s=t(e.object.textEditorModel,yn.lift(r),n.slice(2));i(s)}catch(a){o(a)}})).finally((function(){e.dispose()}))}))}))}function km(e,t){Ya.registerCommand(e,(function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0];Ta(Lt.isUri(o));var r=e.get(pu).getModel(o);return r?t(r,n.slice(1)):e.get(sc).createModelReference(o).then((function(e){return new Promise((function(i,o){try{var r=t(e.object.textEditorModel,n.slice(1));i(r)}catch(s){o(s)}})).finally((function(){e.dispose()}))}))}))}function xm(e){return Nm.INSTANCE.registerEditorCommand(e),e}function Lm(e){Nm.INSTANCE.registerEditorAction(new e)}function Im(e){Nm.INSTANCE.registerEditorAction(e)}function Om(e,t){Nm.INSTANCE.registerEditorContribution(e,t)}(function(e){function t(e){return Nm.INSTANCE.getEditorCommand(e)}function n(){return Nm.INSTANCE.getEditorActions()}function i(){return Nm.INSTANCE.getEditorContributions()}function o(e){return Nm.INSTANCE.getEditorContributions().filter((function(t){return e.indexOf(t.id)>=0}))}function r(){return Nm.INSTANCE.getDiffEditorContributions()}e.getEditorCommand=t,e.getEditorActions=n,e.getEditorContributions=i,e.getSomeEditorContributions=o,e.getDiffEditorContributions=r})(dm||(dm={}));var Dm={EditorCommonContributions:"editor.contributions"},Nm=function(){function e(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}return e.prototype.registerEditorContribution=function(e,t){this.editorContributions.push({id:e,ctor:t})},e.prototype.getEditorContributions=function(){return this.editorContributions.slice(0)},e.prototype.getDiffEditorContributions=function(){return this.diffEditorContributions.slice(0)},e.prototype.registerEditorAction=function(e){e.register(),this.editorActions.push(e)},e.prototype.getEditorActions=function(){return this.editorActions.slice(0)},e.prototype.registerEditorCommand=function(e){e.register(),this.editorCommands[e.id]=e},e.prototype.getEditorCommand=function(e){return this.editorCommands[e]||null},e.INSTANCE=new e,e}();pp.add(Dm.EditorCommonContributions,Nm.INSTANCE);var Rm=function(){function e(e){this.domNode=e,this._maxWidth=-1,this._width=-1,this._height=-1,this._top=-1,this._left=-1,this._bottom=-1,this._right=-1,this._fontFamily="",this._fontWeight="",this._fontSize=-1,this._fontFeatureSettings="",this._lineHeight=-1,this._letterSpacing=-100,this._className="",this._display="",this._position="",this._visibility="",this._backgroundColor="",this._layerHint=!1,this._contain="none"}return e.prototype.setMaxWidth=function(e){this._maxWidth!==e&&(this._maxWidth=e,this.domNode.style.maxWidth=this._maxWidth+"px")},e.prototype.setWidth=function(e){this._width!==e&&(this._width=e,this.domNode.style.width=this._width+"px")},e.prototype.setHeight=function(e){this._height!==e&&(this._height=e,this.domNode.style.height=this._height+"px")},e.prototype.setTop=function(e){this._top!==e&&(this._top=e,this.domNode.style.top=this._top+"px")},e.prototype.unsetTop=function(){-1!==this._top&&(this._top=-1,this.domNode.style.top="")},e.prototype.setLeft=function(e){this._left!==e&&(this._left=e,this.domNode.style.left=this._left+"px")},e.prototype.setBottom=function(e){this._bottom!==e&&(this._bottom=e,this.domNode.style.bottom=this._bottom+"px")},e.prototype.setRight=function(e){this._right!==e&&(this._right=e,this.domNode.style.right=this._right+"px")},e.prototype.setFontFamily=function(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)},e.prototype.setFontWeight=function(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)},e.prototype.setFontSize=function(e){this._fontSize!==e&&(this._fontSize=e,this.domNode.style.fontSize=this._fontSize+"px")},e.prototype.setFontFeatureSettings=function(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)},e.prototype.setLineHeight=function(e){this._lineHeight!==e&&(this._lineHeight=e,this.domNode.style.lineHeight=this._lineHeight+"px")},e.prototype.setLetterSpacing=function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.domNode.style.letterSpacing=this._letterSpacing+"px")},e.prototype.setClassName=function(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)},e.prototype.toggleClassName=function(e,t){vo(this.domNode,e,t),this._className=this.domNode.className},e.prototype.setDisplay=function(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)},e.prototype.setPosition=function(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)},e.prototype.setVisibility=function(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)},e.prototype.setBackgroundColor=function(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)},e.prototype.setLayerHinting=function(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")},e.prototype.setContain=function(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)},e.prototype.setAttribute=function(e,t){this.domNode.setAttribute(e,t)},e.prototype.removeAttribute=function(e){this.domNode.removeAttribute(e)},e.prototype.appendChild=function(e){this.domNode.appendChild(e.domNode)},e.prototype.removeChild=function(e){this.domNode.removeChild(e.domNode)},e}();function Am(e){return new Rm(e)}var Mm=0;function Pm(){var e="$memoize"+Mm++,t=void 0,n=function(n,i,o){var r=null,s=null;if("function"===typeof o.value?(r="value",s=o.value,0!==s.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"===typeof o.get&&(r="get",s=o.get),!s)throw new Error("not supported");var a=e+":"+i;o[r]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=this,this.hasOwnProperty(a)||Object.defineProperty(this,a,{configurable:!0,enumerable:!1,writable:!0,value:s.apply(this,e)}),this[a]}};return n.clear=function(){"undefined"!==typeof t&&Object.getOwnPropertyNames(t).forEach((function(n){0===n.indexOf(e)&&delete t[n]}))},n}function Fm(e,t,n){return Pm()(e,t,n)}var Bm,Vm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hm=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};(function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"})(Bm||(Bm={}));var $m=function(e){function t(){var t=e.call(this)||this;return t.dispatched=!1,t.activeTouches={},t.handle=null,t.targets=[],t.ignoreTargets=[],t._lastSetTapCountTime=0,t._register(bo(document,"touchstart",(function(e){return t.onTouchStart(e)}))),t._register(bo(document,"touchend",(function(e){return t.onTouchEnd(e)}))),t._register(bo(document,"touchmove",(function(e){return t.onTouchMove(e)}))),t}return Vm(t,e),t.addTarget=function(e){return t.isTouchDevice()?(t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE.targets.push(e),{dispose:function(){t.INSTANCE.targets=t.INSTANCE.targets.filter((function(t){return t!==e}))}}):Ae.None},t.ignoreTarget=function(e){return t.isTouchDevice()?(t.INSTANCE||(t.INSTANCE=new t),t.INSTANCE.ignoreTargets.push(e),{dispose:function(){t.INSTANCE.ignoreTargets=t.INSTANCE.ignoreTargets.filter((function(t){return t!==e}))}}):Ae.None},t.isTouchDevice=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},t.prototype.dispose=function(){this.handle&&(this.handle.dispose(),this.handle=null),e.prototype.dispose.call(this)},t.prototype.onTouchStart=function(e){var t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(var n=0,i=e.targetTouches.length;n<i;n++){var o=e.targetTouches.item(n);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:t,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[t],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};var r=this.newGestureEvent(Bm.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},t.prototype.onTouchEnd=function(e){for(var n=Date.now(),i=Object.keys(this.activeTouches).length,o=function(o,s){var a=e.changedTouches.item(o);if(!r.activeTouches.hasOwnProperty(String(a.identifier)))return console.warn("move of an UNKNOWN touch",a),"continue";var l=r.activeTouches[a.identifier],u=Date.now()-l.initialTimeStamp;if(u<t.HOLD_DELAY&&Math.abs(l.initialPageX-Ii(l.rollingPageX))<30&&Math.abs(l.initialPageY-Ii(l.rollingPageY))<30){var c=r.newGestureEvent(Bm.Tap,l.initialTarget);c.pageX=Ii(l.rollingPageX),c.pageY=Ii(l.rollingPageY),r.dispatchEvent(c)}else if(u>=t.HOLD_DELAY&&Math.abs(l.initialPageX-Ii(l.rollingPageX))<30&&Math.abs(l.initialPageY-Ii(l.rollingPageY))<30){c=r.newGestureEvent(Bm.Contextmenu,l.initialTarget);c.pageX=Ii(l.rollingPageX),c.pageY=Ii(l.rollingPageY),r.dispatchEvent(c)}else if(1===i){var h=Ii(l.rollingPageX),d=Ii(l.rollingPageY),p=Ii(l.rollingTimestamps)-l.rollingTimestamps[0],f=h-l.rollingPageX[0],g=d-l.rollingPageY[0],m=r.targets.filter((function(e){return l.initialTarget instanceof Node&&e.contains(l.initialTarget)}));r.inertia(m,n,Math.abs(f)/p,f>0?1:-1,h,Math.abs(g)/p,g>0?1:-1,d)}r.dispatchEvent(r.newGestureEvent(Bm.End,l.initialTarget)),delete r.activeTouches[a.identifier]},r=this,s=0,a=e.changedTouches.length;s<a;s++)o(s,a);this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},t.prototype.newGestureEvent=function(e,t){var n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n},t.prototype.dispatchEvent=function(e){var n=this;if(e.type===Bm.Tap){var i=(new Date).getTime(),o=0;o=i-this._lastSetTapCountTime>t.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=i,e.tapCount=o}else e.type!==Bm.Change&&e.type!==Bm.Contextmenu||(this._lastSetTapCountTime=0);for(var r=0;r<this.ignoreTargets.length;r++)if(e.initialTarget instanceof Node&&this.ignoreTargets[r].contains(e.initialTarget))return;this.targets.forEach((function(t){e.initialTarget instanceof Node&&t.contains(e.initialTarget)&&(t.dispatchEvent(e),n.dispatched=!0)}))},t.prototype.inertia=function(e,n,i,o,r,s,a,l){var u=this;this.handle=Oo((function(){var c=Date.now(),h=c-n,d=0,p=0,f=!0;i+=t.SCROLL_FRICTION*h,s+=t.SCROLL_FRICTION*h,i>0&&(f=!1,d=o*i*h),s>0&&(f=!1,p=a*s*h);var g=u.newGestureEvent(Bm.Change);g.translationX=d,g.translationY=p,e.forEach((function(e){return e.dispatchEvent(g)})),f||u.inertia(e,c,i,o,r+d,s,a,l+p)}))},t.prototype.onTouchMove=function(e){for(var t=Date.now(),n=0,i=e.changedTouches.length;n<i;n++){var o=e.changedTouches.item(n);if(this.activeTouches.hasOwnProperty(String(o.identifier))){var r=this.activeTouches[o.identifier],s=this.newGestureEvent(Bm.Change,r.initialTarget);s.translationX=o.pageX-Ii(r.rollingPageX),s.translationY=o.pageY-Ii(r.rollingPageY),s.pageX=o.pageX,s.pageY=o.pageY,this.dispatchEvent(s),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(t)}else console.warn("end of an UNKNOWN touch",o)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)},t.SCROLL_FRICTION=-.005,t.HOLD_DELAY=700,t.CLEAR_TAP_COUNT_TIME=400,Hm([Fm],t,"isTouchDevice",null),t}(Ae);function Wm(e,t){var n=new pi(t);return n.preventDefault(),{leftButton:n.leftButton,buttons:n.buttons,posx:n.posx,posy:n.posy}}var Um=function(){function e(){this._hooks=new Re,this._mouseMoveEventMerger=null,this._mouseMoveCallback=null,this._onStopCallback=null}return e.prototype.dispose=function(){this.stopMonitoring(!1),this._hooks.dispose()},e.prototype.stopMonitoring=function(e){if(this.isMonitoring()){this._hooks.clear(),this._mouseMoveEventMerger=null,this._mouseMoveCallback=null;var t=this._onStopCallback;this._onStopCallback=null,e&&t&&t()}},e.prototype.isMonitoring=function(){return!!this._mouseMoveEventMerger},e.prototype.startMonitoring=function(e,t,n,i,o){var r=this;if(!this.isMonitoring()){this._mouseMoveEventMerger=n,this._mouseMoveCallback=i,this._onStopCallback=o;var a=hi.getSameOriginWindowChain(),l=s["c"]&&no.pointerEvents?"pointermove":"mousemove",u=s["c"]&&no.pointerEvents?"pointerup":"mouseup",c=a.map((function(e){return e.window.document})),h=Qo(e);h&&c.unshift(h);for(var d=0,p=c;d<p.length;d++){var f=p[d];this._hooks.add(Fo(f,l,(function(e){Hn||e.buttons===t?r._mouseMoveCallback(e):r.stopMonitoring(!0)}),(function(e,t){return r._mouseMoveEventMerger(e,t)}))),this._hooks.add(bo(f,u,(function(e){return r.stopMonitoring(!0)})))}if(hi.hasDifferentOriginAncestor()){var g=a[a.length-1];this._hooks.add(bo(g.window.document,"mouseout",(function(e){var t=new pi(e);"html"===t.target.tagName.toLowerCase()&&r.stopMonitoring(!0)}))),this._hooks.add(bo(g.window.document,"mouseover",(function(e){var t=new pi(e);"html"===t.target.tagName.toLowerCase()&&r.stopMonitoring(!0)}))),this._hooks.add(bo(g.window.document.body,"mouseleave",(function(e){r.stopMonitoring(!0)})))}}},e}(),zm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jm=function(){function e(e,t){this.x=e,this.y=t}return e.prototype.toClientCoordinates=function(){return new Gm(this.x-zo.scrollX,this.y-zo.scrollY)},e}(),Gm=function(){function e(e,t){this.clientX=e,this.clientY=t}return e.prototype.toPageCoordinates=function(){return new jm(this.clientX+zo.scrollX,this.clientY+zo.scrollY)},e}(),Km=function(){function e(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}return e}();function qm(e){var t=Uo(e);return new Km(t.left,t.top,t.width,t.height)}var Ym=function(e){function t(t,n){var i=e.call(this,t)||this;return i.pos=new jm(i.posx,i.posy),i.editorPos=qm(n),i}return zm(t,e),t}(pi),Xm=function(){function e(e){this._editorViewDomNode=e}return e.prototype._create=function(e){return new Ym(e,this._editorViewDomNode)},e.prototype.onContextMenu=function(e,t){var n=this;return bo(e,"contextmenu",(function(e){t(n._create(e))}))},e.prototype.onMouseUp=function(e,t){var n=this;return bo(e,"mouseup",(function(e){t(n._create(e))}))},e.prototype.onMouseDown=function(e,t){var n=this;return bo(e,"mousedown",(function(e){t(n._create(e))}))},e.prototype.onMouseLeave=function(e,t){var n=this;return xo(e,(function(e){t(n._create(e))}))},e.prototype.onMouseMoveThrottled=function(e,t,n,i){var o=this,r=function(e,t){return n(e,o._create(t))};return Fo(e,"mousemove",t,r,i)},e}(),Zm=function(){function e(e){this._editorViewDomNode=e}return e.prototype._create=function(e){return new Ym(e,this._editorViewDomNode)},e.prototype.onPointerUp=function(e,t){var n=this;return bo(e,"pointerup",(function(e){t(n._create(e))}))},e.prototype.onPointerDown=function(e,t){var n=this;return bo(e,"pointerdown",(function(e){t(n._create(e))}))},e.prototype.onPointerLeave=function(e,t){var n=this;return Lo(e,(function(e){t(n._create(e))}))},e.prototype.onPointerMoveThrottled=function(e,t,n,i){var o=this,r=function(e,t){return n(e,o._create(t))};return Fo(e,"pointermove",t,r,i)},e}(),Jm=function(e){function t(t){var n=e.call(this)||this;return n._editorViewDomNode=t,n._globalMouseMoveMonitor=n._register(new Um),n._keydownListener=null,n}return zm(t,e),t.prototype.startMonitoring=function(e,t,n,i,o){var r=this;this._keydownListener=So(document,"keydown",(function(e){var t=e.toKeybinding();t.isModifierKey()||r._globalMouseMoveMonitor.stopMonitoring(!0)}),!0);var s=function(e,t){return n(e,new Ym(t,r._editorViewDomNode))};this._globalMouseMoveMonitor.startMonitoring(e,t,s,i,(function(){r._keydownListener.dispose(),o()}))},t}(Ae),Qm=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e_=function(e){function t(){var t=e.call(this)||this;return t._shouldRender=!0,t}return Qm(t,e),t.prototype.shouldRender=function(){return this._shouldRender},t.prototype.forceShouldRender=function(){this._shouldRender=!0},t.prototype.setShouldRender=function(){this._shouldRender=!0},t.prototype.onDidRender=function(){this._shouldRender=!1},t.prototype.onConfigurationChanged=function(e){return!1},t.prototype.onContentSizeChanged=function(e){return!1},t.prototype.onCursorStateChanged=function(e){return!1},t.prototype.onDecorationsChanged=function(e){return!1},t.prototype.onFlushed=function(e){return!1},t.prototype.onFocusChanged=function(e){return!1},t.prototype.onLanguageConfigurationChanged=function(e){return!1},t.prototype.onLineMappingChanged=function(e){return!1},t.prototype.onLinesChanged=function(e){return!1},t.prototype.onLinesDeleted=function(e){return!1},t.prototype.onLinesInserted=function(e){return!1},t.prototype.onRevealRangeRequest=function(e){return!1},t.prototype.onScrollChanged=function(e){return!1},t.prototype.onThemeChanged=function(e){return!1},t.prototype.onTokensChanged=function(e){return!1},t.prototype.onTokensColorsChanged=function(e){return!1},t.prototype.onZonesChanged=function(e){return!1},t.prototype.handleEvents=function(e){for(var t=!1,n=0,i=e.length;n<i;n++){var o=e[n];switch(o.type){case 1:this.onConfigurationChanged(o)&&(t=!0);break;case 2:this.onContentSizeChanged(o)&&(t=!0);break;case 3:this.onCursorStateChanged(o)&&(t=!0);break;case 4:this.onDecorationsChanged(o)&&(t=!0);break;case 5:this.onFlushed(o)&&(t=!0);break;case 6:this.onFocusChanged(o)&&(t=!0);break;case 7:this.onLanguageConfigurationChanged(o)&&(t=!0);break;case 8:this.onLineMappingChanged(o)&&(t=!0);break;case 9:this.onLinesChanged(o)&&(t=!0);break;case 10:this.onLinesDeleted(o)&&(t=!0);break;case 11:this.onLinesInserted(o)&&(t=!0);break;case 12:this.onRevealRangeRequest(o)&&(t=!0);break;case 13:this.onScrollChanged(o)&&(t=!0);break;case 15:this.onTokensChanged(o)&&(t=!0);break;case 14:this.onThemeChanged(o)&&(t=!0);break;case 16:this.onTokensColorsChanged(o)&&(t=!0);break;case 17:this.onZonesChanged(o)&&(t=!0);break;default:console.info("View received unknown event: "),console.info(o)}}t&&(this._shouldRender=!0)},t}(Ae),t_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),n_=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._context.addEventHandler(n),n}return t_(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t}(e_),i_=function(){function e(){}return e.write=function(e,t){e.setAttribute("data-mprt",String(t))},e.read=function(e){var t=e.getAttribute("data-mprt");return null===t?0:parseInt(t,10)},e.collect=function(e,t){var n=[],i=0;while(e&&e!==document.body){if(e===t)break;e.nodeType===e.ELEMENT_NODE&&(n[i++]=this.read(e)),e=e.parentElement}for(var o=new Uint8Array(i),r=0;r<i;r++)o[r]=n[i-r-1];return o},e}(),o_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r_=function(){function e(e,t){this._viewLayout=e,this.viewportData=t,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;var n=this._viewLayout.getCurrentViewport();this.scrollTop=n.top,this.scrollLeft=n.left,this.viewportWidth=n.width,this.viewportHeight=n.height}return e.prototype.getScrolledTopFromAbsoluteTop=function(e){return e-this.scrollTop},e.prototype.getVerticalOffsetForLineNumber=function(e){return this._viewLayout.getVerticalOffsetForLineNumber(e)},e.prototype.getDecorationsInViewport=function(){return this.viewportData.getDecorationsInViewport()},e}(),s_=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o._viewLines=i,o}return o_(t,e),t.prototype.linesVisibleRangesForRange=function(e,t){return this._viewLines.linesVisibleRangesForRange(e,t)},t.prototype.visibleRangeForPosition=function(e){return this._viewLines.visibleRangeForPosition(e)},t}(r_),a_=function(){function e(e,t,n){this.outsideRenderedLine=e,this.lineNumber=t,this.ranges=n}return e}(),l_=function(){function e(e,t){this.left=Math.round(e),this.width=Math.round(t)}return e.prototype.toString=function(){return"["+this.left+","+this.width+"]"},e}(),u_=function(){function e(e,t){this.outsideRenderedLine=e,this.left=Math.round(t)}return e}(),c_=function(){function e(e,t){this.outsideRenderedLine=e,this.ranges=t}return e}(),h_=function(){function e(e,t){this.left=e,this.width=t}return e.prototype.toString=function(){return"["+this.left+","+this.width+"]"},e.compare=function(e,t){return e.left-t.left},e}(),d_=function(){function e(){}return e._createRange=function(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange},e._detachRange=function(e,t){e.selectNodeContents(t)},e._readClientRects=function(e,t,n,i,o){var r=this._createRange();try{return r.setStart(e,t),r.setEnd(n,i),r.getClientRects()}catch(s){return null}finally{this._detachRange(r,o)}},e._mergeAdjacentRanges=function(e){if(1===e.length)return[new l_(e[0].left,e[0].width)];e.sort(h_.compare);for(var t=[],n=0,i=e[0].left,o=e[0].width,r=1,s=e.length;r<s;r++){var a=e[r],l=a.left,u=a.width;i+o+.9>=l?o=Math.max(o,l+u-i):(t[n++]=new l_(i,o),i=l,o=u)}return t[n++]=new l_(i,o),t},e._createHorizontalRangesFromClientRects=function(e,t){if(!e||0===e.length)return null;for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];n[i]=new h_(Math.max(0,r.left-t),r.width)}return this._mergeAdjacentRanges(n)},e.readHorizontalRanges=function(e,t,n,i,o,r,s){var a=0,l=e.children.length-1;if(a>l)return null;t=Math.min(l,Math.max(a,t)),i=Math.min(l,Math.max(a,i)),t!==i&&i>0&&0===o&&(i--,o=1073741824);var u=e.children[t].firstChild,c=e.children[i].firstChild;if(u&&c||(!u&&0===n&&t>0&&(u=e.children[t-1].firstChild,n=1073741824),!c&&0===o&&i>0&&(c=e.children[i-1].firstChild,o=1073741824)),!u||!c)return null;n=Math.min(u.textContent.length,Math.max(0,n)),o=Math.min(c.textContent.length,Math.max(0,o));var h=this._readClientRects(u,n,c,o,s);return this._createHorizontalRangesFromClientRects(h,r)},e}(),p_=Dn("themeService");function f_(e){return{id:e}}var g_="dark",m_="hc";function __(e){switch(e){case g_:return"vs-dark";case m_:return"hc-black";default:return"vs"}}var v_={ThemingContribution:"base.contributions.theming"},y_=function(){function e(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new Ze}return e.prototype.onThemeChange=function(e){var t=this;return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),De((function(){var n=t.themingParticipants.indexOf(e);t.themingParticipants.splice(n,1)}))},e.prototype.getThemingParticipants=function(){return this.themingParticipants},e}(),b_=new y_;function w_(e){return b_.onThemeChange(e)}pp.add(v_.ThemingContribution,b_);var C_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S_=function(){return!!s["f"]||!(s["d"]||Un||Gn)}(),E_=Wn,T_=function(){function e(e,t){this._domNode=e,this._clientRectDeltaLeft=0,this._clientRectDeltaLeftRead=!1,this.endNode=t}return Object.defineProperty(e.prototype,"clientRectDeltaLeft",{get:function(){return this._clientRectDeltaLeftRead||(this._clientRectDeltaLeftRead=!0,this._clientRectDeltaLeft=this._domNode.getBoundingClientRect().left),this._clientRectDeltaLeft},enumerable:!0,configurable:!0}),e}(),k_=function(){function e(e,t){this.themeType=t;var n=e.options,i=n.get(34);this.renderWhitespace=n.get(74),this.renderControlCharacters=n.get(69),this.spaceWidth=i.spaceWidth,this.middotWidth=i.middotWidth,this.useMonospaceOptimizations=i.isMonospace&&!n.get(23),this.canUseHalfwidthRightwardsArrow=i.canUseHalfwidthRightwardsArrow,this.lineHeight=n.get(49),this.stopRenderingLineAfter=n.get(88),this.fontLigatures=n.get(35)}return e.prototype.equals=function(e){return this.themeType===e.themeType&&this.renderWhitespace===e.renderWhitespace&&this.renderControlCharacters===e.renderControlCharacters&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.useMonospaceOptimizations===e.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.lineHeight===e.lineHeight&&this.stopRenderingLineAfter===e.stopRenderingLineAfter&&this.fontLigatures===e.fontLigatures},e}(),x_=function(){function e(e){this._options=e,this._isMaybeInvalid=!0,this._renderedViewLine=null}return e.prototype.getDomNode=function(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null},e.prototype.setDomNode=function(e){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=Am(e)},e.prototype.onContentChanged=function(){this._isMaybeInvalid=!0},e.prototype.onTokensChanged=function(){this._isMaybeInvalid=!0},e.prototype.onDecorationsChanged=function(){this._isMaybeInvalid=!0},e.prototype.onOptionsChanged=function(e){this._isMaybeInvalid=!0,this._options=e},e.prototype.onSelectionChanged=function(){return!(!E_&&this._options.themeType!==m_&&"selection"!==this._options.renderWhitespace)&&(this._isMaybeInvalid=!0,!0)},e.prototype.renderLine=function(t,n,i,o){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;var r=i.getViewLineRenderingData(t),s=this._options,a=hd.filter(r.inlineDecorations,t,r.minColumn,r.maxColumn),l=null;if(E_||s.themeType===m_||"selection"===this._options.renderWhitespace)for(var u=i.selections,c=0,h=u;c<h.length;c++){var d=h[c];if(!(d.endLineNumber<t||d.startLineNumber>t)){var p=d.startLineNumber===t?d.startColumn:r.minColumn,f=d.endLineNumber===t?d.endColumn:r.maxColumn;p<f&&("selection"!==this._options.renderWhitespace?a.push(new hd(p,f,"inline-selected-text",0)):(l||(l=[]),l.push(new md(p-1,f-1))))}}var g=new _d(s.useMonospaceOptimizations,s.canUseHalfwidthRightwardsArrow,r.content,r.continuesWithWrappedLine,r.isBasicASCII,r.containsRTL,r.minColumn-1,r.tokens,a,r.tabSize,r.startVisibleColumn,s.spaceWidth,s.middotWidth,s.stopRenderingLineAfter,s.renderWhitespace,s.renderControlCharacters,s.fontLigatures!==F.OFF,l);if(this._renderedViewLine&&this._renderedViewLine.input.equals(g))return!1;o.appendASCIIString('<div style="top:'),o.appendASCIIString(String(n)),o.appendASCIIString("px;height:"),o.appendASCIIString(String(this._options.lineHeight)),o.appendASCIIString('px;" class="'),o.appendASCIIString(e.CLASS_NAME),o.appendASCIIString('">');var m=bd(g,o);o.appendASCIIString("</div>");var _=null;return S_&&r.isBasicASCII&&s.useMonospaceOptimizations&&0===m.containsForeignElements&&r.content.length<300&&g.lineTokens.getCount()<100&&(_=new L_(this._renderedViewLine?this._renderedViewLine.domNode:null,g,m.characterMapping)),_||(_=D_(this._renderedViewLine?this._renderedViewLine.domNode:null,g,m.characterMapping,m.containsRTL,m.containsForeignElements)),this._renderedViewLine=_,!0},e.prototype.layoutLine=function(e,t){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(t),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))},e.prototype.getWidth=function(){return this._renderedViewLine?this._renderedViewLine.getWidth():0},e.prototype.getWidthIsFast=function(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()},e.prototype.getVisibleRangesForRange=function(e,t,n){if(!this._renderedViewLine)return null;e|=0,t|=0,e=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,e)),t=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,t));var i=0|this._renderedViewLine.input.stopRenderingLineAfter,o=!1;-1!==i&&e>i+1&&t>i+1&&(o=!0),-1!==i&&e>i+1&&(e=i+1),-1!==i&&t>i+1&&(t=i+1);var r=this._renderedViewLine.getVisibleRangesForRange(e,t,n);return r&&r.length>0?new c_(o,r):null},e.prototype.getColumnOfNodeOffset=function(e,t,n){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(e,t,n):1},e.CLASS_NAME="view-line",e}(),L_=function(){function e(e,t,n){this.domNode=e,this.input=t,this._characterMapping=n,this._charWidth=t.spaceWidth}return e.prototype.getWidth=function(){return this._getCharPosition(this._characterMapping.length)},e.prototype.getWidthIsFast=function(){return!0},e.prototype.getVisibleRangesForRange=function(e,t,n){var i=this._getCharPosition(e),o=this._getCharPosition(t);return[new l_(i,o-i)]},e.prototype._getCharPosition=function(e){var t=this._characterMapping.getAbsoluteOffsets();return 0===t.length?0:Math.round(this._charWidth*t[e-1])},e.prototype.getColumnOfNodeOffset=function(e,t,n){var i=t.textContent.length,o=-1;while(t)t=t.previousSibling,o++;var r=this._characterMapping.partDataToCharOffset(o,i,n);return r+1},e}(),I_=function(){function e(e,t,n,i,o){if(this.domNode=e,this.input=t,this._characterMapping=n,this._isWhitespaceOnly=/^\s*$/.test(t.lineContent),this._containsForeignElements=o,this._cachedWidth=-1,this._pixelOffsetCache=null,!i||0===this._characterMapping.length){this._pixelOffsetCache=new Int32Array(Math.max(2,this._characterMapping.length+1));for(var r=0,s=this._characterMapping.length;r<=s;r++)this._pixelOffsetCache[r]=-1}}return e.prototype._getReadingTarget=function(e){return e.domNode.firstChild},e.prototype.getWidth=function(){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0},e.prototype.getWidthIsFast=function(){return-1!==this._cachedWidth},e.prototype.getVisibleRangesForRange=function(e,t,n){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){var i=this._readPixelOffset(this.domNode,e,n);if(-1===i)return null;var o=this._readPixelOffset(this.domNode,t,n);return-1===o?null:[new l_(i,o-i)]}return this._readVisibleRangesForRange(this.domNode,e,t,n)},e.prototype._readVisibleRangesForRange=function(e,t,n,i){if(t===n){var o=this._readPixelOffset(e,t,i);return-1===o?null:[new l_(o,0)]}return this._readRawVisibleRangesForRange(e,t,n,i)},e.prototype._readPixelOffset=function(e,t,n){if(0===this._characterMapping.length){if(0===this._containsForeignElements)return 0;if(2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth();var i=this._getReadingTarget(e);return i.firstChild?i.firstChild.offsetWidth:0}if(null!==this._pixelOffsetCache){var o=this._pixelOffsetCache[t];if(-1!==o)return o;var r=this._actualReadPixelOffset(e,t,n);return this._pixelOffsetCache[t]=r,r}return this._actualReadPixelOffset(e,t,n)},e.prototype._actualReadPixelOffset=function(e,t,n){if(0===this._characterMapping.length){var i=d_.readHorizontalRanges(this._getReadingTarget(e),0,0,0,0,n.clientRectDeltaLeft,n.endNode);return i&&0!==i.length?i[0].left:-1}if(t===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth();var o=this._characterMapping.charOffsetToPartData(t-1),r=vd.getPartIndex(o),s=vd.getCharIndex(o),a=d_.readHorizontalRanges(this._getReadingTarget(e),r,s,r,s,n.clientRectDeltaLeft,n.endNode);return a&&0!==a.length?a[0].left:-1},e.prototype._readRawVisibleRangesForRange=function(e,t,n,i){if(1===t&&n===this._characterMapping.length)return[new l_(0,this.getWidth())];var o=this._characterMapping.charOffsetToPartData(t-1),r=vd.getPartIndex(o),s=vd.getCharIndex(o),a=this._characterMapping.charOffsetToPartData(n-1),l=vd.getPartIndex(a),u=vd.getCharIndex(a);return d_.readHorizontalRanges(this._getReadingTarget(e),r,s,l,u,i.clientRectDeltaLeft,i.endNode)},e.prototype.getColumnOfNodeOffset=function(e,t,n){var i=t.textContent.length,o=-1;while(t)t=t.previousSibling,o++;var r=this._characterMapping.partDataToCharOffset(o,i,n);return r+1},e}(),O_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C_(t,e),t.prototype._readVisibleRangesForRange=function(t,n,i,o){var r=e.prototype._readVisibleRangesForRange.call(this,t,n,i,o);if(!r||0===r.length||n===i||1===n&&i===this._characterMapping.length)return r;if(!this.input.containsRTL){var s=this._readPixelOffset(t,i,o);if(-1!==s){var a=r[r.length-1];a.left<s&&(a.width=s-a.left)}}return r},t}(I_),D_=function(){return zn?N_:R_}();function N_(e,t,n,i,o){return new O_(e,t,n,i,o)}function R_(e,t,n,i,o){return new I_(e,t,n,i,o)}var A_=function(){function e(e,t){this.beforeVersionId=e,this.beforeCursorState=t,this.afterCursorState=null,this.afterVersionId=-1,this.editOperations=[]}return e.prototype.undo=function(e){for(var t=this.editOperations.length-1;t>=0;t--)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},e.prototype.redo=function(e){for(var t=0;t<this.editOperations.length;t++)this.editOperations[t]={operations:e.applyEdits(this.editOperations[t].operations)}},e}();function M_(e){var t=e.getEOL();return"\n"===t?0:1}var P_=function(){function e(e,t){this.beforeVersionId=e,this.beforeCursorState=null,this.afterCursorState=null,this.afterVersionId=-1,this.eol=t}return e.prototype.undo=function(e){var t=M_(e);e.setEOL(this.eol),this.eol=t},e.prototype.redo=function(e){var t=M_(e);e.setEOL(this.eol),this.eol=t},e}(),F_=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEOL=function(e){this.future=[],this.currentOpenStackElement&&this.pushStackElement();var t=M_(this.model),n=new P_(this.model.getAlternativeVersionId(),t);this.model.setEOL(e),n.afterVersionId=this.model.getVersionId(),this.currentOpenStackElement=n,this.pushStackElement()},e.prototype.pushEditOperation=function(t,n,i){this.future=[];var o=null;this.currentOpenStackElement&&(this.currentOpenStackElement instanceof A_?o=this.currentOpenStackElement:this.pushStackElement()),this.currentOpenStackElement||(o=new A_(this.model.getAlternativeVersionId(),t),this.currentOpenStackElement=o);var r={operations:this.model.applyEdits(n)};return o.editOperations.push(r),o.afterCursorState=e._computeCursorState(i,r.operations),o.afterVersionId=this.model.getVersionId(),o.afterCursorState},e._computeCursorState=function(e,t){try{return e?e(t):null}catch(n){return ge(n),null}},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){var e=this.past.pop();try{e.undo(this.model)}catch(t){return ge(t),this.clear(),null}return this.future.push(e),{selections:e.beforeCursorState,recordedVersionId:e.beforeVersionId}}return null},e.prototype.canUndo=function(){return this.past.length>0||null!==this.currentOpenStackElement},e.prototype.redo=function(){if(this.future.length>0){var e=this.future.pop();try{e.redo(this.model)}catch(t){return ge(t),this.clear(),null}return this.past.push(e),{selections:e.afterCursorState,recordedVersionId:e.afterVersionId}}return null},e.prototype.canRedo=function(){return this.future.length>0},e}(),B_=function(){function e(){this.spacesDiff=0,this.looksLikeAlignment=!1}return e}();function V_(e,t,n,i,o){var r;for(o.spacesDiff=0,o.looksLikeAlignment=!1,r=0;r<t&&r<i;r++){var s=e.charCodeAt(r),a=n.charCodeAt(r);if(s!==a)break}for(var l=0,u=0,c=r;c<t;c++){s=e.charCodeAt(c);32===s?l++:u++}var h=0,d=0;for(c=r;c<i;c++){a=n.charCodeAt(c);32===a?h++:d++}if(!(l>0&&u>0)&&!(h>0&&d>0)){var p=Math.abs(u-d),f=Math.abs(l-h);if(0===p)return o.spacesDiff=f,void(f>0&&0<=h-1&&h-1<e.length&&h<n.length&&32!==n.charCodeAt(h)&&32===e.charCodeAt(h-1)&&44===e.charCodeAt(e.length-1)&&(o.looksLikeAlignment=!0));f%p!==0||(o.spacesDiff=f/p)}}function H_(e,t,n){for(var i=Math.min(e.getLineCount(),1e4),o=0,r=0,s="",a=0,l=[2,4,6,8,3,5,7],u=8,c=[0,0,0,0,0,0,0,0,0],h=new B_,d=1;d<=i;d++){for(var p=e.getLineLength(d),f=e.getLineContent(d),g=p<=65536,m=!1,_=0,v=0,y=0,b=0,w=p;b<w;b++){var C=g?f.charCodeAt(b):e.getLineCharCode(d,b);if(9===C)y++;else{if(32!==C){m=!0,_=b;break}v++}}if(m&&(y>0?o++:v>1&&r++,V_(s,a,f,_,h),!h.looksLikeAlignment||n&&t===h.spacesDiff)){var S=h.spacesDiff;S<=u&&c[S]++,s=f,a=_}}var E=n;o!==r&&(E=o<r);var T=t;if(E){var k=E?0:.1*i;l.forEach((function(e){var t=c[e];t>k&&(k=t,T=e)})),4===T&&c[4]>0&&c[2]>0&&c[2]>=c[4]/2&&(T=2)}return{insertSpaces:E,tabSize:T}}function $_(e){return(1&e.metadata)>>>0}function W_(e,t){e.metadata=254&e.metadata|t<<0}function U_(e){return(2&e.metadata)>>>1===1}function z_(e,t){e.metadata=253&e.metadata|(t?1:0)<<1}function j_(e){return(4&e.metadata)>>>2===1}function G_(e,t){e.metadata=251&e.metadata|(t?1:0)<<2}function K_(e){return(8&e.metadata)>>>3===1}function q_(e,t){e.metadata=247&e.metadata|(t?1:0)<<3}function Y_(e){return(48&e.metadata)>>>4}function X_(e,t){e.metadata=207&e.metadata|t<<4}function Z_(e){return(64&e.metadata)>>>6===1}function J_(e,t){e.metadata=191&e.metadata|(t?1:0)<<6}var Q_=function(){function e(e,t,n){this.metadata=0,this.parent=this,this.left=this,this.right=this,W_(this,1),this.start=t,this.end=n,this.delta=0,this.maxEnd=n,this.id=e,this.ownerId=0,this.options=null,G_(this,!1),X_(this,1),q_(this,!1),J_(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=null,z_(this,!1)}return e.prototype.reset=function(e,t,n,i){this.start=t,this.end=n,this.maxEnd=n,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=n,this.range=i},e.prototype.setOptions=function(e){this.options=e;var t=this.options.className;G_(this,"squiggly-error"===t||"squiggly-warning"===t||"squiggly-info"===t),X_(this,this.options.stickiness),q_(this,!(!this.options.overviewRuler||!this.options.overviewRuler.color)),J_(this,this.options.collapseOnReplaceEdit)},e.prototype.setCachedOffsets=function(e,t,n){this.cachedVersionId!==n&&(this.range=null),this.cachedVersionId=n,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t},e.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},e}(),ev=new Q_(null,0,0);ev.parent=ev,ev.left=ev,ev.right=ev,W_(ev,0);var tv=function(){function e(){this.root=ev,this.requestNormalizeDelta=!1}return e.prototype.intervalSearch=function(e,t,n,i,o){return this.root===ev?[]:cv(this,e,t,n,i,o)},e.prototype.search=function(e,t,n){return this.root===ev?[]:uv(this,e,t,n)},e.prototype.collectNodesFromOwner=function(e){return av(this,e)},e.prototype.collectNodesPostOrder=function(){return lv(this)},e.prototype.insert=function(e){hv(this,e),this._normalizeDeltaIfNecessary()},e.prototype.delete=function(e){pv(this,e),this._normalizeDeltaIfNecessary()},e.prototype.resolveNode=function(e,t){var n=e,i=0;while(e!==this.root)e===e.parent.right&&(i+=e.parent.delta),e=e.parent;var o=n.start+i,r=n.end+i;n.setCachedOffsets(o,r,t)},e.prototype.acceptReplace=function(e,t,n,i){for(var o=rv(this,e,e+t),r=0,s=o.length;r<s;r++){var a=o[r];pv(this,a)}this._normalizeDeltaIfNecessary(),sv(this,e,e+t,n),this._normalizeDeltaIfNecessary();for(r=0,s=o.length;r<s;r++){a=o[r];a.start=a.cachedAbsoluteStart,a.end=a.cachedAbsoluteEnd,ov(a,e,e+t,n,i),a.maxEnd=a.end,hv(this,a)}this._normalizeDeltaIfNecessary()},e.prototype._normalizeDeltaIfNecessary=function(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,nv(this))},e}();function nv(e){var t=e.root,n=0;while(t!==ev)t.left===ev||U_(t.left)?t.right===ev||U_(t.right)?(t.start=n+t.start,t.end=n+t.end,t.delta=0,yv(t),z_(t,!0),z_(t.left,!1),z_(t.right,!1),t===t.parent.right&&(n-=t.parent.delta),t=t.parent):(n+=t.delta,t=t.right):t=t.left;z_(e.root,!1)}function iv(e,t,n,i){return e<n||!(e>n)&&(1!==i&&(2===i||t))}function ov(e,t,n,i,o){var r=Y_(e),s=0===r||2===r,a=1===r||2===r,l=n-t,u=i,c=Math.min(l,u),h=e.start,d=!1,p=e.end,f=!1;t<=h&&p<=n&&Z_(e)&&(e.start=t,d=!0,e.end=t,f=!0);var g=o?1:l>0?2:0;if(!d&&iv(h,s,t,g)&&(d=!0),!f&&iv(p,a,t,g)&&(f=!0),c>0&&!o){g=l>u?2:0;!d&&iv(h,s,t+c,g)&&(d=!0),!f&&iv(p,a,t+c,g)&&(f=!0)}g=o?1:0;!d&&iv(h,s,n,g)&&(e.start=t+u,d=!0),!f&&iv(p,a,n,g)&&(e.end=t+u,f=!0);var m=u-l;d||(e.start=Math.max(0,h+m)),f||(e.end=Math.max(0,p+m)),e.start>e.end&&(e.end=e.start)}function rv(e,t,n){var i=e.root,o=0,r=0,s=0,a=0,l=[],u=0;while(i!==ev)if(U_(i))z_(i.left,!1),z_(i.right,!1),i===i.parent.right&&(o-=i.parent.delta),i=i.parent;else{if(!U_(i.left)){if(r=o+i.maxEnd,r<t){z_(i,!0);continue}if(i.left!==ev){i=i.left;continue}}s=o+i.start,s>n?z_(i,!0):(a=o+i.end,a>=t&&(i.setCachedOffsets(s,a,0),l[u++]=i),z_(i,!0),i.right===ev||U_(i.right)||(o+=i.delta,i=i.right))}return z_(e.root,!1),l}function sv(e,t,n,i){var o=e.root,r=0,s=0,a=0,l=i-(n-t);while(o!==ev)if(U_(o))z_(o.left,!1),z_(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),yv(o),o=o.parent;else{if(!U_(o.left)){if(s=r+o.maxEnd,s<t){z_(o,!0);continue}if(o.left!==ev){o=o.left;continue}}a=r+o.start,a>n?(o.start+=l,o.end+=l,o.delta+=l,(o.delta<-1073741824||o.delta>1073741824)&&(e.requestNormalizeDelta=!0),z_(o,!0)):(z_(o,!0),o.right===ev||U_(o.right)||(r+=o.delta,o=o.right))}z_(e.root,!1)}function av(e,t){var n=e.root,i=[],o=0;while(n!==ev)U_(n)?(z_(n.left,!1),z_(n.right,!1),n=n.parent):n.left===ev||U_(n.left)?(n.ownerId===t&&(i[o++]=n),z_(n,!0),n.right===ev||U_(n.right)||(n=n.right)):n=n.left;return z_(e.root,!1),i}function lv(e){var t=e.root,n=[],i=0;while(t!==ev)U_(t)?(z_(t.left,!1),z_(t.right,!1),t=t.parent):t.left===ev||U_(t.left)?t.right===ev||U_(t.right)?(n[i++]=t,z_(t,!0)):t=t.right:t=t.left;return z_(e.root,!1),n}function uv(e,t,n,i){var o=e.root,r=0,s=0,a=0,l=[],u=0;while(o!==ev)if(U_(o))z_(o.left,!1),z_(o.right,!1),o===o.parent.right&&(r-=o.parent.delta),o=o.parent;else if(o.left===ev||U_(o.left)){s=r+o.start,a=r+o.end,o.setCachedOffsets(s,a,i);var c=!0;t&&o.ownerId&&o.ownerId!==t&&(c=!1),n&&j_(o)&&(c=!1),c&&(l[u++]=o),z_(o,!0),o.right===ev||U_(o.right)||(r+=o.delta,o=o.right)}else o=o.left;return z_(e.root,!1),l}function cv(e,t,n,i,o,r){var s=e.root,a=0,l=0,u=0,c=0,h=[],d=0;while(s!==ev)if(U_(s))z_(s.left,!1),z_(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),s=s.parent;else{if(!U_(s.left)){if(l=a+s.maxEnd,l<t){z_(s,!0);continue}if(s.left!==ev){s=s.left;continue}}if(u=a+s.start,u>n)z_(s,!0);else{if(c=a+s.end,c>=t){s.setCachedOffsets(u,c,r);var p=!0;i&&s.ownerId&&s.ownerId!==i&&(p=!1),o&&j_(s)&&(p=!1),p&&(h[d++]=s)}z_(s,!0),s.right===ev||U_(s.right)||(a+=s.delta,s=s.right)}}return z_(e.root,!1),h}function hv(e,t){if(e.root===ev)return t.parent=ev,t.left=ev,t.right=ev,W_(t,0),e.root=t,e.root;dv(e,t),bv(t.parent);var n=t;while(n!==e.root&&1===$_(n.parent))if(n.parent===n.parent.parent.left){var i=n.parent.parent.right;1===$_(i)?(W_(n.parent,0),W_(i,0),W_(n.parent.parent,1),n=n.parent.parent):(n===n.parent.right&&(n=n.parent,mv(e,n)),W_(n.parent,0),W_(n.parent.parent,1),_v(e,n.parent.parent))}else{i=n.parent.parent.left;1===$_(i)?(W_(n.parent,0),W_(i,0),W_(n.parent.parent,1),n=n.parent.parent):(n===n.parent.left&&(n=n.parent,_v(e,n)),W_(n.parent,0),W_(n.parent.parent,1),mv(e,n.parent.parent))}return W_(e.root,0),t}function dv(e,t){var n=0,i=e.root,o=t.start,r=t.end;while(1){var s=wv(o,r,i.start+n,i.end+n);if(s<0){if(i.left===ev){t.start-=n,t.end-=n,t.maxEnd-=n,i.left=t;break}i=i.left}else{if(i.right===ev){t.start-=n+i.delta,t.end-=n+i.delta,t.maxEnd-=n+i.delta,i.right=t;break}n+=i.delta,i=i.right}}t.parent=i,t.left=ev,t.right=ev,W_(t,1)}function pv(e,t){var n,i;if(t.left===ev?(n=t.right,i=t,n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta):t.right===ev?(n=t.left,i=t):(i=fv(t.right),n=i.right,n.start+=i.delta,n.end+=i.delta,n.delta+=i.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),i.start+=t.delta,i.end+=t.delta,i.delta=t.delta,(i.delta<-1073741824||i.delta>1073741824)&&(e.requestNormalizeDelta=!0)),i===e.root)return e.root=n,W_(n,0),t.detach(),gv(),yv(n),void(e.root.parent=ev);var o,r=1===$_(i);if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?n.parent=i.parent:(i.parent===t?n.parent=i:n.parent=i.parent,i.left=t.left,i.right=t.right,i.parent=t.parent,W_(i,$_(t)),t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==ev&&(i.left.parent=i),i.right!==ev&&(i.right.parent=i)),t.detach(),r)return bv(n.parent),i!==t&&(bv(i),bv(i.parent)),void gv();bv(n),bv(n.parent),i!==t&&(bv(i),bv(i.parent));while(n!==e.root&&0===$_(n))n===n.parent.left?(o=n.parent.right,1===$_(o)&&(W_(o,0),W_(n.parent,1),mv(e,n.parent),o=n.parent.right),0===$_(o.left)&&0===$_(o.right)?(W_(o,1),n=n.parent):(0===$_(o.right)&&(W_(o.left,0),W_(o,1),_v(e,o),o=n.parent.right),W_(o,$_(n.parent)),W_(n.parent,0),W_(o.right,0),mv(e,n.parent),n=e.root)):(o=n.parent.left,1===$_(o)&&(W_(o,0),W_(n.parent,1),_v(e,n.parent),o=n.parent.left),0===$_(o.left)&&0===$_(o.right)?(W_(o,1),n=n.parent):(0===$_(o.left)&&(W_(o.right,0),W_(o,1),mv(e,o),o=n.parent.left),W_(o,$_(n.parent)),W_(n.parent,0),W_(o.left,0),_v(e,n.parent),n=e.root));W_(n,0),gv()}function fv(e){while(e.left!==ev)e=e.left;return e}function gv(){ev.parent=ev,ev.delta=0,ev.start=0,ev.end=0}function mv(e,t){var n=t.right;n.delta+=t.delta,(n.delta<-1073741824||n.delta>1073741824)&&(e.requestNormalizeDelta=!0),n.start+=t.delta,n.end+=t.delta,t.right=n.left,n.left!==ev&&(n.left.parent=t),n.parent=t.parent,t.parent===ev?e.root=n:t===t.parent.left?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n,yv(t),yv(n)}function _v(e,t){var n=t.left;t.delta-=n.delta,(t.delta<-1073741824||t.delta>1073741824)&&(e.requestNormalizeDelta=!0),t.start-=n.delta,t.end-=n.delta,t.left=n.right,n.right!==ev&&(n.right.parent=t),n.parent=t.parent,t.parent===ev?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n,yv(t),yv(n)}function vv(e){var t=e.end;if(e.left!==ev){var n=e.left.maxEnd;n>t&&(t=n)}if(e.right!==ev){var i=e.right.maxEnd+e.delta;i>t&&(t=i)}return t}function yv(e){e.maxEnd=vv(e)}function bv(e){while(e!==ev){var t=vv(e);if(e.maxEnd===t)return;e.maxEnd=t,e=e.parent}}function wv(e,t,n,i){return e===n?t-i:e-n}var Cv=function(){function e(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}return e.prototype.next=function(){if(this.right!==Sv)return Ev(this.right);var e=this;while(e.parent!==Sv){if(e.parent.left===e)break;e=e.parent}return e.parent===Sv?Sv:e.parent},e.prototype.prev=function(){if(this.left!==Sv)return Tv(this.left);var e=this;while(e.parent!==Sv){if(e.parent.right===e)break;e=e.parent}return e.parent===Sv?Sv:e.parent},e.prototype.detach=function(){this.parent=null,this.left=null,this.right=null},e}(),Sv=new Cv(null,0);function Ev(e){while(e.left!==Sv)e=e.left;return e}function Tv(e){while(e.right!==Sv)e=e.right;return e}function kv(e){return e===Sv?0:e.size_left+e.piece.length+kv(e.right)}function xv(e){return e===Sv?0:e.lf_left+e.piece.lineFeedCnt+xv(e.right)}function Lv(){Sv.parent=Sv}function Iv(e,t){var n=t.right;n.size_left+=t.size_left+(t.piece?t.piece.length:0),n.lf_left+=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),t.right=n.left,n.left!==Sv&&(n.left.parent=t),n.parent=t.parent,t.parent===Sv?e.root=n:t.parent.left===t?t.parent.left=n:t.parent.right=n,n.left=t,t.parent=n}function Ov(e,t){var n=t.left;t.left=n.right,n.right!==Sv&&(n.right.parent=t),n.parent=t.parent,t.size_left-=n.size_left+(n.piece?n.piece.length:0),t.lf_left-=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),t.parent===Sv?e.root=n:t===t.parent.right?t.parent.right=n:t.parent.left=n,n.right=t,t.parent=n}function Dv(e,t){var n,i;if(t.left===Sv?(i=t,n=i.right):t.right===Sv?(i=t,n=i.left):(i=Ev(t.right),n=i.right),i===e.root)return e.root=n,n.color=0,t.detach(),Lv(),void(e.root.parent=Sv);var o=1===i.color;if(i===i.parent.left?i.parent.left=n:i.parent.right=n,i===t?(n.parent=i.parent,Av(e,n)):(i.parent===t?n.parent=i:n.parent=i.parent,Av(e,n),i.left=t.left,i.right=t.right,i.parent=t.parent,i.color=t.color,t===e.root?e.root=i:t===t.parent.left?t.parent.left=i:t.parent.right=i,i.left!==Sv&&(i.left.parent=i),i.right!==Sv&&(i.right.parent=i),i.size_left=t.size_left,i.lf_left=t.lf_left,Av(e,i)),t.detach(),n.parent.left===n){var r=kv(n),s=xv(n);if(r!==n.parent.size_left||s!==n.parent.lf_left){var a=r-n.parent.size_left,l=s-n.parent.lf_left;n.parent.size_left=r,n.parent.lf_left=s,Rv(e,n.parent,a,l)}}if(Av(e,n.parent),o)Lv();else{var u;while(n!==e.root&&0===n.color)n===n.parent.left?(u=n.parent.right,1===u.color&&(u.color=0,n.parent.color=1,Iv(e,n.parent),u=n.parent.right),0===u.left.color&&0===u.right.color?(u.color=1,n=n.parent):(0===u.right.color&&(u.left.color=0,u.color=1,Ov(e,u),u=n.parent.right),u.color=n.parent.color,n.parent.color=0,u.right.color=0,Iv(e,n.parent),n=e.root)):(u=n.parent.left,1===u.color&&(u.color=0,n.parent.color=1,Ov(e,n.parent),u=n.parent.left),0===u.left.color&&0===u.right.color?(u.color=1,n=n.parent):(0===u.left.color&&(u.right.color=0,u.color=1,Iv(e,u),u=n.parent.left),u.color=n.parent.color,n.parent.color=0,u.left.color=0,Ov(e,n.parent),n=e.root));n.color=0,Lv()}}function Nv(e,t){Av(e,t);while(t!==e.root&&1===t.parent.color)if(t.parent===t.parent.parent.left){var n=t.parent.parent.right;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Iv(e,t)),t.parent.color=0,t.parent.parent.color=1,Ov(e,t.parent.parent))}else{n=t.parent.parent.left;1===n.color?(t.parent.color=0,n.color=0,t.parent.parent.color=1,t=t.parent.parent):(t===t.parent.left&&(t=t.parent,Ov(e,t)),t.parent.color=0,t.parent.parent.color=1,Iv(e,t.parent.parent))}e.root.color=0}function Rv(e,t,n,i){while(t!==e.root&&t!==Sv)t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}function Av(e,t){var n=0,i=0;if(t!==e.root){if(0===n){while(t!==e.root&&t===t.parent.right)t=t.parent;if(t===e.root)return;t=t.parent,n=kv(t.left)-t.size_left,i=xv(t.left)-t.lf_left,t.size_left+=n,t.lf_left+=i}while(t!==e.root&&(0!==n||0!==i))t.parent.left===t&&(t.parent.size_left+=n,t.parent.lf_left+=i),t=t.parent}}Sv.parent=Sv,Sv.left=Sv,Sv.right=Sv,Sv.color=0;var Mv=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pv=function(e){function t(t){for(var n=e.call(this,0)||this,i=0,o=t.length;i<o;i++)n.set(t.charCodeAt(i),2);return n.set(32,1),n.set(9,1),n}return Mv(t,e),t}(yh);function Fv(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e(n)),t[n]}}var Bv=Fv((function(e){return new Pv(e)})),Vv=999,Hv=function(){function e(e,t,n,i){this.searchString=e,this.isRegex=t,this.matchCase=n,this.wordSeparators=i}return e.prototype.parseSearchRequest=function(){if(""===this.searchString)return null;var e;e=this.isRegex?$v(this.searchString):this.searchString.indexOf("\n")>=0;var t=null;try{t=Wr(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:e,global:!0,unicode:!0})}catch(i){return null}if(!t)return null;var n=!this.isRegex&&!e;return n&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(n=this.matchCase),new Wv(t,this.wordSeparators?Bv(this.wordSeparators):null,n?this.searchString:null)},e}();function $v(e){if(!e||0===e.length)return!1;for(var t=0,n=e.length;t<n;t++){var i=e.charCodeAt(t);if(92===i){if(t++,t>=n)break;var o=e.charCodeAt(t);if(110===o||114===o||87===o||119===o)return!0}}return!1}var Wv=function(){function e(e,t,n){this.regex=e,this.wordSeparators=t,this.simpleSearch=n}return e}();function Uv(e,t,n){if(!n)return new Al(e,null);for(var i=[],o=0,r=t.length;o<r;o++)i[o]=t[o];return new Al(e,i)}var zv=function(){function e(e){for(var t=[],n=0,i=0,o=e.length;i<o;i++)10===e.charCodeAt(i)&&(t[n++]=i);this._lineFeedsOffsets=t}return e.prototype.findLineFeedCountBeforeOffset=function(e){var t=this._lineFeedsOffsets,n=0,i=t.length-1;if(-1===i)return 0;if(e<=t[0])return 0;while(n<i){var o=n+((i-n)/2>>0);t[o]>=e?i=o-1:t[o+1]>=e?(n=o,i=o):n=o+1}return n+1},e}(),jv=function(){function e(){}return e.findMatches=function(e,t,n,i,o){var r=t.parseSearchRequest();return r?r.regex.multiline?this._doFindMatchesMultiline(e,n,new Yv(r.wordSeparators,r.regex),i,o):this._doFindMatchesLineByLine(e,n,r,i,o):[]},e._getMultilineMatchRange=function(e,t,n,i,o,r){var s,a,l=0;if(i?(l=i.findLineFeedCountBeforeOffset(o),s=t+o+l):s=t+o,i){var u=i.findLineFeedCountBeforeOffset(o+r.length),c=u-l;a=s+r.length+c}else a=s+r.length;var h=e.getPositionAt(s),d=e.getPositionAt(a);return new bn(h.lineNumber,h.column,d.lineNumber,d.column)},e._doFindMatchesMultiline=function(e,t,n,i,o){var r,s=e.getOffsetAt(t.getStartPosition()),a=e.getValueInRange(t,1),l="\r\n"===e.getEOL()?new zv(a):null,u=[],c=0;n.reset(0);while(r=n.next(a))if(u[c++]=Uv(this._getMultilineMatchRange(e,s,a,l,r.index,r[0]),r,i),c>=o)return u;return u},e._doFindMatchesLineByLine=function(e,t,n,i,o){var r=[],s=0;if(t.startLineNumber===t.endLineNumber){var a=e.getLineContent(t.startLineNumber).substring(t.startColumn-1,t.endColumn-1);return s=this._findMatchesInLine(n,a,t.startLineNumber,t.startColumn-1,s,r,i,o),r}var l=e.getLineContent(t.startLineNumber).substring(t.startColumn-1);s=this._findMatchesInLine(n,l,t.startLineNumber,t.startColumn-1,s,r,i,o);for(var u=t.startLineNumber+1;u<t.endLineNumber&&s<o;u++)s=this._findMatchesInLine(n,e.getLineContent(u),u,0,s,r,i,o);if(s<o){var c=e.getLineContent(t.endLineNumber).substring(0,t.endColumn-1);s=this._findMatchesInLine(n,c,t.endLineNumber,0,s,r,i,o)}return r},e._findMatchesInLine=function(e,t,n,i,o,r,s,a){var l=e.wordSeparators;if(!s&&e.simpleSearch){var u=e.simpleSearch,c=u.length,h=t.length,d=-c;while(-1!==(d=t.indexOf(u,d+c)))if((!l||qv(l,t,h,d,c))&&(r[o++]=new Al(new bn(n,d+1+i,n,d+1+c+i),null),o>=a))return o;return o}var p,f=new Yv(e.wordSeparators,e.regex);f.reset(0);do{if(p=f.next(t),p&&(r[o++]=Uv(new bn(n,p.index+1+i,n,p.index+1+p[0].length+i),p,s),o>=a))return o}while(p);return o},e.findNextMatch=function(e,t,n,i){var o=t.parseSearchRequest();if(!o)return null;var r=new Yv(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindNextMatchMultiline(e,n,r,i):this._doFindNextMatchLineByLine(e,n,r,i)},e._doFindNextMatchMultiline=function(e,t,n,i){var o=new yn(t.lineNumber,1),r=e.getOffsetAt(o),s=e.getLineCount(),a=e.getValueInRange(new bn(o.lineNumber,o.column,s,e.getLineMaxColumn(s)),1),l="\r\n"===e.getEOL()?new zv(a):null;n.reset(t.column-1);var u=n.next(a);return u?Uv(this._getMultilineMatchRange(e,r,a,l,u.index,u[0]),u,i):1!==t.lineNumber||1!==t.column?this._doFindNextMatchMultiline(e,new yn(1,1),n,i):null},e._doFindNextMatchLineByLine=function(e,t,n,i){var o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r),a=this._findFirstMatchInLine(n,s,r,t.column,i);if(a)return a;for(var l=1;l<=o;l++){var u=(r+l-1)%o,c=e.getLineContent(u+1),h=this._findFirstMatchInLine(n,c,u+1,1,i);if(h)return h}return null},e._findFirstMatchInLine=function(e,t,n,i,o){e.reset(i-1);var r=e.next(t);return r?Uv(new bn(n,r.index+1,n,r.index+1+r[0].length),r,o):null},e.findPreviousMatch=function(e,t,n,i){var o=t.parseSearchRequest();if(!o)return null;var r=new Yv(o.wordSeparators,o.regex);return o.regex.multiline?this._doFindPreviousMatchMultiline(e,n,r,i):this._doFindPreviousMatchLineByLine(e,n,r,i)},e._doFindPreviousMatchMultiline=function(e,t,n,i){var o=this._doFindMatchesMultiline(e,new bn(1,1,t.lineNumber,t.column),n,i,10*Vv);if(o.length>0)return o[o.length-1];var r=e.getLineCount();return t.lineNumber!==r||t.column!==e.getLineMaxColumn(r)?this._doFindPreviousMatchMultiline(e,new yn(r,e.getLineMaxColumn(r)),n,i):null},e._doFindPreviousMatchLineByLine=function(e,t,n,i){var o=e.getLineCount(),r=t.lineNumber,s=e.getLineContent(r).substring(0,t.column-1),a=this._findLastMatchInLine(n,s,r,i);if(a)return a;for(var l=1;l<=o;l++){var u=(o+r-l-1)%o,c=e.getLineContent(u+1),h=this._findLastMatchInLine(n,c,u+1,i);if(h)return h}return null},e._findLastMatchInLine=function(e,t,n,i){var o,r=null;e.reset(0);while(o=e.next(t))r=Uv(new bn(n,o.index+1,n,o.index+1+o[0].length),o,i);return r},e}();function Gv(e,t,n,i,o){if(0===i)return!0;var r=t.charCodeAt(i-1);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){var s=t.charCodeAt(i);if(0!==e.get(s))return!0}return!1}function Kv(e,t,n,i,o){if(i+o===n)return!0;var r=t.charCodeAt(i+o);if(0!==e.get(r))return!0;if(13===r||10===r)return!0;if(o>0){var s=t.charCodeAt(i+o-1);if(0!==e.get(s))return!0}return!1}function qv(e,t,n,i,o){return Gv(e,t,n,i,o)&&Kv(e,t,n,i,o)}var Yv=function(){function e(e,t){this._wordSeparators=e,this._searchRegex=t,this._prevMatchStartIndex=-1,this._prevMatchLength=0}return e.prototype.reset=function(e){this._searchRegex.lastIndex=e,this._prevMatchStartIndex=-1,this._prevMatchLength=0},e.prototype.next=function(e){var t,n=e.length;do{if(this._prevMatchStartIndex+this._prevMatchLength===n)return null;if(t=this._searchRegex.exec(e),!t)return null;var i=t.index,o=t[0].length;if(i===this._prevMatchStartIndex&&o===this._prevMatchLength){if(0===o){this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=i,this._prevMatchLength=o,!this._wordSeparators||qv(this._wordSeparators,e,n,i,o))return t}while(t);return null},e}(),Xv=65535;function Zv(e){var t;return t=e[e.length-1]<65536?new Uint16Array(e.length):new Uint32Array(e.length),t.set(e,0),t}var Jv=function(){function e(e,t,n,i,o){this.lineStarts=e,this.cr=t,this.lf=n,this.crlf=i,this.isBasicASCII=o}return e}();function Qv(e,t){void 0===t&&(t=!0);for(var n=[0],i=1,o=0,r=e.length;o<r;o++){var s=e.charCodeAt(o);13===s?o+1<r&&10===e.charCodeAt(o+1)?(n[i++]=o+2,o++):n[i++]=o+1:10===s&&(n[i++]=o+1)}return t?Zv(n):n}function ey(e,t){e.length=0,e[0]=0;for(var n=1,i=0,o=0,r=0,s=!0,a=0,l=t.length;a<l;a++){var u=t.charCodeAt(a);13===u?a+1<l&&10===t.charCodeAt(a+1)?(r++,e[n++]=a+2,a++):(i++,e[n++]=a+1):10===u?(o++,e[n++]=a+1):s&&9!==u&&(u<32||u>126)&&(s=!1)}var c=new Jv(Zv(e),i,o,r,s);return e.length=0,c}var ty=function(){function e(e,t,n,i,o){this.bufferIndex=e,this.start=t,this.end=n,this.lineFeedCnt=i,this.length=o}return e}(),ny=function(){function e(e,t){this.buffer=e,this.lineStarts=t}return e}(),iy=function(){function e(e){this._limit=e,this._cache=[]}return e.prototype.get=function(e){for(var t=this._cache.length-1;t>=0;t--){var n=this._cache[t];if(n.nodeStartOffset<=e&&n.nodeStartOffset+n.node.piece.length>=e)return n}return null},e.prototype.get2=function(e){for(var t=this._cache.length-1;t>=0;t--){var n=this._cache[t];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<e&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=e)return n}return null},e.prototype.set=function(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)},e.prototype.valdiate=function(e){for(var t=!1,n=this._cache,i=0;i<n.length;i++){var o=n[i];(null===o.node.parent||o.nodeStartOffset>=e)&&(n[i]=null,t=!0)}if(t){for(var r=[],s=0,a=n;s<a.length;s++){var l=a[s];null!==l&&r.push(l)}this._cache=r}},e}(),oy=function(){function e(e,t,n){this.create(e,t,n)}return e.prototype.create=function(e,t,n){this._buffers=[new ny("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Sv,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=n;for(var i=null,o=0,r=e.length;o<r;o++)if(e[o].buffer.length>0){e[o].lineStarts||(e[o].lineStarts=Qv(e[o].buffer));var s=new ty(o+1,{line:0,column:0},{line:e[o].lineStarts.length-1,column:e[o].buffer.length-e[o].lineStarts[e[o].lineStarts.length-1]},e[o].lineStarts.length-1,e[o].buffer.length);this._buffers.push(e[o]),i=this.rbInsertRight(i,s)}this._searchCache=new iy(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()},e.prototype.normalizeEOL=function(e){var t=this,n=Xv,i=n-Math.floor(n/3),o=2*i,r="",s=0,a=[];if(this.iterate(this.root,(function(n){var l=t.getNodeContent(n),u=l.length;if(s<=i||s+u<o)return r+=l,s+=u,!0;var c=r.replace(/\r\n|\r|\n/g,e);return a.push(new ny(c,Qv(c))),r=l,s=u,!0})),s>0){var l=r.replace(/\r\n|\r|\n/g,e);a.push(new ny(l,Qv(l)))}this.create(a,e,!0)},e.prototype.getEOL=function(){return this._EOL},e.prototype.setEOL=function(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)},e.prototype.getOffsetAt=function(e,t){var n=0,i=this.root;while(i!==Sv)if(i.left!==Sv&&i.lf_left+1>=e)i=i.left;else{if(i.lf_left+i.piece.lineFeedCnt+1>=e){n+=i.size_left;var o=this.getAccumulatedValue(i,e-i.lf_left-2);return n+(o+t-1)}e-=i.lf_left+i.piece.lineFeedCnt,n+=i.size_left+i.piece.length,i=i.right}return n},e.prototype.getPositionAt=function(e){e=Math.floor(e),e=Math.max(0,e);var t=this.root,n=0,i=e;while(t!==Sv)if(0!==t.size_left&&t.size_left>=e)t=t.left;else{if(t.size_left+t.piece.length>=e){var o=this.getIndexOf(t,e-t.size_left);if(n+=t.lf_left+o.index,0===o.index){var r=this.getOffsetAt(n+1,1),s=i-r;return new yn(n+1,s+1)}return new yn(n+1,o.remainder+1)}if(e-=t.size_left+t.piece.length,n+=t.lf_left+t.piece.lineFeedCnt,t.right===Sv){r=this.getOffsetAt(n+1,1),s=i-e-r;return new yn(n+1,s+1)}t=t.right}return new yn(1,1)},e.prototype.getValueInRange=function(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";var n=this.nodeAt2(e.startLineNumber,e.startColumn),i=this.nodeAt2(e.endLineNumber,e.endColumn),o=this.getValueInRange2(n,i);return t?t===this._EOL&&this._EOLNormalized&&t===this.getEOL()&&this._EOLNormalized?o:o.replace(/\r\n|\r|\n/g,t):o},e.prototype.getValueInRange2=function(e,t){if(e.node===t.node){var n=e.node,i=this._buffers[n.piece.bufferIndex].buffer,o=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i.substring(o+e.remainder,o+t.remainder)}var r=e.node,s=this._buffers[r.piece.bufferIndex].buffer,a=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start),l=s.substring(a+e.remainder,a+r.piece.length);r=r.next();while(r!==Sv){var u=this._buffers[r.piece.bufferIndex].buffer,c=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);if(r===t.node){l+=u.substring(c,c+t.remainder);break}l+=u.substr(c,r.piece.length),r=r.next()}return l},e.prototype.getLinesContent=function(){var e=this,t=[],n=0,i="",o=!1;return this.iterate(this.root,(function(r){if(r===Sv)return!0;var s=r.piece,a=s.length;if(0===a)return!0;var l=e._buffers[s.bufferIndex].buffer,u=e._buffers[s.bufferIndex].lineStarts,c=s.start.line,h=s.end.line,d=u[c]+s.start.column;if(o&&(10===l.charCodeAt(d)&&(d++,a--),t[n++]=i,i="",o=!1,0===a))return!0;if(c===h)return e._EOLNormalized||13!==l.charCodeAt(d+a-1)?i+=l.substr(d,a):(o=!0,i+=l.substr(d,a-1)),!0;i+=e._EOLNormalized?l.substring(d,Math.max(d,u[c+1]-e._EOLLength)):l.substring(d,u[c+1]).replace(/(\r\n|\r|\n)$/,""),t[n++]=i;for(var p=c+1;p<h;p++)i=e._EOLNormalized?l.substring(u[p],u[p+1]-e._EOLLength):l.substring(u[p],u[p+1]).replace(/(\r\n|\r|\n)$/,""),t[n++]=i;return e._EOLNormalized||13!==l.charCodeAt(u[h]+s.end.column-1)?i=l.substr(u[h],s.end.column):(o=!0,0===s.end.column?n--:i=l.substr(u[h],s.end.column-1)),!0})),o&&(t[n++]=i,i=""),t[n++]=i,t},e.prototype.getLength=function(){return this._length},e.prototype.getLineCount=function(){return this._lineCnt},e.prototype.getLineContent=function(e){return this._lastVisitedLine.lineNumber===e||(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value},e.prototype.getLineCharCode=function(e,t){var n=this.nodeAt2(e,t+1);if(n.remainder===n.node.piece.length){var i=n.node.next();if(!i)return 0;var o=this._buffers[i.piece.bufferIndex],r=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return o.buffer.charCodeAt(r)}o=this._buffers[n.node.piece.bufferIndex],r=this.offsetInBuffer(n.node.piece.bufferIndex,n.node.piece.start);var s=r+n.remainder;return o.buffer.charCodeAt(s)},e.prototype.getLineLength=function(e){if(e===this.getLineCount()){var t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength},e.prototype.findMatchesInNode=function(e,t,n,i,o,r,s,a,l,u,c){var h,d,p,f=this._buffers[e.piece.bufferIndex],g=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),m=this.offsetInBuffer(e.piece.bufferIndex,o),_=this.offsetInBuffer(e.piece.bufferIndex,r),v={line:0,column:0};t._wordSeparators?(d=f.buffer.substring(m,_),p=function(e){return e+m},t.reset(-1)):(d=f.buffer,p=function(e){return e},t.reset(m));do{if(h=t.next(d),h){if(p(h.index)>=_)return u;this.positionInBuffer(e,p(h.index)-g,v);var y=this.getLineFeedCnt(e.piece.bufferIndex,o,v),b=v.line===o.line?v.column-o.column+i:v.column+1,w=b+h[0].length;if(c[u++]=Uv(new bn(n+y,b,n+y,w),h,a),p(h.index)+h[0].length>=_)return u;if(u>=l)return u}}while(h);return u},e.prototype.findMatchesLineByLine=function(e,t,n,i){var o=[],r=0,s=new Yv(t.wordSeparators,t.regex),a=this.nodeAt2(e.startLineNumber,e.startColumn);if(null===a)return[];var l=this.nodeAt2(e.endLineNumber,e.endColumn);if(null===l)return[];var u=this.positionInBuffer(a.node,a.remainder),c=this.positionInBuffer(l.node,l.remainder);if(a.node===l.node)return this.findMatchesInNode(a.node,s,e.startLineNumber,e.startColumn,u,c,t,n,i,r,o),o;var h=e.startLineNumber,d=a.node;while(d!==l.node){var p=this.getLineFeedCnt(d.piece.bufferIndex,u,d.piece.end);if(p>=1){var f=this._buffers[d.piece.bufferIndex].lineStarts,g=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start),m=f[u.line+p],_=h===e.startLineNumber?e.startColumn:1;if(r=this.findMatchesInNode(d,s,h,_,u,this.positionInBuffer(d,m-g),t,n,i,r,o),r>=i)return o;h+=p}var v=h===e.startLineNumber?e.startColumn-1:0;if(h===e.endLineNumber){var y=this.getLineContent(h).substring(v,e.endColumn-1);return r=this._findMatchesInLine(t,s,y,e.endLineNumber,v,r,o,n,i),o}if(r=this._findMatchesInLine(t,s,this.getLineContent(h).substr(v),h,v,r,o,n,i),r>=i)return o;h++,a=this.nodeAt2(h,1),d=a.node,u=this.positionInBuffer(a.node,a.remainder)}if(h===e.endLineNumber){var b=h===e.startLineNumber?e.startColumn-1:0;y=this.getLineContent(h).substring(b,e.endColumn-1);return r=this._findMatchesInLine(t,s,y,e.endLineNumber,b,r,o,n,i),o}var w=h===e.startLineNumber?e.startColumn:1;return r=this.findMatchesInNode(l.node,s,h,w,u,c,t,n,i,r,o),o},e.prototype._findMatchesInLine=function(e,t,n,i,o,r,s,a,l){var u,c=e.wordSeparators;if(!a&&e.simpleSearch){var h=e.simpleSearch,d=h.length,p=n.length,f=-d;while(-1!==(f=n.indexOf(h,f+d)))if((!c||qv(c,n,p,f,d))&&(s[r++]=new Al(new bn(i,f+1+o,i,f+1+d+o),null),r>=l))return r;return r}t.reset(0);do{if(u=t.next(n),u&&(s[r++]=Uv(new bn(i,u.index+1+o,i,u.index+1+u[0].length+o),u,a),r>=l))return r}while(u);return r},e.prototype.insert=function(e,t,n){if(void 0===n&&(n=!1),this._EOLNormalized=this._EOLNormalized&&n,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Sv){var i=this.nodeAt(e),o=i.node,r=i.remainder,s=i.nodeStartOffset,a=o.piece,l=a.bufferIndex,u=this.positionInBuffer(o,r);if(0===o.piece.bufferIndex&&a.end.line===this._lastChangeBufferPos.line&&a.end.column===this._lastChangeBufferPos.column&&s+a.length===e&&t.length<Xv)return this.appendToNode(o,t),void this.computeBufferMetadata();if(s===e)this.insertContentToNodeLeft(t,o),this._searchCache.valdiate(e);else if(s+o.piece.length>e){var c=[],h=new ty(a.bufferIndex,u,a.end,this.getLineFeedCnt(a.bufferIndex,u,a.end),this.offsetInBuffer(l,a.end)-this.offsetInBuffer(l,u));if(this.shouldCheckCRLF()&&this.endWithCR(t)){var d=this.nodeCharCodeAt(o,r);if(10===d){var p={line:h.start.line+1,column:0};h=new ty(h.bufferIndex,p,h.end,this.getLineFeedCnt(h.bufferIndex,p,h.end),h.length-1),t+="\n"}}if(this.shouldCheckCRLF()&&this.startWithLF(t)){var f=this.nodeCharCodeAt(o,r-1);if(13===f){var g=this.positionInBuffer(o,r-1);this.deleteNodeTail(o,g),t="\r"+t,0===o.piece.length&&c.push(o)}else this.deleteNodeTail(o,u)}else this.deleteNodeTail(o,u);var m=this.createNewPieces(t);h.length>0&&this.rbInsertRight(o,h);for(var _=o,v=0;v<m.length;v++)_=this.rbInsertRight(_,m[v]);this.deleteNodes(c)}else this.insertContentToNodeRight(t,o)}else{var y=this.createNewPieces(t);for(o=this.rbInsertLeft(null,y[0]),v=1;v<y.length;v++)o=this.rbInsertRight(o,y[v])}this.computeBufferMetadata()},e.prototype.delete=function(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",!(t<=0||this.root===Sv)){var n=this.nodeAt(e),i=this.nodeAt(e+t),o=n.node,r=i.node;if(o===r){var s=this.positionInBuffer(o,n.remainder),a=this.positionInBuffer(o,i.remainder);if(n.nodeStartOffset===e){if(t===o.piece.length){var l=o.next();return Dv(this,o),this.validateCRLFWithPrevNode(l),void this.computeBufferMetadata()}return this.deleteNodeHead(o,a),this._searchCache.valdiate(e),this.validateCRLFWithPrevNode(o),void this.computeBufferMetadata()}return n.nodeStartOffset+o.piece.length===e+t?(this.deleteNodeTail(o,s),this.validateCRLFWithNextNode(o),void this.computeBufferMetadata()):(this.shrinkNode(o,s,a),void this.computeBufferMetadata())}var u=[],c=this.positionInBuffer(o,n.remainder);this.deleteNodeTail(o,c),this._searchCache.valdiate(e),0===o.piece.length&&u.push(o);var h=this.positionInBuffer(r,i.remainder);this.deleteNodeHead(r,h),0===r.piece.length&&u.push(r);for(var d=o.next(),p=d;p!==Sv&&p!==r;p=p.next())u.push(p);var f=0===o.piece.length?o.prev():o;this.deleteNodes(u),this.validateCRLFWithNextNode(f),this.computeBufferMetadata()}},e.prototype.insertContentToNodeLeft=function(e,t){var n=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){var i=t.piece,o={line:i.start.line+1,column:0},r=new ty(i.bufferIndex,o,i.end,this.getLineFeedCnt(i.bufferIndex,o,i.end),i.length-1);t.piece=r,e+="\n",Rv(this,t,-1,-1),0===t.piece.length&&n.push(t)}for(var s=this.createNewPieces(e),a=this.rbInsertLeft(t,s[s.length-1]),l=s.length-2;l>=0;l--)a=this.rbInsertLeft(a,s[l]);this.validateCRLFWithPrevNode(a),this.deleteNodes(n)},e.prototype.insertContentToNodeRight=function(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+="\n");for(var n=this.createNewPieces(e),i=this.rbInsertRight(t,n[0]),o=i,r=1;r<n.length;r++)o=this.rbInsertRight(o,n[r]);this.validateCRLFWithPrevNode(i)},e.prototype.positionInBuffer=function(e,t,n){var i=e.piece,o=e.piece.bufferIndex,r=this._buffers[o].lineStarts,s=r[i.start.line]+i.start.column,a=s+t,l=i.start.line,u=i.end.line,c=0,h=0,d=0;while(l<=u){if(c=l+(u-l)/2|0,d=r[c],c===u)break;if(h=r[c+1],a<d)u=c-1;else{if(!(a>=h))break;l=c+1}}return n?(n.line=c,n.column=a-d,null):{line:c,column:a-d}},e.prototype.getLineFeedCnt=function(e,t,n){if(0===n.column)return n.line-t.line;var i=this._buffers[e].lineStarts;if(n.line===i.length-1)return n.line-t.line;var o=i[n.line+1],r=i[n.line]+n.column;if(o>r+1)return n.line-t.line;var s=r-1,a=this._buffers[e].buffer;return 13===a.charCodeAt(s)?n.line-t.line+1:n.line-t.line},e.prototype.offsetInBuffer=function(e,t){var n=this._buffers[e].lineStarts;return n[t.line]+t.column},e.prototype.deleteNodes=function(e){for(var t=0;t<e.length;t++)Dv(this,e[t])},e.prototype.createNewPieces=function(e){if(e.length>Xv){var t=[];while(e.length>Xv){var n=e.charCodeAt(Xv-1),i=void 0;13===n||n>=55296&&n<=56319?(i=e.substring(0,Xv-1),e=e.substring(Xv-1)):(i=e.substring(0,Xv),e=e.substring(Xv));var o=Qv(i);t.push(new ty(this._buffers.length,{line:0,column:0},{line:o.length-1,column:i.length-o[o.length-1]},o.length-1,i.length)),this._buffers.push(new ny(i,o))}var r=Qv(e);return t.push(new ty(this._buffers.length,{line:0,column:0},{line:r.length-1,column:e.length-r[r.length-1]},r.length-1,e.length)),this._buffers.push(new ny(e,r)),t}var s=this._buffers[0].buffer.length,a=Qv(e,!1),l=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===s&&0!==s&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},l=this._lastChangeBufferPos;for(var u=0;u<a.length;u++)a[u]+=s+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+="_"+e,s+=1}else{if(0!==s)for(u=0;u<a.length;u++)a[u]+=s;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+=e}var c=this._buffers[0].buffer.length,h=this._buffers[0].lineStarts.length-1,d=c-this._buffers[0].lineStarts[h],p={line:h,column:d},f=new ty(0,l,p,this.getLineFeedCnt(0,l,p),c-s);return this._lastChangeBufferPos=p,[f]},e.prototype.getLineRawContent=function(e,t){void 0===t&&(t=0);var n=this.root,i="",o=this._searchCache.get2(e);if(o){n=o.node;var r=this.getAccumulatedValue(n,e-o.nodeStartLineNumber-1),s=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);if(o.nodeStartLineNumber+n.piece.lineFeedCnt!==e){var l=this.getAccumulatedValue(n,e-o.nodeStartLineNumber);return s.substring(a+r,a+l-t)}i=s.substring(a+r,a+n.piece.length)}else{var u=0,c=e;while(n!==Sv)if(n.left!==Sv&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){r=this.getAccumulatedValue(n,e-n.lf_left-2),l=this.getAccumulatedValue(n,e-n.lf_left-1),s=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return u+=n.size_left,this._searchCache.set({node:n,nodeStartOffset:u,nodeStartLineNumber:c-(e-1-n.lf_left)}),s.substring(a+r,a+l-t)}if(n.lf_left+n.piece.lineFeedCnt===e-1){r=this.getAccumulatedValue(n,e-n.lf_left-2),s=this._buffers[n.piece.bufferIndex].buffer,a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i=s.substring(a+r,a+n.piece.length);break}e-=n.lf_left+n.piece.lineFeedCnt,u+=n.size_left+n.piece.length,n=n.right}}n=n.next();while(n!==Sv){s=this._buffers[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){l=this.getAccumulatedValue(n,0),a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);return i+=s.substring(a,a+l-t),i}a=this.offsetInBuffer(n.piece.bufferIndex,n.piece.start);i+=s.substr(a,n.piece.length),n=n.next()}return i},e.prototype.computeBufferMetadata=function(){var e=this.root,t=1,n=0;while(e!==Sv)t+=e.lf_left+e.piece.lineFeedCnt,n+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=n,this._searchCache.valdiate(this._length)},e.prototype.getIndexOf=function(e,t){var n=e.piece,i=this.positionInBuffer(e,t),o=i.line-n.start.line;if(this.offsetInBuffer(n.bufferIndex,n.end)-this.offsetInBuffer(n.bufferIndex,n.start)===t){var r=this.getLineFeedCnt(e.piece.bufferIndex,n.start,i);if(r!==o)return{index:r,remainder:0}}return{index:o,remainder:i.column}},e.prototype.getAccumulatedValue=function(e,t){if(t<0)return 0;var n=e.piece,i=this._buffers[n.bufferIndex].lineStarts,o=n.start.line+t+1;return o>n.end.line?i[n.end.line]+n.end.column-i[n.start.line]-n.start.column:i[o]-i[n.start.line]-n.start.column},e.prototype.deleteNodeTail=function(e,t){var n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.end),r=t,s=this.offsetInBuffer(n.bufferIndex,r),a=this.getLineFeedCnt(n.bufferIndex,n.start,r),l=a-i,u=s-o,c=n.length+u;e.piece=new ty(n.bufferIndex,n.start,r,a,c),Rv(this,e,u,l)},e.prototype.deleteNodeHead=function(e,t){var n=e.piece,i=n.lineFeedCnt,o=this.offsetInBuffer(n.bufferIndex,n.start),r=t,s=this.getLineFeedCnt(n.bufferIndex,r,n.end),a=this.offsetInBuffer(n.bufferIndex,r),l=s-i,u=o-a,c=n.length+u;e.piece=new ty(n.bufferIndex,r,n.end,s,c),Rv(this,e,u,l)},e.prototype.shrinkNode=function(e,t,n){var i=e.piece,o=i.start,r=i.end,s=i.length,a=i.lineFeedCnt,l=t,u=this.getLineFeedCnt(i.bufferIndex,i.start,l),c=this.offsetInBuffer(i.bufferIndex,t)-this.offsetInBuffer(i.bufferIndex,o);e.piece=new ty(i.bufferIndex,i.start,l,u,c),Rv(this,e,c-s,u-a);var h=new ty(i.bufferIndex,n,r,this.getLineFeedCnt(i.bufferIndex,n,r),this.offsetInBuffer(i.bufferIndex,r)-this.offsetInBuffer(i.bufferIndex,n)),d=this.rbInsertRight(e,h);this.validateCRLFWithPrevNode(d)},e.prototype.appendToNode=function(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+="\n");var n=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),i=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;for(var o=Qv(t,!1),r=0;r<o.length;r++)o[r]+=i;if(n){var s=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:i-s}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(o.slice(1));var a=this._buffers[0].lineStarts.length-1,l=this._buffers[0].buffer.length-this._buffers[0].lineStarts[a],u={line:a,column:l},c=e.piece.length+t.length,h=e.piece.lineFeedCnt,d=this.getLineFeedCnt(0,e.piece.start,u),p=d-h;e.piece=new ty(e.piece.bufferIndex,e.piece.start,u,d,c),this._lastChangeBufferPos=u,Rv(this,e,t.length,p)},e.prototype.nodeAt=function(e){var t=this.root,n=this._searchCache.get(e);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:e-n.nodeStartOffset};var i=0;while(t!==Sv)if(t.size_left>e)t=t.left;else{if(t.size_left+t.piece.length>=e){i+=t.size_left;var o={node:t,remainder:e-t.size_left,nodeStartOffset:i};return this._searchCache.set(o),o}e-=t.size_left+t.piece.length,i+=t.size_left+t.piece.length,t=t.right}return null},e.prototype.nodeAt2=function(e,t){var n=this.root,i=0;while(n!==Sv)if(n.left!==Sv&&n.lf_left>=e-1)n=n.left;else{if(n.lf_left+n.piece.lineFeedCnt>e-1){var o=this.getAccumulatedValue(n,e-n.lf_left-2),r=this.getAccumulatedValue(n,e-n.lf_left-1);return i+=n.size_left,{node:n,remainder:Math.min(o+t-1,r),nodeStartOffset:i}}if(n.lf_left+n.piece.lineFeedCnt===e-1){o=this.getAccumulatedValue(n,e-n.lf_left-2);if(o+t-1<=n.piece.length)return{node:n,remainder:o+t-1,nodeStartOffset:i};t-=n.piece.length-o;break}e-=n.lf_left+n.piece.lineFeedCnt,i+=n.size_left+n.piece.length,n=n.right}n=n.next();while(n!==Sv){if(n.piece.lineFeedCnt>0){r=this.getAccumulatedValue(n,0);var s=this.offsetOfNode(n);return{node:n,remainder:Math.min(t-1,r),nodeStartOffset:s}}if(n.piece.length>=t-1){var a=this.offsetOfNode(n);return{node:n,remainder:t-1,nodeStartOffset:a}}t-=n.piece.length,n=n.next()}return null},e.prototype.nodeCharCodeAt=function(e,t){if(e.piece.lineFeedCnt<1)return-1;var n=this._buffers[e.piece.bufferIndex],i=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return n.buffer.charCodeAt(i)},e.prototype.offsetOfNode=function(e){if(!e)return 0;var t=e.size_left;while(e!==this.root)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t},e.prototype.shouldCheckCRLF=function(){return!(this._EOLNormalized&&"\n"===this._EOL)},e.prototype.startWithLF=function(e){if("string"===typeof e)return 10===e.charCodeAt(0);if(e===Sv||0===e.piece.lineFeedCnt)return!1;var t=e.piece,n=this._buffers[t.bufferIndex].lineStarts,i=t.start.line,o=n[i]+t.start.column;if(i===n.length-1)return!1;var r=n[i+1];return!(r>o+1)&&10===this._buffers[t.bufferIndex].buffer.charCodeAt(o)},e.prototype.endWithCR=function(e){return"string"===typeof e?13===e.charCodeAt(e.length-1):e!==Sv&&0!==e.piece.lineFeedCnt&&13===this.nodeCharCodeAt(e,e.piece.length-1)},e.prototype.validateCRLFWithPrevNode=function(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){var t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}},e.prototype.validateCRLFWithNextNode=function(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}},e.prototype.fixCRLF=function(e,t){var n,i=[],o=this._buffers[e.piece.bufferIndex].lineStarts;n=0===e.piece.end.column?{line:e.piece.end.line-1,column:o[e.piece.end.line]-o[e.piece.end.line-1]-1}:{line:e.piece.end.line,column:e.piece.end.column-1};var r=e.piece.length-1,s=e.piece.lineFeedCnt-1;e.piece=new ty(e.piece.bufferIndex,e.piece.start,n,s,r),Rv(this,e,-1,-1),0===e.piece.length&&i.push(e);var a={line:t.piece.start.line+1,column:0},l=t.piece.length-1,u=this.getLineFeedCnt(t.piece.bufferIndex,a,t.piece.end);t.piece=new ty(t.piece.bufferIndex,a,t.piece.end,u,l),Rv(this,t,-1,-1),0===t.piece.length&&i.push(t);var c=this.createNewPieces("\r\n");this.rbInsertRight(e,c[0]);for(var h=0;h<i.length;h++)Dv(this,i[h])},e.prototype.adjustCarriageReturnFromNext=function(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){var n=t.next();if(this.startWithLF(n)){if(e+="\n",1===n.piece.length)Dv(this,n);else{var i=n.piece,o={line:i.start.line+1,column:0},r=i.length-1,s=this.getLineFeedCnt(i.bufferIndex,o,i.end);n.piece=new ty(i.bufferIndex,o,i.end,s,r),Rv(this,n,-1,-1)}return!0}}return!1},e.prototype.iterate=function(e,t){if(e===Sv)return t(Sv);var n=this.iterate(e.left,t);return n?t(e)&&this.iterate(e.right,t):n},e.prototype.getNodeContent=function(e){if(e===Sv)return"";var t,n=this._buffers[e.piece.bufferIndex],i=e.piece,o=this.offsetInBuffer(i.bufferIndex,i.start),r=this.offsetInBuffer(i.bufferIndex,i.end);return t=n.buffer.substring(o,r),t},e.prototype.rbInsertRight=function(e,t){var n=new Cv(t,1);n.left=Sv,n.right=Sv,n.parent=Sv,n.size_left=0,n.lf_left=0;var i=this.root;if(i===Sv)this.root=n,n.color=0;else if(e.right===Sv)e.right=n,n.parent=e;else{var o=Ev(e.right);o.left=n,n.parent=o}return Nv(this,n),n},e.prototype.rbInsertLeft=function(e,t){var n=new Cv(t,1);if(n.left=Sv,n.right=Sv,n.parent=Sv,n.size_left=0,n.lf_left=0,this.root===Sv)this.root=n,n.color=0;else if(e.left===Sv)e.left=n,n.parent=e;else{var i=Tv(e.left);i.right=n,n.parent=i}return Nv(this,n),n},e}(),ry=function(){function e(e,t,n,i,o,r){this._BOM=t,this._mightContainNonBasicASCII=!o,this._mightContainRTL=i,this._pieceTree=new oy(e,n,r)}return e.prototype.mightContainRTL=function(){return this._mightContainRTL},e.prototype.mightContainNonBasicASCII=function(){return this._mightContainNonBasicASCII},e.prototype.getBOM=function(){return this._BOM},e.prototype.getEOL=function(){return this._pieceTree.getEOL()},e.prototype.getOffsetAt=function(e,t){return this._pieceTree.getOffsetAt(e,t)},e.prototype.getPositionAt=function(e){return this._pieceTree.getPositionAt(e)},e.prototype.getRangeAt=function(e,t){var n=e+t,i=this.getPositionAt(e),o=this.getPositionAt(n);return new bn(i.lineNumber,i.column,o.lineNumber,o.column)},e.prototype.getValueInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return"";var n=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,n)},e.prototype.getValueLengthInRange=function(e,t){if(void 0===t&&(t=0),e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;var n=this.getOffsetAt(e.startLineNumber,e.startColumn),i=this.getOffsetAt(e.endLineNumber,e.endColumn);return i-n},e.prototype.getCharacterCountInRange=function(e,t){if(void 0===t&&(t=0),this._mightContainNonBasicASCII){for(var n=0,i=e.startLineNumber,o=e.endLineNumber,r=i;r<=o;r++)for(var s=this.getLineContent(r),a=r===i?e.startColumn-1:0,l=r===o?e.endColumn-1:s.length,u=a;u<l;u++)os(s.charCodeAt(u))?(n+=1,u+=1):n+=1;return n+=this._getEndOfLine(t).length*(o-i),n}return this.getValueLengthInRange(e,t)},e.prototype.getLength=function(){return this._pieceTree.getLength()},e.prototype.getLineCount=function(){return this._pieceTree.getLineCount()},e.prototype.getLinesContent=function(){return this._pieceTree.getLinesContent()},e.prototype.getLineContent=function(e){return this._pieceTree.getLineContent(e)},e.prototype.getLineCharCode=function(e,t){return this._pieceTree.getLineCharCode(e,t)},e.prototype.getLineLength=function(e){return this._pieceTree.getLineLength(e)},e.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=jr(this.getLineContent(e));return-1===t?0:t+1},e.prototype.getLineLastNonWhitespaceColumn=function(e){var t=Kr(this.getLineContent(e));return-1===t?0:t+2},e.prototype._getEndOfLine=function(e){switch(e){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL()}throw new Error("Unknown EOL preference")},e.prototype.setEOL=function(e){this._pieceTree.setEOL(e)},e.prototype.applyEdits=function(t,n){for(var i=this._mightContainRTL,o=this._mightContainNonBasicASCII,r=!0,s=[],a=0;a<t.length;a++){var l=t[a];r&&l._isTracked&&(r=!1);var u=l.range;!i&&l.text&&(i=hs(l.text)),!o&&l.text&&(o=!gs(l.text)),s[a]={sortIndex:a,identifier:l.identifier||null,range:u,rangeOffset:this.getOffsetAt(u.startLineNumber,u.startColumn),rangeLength:this.getValueLengthInRange(u),lines:l.text?l.text.split(/\r\n|\r|\n/):null,forceMoveMarkers:Boolean(l.forceMoveMarkers),isAutoWhitespaceEdit:l.isAutoWhitespaceEdit||!1}}s.sort(e._sortOpsAscending);for(var c=!1,h=(a=0,s.length-1);a<h;a++){var d=s[a].range.getEndPosition(),p=s[a+1].range.getStartPosition();if(p.isBeforeOrEqual(d)){if(p.isBefore(d))throw new Error("Overlapping ranges are not allowed!");c=!0}}r&&(s=this._reduceOperations(s));var f=e._getInverseEditRanges(s),g=[];for(a=0;a<s.length;a++){l=s[a];var m=f[a];if(n&&l.isAutoWhitespaceEdit&&l.range.isEmpty())for(var _=m.startLineNumber;_<=m.endLineNumber;_++){var v="";_===m.startLineNumber&&(v=this.getLineContent(l.range.startLineNumber),-1!==jr(v))||g.push({lineNumber:_,oldContent:v})}}var y=[];for(a=0;a<s.length;a++){l=s[a],m=f[a];y[a]={sortIndex:l.sortIndex,identifier:l.identifier,range:m,text:this.getValueInRange(l.range),forceMoveMarkers:l.forceMoveMarkers}}c||y.sort((function(e,t){return e.sortIndex-t.sortIndex})),this._mightContainRTL=i,this._mightContainNonBasicASCII=o;var b=this._doApplyEdits(s),w=null;if(n&&g.length>0){g.sort((function(e,t){return t.lineNumber-e.lineNumber})),w=[];a=0;for(var C=g.length;a<C;a++){_=g[a].lineNumber;if(!(a>0&&g[a-1].lineNumber===_)){var S=g[a].oldContent,E=this.getLineContent(_);0!==E.length&&E!==S&&-1===jr(E)&&w.push(_)}}}return new Ml(y,b,w)},e.prototype._reduceOperations=function(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]},e.prototype._toSingleEditOperation=function(e){for(var t=!1,n=e[0].range,i=e[e.length-1].range,o=new bn(n.startLineNumber,n.startColumn,i.endLineNumber,i.endColumn),r=n.startLineNumber,s=n.startColumn,a=[],l=0,u=e.length;l<u;l++){var c=e[l],h=c.range;t=t||c.forceMoveMarkers;for(var d=r;d<h.startLineNumber;d++)d===r?a.push(this.getLineContent(d).substring(s-1)):(a.push("\n"),a.push(this.getLineContent(d)));if(h.startLineNumber===r?a.push(this.getLineContent(h.startLineNumber).substring(s-1,h.startColumn-1)):(a.push("\n"),a.push(this.getLineContent(h.startLineNumber).substring(0,h.startColumn-1))),c.lines)for(var p=0,f=c.lines.length;p<f;p++)0!==p&&a.push("\n"),a.push(c.lines[p]);r=c.range.endLineNumber,s=c.range.endColumn}return{sortIndex:0,identifier:e[0].identifier,range:o,rangeOffset:this.getOffsetAt(o.startLineNumber,o.startColumn),rangeLength:this.getValueLengthInRange(o,0),lines:a.join("").split("\n"),forceMoveMarkers:t,isAutoWhitespaceEdit:!1}},e.prototype._doApplyEdits=function(t){t.sort(e._sortOpsDescending);for(var n=[],i=0;i<t.length;i++){var o=t[i],r=o.range.startLineNumber,s=o.range.startColumn,a=o.range.endLineNumber,l=o.range.endColumn;if(r!==a||s!==l||o.lines&&0!==o.lines.length){var u=a-r,c=o.lines?o.lines.length-1:0,h=Math.min(u,c),d=o.lines?o.lines.join(this.getEOL()):"";if(d?(this._pieceTree.delete(o.rangeOffset,o.rangeLength),this._pieceTree.insert(o.rangeOffset,d,!0)):this._pieceTree.delete(o.rangeOffset,o.rangeLength),h<c){for(var p=[],f=h+1;f<=c;f++)p.push(o.lines[f]);p[p.length-1]=this.getLineContent(r+c-1)}var g=new bn(r,s,a,l);n.push({range:g,rangeLength:o.rangeLength,text:d,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}}return n},e.prototype.findMatchesLineByLine=function(e,t,n,i){return this._pieceTree.findMatchesLineByLine(e,t,n,i)},e._getInverseEditRanges=function(e){for(var t=[],n=0,i=0,o=null,r=0,s=e.length;r<s;r++){var a=e[r],l=void 0,u=void 0;o?o.range.endLineNumber===a.range.startLineNumber?(l=n,u=i+(a.range.startColumn-o.range.endColumn)):(l=n+(a.range.startLineNumber-o.range.endLineNumber),u=a.range.startColumn):(l=a.range.startLineNumber,u=a.range.startColumn);var c=void 0;if(a.lines&&a.lines.length>0){var h=a.lines.length,d=a.lines[0],p=a.lines[h-1];c=1===h?new bn(l,u,l,u+d.length):new bn(l,u,l+h-1,p.length+1)}else c=new bn(l,u,l,u);n=c.endLineNumber,i=c.endColumn,t.push(c),o=a}return t},e._sortOpsAscending=function(e,t){var n=bn.compareRangesUsingEnds(e.range,t.range);return 0===n?e.sortIndex-t.sortIndex:n},e._sortOpsDescending=function(e,t){var n=bn.compareRangesUsingEnds(e.range,t.range);return 0===n?t.sortIndex-e.sortIndex:-n},e}(),sy=function(){function e(e,t,n,i,o,r,s,a){this._chunks=e,this._bom=t,this._cr=n,this._lf=i,this._crlf=o,this._containsRTL=r,this._isBasicASCII=s,this._normalizeEOL=a}return e.prototype._getEOL=function(e){var t=this._cr+this._lf+this._crlf,n=this._cr+this._crlf;return 0===t?1===e?"\n":"\r\n":n>t/2?"\r\n":"\n"},e.prototype.create=function(e){var t=this._getEOL(e),n=this._chunks;if(this._normalizeEOL&&("\r\n"===t&&(this._cr>0||this._lf>0)||"\n"===t&&(this._cr>0||this._crlf>0)))for(var i=0,o=n.length;i<o;i++){var r=n[i].buffer.replace(/\r\n|\r|\n/g,t),s=Qv(r);n[i]=new ny(r,s)}return new ry(n,this._bom,t,this._containsRTL,this._isBasicASCII,this._normalizeEOL)},e}(),ay=function(){function e(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.isBasicASCII=!0}return e.prototype.acceptChunk=function(e){if(0!==e.length){0===this.chunks.length&&bs(e)&&(this.BOM=ys,e=e.substr(1));var t=e.charCodeAt(e.length-1);13===t||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}},e.prototype._acceptChunk1=function(e,t){(t||0!==e.length)&&(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))},e.prototype._acceptChunk2=function(e){var t=ey(this._tmpLineStarts,e);this.chunks.push(new ny(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,this.isBasicASCII&&(this.isBasicASCII=t.isBasicASCII),this.isBasicASCII||this.containsRTL||(this.containsRTL=hs(e))},e.prototype.finish=function(e){return void 0===e&&(e=!0),this._finish(),new sy(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.isBasicASCII,e)},e.prototype._finish=function(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;var e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);var t=Qv(e.buffer);e.lineStarts=t,13===this._previousChar&&this.cr++}},e}(),ly=function(){function e(){this.changeType=1}return e}(),uy=function(){function e(e,t){this.changeType=2,this.lineNumber=e,this.detail=t}return e}(),cy=function(){function e(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}return e}(),hy=function(){function e(e,t,n){this.changeType=4,this.fromLineNumber=e,this.toLineNumber=t,this.detail=n}return e}(),dy=function(){function e(){this.changeType=5}return e}(),py=function(){function e(e,t,n,i){this.changes=e,this.versionId=t,this.isUndoing=n,this.isRedoing=i}return e.prototype.containsEvent=function(e){for(var t=0,n=this.changes.length;t<n;t++){var i=this.changes[t];if(i.changeType===e)return!0}return!1},e.merge=function(t,n){var i=[].concat(t.changes).concat(n.changes),o=n.versionId,r=t.isUndoing||n.isUndoing,s=t.isRedoing||n.isRedoing;return new e(i,o,r,s)},e}(),fy=function(){function e(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}return e.prototype.merge=function(t){var n=py.merge(this.rawContentChangedEvent,t.rawContentChangedEvent),i=e._mergeChangeEvents(this.contentChangedEvent,t.contentChangedEvent);return new e(n,i)},e._mergeChangeEvents=function(e,t){var n=[].concat(e.changes).concat(t.changes),i=t.eol,o=t.versionId,r=e.isUndoing||t.isUndoing,s=e.isRedoing||t.isRedoing,a=e.isFlush||t.isFlush;return{changes:n,eol:i,versionId:o,isUndoing:r,isRedoing:s,isFlush:a}},e}();function gy(e){for(var t=0,n=0,i=0,o=0,r=e.length;o<r;o++){var s=e.charCodeAt(o);13===s?(0===t&&(n=o),t++,o+1<r&&10===e.charCodeAt(o+1)&&o++,i=o+1):10===s&&(0===t&&(n=o),t++,i=o+1)}return 0===t&&(n=e.length),[t,n,e.length-i]}function my(e){return(16384|e<<0|2<<23)>>>0}var _y=new Uint32Array(0).buffer,vy=function(){function e(){this.tokens=[]}return e.prototype.add=function(e,t){if(this.tokens.length>0){var n=this.tokens[this.tokens.length-1],i=n.startLineNumber+n.tokens.length-1;if(i+1===e)return void n.tokens.push(t)}this.tokens.push(new Cy(e,[t]))},e}(),yy=function(){function e(e){this._tokens=e,this._tokenCount=e.length/4}return e.prototype.getMaxDeltaLine=function(){var e=this.getTokenCount();return 0===e?-1:this.getDeltaLine(e-1)},e.prototype.getTokenCount=function(){return this._tokenCount},e.prototype.getDeltaLine=function(e){return this._tokens[4*e]},e.prototype.getStartCharacter=function(e){return this._tokens[4*e+1]},e.prototype.getEndCharacter=function(e){return this._tokens[4*e+2]},e.prototype.getMetadata=function(e){return this._tokens[4*e+3]},e.prototype.clear=function(){this._tokenCount=0},e.prototype.acceptDeleteRange=function(e,t,n,i,o){for(var r=this._tokens,s=this._tokenCount,a=i-t,l=0,u=!1,c=0;c<s;c++){var h=4*c,d=r[h],p=r[h+1],f=r[h+2],g=r[h+3];if(d<t||d===t&&f<=n)l++;else{if(d===t&&p<n)d===i&&f>o?f-=o-n:f=n;else if(d===t&&p===n){if(!(d===i&&f>o)){u=!0;continue}f-=o-n}else if(d<i||d===i&&p<o){if(!(d===i&&f>o)){u=!0;continue}d===t?(p=n,f=p+(f-o)):(p=0,f=p+(f-o))}else if(d>i){if(0===a&&!u){l=s;break}d-=a}else{if(!(d===i&&p>=o))throw new Error("Not possible!");e&&0===d&&(p+=e,f+=e),d-=a,p-=o-n,f-=o-n}var m=4*l;r[m]=d,r[m+1]=p,r[m+2]=f,r[m+3]=g,l++}}this._tokenCount=l},e.prototype.acceptInsertText=function(e,t,n,i,o,r){for(var s=0===n&&1===i&&(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122),a=this._tokens,l=this._tokenCount,u=0;u<l;u++){var c=4*u,h=a[c],d=a[c+1],p=a[c+2];if(!(h<e||h===e&&p<t)){if(h===e&&p===t){if(!s)continue;p+=1}else if(h===e&&d<t&&t<p)0===n?p+=i:p=t;else{if(h===e&&d===t&&s)continue;if(h===e)if(h+=n,0===n)d+=i,p+=i;else{var f=p-d;d=o+(d-t),p=d+f}else h+=n}a[c]=h,a[c+1]=d,a[c+2]=p}}},e}(),by=function(){function e(e,t,n){this._actual=e,this._startTokenIndex=t,this._endTokenIndex=n}return e.prototype.getCount=function(){return this._endTokenIndex-this._startTokenIndex+1},e.prototype.getStartCharacter=function(e){return this._actual.getStartCharacter(this._startTokenIndex+e)},e.prototype.getEndCharacter=function(e){return this._actual.getEndCharacter(this._startTokenIndex+e)},e.prototype.getMetadata=function(e){return this._actual.getMetadata(this._startTokenIndex+e)},e}(),wy=function(){function e(e,t){this.startLineNumber=e,this.tokens=t,this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()}return e.prototype._updateEndLineNumber=function(){this.endLineNumber=this.startLineNumber+this.tokens.getMaxDeltaLine()},e.prototype.getLineTokens=function(t){if(this.startLineNumber<=t&&t<=this.endLineNumber){var n=e._findTokensWithLine(this.tokens,t-this.startLineNumber);if(n){var i=n[0],o=n[1];return new by(this.tokens,i,o)}}return null},e._findTokensWithLine=function(e,t){var n=0,i=e.getTokenCount()-1;while(n<i){var o=n+Math.floor((i-n)/2),r=e.getDeltaLine(o);if(r<t)n=o+1;else{if(!(r>t)){var s=o;while(s>n&&e.getDeltaLine(s-1)===t)s--;var a=o;while(a<i&&e.getDeltaLine(a+1)===t)a++;return[s,a]}i=o-1}}return e.getDeltaLine(n)===t?[n,n]:null},e.prototype.applyEdit=function(e,t){var n=gy(t),i=n[0],o=n[1],r=n[2];this.acceptEdit(e,i,o,r,t.length>0?t.charCodeAt(0):0)},e.prototype.acceptEdit=function(e,t,n,i,o){this._acceptDeleteRange(e),this._acceptInsertText(new yn(e.startLineNumber,e.startColumn),t,n,i,o),this._updateEndLineNumber()},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn){var t=e.startLineNumber-this.startLineNumber,n=e.endLineNumber-this.startLineNumber;if(n<0){var i=n-t;this.startLineNumber-=i}else{var o=this.tokens.getMaxDeltaLine();if(!(t>=o+1)){if(t<0&&n>=o+1)return this.startLineNumber=0,void this.tokens.clear();if(t<0){var r=-t;this.startLineNumber-=r,this.tokens.acceptDeleteRange(e.startColumn-1,0,0,n,e.endColumn-1)}else this.tokens.acceptDeleteRange(0,t,e.startColumn-1,n,e.endColumn-1)}}}},e.prototype._acceptInsertText=function(e,t,n,i,o){if(0!==t||0!==n){var r=e.lineNumber-this.startLineNumber;if(r<0)this.startLineNumber+=t;else{var s=this.tokens.getMaxDeltaLine();r>=s+1||this.tokens.acceptInsertText(r,e.column-1,t,n,i,o)}}},e}(),Cy=function(){function e(e,t){this.startLineNumber=e,this.tokens=t}return e}();function Sy(e){return e instanceof Uint32Array?e:new Uint32Array(e)}var Ey=function(){function e(){this._pieces=[]}return e.prototype.flush=function(){this._pieces=[]},e.prototype.set=function(e){this._pieces=e||[]},e.prototype.addSemanticTokens=function(t,n){var i=this._pieces;if(0===i.length)return n;var o=e._findFirstPieceWithLine(i,t),r=this._pieces[o].getLineTokens(t);if(!r)return n;for(var s=n.getCount(),a=r.getCount(),l=0,u=[],c=0,h=0;h<a;h++){var d=r.getStartCharacter(h),p=r.getEndCharacter(h),f=r.getMetadata(h),g=((1&f?2048:0)|(2&f?4096:0)|(4&f?8192:0)|(8&f?8372224:0)|(16&f?4286578688:0))>>>0,m=~g>>>0;while(l<s&&n.getEndOffset(l)<=d)u[c++]=n.getEndOffset(l),u[c++]=n.getMetadata(l),l++;l<s&&n.getStartOffset(l)<d&&(u[c++]=d,u[c++]=n.getMetadata(l));while(l<s&&n.getEndOffset(l)<p)u[c++]=n.getEndOffset(l),u[c++]=n.getMetadata(l)&m|f&g,l++;if(l<s&&n.getEndOffset(l)===p)u[c++]=n.getEndOffset(l),u[c++]=n.getMetadata(l)&m|f&g,l++;else{var _=Math.min(Math.max(0,l-1),s-1);u[c++]=p,u[c++]=n.getMetadata(_)&m|f&g}}while(l<s)u[c++]=n.getEndOffset(l),u[c++]=n.getMetadata(l),l++;return new ad(new Uint32Array(u),n.getLineContent())},e._findFirstPieceWithLine=function(e,t){var n=0,i=e.length-1;while(n<i){var o=n+Math.floor((i-n)/2);if(e[o].endLineNumber<t)n=o+1;else{if(!(e[o].startLineNumber>t)){while(o>n&&e[o-1].startLineNumber<=t&&t<=e[o-1].endLineNumber)o--;return o}i=o-1}}return n},e.prototype.acceptEdit=function(e,t,n,i,o){for(var r=0,s=this._pieces;r<s.length;r++){var a=s[r];a.acceptEdit(e,t,n,i,o)}},e}(),Ty=function(){function e(){this._lineTokens=[],this._len=0}return e.prototype.flush=function(){this._lineTokens=[],this._len=0},e.prototype.getTokens=function(e,t,n){var i=null;if(t<this._len&&(i=this._lineTokens[t]),null!==i&&i!==_y)return new ad(Sy(i),n);var o=new Uint32Array(2);return o[0]=n.length,o[1]=my(e),new ad(o,n)},e._massageTokens=function(e,t,n){var i=n?Sy(n):null;if(0===t){var o=!1;if(i&&i.length>1&&(o=Cu.getLanguageId(i[1])!==e),!o)return _y}if(!i||0===i.length){var r=new Uint32Array(2);return r[0]=t,r[1]=my(e),r.buffer}return i[i.length-2]=t,0===i.byteOffset&&i.byteLength===i.buffer.byteLength?i.buffer:i},e.prototype._ensureLine=function(e){while(e>=this._len)this._lineTokens[this._len]=null,this._len++},e.prototype._deleteLines=function(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)},e.prototype._insertLines=function(e,t){if(0!==t){for(var n=[],i=0;i<t;i++)n[i]=null;this._lineTokens=Yi(this._lineTokens,e,n),this._len+=t}},e.prototype.setTokens=function(t,n,i,o){var r=e._massageTokens(t,i,o);this._ensureLine(n),this._lineTokens[n]=r},e.prototype.acceptEdit=function(e,t,n){this._acceptDeleteRange(e),this._acceptInsertText(new yn(e.startLineNumber,e.startColumn),t,n)},e.prototype._acceptDeleteRange=function(t){var n=t.startLineNumber-1;if(!(n>=this._len))if(t.startLineNumber!==t.endLineNumber){this._lineTokens[n]=e._deleteEnding(this._lineTokens[n],t.startColumn-1);var i=t.endLineNumber-1,o=null;i<this._len&&(o=e._deleteBeginning(this._lineTokens[i],t.endColumn-1)),this._lineTokens[n]=e._append(this._lineTokens[n],o),this._deleteLines(t.startLineNumber,t.endLineNumber-t.startLineNumber)}else{if(t.startColumn===t.endColumn)return;this._lineTokens[n]=e._delete(this._lineTokens[n],t.startColumn-1,t.endColumn-1)}},e.prototype._acceptInsertText=function(t,n,i){if(0!==n||0!==i){var o=t.lineNumber-1;o>=this._len||(0!==n?(this._lineTokens[o]=e._deleteEnding(this._lineTokens[o],t.column-1),this._lineTokens[o]=e._insert(this._lineTokens[o],t.column-1,i),this._insertLines(t.lineNumber,n)):this._lineTokens[o]=e._insert(this._lineTokens[o],t.column-1,i))}},e._deleteBeginning=function(t,n){return null===t||t===_y?t:e._delete(t,0,n)},e._deleteEnding=function(t,n){if(null===t||t===_y)return t;var i=Sy(t),o=i[i.length-2];return e._delete(t,n,o)},e._delete=function(e,t,n){if(null===e||e===_y||t===n)return e;var i=Sy(e),o=i.length>>>1;if(0===t&&i[i.length-2]===n)return _y;var r,s,a=ad.findIndexInTokensArray(i,t),l=a>0?i[a-1<<1]:0,u=i[a<<1];if(n<u){for(var c=n-t,h=a;h<o;h++)i[h<<1]-=c;return e}l!==t?(i[a<<1]=t,r=a+1<<1,s=t):(r=a<<1,s=l);for(var d=n-t,p=a+1;p<o;p++){var f=i[p<<1]-d;f>s&&(i[r++]=f,i[r++]=i[1+(p<<1)],s=f)}if(r===i.length)return e;var g=new Uint32Array(r);return g.set(i.subarray(0,r),0),g.buffer},e._append=function(e,t){if(t===_y)return e;if(e===_y)return t;if(null===e)return e;if(null===t)return null;var n=Sy(e),i=Sy(t),o=i.length>>>1,r=new Uint32Array(n.length+i.length);r.set(n,0);for(var s=n.length,a=n[n.length-2],l=0;l<o;l++)r[s++]=i[l<<1]+a,r[s++]=i[1+(l<<1)];return r.buffer},e._insert=function(e,t,n){if(null===e||e===_y)return e;var i=Sy(e),o=i.length>>>1,r=ad.findIndexInTokensArray(i,t);if(r>0){var s=i[r-1<<1];s===t&&r--}for(var a=r;a<o;a++)i[a<<1]+=n;return e},e}(),ky=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xy=function(){function e(){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0}return e.prototype._reset=function(e){this._beginState=[],this._valid=[],this._len=0,this._invalidLineStartIndex=0,e&&this._setBeginState(0,e)},e.prototype.flush=function(e){this._reset(e)},Object.defineProperty(e.prototype,"invalidLineStartIndex",{get:function(){return this._invalidLineStartIndex},enumerable:!0,configurable:!0}),e.prototype._invalidateLine=function(e){e<this._len&&(this._valid[e]=!1),e<this._invalidLineStartIndex&&(this._invalidLineStartIndex=e)},e.prototype._isValid=function(e){return e<this._len&&this._valid[e]},e.prototype.getBeginState=function(e){return e<this._len?this._beginState[e]:null},e.prototype._ensureLine=function(e){while(e>=this._len)this._beginState[this._len]=null,this._valid[this._len]=!1,this._len++},e.prototype._deleteLines=function(e,t){0!==t&&(e+t>this._len&&(t=this._len-e),this._beginState.splice(e,t),this._valid.splice(e,t),this._len-=t)},e.prototype._insertLines=function(e,t){if(0!==t){for(var n=[],i=[],o=0;o<t;o++)n[o]=null,i[o]=!1;this._beginState=Yi(this._beginState,e,n),this._valid=Yi(this._valid,e,i),this._len+=t}},e.prototype._setValid=function(e,t){this._ensureLine(e),this._valid[e]=t},e.prototype._setBeginState=function(e,t){this._ensureLine(e),this._beginState[e]=t},e.prototype.setEndState=function(e,t,n){if(this._setValid(t,!0),this._invalidLineStartIndex=t+1,t!==e-1){var i=this.getBeginState(t+1);if(null===i||!n.equals(i))return this._setBeginState(t+1,n),void this._invalidateLine(t+1);var o=t+1;while(o<e){if(!this._isValid(o))break;o++}this._invalidLineStartIndex=o}},e.prototype.setFakeTokens=function(e){this._setValid(e,!1)},e.prototype.applyEdits=function(e,t){for(var n=e.endLineNumber-e.startLineNumber,i=t,o=Math.min(n,i),r=o;r>=0;r--)this._invalidateLine(e.startLineNumber+r-1);this._acceptDeleteRange(e),this._acceptInsertText(new yn(e.startLineNumber,e.startColumn),t)},e.prototype._acceptDeleteRange=function(e){var t=e.startLineNumber-1;t>=this._len||this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)},e.prototype._acceptInsertText=function(e,t){var n=e.lineNumber-1;n>=this._len||this._insertLines(e.lineNumber,t)},e}(),Ly=function(e){function t(t){var n=e.call(this)||this;return n._isDisposed=!1,n._textModel=t,n._tokenizationStateStore=new xy,n._tokenizationSupport=null,n._register(Zu.onDidChange((function(e){var t=n._textModel.getLanguageIdentifier();-1!==e.changedLanguages.indexOf(t.language)&&(n._resetTokenizationState(),n._textModel.clearTokens())}))),n._register(n._textModel.onDidChangeRawContentFast((function(e){e.containsEvent(1)&&n._resetTokenizationState()}))),n._register(n._textModel.onDidChangeContentFast((function(e){for(var t=0,i=e.changes.length;t<i;t++){var o=e.changes[t],r=gy(o.text)[0];n._tokenizationStateStore.applyEdits(o.range,r)}n._beginBackgroundTokenization()}))),n._register(n._textModel.onDidChangeAttached((function(){n._beginBackgroundTokenization()}))),n._register(n._textModel.onDidChangeLanguage((function(){n._resetTokenizationState(),n._textModel.clearTokens()}))),n._resetTokenizationState(),n}return ky(t,e),t.prototype.dispose=function(){this._isDisposed=!0,e.prototype.dispose.call(this)},t.prototype._resetTokenizationState=function(){var e=Iy(this._textModel),t=e[0],n=e[1];this._tokenizationSupport=t,this._tokenizationStateStore.flush(n),this._beginBackgroundTokenization()},t.prototype._beginBackgroundTokenization=function(){var e=this;this._textModel.isAttachedToEditor()&&this._hasLinesToTokenize()&&s["i"]((function(){e._isDisposed||e._revalidateTokensNow()}))},t.prototype._revalidateTokensNow=function(e){void 0===e&&(e=this._textModel.getLineCount());var t=1,n=new vy,i=$h.create(!1);while(this._hasLinesToTokenize()){if(i.elapsed()>t)break;var o=this._tokenizeOneInvalidLine(n);if(o>=e)break}this._beginBackgroundTokenization(),this._textModel.setTokens(n.tokens)},t.prototype.tokenizeViewport=function(e,t){var n=new vy;this._tokenizeViewport(n,e,t),this._textModel.setTokens(n.tokens)},t.prototype.reset=function(){this._resetTokenizationState(),this._textModel.clearTokens()},t.prototype.forceTokenization=function(e){var t=new vy;this._updateTokensUntilLine(t,e),this._textModel.setTokens(t.tokens)},t.prototype.isCheapToTokenize=function(e){if(!this._tokenizationSupport)return!0;var t=this._tokenizationStateStore.invalidLineStartIndex+1;return!(e>t)&&(e<t||this._textModel.getLineLength(e)<2048)},t.prototype._hasLinesToTokenize=function(){return!!this._tokenizationSupport&&this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount()},t.prototype._tokenizeOneInvalidLine=function(e){if(!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;var t=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(e,t),t},t.prototype._updateTokensUntilLine=function(e,t){if(this._tokenizationSupport)for(var n=this._textModel.getLanguageIdentifier(),i=this._textModel.getLineCount(),o=t-1,r=this._tokenizationStateStore.invalidLineStartIndex;r<=o;r++){var s=this._textModel.getLineContent(r+1),a=this._tokenizationStateStore.getBeginState(r),l=Oy(n,this._tokenizationSupport,s,a);e.add(r+1,l.tokens),this._tokenizationStateStore.setEndState(i,r,l.endState),r=this._tokenizationStateStore.invalidLineStartIndex-1}},t.prototype._tokenizeViewport=function(e,t,n){if(this._tokenizationSupport&&!(n<=this._tokenizationStateStore.invalidLineStartIndex))if(t<=this._tokenizationStateStore.invalidLineStartIndex)this._updateTokensUntilLine(e,n);else{for(var i=this._textModel.getLineFirstNonWhitespaceColumn(t),o=[],r=null,s=t-1;i>0&&s>=1;s--){var a=this._textModel.getLineFirstNonWhitespaceColumn(s);if(0!==a&&a<i){if(r=this._tokenizationStateStore.getBeginState(s-1),r)break;o.push(this._textModel.getLineContent(s)),i=a}}r||(r=this._tokenizationSupport.getInitialState());var l=this._textModel.getLanguageIdentifier(),u=r;for(s=o.length-1;s>=0;s--){var c=Oy(l,this._tokenizationSupport,o[s],u);u=c.endState}for(var h=t;h<=n;h++){var d=this._textModel.getLineContent(h);c=Oy(l,this._tokenizationSupport,d,u);e.add(h,c.tokens),this._tokenizationStateStore.setFakeTokens(h-1),u=c.endState}}},t}(Ae);function Iy(e){var t=e.getLanguageIdentifier(),n=e.isTooLargeForTokenization()?null:Zu.get(t.language),i=null;if(n)try{i=n.getInitialState()}catch(o){ge(o),n=null}return[n,i]}function Oy(e,t,n,i){var o=null;if(t)try{o=t.tokenize2(n,i.clone(),0)}catch(r){ge(r)}return o||(o=ic(e.id,n,i,0)),ad.convertToEndOffset(o.tokens,n.length),o}function Dy(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var Ny=function(){function e(e,t,n,i){void 0===i&&(i=1),this.r=0|Math.min(255,Math.max(0,e)),this.g=0|Math.min(255,Math.max(0,t)),this.b=0|Math.min(255,Math.max(0,n)),this.a=Dy(Math.max(Math.min(1,i),0),3)}return e.equals=function(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a},e}(),Ry=function(){function e(e,t,n,i){this.h=0|Math.max(Math.min(360,e),0),this.s=Dy(Math.max(Math.min(1,t),0),3),this.l=Dy(Math.max(Math.min(1,n),0),3),this.a=Dy(Math.max(Math.min(1,i),0),3)}return e.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.l===t.l&&e.a===t.a},e.fromRGBA=function(t){var n=t.r/255,i=t.g/255,o=t.b/255,r=t.a,s=Math.max(n,i,o),a=Math.min(n,i,o),l=0,u=0,c=(a+s)/2,h=s-a;if(h>0){switch(u=Math.min(c<=.5?h/(2*c):h/(2-2*c),1),s){case n:l=(i-o)/h+(i<o?6:0);break;case i:l=(o-n)/h+2;break;case o:l=(n-i)/h+4;break}l*=60,l=Math.round(l)}return new e(l,u,c,r)},e._hue2rgb=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},e.toRGBA=function(t){var n,i,o,r=t.h/360,s=t.s,a=t.l,l=t.a;if(0===s)n=i=o=a;else{var u=a<.5?a*(1+s):a+s-a*s,c=2*a-u;n=e._hue2rgb(c,u,r+1/3),i=e._hue2rgb(c,u,r),o=e._hue2rgb(c,u,r-1/3)}return new Ny(Math.round(255*n),Math.round(255*i),Math.round(255*o),l)},e}(),Ay=function(){function e(e,t,n,i){this.h=0|Math.max(Math.min(360,e),0),this.s=Dy(Math.max(Math.min(1,t),0),3),this.v=Dy(Math.max(Math.min(1,n),0),3),this.a=Dy(Math.max(Math.min(1,i),0),3)}return e.equals=function(e,t){return e.h===t.h&&e.s===t.s&&e.v===t.v&&e.a===t.a},e.fromRGBA=function(t){var n,i=t.r/255,o=t.g/255,r=t.b/255,s=Math.max(i,o,r),a=Math.min(i,o,r),l=s-a,u=0===s?0:l/s;return n=0===l?0:s===i?((o-r)/l%6+6)%6:s===o?(r-i)/l+2:(i-o)/l+4,new e(Math.round(60*n),u,s,t.a)},e.toRGBA=function(e){var t=e.h,n=e.s,i=e.v,o=e.a,r=i*n,s=r*(1-Math.abs(t/60%2-1)),a=i-r,l=[0,0,0],u=l[0],c=l[1],h=l[2];return t<60?(u=r,c=s):t<120?(u=s,c=r):t<180?(c=r,h=s):t<240?(c=s,h=r):t<300?(u=s,h=r):t<360&&(u=r,h=s),u=Math.round(255*(u+a)),c=Math.round(255*(c+a)),h=Math.round(255*(h+a)),new Ny(u,c,h,o)},e}(),My=function(){function e(e){if(!e)throw new Error("Color needs a value");if(e instanceof Ny)this.rgba=e;else if(e instanceof Ry)this._hsla=e,this.rgba=Ry.toRGBA(e);else{if(!(e instanceof Ay))throw new Error("Invalid color ctor argument");this._hsva=e,this.rgba=Ay.toRGBA(e)}}return e.fromHex=function(t){return e.Format.CSS.parseHex(t)||e.red},Object.defineProperty(e.prototype,"hsla",{get:function(){return this._hsla?this._hsla:Ry.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hsva",{get:function(){return this._hsva?this._hsva:Ay.fromRGBA(this.rgba)},enumerable:!0,configurable:!0}),e.prototype.equals=function(e){return!!e&&Ny.equals(this.rgba,e.rgba)&&Ry.equals(this.hsla,e.hsla)&&Ay.equals(this.hsva,e.hsva)},e.prototype.getRelativeLuminance=function(){var t=e._relativeLuminanceForComponent(this.rgba.r),n=e._relativeLuminanceForComponent(this.rgba.g),i=e._relativeLuminanceForComponent(this.rgba.b),o=.2126*t+.7152*n+.0722*i;return Dy(o,4)},e._relativeLuminanceForComponent=function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)},e.prototype.isLighter=function(){var e=(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3;return e>=128},e.prototype.isLighterThan=function(e){var t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t>n},e.prototype.isDarkerThan=function(e){var t=this.getRelativeLuminance(),n=e.getRelativeLuminance();return t<n},e.prototype.lighten=function(t){return new e(new Ry(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*t,this.hsla.a))},e.prototype.darken=function(t){return new e(new Ry(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*t,this.hsla.a))},e.prototype.transparent=function(t){var n=this.rgba,i=n.r,o=n.g,r=n.b,s=n.a;return new e(new Ny(i,o,r,s*t))},e.prototype.isTransparent=function(){return 0===this.rgba.a},e.prototype.isOpaque=function(){return 1===this.rgba.a},e.prototype.opposite=function(){return new e(new Ny(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))},e.prototype.toString=function(){return""+e.Format.CSS.format(this)},e.getLighterColor=function(e,t,n){if(e.isLighterThan(t))return e;n=n||.5;var i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(o-i)/o,e.lighten(n)},e.getDarkerColor=function(e,t,n){if(e.isDarkerThan(t))return e;n=n||.5;var i=e.getRelativeLuminance(),o=t.getRelativeLuminance();return n=n*(i-o)/i,e.darken(n)},e.white=new e(new Ny(255,255,255,1)),e.black=new e(new Ny(0,0,0,1)),e.red=new e(new Ny(255,0,0,1)),e.blue=new e(new Ny(0,0,255,1)),e.cyan=new e(new Ny(0,255,255,1)),e.lightgrey=new e(new Ny(211,211,211,1)),e.transparent=new e(new Ny(0,0,0,0)),e}();(function(e){(function(t){(function(t){function n(t){return 1===t.rgba.a?"rgb("+t.rgba.r+", "+t.rgba.g+", "+t.rgba.b+")":e.Format.CSS.formatRGBA(t)}function i(e){return"rgba("+e.rgba.r+", "+e.rgba.g+", "+e.rgba.b+", "+ +e.rgba.a.toFixed(2)+")"}function o(t){return 1===t.hsla.a?"hsl("+t.hsla.h+", "+(100*t.hsla.s).toFixed(2)+"%, "+(100*t.hsla.l).toFixed(2)+"%)":e.Format.CSS.formatHSLA(t)}function r(e){return"hsla("+e.hsla.h+", "+(100*e.hsla.s).toFixed(2)+"%, "+(100*e.hsla.l).toFixed(2)+"%, "+e.hsla.a.toFixed(2)+")"}function s(e){var t=e.toString(16);return 2!==t.length?"0"+t:t}function a(e){return"#"+s(e.rgba.r)+s(e.rgba.g)+s(e.rgba.b)}function l(t,n){return void 0===n&&(n=!1),n&&1===t.rgba.a?e.Format.CSS.formatHex(t):"#"+s(t.rgba.r)+s(t.rgba.g)+s(t.rgba.b)+s(Math.round(255*t.rgba.a))}function u(t){return t.isOpaque()?e.Format.CSS.formatHex(t):e.Format.CSS.formatRGBA(t)}function c(t){var n=t.length;if(0===n)return null;if(35!==t.charCodeAt(0))return null;if(7===n){var i=16*h(t.charCodeAt(1))+h(t.charCodeAt(2)),o=16*h(t.charCodeAt(3))+h(t.charCodeAt(4)),r=16*h(t.charCodeAt(5))+h(t.charCodeAt(6));return new e(new Ny(i,o,r,1))}if(9===n){i=16*h(t.charCodeAt(1))+h(t.charCodeAt(2)),o=16*h(t.charCodeAt(3))+h(t.charCodeAt(4)),r=16*h(t.charCodeAt(5))+h(t.charCodeAt(6));var s=16*h(t.charCodeAt(7))+h(t.charCodeAt(8));return new e(new Ny(i,o,r,s/255))}if(4===n){i=h(t.charCodeAt(1)),o=h(t.charCodeAt(2)),r=h(t.charCodeAt(3));return new e(new Ny(16*i+i,16*o+o,16*r+r))}if(5===n){i=h(t.charCodeAt(1)),o=h(t.charCodeAt(2)),r=h(t.charCodeAt(3)),s=h(t.charCodeAt(4));return new e(new Ny(16*i+i,16*o+o,16*r+r,(16*s+s)/255))}return null}function h(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}t.formatRGB=n,t.formatRGBA=i,t.formatHSL=o,t.formatHSLA=r,t.formatHex=a,t.formatHexA=l,t.format=u,t.parseHex=c})(t.CSS||(t.CSS={}))})(e.Format||(e.Format={}))})(My||(My={}));var Py=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Fy(){return new ay}function By(e){var t=Fy();return t.acceptChunk(e),t.finish()}function Vy(e,t){var n="string"===typeof e?By(e):e;return n.create(t)}var Hy=0,$y=999,Wy=1e4,Uy=function(){throw new Error("Invalid change accessor")},zy=function(e){function t(n,i,o,r){void 0===r&&(r=null);var s=e.call(this)||this;s._onWillDispose=s._register(new Ze),s.onWillDispose=s._onWillDispose.event,s._onDidChangeDecorations=s._register(new Qy),s.onDidChangeDecorations=s._onDidChangeDecorations.event,s._onDidChangeLanguage=s._register(new Ze),s.onDidChangeLanguage=s._onDidChangeLanguage.event,s._onDidChangeLanguageConfiguration=s._register(new Ze),s.onDidChangeLanguageConfiguration=s._onDidChangeLanguageConfiguration.event,s._onDidChangeTokens=s._register(new Ze),s.onDidChangeTokens=s._onDidChangeTokens.event,s._onDidChangeOptions=s._register(new Ze),s.onDidChangeOptions=s._onDidChangeOptions.event,s._onDidChangeAttached=s._register(new Ze),s.onDidChangeAttached=s._onDidChangeAttached.event,s._eventEmitter=s._register(new eb),Hy++,s.id="$model"+Hy,s.isForSimpleWidget=i.isForSimpleWidget,s._associatedResource="undefined"===typeof r||null===r?Lt.parse("inmemory://model/"+Hy):r,s._attachedEditorCount=0,s._buffer=Vy(n,i.defaultEOL),s._options=t.resolveOptions(s._buffer,i);var a=s._buffer.getLineCount(),l=s._buffer.getValueLengthInRange(new bn(1,1,a,s._buffer.getLineLength(a)+1),0);return i.largeFileOptimizations?s._isTooLargeForTokenization=l>t.LARGE_FILE_SIZE_THRESHOLD||a>t.LARGE_FILE_LINE_COUNT_THRESHOLD:s._isTooLargeForTokenization=!1,s._isTooLargeForSyncing=l>t.MODEL_SYNC_LIMIT,s._versionId=1,s._alternativeVersionId=1,s._isDisposed=!1,s._isDisposing=!1,s._languageIdentifier=o||tc,s._languageRegistryListener=Uc.onDidChange((function(e){e.languageIdentifier.id===s._languageIdentifier.id&&s._onDidChangeLanguageConfiguration.fire({})})),s._instanceId=Es(Hy),s._lastDecorationId=0,s._decorations=Object.create(null),s._decorationsTree=new jy,s._commandManager=new F_(s),s._isUndoing=!1,s._isRedoing=!1,s._trimAutoWhitespaceLines=null,s._tokens=new Ty,s._tokens2=new Ey,s._tokenization=new Ly(s),s}return Py(t,e),t.createFromString=function(e,n,i,o){return void 0===n&&(n=t.DEFAULT_CREATION_OPTIONS),void 0===i&&(i=null),void 0===o&&(o=null),new t(e,n,i,o)},t.resolveOptions=function(e,t){if(t.detectIndentation){var n=H_(e,t.tabSize,t.insertSpaces);return new Rl({tabSize:n.tabSize,indentSize:n.tabSize,insertSpaces:n.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})}return new Rl({tabSize:t.tabSize,indentSize:t.indentSize,insertSpaces:t.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL})},t.prototype.onDidChangeRawContentFast=function(e){return this._eventEmitter.fastEvent((function(t){return e(t.rawContentChangedEvent)}))},t.prototype.onDidChangeRawContent=function(e){return this._eventEmitter.slowEvent((function(t){return e(t.rawContentChangedEvent)}))},t.prototype.onDidChangeContentFast=function(e){return this._eventEmitter.fastEvent((function(t){return e(t.contentChangedEvent)}))},t.prototype.onDidChangeContent=function(e){return this._eventEmitter.slowEvent((function(t){return e(t.contentChangedEvent)}))},t.prototype.dispose=function(){this._isDisposing=!0,this._onWillDispose.fire(),this._languageRegistryListener.dispose(),this._tokenization.dispose(),this._isDisposed=!0,e.prototype.dispose.call(this),this._isDisposing=!1},t.prototype._assertNotDisposed=function(){if(this._isDisposed)throw new Error("Model is disposed!")},t.prototype._emitContentChangedEvent=function(e,t){this._isDisposing||this._eventEmitter.fire(new fy(e,t))},t.prototype.setValue=function(e){if(this._assertNotDisposed(),null!==e){var t=Vy(e,this._options.defaultEOL);this.setValueFromTextBuffer(t)}},t.prototype._createContentChanged2=function(e,t,n,i,o,r,s){return{changes:[{range:e,rangeOffset:t,rangeLength:n,text:i}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:o,isRedoing:r,isFlush:s}},t.prototype.setValueFromTextBuffer=function(e){if(this._assertNotDisposed(),null!==e){var t=this.getFullModelRange(),n=this.getValueLengthInRange(t),i=this.getLineCount(),o=this.getLineMaxColumn(i);this._buffer=e,this._increaseVersionId(),this._tokens.flush(),this._tokens2.flush(),this._decorations=Object.create(null),this._decorationsTree=new jy,this._commandManager=new F_(this),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new py([new ly],this._versionId,!1,!1),this._createContentChanged2(new bn(1,1,i,o),0,n,this.getValue(),!1,!1,!0))}},t.prototype.setEOL=function(e){this._assertNotDisposed();var t=1===e?"\r\n":"\n";if(this._buffer.getEOL()!==t){var n=this.getFullModelRange(),i=this.getValueLengthInRange(n),o=this.getLineCount(),r=this.getLineMaxColumn(o);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new py([new dy],this._versionId,!1,!1),this._createContentChanged2(new bn(1,1,o,r),0,i,this.getValue(),!1,!1,!1))}},t.prototype._onBeforeEOLChange=function(){var e=this.getVersionId(),t=this._decorationsTree.search(0,!1,!1,e);this._ensureNodesHaveRanges(t)},t.prototype._onAfterEOLChange=function(){for(var e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder(),n=0,i=t.length;n<i;n++){var o=t[n],r=o.cachedAbsoluteStart-o.start,s=this._buffer.getOffsetAt(o.range.startLineNumber,o.range.startColumn),a=this._buffer.getOffsetAt(o.range.endLineNumber,o.range.endColumn);o.cachedAbsoluteStart=s,o.cachedAbsoluteEnd=a,o.cachedVersionId=e,o.start=s-r,o.end=a-r,yv(o)}},t.prototype.onBeforeAttached=function(){this._attachedEditorCount++,1===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)},t.prototype.onBeforeDetached=function(){this._attachedEditorCount--,0===this._attachedEditorCount&&this._onDidChangeAttached.fire(void 0)},t.prototype.isAttachedToEditor=function(){return this._attachedEditorCount>0},t.prototype.getAttachedEditorCount=function(){return this._attachedEditorCount},t.prototype.isTooLargeForSyncing=function(){return this._isTooLargeForSyncing},t.prototype.isTooLargeForTokenization=function(){return this._isTooLargeForTokenization},t.prototype.isDisposed=function(){return this._isDisposed},t.prototype.isDominatedByLongLines=function(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;for(var e=0,t=0,n=this._buffer.getLineCount(),i=1;i<=n;i++){var o=this._buffer.getLineLength(i);o>=Wy?t+=o:e+=o}return t>e},Object.defineProperty(t.prototype,"uri",{get:function(){return this._associatedResource},enumerable:!0,configurable:!0}),t.prototype.getOptions=function(){return this._assertNotDisposed(),this._options},t.prototype.getFormattingOptions=function(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}},t.prototype.updateOptions=function(e){this._assertNotDisposed();var t="undefined"!==typeof e.tabSize?e.tabSize:this._options.tabSize,n="undefined"!==typeof e.indentSize?e.indentSize:this._options.indentSize,i="undefined"!==typeof e.insertSpaces?e.insertSpaces:this._options.insertSpaces,o="undefined"!==typeof e.trimAutoWhitespace?e.trimAutoWhitespace:this._options.trimAutoWhitespace,r=new Rl({tabSize:t,indentSize:n,insertSpaces:i,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:o});if(!this._options.equals(r)){var s=this._options.createChangeEvent(r);this._options=r,this._onDidChangeOptions.fire(s)}},t.prototype.detectIndentation=function(e,t){this._assertNotDisposed();var n=H_(this._buffer,t,e);this.updateOptions({insertSpaces:n.insertSpaces,tabSize:n.tabSize,indentSize:n.tabSize})},t._normalizeIndentationFromWhitespace=function(e,t,n){for(var i=0,o=0;o<e.length;o++)"\t"===e.charAt(o)?i+=t:i++;var r="";if(!n){var s=Math.floor(i/t);i%=t;for(o=0;o<s;o++)r+="\t"}for(o=0;o<i;o++)r+=" ";return r},t.normalizeIndentation=function(e,n,i){var o=jr(e);return-1===o&&(o=e.length),t._normalizeIndentationFromWhitespace(e.substring(0,o),n,i)+e.substring(o)},t.prototype.normalizeIndentation=function(e){return this._assertNotDisposed(),t.normalizeIndentation(e,this._options.indentSize,this._options.insertSpaces)},t.prototype.getVersionId=function(){return this._assertNotDisposed(),this._versionId},t.prototype.mightContainRTL=function(){return this._buffer.mightContainRTL()},t.prototype.mightContainNonBasicASCII=function(){return this._buffer.mightContainNonBasicASCII()},t.prototype.getAlternativeVersionId=function(){return this._assertNotDisposed(),this._alternativeVersionId},t.prototype.getOffsetAt=function(e){this._assertNotDisposed();var t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)},t.prototype.getPositionAt=function(e){this._assertNotDisposed();var t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)},t.prototype._increaseVersionId=function(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId},t.prototype._overwriteAlternativeVersionId=function(e){this._alternativeVersionId=e},t.prototype.getValue=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueInRange(n,e);return t?this._buffer.getBOM()+i:i},t.prototype.getValueLength=function(e,t){void 0===t&&(t=!1),this._assertNotDisposed();var n=this.getFullModelRange(),i=this.getValueLengthInRange(n,e);return t?this._buffer.getBOM().length+i:i},t.prototype.getValueInRange=function(e,t){return void 0===t&&(t=0),this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)},t.prototype.getValueLengthInRange=function(e,t){return void 0===t&&(t=0),this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)},t.prototype.getCharacterCountInRange=function(e,t){return void 0===t&&(t=0),this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)},t.prototype.getLineCount=function(){return this._assertNotDisposed(),this._buffer.getLineCount()},t.prototype.getLineContent=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(e)},t.prototype.getLineLength=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)},t.prototype.getLinesContent=function(){return this._assertNotDisposed(),this._buffer.getLinesContent()},t.prototype.getEOL=function(){return this._assertNotDisposed(),this._buffer.getEOL()},t.prototype.getLineMinColumn=function(e){return this._assertNotDisposed(),1},t.prototype.getLineMaxColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1},t.prototype.getLineFirstNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)},t.prototype.getLineLastNonWhitespaceColumn=function(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)},t.prototype._validateRangeRelaxedNoAllocations=function(e){var t,n,i=this._buffer.getLineCount(),o=e.startLineNumber,r=e.startColumn;if(o<1)t=1,n=1;else if(o>i)t=i,n=this.getLineMaxColumn(t);else if(t=0|o,r<=1)n=1;else{var s=this.getLineMaxColumn(t);n=r>=s?s:0|r}var a,l,u=e.endLineNumber,c=e.endColumn;if(u<1)a=1,l=1;else if(u>i)a=i,l=this.getLineMaxColumn(a);else if(a=0|u,c<=1)l=1;else{s=this.getLineMaxColumn(a);l=c>=s?s:0|c}return o===t&&r===n&&u===a&&c===l&&e instanceof bn&&!(e instanceof Cn)?e:new bn(t,n,a,l)},t.prototype._isValidPosition=function(e,t,n){if("number"!==typeof e||"number"!==typeof t)return!1;if(isNaN(e)||isNaN(t))return!1;if(e<1||t<1)return!1;if((0|e)!==e||(0|t)!==t)return!1;var i=this._buffer.getLineCount();if(e>i)return!1;if(1===t)return!0;var o=this.getLineMaxColumn(e);if(t>o)return!1;if(1===n){var r=this._buffer.getLineCharCode(e,t-2);if(os(r))return!1}return!0},t.prototype._validatePosition=function(e,t,n){var i=Math.floor("number"!==typeof e||isNaN(e)?1:e),o=Math.floor("number"!==typeof t||isNaN(t)?1:t),r=this._buffer.getLineCount();if(i<1)return new yn(1,1);if(i>r)return new yn(r,this.getLineMaxColumn(r));if(o<=1)return new yn(i,1);var s=this.getLineMaxColumn(i);if(o>=s)return new yn(i,s);if(1===n){var a=this._buffer.getLineCharCode(i,o-2);if(os(a))return new yn(i,o-1)}return new yn(i,o)},t.prototype.validatePosition=function(e){var t=1;return this._assertNotDisposed(),e instanceof yn&&this._isValidPosition(e.lineNumber,e.column,t)?e:this._validatePosition(e.lineNumber,e.column,t)},t.prototype._isValidRange=function(e,t){var n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn;if(!this._isValidPosition(n,i,0))return!1;if(!this._isValidPosition(o,r,0))return!1;if(1===t){var s=i>1?this._buffer.getLineCharCode(n,i-2):0,a=r>1&&r<=this._buffer.getLineLength(o)?this._buffer.getLineCharCode(o,r-2):0,l=os(s),u=os(a);return!l&&!u}return!0},t.prototype.validateRange=function(e){var t=1;if(this._assertNotDisposed(),e instanceof bn&&!(e instanceof Cn)&&this._isValidRange(e,t))return e;var n=this._validatePosition(e.startLineNumber,e.startColumn,0),i=this._validatePosition(e.endLineNumber,e.endColumn,0),o=n.lineNumber,r=n.column,s=i.lineNumber,a=i.column;if(1===t){var l=r>1?this._buffer.getLineCharCode(o,r-2):0,u=a>1&&a<=this._buffer.getLineLength(s)?this._buffer.getLineCharCode(s,a-2):0,c=os(l),h=os(u);return c||h?o===s&&r===a?new bn(o,r-1,s,a-1):c&&h?new bn(o,r-1,s,a+1):c?new bn(o,r-1,s,a):new bn(o,r,s,a+1):new bn(o,r,s,a)}return new bn(o,r,s,a)},t.prototype.modifyPosition=function(e,t){this._assertNotDisposed();var n=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,n)))},t.prototype.getFullModelRange=function(){this._assertNotDisposed();var e=this.getLineCount();return new bn(1,1,e,this.getLineMaxColumn(e))},t.prototype.findMatchesLineByLine=function(e,t,n,i){return this._buffer.findMatchesLineByLine(e,t,n,i)},t.prototype.findMatches=function(e,t,n,i,o,r,s){var a;if(void 0===s&&(s=$y),this._assertNotDisposed(),a=bn.isIRange(t)?this.validateRange(t):this.getFullModelRange(),!n&&e.indexOf("\n")<0){var l=new Hv(e,n,i,o),u=l.parseSearchRequest();return u?this.findMatchesLineByLine(a,u,r,s):[]}return jv.findMatches(this,new Hv(e,n,i,o),a,r,s)},t.prototype.findNextMatch=function(e,t,n,i,o,r){this._assertNotDisposed();var s=this.validatePosition(t);if(!n&&e.indexOf("\n")<0){var a=new Hv(e,n,i,o),l=a.parseSearchRequest();if(!l)return null;var u=this.getLineCount(),c=new bn(s.lineNumber,s.column,u,this.getLineMaxColumn(u)),h=this.findMatchesLineByLine(c,l,r,1);return jv.findNextMatch(this,new Hv(e,n,i,o),s,r),h.length>0?h[0]:(c=new bn(1,1,s.lineNumber,this.getLineMaxColumn(s.lineNumber)),h=this.findMatchesLineByLine(c,l,r,1),h.length>0?h[0]:null)}return jv.findNextMatch(this,new Hv(e,n,i,o),s,r)},t.prototype.findPreviousMatch=function(e,t,n,i,o,r){this._assertNotDisposed();var s=this.validatePosition(t);return jv.findPreviousMatch(this,new Hv(e,n,i,o),s,r)},t.prototype.pushStackElement=function(){this._commandManager.pushStackElement()},t.prototype.pushEOL=function(e){var t="\n"===this.getEOL()?0:1;if(t!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.pushEditOperations=function(e,t,n){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,t,n)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._pushEditOperations=function(e,t,n){var i=this;if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){for(var o=t.map((function(e){return{range:i.validateRange(e.range),text:e.text}})),r=!0,s=0,a=e.length;s<a;s++){for(var l=e[s],u=!1,c=0,h=o.length;c<h;c++){var d=o[c].range,p=d.startLineNumber>l.endLineNumber,f=l.startLineNumber>d.endLineNumber;if(!p&&!f){u=!0;break}}if(!u){r=!1;break}}if(r)for(s=0,a=this._trimAutoWhitespaceLines.length;s<a;s++){var g=this._trimAutoWhitespaceLines[s],m=this.getLineMaxColumn(g),_=!0;for(c=0,h=o.length;c<h;c++){d=o[c].range;var v=o[c].text;if(!(g<d.startLineNumber||g>d.endLineNumber)&&(!(g===d.startLineNumber&&d.startColumn===m&&d.isEmpty()&&v&&v.length>0&&"\n"===v.charAt(0))&&!(g===d.startLineNumber&&1===d.startColumn&&d.isEmpty()&&v&&v.length>0&&"\n"===v.charAt(v.length-1)))){_=!1;break}}_&&t.push({range:new bn(g,1,g,m),text:null})}this._trimAutoWhitespaceLines=null}return this._commandManager.pushEditOperation(e,t,n)},t.prototype.applyEdits=function(e){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._applyEdits(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._applyEdits=function(e){for(var t=0,n=e.length;t<n;t++)e[t].range=this.validateRange(e[t].range);var i=this._buffer.getLineCount(),o=this._buffer.applyEdits(e,this._options.trimAutoWhitespace),r=this._buffer.getLineCount(),s=o.changes;if(this._trimAutoWhitespaceLines=o.trimAutoWhitespaceLineNumbers,0!==s.length){var a=[],l=i;for(t=0,n=s.length;t<n;t++){var u=s[t],c=gy(u.text),h=c[0],d=c[1],p=c[2];this._tokens.acceptEdit(u.range,h,d),this._tokens2.acceptEdit(u.range,h,d,p,u.text.length>0?u.text.charCodeAt(0):0),this._onDidChangeDecorations.fire(),this._decorationsTree.acceptReplace(u.rangeOffset,u.rangeLength,u.text.length,u.forceMoveMarkers);for(var f=u.range.startLineNumber,g=u.range.endLineNumber,m=g-f,_=h,v=Math.min(m,_),y=_-m,b=v;b>=0;b--){var w=f+b,C=r-l-y+w;a.push(new uy(w,this.getLineContent(C)))}if(v<m){var S=f+v;a.push(new cy(S+1,g))}if(v<_){for(var E=f+v,T=_-v,k=r-l-T+E+1,x=[],L=0;L<T;L++){var I=k+L;x[I-k]=this.getLineContent(I)}a.push(new hy(E+1,f+_,x))}l+=y}this._increaseVersionId(),this._emitContentChangedEvent(new py(a,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:s,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return o.reverseEdits},t.prototype._undo=function(){this._isUndoing=!0;var e=this._commandManager.undo();return this._isUndoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.undo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._undo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.canUndo=function(){return this._commandManager.canUndo()},t.prototype._redo=function(){this._isRedoing=!0;var e=this._commandManager.redo();return this._isRedoing=!1,e?(this._overwriteAlternativeVersionId(e.recordedVersionId),e.selections):null},t.prototype.redo=function(){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._redo()}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}},t.prototype.canRedo=function(){return this._commandManager.canRedo()},t.prototype.changeDecorations=function(e,t){void 0===t&&(t=0),this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._changeDecorations=function(e,t){var n=this,i={addDecoration:function(t,i){return n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,[],[{range:t,options:i}])[0]},changeDecoration:function(e,t){n._onDidChangeDecorations.fire(),n._changeDecorationImpl(e,t)},changeDecorationOptions:function(e,t){n._onDidChangeDecorations.fire(),n._changeDecorationOptionsImpl(e,Jy(t))},removeDecoration:function(t){n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,[t],[])},deltaDecorations:function(t,i){return 0===t.length&&0===i.length?[]:(n._onDidChangeDecorations.fire(),n._deltaDecorationsImpl(e,t,i))}},o=null;try{o=t(i)}catch(r){ge(r)}return i.addDecoration=Uy,i.changeDecoration=Uy,i.changeDecorationOptions=Uy,i.removeDecoration=Uy,i.deltaDecorations=Uy,o},t.prototype.deltaDecorations=function(e,t,n){if(void 0===n&&(n=0),this._assertNotDisposed(),e||(e=[]),0===e.length&&0===t.length)return[];try{return this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._deltaDecorationsImpl(n,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit()}},t.prototype._getTrackedRange=function(e){return this.getDecorationRange(e)},t.prototype._setTrackedRange=function(e,t,n){var i=e?this._decorations[e]:null;if(!i)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Zy[n]}])[0]:null;if(!t)return this._decorationsTree.delete(i),delete this._decorations[i.id],null;var o=this._validateRangeRelaxedNoAllocations(t),r=this._buffer.getOffsetAt(o.startLineNumber,o.startColumn),s=this._buffer.getOffsetAt(o.endLineNumber,o.endColumn);return this._decorationsTree.delete(i),i.reset(this.getVersionId(),r,s,o),i.setOptions(Zy[n]),this._decorationsTree.insert(i),i.id},t.prototype.removeAllDecorationsWithOwnerId=function(e){if(!this._isDisposed)for(var t=this._decorationsTree.collectNodesFromOwner(e),n=0,i=t.length;n<i;n++){var o=t[n];this._decorationsTree.delete(o),delete this._decorations[o.id]}},t.prototype.getDecorationOptions=function(e){var t=this._decorations[e];return t?t.options:null},t.prototype.getDecorationRange=function(e){var t=this._decorations[e];if(!t)return null;var n=this.getVersionId();return t.cachedVersionId!==n&&this._decorationsTree.resolveNode(t,n),null===t.range&&(t.range=this._getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range},t.prototype.getLineDecorations=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=!1),e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,n)},t.prototype.getLinesDecorations=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=this.getLineCount(),r=Math.min(o,Math.max(1,e)),s=Math.min(o,Math.max(1,t)),a=this.getLineMaxColumn(s);return this._getDecorationsInRange(new bn(r,1,s,a),n,i)},t.prototype.getDecorationsInRange=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=!1);var i=this.validateRange(e);return this._getDecorationsInRange(i,t,n)},t.prototype.getOverviewRulerDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=this.getVersionId(),i=this._decorationsTree.search(e,t,!0,n);return this._ensureNodesHaveRanges(i)},t.prototype.getAllDecorations=function(e,t){void 0===e&&(e=0),void 0===t&&(t=!1);var n=this.getVersionId(),i=this._decorationsTree.search(e,t,!1,n);return this._ensureNodesHaveRanges(i)},t.prototype._getDecorationsInRange=function(e,t,n){var i=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),o=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn),r=this.getVersionId(),s=this._decorationsTree.intervalSearch(i,o,t,n,r);return this._ensureNodesHaveRanges(s)},t.prototype._ensureNodesHaveRanges=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];null===i.range&&(i.range=this._getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd))}return e},t.prototype._getRangeAt=function(e,t){return this._buffer.getRangeAt(e,t-e)},t.prototype._changeDecorationImpl=function(e,t){var n=this._decorations[e];if(n){var i=this._validateRangeRelaxedNoAllocations(t),o=this._buffer.getOffsetAt(i.startLineNumber,i.startColumn),r=this._buffer.getOffsetAt(i.endLineNumber,i.endColumn);this._decorationsTree.delete(n),n.reset(this.getVersionId(),o,r,i),this._decorationsTree.insert(n)}},t.prototype._changeDecorationOptionsImpl=function(e,t){var n=this._decorations[e];if(n){var i=!(!n.options.overviewRuler||!n.options.overviewRuler.color),o=!(!t.overviewRuler||!t.overviewRuler.color);i!==o?(this._decorationsTree.delete(n),n.setOptions(t),this._decorationsTree.insert(n)):n.setOptions(t)}},t.prototype._deltaDecorationsImpl=function(e,t,n){var i=this.getVersionId(),o=t.length,r=0,s=n.length,a=0,l=new Array(s);while(r<o||a<s){var u=null;if(r<o){do{u=this._decorations[t[r++]]}while(!u&&r<o);u&&this._decorationsTree.delete(u)}if(a<s){if(!u){var c=++this._lastDecorationId,h=this._instanceId+";"+c;u=new Q_(h,0,0),this._decorations[h]=u}var d=n[a],p=this._validateRangeRelaxedNoAllocations(d.range),f=Jy(d.options),g=this._buffer.getOffsetAt(p.startLineNumber,p.startColumn),m=this._buffer.getOffsetAt(p.endLineNumber,p.endColumn);u.ownerId=e,u.reset(i,g,m,p),u.setOptions(f),this._decorationsTree.insert(u),l[a]=u.id,a++}else u&&delete this._decorations[u.id]}return l},t.prototype.setLineTokens=function(e,t){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokens.setTokens(this._languageIdentifier.id,e-1,this._buffer.getLineLength(e),t)},t.prototype.setTokens=function(e){if(0!==e.length){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];t.push({fromLineNumber:o.startLineNumber,toLineNumber:o.startLineNumber+o.tokens.length-1});for(var r=0,s=o.tokens.length;r<s;r++)this.setLineTokens(o.startLineNumber+r,o.tokens[r])}this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:t})}},t.prototype.setSemanticTokens=function(e){this._tokens2.set(e),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,ranges:[{fromLineNumber:1,toLineNumber:this.getLineCount()}]})},t.prototype.tokenizeViewport=function(e,t){e=Math.max(1,e),t=Math.min(this._buffer.getLineCount(),t),this._tokenization.tokenizeViewport(e,t)},t.prototype.clearTokens=function(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,ranges:[{fromLineNumber:1,toLineNumber:this._buffer.getLineCount()}]})},t.prototype._emitModelTokensChangedEvent=function(e){this._isDisposing||this._onDidChangeTokens.fire(e)},t.prototype.resetTokenization=function(){this._tokenization.reset()},t.prototype.forceTokenization=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(e)},t.prototype.isCheapToTokenize=function(e){return this._tokenization.isCheapToTokenize(e)},t.prototype.tokenizeIfCheap=function(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)},t.prototype.getLineTokens=function(e){if(e<1||e>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(e)},t.prototype._getLineTokens=function(e){var t=this.getLineContent(e),n=this._tokens.getTokens(this._languageIdentifier.id,e-1,t);return this._tokens2.addSemanticTokens(e,n)},t.prototype.getLanguageIdentifier=function(){return this._languageIdentifier},t.prototype.getModeId=function(){return this._languageIdentifier.language},t.prototype.setMode=function(e){if(this._languageIdentifier.id!==e.id){var t={oldLanguage:this._languageIdentifier.language,newLanguage:e.language};this._languageIdentifier=e,this._onDidChangeLanguage.fire(t),this._onDidChangeLanguageConfiguration.fire({})}},t.prototype.getLanguageIdAtPosition=function(e,t){var n=this.validatePosition(new yn(e,t)),i=this.getLineTokens(n.lineNumber);return i.getLanguageId(i.findTokenIndexAtOffset(n.column-1))},t.prototype.getWordAtPosition=function(e){this._assertNotDisposed();var n=this.validatePosition(e),i=this.getLineContent(n.lineNumber),o=this._getLineTokens(n.lineNumber),r=o.findTokenIndexAtOffset(n.column-1),s=t._findLanguageBoundaries(o,r),a=s[0],l=s[1],u=p(n.column,Uc.getWordDefinition(o.getLanguageId(r)),i.substring(a,l),a);if(u&&u.startColumn<=e.column&&e.column<=u.endColumn)return u;if(r>0&&a===n.column-1){var c=t._findLanguageBoundaries(o,r-1),h=c[0],d=c[1],f=p(n.column,Uc.getWordDefinition(o.getLanguageId(r-1)),i.substring(h,d),h);if(f&&f.startColumn<=e.column&&e.column<=f.endColumn)return f}return null},t._findLanguageBoundaries=function(e,t){for(var n=e.getLanguageId(t),i=0,o=t;o>=0&&e.getLanguageId(o)===n;o--)i=e.getStartOffset(o);for(var r=e.getLineContent().length,s=(o=t,e.getCount());o<s&&e.getLanguageId(o)===n;o++)r=e.getEndOffset(o);return[i,r]},t.prototype.getWordUntilPosition=function(e){var t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.findMatchingBracketUp=function(e,t){var n=e.toLowerCase(),i=this.validatePosition(t),o=this._getLineTokens(i.lineNumber),r=o.getLanguageId(o.findTokenIndexAtOffset(i.column-1)),s=Uc.getBracketsSupport(r);if(!s)return null;var a=s.textIsBracket[n];return a?this._findMatchingBracketUp(a,i):null},t.prototype.matchBracket=function(e){return this._matchBracket(this.validatePosition(e))},t.prototype._matchBracket=function(e){var t=e.lineNumber,n=this._getLineTokens(t),i=n.getCount(),o=this._buffer.getLineContent(t),r=n.findTokenIndexAtOffset(e.column-1);if(r<0)return null;var s=Uc.getBracketsSupport(n.getLanguageId(r));if(s&&!wc(n.getStandardTokenType(r))){for(var a=Math.max(0,e.column-1-s.maxBracketLength),l=r-1;l>=0;l--){var u=n.getEndOffset(l);if(u<=a)break;wc(n.getStandardTokenType(l))&&(a=u)}var c=Math.min(o.length,e.column-1+s.maxBracketLength),h=null;while(1){var d=Pc.findNextBracketInRange(s.forwardRegex,t,o,a,c);if(!d)break;if(d.startColumn<=e.column&&e.column<=d.endColumn){var p=o.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),f=this._matchFoundBracket(d,s.textIsBracket[p],s.textIsOpenBracket[p]);f&&(h=f)}a=d.endColumn-1}if(h)return h}if(r>0&&n.getStartOffset(r)===e.column-1){var g=r-1,m=Uc.getBracketsSupport(n.getLanguageId(g));if(m&&!wc(n.getStandardTokenType(g))){for(a=Math.max(0,e.column-1-m.maxBracketLength),c=Math.min(o.length,e.column-1+m.maxBracketLength),l=g+1;l<i;l++){var _=n.getStartOffset(l);if(_>=c)break;wc(n.getStandardTokenType(l))&&(c=_)}d=Pc.findPrevBracketInRange(m.reversedRegex,t,o,a,c);if(d&&d.startColumn<=e.column&&e.column<=d.endColumn){p=o.substring(d.startColumn-1,d.endColumn-1).toLowerCase(),f=this._matchFoundBracket(d,m.textIsBracket[p],m.textIsOpenBracket[p]);if(f)return f}}}return null},t.prototype._matchFoundBracket=function(e,t,n){if(!t)return null;if(n){var i=this._findMatchingBracketDown(t,e.getEndPosition());if(i)return[e,i]}else{i=this._findMatchingBracketUp(t,e.getStartPosition());if(i)return[e,i]}return null},t.prototype._findMatchingBracketUp=function(e,t){for(var n=e.languageIdentifier.id,i=e.reversedRegex,o=-1,r=function(t,n,r,s){while(1){var a=Pc.findPrevBracketInRange(i,t,n,r,s);if(!a)break;var l=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(e.isOpen(l)?o++:e.isClose(l)&&o--,0===o)return a;s=a.startColumn-1}return null},s=t.lineNumber;s>=1;s--){var a=this._getLineTokens(s),l=a.getCount(),u=this._buffer.getLineContent(s),c=l-1,h=u.length,d=u.length;s===t.lineNumber&&(c=a.findTokenIndexAtOffset(t.column-1),h=t.column-1,d=t.column-1);for(var p=!0;c>=0;c--){var f=a.getLanguageId(c)===n&&!wc(a.getStandardTokenType(c));if(f)p?h=a.getStartOffset(c):(h=a.getStartOffset(c),d=a.getEndOffset(c));else if(p&&h!==d){var g=r(s,u,h,d);if(g)return g}p=f}if(p&&h!==d){g=r(s,u,h,d);if(g)return g}}return null},t.prototype._findMatchingBracketDown=function(e,t){for(var n=e.languageIdentifier.id,i=e.forwardRegex,o=1,r=function(t,n,r,s){while(1){var a=Pc.findNextBracketInRange(i,t,n,r,s);if(!a)break;var l=n.substring(a.startColumn-1,a.endColumn-1).toLowerCase();if(e.isOpen(l)?o++:e.isClose(l)&&o--,0===o)return a;r=a.endColumn-1}return null},s=this.getLineCount(),a=t.lineNumber;a<=s;a++){var l=this._getLineTokens(a),u=l.getCount(),c=this._buffer.getLineContent(a),h=0,d=0,p=0;a===t.lineNumber&&(h=l.findTokenIndexAtOffset(t.column-1),d=t.column-1,p=t.column-1);for(var f=!0;h<u;h++){var g=l.getLanguageId(h)===n&&!wc(l.getStandardTokenType(h));if(g)f||(d=l.getStartOffset(h)),p=l.getEndOffset(h);else if(f&&d!==p){var m=r(a,c,d,p);if(m)return m}f=g}if(f&&d!==p){m=r(a,c,d,p);if(m)return m}}return null},t.prototype.findPrevBracket=function(e){for(var t=this.validatePosition(e),n=-1,i=null,o=t.lineNumber;o>=1;o--){var r=this._getLineTokens(o),s=r.getCount(),a=this._buffer.getLineContent(o),l=s-1,u=a.length,c=a.length;if(o===t.lineNumber){l=r.findTokenIndexAtOffset(t.column-1),u=t.column-1,c=t.column-1;var h=r.getLanguageId(l);n!==h&&(n=h,i=Uc.getBracketsSupport(n))}for(var d=!0;l>=0;l--){h=r.getLanguageId(l);if(n!==h){if(i&&d&&u!==c){var p=Pc.findPrevBracketInRange(i.reversedRegex,o,a,u,c);if(p)return this._toFoundBracket(i,p);d=!1}n=h,i=Uc.getBracketsSupport(n)}var f=!!i&&!wc(r.getStandardTokenType(l));if(f)d?u=r.getStartOffset(l):(u=r.getStartOffset(l),c=r.getEndOffset(l));else if(i&&d&&u!==c){p=Pc.findPrevBracketInRange(i.reversedRegex,o,a,u,c);if(p)return this._toFoundBracket(i,p)}d=f}if(i&&d&&u!==c){p=Pc.findPrevBracketInRange(i.reversedRegex,o,a,u,c);if(p)return this._toFoundBracket(i,p)}}return null},t.prototype.findNextBracket=function(e){for(var t=this.validatePosition(e),n=this.getLineCount(),i=-1,o=null,r=t.lineNumber;r<=n;r++){var s=this._getLineTokens(r),a=s.getCount(),l=this._buffer.getLineContent(r),u=0,c=0,h=0;if(r===t.lineNumber){u=s.findTokenIndexAtOffset(t.column-1),c=t.column-1,h=t.column-1;var d=s.getLanguageId(u);i!==d&&(i=d,o=Uc.getBracketsSupport(i))}for(var p=!0;u<a;u++){d=s.getLanguageId(u);if(i!==d){if(o&&p&&c!==h){var f=Pc.findNextBracketInRange(o.forwardRegex,r,l,c,h);if(f)return this._toFoundBracket(o,f);p=!1}i=d,o=Uc.getBracketsSupport(i)}var g=!!o&&!wc(s.getStandardTokenType(u));if(g)p||(c=s.getStartOffset(u)),h=s.getEndOffset(u);else if(o&&p&&c!==h){f=Pc.findNextBracketInRange(o.forwardRegex,r,l,c,h);if(f)return this._toFoundBracket(o,f)}p=g}if(o&&p&&c!==h){f=Pc.findNextBracketInRange(o.forwardRegex,r,l,c,h);if(f)return this._toFoundBracket(o,f)}}return null},t.prototype.findEnclosingBrackets=function(e,t){var n=this;void 0===t&&(t=1073741824);for(var i=this.validatePosition(e),o=this.getLineCount(),r=new Map,s=[],a=function(e,t){if(!r.has(e)){for(var n=[],i=0,o=t?t.brackets.length:0;i<o;i++)n[i]=0;r.set(e,n)}s=r.get(e)},l=function(e,t,i,o,r){while(1){var a=Pc.findNextBracketInRange(e.forwardRegex,t,i,o,r);if(!a)break;var l=i.substring(a.startColumn-1,a.endColumn-1).toLowerCase(),u=e.textIsBracket[l];if(u&&(u.isOpen(l)?s[u.index]++:u.isClose(l)&&s[u.index]--,-1===s[u.index]))return n._matchFoundBracket(a,u,!1);o=a.endColumn-1}return null},u=-1,c=null,h=Date.now(),d=i.lineNumber;d<=o;d++){var p=Date.now()-h;if(p>t)return null;var f=this._getLineTokens(d),g=f.getCount(),m=this._buffer.getLineContent(d),_=0,v=0,y=0;if(d===i.lineNumber){_=f.findTokenIndexAtOffset(i.column-1),v=i.column-1,y=i.column-1;var b=f.getLanguageId(_);u!==b&&(u=b,c=Uc.getBracketsSupport(u),a(u,c))}for(var w=!0;_<g;_++){b=f.getLanguageId(_);if(u!==b){if(c&&w&&v!==y){var C=l(c,d,m,v,y);if(C)return C;w=!1}u=b,c=Uc.getBracketsSupport(u),a(u,c)}var S=!!c&&!wc(f.getStandardTokenType(_));if(S)w||(v=f.getStartOffset(_)),y=f.getEndOffset(_);else if(c&&w&&v!==y){C=l(c,d,m,v,y);if(C)return C}w=S}if(c&&w&&v!==y){C=l(c,d,m,v,y);if(C)return C}}return null},t.prototype._toFoundBracket=function(e,t){if(!t)return null;var n=this.getValueInRange(t);n=n.toLowerCase();var i=e.textIsBracket[n];return i?{range:t,open:i.open,close:i.close,isOpen:e.textIsOpenBracket[n]}:null},t.computeIndentLevel=function(e,t){var n=0,i=0,o=e.length;while(i<o){var r=e.charCodeAt(i);if(32===r)n++;else{if(9!==r)break;n=n-n%t+t}i++}return i===o?-1:n},t.prototype._computeIndentLevel=function(e){return t.computeIndentLevel(this._buffer.getLineContent(e+1),this._options.tabSize)},t.prototype.getActiveIndentGuide=function(e,t,n){var i=this;this._assertNotDisposed();var o=this.getLineCount();if(e<1||e>o)throw new Error("Illegal value for lineNumber");for(var r=Uc.getFoldingRules(this._languageIdentifier.id),s=Boolean(r&&r.offSide),a=-2,l=-1,u=-2,c=-1,h=function(e){if(-1!==a&&(-2===a||a>e-1)){a=-1,l=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){a=t,l=n;break}}}if(-2===u){u=-1,c=-1;for(t=e;t<o;t++){var r=i._computeIndentLevel(t);if(r>=0){u=t,c=r;break}}}},d=-2,p=-1,f=-2,g=-1,m=function(e){if(-2===d){d=-1,p=-1;for(var t=e-2;t>=0;t--){var n=i._computeIndentLevel(t);if(n>=0){d=t,p=n;break}}}if(-1!==f&&(-2===f||f<e-1)){f=-1,g=-1;for(t=e;t<o;t++){var r=i._computeIndentLevel(t);if(r>=0){f=t,g=r;break}}}},_=0,v=!0,y=0,b=!0,w=0,C=0;v||b;C++){var S=e-C,E=e+C;if(0!==C&&(S<1||S<t)&&(v=!1),0!==C&&(E>o||E>n)&&(b=!1),C>5e4&&(v=!1,b=!1),v){var T=void 0,k=this._computeIndentLevel(S-1);if(k>=0?(u=S-1,c=k,T=Math.ceil(k/this._options.indentSize)):(h(S),T=this._getIndentLevelForWhitespaceLine(s,l,c)),0===C){if(_=S,y=E,w=T,0===w)return{startLineNumber:_,endLineNumber:y,indent:w};continue}T>=w?_=S:v=!1}if(b){var x=void 0;k=this._computeIndentLevel(E-1);k>=0?(d=E-1,p=k,x=Math.ceil(k/this._options.indentSize)):(m(E),x=this._getIndentLevelForWhitespaceLine(s,p,g)),x>=w?y=E:b=!1}}return{startLineNumber:_,endLineNumber:y,indent:w}},t.prototype.getLinesIndentGuides=function(e,t){this._assertNotDisposed();var n=this.getLineCount();if(e<1||e>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");for(var i=Uc.getFoldingRules(this._languageIdentifier.id),o=Boolean(i&&i.offSide),r=new Array(t-e+1),s=-2,a=-1,l=-2,u=-1,c=e;c<=t;c++){var h=c-e,d=this._computeIndentLevel(c-1);if(d>=0)s=c-1,a=d,r[h]=Math.ceil(d/this._options.indentSize);else{if(-2===s){s=-1,a=-1;for(var p=c-2;p>=0;p--){var f=this._computeIndentLevel(p);if(f>=0){s=p,a=f;break}}}if(-1!==l&&(-2===l||l<c-1)){l=-1,u=-1;for(p=c;p<n;p++){f=this._computeIndentLevel(p);if(f>=0){l=p,u=f;break}}}r[h]=this._getIndentLevelForWhitespaceLine(o,a,u)}}return r},t.prototype._getIndentLevelForWhitespaceLine=function(e,t,n){return-1===t||-1===n?0:t<n?1+Math.floor(t/this._options.indentSize):t===n||e?Math.ceil(n/this._options.indentSize):1+Math.floor(n/this._options.indentSize)},t.MODEL_SYNC_LIMIT=52428800,t.LARGE_FILE_SIZE_THRESHOLD=20971520,t.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,t.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:ue.tabSize,indentSize:ue.indentSize,insertSpaces:ue.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:ue.trimAutoWhitespace,largeFileOptimizations:ue.largeFileOptimizations},t}(Ae),jy=function(){function e(){this._decorationsTree0=new tv,this._decorationsTree1=new tv}return e.prototype.intervalSearch=function(e,t,n,i,o){var r=this._decorationsTree0.intervalSearch(e,t,n,i,o),s=this._decorationsTree1.intervalSearch(e,t,n,i,o);return r.concat(s)},e.prototype.search=function(e,t,n,i){if(n)return this._decorationsTree1.search(e,t,i);var o=this._decorationsTree0.search(e,t,i),r=this._decorationsTree1.search(e,t,i);return o.concat(r)},e.prototype.collectNodesFromOwner=function(e){var t=this._decorationsTree0.collectNodesFromOwner(e),n=this._decorationsTree1.collectNodesFromOwner(e);return t.concat(n)},e.prototype.collectNodesPostOrder=function(){var e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder();return e.concat(t)},e.prototype.insert=function(e){K_(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)},e.prototype.delete=function(e){K_(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)},e.prototype.resolveNode=function(e,t){K_(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)},e.prototype.acceptReplace=function(e,t,n,i){this._decorationsTree0.acceptReplace(e,t,n,i),this._decorationsTree1.acceptReplace(e,t,n,i)},e}();function Gy(e){return e.replace(/[^a-z0-9\-_]/gi," ")}var Ky=function(){function e(e){this.color=e.color||"",this.darkColor=e.darkColor||""}return e}(),qy=function(e){function t(t){var n=e.call(this,t)||this;return n._resolvedColor=null,n.position="number"===typeof t.position?t.position:Il.Center,n}return Py(t,e),t.prototype.getColor=function(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor},t.prototype.invalidateCachedColor=function(){this._resolvedColor=null},t.prototype._resolveColor=function(e,t){if("string"===typeof e)return e;var n=e?t.getColor(e.id):null;return n?n.toString():""},t}(Ky),Yy=function(e){function t(t){var n=e.call(this,t)||this;return n.position=t.position,n}return Py(t,e),t.prototype.getColor=function(e){return this._resolvedColor||("light"!==e.type&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor},t.prototype.invalidateCachedColor=function(){this._resolvedColor=void 0},t.prototype._resolveColor=function(e,t){return"string"===typeof e?My.fromHex(e):t.getColor(e.id)},t}(Ky),Xy=function(){function e(e){this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Gy(e.className):null,this.hoverMessage=Ma(e.hoverMessage),this.glyphMarginHoverMessage=Ma(e.glyphMarginHoverMessage),this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new qy(e.overviewRuler):null,this.minimap=e.minimap?new Yy(e.minimap):null,this.glyphMarginClassName=e.glyphMarginClassName?Gy(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Gy(e.linesDecorationsClassName):null,this.marginClassName=e.marginClassName?Gy(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Gy(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Gy(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Gy(e.afterContentClassName):null}return e.register=function(t){return new e(t)},e.createDynamic=function(t){return new e(t)},e}();Xy.EMPTY=Xy.register({});var Zy=[Xy.register({stickiness:0}),Xy.register({stickiness:1}),Xy.register({stickiness:2}),Xy.register({stickiness:3})];function Jy(e){return e instanceof Xy?e:Xy.createDynamic(e)}var Qy=function(e){function t(){var t=e.call(this)||this;return t._actual=t._register(new Ze),t.event=t._actual.event,t._deferredCnt=0,t._shouldFire=!1,t}return Py(t,e),t.prototype.beginDeferredEmit=function(){this._deferredCnt++},t.prototype.endDeferredEmit=function(){this._deferredCnt--,0===this._deferredCnt&&this._shouldFire&&(this._shouldFire=!1,this._actual.fire({}))},t.prototype.fire=function(){this._shouldFire=!0},t}(Ae),eb=function(e){function t(){var t=e.call(this)||this;return t._fastEmitter=t._register(new Ze),t.fastEvent=t._fastEmitter.event,t._slowEmitter=t._register(new Ze),t.slowEvent=t._slowEmitter.event,t._deferredCnt=0,t._deferredEvent=null,t}return Py(t,e),t.prototype.beginDeferredEmit=function(){this._deferredCnt++},t.prototype.endDeferredEmit=function(){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){var e=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(e),this._slowEmitter.fire(e)}},t.prototype.fire=function(e){this._deferredCnt>0?this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e:(this._fastEmitter.fire(e),this._slowEmitter.fire(e))},t}(Ae),tb=function(){return!0},nb=function(){return!1},ib=function(e){return" "===e||"\t"===e};function ob(e,t,n){e.has(t)?e.get(t).push(n):e.set(t,[n])}var rb=function(){function e(t,n,i){this._languageIdentifier=t;var o=i.options,r=o.get(107);this.readOnly=o.get(68),this.tabSize=n.tabSize,this.indentSize=n.indentSize,this.insertSpaces=n.insertSpaces,this.lineHeight=o.get(49),this.pageSize=Math.max(1,Math.floor(r.height/this.lineHeight)-2),this.useTabStops=o.get(95),this.wordSeparators=o.get(96),this.emptySelectionClipboard=o.get(25),this.copyWithSyntaxHighlighting=o.get(15),this.multiCursorMergeOverlapping=o.get(58),this.multiCursorPaste=o.get(60),this.autoClosingBrackets=o.get(5),this.autoClosingQuotes=o.get(7),this.autoClosingOvertype=o.get(6),this.autoSurround=o.get(10),this.autoIndent=o.get(8),this.autoClosingPairsOpen2=new Map,this.autoClosingPairsClose2=new Map,this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:e._getShouldAutoClose(t,this.autoClosingQuotes),bracket:e._getShouldAutoClose(t,this.autoClosingBrackets)};var s=e._getAutoClosingPairs(t);if(s)for(var a=0,l=s;a<l.length;a++){var u=l[a];ob(this.autoClosingPairsOpen2,u.open.charAt(u.open.length-1),u),1===u.close.length&&ob(this.autoClosingPairsClose2,u.close,u)}var c=e._getSurroundingPairs(t);if(c)for(var h=0,d=c;h<d.length;h++){u=d[h];this.surroundingPairs[u.open]=u.close}}return e.shouldRecreate=function(e){return e.hasChanged(107)||e.hasChanged(96)||e.hasChanged(25)||e.hasChanged(58)||e.hasChanged(60)||e.hasChanged(5)||e.hasChanged(7)||e.hasChanged(6)||e.hasChanged(10)||e.hasChanged(95)||e.hasChanged(49)||e.hasChanged(68)},Object.defineProperty(e.prototype,"electricChars",{get:function(){if(!this._electricChars){this._electricChars={};var t=e._getElectricCharacters(this._languageIdentifier);if(t)for(var n=0,i=t;n<i.length;n++){var o=i[n];this._electricChars[o]=!0}}return this._electricChars},enumerable:!0,configurable:!0}),e.prototype.normalizeIndentation=function(e){return zy.normalizeIndentation(e,this.indentSize,this.insertSpaces)},e._getElectricCharacters=function(e){try{return Uc.getElectricCharacters(e.id)}catch(t){return ge(t),null}},e._getAutoClosingPairs=function(e){try{return Uc.getAutoClosingPairs(e.id)}catch(t){return ge(t),null}},e._getShouldAutoClose=function(t,n){switch(n){case"beforeWhitespace":return ib;case"languageDefined":return e._getLanguageDefinedShouldAutoClose(t);case"always":return tb;case"never":return nb}},e._getLanguageDefinedShouldAutoClose=function(e){try{var t=Uc.getAutoCloseBeforeSet(e.id);return function(e){return-1!==t.indexOf(e)}}catch(n){return ge(n),nb}},e._getSurroundingPairs=function(e){try{return Uc.getSurroundingPairs(e.id)}catch(t){return ge(t),null}},e}(),sb=function(){function e(t,n,i,o){this.selectionStart=t,this.selectionStartLeftoverVisibleColumns=n,this.position=i,this.leftoverVisibleColumns=o,this.selection=e._computeSelection(this.selectionStart,this.position)}return e.prototype.equals=function(e){return this.selectionStartLeftoverVisibleColumns===e.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===e.leftoverVisibleColumns&&this.position.equals(e.position)&&this.selectionStart.equalsRange(e.selectionStart)},e.prototype.hasSelection=function(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()},e.prototype.move=function(t,n,i,o){return t?new e(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new yn(n,i),o):new e(new bn(n,i,n,i),o,new yn(n,i),o)},e._computeSelection=function(e,t){var n,i,o,r;return e.isEmpty()?(n=e.startLineNumber,i=e.startColumn,o=t.lineNumber,r=t.column):t.isBeforeOrEqual(e.getStartPosition())?(n=e.endLineNumber,i=e.endColumn,o=t.lineNumber,r=t.column):(n=e.startLineNumber,i=e.startColumn,o=t.lineNumber,r=t.column),new Cn(n,i,o,r)},e}(),ab=function(){function e(e,t,n){this.model=t,this.viewModel=n,this.config=new rb(this.model.getLanguageIdentifier(),this.model.getOptions(),e)}return e.prototype.validateViewPosition=function(e,t){return this.viewModel.coordinatesConverter.validateViewPosition(e,t)},e.prototype.validateViewRange=function(e,t){return this.viewModel.coordinatesConverter.validateViewRange(e,t)},e.prototype.convertViewRangeToModelRange=function(e){return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},e.prototype.convertViewPositionToModelPosition=function(e,t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new yn(e,t))},e.prototype.convertModelPositionToViewPosition=function(e){return this.viewModel.coordinatesConverter.convertModelPositionToViewPosition(e)},e.prototype.convertModelRangeToViewRange=function(e){return this.viewModel.coordinatesConverter.convertModelRangeToViewRange(e)},e.prototype.getCurrentScrollTop=function(){return this.viewModel.viewLayout.getCurrentScrollTop()},e.prototype.getCompletelyVisibleViewRange=function(){return this.viewModel.getCompletelyVisibleViewRange()},e.prototype.getCompletelyVisibleModelRange=function(){var e=this.viewModel.getCompletelyVisibleViewRange();return this.viewModel.coordinatesConverter.convertViewRangeToModelRange(e)},e.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){return this.viewModel.getCompletelyVisibleViewRangeAtScrollTop(e)},e.prototype.getVerticalOffsetForViewLine=function(e){return this.viewModel.viewLayout.getVerticalOffsetForLineNumber(e)},e}(),lb=function(){function e(e){this.modelState=e,this.viewState=null}return e}(),ub=function(){function e(e){this.modelState=null,this.viewState=e}return e}(),cb=function(){function e(e,t){this.modelState=e,this.viewState=t}return e.fromModelState=function(e){return new lb(e)},e.fromViewState=function(e){return new ub(e)},e.fromModelSelection=function(t){var n=t.selectionStartLineNumber,i=t.selectionStartColumn,o=t.positionLineNumber,r=t.positionColumn,s=new sb(new bn(n,i,n,i),0,new yn(o,r),0);return e.fromModelState(s)},e.fromModelSelections=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=this.fromModelSelection(e[n]);return t},e.prototype.equals=function(e){return this.viewState.equals(e.viewState)&&this.modelState.equals(e.modelState)},e}(),hb=function(){function e(e,t,n){this.type=e,this.commands=t,this.shouldPushStackElementBefore=n.shouldPushStackElementBefore,this.shouldPushStackElementAfter=n.shouldPushStackElementAfter}return e}(),db=function(){function e(){}return e.visibleColumnFromColumn=function(t,n,i){var o=t.length,r=n-1<o?n-1:o,s=0,a=0;while(a<r){var l=ss(t,r,a);if(a+=l>=65536?2:1,9===l)s=e.nextRenderTabStop(s,i);else{var u=Ts(l);while(a<r){var c=ss(t,r,a),h=Ts(c);if(ks(u,h))break;a+=c>=65536?2:1,u=h}_s(l)||vs(l)?s+=2:s+=1}}return s},e.visibleColumnFromColumn2=function(e,t,n){return this.visibleColumnFromColumn(t.getLineContent(n.lineNumber),n.column,e.tabSize)},e.columnFromVisibleColumn=function(t,n,i){if(n<=0)return 1;var o=t.length,r=0,s=1,a=0;while(a<o){var l=ss(t,o,a);a+=l>=65536?2:1;var u=void 0;if(9===l)u=e.nextRenderTabStop(r,i);else{var c=Ts(l);while(a<o){var h=ss(t,o,a),d=Ts(h);if(ks(c,d))break;a+=h>=65536?2:1,c=d}u=_s(l)||vs(l)?r+2:r+1}var p=a+1;if(u>=n){var f=n-r,g=u-n;return g<f?p:s}r=u,s=p}return o+1},e.columnFromVisibleColumn2=function(e,t,n,i){var o=this.columnFromVisibleColumn(t.getLineContent(n),i,e.tabSize),r=t.getLineMinColumn(n);if(o<r)return r;var s=t.getLineMaxColumn(n);return o>s?s:o},e.nextRenderTabStop=function(e,t){return e+t-e%t},e.nextIndentTabStop=function(e,t){return e+t-e%t},e.prevRenderTabStop=function(e,t){return e-1-(e-1)%t},e.prevIndentTabStop=function(e,t){return e-1-(e-1)%t},e}();function pb(e){return"'"===e||'"'===e||"`"===e}var fb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gb=function(){function e(e,t){this.lastViewCursorsRenderData=e,this.lastTextareaPosition=t}return e}(),mb=function(){function e(e,t,n,i,o,r){void 0===n&&(n=0),void 0===i&&(i=null),void 0===o&&(o=null),void 0===r&&(r=null),this.element=e,this.type=t,this.mouseColumn=n,this.position=i,!o&&i&&(o=new bn(i.lineNumber,i.column,i.lineNumber,i.column)),this.range=o,this.detail=r}return e._typeToString=function(e){return 1===e?"TEXTAREA":2===e?"GUTTER_GLYPH_MARGIN":3===e?"GUTTER_LINE_NUMBERS":4===e?"GUTTER_LINE_DECORATIONS":5===e?"GUTTER_VIEW_ZONE":6===e?"CONTENT_TEXT":7===e?"CONTENT_EMPTY":8===e?"CONTENT_VIEW_ZONE":9===e?"CONTENT_WIDGET":10===e?"OVERVIEW_RULER":11===e?"SCROLLBAR":12===e?"OVERLAY_WIDGET":"UNKNOWN"},e.toString=function(e){return this._typeToString(e.type)+": "+e.position+" - "+e.range+" - "+e.detail},e.prototype.toString=function(){return e.toString(this)},e}(),_b=function(){function e(){}return e.isTextArea=function(e){return 2===e.length&&3===e[0]&&6===e[1]},e.isChildOfViewLines=function(e){return e.length>=4&&3===e[0]&&7===e[3]},e.isStrictChildOfViewLines=function(e){return e.length>4&&3===e[0]&&7===e[3]},e.isChildOfScrollableElement=function(e){return e.length>=2&&3===e[0]&&5===e[1]},e.isChildOfMinimap=function(e){return e.length>=2&&3===e[0]&&8===e[1]},e.isChildOfContentWidgets=function(e){return e.length>=4&&3===e[0]&&1===e[3]},e.isChildOfOverflowingContentWidgets=function(e){return e.length>=1&&2===e[0]},e.isChildOfOverlayWidgets=function(e){return e.length>=2&&3===e[0]&&4===e[1]},e}(),vb=function(){function e(e,t,n){this.model=e.model;var i=e.configuration.options;this.layoutInfo=i.get(107),this.viewDomNode=t.viewDomNode,this.lineHeight=i.get(49),this.typicalHalfwidthCharacterWidth=i.get(34).typicalHalfwidthCharacterWidth,this.lastRenderData=n,this._context=e,this._viewHelper=t}return e.prototype.getZoneAtCoord=function(t){return e.getZoneAtCoord(this._context,t)},e.getZoneAtCoord=function(e,t){var n=e.viewLayout.getWhitespaceAtVerticalOffset(t);if(n){var i=n.verticalOffset+n.height/2,o=e.model.getLineCount(),r=null,s=void 0,a=null;return n.afterLineNumber!==o&&(a=new yn(n.afterLineNumber+1,1)),n.afterLineNumber>0&&(r=new yn(n.afterLineNumber,e.model.getLineMaxColumn(n.afterLineNumber))),s=null===a?r:null===r?a:t<i?r:a,{viewZoneId:n.id,afterLineNumber:n.afterLineNumber,positionBefore:r,positionAfter:a,position:s}}return null},e.prototype.getFullLineRangeAtCoord=function(e){if(this._context.viewLayout.isAfterLines(e)){var t=this._context.model.getLineCount(),n=this._context.model.getLineMaxColumn(t);return{range:new bn(t,n,t,n),isAfterLines:!0}}var i=this._context.viewLayout.getLineNumberAtVerticalOffset(e),o=this._context.model.getLineMaxColumn(i);return{range:new bn(i,1,i,o),isAfterLines:!1}},e.prototype.getLineNumberAtVerticalOffset=function(e){return this._context.viewLayout.getLineNumberAtVerticalOffset(e)},e.prototype.isAfterLines=function(e){return this._context.viewLayout.isAfterLines(e)},e.prototype.getVerticalOffsetForLineNumber=function(e){return this._context.viewLayout.getVerticalOffsetForLineNumber(e)},e.prototype.findAttribute=function(t,n){return e._findAttribute(t,n,this._viewHelper.viewDomNode)},e._findAttribute=function(e,t,n){while(e&&e!==document.body){if(e.hasAttribute&&e.hasAttribute(t))return e.getAttribute(t);if(e===n)return null;e=e.parentNode}return null},e.prototype.getLineWidth=function(e){return this._viewHelper.getLineWidth(e)},e.prototype.visibleRangeForPosition=function(e,t){return this._viewHelper.visibleRangeForPosition(e,t)},e.prototype.getPositionFromDOMInfo=function(e,t){return this._viewHelper.getPositionFromDOMInfo(e,t)},e.prototype.getCurrentScrollTop=function(){return this._context.viewLayout.getCurrentScrollTop()},e.prototype.getCurrentScrollLeft=function(){return this._context.viewLayout.getCurrentScrollLeft()},e}(),yb=function(){function e(e,t,n){this.editorPos=t,this.pos=n,this.mouseVerticalOffset=Math.max(0,e.getCurrentScrollTop()+n.y-t.y),this.mouseContentHorizontalOffset=e.getCurrentScrollLeft()+n.x-t.x-e.layoutInfo.contentLeft,this.isInMarginArea=n.x-t.x<e.layoutInfo.contentLeft&&n.x-t.x>=e.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,Sb._getMouseColumn(this.mouseContentHorizontalOffset,e.typicalHalfwidthCharacterWidth))}return e}(),bb=function(e){function t(t,n,i,o){var r=e.call(this,t,n,i)||this;return r._ctx=t,o?(r.target=o,r.targetPath=i_.collect(o,t.viewDomNode)):(r.target=null,r.targetPath=new Uint8Array(0)),r}return fb(t,e),t.prototype.toString=function(){return"pos("+this.pos.x+","+this.pos.y+"), editorPos("+this.editorPos.x+","+this.editorPos.y+"), mouseVerticalOffset: "+this.mouseVerticalOffset+", mouseContentHorizontalOffset: "+this.mouseContentHorizontalOffset+"\n\ttarget: "+(this.target?this.target.outerHTML:null)},t.prototype.fulfill=function(e,t,n,i){void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=null);var o=this.mouseColumn;return t&&t.column<this._ctx.model.getLineMaxColumn(t.lineNumber)&&(o=db.visibleColumnFromColumn(this._ctx.model.getLineContent(t.lineNumber),t.column,this._ctx.model.getOptions().tabSize)+1),new mb(this.target,e,o,t,n,i)},t.prototype.withTarget=function(e){return new t(this._ctx,this.editorPos,this.pos,e)},t}(yb),wb={isAfterLines:!0};function Cb(e){return{isAfterLines:!1,horizontalDistanceToText:e}}var Sb=function(){function e(e,t){this._context=e,this._viewHelper=t}return e.prototype.mouseTargetIsWidget=function(e){var t=e.target,n=i_.collect(t,this._viewHelper.viewDomNode);return!(!_b.isChildOfContentWidgets(n)&&!_b.isChildOfOverflowingContentWidgets(n))||!!_b.isChildOfOverlayWidgets(n)},e.prototype.createMouseTarget=function(t,n,i,o){var r=new vb(this._context,this._viewHelper,t),s=new bb(r,n,i,o);try{var a=e._createMouseTarget(r,s,!1);return a}catch(l){return s.fulfill(0)}},e._createMouseTarget=function(t,n,i){if(null===n.target){if(i)return n.fulfill(0);var o=e._doHitTest(t,n);return o.position?e.createMouseTargetFromHitTestPosition(t,n,o.position.lineNumber,o.position.column):this._createMouseTarget(t,n.withTarget(o.hitTarget),!0)}var r=n,s=null;return s=s||e._hitTestContentWidget(t,r),s=s||e._hitTestOverlayWidget(t,r),s=s||e._hitTestMinimap(t,r),s=s||e._hitTestScrollbarSlider(t,r),s=s||e._hitTestViewZone(t,r),s=s||e._hitTestMargin(t,r),s=s||e._hitTestViewCursor(t,r),s=s||e._hitTestTextArea(t,r),s=s||e._hitTestViewLines(t,r,i),s=s||e._hitTestScrollbar(t,r),s||n.fulfill(0)},e._hitTestContentWidget=function(e,t){if(_b.isChildOfContentWidgets(t.targetPath)||_b.isChildOfOverflowingContentWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(9,null,null,n):t.fulfill(0)}return null},e._hitTestOverlayWidget=function(e,t){if(_b.isChildOfOverlayWidgets(t.targetPath)){var n=e.findAttribute(t.target,"widgetId");return n?t.fulfill(12,null,null,n):t.fulfill(0)}return null},e._hitTestViewCursor=function(e,t){if(t.target)for(var n=e.lastRenderData.lastViewCursorsRenderData,i=0,o=n;i<o.length;i++){var r=o[i];if(t.target===r.domNode)return t.fulfill(6,r.position)}if(t.isInContentArea){n=e.lastRenderData.lastViewCursorsRenderData;for(var s=t.mouseContentHorizontalOffset,a=t.mouseVerticalOffset,l=0,u=n;l<u.length;l++){r=u[l];if(!(s<r.contentLeft)&&!(s>r.contentLeft+r.width)){var c=e.getVerticalOffsetForLineNumber(r.position.lineNumber);if(c<=a&&a<=c+r.height)return t.fulfill(6,r.position)}}}return null},e._hitTestViewZone=function(e,t){var n=e.getZoneAtCoord(t.mouseVerticalOffset);if(n){var i=t.isInContentArea?8:5;return t.fulfill(i,n.position,null,n)}return null},e._hitTestTextArea=function(e,t){return _b.isTextArea(t.targetPath)?e.lastRenderData.lastTextareaPosition?t.fulfill(6,e.lastRenderData.lastTextareaPosition):t.fulfill(1,e.lastRenderData.lastTextareaPosition):null},e._hitTestMargin=function(e,t){if(t.isInMarginArea){var n=e.getFullLineRangeAtCoord(t.mouseVerticalOffset),i=n.range.getStartPosition(),o=Math.abs(t.pos.x-t.editorPos.x),r={isAfterLines:n.isAfterLines,glyphMarginLeft:e.layoutInfo.glyphMarginLeft,glyphMarginWidth:e.layoutInfo.glyphMarginWidth,lineNumbersWidth:e.layoutInfo.lineNumbersWidth,offsetX:o};return o-=e.layoutInfo.glyphMarginLeft,o<=e.layoutInfo.glyphMarginWidth?t.fulfill(2,i,n.range,r):(o-=e.layoutInfo.glyphMarginWidth,o<=e.layoutInfo.lineNumbersWidth?t.fulfill(3,i,n.range,r):(o-=e.layoutInfo.lineNumbersWidth,t.fulfill(4,i,n.range,r)))}return null},e._hitTestViewLines=function(t,n,i){if(!_b.isChildOfViewLines(n.targetPath))return null;if(t.isAfterLines(n.mouseVerticalOffset)){var o=t.model.getLineCount(),r=t.model.getLineMaxColumn(o);return n.fulfill(7,new yn(o,r),void 0,wb)}if(i){if(_b.isStrictChildOfViewLines(n.targetPath)){var s=t.getLineNumberAtVerticalOffset(n.mouseVerticalOffset);if(0===t.model.getLineLength(s)){var a=t.getLineWidth(s),l=Cb(n.mouseContentHorizontalOffset-a);return n.fulfill(7,new yn(s,1),void 0,l)}var u=t.getLineWidth(s);if(n.mouseContentHorizontalOffset>=u){l=Cb(n.mouseContentHorizontalOffset-u);var c=new yn(s,t.model.getLineMaxColumn(s));return n.fulfill(7,c,void 0,l)}}return n.fulfill(0)}var h=e._doHitTest(t,n);return h.position?e.createMouseTargetFromHitTestPosition(t,n,h.position.lineNumber,h.position.column):this._createMouseTarget(t,n.withTarget(h.hitTarget),!0)},e._hitTestMinimap=function(e,t){if(_b.isChildOfMinimap(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new yn(n,i))}return null},e._hitTestScrollbarSlider=function(e,t){if(_b.isChildOfScrollableElement(t.targetPath)&&t.target&&1===t.target.nodeType){var n=t.target.className;if(n&&/\b(slider|scrollbar)\b/.test(n)){var i=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),o=e.model.getLineMaxColumn(i);return t.fulfill(11,new yn(i,o))}}return null},e._hitTestScrollbar=function(e,t){if(_b.isChildOfScrollableElement(t.targetPath)){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.model.getLineMaxColumn(n);return t.fulfill(11,new yn(n,i))}return null},e.prototype.getMouseColumn=function(t,n){var i=this._context.configuration.options,o=i.get(107),r=this._context.viewLayout.getCurrentScrollLeft()+n.x-t.x-o.contentLeft;return e._getMouseColumn(r,i.get(34).typicalHalfwidthCharacterWidth)},e._getMouseColumn=function(e,t){if(e<0)return 1;var n=Math.round(e/t);return n+1},e.createMouseTargetFromHitTestPosition=function(e,t,n,i){var o=new yn(n,i),r=e.getLineWidth(n);if(t.mouseContentHorizontalOffset>r){if($n&&1===o.column){var s=Cb(t.mouseContentHorizontalOffset-r);return t.fulfill(7,new yn(n,e.model.getLineMaxColumn(n)),void 0,s)}var a=Cb(t.mouseContentHorizontalOffset-r);return t.fulfill(7,o,void 0,a)}var l=e.visibleRangeForPosition(n,i);if(!l)return t.fulfill(0,o);var u=l.left;if(t.mouseContentHorizontalOffset===u)return t.fulfill(6,o);var c=[];if(c.push({offset:l.left,column:i}),i>1){var h=e.visibleRangeForPosition(n,i-1);h&&c.push({offset:h.left,column:i-1})}var d=e.model.getLineMaxColumn(n);if(i<d){var p=e.visibleRangeForPosition(n,i+1);p&&c.push({offset:p.left,column:i+1})}c.sort((function(e,t){return e.offset-t.offset}));for(var f=1;f<c.length;f++){var g=c[f-1],m=c[f];if(g.offset<=t.mouseContentHorizontalOffset&&t.mouseContentHorizontalOffset<=m.offset){var _=new bn(n,g.column,n,m.column);return t.fulfill(6,o,_)}}return t.fulfill(6,o)},e._doHitTestWithCaretRangeFromPoint=function(e,t){var n=e.getLineNumberAtVerticalOffset(t.mouseVerticalOffset),i=e.getVerticalOffsetForLineNumber(n),o=i+Math.floor(e.lineHeight/2),r=t.pos.y+(o-t.mouseVerticalOffset);r<=t.editorPos.y&&(r=t.editorPos.y+1),r>=t.editorPos.y+e.layoutInfo.height&&(r=t.editorPos.y+e.layoutInfo.height-1);var s=new jm(t.pos.x,r),a=this._actualDoHitTestWithCaretRangeFromPoint(e,s.toClientCoordinates());return a.position?a:this._actualDoHitTestWithCaretRangeFromPoint(e,t.pos.toClientCoordinates())},e._actualDoHitTestWithCaretRangeFromPoint=function(e,t){var n,i=Qo(e.viewDomNode);if(n=i?"undefined"===typeof i.caretRangeFromPoint?Eb(i,t.clientX,t.clientY):i.caretRangeFromPoint(t.clientX,t.clientY):document.caretRangeFromPoint(t.clientX,t.clientY),!n||!n.startContainer)return{position:null,hitTarget:null};var o=n.startContainer,r=null;if(o.nodeType===o.TEXT_NODE){var s=o.parentNode,a=s?s.parentNode:null,l=a?a.parentNode:null,u=l&&l.nodeType===l.ELEMENT_NODE?l.className:null;if(u===x_.CLASS_NAME){var c=e.getPositionFromDOMInfo(s,n.startOffset);return{position:c,hitTarget:null}}r=o.parentNode}else if(o.nodeType===o.ELEMENT_NODE){s=o.parentNode,a=s?s.parentNode:null;var h=a&&a.nodeType===a.ELEMENT_NODE?a.className:null;if(h===x_.CLASS_NAME){c=e.getPositionFromDOMInfo(o,o.textContent.length);return{position:c,hitTarget:null}}r=o}return{position:null,hitTarget:r}},e._doHitTestWithCaretPositionFromPoint=function(e,t){var n=document.caretPositionFromPoint(t.clientX,t.clientY);if(n.offsetNode.nodeType===n.offsetNode.TEXT_NODE){var i=n.offsetNode.parentNode,o=i?i.parentNode:null,r=o?o.parentNode:null,s=r&&r.nodeType===r.ELEMENT_NODE?r.className:null;if(s===x_.CLASS_NAME){var a=e.getPositionFromDOMInfo(n.offsetNode.parentNode,n.offset);return{position:a,hitTarget:null}}return{position:null,hitTarget:n.offsetNode.parentNode}}return{position:null,hitTarget:n.offsetNode}},e._doHitTestWithMoveToPoint=function(e,t){var n=null,i=null,o=document.body.createTextRange();try{o.moveToPoint(t.clientX,t.clientY)}catch(c){return{position:null,hitTarget:null}}o.collapse(!0);var r=o?o.parentElement():null,s=r?r.parentNode:null,a=s?s.parentNode:null,l=a&&a.nodeType===a.ELEMENT_NODE?a.className:"";if(l===x_.CLASS_NAME){var u=o.duplicate();u.moveToElementText(r),u.setEndPoint("EndToStart",o),n=e.getPositionFromDOMInfo(r,u.text.length),u.moveToElementText(e.viewDomNode)}else i=r;return o.moveToElementText(e.viewDomNode),{position:n,hitTarget:i}},e._doHitTest=function(e,t){return"function"===typeof document.caretRangeFromPoint?this._doHitTestWithCaretRangeFromPoint(e,t):document.caretPositionFromPoint?this._doHitTestWithCaretPositionFromPoint(e,t.pos.toClientCoordinates()):document.body.createTextRange?this._doHitTestWithMoveToPoint(e,t.pos.toClientCoordinates()):{position:null,hitTarget:null}},e}();function Eb(e,t,n){var i=document.createRange(),o=e.elementFromPoint(t,n);if(null!==o){while(o&&o.firstChild&&o.firstChild.nodeType!==o.firstChild.TEXT_NODE)o=o.lastChild;var r=o.getBoundingClientRect(),s=window.getComputedStyle(o,null).getPropertyValue("font"),a=o.innerText,l=r.left,u=0,c=void 0;if(t>r.left+r.width)u=a.length;else for(var h=Tb.getInstance(),d=0;d<a.length+1;d++){if(c=h.getCharWidth(a.charAt(d),s)/2,l+=c,t<l){u=d;break}l+=c}i.setStart(o.firstChild,u),i.setEnd(o.firstChild,u)}return i}var Tb=function(){function e(){this._cache={},this._canvas=document.createElement("canvas")}return e.getInstance=function(){return e._INSTANCE||(e._INSTANCE=new e),e._INSTANCE},e.prototype.getCharWidth=function(e,t){var n=e+t;if(this._cache[n])return this._cache[n];var i=this._canvas.getContext("2d");i.font=t;var o=i.measureText(e),r=o.width;return this._cache[n]=r,r},e._INSTANCE=null,e}(),kb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function xb(e){return function(t,n){var i=!1;return e&&(i=e.mouseTargetIsWidget(n)),i||n.preventDefault(),n}}var Lb=function(e){function t(n,i,o){var r=e.call(this)||this;r._isFocused=!1,r._context=n,r.viewController=i,r.viewHelper=o,r.mouseTargetFactory=new Sb(r._context,o),r._mouseDownOperation=r._register(new Ib(r._context,r.viewController,r.viewHelper,(function(e,t){return r._createMouseTarget(e,t)}),(function(e){return r._getMouseColumn(e)}))),r._asyncFocus=r._register(new ki((function(){return r.viewHelper.focusTextArea()}),0)),r.lastMouseLeaveTime=-1;var s=new Xm(r.viewHelper.viewDomNode);r._register(s.onContextMenu(r.viewHelper.viewDomNode,(function(e){return r._onContextMenu(e,!0)}))),r._register(s.onMouseMoveThrottled(r.viewHelper.viewDomNode,(function(e){return r._onMouseMove(e)}),xb(r.mouseTargetFactory),t.MOUSE_MOVE_MINIMUM_TIME)),r._register(s.onMouseUp(r.viewHelper.viewDomNode,(function(e){return r._onMouseUp(e)}))),r._register(s.onMouseLeave(r.viewHelper.viewDomNode,(function(e){return r._onMouseLeave(e)}))),r._register(s.onMouseDown(r.viewHelper.viewDomNode,(function(e){return r._onMouseDown(e)})));var a=function(e){if(r.viewController.emitMouseWheel(e),r._context.configuration.options.get(57)){var t=new gi(e);if(t.browserEvent.ctrlKey||t.browserEvent.metaKey){var n=Cl.getZoomLevel(),i=t.deltaY>0?1:-1;Cl.setZoomLevel(n+i),t.preventDefault(),t.stopPropagation()}}};return r._register(bo(r.viewHelper.viewDomNode,Wn?"mousewheel":"wheel",a,{capture:!0,passive:!1})),r._context.addEventHandler(r),r}return kb(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onCursorStateChanged=function(e){return this._mouseDownOperation.onCursorStateChanged(e),!1},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!1},t.prototype.onScrollChanged=function(e){return this._mouseDownOperation.onScrollChanged(),!1},t.prototype.getTargetAtClientPoint=function(e,t){var n=new Gm(e,t),i=n.toPageCoordinates(),o=qm(this.viewHelper.viewDomNode);return i.y<o.y||i.y>o.y+o.height||i.x<o.x||i.x>o.x+o.width?null:this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),o,i,null)},t.prototype._createMouseTarget=function(e,t){return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),e.editorPos,e.pos,t?e.target:null)},t.prototype._getMouseColumn=function(e){return this.mouseTargetFactory.getMouseColumn(e.editorPos,e.pos)},t.prototype._onContextMenu=function(e,t){this.viewController.emitContextMenu({event:e,target:this._createMouseTarget(e,t)})},t.prototype._onMouseMove=function(e){if(!this._mouseDownOperation.isActive()){var t=e.timestamp;t<this.lastMouseLeaveTime||this.viewController.emitMouseMove({event:e,target:this._createMouseTarget(e,!0)})}},t.prototype._onMouseLeave=function(e){this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:e,target:null})},t.prototype._onMouseUp=function(e){this.viewController.emitMouseUp({event:e,target:this._createMouseTarget(e,!0)})},t.prototype._onMouseDown=function(e){var t=this,n=this._createMouseTarget(e,!0),i=6===n.type||7===n.type,o=2===n.type||3===n.type||4===n.type,r=3===n.type,a=this._context.configuration.options.get(83),l=8===n.type||5===n.type,u=9===n.type,c=e.leftButton||e.middleButton;s["e"]&&e.leftButton&&e.ctrlKey&&(c=!1);var h=function(){Hn&&!t._isFocused?t._asyncFocus.schedule():(e.preventDefault(),t.viewHelper.focusTextArea())};if(c&&(i||r&&a))h(),this._mouseDownOperation.start(n.type,e);else if(o)e.preventDefault();else if(l){var d=n.detail;this.viewHelper.shouldSuppressMouseDownOnViewZone(d.viewZoneId)&&(h(),this._mouseDownOperation.start(n.type,e),e.preventDefault())}else u&&this.viewHelper.shouldSuppressMouseDownOnWidget(n.detail)&&(h(),e.preventDefault());this.viewController.emitMouseDown({event:e,target:n})},t.MOUSE_MOVE_MINIMUM_TIME=100,t}(e_),Ib=function(e){function t(t,n,i,o,r){var s=e.call(this)||this;return s._context=t,s._viewController=n,s._viewHelper=i,s._createMouseTarget=o,s._getMouseColumn=r,s._mouseMoveMonitor=s._register(new Jm(s._viewHelper.viewDomNode)),s._onScrollTimeout=s._register(new Ei),s._mouseState=new Ob,s._currentSelection=new Cn(1,1,1,1),s._isActive=!1,s._lastMouseEvent=null,s}return kb(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.isActive=function(){return this._isActive},t.prototype._onMouseDownThenMove=function(e){this._lastMouseEvent=e,this._mouseState.setModifiers(e);var t=this._findMousePosition(e,!0);t&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:e,target:t}):this._dispatchMouse(t,!0))},t.prototype.start=function(e,t){var n=this;this._lastMouseEvent=t,this._mouseState.setStartedOnLineNumbers(3===e),this._mouseState.setStartButtons(t),this._mouseState.setModifiers(t);var i=this._findMousePosition(t,!0);if(i&&i.position){this._mouseState.trySetCount(t.detail,i.position),t.detail=this._mouseState.count;var o=this._context.configuration.options;if(!o.get(68)&&o.get(24)&&!this._mouseState.altKey&&t.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===i.type&&i.position&&this._currentSelection.containsPosition(i.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,xb(null),(function(e){return n._onMouseDownThenMove(e)}),(function(){var e=n._findMousePosition(n._lastMouseEvent,!0);n._viewController.emitMouseDrop({event:n._lastMouseEvent,target:e?n._createMouseTarget(n._lastMouseEvent,!0):null}),n._stop()}));this._mouseState.isDragAndDrop=!1,this._dispatchMouse(i,t.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(t.target,t.buttons,xb(null),(function(e){return n._onMouseDownThenMove(e)}),(function(){return n._stop()})))}},t.prototype._stop=function(){this._isActive=!1,this._onScrollTimeout.cancel()},t.prototype.onScrollChanged=function(){var e=this;this._isActive&&this._onScrollTimeout.setIfNotSet((function(){if(e._lastMouseEvent){var t=e._findMousePosition(e._lastMouseEvent,!1);t&&(e._mouseState.isDragAndDrop||e._dispatchMouse(t,!0))}}),10)},t.prototype.onCursorStateChanged=function(e){this._currentSelection=e.selections[0]},t.prototype._getPositionOutsideEditor=function(e){var t=e.editorPos,n=this._context.model,i=this._context.viewLayout,o=this._getMouseColumn(e);if(e.posy<t.y){var r=Math.max(i.getCurrentScrollTop()-(t.y-e.posy),0),s=vb.getZoneAtCoord(this._context,r);if(s){var a=this._helpPositionJumpOverViewZone(s);if(a)return new mb(null,13,o,a)}var l=i.getLineNumberAtVerticalOffset(r);return new mb(null,13,o,new yn(l,1))}if(e.posy>t.y+t.height){r=i.getCurrentScrollTop()+(e.posy-t.y),s=vb.getZoneAtCoord(this._context,r);if(s){a=this._helpPositionJumpOverViewZone(s);if(a)return new mb(null,13,o,a)}var u=i.getLineNumberAtVerticalOffset(r);return new mb(null,13,o,new yn(u,n.getLineMaxColumn(u)))}var c=i.getLineNumberAtVerticalOffset(i.getCurrentScrollTop()+(e.posy-t.y));return e.posx<t.x?new mb(null,13,o,new yn(c,1)):e.posx>t.x+t.width?new mb(null,13,o,new yn(c,n.getLineMaxColumn(c))):null},t.prototype._findMousePosition=function(e,t){var n=this._getPositionOutsideEditor(e);if(n)return n;var i=this._createMouseTarget(e,t),o=i.position;if(!o)return null;if(8===i.type||5===i.type){var r=this._helpPositionJumpOverViewZone(i.detail);if(r)return new mb(i.element,i.type,i.mouseColumn,r,null,i.detail)}return i},t.prototype._helpPositionJumpOverViewZone=function(e){var t=new yn(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),n=e.positionBefore,i=e.positionAfter;return n&&i?n.isBefore(t)?n:i:null},t.prototype._dispatchMouse=function(e,t){e.position&&this._viewController.dispatchMouse({position:e.position,mouseColumn:e.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:t,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton})},t}(Ae),Ob=function(){function e(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}return Object.defineProperty(e.prototype,"altKey",{get:function(){return this._altKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ctrlKey",{get:function(){return this._ctrlKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metaKey",{get:function(){return this._metaKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shiftKey",{get:function(){return this._shiftKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftButton",{get:function(){return this._leftButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"middleButton",{get:function(){return this._middleButton},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startedOnLineNumbers",{get:function(){return this._startedOnLineNumbers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._lastMouseDownCount},enumerable:!0,configurable:!0}),e.prototype.setModifiers=function(e){this._altKey=e.altKey,this._ctrlKey=e.ctrlKey,this._metaKey=e.metaKey,this._shiftKey=e.shiftKey},e.prototype.setStartButtons=function(e){this._leftButton=e.leftButton,this._middleButton=e.middleButton},e.prototype.setStartedOnLineNumbers=function(e){this._startedOnLineNumbers=e},e.prototype.trySetCount=function(t,n){var i=(new Date).getTime();i-this._lastSetMouseDownCountTime>e.CLEAR_MOUSE_DOWN_COUNT_TIME&&(t=1),this._lastSetMouseDownCountTime=i,t>this._lastMouseDownCount+1&&(t=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(n)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=n,this._lastMouseDownCount=Math.min(t,this._lastMouseDownPositionEqualCount)},e.CLEAR_MOUSE_DOWN_COUNT_TIME=400,e}(),Db=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Nb(e,t){var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n}var Rb=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.viewHelper.linesContentDomNode.style.msTouchAction="none",o.viewHelper.linesContentDomNode.style.msContentZooming="none",o._installGestureHandlerTimeout=window.setTimeout((function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("MSPointerDown",(function(n){var i=n.pointerType;i!==(n.MSPOINTER_TYPE_MOUSE||"mouse")?i===(n.MSPOINTER_TYPE_TOUCH||"touch")?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)):o._lastPointerType="mouse"})),o._register(Fo(o.viewHelper.linesContentDomNode,"MSGestureChange",(function(e){return o._onGestureChange(e)}),Nb)),o._register(bo(o.viewHelper.linesContentDomNode,"MSGestureTap",(function(e){return o._onCaptureGestureTap(e)}),!0))}}),100),o._lastPointerType="mouse",o}return Db(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new Ym(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo(i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout((function(){t.viewHelper.focusTextArea()}))},t.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(Lb),Ab=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.viewHelper.linesContentDomNode.style.touchAction="none",o._installGestureHandlerTimeout=window.setTimeout((function(){if(o._installGestureHandlerTimeout=-1,window.MSGesture){var e=new MSGesture,t=new MSGesture;e.target=o.viewHelper.linesContentDomNode,t.target=o.viewHelper.linesContentDomNode,o.viewHelper.linesContentDomNode.addEventListener("pointerdown",(function(n){var i=n.pointerType;"mouse"!==i?"touch"===i?(o._lastPointerType="touch",e.addPointer(n.pointerId)):(o._lastPointerType="pen",t.addPointer(n.pointerId)):o._lastPointerType="mouse"})),o._register(Fo(o.viewHelper.linesContentDomNode,"MSGestureChange",(function(e){return o._onGestureChange(e)}),Nb)),o._register(bo(o.viewHelper.linesContentDomNode,"MSGestureTap",(function(e){return o._onCaptureGestureTap(e)}),!0))}}),100),o._lastPointerType="mouse",o}return Db(t,e),t.prototype._onMouseDown=function(t){"mouse"===this._lastPointerType&&e.prototype._onMouseDown.call(this,t)},t.prototype._onCaptureGestureTap=function(e){var t=this,n=new Ym(e,this.viewHelper.viewDomNode),i=this._createMouseTarget(n,!1);i.position&&this.viewController.moveTo(i.position),n.browserEvent.fromElement?(n.preventDefault(),this.viewHelper.focusTextArea()):setTimeout((function(){t.viewHelper.focusTextArea()}))},t.prototype._onGestureChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t.prototype.dispose=function(){window.clearTimeout(this._installGestureHandlerTimeout),e.prototype.dispose.call(this)},t}(Lb),Mb=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;o._register($m.addTarget(o.viewHelper.linesContentDomNode)),o._register(bo(o.viewHelper.linesContentDomNode,Bm.Tap,(function(e){return o.onTap(e)}))),o._register(bo(o.viewHelper.linesContentDomNode,Bm.Change,(function(e){return o.onChange(e)}))),o._register(bo(o.viewHelper.linesContentDomNode,Bm.Contextmenu,(function(e){return o._onContextMenu(new Ym(e,o.viewHelper.viewDomNode),!1)}))),o._lastPointerType="mouse",o._register(bo(o.viewHelper.linesContentDomNode,"pointerdown",(function(e){var t=e.pointerType;o._lastPointerType="mouse"!==t?"touch"===t?"touch":"pen":"mouse"})));var r=new Zm(o.viewHelper.viewDomNode);return o._register(r.onPointerMoveThrottled(o.viewHelper.viewDomNode,(function(e){return o._onMouseMove(e)}),xb(o.mouseTargetFactory),Lb.MOUSE_MOVE_MINIMUM_TIME)),o._register(r.onPointerUp(o.viewHelper.viewDomNode,(function(e){return o._onMouseUp(e)}))),o._register(r.onPointerLeave(o.viewHelper.viewDomNode,(function(e){return o._onMouseLeave(e)}))),o._register(r.onPointerDown(o.viewHelper.viewDomNode,(function(e){return o._onMouseDown(e)}))),o}return Db(t,e),t.prototype.onTap=function(e){if(e.initialTarget&&this.viewHelper.linesContentDomNode.contains(e.initialTarget)){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new Ym(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.dispatchMouse({position:t.position,mouseColumn:t.position.column,startedOnLineNumbers:!1,mouseDownCount:e.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1})}},t.prototype.onChange=function(e){"touch"===this._lastPointerType&&this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t.prototype._onMouseDown=function(t){t.target&&this.viewHelper.linesContentDomNode.contains(t.target)&&"touch"===this._lastPointerType||e.prototype._onMouseDown.call(this,t)},t}(Lb),Pb=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o._register($m.addTarget(o.viewHelper.linesContentDomNode)),o._register(bo(o.viewHelper.linesContentDomNode,Bm.Tap,(function(e){return o.onTap(e)}))),o._register(bo(o.viewHelper.linesContentDomNode,Bm.Change,(function(e){return o.onChange(e)}))),o._register(bo(o.viewHelper.linesContentDomNode,Bm.Contextmenu,(function(e){return o._onContextMenu(new Ym(e,o.viewHelper.viewDomNode),!1)}))),o}return Db(t,e),t.prototype.onTap=function(e){e.preventDefault(),this.viewHelper.focusTextArea();var t=this._createMouseTarget(new Ym(e,this.viewHelper.viewDomNode),!1);t.position&&this.viewController.moveTo(t.position)},t.prototype.onChange=function(e){this._context.viewLayout.deltaScrollNow(-e.translationX,-e.translationY)},t}(Lb),Fb=function(e){function t(t,n,i){var o=e.call(this)||this;return window.navigator.msPointerEnabled?o.handler=o._register(new Rb(t,n,i)):s["c"]&&no.pointerEvents?o.handler=o._register(new Mb(t,n,i)):window.TouchEvent?o.handler=o._register(new Pb(t,n,i)):window.navigator.pointerEnabled||window.PointerEvent?o.handler=o._register(new Ab(t,n,i)):o.handler=o._register(new Lb(t,n,i)),o}return Db(t,e),t.prototype.getTargetAtClientPoint=function(e,t){return this.handler.getTargetAtClientPoint(e,t)},t}(Ae),Bb=(n("56f3"),function(){function e(e,t,n,i,o){this.value=e,this.selectionStart=t,this.selectionEnd=n,this.selectionStartPosition=i,this.selectionEndPosition=o}return e.prototype.toString=function(){return"[ <"+this.value+">, selectionStart: "+this.selectionStart+", selectionEnd: "+this.selectionEnd+"]"},e.readFromTextArea=function(t){return new e(t.getValue(),t.getSelectionStart(),t.getSelectionEnd(),null,null)},e.prototype.collapseSelection=function(){return new e(this.value,this.value.length,this.value.length,null,null)},e.prototype.writeToTextArea=function(e,t,n){t.setValue(e,this.value),n&&t.setSelectionRange(e,this.selectionStart,this.selectionEnd)},e.prototype.deduceEditorPosition=function(e){if(e<=this.selectionStart){var t=this.value.substring(e,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,t,-1)}if(e>=this.selectionEnd){t=this.value.substring(this.selectionEnd,e);return this._finishDeduceEditorPosition(this.selectionEndPosition,t,1)}var n=this.value.substring(this.selectionStart,e);if(-1===n.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(this.selectionStartPosition,n,1);var i=this.value.substring(e,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,i,-1)},e.prototype._finishDeduceEditorPosition=function(e,t,n){var i=0,o=-1;while(-1!==(o=t.indexOf("\n",o+1)))i++;return[e,n*t.length,i]},e.selectedText=function(t){return new e(t,0,t.length,null,null)},e.deduceInput=function(e,t,n){if(!e)return{text:"",replaceCharCnt:0};var i=e.value,o=e.selectionStart,r=e.selectionEnd,s=t.value,a=t.selectionStart,l=t.selectionEnd,u=i.substring(r),c=s.substring(l),h=is(u,c);s=s.substring(0,s.length-h),i=i.substring(0,i.length-h);var d=i.substring(0,o),p=s.substring(0,a),f=ns(d,p);if(s=s.substring(f),i=i.substring(f),a-=f,o-=f,l-=f,r-=f,n&&a===l&&i.length>0){var g=null;if(a===s.length?Hr(s,i)&&(g=s.substring(i.length)):$r(s,i)&&(g=s.substring(0,s.length-i.length)),null!==g&&g.length>0&&(/\uFE0F/.test(g)||ps(g)))return{text:g,replaceCharCnt:0}}if(a===l){if(i===s&&0===o&&r===i.length&&a===s.length&&-1===s.indexOf("\n")&&ms(s))return{text:"",replaceCharCnt:0};var m=d.length-f;return{text:s,replaceCharCnt:m}}var _=r-o;return{text:s,replaceCharCnt:_}},e.EMPTY=new e("",0,0,null,null),e}()),Vb=function(){function e(){}return e._getPageOfLine=function(e,t){return Math.floor((e-1)/t)},e._getRangeForPage=function(e,t){var n=e*t,i=n+1,o=n+t;return new bn(i,1,o+1,1)},e.fromEditorSelection=function(t,n,i,o,r){var s,a=e._getPageOfLine(i.startLineNumber,o),l=e._getRangeForPage(a,o),u=e._getPageOfLine(i.endLineNumber,o),c=e._getRangeForPage(u,o),h=l.intersectRanges(new bn(1,1,i.startLineNumber,i.startColumn)),d=n.getValueInRange(h,1),p=n.getLineCount(),f=n.getLineMaxColumn(p),g=c.intersectRanges(new bn(i.endLineNumber,i.endColumn,p,f)),m=n.getValueInRange(g,1);if(a===u||a+1===u)s=n.getValueInRange(i,1);else{var _=l.intersectRanges(i),v=c.intersectRanges(i);s=n.getValueInRange(_,1)+String.fromCharCode(8230)+n.getValueInRange(v,1)}if(r){var y=500;d.length>y&&(d=d.substring(d.length-y,d.length)),m.length>y&&(m=m.substring(0,y)),s.length>2*y&&(s=s.substring(0,y)+String.fromCharCode(8230)+s.substring(s.length-y,s.length))}return new Bb(d+s+m,d.length,d.length+s.length,new yn(i.startLineNumber,i.startColumn),new yn(i.endLineNumber,i.endColumn))},e}(),Hb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$b={forceCopyWithSyntaxHighlighting:!1},Wb=function(){function e(){this._lastState=null}return e.prototype.set=function(e,t){this._lastState={lastCopiedValue:e,data:t}},e.prototype.get=function(e){return this._lastState&&this._lastState.lastCopiedValue===e?this._lastState.data:(this._lastState=null,null)},e.INSTANCE=new e,e}(),Ub=function(e){function t(t,n){var i=e.call(this)||this;i.textArea=n,i._onFocus=i._register(new Ze),i.onFocus=i._onFocus.event,i._onBlur=i._register(new Ze),i.onBlur=i._onBlur.event,i._onKeyDown=i._register(new Ze),i.onKeyDown=i._onKeyDown.event,i._onKeyUp=i._register(new Ze),i.onKeyUp=i._onKeyUp.event,i._onCut=i._register(new Ze),i.onCut=i._onCut.event,i._onPaste=i._register(new Ze),i.onPaste=i._onPaste.event,i._onType=i._register(new Ze),i.onType=i._onType.event,i._onCompositionStart=i._register(new Ze),i.onCompositionStart=i._onCompositionStart.event,i._onCompositionUpdate=i._register(new Ze),i.onCompositionUpdate=i._onCompositionUpdate.event,i._onCompositionEnd=i._register(new Ze),i.onCompositionEnd=i._onCompositionEnd.event,i._onSelectionChangeRequest=i._register(new Ze),i.onSelectionChangeRequest=i._onSelectionChangeRequest.event,i._host=t,i._textArea=i._register(new jb(n)),i._asyncTriggerCut=i._register(new ki((function(){return i._onCut.fire()}),0)),i._textAreaState=Bb.EMPTY,i._selectionChangeListener=null,i.writeScreenReaderContent("ctor"),i._hasFocus=!1,i._isDoingComposition=!1,i._nextCommand=0,i._register(So(n.domNode,"keydown",(function(e){!i._isDoingComposition||109!==e.keyCode&&1!==e.keyCode||e.stopPropagation(),e.equals(9)&&e.preventDefault(),i._onKeyDown.fire(e)}))),i._register(So(n.domNode,"keyup",(function(e){i._onKeyUp.fire(e)}))),i._register(bo(n.domNode,"compositionstart",(function(e){i._isDoingComposition||(i._isDoingComposition=!0,Wn||i._setAndWriteTextAreaState("compositionstart",Bb.EMPTY),i._onCompositionStart.fire())})));var o=function(e){var t=i._textAreaState,n=Bb.readFromTextArea(i._textArea);return[n,Bb.deduceInput(t,n,e)]},r=function(e){var t=i._textAreaState,n=Bb.selectedText(e),o={text:n.value,replaceCharCnt:t.selectionEnd-t.selectionStart};return[n,o]},a=function(e){return!(!Wn||"ja"!==e)||!(!Hn||0!==e.indexOf("zh-Han"))};return i._register(bo(n.domNode,"compositionupdate",(function(e){if(a(e.locale)){var t=o(!1),n=t[0],s=t[1];return i._textAreaState=n,i._onType.fire(s),void i._onCompositionUpdate.fire(e)}var l=r(e.data),u=l[0],c=l[1];i._textAreaState=u,i._onType.fire(c),i._onCompositionUpdate.fire(e)}))),i._register(bo(n.domNode,"compositionend",(function(e){if(i._isDoingComposition){if(a(e.locale)){var t=o(!1),n=t[0],s=t[1];i._textAreaState=n,i._onType.fire(s)}else{var l=r(e.data);n=l[0],s=l[1];i._textAreaState=n,i._onType.fire(s)}(Wn||jn)&&(i._textAreaState=Bb.readFromTextArea(i._textArea)),i._isDoingComposition&&(i._isDoingComposition=!1,i._onCompositionEnd.fire())}}))),i._register(bo(n.domNode,"input",(function(){if(i._textArea.setIgnoreSelectionChangeTime("received input event"),!i._isDoingComposition){var e=o(s["e"]),t=e[0],n=e[1];0===n.replaceCharCnt&&1===n.text.length&&os(n.text.charCodeAt(0))||(i._textAreaState=t,0===i._nextCommand?""!==n.text&&i._onType.fire(n):(""===n.text&&0===n.replaceCharCnt||i._firePaste(n.text,null),i._nextCommand=0))}}))),i._register(bo(n.domNode,"cut",(function(e){i._textArea.setIgnoreSelectionChangeTime("received cut event"),i._ensureClipboardGetsEditorSelection(e),i._asyncTriggerCut.schedule()}))),i._register(bo(n.domNode,"copy",(function(e){i._ensureClipboardGetsEditorSelection(e)}))),i._register(bo(n.domNode,"paste",(function(e){if(i._textArea.setIgnoreSelectionChangeTime("received paste event"),zb.canUseTextData(e)){var t=zb.getTextData(e),n=t[0],o=t[1];""!==n&&i._firePaste(n,o)}else i._textArea.getSelectionStart()!==i._textArea.getSelectionEnd()&&i._setAndWriteTextAreaState("paste",Bb.EMPTY),i._nextCommand=1}))),i._register(bo(n.domNode,"focus",(function(){i._setHasFocus(!0)}))),i._register(bo(n.domNode,"blur",(function(){i._setHasFocus(!1)}))),i}return Hb(t,e),t.prototype._installSelectionChangeListener=function(){var e=this,t=0;return bo(document,"selectionchange",(function(n){if(e._hasFocus&&!e._isDoingComposition&&jn&&s["h"]){var i=Date.now(),o=i-t;if(t=i,!(o<5)){var r=i-e._textArea.getIgnoreSelectionChangeTime();if(e._textArea.resetSelectionChangeTime(),!(r<100)&&e._textAreaState.selectionStartPosition&&e._textAreaState.selectionEndPosition){var a=e._textArea.getValue();if(e._textAreaState.value===a){var l=e._textArea.getSelectionStart(),u=e._textArea.getSelectionEnd();if(e._textAreaState.selectionStart!==l||e._textAreaState.selectionEnd!==u){var c=e._textAreaState.deduceEditorPosition(l),h=e._host.deduceModelPosition(c[0],c[1],c[2]),d=e._textAreaState.deduceEditorPosition(u),p=e._host.deduceModelPosition(d[0],d[1],d[2]),f=new Cn(h.lineNumber,h.column,p.lineNumber,p.column);e._onSelectionChangeRequest.fire(f)}}}}}}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)},t.prototype.focusTextArea=function(){this._setHasFocus(!0),this.refreshFocusState()},t.prototype.isFocused=function(){return this._hasFocus},t.prototype.refreshFocusState=function(){var e=Qo(this.textArea.domNode);e?this._setHasFocus(e.activeElement===this.textArea.domNode):lo(this.textArea.domNode)?this._setHasFocus(document.activeElement===this.textArea.domNode):this._setHasFocus(!1)},t.prototype._setHasFocus=function(e){this._hasFocus!==e&&(this._hasFocus=e,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&($n?this._setAndWriteTextAreaState("focusgain",Bb.EMPTY):this.writeScreenReaderContent("focusgain")),this._hasFocus?this._onFocus.fire():this._onBlur.fire())},t.prototype._setAndWriteTextAreaState=function(e,t){this._hasFocus||(t=t.collapseSelection()),t.writeToTextArea(e,this._textArea,this._hasFocus),this._textAreaState=t},t.prototype.writeScreenReaderContent=function(e){this._isDoingComposition||this._setAndWriteTextAreaState(e,this._host.getScreenReaderContent(this._textAreaState))},t.prototype._ensureClipboardGetsEditorSelection=function(e){var t=this._host.getDataToCopy(zb.canUseTextData(e)&&no.clipboard.richText),n={version:1,isFromEmptySelection:t.isFromEmptySelection,multicursorText:t.multicursorText,mode:t.mode};Wb.INSTANCE.set(Un?t.text.replace(/\r\n/g,"\n"):t.text,n),zb.canUseTextData(e)?zb.setTextData(e,t.text,t.html,n):this._setAndWriteTextAreaState("copy or cut",Bb.selectedText(t.text))},t.prototype._firePaste=function(e,t){t||(t=Wb.INSTANCE.get(e)),this._onPaste.fire({text:e,metadata:t})},t}(Ae),zb=function(){function e(){}return e.canUseTextData=function(e){return!!e.clipboardData||!!window.clipboardData},e.getTextData=function(e){if(e.clipboardData){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=null,i=e.clipboardData.getData("vscode-editor-data");if("string"===typeof i)try{n=JSON.parse(i),1!==n.version&&(n=null)}catch(o){}return[t,n]}if(window.clipboardData){e.preventDefault();t=window.clipboardData.getData("Text");return[t,null]}throw new Error("ClipboardEventUtils.getTextData: Cannot use text data!")},e.setTextData=function(e,t,n,i){if(e.clipboardData)return e.clipboardData.setData("text/plain",t),"string"===typeof n&&e.clipboardData.setData("text/html",n),e.clipboardData.setData("vscode-editor-data",JSON.stringify(i)),void e.preventDefault();if(window.clipboardData)return window.clipboardData.setData("Text",t),void e.preventDefault();throw new Error("ClipboardEventUtils.setTextData: Cannot use text data!")},e}(),jb=function(e){function t(t){var n=e.call(this)||this;return n._actual=t,n._ignoreSelectionChangeTime=0,n}return Hb(t,e),t.prototype.setIgnoreSelectionChangeTime=function(e){this._ignoreSelectionChangeTime=Date.now()},t.prototype.getIgnoreSelectionChangeTime=function(){return this._ignoreSelectionChangeTime},t.prototype.resetSelectionChangeTime=function(){this._ignoreSelectionChangeTime=0},t.prototype.getValue=function(){return this._actual.domNode.value},t.prototype.setValue=function(e,t){var n=this._actual.domNode;n.value!==t&&(this.setIgnoreSelectionChangeTime("setValue"),n.value=t)},t.prototype.getSelectionStart=function(){return this._actual.domNode.selectionStart},t.prototype.getSelectionEnd=function(){return this._actual.domNode.selectionEnd},t.prototype.setSelectionRange=function(e,t,n){var i=this._actual.domNode,o=null,r=Qo(i);o=r?r.activeElement:document.activeElement;var s=o===i,a=i.selectionStart,l=i.selectionEnd;if(s&&a===t&&l===n)Un&&window.parent!==window&&i.focus();else{if(s)return this.setIgnoreSelectionChangeTime("setSelectionRange"),i.setSelectionRange(t,n),void(Un&&window.parent!==window&&i.focus());try{var u=ur(i);this.setIgnoreSelectionChangeTime("setSelectionRange"),i.focus(),i.setSelectionRange(t,n),cr(i,u)}catch(c){}}},t}(Ae),Gb=(n("2ab7"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Kb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gb(t,e),t}(e_),qb={ColorContribution:"base.contributions.colors"},Yb=function(){function e(){this._onDidChangeSchema=new Ze,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}return e.prototype.registerColor=function(e,t,n,i,o){void 0===i&&(i=!1);var r={id:e,description:n,defaults:t,needsTransparency:i,deprecationMessage:o};this.colorsById[e]=r;var s={type:"string",description:n,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(s.deprecationMessage=o),this.colorSchema.properties[e]=s,this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(n),this._onDidChangeSchema.fire(),e},e.prototype.resolveDefaultColor=function(e,t){var n=this.colorsById[e];if(n&&n.defaults){var i=n.defaults[t.type];return iS(i,t)}},e.prototype.getColorSchema=function(){return this.colorSchema},e.prototype.toString=function(){var e=this,t=function(e,t){var n=-1===e.indexOf(".")?0:1,i=-1===t.indexOf(".")?0:1;return n!==i?n-i:e.localeCompare(t)};return Object.keys(this.colorsById).sort(t).map((function(t){return"- `"+t+"`: "+e.colorsById[t].description})).join("\n")},e}(),Xb=new Yb;function Zb(e,t,n,i,o){return Xb.registerColor(e,t,n,i,o)}pp.add(qb.ColorContribution,Xb);var Jb=Zb("foreground",{dark:"#CCCCCC",light:"#616161",hc:"#FFFFFF"},r("foreground","Overall foreground color. This color is only used if not overridden by a component.")),Qb=Zb("errorForeground",{dark:"#F48771",light:"#A1260D",hc:"#F48771"},r("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),ew=Zb("focusBorder",{dark:My.fromHex("#0E639C").transparent(.8),light:My.fromHex("#007ACC").transparent(.4),hc:"#F38518"},r("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),tw=Zb("contrastBorder",{light:null,dark:null,hc:"#6FC3DF"},r("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),nw=Zb("contrastActiveBorder",{light:null,dark:null,hc:ew},r("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),iw=Zb("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hc:"#3794FF"},r("textLinkForeground","Foreground color for links in text.")),ow=Zb("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hc:My.black},r("textCodeBlockBackground","Background color for code blocks in text.")),rw=Zb("widget.shadow",{dark:"#000000",light:"#A8A8A8",hc:null},r("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),sw=Zb("input.background",{dark:"#3C3C3C",light:My.white,hc:My.black},r("inputBoxBackground","Input box background.")),aw=Zb("input.foreground",{dark:Jb,light:Jb,hc:Jb},r("inputBoxForeground","Input box foreground.")),lw=Zb("input.border",{dark:null,light:null,hc:tw},r("inputBoxBorder","Input box border.")),uw=Zb("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hc:tw},r("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),cw=Zb("inputOption.activeBackground",{dark:eS(ew,.5),light:eS(ew,.3),hc:null},r("inputOption.activeBackground","Background color of activated options in input fields.")),hw=Zb("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hc:My.black},r("inputValidationInfoBackground","Input validation background color for information severity.")),dw=Zb("inputValidation.infoForeground",{dark:null,light:null,hc:null},r("inputValidationInfoForeground","Input validation foreground color for information severity.")),pw=Zb("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hc:tw},r("inputValidationInfoBorder","Input validation border color for information severity.")),fw=Zb("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hc:My.black},r("inputValidationWarningBackground","Input validation background color for warning severity.")),gw=Zb("inputValidation.warningForeground",{dark:null,light:null,hc:null},r("inputValidationWarningForeground","Input validation foreground color for warning severity.")),mw=Zb("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hc:tw},r("inputValidationWarningBorder","Input validation border color for warning severity.")),_w=Zb("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hc:My.black},r("inputValidationErrorBackground","Input validation background color for error severity.")),vw=Zb("inputValidation.errorForeground",{dark:null,light:null,hc:null},r("inputValidationErrorForeground","Input validation foreground color for error severity.")),yw=Zb("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hc:tw},r("inputValidationErrorBorder","Input validation border color for error severity.")),bw=Zb("dropdown.background",{dark:"#3C3C3C",light:My.white,hc:My.black},r("dropdownBackground","Dropdown background.")),ww=Zb("dropdown.foreground",{dark:"#F0F0F0",light:null,hc:My.white},r("dropdownForeground","Dropdown foreground.")),Cw=Zb("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hc:My.white},r("pickerGroupForeground","Quick picker color for grouping labels.")),Sw=Zb("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hc:My.white},r("pickerGroupBorder","Quick picker color for grouping borders.")),Ew=Zb("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hc:My.black},r("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Tw=Zb("badge.foreground",{dark:My.white,light:"#333",hc:My.white},r("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),kw=Zb("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hc:null},r("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),xw=Zb("scrollbarSlider.background",{dark:My.fromHex("#797979").transparent(.4),light:My.fromHex("#646464").transparent(.4),hc:eS(tw,.6)},r("scrollbarSliderBackground","Scrollbar slider background color.")),Lw=Zb("scrollbarSlider.hoverBackground",{dark:My.fromHex("#646464").transparent(.7),light:My.fromHex("#646464").transparent(.7),hc:eS(tw,.8)},r("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Iw=Zb("scrollbarSlider.activeBackground",{dark:My.fromHex("#BFBFBF").transparent(.4),light:My.fromHex("#000000").transparent(.6),hc:tw},r("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),Ow=Zb("progressBar.background",{dark:My.fromHex("#0E70C0"),light:My.fromHex("#0E70C0"),hc:tw},r("progressBarBackground","Background color of the progress bar that can show for long running operations.")),Dw=Zb("editorError.foreground",{dark:"#F48771",light:"#E51400",hc:null},r("editorError.foreground","Foreground color of error squigglies in the editor.")),Nw=Zb("editorError.border",{dark:null,light:null,hc:My.fromHex("#E47777").transparent(.8)},r("errorBorder","Border color of error boxes in the editor.")),Rw=Zb("editorWarning.foreground",{dark:"#CCA700",light:"#E9A700",hc:null},r("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),Aw=Zb("editorWarning.border",{dark:null,light:null,hc:My.fromHex("#FFCC00").transparent(.8)},r("warningBorder","Border color of warning boxes in the editor.")),Mw=Zb("editorInfo.foreground",{dark:"#75BEFF",light:"#75BEFF",hc:null},r("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Pw=Zb("editorInfo.border",{dark:null,light:null,hc:My.fromHex("#75BEFF").transparent(.8)},r("infoBorder","Border color of info boxes in the editor.")),Fw=Zb("editorHint.foreground",{dark:My.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hc:null},r("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Bw=Zb("editorHint.border",{dark:null,light:null,hc:My.fromHex("#eeeeee").transparent(.8)},r("hintBorder","Border color of hint boxes in the editor.")),Vw=Zb("editor.background",{light:"#fffffe",dark:"#1E1E1E",hc:My.black},r("editorBackground","Editor background color.")),Hw=Zb("editor.foreground",{light:"#333333",dark:"#BBBBBB",hc:My.white},r("editorForeground","Editor default foreground color.")),$w=Zb("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hc:"#0C141F"},r("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),Ww=Zb("editorWidget.foreground",{dark:Jb,light:Jb,hc:Jb},r("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Uw=Zb("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hc:tw},r("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),zw=Zb("editorWidget.resizeBorder",{light:null,dark:null,hc:null},r("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),jw=Zb("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hc:"#f3f518"},r("editorSelectionBackground","Color of the editor selection.")),Gw=Zb("editor.selectionForeground",{light:null,dark:null,hc:"#000000"},r("editorSelectionForeground","Color of the selected text for high contrast.")),Kw=Zb("editor.inactiveSelectionBackground",{light:eS(jw,.5),dark:eS(jw,.5),hc:eS(jw,.5)},r("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),qw=Zb("editor.selectionHighlightBackground",{light:nS(jw,Vw,.3,.6),dark:nS(jw,Vw,.3,.6),hc:null},r("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Yw=Zb("editor.selectionHighlightBorder",{light:null,dark:null,hc:nw},r("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Xw=Zb("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hc:null},r("editorFindMatch","Color of the current search match.")),Zw=Zb("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hc:null},r("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Jw=Zb("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hc:null},r("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Qw=Zb("editor.findMatchBorder",{light:null,dark:null,hc:nw},r("editorFindMatchBorder","Border color of the current search match.")),eC=Zb("editor.findMatchHighlightBorder",{light:null,dark:null,hc:nw},r("findMatchHighlightBorder","Border color of the other search matches.")),tC=Zb("editor.findRangeHighlightBorder",{dark:null,light:null,hc:eS(nw,.4)},r("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),nC=Zb("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hc:"#ADD6FF26"},r("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),iC=Zb("editorHoverWidget.background",{light:$w,dark:$w,hc:$w},r("hoverBackground","Background color of the editor hover.")),oC=Zb("editorHoverWidget.foreground",{light:Ww,dark:Ww,hc:Ww},r("hoverForeground","Foreground color of the editor hover.")),rC=Zb("editorHoverWidget.border",{light:Uw,dark:Uw,hc:Uw},r("hoverBorder","Border color of the editor hover.")),sC=Zb("editorHoverWidget.statusBarBackground",{dark:QC(iC,.2),light:JC(iC,.05),hc:$w},r("statusBarBackground","Background color of the editor hover status bar.")),aC=Zb("editorLink.activeForeground",{dark:"#4E94CE",light:My.blue,hc:My.cyan},r("activeLinkForeground","Color of active links.")),lC=Zb("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hc:"#FFCC00"},r("editorLightBulbForeground","The color used for the lightbulb actions icon.")),uC=Zb("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},r("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),cC=new My(new Ny(155,185,85,.2)),hC=new My(new Ny(255,0,0,.2)),dC=Zb("diffEditor.insertedTextBackground",{dark:cC,light:cC,hc:null},r("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),pC=Zb("diffEditor.removedTextBackground",{dark:hC,light:hC,hc:null},r("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),fC=Zb("diffEditor.insertedTextBorder",{dark:null,light:null,hc:"#33ff2eff"},r("diffEditorInsertedOutline","Outline color for the text that got inserted.")),gC=Zb("diffEditor.removedTextBorder",{dark:null,light:null,hc:"#FF008F"},r("diffEditorRemovedOutline","Outline color for text that got removed.")),mC=Zb("diffEditor.border",{dark:null,light:null,hc:tw},r("diffEditorBorder","Border color between the two text editors.")),_C=Zb("list.focusBackground",{dark:"#062F4A",light:"#D6EBFF",hc:null},r("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),vC=Zb("list.focusForeground",{dark:null,light:null,hc:null},r("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),yC=Zb("list.activeSelectionBackground",{dark:"#094771",light:"#0074E8",hc:null},r("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),bC=Zb("list.activeSelectionForeground",{dark:My.white,light:My.white,hc:null},r("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),wC=Zb("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hc:null},r("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),CC=Zb("list.inactiveSelectionForeground",{dark:null,light:null,hc:null},r("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),SC=Zb("list.inactiveFocusBackground",{dark:null,light:null,hc:null},r("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),EC=Zb("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hc:null},r("listHoverBackground","List/Tree background when hovering over items using the mouse.")),TC=Zb("list.hoverForeground",{dark:null,light:null,hc:null},r("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),kC=Zb("list.dropBackground",{dark:_C,light:_C,hc:null},r("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),xC=Zb("list.highlightForeground",{dark:"#0097fb",light:"#0066BF",hc:ew},r("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),LC=Zb("listFilterWidget.background",{light:"#efc1ad",dark:"#653723",hc:My.black},r("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),IC=Zb("listFilterWidget.outline",{dark:My.transparent,light:My.transparent,hc:"#f38518"},r("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),OC=Zb("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hc:tw},r("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),DC=Zb("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hc:"#a9a9a9"},r("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),NC=Zb("menu.border",{dark:null,light:null,hc:tw},r("menuBorder","Border color of menus.")),RC=Zb("menu.foreground",{dark:ww,light:Jb,hc:ww},r("menuForeground","Foreground color of menu items.")),AC=Zb("menu.background",{dark:bw,light:bw,hc:bw},r("menuBackground","Background color of menu items.")),MC=Zb("menu.selectionForeground",{dark:bC,light:bC,hc:bC},r("menuSelectionForeground","Foreground color of the selected menu item in menus.")),PC=Zb("menu.selectionBackground",{dark:yC,light:yC,hc:yC},r("menuSelectionBackground","Background color of the selected menu item in menus.")),FC=Zb("menu.selectionBorder",{dark:null,light:null,hc:nw},r("menuSelectionBorder","Border color of the selected menu item in menus.")),BC=Zb("menu.separatorBackground",{dark:"#BBBBBB",light:"#888888",hc:tw},r("menuSeparatorBackground","Color of a separator menu item in menus.")),VC=Zb("editor.snippetTabstopHighlightBackground",{dark:new My(new Ny(124,124,124,.3)),light:new My(new Ny(10,50,100,.2)),hc:new My(new Ny(124,124,124,.3))},r("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),HC=Zb("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hc:null},r("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),$C=Zb("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hc:null},r("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),WC=Zb("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new My(new Ny(10,50,100,.5)),hc:"#525252"},r("snippetFinalTabstopHighlightBorder","Highlight border color of the final stabstop of a snippet.")),UC=Zb("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hc:"#AB5A00"},r("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),zC=Zb("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},r("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),jC=Zb("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hc:"#AB5A00"},r("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),GC=Zb("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hc:"#ffffff"},r("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),KC=Zb("minimap.errorHighlight",{dark:new My(new Ny(255,18,18,.7)),light:new My(new Ny(255,18,18,.7)),hc:new My(new Ny(255,50,50,1))},r("minimapError","Minimap marker color for errors.")),qC=Zb("minimap.warningHighlight",{dark:Rw,light:Rw,hc:Aw},r("overviewRuleWarning","Minimap marker color for warnings.")),YC=Zb("problemsErrorIcon.foreground",{dark:Dw,light:Dw,hc:Dw},r("problemsErrorIconForeground","The color used for the problems error icon.")),XC=Zb("problemsWarningIcon.foreground",{dark:Rw,light:Rw,hc:Rw},r("problemsWarningIconForeground","The color used for the problems warning icon.")),ZC=Zb("problemsInfoIcon.foreground",{dark:Mw,light:Mw,hc:Mw},r("problemsInfoIconForeground","The color used for the problems info icon."));function JC(e,t){return function(n){var i=iS(e,n);if(i)return i.darken(t)}}function QC(e,t){return function(n){var i=iS(e,n);if(i)return i.lighten(t)}}function eS(e,t){return function(n){var i=iS(e,n);if(i)return i.transparent(t)}}function tS(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0,i=e;n<i.length;n++){var o=i[n],r=iS(o,t);if(r)return r}}}function nS(e,t,n,i){return function(o){var r=iS(e,o);if(r){var s=iS(t,o);return s?r.isDarkerThan(s)?My.getLighterColor(r,s,n).transparent(i):My.getDarkerColor(r,s,n).transparent(i):r.transparent(n*i)}}}function iS(e,t){if(null!==e)return"string"===typeof e?"#"===e[0]?My.fromHex(e):t.getColor(e):e instanceof My?e:"function"===typeof e?e(t):void 0}var oS="vscode://schemas/workbench-colors",rS=pp.as(fp.JSONContribution);rS.registerSchema(oS,Xb.getColorSchema());var sS=new ki((function(){return rS.notifySchemaChanged(oS)}),200);Xb.onDidChangeSchema((function(){sS.isScheduled()||sS.schedule()}));var aS=Zb("editor.lineHighlightBackground",{dark:null,light:null,hc:null},r("lineHighlight","Background color for the highlight of line at the cursor position.")),lS=Zb("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hc:"#f38518"},r("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),uS=Zb("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hc:null},r("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),cS=Zb("editor.rangeHighlightBorder",{dark:null,light:null,hc:nw},r("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),hS=Zb("editor.symbolHighlightBackground",{dark:Zw,light:Zw,hc:null},r("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),dS=Zb("editor.symbolHighlightBorder",{dark:null,light:null,hc:nw},r("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),pS=Zb("editorCursor.foreground",{dark:"#AEAFAD",light:My.black,hc:My.white},r("caret","Color of the editor cursor.")),fS=Zb("editorCursor.background",null,r("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),gS=Zb("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hc:"#e3e4e229"},r("editorWhitespaces","Color of whitespace characters in the editor.")),mS=Zb("editorIndentGuide.background",{dark:gS,light:gS,hc:gS},r("editorIndentGuides","Color of the editor indentation guides.")),_S=Zb("editorIndentGuide.activeBackground",{dark:gS,light:gS,hc:gS},r("editorActiveIndentGuide","Color of the active editor indentation guides.")),vS=Zb("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hc:My.white},r("editorLineNumbers","Color of editor line numbers.")),yS=Zb("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hc:nw},r("editorActiveLineNumber","Color of editor active line number"),!1,r("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),bS=Zb("editorLineNumber.activeForeground",{dark:yS,light:yS,hc:yS},r("editorActiveLineNumber","Color of editor active line number")),wS=Zb("editorRuler.foreground",{dark:"#5A5A5A",light:My.lightgrey,hc:My.white},r("editorRuler","Color of the editor rulers.")),CS=Zb("editorCodeLens.foreground",{dark:"#999999",light:"#999999",hc:"#999999"},r("editorCodeLensForeground","Foreground color of editor code lenses")),SS=Zb("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hc:"#0064001a"},r("editorBracketMatchBackground","Background color behind matching brackets")),ES=Zb("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hc:tw},r("editorBracketMatchBorder","Color for matching brackets boxes")),TS=Zb("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hc:"#7f7f7f4d"},r("editorOverviewRulerBorder","Color of the overview ruler border.")),kS=Zb("editorGutter.background",{dark:Vw,light:Vw,hc:Vw},r("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),xS=Zb("editorUnnecessaryCode.border",{dark:null,light:null,hc:My.fromHex("#fff").transparent(.8)},r("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),LS=Zb("editorUnnecessaryCode.opacity",{dark:My.fromHex("#000a"),light:My.fromHex("#0007"),hc:null},r("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.")),IS=Zb("editorOverviewRuler.errorForeground",{dark:new My(new Ny(255,18,18,.7)),light:new My(new Ny(255,18,18,.7)),hc:new My(new Ny(255,50,50,1))},r("overviewRuleError","Overview ruler marker color for errors.")),OS=Zb("editorOverviewRuler.warningForeground",{dark:Rw,light:Rw,hc:Aw},r("overviewRuleWarning","Overview ruler marker color for warnings.")),DS=Zb("editorOverviewRuler.infoForeground",{dark:Mw,light:Mw,hc:Pw},r("overviewRuleInfo","Overview ruler marker color for infos."));w_((function(e,t){var n=e.getColor(Vw);n&&t.addRule(".monaco-editor, .monaco-editor-background, .monaco-editor .inputarea.ime-input { background-color: "+n+"; }");var i=e.getColor(Hw);i&&t.addRule(".monaco-editor, .monaco-editor .inputarea.ime-input { color: "+i+"; }");var o=e.getColor(kS);o&&t.addRule(".monaco-editor .margin { background-color: "+o+"; }");var r=e.getColor(uS);r&&t.addRule(".monaco-editor .rangeHighlight { background-color: "+r+"; }");var s=e.getColor(cS);s&&t.addRule(".monaco-editor .rangeHighlight { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+s+"; }");var a=e.getColor(hS);a&&t.addRule(".monaco-editor .symbolHighlight { background-color: "+a+"; }");var l=e.getColor(dS);l&&t.addRule(".monaco-editor .symbolHighlight { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+l+"; }");var u=e.getColor(gS);u&&t.addRule(".vs-whitespace { color: "+u+" !important; }")}));var NS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),RS=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._readConfig(),n._lastCursorModelPosition=new yn(1,1),n._renderResult=null,n._context.addEventHandler(n),n}return NS(t,e),t.prototype._readConfig=function(){var e=this._context.configuration.options;this._lineHeight=e.get(49);var t=e.get(50);this._renderLineNumbers=t.renderType,this._renderCustomLineNumbers=t.renderFn,this._renderFinalNewline=e.get(71);var n=e.get(107);this._lineNumbersLeft=n.lineNumbersLeft,this._lineNumbersWidth=n.lineNumbersWidth},t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return this._readConfig(),!0},t.prototype.onCursorStateChanged=function(e){var t=e.selections[0].getPosition();return this._lastCursorModelPosition=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(t),2===this._renderLineNumbers||3===this._renderLineNumbers},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getLineRenderLineNumber=function(e){var t=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new yn(e,1));if(1!==t.column)return"";var n=t.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(n);if(2===this._renderLineNumbers){var i=Math.abs(this._lastCursorModelPosition.lineNumber-n);return 0===i?'<span class="relative-current-line-number">'+n+"</span>":String(i)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===n||n%10===0?String(n):"":String(n)},t.prototype.prepareRender=function(e){if(0!==this._renderLineNumbers){for(var n=s["d"]?this._lineHeight%2===0?" lh-even":" lh-odd":"",i=e.visibleRange.startLineNumber,o=e.visibleRange.endLineNumber,r='<div class="'+t.CLASS_NAME+n+'" style="left:'+this._lineNumbersLeft.toString()+"px;width:"+this._lineNumbersWidth.toString()+'px;">',a=this._context.model.getLineCount(),l=[],u=i;u<=o;u++){var c=u-i;if(this._renderFinalNewline||u!==a||0!==this._context.model.getLineLength(u)){var h=this._getLineRenderLineNumber(u);l[c]=h?r+h+"</div>":""}else l[c]=""}this._renderResult=l}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t.CLASS_NAME="line-numbers",t}(Kb);w_((function(e,t){var n=e.getColor(vS);n&&t.addRule(".monaco-editor .line-numbers { color: "+n+"; }");var i=e.getColor(bS);i&&t.addRule(".monaco-editor .current-line ~ .line-numbers { color: "+i+"; }")}));var AS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MS=function(e){function t(n){var i=e.call(this,n)||this,o=i._context.configuration.options,r=o.get(107);return i._canUseLayerHinting=!o.get(22),i._contentLeft=r.contentLeft,i._glyphMarginLeft=r.glyphMarginLeft,i._glyphMarginWidth=r.glyphMarginWidth,i._domNode=Am(document.createElement("div")),i._domNode.setClassName(t.OUTER_CLASS_NAME),i._domNode.setPosition("absolute"),i._domNode.setAttribute("role","presentation"),i._domNode.setAttribute("aria-hidden","true"),i._glyphMarginBackgroundDomNode=Am(document.createElement("div")),i._glyphMarginBackgroundDomNode.setClassName(t.CLASS_NAME),i._domNode.appendChild(i._glyphMarginBackgroundDomNode),i}return AS(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._canUseLayerHinting=!t.get(22),this._contentLeft=n.contentLeft,this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollTopChanged},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");var t=e.scrollTop-e.bigNumbersDelta;this._domNode.setTop(-t);var n=Math.min(e.scrollHeight,1e6);this._domNode.setHeight(n),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(n)},t.CLASS_NAME="glyph-margin",t.OUTER_CLASS_NAME="margin",t}(n_),PS=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),FS=function(){function e(e){this.type=1,this._source=e}return e.prototype.hasChanged=function(e){return this._source.hasChanged(e)},e}(),BS=function(){function e(e){this.type=2,this.contentWidth=e.contentWidth,this.contentHeight=e.contentHeight,this.contentWidthChanged=e.contentWidthChanged,this.contentHeightChanged=e.contentHeightChanged}return e}(),VS=function(){function e(e,t){this.type=3,this.selections=e,this.modelSelections=t}return e}(),HS=function(){function e(){this.type=4}return e}(),$S=function(){function e(){this.type=5}return e}(),WS=function(){function e(e){this.type=6,this.isFocused=e}return e}(),US=function(){function e(){this.type=7}return e}(),zS=function(){function e(){this.type=8}return e}(),jS=function(){function e(e,t){this.type=9,this.fromLineNumber=e,this.toLineNumber=t}return e}(),GS=function(){function e(e,t){this.type=10,this.fromLineNumber=e,this.toLineNumber=t}return e}(),KS=function(){function e(e,t){this.type=11,this.fromLineNumber=e,this.toLineNumber=t}return e}(),qS=function(){function e(e,t,n,i,o){this.type=12,this.source=e,this.range=t,this.verticalType=n,this.revealHorizontal=i,this.scrollType=o}return e}(),YS=function(){function e(e){this.type=13,this.scrollWidth=e.scrollWidth,this.scrollLeft=e.scrollLeft,this.scrollHeight=e.scrollHeight,this.scrollTop=e.scrollTop,this.scrollWidthChanged=e.scrollWidthChanged,this.scrollLeftChanged=e.scrollLeftChanged,this.scrollHeightChanged=e.scrollHeightChanged,this.scrollTopChanged=e.scrollTopChanged}return e}(),XS=function(){function e(){this.type=14}return e}(),ZS=function(){function e(e){this.type=15,this.ranges=e}return e}(),JS=function(){function e(){this.type=16}return e}(),QS=function(){function e(){this.type=17}return e}(),eE=function(e){function t(){var t=e.call(this)||this;return t._listeners=[],t._collector=null,t._collectorCnt=0,t}return PS(t,e),t.prototype.dispose=function(){this._listeners=[],e.prototype.dispose.call(this)},t.prototype._beginEmit=function(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new tE),this._collector},t.prototype._endEmit=function(){if(this._collectorCnt--,0===this._collectorCnt){var e=this._collector.finalize();this._collector=null,e.length>0&&this._emit(e)}},t.prototype._emit=function(e){for(var t=this._listeners.slice(0),n=0,i=t.length;n<i;n++)nE(t[n],e)},t.prototype.addEventListener=function(e){var t=this;return this._listeners.push(e),De((function(){for(var n=t._listeners,i=0,o=n.length;i<o;i++)if(n[i]===e){n.splice(i,1);break}}))},t}(Ae),tE=function(){function e(){this._eventsLen=0,this._events=[],this._eventsLen=0}return e.prototype.emit=function(e){this._events[this._eventsLen++]=e},e.prototype.finalize=function(){var e=this._events;return this._events=[],e},e}();function nE(e,t){try{e(t)}catch(n){ge(n)}}var iE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oE=function(){function e(e,t,n){this.top=e,this.left=t,this.width=n}return e.prototype.setWidth=function(t){return new e(this.top,this.left,t)},e}(),rE=Wn||Un,sE=function(e){function t(t,n,i){var o=e.call(this,t)||this;o._primaryCursorPosition=new yn(1,1),o._primaryCursorVisibleRange=null,o._viewController=n,o._viewHelper=i,o._scrollLeft=0,o._scrollTop=0;var r=o._context.configuration.options,a=r.get(107);o._setAccessibilityOptions(r),o._contentLeft=a.contentLeft,o._contentWidth=a.contentWidth,o._contentHeight=a.height,o._fontInfo=r.get(34),o._lineHeight=r.get(49),o._emptySelectionClipboard=r.get(25),o._copyWithSyntaxHighlighting=r.get(15),o._visibleTextArea=null,o._selections=[new Cn(1,1,1,1)],o._modelSelections=[new Cn(1,1,1,1)],o._lastRenderPosition=null,o.textArea=Am(document.createElement("textarea")),i_.write(o.textArea,6),o.textArea.setClassName("inputarea"),o.textArea.setAttribute("wrap","off"),o.textArea.setAttribute("autocorrect","off"),o.textArea.setAttribute("autocapitalize","off"),o.textArea.setAttribute("autocomplete","off"),o.textArea.setAttribute("spellcheck","false"),o.textArea.setAttribute("aria-label",o._getAriaLabel(r)),o.textArea.setAttribute("role","textbox"),o.textArea.setAttribute("aria-multiline","true"),o.textArea.setAttribute("aria-haspopup","false"),o.textArea.setAttribute("aria-autocomplete","both"),s["g"]&&r.get(68)&&o.textArea.setAttribute("readonly","true"),o.textAreaCover=Am(document.createElement("div")),o.textAreaCover.setPosition("absolute");var l={getLineCount:function(){return o._context.model.getLineCount()},getLineMaxColumn:function(e){return o._context.model.getLineMaxColumn(e)},getValueInRange:function(e,t){return o._context.model.getValueInRange(e,t)}},u={getDataToCopy:function(e){var t=o._context.model.getPlainTextToCopy(o._modelSelections,o._emptySelectionClipboard,s["h"]),n=o._context.model.getEOL(),i=o._emptySelectionClipboard&&1===o._modelSelections.length&&o._modelSelections[0].isEmpty(),r=Array.isArray(t)?t:null,a=Array.isArray(t)?t.join(n):t,l=void 0,u=null;if(e&&($b.forceCopyWithSyntaxHighlighting||o._copyWithSyntaxHighlighting&&a.length<65536)){var c=o._context.model.getRichTextToCopy(o._modelSelections,o._emptySelectionClipboard);c&&(l=c.html,u=c.mode)}return{isFromEmptySelection:i,multicursorText:r,text:a,html:l,mode:u}},getScreenReaderContent:function(e){if(qn)return Bb.EMPTY;if(1===o._accessibilitySupport){if(s["e"]){var t=o._selections[0];if(t.isEmpty()){var n=t.getStartPosition(),i=o._getWordBeforePosition(n);if(0===i.length&&(i=o._getCharacterBeforePosition(n)),i.length>0)return new Bb(i,i.length,i.length,n,n)}}return Bb.EMPTY}return Vb.fromEditorSelection(e,l,o._selections[0],o._accessibilityPageSize,0===o._accessibilitySupport)},deduceModelPosition:function(e,t,n){return o._context.model.deduceModelPositionRelativeToViewPosition(e,t,n)}};return o._textAreaInput=o._register(new Ub(u,o.textArea)),o._register(o._textAreaInput.onKeyDown((function(e){o._viewController.emitKeyDown(e)}))),o._register(o._textAreaInput.onKeyUp((function(e){o._viewController.emitKeyUp(e)}))),o._register(o._textAreaInput.onPaste((function(e){var t=!1,n=null,i=null;e.metadata&&(t=o._emptySelectionClipboard&&!!e.metadata.isFromEmptySelection,n="undefined"!==typeof e.metadata.multicursorText?e.metadata.multicursorText:null,i=e.metadata.mode),o._viewController.paste("keyboard",e.text,t,n,i)}))),o._register(o._textAreaInput.onCut((function(){o._viewController.cut("keyboard")}))),o._register(o._textAreaInput.onType((function(e){e.replaceCharCnt?o._viewController.replacePreviousChar("keyboard",e.text,e.replaceCharCnt):o._viewController.type("keyboard",e.text)}))),o._register(o._textAreaInput.onSelectionChangeRequest((function(e){o._viewController.setSelection("keyboard",e)}))),o._register(o._textAreaInput.onCompositionStart((function(){var e=o._selections[0].startLineNumber,t=o._selections[0].startColumn;o._context.privateViewEventBus.emit(new qS("keyboard",new bn(e,t,e,t),0,!0,1));var n=o._viewHelper.visibleRangeForPositionRelativeToEditor(e,t);n&&(o._visibleTextArea=new oE(o._context.viewLayout.getVerticalOffsetForLineNumber(e),n.left,rE?0:1),o._render()),o.textArea.setClassName("inputarea ime-input"),o._viewController.compositionStart("keyboard")}))),o._register(o._textAreaInput.onCompositionUpdate((function(e){o._visibleTextArea=Wn?o._visibleTextArea.setWidth(0):o._visibleTextArea.setWidth(aE(e.data,o._fontInfo)),o._render()}))),o._register(o._textAreaInput.onCompositionEnd((function(){o._visibleTextArea=null,o._render(),o.textArea.setClassName("inputarea"),o._viewController.compositionEnd("keyboard")}))),o._register(o._textAreaInput.onFocus((function(){o._context.privateViewEventBus.emit(new WS(!0))}))),o._register(o._textAreaInput.onBlur((function(){o._context.privateViewEventBus.emit(new WS(!1))}))),o}return iE(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._getWordBeforePosition=function(e){var t=this._context.model.getLineContent(e.lineNumber),n=Bv(this._context.configuration.options.get(96)),i=e.column,o=0;while(i>1){var r=t.charCodeAt(i-2),s=n.get(r);if(0!==s||o>50)return t.substring(i-1,e.column-1);o++,i--}return t.substring(0,e.column-1)},t.prototype._getCharacterBeforePosition=function(e){if(e.column>1){var t=this._context.model.getLineContent(e.lineNumber),n=t.charAt(e.column-2);if(!os(n.charCodeAt(0)))return n}return""},t.prototype._getAriaLabel=function(e){var t=e.get(2);return 1===t?r("accessibilityOffAriaLabel","The editor is not accessible at this time. Press Alt+F1 for options."):e.get(4)},t.prototype._setAccessibilityOptions=function(e){this._accessibilitySupport=e.get(2);var t=e.get(3);2===this._accessibilitySupport&&t===de.accessibilityPageSize.defaultValue?this._accessibilityPageSize=160:this._accessibilityPageSize=t},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._setAccessibilityOptions(t),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._contentHeight=n.height,this._fontInfo=t.get(34),this._lineHeight=t.get(49),this._emptySelectionClipboard=t.get(25),this._copyWithSyntaxHighlighting=t.get(15),this.textArea.setAttribute("aria-label",this._getAriaLabel(t)),s["g"]&&e.hasChanged(68)&&(t.get(68)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),e.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),this._modelSelections=e.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return this._scrollLeft=e.scrollLeft,this._scrollTop=e.scrollTop,!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.isFocused=function(){return this._textAreaInput.isFocused()},t.prototype.focusTextArea=function(){this._textAreaInput.focusTextArea()},t.prototype.getLastRenderData=function(){return this._lastRenderPosition},t.prototype.setAriaOptions=function(e){e.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",e.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant"))},t.prototype.prepareRender=function(e){this._primaryCursorPosition=new yn(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=e.visibleRangeForPosition(this._primaryCursorPosition)},t.prototype.render=function(e){this._textAreaInput.writeScreenReaderContent("render"),this._render()},t.prototype._render=function(){if(this._visibleTextArea)this._renderInsideEditor(null,this._visibleTextArea.top-this._scrollTop,this._contentLeft+this._visibleTextArea.left-this._scrollLeft,this._visibleTextArea.width,this._lineHeight);else if(this._primaryCursorVisibleRange){var e=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(e<this._contentLeft||e>this._contentLeft+this._contentWidth)this._renderAtTopLeft();else{var t=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;t<0||t>this._contentHeight?this._renderAtTopLeft():s["e"]?this._renderInsideEditor(this._primaryCursorPosition,t,e,rE?0:1,this._lineHeight):this._renderInsideEditor(this._primaryCursorPosition,t,e,rE?0:1,rE?0:1)}}else this._renderAtTopLeft()},t.prototype._renderInsideEditor=function(e,t,n,i,o){this._lastRenderPosition=e;var r=this.textArea,s=this.textAreaCover;tm.applyFontInfo(r,this._fontInfo),r.setTop(t),r.setLeft(n),r.setWidth(i),r.setHeight(o),s.setTop(0),s.setLeft(0),s.setWidth(0),s.setHeight(0)},t.prototype._renderAtTopLeft=function(){this._lastRenderPosition=null;var e=this.textArea,t=this.textAreaCover;if(tm.applyFontInfo(e,this._fontInfo),e.setTop(0),e.setLeft(0),t.setTop(0),t.setLeft(0),rE)return e.setWidth(0),e.setHeight(0),t.setWidth(0),void t.setHeight(0);e.setWidth(1),e.setHeight(1),t.setWidth(1),t.setHeight(1);var n=this._context.configuration.options;n.get(40)?t.setClassName("monaco-editor-background textAreaCover "+MS.OUTER_CLASS_NAME):0!==n.get(50).renderType?t.setClassName("monaco-editor-background textAreaCover "+RS.CLASS_NAME):t.setClassName("monaco-editor-background textAreaCover")},t}(n_);function aE(e,t){var n=document.createElement("canvas"),i=n.getContext("2d");i.font=lE(t);var o=i.measureText(e);return Un?o.width+2:o.width}function lE(e){return uE("normal",e.fontWeight,e.fontSize,e.lineHeight,e.fontFamily)}function uE(e,t,n,i,o){return e+" normal "+t+" "+n+"px / "+i+"px "+o}var cE=function(){function e(){}return e.columnSelect=function(e,t,n,i,o,r){for(var s=Math.abs(o-n)+1,a=n>o,l=i>r,u=i<r,c=[],h=0;h<s;h++){var d=n+(a?-h:h),p=db.columnFromVisibleColumn2(e,t,d,i),f=db.columnFromVisibleColumn2(e,t,d,r),g=db.visibleColumnFromColumn2(e,t,new yn(d,p)),m=db.visibleColumnFromColumn2(e,t,new yn(d,f));if(u){if(g>r)continue;if(m<i)continue}if(l){if(m>i)continue;if(g<r)continue}c.push(new sb(new bn(d,p,d,p),0,new yn(d,f),0))}if(0===c.length)for(h=0;h<s;h++){d=n+(a?-h:h);var _=t.getLineMaxColumn(d);c.push(new sb(new bn(d,_,d,_),0,new yn(d,_),0))}return{viewStates:c,reversed:a,fromLineNumber:n,fromVisualColumn:i,toLineNumber:o,toVisualColumn:r}},e.columnSelectLeft=function(t,n,i){var o=i.toViewVisualColumn;return o>1&&o--,e.columnSelect(t,n,i.fromViewLineNumber,i.fromViewVisualColumn,i.toViewLineNumber,o)},e.columnSelectRight=function(e,t,n){for(var i=0,o=Math.min(n.fromViewLineNumber,n.toViewLineNumber),r=Math.max(n.fromViewLineNumber,n.toViewLineNumber),s=o;s<=r;s++){var a=t.getLineMaxColumn(s),l=db.visibleColumnFromColumn2(e,t,new yn(s,a));i=Math.max(i,l)}var u=n.toViewVisualColumn;return u<i&&u++,this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,n.toViewLineNumber,u)},e.columnSelectUp=function(e,t,n,i){var o=i?e.pageSize:1,r=Math.max(1,n.toViewLineNumber-o);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)},e.columnSelectDown=function(e,t,n,i){var o=i?e.pageSize:1,r=Math.min(t.getLineCount(),n.toViewLineNumber+o);return this.columnSelect(e,t,n.fromViewLineNumber,n.fromViewVisualColumn,r,n.toViewVisualColumn)},e}(),hE=function(){function e(e,t,n){void 0===n&&(n=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range;return new Cn(i.endLineNumber,i.endColumn,i.endLineNumber,i.endColumn)},e}(),dE=function(){function e(e,t){this._range=e,this._text=t}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range;return new Cn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)},e}(),pE=function(){function e(e,t,n){void 0===n&&(n=!1),this._range=e,this._text=t,this.insertsAutoWhitespace=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range;return new Cn(i.startLineNumber,i.startColumn,i.startLineNumber,i.startColumn)},e}(),fE=function(){function e(e,t,n,i,o){void 0===o&&(o=!1),this._range=e,this._text=t,this._columnDeltaOffset=i,this._lineNumberDeltaOffset=n,this.insertsAutoWhitespace=o}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range;return new Cn(i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset,i.endLineNumber+this._lineNumberDeltaOffset,i.endColumn+this._columnDeltaOffset)},e}(),gE=function(){function e(e,t,n,i){void 0===i&&(i=!1),this._range=e,this._text=t,this._initialSelection=n,this._forceMoveMarkers=i,this._selectionId=null}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=t.trackSelection(this._initialSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}(),mE=function(){function e(e,t,n){this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}return e}(),_E=function(){function e(){}return e.leftPosition=function(e,t,n){return n>e.getLineMinColumn(t)?n-=us(e.getLineContent(t),n-1):t>1&&(t-=1,n=e.getLineMaxColumn(t)),new yn(t,n)},e.left=function(t,n,i,o){var r=e.leftPosition(n,i,o);return new mE(r.lineNumber,r.column,0)},e.moveLeft=function(t,n,i,o,r){var s,a;if(i.hasSelection()&&!o)s=i.selection.startLineNumber,a=i.selection.startColumn;else{var l=e.left(t,n,i.position.lineNumber,i.position.column-(r-1));s=l.lineNumber,a=l.column}return i.move(o,s,a,0)},e.rightPosition=function(e,t,n){return n<e.getLineMaxColumn(t)?n+=ls(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new yn(t,n)},e.right=function(t,n,i,o){var r=e.rightPosition(n,i,o);return new mE(r.lineNumber,r.column,0)},e.moveRight=function(t,n,i,o,r){var s,a;if(i.hasSelection()&&!o)s=i.selection.endLineNumber,a=i.selection.endColumn;else{var l=e.right(t,n,i.position.lineNumber,i.position.column+(r-1));s=l.lineNumber,a=l.column}return i.move(o,s,a,0)},e.down=function(e,t,n,i,o,r,s){var a=db.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+o;n+=r;var l=t.getLineCount();return n>l?(n=l,i=s?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=db.columnFromVisibleColumn2(e,t,n,a),o=a-db.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),new mE(n,i,o)},e.moveDown=function(t,n,i,o,r){var s,a;i.hasSelection()&&!o?(s=i.selection.endLineNumber,a=i.selection.endColumn):(s=i.position.lineNumber,a=i.position.column);var l=e.down(t,n,s,a,i.leftoverVisibleColumns,r,!0);return i.move(o,l.lineNumber,l.column,l.leftoverVisibleColumns)},e.translateDown=function(t,n,i){var o=i.selection,r=e.down(t,n,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=e.down(t,n,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new sb(new bn(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new yn(s.lineNumber,s.column),s.leftoverVisibleColumns)},e.up=function(e,t,n,i,o,r,s){var a=db.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize)+o;return n-=r,n<1?(n=1,i=s?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),i)):i=db.columnFromVisibleColumn2(e,t,n,a),o=a-db.visibleColumnFromColumn(t.getLineContent(n),i,e.tabSize),new mE(n,i,o)},e.moveUp=function(t,n,i,o,r){var s,a;i.hasSelection()&&!o?(s=i.selection.startLineNumber,a=i.selection.startColumn):(s=i.position.lineNumber,a=i.position.column);var l=e.up(t,n,s,a,i.leftoverVisibleColumns,r,!0);return i.move(o,l.lineNumber,l.column,l.leftoverVisibleColumns)},e.translateUp=function(t,n,i){var o=i.selection,r=e.up(t,n,o.selectionStartLineNumber,o.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),s=e.up(t,n,o.positionLineNumber,o.positionColumn,i.leftoverVisibleColumns,1,!1);return new sb(new bn(r.lineNumber,r.column,r.lineNumber,r.column),r.leftoverVisibleColumns,new yn(s.lineNumber,s.column),s.leftoverVisibleColumns)},e.moveToBeginningOfLine=function(e,t,n,i){var o,r=n.position.lineNumber,s=t.getLineMinColumn(r),a=t.getLineFirstNonWhitespaceColumn(r)||s,l=n.position.column;return o=l===a?s:a,n.move(i,r,o,0)},e.moveToEndOfLine=function(e,t,n,i){var o=n.position.lineNumber,r=t.getLineMaxColumn(o);return n.move(i,o,r,0)},e.moveToBeginningOfBuffer=function(e,t,n,i){return n.move(i,1,1,0)},e.moveToEndOfBuffer=function(e,t,n,i){var o=t.getLineCount(),r=t.getLineMaxColumn(o);return n.move(i,o,r,0)},e}(),vE=function(){function e(){}return e.deleteRight=function(e,t,n,i){for(var o=[],r=3!==e,s=0,a=i.length;s<a;s++){var l=i[s],u=l;if(u.isEmpty()){var c=l.getPosition(),h=_E.right(t,n,c.lineNumber,c.column);u=new bn(h.lineNumber,h.column,c.lineNumber,c.column)}u.isEmpty()?o[s]=null:(u.startLineNumber!==u.endLineNumber&&(r=!0),o[s]=new hE(u,""))}return[r,o]},e._isAutoClosingPairDelete=function(e,t,n){if("never"===e.autoClosingBrackets&&"never"===e.autoClosingQuotes)return!1;for(var i=0,o=n.length;i<o;i++){var r=n[i],s=r.getPosition();if(!r.isEmpty())return!1;var a=t.getLineContent(s.lineNumber),l=a[s.column-2],u=e.autoClosingPairsOpen2.get(l);if(!u)return!1;if(pb(l)){if("never"===e.autoClosingQuotes)return!1}else if("never"===e.autoClosingBrackets)return!1;for(var c=a[s.column-1],h=!1,d=0,p=u;d<p.length;d++){var f=p[d];f.open===l&&f.close===c&&(h=!0)}if(!h)return!1}return!0},e._runAutoClosingPairDelete=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++){var s=n[o].getPosition(),a=new bn(s.lineNumber,s.column-1,s.lineNumber,s.column+1);i[o]=new hE(a,"")}return[!0,i]},e.deleteLeft=function(e,t,n,i){if(this._isAutoClosingPairDelete(t,n,i))return this._runAutoClosingPairDelete(t,n,i);for(var o=[],r=2!==e,s=0,a=i.length;s<a;s++){var l=i[s],u=l;if(u.isEmpty()){var c=l.getPosition();if(t.useTabStops&&c.column>1){var h=n.getLineContent(c.lineNumber),d=jr(h),p=-1===d?h.length+1:d+1;if(c.column<=p){var f=db.visibleColumnFromColumn2(t,n,c),g=db.prevIndentTabStop(f,t.indentSize),m=db.columnFromVisibleColumn2(t,n,c.lineNumber,g);u=new bn(c.lineNumber,m,c.lineNumber,c.column)}else u=new bn(c.lineNumber,c.column-1,c.lineNumber,c.column)}else{var _=_E.left(t,n,c.lineNumber,c.column);u=new bn(_.lineNumber,_.column,c.lineNumber,c.column)}}u.isEmpty()?o[s]=null:(u.startLineNumber!==u.endLineNumber&&(r=!0),o[s]=new hE(u,""))}return[r,o]},e.cut=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++){var s=n[o];if(s.isEmpty())if(e.emptySelectionClipboard){var a=s.getPosition(),l=void 0,u=void 0,c=void 0,h=void 0;a.lineNumber<t.getLineCount()?(l=a.lineNumber,u=1,c=a.lineNumber+1,h=1):a.lineNumber>1?(l=a.lineNumber-1,u=t.getLineMaxColumn(a.lineNumber-1),c=a.lineNumber,h=t.getLineMaxColumn(a.lineNumber)):(l=a.lineNumber,u=1,c=a.lineNumber,h=t.getLineMaxColumn(a.lineNumber));var d=new bn(l,u,c,h);d.isEmpty()?i[o]=null:i[o]=new hE(d,"")}else i[o]=null;else i[o]=new hE(s,"")}return new hb(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e}(),yE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bE=function(){function e(){}return e._createWord=function(e,t,n,i,o){return{start:i,end:o,wordType:t,nextCharClass:n}},e._findPreviousWordOnLine=function(e,t,n){var i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)},e._doFindPreviousWordOnLine=function(e,t,n){for(var i=0,o=n.column-2;o>=0;o--){var r=e.charCodeAt(o),s=t.get(r);if(0===s){if(2===i)return this._createWord(e,i,s,o+1,this._findEndOfWord(e,t,i,o+1));i=1}else if(2===s){if(1===i)return this._createWord(e,i,s,o+1,this._findEndOfWord(e,t,i,o+1));i=2}else if(1===s&&0!==i)return this._createWord(e,i,s,o+1,this._findEndOfWord(e,t,i,o+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null},e._findEndOfWord=function(e,t,n,i){for(var o=e.length,r=i;r<o;r++){var s=e.charCodeAt(r),a=t.get(s);if(1===a)return r;if(1===n&&2===a)return r;if(2===n&&0===a)return r}return o},e._findNextWordOnLine=function(e,t,n){var i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)},e._doFindNextWordOnLine=function(e,t,n){for(var i=0,o=e.length,r=n.column-1;r<o;r++){var s=e.charCodeAt(r),a=t.get(s);if(0===a){if(2===i)return this._createWord(e,i,a,this._findStartOfWord(e,t,i,r-1),r);i=1}else if(2===a){if(1===i)return this._createWord(e,i,a,this._findStartOfWord(e,t,i,r-1),r);i=2}else if(1===a&&0!==i)return this._createWord(e,i,a,this._findStartOfWord(e,t,i,r-1),r)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,o-1),o):null},e._findStartOfWord=function(e,t,n,i){for(var o=i;o>=0;o--){var r=e.charCodeAt(o),s=t.get(r);if(1===s)return o+1;if(1===n&&2===s)return o+1;if(2===n&&0===s)return o+1}return 0},e.moveWordLeft=function(t,n,i,o){var r=i.lineNumber,s=i.column,a=!1;1===s&&r>1&&(a=!0,r-=1,s=n.getLineMaxColumn(r));var l=e._findPreviousWordOnLine(t,n,new yn(r,s));if(0===o){if(l&&!a){var u=n.getLineLastNonWhitespaceColumn(r);if(u<s)return new yn(r,l.end+1)}return new yn(r,l?l.start+1:1)}if(1===o)return l&&2===l.wordType&&l.end-l.start===1&&0===l.nextCharClass&&(l=e._findPreviousWordOnLine(t,n,new yn(r,l.start+1))),new yn(r,l?l.start+1:1);if(3===o){while(l&&2===l.wordType)l=e._findPreviousWordOnLine(t,n,new yn(r,l.start+1));return new yn(r,l?l.start+1:1)}return l&&s<=l.end+1&&(l=e._findPreviousWordOnLine(t,n,new yn(r,l.start+1))),new yn(r,l?l.end+1:1)},e._moveWordPartLeft=function(e,t){var n=t.lineNumber,i=e.getLineMaxColumn(n);if(1===t.column)return n>1?new yn(n-1,e.getLineMaxColumn(n-1)):t;for(var o=e.getLineContent(n),r=t.column-1;r>1;r--){var s=o.charCodeAt(r-2),a=o.charCodeAt(r-1);if(95!==s&&95===a)return new yn(n,r);if(Xr(s)&&Zr(a))return new yn(n,r);if(Zr(s)&&Zr(a)&&r+1<i){var l=o.charCodeAt(r);if(Xr(l))return new yn(n,r)}}return new yn(n,1)},e.moveWordRight=function(t,n,i,o){var r=i.lineNumber,s=i.column,a=!1;s===n.getLineMaxColumn(r)&&r<n.getLineCount()&&(a=!0,r+=1,s=1);var l=e._findNextWordOnLine(t,n,new yn(r,s));if(2===o)l&&2===l.wordType&&l.end-l.start===1&&0===l.nextCharClass&&(l=e._findNextWordOnLine(t,n,new yn(r,l.end+1))),s=l?l.end+1:n.getLineMaxColumn(r);else if(3===o){a&&(s=0);while(l&&(2===l.wordType||l.start+1<=s))l=e._findNextWordOnLine(t,n,new yn(r,l.end+1));s=l?l.start+1:n.getLineMaxColumn(r)}else l&&!a&&s>=l.start+1&&(l=e._findNextWordOnLine(t,n,new yn(r,l.end+1))),s=l?l.start+1:n.getLineMaxColumn(r);return new yn(r,s)},e._moveWordPartRight=function(e,t){var n=t.lineNumber,i=e.getLineMaxColumn(n);if(t.column===i)return n<e.getLineCount()?new yn(n+1,1):t;for(var o=e.getLineContent(n),r=t.column+1;r<i;r++){var s=o.charCodeAt(r-2),a=o.charCodeAt(r-1);if(95===s&&95!==a)return new yn(n,r);if(Xr(s)&&Zr(a))return new yn(n,r);if(Zr(s)&&Zr(a)&&r+1<i){var l=o.charCodeAt(r);if(Xr(l))return new yn(n,r)}}return new yn(n,i)},e._deleteWordLeftWhitespace=function(e,t){var n=e.getLineContent(t.lineNumber),i=t.column-2,o=Kr(n,i);return o+1<i?new bn(t.lineNumber,o+2,t.lineNumber,t.column):null},e.deleteWordLeft=function(t,n,i,o,r){if(!i.isEmpty())return i;var s=new yn(i.positionLineNumber,i.positionColumn),a=s.lineNumber,l=s.column;if(1===a&&1===l)return null;if(o){var u=this._deleteWordLeftWhitespace(n,s);if(u)return u}var c=e._findPreviousWordOnLine(t,n,s);return 0===r?c?l=c.start+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a)):(c&&l<=c.end+1&&(c=e._findPreviousWordOnLine(t,n,new yn(a,c.start+1))),c?l=c.end+1:l>1?l=1:(a--,l=n.getLineMaxColumn(a))),new bn(a,l,s.lineNumber,s.column)},e._deleteWordPartLeft=function(t,n){if(!n.isEmpty())return n;var i=n.getPosition(),o=e._moveWordPartLeft(t,i);return new bn(i.lineNumber,i.column,o.lineNumber,o.column)},e._findFirstNonWhitespaceChar=function(e,t){for(var n=e.length,i=t;i<n;i++){var o=e.charAt(i);if(" "!==o&&"\t"!==o)return i}return n},e._deleteWordRightWhitespace=function(e,t){var n=e.getLineContent(t.lineNumber),i=t.column-1,o=this._findFirstNonWhitespaceChar(n,i);return i+1<o?new bn(t.lineNumber,t.column,t.lineNumber,o+1):null},e.deleteWordRight=function(t,n,i,o,r){if(!i.isEmpty())return i;var s=new yn(i.positionLineNumber,i.positionColumn),a=s.lineNumber,l=s.column,u=n.getLineCount(),c=n.getLineMaxColumn(a);if(a===u&&l===c)return null;if(o){var h=this._deleteWordRightWhitespace(n,s);if(h)return h}var d=e._findNextWordOnLine(t,n,s);return 2===r?d?l=d.end+1:l<c||a===u?l=c:(a++,d=e._findNextWordOnLine(t,n,new yn(a,1)),l=d?d.start+1:n.getLineMaxColumn(a)):(d&&l>=d.start+1&&(d=e._findNextWordOnLine(t,n,new yn(a,d.end+1))),d?l=d.start+1:l<c||a===u?l=c:(a++,d=e._findNextWordOnLine(t,n,new yn(a,1)),l=d?d.start+1:n.getLineMaxColumn(a))),new bn(a,l,s.lineNumber,s.column)},e._deleteWordPartRight=function(t,n){if(!n.isEmpty())return n;var i=n.getPosition(),o=e._moveWordPartRight(t,i);return new bn(i.lineNumber,i.column,o.lineNumber,o.column)},e.word=function(t,n,i,o,r){var s,a,l,u,c=Bv(t.wordSeparators),h=e._findPreviousWordOnLine(c,n,r),d=e._findNextWordOnLine(c,n,r);if(!o)return h&&1===h.wordType&&h.start<=r.column-1&&r.column-1<=h.end?(s=h.start+1,a=h.end+1):d&&1===d.wordType&&d.start<=r.column-1&&r.column-1<=d.end?(s=d.start+1,a=d.end+1):(s=h?h.end+1:1,a=d?d.start+1:n.getLineMaxColumn(r.lineNumber)),new sb(new bn(r.lineNumber,s,r.lineNumber,a),0,new yn(r.lineNumber,a),0);h&&1===h.wordType&&h.start<r.column-1&&r.column-1<h.end?(l=h.start+1,u=h.end+1):d&&1===d.wordType&&d.start<r.column-1&&r.column-1<d.end?(l=d.start+1,u=d.end+1):(l=r.column,u=r.column);var p,f=r.lineNumber;if(i.selectionStart.containsPosition(r))p=i.selectionStart.endColumn;else if(r.isBeforeOrEqual(i.selectionStart.getStartPosition())){p=l;var g=new yn(f,p);i.selectionStart.containsPosition(g)&&(p=i.selectionStart.endColumn)}else{p=u;g=new yn(f,p);i.selectionStart.containsPosition(g)&&(p=i.selectionStart.startColumn)}return i.move(!0,f,p,0)},e}(),wE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yE(t,e),t.deleteWordPartLeft=function(e,t,n,i){var o=CE([bE.deleteWordLeft(e,t,n,i,0),bE.deleteWordLeft(e,t,n,i,2),bE._deleteWordPartLeft(t,n)]);return o.sort(bn.compareRangesUsingEnds),o[2]},t.deleteWordPartRight=function(e,t,n,i){var o=CE([bE.deleteWordRight(e,t,n,i,0),bE.deleteWordRight(e,t,n,i,2),bE._deleteWordPartRight(t,n)]);return o.sort(bn.compareRangesUsingStarts),o[0]},t.moveWordPartLeft=function(e,t,n){var i=CE([bE.moveWordLeft(e,t,n,0),bE.moveWordLeft(e,t,n,2),bE._moveWordPartLeft(t,n)]);return i.sort(yn.compare),i[2]},t.moveWordPartRight=function(e,t,n){var i=CE([bE.moveWordRight(e,t,n,0),bE.moveWordRight(e,t,n,2),bE._moveWordPartRight(t,n)]);return i.sort(yn.compare),i[0]},t}(bE);function CE(e){return e.filter((function(e){return Boolean(e)}))}var SE,EE=function(){function e(){}return e.addCursorDown=function(e,t,n){for(var i=[],o=0,r=0,s=t.length;r<s;r++){var a=t[r];i[o++]=new cb(a.modelState,a.viewState),i[o++]=n?cb.fromModelState(_E.translateDown(e.config,e.model,a.modelState)):cb.fromViewState(_E.translateDown(e.config,e.viewModel,a.viewState))}return i},e.addCursorUp=function(e,t,n){for(var i=[],o=0,r=0,s=t.length;r<s;r++){var a=t[r];i[o++]=new cb(a.modelState,a.viewState),i[o++]=n?cb.fromModelState(_E.translateUp(e.config,e.model,a.modelState)):cb.fromViewState(_E.translateUp(e.config,e.viewModel,a.viewState))}return i},e.moveToBeginningOfLine=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o];i[o]=this._moveToLineStart(e,s,n)}return i},e._moveToLineStart=function(e,t,n){var i=t.viewState.position.column,o=t.modelState.position.column,r=i===o,s=t.viewState.position.lineNumber,a=e.viewModel.getLineFirstNonWhitespaceColumn(s),l=i===a;return r||l?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)},e._moveToLineStartByView=function(e,t,n){return cb.fromViewState(_E.moveToBeginningOfLine(e.config,e.viewModel,t.viewState,n))},e._moveToLineStartByModel=function(e,t,n){return cb.fromModelState(_E.moveToBeginningOfLine(e.config,e.model,t.modelState,n))},e.moveToEndOfLine=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o];i[o]=this._moveToLineEnd(e,s,n)}return i},e._moveToLineEnd=function(e,t,n){var i=t.viewState.position,o=e.viewModel.getLineMaxColumn(i.lineNumber),r=i.column===o,s=t.modelState.position,a=e.model.getLineMaxColumn(s.lineNumber),l=o-i.column===a-s.column;return r||l?this._moveToLineEndByModel(e,t,n):this._moveToLineEndByView(e,t,n)},e._moveToLineEndByView=function(e,t,n){return cb.fromViewState(_E.moveToEndOfLine(e.config,e.viewModel,t.viewState,n))},e._moveToLineEndByModel=function(e,t,n){return cb.fromModelState(_E.moveToEndOfLine(e.config,e.model,t.modelState,n))},e.expandLineSelection=function(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i],s=r.modelState.selection.startLineNumber,a=e.model.getLineCount(),l=r.modelState.selection.endLineNumber,u=void 0;l===a?u=e.model.getLineMaxColumn(a):(l++,u=1),n[i]=cb.fromModelState(new sb(new bn(s,1,s,1),0,new yn(l,u),0))}return n},e.moveToBeginningOfBuffer=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o];i[o]=cb.fromModelState(_E.moveToBeginningOfBuffer(e.config,e.model,s.modelState,n))}return i},e.moveToEndOfBuffer=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o];i[o]=cb.fromModelState(_E.moveToEndOfBuffer(e.config,e.model,s.modelState,n))}return i},e.selectAll=function(e,t){var n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return cb.fromModelState(new sb(new bn(1,1,1,1),0,new yn(n,i),0))},e.line=function(e,t,n,i,o){var r=e.model.validatePosition(i),s=o?e.validateViewPosition(new yn(o.lineNumber,o.column),r):e.convertModelPositionToViewPosition(r);if(!n||!t.modelState.hasSelection()){var a=e.model.getLineCount(),l=r.lineNumber+1,u=1;return l>a&&(l=a,u=e.model.getLineMaxColumn(l)),cb.fromModelState(new sb(new bn(r.lineNumber,1,l,u),0,new yn(l,u),0))}var c=t.modelState.selectionStart.getStartPosition().lineNumber;if(r.lineNumber<c)return cb.fromViewState(t.viewState.move(t.modelState.hasSelection(),s.lineNumber,1,0));if(r.lineNumber>c){a=e.viewModel.getLineCount();var h=s.lineNumber+1,d=1;return h>a&&(h=a,d=e.viewModel.getLineMaxColumn(h)),cb.fromViewState(t.viewState.move(t.modelState.hasSelection(),h,d,0))}var p=t.modelState.selectionStart.getEndPosition();return cb.fromModelState(t.modelState.move(t.modelState.hasSelection(),p.lineNumber,p.column,0))},e.word=function(e,t,n,i){var o=e.model.validatePosition(i);return cb.fromModelState(bE.word(e.config,e.model,t.modelState,n,o))},e.cancelSelection=function(e,t){if(!t.modelState.hasSelection())return new cb(t.modelState,t.viewState);var n=t.viewState.position.lineNumber,i=t.viewState.position.column;return cb.fromViewState(new sb(new bn(n,i,n,i),0,new yn(n,i),0))},e.moveTo=function(e,t,n,i,o){var r=e.model.validatePosition(i),s=o?e.validateViewPosition(new yn(o.lineNumber,o.column),r):e.convertModelPositionToViewPosition(r);return cb.fromViewState(t.viewState.move(n,s.lineNumber,s.column,0))},e.move=function(e,t,n){var i=n.select,o=n.value;switch(n.direction){case 0:return 4===n.unit?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,o);case 1:return 4===n.unit?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,o);case 2:return 2===n.unit?this._moveUpByViewLines(e,t,i,o):this._moveUpByModelLines(e,t,i,o);case 3:return 2===n.unit?this._moveDownByViewLines(e,t,i,o):this._moveDownByModelLines(e,t,i,o);case 4:return this._moveToViewMinColumn(e,t,i);case 5:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 6:return this._moveToViewCenterColumn(e,t,i);case 7:return this._moveToViewMaxColumn(e,t,i);case 8:return this._moveToViewLastNonWhitespaceColumn(e,t,i);case 9:var r=t[0],s=e.getCompletelyVisibleModelRange(),a=this._firstLineNumberInRange(e.model,s,o),l=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,r,i,a,l)];case 11:r=t[0],s=e.getCompletelyVisibleModelRange(),a=this._lastLineNumberInRange(e.model,s,o),l=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,r,i,a,l)];case 10:r=t[0],s=e.getCompletelyVisibleModelRange(),a=Math.round((s.startLineNumber+s.endLineNumber)/2),l=e.model.getLineFirstNonWhitespaceColumn(a);return[this._moveToModelPosition(e,r,i,a,l)];case 12:for(var u=e.getCompletelyVisibleViewRange(),c=[],h=0,d=t.length;h<d;h++){r=t[h];c[h]=this.findPositionInViewportIfOutside(e,r,u,i)}return c}return null},e.findPositionInViewportIfOutside=function(e,t,n,i){var o=t.viewState.position.lineNumber;if(n.startLineNumber<=o&&o<=n.endLineNumber-1)return new cb(t.modelState,t.viewState);o>n.endLineNumber-1&&(o=n.endLineNumber-1),o<n.startLineNumber&&(o=n.startLineNumber);var r=e.viewModel.getLineFirstNonWhitespaceColumn(o);return this._moveToViewPosition(e,t,i,o,r)},e._firstLineNumberInRange=function(e,t,n){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)},e._lastLineNumberInRange=function(e,t,n){var i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)},e._moveLeft=function(e,t,n,i){for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r],l=_E.moveLeft(e.config,e.viewModel,a.viewState,n,i);if(1===i&&l.position.lineNumber!==a.viewState.position.lineNumber){var u=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position);u.lineNumber===a.modelState.position.lineNumber&&(l=_E.moveLeft(e.config,e.viewModel,l,n,1))}o[r]=cb.fromViewState(l)}return o},e._moveHalfLineLeft=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=s.viewState.position.lineNumber,l=Math.round(e.viewModel.getLineContent(a).length/2);i[o]=cb.fromViewState(_E.moveLeft(e.config,e.viewModel,s.viewState,n,l))}return i},e._moveRight=function(e,t,n,i){for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r],l=_E.moveRight(e.config,e.viewModel,a.viewState,n,i);if(1===i&&l.position.lineNumber!==a.viewState.position.lineNumber){var u=e.viewModel.coordinatesConverter.convertViewPositionToModelPosition(l.position);u.lineNumber===a.modelState.position.lineNumber&&(l=_E.moveRight(e.config,e.viewModel,l,n,1))}o[r]=cb.fromViewState(l)}return o},e._moveHalfLineRight=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=s.viewState.position.lineNumber,l=Math.round(e.viewModel.getLineContent(a).length/2);i[o]=cb.fromViewState(_E.moveRight(e.config,e.viewModel,s.viewState,n,l))}return i},e._moveDownByViewLines=function(e,t,n,i){for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r];o[r]=cb.fromViewState(_E.moveDown(e.config,e.viewModel,a.viewState,n,i))}return o},e._moveDownByModelLines=function(e,t,n,i){for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r];o[r]=cb.fromModelState(_E.moveDown(e.config,e.model,a.modelState,n,i))}return o},e._moveUpByViewLines=function(e,t,n,i){for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r];o[r]=cb.fromViewState(_E.moveUp(e.config,e.viewModel,a.viewState,n,i))}return o},e._moveUpByModelLines=function(e,t,n,i){for(var o=[],r=0,s=t.length;r<s;r++){var a=t[r];o[r]=cb.fromModelState(_E.moveUp(e.config,e.model,a.modelState,n,i))}return o},e._moveToViewPosition=function(e,t,n,i,o){return cb.fromViewState(t.viewState.move(n,i,o,0))},e._moveToModelPosition=function(e,t,n,i,o){return cb.fromModelState(t.modelState.move(n,i,o,0))},e._moveToViewMinColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=s.viewState.position.lineNumber,l=e.viewModel.getLineMinColumn(a);i[o]=this._moveToViewPosition(e,s,n,a,l)}return i},e._moveToViewFirstNonWhitespaceColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=s.viewState.position.lineNumber,l=e.viewModel.getLineFirstNonWhitespaceColumn(a);i[o]=this._moveToViewPosition(e,s,n,a,l)}return i},e._moveToViewCenterColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=s.viewState.position.lineNumber,l=Math.round((e.viewModel.getLineMaxColumn(a)+e.viewModel.getLineMinColumn(a))/2);i[o]=this._moveToViewPosition(e,s,n,a,l)}return i},e._moveToViewMaxColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=s.viewState.position.lineNumber,l=e.viewModel.getLineMaxColumn(a);i[o]=this._moveToViewPosition(e,s,n,a,l)}return i},e._moveToViewLastNonWhitespaceColumn=function(e,t,n){for(var i=[],o=0,r=t.length;o<r;o++){var s=t[o],a=s.viewState.position.lineNumber,l=e.viewModel.getLineLastNonWhitespaceColumn(a);i[o]=this._moveToViewPosition(e,s,n,a,l)}return i},e}();(function(e){var t=function(e){if(!ba(e))return!1;var t=e;return!!ya(t.to)&&(!(!Sa(t.select)&&!Ca(t.select))&&(!(!Sa(t.by)&&!ya(t.by))&&!(!Sa(t.value)&&!wa(t.value))))};function n(t){if(!t.to)return null;var n;switch(t.to){case e.RawDirection.Left:n=0;break;case e.RawDirection.Right:n=1;break;case e.RawDirection.Up:n=2;break;case e.RawDirection.Down:n=3;break;case e.RawDirection.WrappedLineStart:n=4;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=5;break;case e.RawDirection.WrappedLineColumnCenter:n=6;break;case e.RawDirection.WrappedLineEnd:n=7;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=8;break;case e.RawDirection.ViewPortTop:n=9;break;case e.RawDirection.ViewPortBottom:n=11;break;case e.RawDirection.ViewPortCenter:n=10;break;case e.RawDirection.ViewPortIfOutside:n=12;break;default:return null}var i=0;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Character:i=3;break;case e.RawUnit.HalfLine:i=4;break}return{direction:n,unit:i,select:!!t.select,value:t.value||1}}e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down'\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:t,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=n})(SE||(SE={}));var TE=Object.create(null);function kE(e,t){TE[e]||(TE[e]=["",e]);for(var n=TE[e],i=n.length;i<=t;i++)n[i]=n[i-1]+e;return n[t]}var xE,LE=function(){function e(e,t){this._opts=t,this._selection=e,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}return e.unshiftIndent=function(e,t,n,i,o){var r=db.visibleColumnFromColumn(e,t,n);if(o){var s=kE(" ",i),a=db.prevIndentTabStop(r,i),l=a/i;return kE(s,l)}s="\t",a=db.prevRenderTabStop(r,n),l=a/n;return kE(s,l)},e.shiftIndent=function(e,t,n,i,o){var r=db.visibleColumnFromColumn(e,t,n);if(o){var s=kE(" ",i),a=db.nextIndentTabStop(r,i),l=a/i;return kE(s,l)}s="\t",a=db.nextRenderTabStop(r,n),l=a/n;return kE(s,l)},e.prototype._addEditOperation=function(e,t,n){this._useLastEditRangeForCursorEndPosition?e.addTrackedEditOperation(t,n):e.addEditOperation(t,n)},e.prototype.getEditOperations=function(t,n){var i=this._selection.startLineNumber,o=this._selection.endLineNumber;1===this._selection.endColumn&&i!==o&&(o-=1);var r=this._opts,s=r.tabSize,a=r.indentSize,l=r.insertSpaces,u=i===o;if(this._selection.isEmpty()&&/^\s*$/.test(t.getLineContent(i))&&(this._useLastEditRangeForCursorEndPosition=!0),this._opts.useTabStops)for(var c=0,h=0,d=i;d<=o;d++,c=h){h=0;var p=t.getLineContent(d),f=jr(p);if((!this._opts.isUnshift||0!==p.length&&0!==f)&&(u||this._opts.isUnshift||0!==p.length)){if(-1===f&&(f=p.length),d>1){var g=db.visibleColumnFromColumn(p,f+1,s);if(g%a!==0&&t.isCheapToTokenize(d-1)){var m=Uc.getEnterAction(this._opts.autoIndent,t,new bn(d-1,t.getLineMaxColumn(d-1),d-1,t.getLineMaxColumn(d-1)));if(m){if(h=c,m.appendText)for(var _=0,v=m.appendText.length;_<v&&h<a;_++){if(32!==m.appendText.charCodeAt(_))break;h++}m.removeText&&(h=Math.max(0,h-m.removeText));for(_=0;_<h;_++){if(0===f||32!==p.charCodeAt(f-1))break;f--}}}}if(!this._opts.isUnshift||0!==f){var y=void 0;y=this._opts.isUnshift?e.unshiftIndent(p,f+1,s,a,l):e.shiftIndent(p,f+1,s,a,l),this._addEditOperation(n,new bn(d,1,d,f+1),y),d!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=this._selection.startColumn<=f+1)}}}else{var b=l?kE(" ",a):"\t";for(d=i;d<=o;d++){p=t.getLineContent(d),f=jr(p);if((!this._opts.isUnshift||0!==p.length&&0!==f)&&((u||this._opts.isUnshift||0!==p.length)&&(-1===f&&(f=p.length),!this._opts.isUnshift||0!==f)))if(this._opts.isUnshift){f=Math.min(f,a);for(var w=0;w<f;w++){var C=p.charCodeAt(w);if(9===C){f=w+1;break}}this._addEditOperation(n,new bn(d,1,d,f+1),"")}else this._addEditOperation(n,new bn(d,1,d,1),b),d!==i||this._selection.isEmpty()||(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=n.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){if(this._useLastEditRangeForCursorEndPosition){var n=t.getInverseEditOperations()[0];return new Cn(n.range.endLineNumber,n.range.endColumn,n.range.endLineNumber,n.range.endColumn)}var i=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){var o=this._selection.startColumn,r=i.startColumn;return r<=o?i:0===i.getDirection()?new Cn(i.startLineNumber,o,i.endLineNumber,i.endColumn):new Cn(i.endLineNumber,i.endColumn,i.startLineNumber,o)}return i},e}(),IE=function(){function e(e,t,n){this._range=e,this._charBeforeSelection=t,this._charAfterSelection=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(new bn(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),t.addTrackedEditOperation(new bn(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range,o=n[1].range;return new Cn(i.endLineNumber,i.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)},e}(),OE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),DE=function(){function e(){}return e.indent=function(e,t,n){if(null===t||null===n)return[];for(var i=[],o=0,r=n.length;o<r;o++)i[o]=new LE(n[o],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i},e.outdent=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++)i[o]=new LE(n[o],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i},e.shiftIndent=function(e,t,n){return n=n||1,LE.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)},e.unshiftIndent=function(e,t,n){return n=n||1,LE.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)},e._distributedPaste=function(e,t,n,i){for(var o=[],r=0,s=n.length;r<s;r++)o[r]=new hE(n[r],i[r]);return new hb(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._simplePaste=function(e,t,n,i,o){for(var r=[],s=0,a=n.length;s<a;s++){var l=n[s],u=l.getPosition();if(o&&!l.isEmpty()&&(o=!1),o&&i.indexOf("\n")!==i.length-1&&(o=!1),o){var c=new bn(u.lineNumber,1,u.lineNumber,1);r[s]=new gE(c,i,l,!0)}else r[s]=new hE(l,i)}return new hb(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._distributePasteToCursors=function(e,t,n,i,o){if(i)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));var r=n.split(/\r\n|\r|\n/);if(r.length===t.length)return r}return null},e.paste=function(e,t,n,i,o,r){var s=this._distributePasteToCursors(e,n,i,o,r);return s?(n=n.sort(bn.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,i,o)},e._goodIndentForLine=function(t,n,i){var o=null,r="",s=Uc.getInheritIndentForLine(t.autoIndent,n,i,!1);if(s)o=s.action,r=s.indentation;else if(i>1){var a=void 0;for(a=i-1;a>=1;a--){var l=n.getLineContent(a),u=Kr(l);if(u>=0)break}if(a<1)return null;var c=n.getLineMaxColumn(a),h=Uc.getEnterAction(t.autoIndent,n,new bn(a,c,a,c));h&&(r=h.indentation+h.appendText)}return o&&(o===gc.Indent&&(r=e.shiftIndent(t,r)),o===gc.Outdent&&(r=e.unshiftIndent(t,r)),r=t.normalizeIndentation(r)),r||null},e._replaceJumpToNextIndent=function(e,t,n,i){var o="",r=n.getStartPosition();if(e.insertSpaces)for(var s=db.visibleColumnFromColumn2(e,t,r),a=e.indentSize,l=a-s%a,u=0;u<l;u++)o+=" ";else o="\t";return new hE(n,o,i)},e.tab=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++){var s=n[o];if(s.isEmpty()){var a=t.getLineContent(s.startLineNumber);if(/^\s*$/.test(a)&&t.isCheapToTokenize(s.startLineNumber)){var l=this._goodIndentForLine(e,t,s.startLineNumber);l=l||"\t";var u=e.normalizeIndentation(l);if(!Hr(a,u)){i[o]=new hE(new bn(s.startLineNumber,1,s.startLineNumber,a.length+1),u,!0);continue}}i[o]=this._replaceJumpToNextIndent(e,t,s,!0)}else{if(s.startLineNumber===s.endLineNumber){var c=t.getLineMaxColumn(s.startLineNumber);if(1!==s.startColumn||s.endColumn!==c){i[o]=this._replaceJumpToNextIndent(e,t,s,!1);continue}}i[o]=new LE(s,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return i},e.replacePreviousChar=function(e,t,n,i,o,r){for(var s=[],a=0,l=i.length;a<l;a++){var u=i[a];if(u.isEmpty()){var c=u.getPosition(),h=Math.max(1,c.column-r),d=new bn(c.lineNumber,h,c.lineNumber,c.column);s[a]=new hE(d,o)}else s[a]=null}return new hb(1,s,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e._typeCommand=function(e,t,n){return n?new pE(e,t,!0):new hE(e,t,!0)},e._enter=function(t,n,i,o){if(0===t.autoIndent)return e._typeCommand(o,"\n",i);if(!n.isCheapToTokenize(o.getStartPosition().lineNumber)||1===t.autoIndent){var r=n.getLineContent(o.startLineNumber),s=Gr(r).substring(0,o.startColumn-1);return e._typeCommand(o,"\n"+t.normalizeIndentation(s),i)}var a=Uc.getEnterAction(t.autoIndent,n,o);if(a){if(a.indentAction===gc.None)return e._typeCommand(o,"\n"+t.normalizeIndentation(a.indentation+a.appendText),i);if(a.indentAction===gc.Indent)return e._typeCommand(o,"\n"+t.normalizeIndentation(a.indentation+a.appendText),i);if(a.indentAction===gc.IndentOutdent){var l=t.normalizeIndentation(a.indentation),u=t.normalizeIndentation(a.indentation+a.appendText),c="\n"+u+"\n"+l;return i?new pE(o,c,!0):new fE(o,c,-1,u.length-l.length,!0)}if(a.indentAction===gc.Outdent){var h=e.unshiftIndent(t,a.indentation);return e._typeCommand(o,"\n"+t.normalizeIndentation(h+a.appendText),i)}}var d=n.getLineContent(o.startLineNumber),p=Gr(d).substring(0,o.startColumn-1);if(t.autoIndent>=4){var f=Uc.getIndentForEnter(t.autoIndent,n,o,{unshiftIndent:function(n){return e.unshiftIndent(t,n)},shiftIndent:function(n){return e.shiftIndent(t,n)},normalizeIndentation:function(e){return t.normalizeIndentation(e)}});if(f){var g=db.visibleColumnFromColumn2(t,n,o.getEndPosition()),m=o.endColumn,_="\n";p!==t.normalizeIndentation(f.beforeEnter)&&(_=t.normalizeIndentation(f.beforeEnter)+d.substring(p.length,o.startColumn-1)+"\n",o=new bn(o.startLineNumber,1,o.endLineNumber,o.endColumn));var v=n.getLineContent(o.endLineNumber),y=jr(v);if(o=y>=0?o.setEndPosition(o.endLineNumber,Math.max(o.endColumn,y+1)):o.setEndPosition(o.endLineNumber,n.getLineMaxColumn(o.endLineNumber)),i)return new pE(o,_+t.normalizeIndentation(f.afterEnter),!0);var b=0;return m<=y+1&&(t.insertSpaces||(g=Math.ceil(g/t.indentSize)),b=Math.min(g+1-t.normalizeIndentation(f.afterEnter).length-1,0)),new fE(o,_+t.normalizeIndentation(f.afterEnter),0,b,!0)}}return e._typeCommand(o,"\n"+t.normalizeIndentation(p),i)},e._isAutoIndentType=function(e,t,n){if(e.autoIndent<4)return!1;for(var i=0,o=n.length;i<o;i++)if(!t.isCheapToTokenize(n[i].getEndPosition().lineNumber))return!1;return!0},e._runAutoIndentType=function(t,n,i,o){var r=Uc.getIndentationAtPosition(n,i.startLineNumber,i.startColumn),s=Uc.getIndentActionForType(t.autoIndent,n,i,o,{shiftIndent:function(n){return e.shiftIndent(t,n)},unshiftIndent:function(n){return e.unshiftIndent(t,n)}});if(null===s)return null;if(s!==t.normalizeIndentation(r)){var a=n.getLineFirstNonWhitespaceColumn(i.startLineNumber);return 0===a?e._typeCommand(new bn(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(s)+o,!1):e._typeCommand(new bn(i.startLineNumber,0,i.endLineNumber,i.endColumn),t.normalizeIndentation(s)+n.getLineContent(i.startLineNumber).substring(a-1,i.startColumn-1)+o,!1)}return null},e._isAutoClosingOvertype=function(e,t,n,i,o){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairsClose2.has(o))return!1;for(var r=0,s=n.length;r<s;r++){var a=n[r];if(!a.isEmpty())return!1;var l=a.getPosition(),u=t.getLineContent(l.lineNumber),c=u.charAt(l.column-1);if(c!==o)return!1;var h=pb(o),d=l.column>2?u.charCodeAt(l.column-2):0;if(92===d&&h)return!1;if("auto"===e.autoClosingOvertype){for(var p=!1,f=0,g=i.length;f<g;f++){var m=i[f];if(l.lineNumber===m.startLineNumber&&l.column===m.startColumn){p=!0;break}}if(!p)return!1}}return!0},e._runAutoClosingOvertype=function(e,t,n,i,o){for(var r=[],s=0,a=i.length;s<a;s++){var l=i[s],u=l.getPosition(),c=new bn(u.lineNumber,u.column,u.lineNumber,u.column+1);r[s]=new hE(c,o)}return new hb(1,r,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e._autoClosingPairIsSymmetric=function(e){var t=e.open,n=e.close;return t.indexOf(n)>=0||n.indexOf(t)>=0},e._isBeforeClosingBrace=function(t,n,i){var o=t.autoClosingPairsClose2.get(i);if(!o)return!1;for(var r=e._autoClosingPairIsSymmetric(n),s=0,a=o;s<a.length;s++){var l=a[s],u=e._autoClosingPairIsSymmetric(l);if(r||!u)return!0}return!1},e._findAutoClosingPairOpen=function(e,t,n,i){var o=e.autoClosingPairsOpen2.get(i);if(!o)return null;for(var r=null,s=0,a=o;s<a.length;s++){var l=a[s];if(null===r||l.open.length>r.open.length){for(var u=!0,c=0,h=n;c<h.length;c++){var d=h[c],p=t.getValueInRange(new bn(d.lineNumber,d.column-l.open.length+1,d.lineNumber,d.column));if(p+i!==l.open){u=!1;break}}u&&(r=l)}}return r},e._isAutoClosingOpenCharType=function(t,n,i,o,r){var s=pb(o),a=s?t.autoClosingQuotes:t.autoClosingBrackets;if("never"===a)return null;var l=this._findAutoClosingPairOpen(t,n,i.map((function(e){return e.getPosition()})),o);if(!l)return null;for(var u=s?t.shouldAutoCloseBefore.quote:t.shouldAutoCloseBefore.bracket,c=0,h=i.length;c<h;c++){var d=i[c];if(!d.isEmpty())return null;var p=d.getPosition(),f=n.getLineContent(p.lineNumber);if(f.length>p.column-1){var g=f.charAt(p.column-1),m=e._isBeforeClosingBrace(t,l,g);if(!m&&!u(g))return null}if(!n.isCheapToTokenize(p.lineNumber))return null;if(1===l.open.length&&s&&"always"!==a){var _=Bv(t.wordSeparators);if(r&&p.column>1&&0===_.get(f.charCodeAt(p.column-2)))return null;if(!r&&p.column>2&&0===_.get(f.charCodeAt(p.column-3)))return null}n.forceTokenization(p.lineNumber);var v=n.getLineTokens(p.lineNumber),y=!1;try{y=Uc.shouldAutoClosePair(l,v,r?p.column:p.column-1)}catch(b){ge(b)}if(!y)return null}return l},e._runAutoClosingOpenCharType=function(e,t,n,i,o,r,s){for(var a=[],l=0,u=i.length;l<u;l++){var c=i[l];a[l]=new NE(c,o,r,s.close)}return new hb(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})},e._shouldSurroundChar=function(e,t){return pb(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround},e._isSurroundSelectionType=function(t,n,i,o){if(!e._shouldSurroundChar(t,o)||!t.surroundingPairs.hasOwnProperty(o))return!1;for(var r=pb(o),s=0,a=i.length;s<a;s++){var l=i[s];if(l.isEmpty())return!1;for(var u=!0,c=l.startLineNumber;c<=l.endLineNumber;c++){var h=n.getLineContent(c),d=c===l.startLineNumber?l.startColumn-1:0,p=c===l.endLineNumber?l.endColumn-1:h.length,f=h.substring(d,p);if(/[^ \t]/.test(f)){u=!1;break}}if(u)return!1;if(r&&l.startLineNumber===l.endLineNumber&&l.startColumn+1===l.endColumn){var g=n.getValueInRange(l);if(pb(g))return!1}}return!0},e._runSurroundSelectionType=function(e,t,n,i,o){for(var r=[],s=0,a=i.length;s<a;s++){var l=i[s],u=t.surroundingPairs[o];r[s]=new IE(l,o,u)}return new hb(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})},e._isTypeInterceptorElectricChar=function(e,t,n){return!(1!==n.length||!t.isCheapToTokenize(n[0].getEndPosition().lineNumber))},e._typeInterceptorElectricChar=function(e,t,n,i,o){if(!t.electricChars.hasOwnProperty(o)||!i.isEmpty())return null;var r=i.getPosition();n.forceTokenization(r.lineNumber);var s,a=n.getLineTokens(r.lineNumber);try{s=Uc.onElectricCharacter(o,a,r.column)}catch(y){return ge(y),null}if(!s)return null;if(s.matchOpenBracket){var l=(a.getLineContent()+o).lastIndexOf(s.matchOpenBracket)+1,u=n.findMatchingBracketUp(s.matchOpenBracket,{lineNumber:r.lineNumber,column:l});if(u){if(u.startLineNumber===r.lineNumber)return null;var c=n.getLineContent(u.startLineNumber),h=Gr(c),d=t.normalizeIndentation(h),p=n.getLineContent(r.lineNumber),f=n.getLineFirstNonWhitespaceColumn(r.lineNumber)||r.column,g=p.substring(f-1,r.column-1),m=d+g+o,_=new bn(r.lineNumber,1,r.lineNumber,r.column),v=new hE(_,m);return new hb(1,[v],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null},e.compositionEndWithInterceptors=function(e,t,n,i,o,r){if(!i||Cn.selectionsArrEqual(i,o))return null;for(var s=null,a=0,l=o;a<l.length;a++){var u=l[a];if(!u.isEmpty())return null;var c=u.getPosition(),h=n.getValueInRange(new bn(c.lineNumber,c.column-1,c.lineNumber,c.column));if(null===s)s=h;else if(s!==h)return null}if(!s)return null;if(this._isAutoClosingOvertype(t,n,o,r,s)){var d=o.map((function(e){return new hE(new bn(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)}));return new hb(1,d,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}var p=this._isAutoClosingOpenCharType(t,n,o,s,!1);return p?this._runAutoClosingOpenCharType(e,t,n,o,s,!1,p):null},e.typeWithInterceptors=function(t,n,i,o,r,s){if("\n"===s){for(var a=[],l=0,u=o.length;l<u;l++)a[l]=e._enter(n,i,!1,o[l]);return new hb(1,a,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoIndentType(n,i,o)){var c=[],h=!1;for(l=0,u=o.length;l<u;l++)if(c[l]=this._runAutoIndentType(n,i,o[l],s),!c[l]){h=!0;break}if(!h)return new hb(1,c,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(n,i,o,r,s))return this._runAutoClosingOvertype(t,n,i,o,s);var d=this._isAutoClosingOpenCharType(n,i,o,s,!0);if(d)return this._runAutoClosingOpenCharType(t,n,i,o,s,!0,d);if(this._isSurroundSelectionType(n,i,o,s))return this._runSurroundSelectionType(t,n,i,o,s);if(this._isTypeInterceptorElectricChar(n,i,o)){var p=this._typeInterceptorElectricChar(t,n,i,o[0],s);if(p)return p}var f=[];for(l=0,u=o.length;l<u;l++)f[l]=new hE(o[l],s);var g=1!==t;return" "===s&&(g=!0),new hb(1,f,{shouldPushStackElementBefore:g,shouldPushStackElementAfter:!1})},e.typeWithoutInterceptors=function(e,t,n,i,o){for(var r=[],s=0,a=i.length;s<a;s++)r[s]=new hE(i[s],o);return new hb(1,r,{shouldPushStackElementBefore:1!==e,shouldPushStackElementAfter:!1})},e.lineInsertBefore=function(e,t,n){if(null===t||null===n)return[];for(var i=[],o=0,r=n.length;o<r;o++){var s=n[o].positionLineNumber;if(1===s)i[o]=new pE(new bn(1,1,1,1),"\n");else{s--;var a=t.getLineMaxColumn(s);i[o]=this._enter(e,t,!1,new bn(s,a,s,a))}}return i},e.lineInsertAfter=function(e,t,n){if(null===t||null===n)return[];for(var i=[],o=0,r=n.length;o<r;o++){var s=n[o].positionLineNumber,a=t.getLineMaxColumn(s);i[o]=this._enter(e,t,!1,new bn(s,a,s,a))}return i},e.lineBreakInsert=function(e,t,n){for(var i=[],o=0,r=n.length;o<r;o++)i[o]=this._enter(e,t,!0,n[o]);return i},e}(),NE=function(e){function t(t,n,i,o){var r=e.call(this,t,(i?n:"")+o,0,-o.length)||this;return r._openCharacter=n,r._closeCharacter=o,r.closeCharacterRange=null,r.enclosingRange=null,r}return OE(t,e),t.prototype.computeCursorState=function(t,n){var i=n.getInverseEditOperations(),o=i[0].range;return this.closeCharacterRange=new bn(o.startLineNumber,o.endColumn-this._closeCharacter.length,o.endLineNumber,o.endColumn),this.enclosingRange=new bn(o.startLineNumber,o.endColumn-this._openCharacter.length-this._closeCharacter.length,o.endLineNumber,o.endColumn),e.prototype.computeCursorState.call(this,t,n)},t}(fE);(function(e){e.editorSimpleInput=new Ff("editorSimpleInput",!1),e.editorTextFocus=new Ff("editorTextFocus",!1),e.focus=new Ff("editorFocus",!1),e.textInputFocus=new Ff("textInputFocus",!1),e.readOnly=new Ff("editorReadonly",!1),e.writable=e.readOnly.toNegated(),e.hasNonEmptySelection=new Ff("editorHasSelection",!1),e.hasOnlyEmptySelection=e.hasNonEmptySelection.toNegated(),e.hasMultipleSelections=new Ff("editorHasMultipleSelections",!1),e.hasSingleSelection=e.hasMultipleSelections.toNegated(),e.tabMovesFocus=new Ff("editorTabMovesFocus",!1),e.tabDoesNotMoveFocus=e.tabMovesFocus.toNegated(),e.isInEmbeddedEditor=new Ff("isInEmbeddedEditor",!1),e.canUndo=new Ff("canUndo",!1),e.canRedo=new Ff("canRedo",!1),e.languageId=new Ff("editorLangId",""),e.hasCompletionItemProvider=new Ff("editorHasCompletionItemProvider",!1),e.hasCodeActionsProvider=new Ff("editorHasCodeActionsProvider",!1),e.hasCodeLensProvider=new Ff("editorHasCodeLensProvider",!1),e.hasDefinitionProvider=new Ff("editorHasDefinitionProvider",!1),e.hasDeclarationProvider=new Ff("editorHasDeclarationProvider",!1),e.hasImplementationProvider=new Ff("editorHasImplementationProvider",!1),e.hasTypeDefinitionProvider=new Ff("editorHasTypeDefinitionProvider",!1),e.hasHoverProvider=new Ff("editorHasHoverProvider",!1),e.hasDocumentHighlightProvider=new Ff("editorHasDocumentHighlightProvider",!1),e.hasDocumentSymbolProvider=new Ff("editorHasDocumentSymbolProvider",!1),e.hasReferenceProvider=new Ff("editorHasReferenceProvider",!1),e.hasRenameProvider=new Ff("editorHasRenameProvider",!1),e.hasSignatureHelpProvider=new Ff("editorHasSignatureHelpProvider",!1),e.hasDocumentFormattingProvider=new Ff("editorHasDocumentFormattingProvider",!1),e.hasDocumentSelectionFormattingProvider=new Ff("editorHasDocumentSelectionFormattingProvider",!1),e.hasMultipleDocumentFormattingProvider=new Ff("editorHasMultipleDocumentFormattingProvider",!1),e.hasMultipleDocumentSelectionFormattingProvider=new Ff("editorHasMultipleDocumentSelectionFormattingProvider",!1)})(xE||(xE={}));var RE,AE,ME,PE,FE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),BE=0,VE=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return FE(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=t._getCursors();i&&this.runCoreEditorCommand(i,n||{})},t}(wm);function HE(e){e.register()}(function(e){var t=function(e){if(!ba(e))return!1;var t=e;return!!ya(t.to)&&(!(!Sa(t.by)&&!ya(t.by))&&(!(!Sa(t.value)&&!wa(t.value))&&!(!Sa(t.revealCursor)&&!Ca(t.revealCursor))))};function n(t){var n,i;switch(t.to){case e.RawDirection.Up:n=1;break;case e.RawDirection.Down:n=2;break;default:return null}switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Page:i=3;break;case e.RawUnit.HalfPage:i=4;break;default:i=2}var o=Math.floor(t.value||1),r=!!t.revealCursor;return{direction:n,unit:i,value:o,revealCursor:r,select:!!t.select}}e.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:t,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},e.RawDirection={Up:"up",Down:"down"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage"},e.parse=n})(RE||(RE={})),function(e){var t=function(e){if(!ba(e))return!1;var t=e;return!!wa(t.lineNumber)&&!(!Sa(t.at)&&!ya(t.at))};e.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed .\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:t,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:"number"},at:{type:"string",enum:["top","center","bottom"]}}}}]},e.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(AE||(AE={})),function(e){var t=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[EE.moveTo(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(t.source,!0,0,0)},t}(VE);e.MoveTo=xm(new t({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),e.MoveToSelect=xm(new t({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement();var n=this._getColumnSelectResult(e.context,e.getPrimaryCursor(),e.getColumnSelectData(),t);e.setStates(t.source,3,n.viewStates.map((function(e){return cb.fromViewState(e)}))),e.setColumnSelectData({isReal:!0,fromViewLineNumber:n.fromLineNumber,fromViewVisualColumn:n.fromVisualColumn,toViewLineNumber:n.toLineNumber,toViewVisualColumn:n.toVisualColumn}),e.reveal(t.source,!0,n.reversed?1:2,0)},t}(VE);e.ColumnSelect=xm(new(function(e){function t(){return e.call(this,{id:"columnSelect",precondition:void 0})||this}return FE(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){var o=e.model.validatePosition(i.position),r=e.validateViewPosition(new yn(i.viewPosition.lineNumber,i.viewPosition.column),o),s=i.doColumnSelect?n.fromViewLineNumber:r.lineNumber,a=i.doColumnSelect?n.fromViewVisualColumn:i.mouseColumn-1;return cE.columnSelect(e.config,e.viewModel,s,a,r.lineNumber,i.mouseColumn-1)},t}(n))),e.CursorColumnSelectLeft=xm(new(function(e){function t(){return e.call(this,{id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3599,linux:{primary:0}}})||this}return FE(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return cE.columnSelectLeft(e.config,e.viewModel,n)},t}(n))),e.CursorColumnSelectRight=xm(new(function(e){function t(){return e.call(this,{id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3601,linux:{primary:0}}})||this}return FE(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return cE.columnSelectRight(e.config,e.viewModel,n)},t}(n)));var i=function(e){function t(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return FE(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return cE.columnSelectUp(e.config,e.viewModel,n,this._isPaged)},t}(n);e.CursorColumnSelectUp=xm(new i({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3600,linux:{primary:0}}})),e.CursorColumnSelectPageUp=xm(new i({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3595,linux:{primary:0}}}));var o=function(e){function t(t){var n=e.call(this,t)||this;return n._isPaged=t.isPaged,n}return FE(t,e),t.prototype._getColumnSelectResult=function(e,t,n,i){return cE.columnSelectDown(e.config,e.viewModel,n,this._isPaged)},t}(n);e.CursorColumnSelectDown=xm(new o({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3602,linux:{primary:0}}})),e.CursorColumnSelectPageDown=xm(new o({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3596,linux:{primary:0}}}));var r=function(e){function t(){return e.call(this,{id:"cursorMove",precondition:void 0,description:SE.description})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=SE.parse(t);n&&this._runCursorMove(e,t.source,n)},t.prototype._runCursorMove=function(e,t,n){e.context.model.pushStackElement(),e.setStates(t,3,EE.move(e.context,e.getAll(),n)),e.reveal(t,!0,0,0)},t}(VE);e.CursorMoveImpl=r,e.CursorMove=xm(new r);var s=function(t){function n(e){var n=t.call(this,e)||this;return n._staticArgs=e.args,n}return FE(n,t),n.prototype.runCoreEditorCommand=function(t,n){var i=this._staticArgs;-1===this._staticArgs.value&&(i={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:t.context.config.pageSize}),e.CursorMove._runCursorMove(t,n.source,i)},n}(VE);e.CursorLeft=xm(new s({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),e.CursorLeftSelect=xm(new s({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1039}})),e.CursorRight=xm(new s({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),e.CursorRightSelect=xm(new s({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1041}})),e.CursorUp=xm(new s({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),e.CursorUpSelect=xm(new s({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),e.CursorPageUp=xm(new s({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:11}})),e.CursorPageUpSelect=xm(new s({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1035}})),e.CursorDown=xm(new s({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),e.CursorDownSelect=xm(new s({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),e.CursorPageDown=xm(new s({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:12}})),e.CursorPageDownSelect=xm(new s({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1036}})),e.CreateCursor=xm(new(function(e){function t(){return e.call(this,{id:"createCursor",precondition:void 0})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n,i=e.context;n=t.wholeLine?EE.line(i,e.getPrimaryCursor(),!1,t.position,t.viewPosition):EE.moveTo(i,e.getPrimaryCursor(),!1,t.position,t.viewPosition);var o=e.getAll();if(o.length>1)for(var r=n.modelState?n.modelState.position:null,s=n.viewState?n.viewState.position:null,a=0,l=o.length;a<l;a++){var u=o[a];if((!r||u.modelState.selection.containsPosition(r))&&(!s||u.viewState.selection.containsPosition(s)))return o.splice(a,1),e.context.model.pushStackElement(),void e.setStates(t.source,3,o)}o.push(n),e.context.model.pushStackElement(),e.setStates(t.source,3,o)},t}(VE))),e.LastCursorMoveToSelect=xm(new(function(e){function t(){return e.call(this,{id:"_lastCursorMoveToSelect",precondition:void 0})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context,i=e.getLastAddedCursorIndex(),o=e.getAll(),r=o.slice(0);r[i]=EE.moveTo(n,o[i],!0,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,3,r)},t}(VE)));var a=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,EE.moveToBeginningOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},t}(VE);e.CursorHome=xm(new a({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),e.CursorHomeSelect=xm(new a({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}})),e.CursorLineStart=xm(new(function(e){function t(){return e.call(this,{id:"cursorLineStart",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:0,mac:{primary:287}}})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,this._exec(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},t.prototype._exec=function(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i],s=r.modelState.position.lineNumber;n[i]=cb.fromModelState(r.modelState.move(!1,s,1,0))}return n},t}(VE)));var l=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,EE.moveToEndOfLine(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},t}(VE);e.CursorEnd=xm(new l({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}}})),e.CursorEndSelect=xm(new l({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}}})),e.CursorLineEnd=xm(new(function(e){function t(){return e.call(this,{id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:0,mac:{primary:291}}})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,this._exec(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},t.prototype._exec=function(e,t){for(var n=[],i=0,o=t.length;i<o;i++){var r=t[i],s=r.modelState.position.lineNumber,a=e.model.getLineMaxColumn(s);n[i]=cb.fromModelState(r.modelState.move(!1,s,a,0))}return n},t}(VE)));var u=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,EE.moveToBeginningOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},t}(VE);e.CursorTop=xm(new u({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2062,mac:{primary:2064}}})),e.CursorTopSelect=xm(new u({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3086,mac:{primary:3088}}}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,EE.moveToEndOfBuffer(e.context,e.getAll(),this._inSelectionMode)),e.reveal(t.source,!0,0,0)},t}(VE);e.CursorBottom=xm(new c({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2061,mac:{primary:2066}}})),e.CursorBottomSelect=xm(new c({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:3085,mac:{primary:3090}}}));var h=function(e){function t(){return e.call(this,{id:"editorScroll",precondition:void 0,description:RE.description})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=RE.parse(t);n&&this._runEditorScroll(e,t.source,n)},t.prototype._runEditorScroll=function(e,t,n){var i=this._computeDesiredScrollTop(e.context,n);if(n.revealCursor){var o=e.context.getCompletelyVisibleViewRangeAtScrollTop(i);e.setStates(t,3,[EE.findPositionInViewportIfOutside(e.context,e.getPrimaryCursor(),o,n.select)])}e.scrollTo(i)},t.prototype._computeDesiredScrollTop=function(e,t){if(1===t.unit){var n=e.getCompletelyVisibleModelRange(),i=void 0;i=1===t.direction?Math.max(1,n.startLineNumber-t.value):Math.min(e.model.getLineCount(),n.startLineNumber+t.value);var o=e.convertModelPositionToViewPosition(new yn(i,1));return e.getVerticalOffsetForViewLine(o.lineNumber)}var r;r=3===t.unit?e.config.pageSize*t.value:4===t.unit?Math.round(e.config.pageSize/2)*t.value:t.value;var s=(1===t.direction?-1:1)*r;return e.getCurrentScrollTop()+s*e.config.lineHeight},t}(VE);e.EditorScrollImpl=h,e.EditorScroll=xm(new h),e.ScrollLineUp=xm(new(function(t){function n(){return t.call(this,{id:"scrollLineUp",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2064,mac:{primary:267}}})||this}return FE(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})},n}(VE))),e.ScrollPageUp=xm(new(function(t){function n(){return t.call(this,{id:"scrollPageUp",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})||this}return FE(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})},n}(VE))),e.ScrollLineDown=xm(new(function(t){function n(){return t.call(this,{id:"scrollLineDown",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2066,mac:{primary:268}}})||this}return FE(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})},n}(VE))),e.ScrollPageDown=xm(new(function(t){function n(){return t.call(this,{id:"scrollPageDown",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})||this}return FE(n,t),n.prototype.runCoreEditorCommand=function(t,n){e.EditorScroll._runEditorScroll(t,n.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})},n}(VE)));var d=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[EE.word(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position)]),e.reveal(t.source,!0,0,0)},t}(VE);e.WordSelect=xm(new d({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),e.WordSelectDrag=xm(new d({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),e.LastCursorWordSelect=xm(new(function(e){function t(){return e.call(this,{id:"lastCursorWordSelect",precondition:void 0})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.context,i=e.getLastAddedCursorIndex(),o=e.getAll(),r=o.slice(0),s=o[i];r[i]=EE.word(n,s,s.modelState.hasSelection(),t.position),n.model.pushStackElement(),e.setStates(t.source,3,r)},t}(VE)));var p=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[EE.line(e.context,e.getPrimaryCursor(),this._inSelectionMode,t.position,t.viewPosition)]),e.reveal(t.source,!1,0,0)},t}(VE);e.LineSelect=xm(new p({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),e.LineSelectDrag=xm(new p({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));var f=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=e.getLastAddedCursorIndex(),i=e.getAll(),o=i.slice(0);o[n]=EE.line(e.context,i[n],this._inSelectionMode,t.position,t.viewPosition),e.context.model.pushStackElement(),e.setStates(t.source,3,o)},t}(VE);e.LastCursorLineSelect=xm(new f({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),e.LastCursorLineSelectDrag=xm(new f({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),e.ExpandLineSelection=xm(new(function(e){function t(){return e.call(this,{id:"expandLineSelection",precondition:void 0,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2090}})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,EE.expandLineSelection(e.context,e.getAll())),e.reveal(t.source,!0,0,0)},t}(VE))),e.CancelSelection=xm(new(function(e){function t(){return e.call(this,{id:"cancelSelection",precondition:xE.hasNonEmptySelection,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:9,secondary:[1033]}})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[EE.cancelSelection(e.context,e.getPrimaryCursor())]),e.reveal(t.source,!0,0,0)},t}(VE))),e.RemoveSecondaryCursors=xm(new(function(e){function t(){return e.call(this,{id:"removeSecondaryCursors",precondition:xE.hasMultipleSelections,kbOpts:{weight:BE+1,kbExpr:xE.textInputFocus,primary:9,secondary:[1033]}})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[e.getPrimaryCursor()]),e.reveal(t.source,!0,0,0)},t}(VE))),e.RevealLine=xm(new(function(e){function t(){return e.call(this,{id:"revealLine",precondition:void 0,description:AE.description})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){var n=t,i=(n.lineNumber||0)+1;i<1&&(i=1);var o=e.context.model.getLineCount();i>o&&(i=o);var r=new bn(i,1,i,e.context.model.getLineMaxColumn(i)),s=0;if(n.at)switch(n.at){case AE.RawAtArgument.Top:s=3;break;case AE.RawAtArgument.Center:s=1;break;case AE.RawAtArgument.Bottom:s=4;break;default:break}var a=e.context.convertModelRangeToViewRange(r);e.revealRange(t.source,!1,a,s,0)},t}(VE))),e.SelectAll=xm(new(function(e){function t(){return e.call(this,{id:"selectAll",precondition:void 0})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[EE.selectAll(e.context,e.getPrimaryCursor())])},t}(VE))),e.SetSelection=xm(new(function(e){function t(){return e.call(this,{id:"setSelection",precondition:void 0})||this}return FE(t,e),t.prototype.runCoreEditorCommand=function(e,t){e.context.model.pushStackElement(),e.setStates(t.source,3,[cb.fromModelSelection(t.selection)])},t}(VE)))}(ME||(ME={})),function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return FE(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=t._getCursors();i&&this.runCoreEditingCommand(t,i,n||{})},t}(wm);e.CoreEditingCommand=t,e.LineBreakInsert=xm(new(function(e){function t(){return e.call(this,{id:"lineBreakInsert",precondition:xE.writable,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:0,mac:{primary:301}}})||this}return FE(t,e),t.prototype.runCoreEditingCommand=function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,DE.lineBreakInsert(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))))},t}(t))),e.Outdent=xm(new(function(e){function t(){return e.call(this,{id:"outdent",precondition:xE.writable,kbOpts:{weight:BE,kbExpr:xf.and(xE.editorTextFocus,xE.tabDoesNotMoveFocus),primary:1026}})||this}return FE(t,e),t.prototype.runCoreEditingCommand=function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,DE.outdent(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection})))),e.pushUndoStop()},t}(t))),e.Tab=xm(new(function(e){function t(){return e.call(this,{id:"tab",precondition:xE.writable,kbOpts:{weight:BE,kbExpr:xf.and(xE.editorTextFocus,xE.tabDoesNotMoveFocus),primary:2}})||this}return FE(t,e),t.prototype.runCoreEditingCommand=function(e,t,n){e.pushUndoStop(),e.executeCommands(this.id,DE.tab(t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection})))),e.pushUndoStop()},t}(t))),e.DeleteLeft=xm(new(function(e){function t(){return e.call(this,{id:"deleteLeft",precondition:xE.writable,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})||this}return FE(t,e),t.prototype.runCoreEditingCommand=function(e,t,n){var i=vE.deleteLeft(t.getPrevEditOperationType(),t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))),o=i[0],r=i[1];o&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(2)},t}(t))),e.DeleteRight=xm(new(function(e){function t(){return e.call(this,{id:"deleteRight",precondition:xE.writable,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})||this}return FE(t,e),t.prototype.runCoreEditingCommand=function(e,t,n){var i=vE.deleteRight(t.getPrevEditOperationType(),t.context.config,t.context.model,t.getAll().map((function(e){return e.modelState.selection}))),o=i[0],r=i[1];o&&e.pushUndoStop(),e.executeCommands(this.id,r),t.setPrevEditOperationType(3)},t}(t)))}(PE||(PE={}));var $E=function(e){function t(t){var n=e.call(this,t)||this;return n._editorHandler=t.editorHandler,n._inputHandler=t.inputHandler,n}return FE(t,e),t.prototype.runCommand=function(e,t){var n=e.get(Rn).getFocusedCodeEditor();if(n&&n.hasTextFocus())return this._runEditorHandler(e,n,t);var i=document.activeElement;if(!(i&&["input","textarea"].indexOf(i.tagName.toLowerCase())>=0)){var o=e.get(Rn).getActiveCodeEditor();return o?(o.focus(),this._runEditorHandler(e,o,t)):void 0}document.execCommand(this._inputHandler)},t.prototype._runEditorHandler=function(e,t,n){var i=this._editorHandler;"string"===typeof i?t.trigger("keyboard",i,n):(n=n||{},n.source="keyboard",i.runEditorCommand(e,t,n))},t}(bm),WE=function(e){function t(t,n,i){var o=e.call(this,{id:t,precondition:void 0,description:i})||this;return o._handlerId=n,o}return FE(t,e),t.prototype.runCommand=function(e,t){var n=e.get(Rn).getFocusedCodeEditor();n&&n.trigger("keyboard",this._handlerId,t)},t}(bm);function UE(e,t){HE(new WE("default:"+e,e)),HE(new WE(e,e,t))}HE(new $E({editorHandler:ME.SelectAll,inputHandler:"selectAll",id:"editor.action.selectAll",precondition:xE.textInputFocus,kbOpts:{weight:BE,kbExpr:null,primary:2079},menuOpts:{menuId:25,group:"1_basic",title:r({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1}})),HE(new $E({editorHandler:Nl.Undo,inputHandler:"undo",id:Nl.Undo,precondition:xE.writable,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2104},menuOpts:{menuId:17,group:"1_do",title:r({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1}})),HE(new WE("default:"+Nl.Undo,Nl.Undo)),HE(new $E({editorHandler:Nl.Redo,inputHandler:"redo",id:Nl.Redo,precondition:xE.writable,kbOpts:{weight:BE,kbExpr:xE.textInputFocus,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:{menuId:17,group:"1_do",title:r({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2}})),HE(new WE("default:"+Nl.Redo,Nl.Redo)),UE(Nl.Type,{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),UE(Nl.ReplacePreviousChar),UE(Nl.CompositionStart),UE(Nl.CompositionEnd),UE(Nl.Paste),UE(Nl.Cut);var zE=function(){function e(e,t,n,i){this.configuration=e,this.viewModel=t,this.outgoingEvents=n,this.commandDelegate=i}return e.prototype._execMouseCommand=function(e,t){t.source="mouse",this.commandDelegate.executeEditorCommand(e,t)},e.prototype.paste=function(e,t,n,i,o){this.commandDelegate.paste(e,t,n,i,o)},e.prototype.type=function(e,t){this.commandDelegate.type(e,t)},e.prototype.replacePreviousChar=function(e,t,n){this.commandDelegate.replacePreviousChar(e,t,n)},e.prototype.compositionStart=function(e){this.commandDelegate.compositionStart(e)},e.prototype.compositionEnd=function(e){this.commandDelegate.compositionEnd(e)},e.prototype.cut=function(e){this.commandDelegate.cut(e)},e.prototype.setSelection=function(e,t){this.commandDelegate.executeEditorCommand(ME.SetSelection,{source:e,selection:t})},e.prototype._validateViewColumn=function(e){var t=this.viewModel.getLineMinColumn(e.lineNumber);return e.column<t?new yn(e.lineNumber,t):e},e.prototype._hasMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.altKey;case"ctrlKey":return e.ctrlKey;case"metaKey":return e.metaKey}return!1},e.prototype._hasNonMulticursorModifier=function(e){switch(this.configuration.options.get(59)){case"altKey":return e.ctrlKey||e.metaKey;case"ctrlKey":return e.altKey||e.metaKey;case"metaKey":return e.ctrlKey||e.altKey}return!1},e.prototype.dispatchMouse=function(e){var t=s["d"]&&this.configuration.options.get(81);e.middleButton&&!t?this._columnSelect(e.position,e.mouseColumn,e.inSelectionMode):e.startedOnLineNumbers?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelect(e.position):this._createCursor(e.position,!0):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):e.mouseDownCount>=4?this._selectAll():3===e.mouseDownCount?this._hasMulticursorModifier(e)?e.inSelectionMode?this._lastCursorLineSelectDrag(e.position):this._lastCursorLineSelect(e.position):e.inSelectionMode?this._lineSelectDrag(e.position):this._lineSelect(e.position):2===e.mouseDownCount?this._hasMulticursorModifier(e)?this._lastCursorWordSelect(e.position):e.inSelectionMode?this._wordSelectDrag(e.position):this._wordSelect(e.position):this._hasMulticursorModifier(e)?this._hasNonMulticursorModifier(e)||(e.shiftKey?this._columnSelect(e.position,e.mouseColumn,!0):e.inSelectionMode?this._lastCursorMoveToSelect(e.position):this._createCursor(e.position,!1)):e.inSelectionMode?e.altKey?this._columnSelect(e.position,e.mouseColumn,!0):this._moveToSelect(e.position):this.moveTo(e.position)},e.prototype._usualArgs=function(e){return e=this._validateViewColumn(e),{position:this._convertViewToModelPosition(e),viewPosition:e}},e.prototype.moveTo=function(e){this._execMouseCommand(ME.MoveTo,this._usualArgs(e))},e.prototype._moveToSelect=function(e){this._execMouseCommand(ME.MoveToSelect,this._usualArgs(e))},e.prototype._columnSelect=function(e,t,n){e=this._validateViewColumn(e),this._execMouseCommand(ME.ColumnSelect,{position:this._convertViewToModelPosition(e),viewPosition:e,mouseColumn:t,doColumnSelect:n})},e.prototype._createCursor=function(e,t){e=this._validateViewColumn(e),this._execMouseCommand(ME.CreateCursor,{position:this._convertViewToModelPosition(e),viewPosition:e,wholeLine:t})},e.prototype._lastCursorMoveToSelect=function(e){this._execMouseCommand(ME.LastCursorMoveToSelect,this._usualArgs(e))},e.prototype._wordSelect=function(e){this._execMouseCommand(ME.WordSelect,this._usualArgs(e))},e.prototype._wordSelectDrag=function(e){this._execMouseCommand(ME.WordSelectDrag,this._usualArgs(e))},e.prototype._lastCursorWordSelect=function(e){this._execMouseCommand(ME.LastCursorWordSelect,this._usualArgs(e))},e.prototype._lineSelect=function(e){this._execMouseCommand(ME.LineSelect,this._usualArgs(e))},e.prototype._lineSelectDrag=function(e){this._execMouseCommand(ME.LineSelectDrag,this._usualArgs(e))},e.prototype._lastCursorLineSelect=function(e){this._execMouseCommand(ME.LastCursorLineSelect,this._usualArgs(e))},e.prototype._lastCursorLineSelectDrag=function(e){this._execMouseCommand(ME.LastCursorLineSelectDrag,this._usualArgs(e))},e.prototype._selectAll=function(){this._execMouseCommand(ME.SelectAll,{})},e.prototype._convertViewToModelPosition=function(e){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(e)},e.prototype.emitKeyDown=function(e){this.outgoingEvents.emitKeyDown(e)},e.prototype.emitKeyUp=function(e){this.outgoingEvents.emitKeyUp(e)},e.prototype.emitContextMenu=function(e){this.outgoingEvents.emitContextMenu(e)},e.prototype.emitMouseMove=function(e){this.outgoingEvents.emitMouseMove(e)},e.prototype.emitMouseLeave=function(e){this.outgoingEvents.emitMouseLeave(e)},e.prototype.emitMouseUp=function(e){this.outgoingEvents.emitMouseUp(e)},e.prototype.emitMouseDown=function(e){this.outgoingEvents.emitMouseDown(e)},e.prototype.emitMouseDrag=function(e){this.outgoingEvents.emitMouseDrag(e)},e.prototype.emitMouseDrop=function(e){this.outgoingEvents.emitMouseDrop(e)},e.prototype.emitMouseWheel=function(e){this.outgoingEvents.emitMouseWheel(e)},e}(),jE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),GE=function(e){function t(t){var n=e.call(this)||this;return n.onDidContentSizeChange=null,n.onDidScroll=null,n.onDidGainFocus=null,n.onDidLoseFocus=null,n.onKeyDown=null,n.onKeyUp=null,n.onContextMenu=null,n.onMouseMove=null,n.onMouseLeave=null,n.onMouseUp=null,n.onMouseDown=null,n.onMouseDrag=null,n.onMouseDrop=null,n.onMouseWheel=null,n._viewModel=t,n}return jE(t,e),t.prototype.emitContentSizeChange=function(e){this.onDidContentSizeChange&&this.onDidContentSizeChange(e)},t.prototype.emitScrollChanged=function(e){this.onDidScroll&&this.onDidScroll(e)},t.prototype.emitViewFocusGained=function(){this.onDidGainFocus&&this.onDidGainFocus(void 0)},t.prototype.emitViewFocusLost=function(){this.onDidLoseFocus&&this.onDidLoseFocus(void 0)},t.prototype.emitKeyDown=function(e){this.onKeyDown&&this.onKeyDown(e)},t.prototype.emitKeyUp=function(e){this.onKeyUp&&this.onKeyUp(e)},t.prototype.emitContextMenu=function(e){this.onContextMenu&&this.onContextMenu(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseMove=function(e){this.onMouseMove&&this.onMouseMove(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseLeave=function(e){this.onMouseLeave&&this.onMouseLeave(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseUp=function(e){this.onMouseUp&&this.onMouseUp(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDown=function(e){this.onMouseDown&&this.onMouseDown(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrag=function(e){this.onMouseDrag&&this.onMouseDrag(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseDrop=function(e){this.onMouseDrop&&this.onMouseDrop(this._convertViewToModelMouseEvent(e))},t.prototype.emitMouseWheel=function(e){this.onMouseWheel&&this.onMouseWheel(e)},t.prototype._convertViewToModelMouseEvent=function(e){return e.target?{event:e.event,target:this._convertViewToModelMouseTarget(e.target)}:e},t.prototype._convertViewToModelMouseTarget=function(e){return t.convertViewToModelMouseTarget(e,this._viewModel.coordinatesConverter)},t.convertViewToModelMouseTarget=function(e,t){return new KE(e.element,e.type,e.mouseColumn,e.position?t.convertViewPositionToModelPosition(e.position):null,e.range?t.convertViewRangeToModelRange(e.range):null,e.detail)},t}(Ae),KE=function(){function e(e,t,n,i,o,r){this.element=e,this.type=t,this.mouseColumn=n,this.position=i,this.range=o,this.detail=r}return e.prototype.toString=function(){return mb.toString(this)},e}(),qE=function(){function e(e){this._createLine=e,this._set(1,[])}return e.prototype.flush=function(){this._set(1,[])},e.prototype._set=function(e,t){this._lines=t,this._rendLineNumberStart=e},e.prototype._get=function(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}},e.prototype.getStartLineNumber=function(){return this._rendLineNumberStart},e.prototype.getEndLineNumber=function(){return this._rendLineNumberStart+this._lines.length-1},e.prototype.getCount=function(){return this._lines.length},e.prototype.getLine=function(e){var t=e-this._rendLineNumberStart;if(t<0||t>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[t]},e.prototype.onLinesDeleted=function(e,t){if(0===this.getCount())return null;var n=this.getStartLineNumber(),i=this.getEndLineNumber();if(t<n){var o=t-e+1;return this._rendLineNumberStart-=o,null}if(e>i)return null;for(var r=0,s=0,a=n;a<=i;a++){var l=a-this._rendLineNumberStart;e<=a&&a<=t&&(0===s?(r=l,s=1):s++)}if(e<n){var u=0;u=t<n?t-e+1:n-e,this._rendLineNumberStart-=u}var c=this._lines.splice(r,s);return c},e.prototype.onLinesChanged=function(e,t){if(0===this.getCount())return!1;for(var n=this.getStartLineNumber(),i=this.getEndLineNumber(),o=!1,r=e;r<=t;r++)r>=n&&r<=i&&(this._lines[r-this._rendLineNumberStart].onContentChanged(),o=!0);return o},e.prototype.onLinesInserted=function(e,t){if(0===this.getCount())return null;var n=t-e+1,i=this.getStartLineNumber(),o=this.getEndLineNumber();if(e<=i)return this._rendLineNumberStart+=n,null;if(e>o)return null;if(n+e>o){var r=this._lines.splice(e-this._rendLineNumberStart,o-e+1);return r}for(var s=[],a=0;a<n;a++)s[a]=this._createLine();var l=e-this._rendLineNumberStart,u=this._lines.slice(0,l),c=this._lines.slice(l,this._lines.length-n),h=this._lines.slice(this._lines.length-n,this._lines.length);return this._lines=u.concat(s).concat(c),h},e.prototype.onTokensChanged=function(e){if(0===this.getCount())return!1;for(var t=this.getStartLineNumber(),n=this.getEndLineNumber(),i=!1,o=0,r=e.length;o<r;o++){var s=e[o];if(!(s.toLineNumber<t||s.fromLineNumber>n))for(var a=Math.max(t,s.fromLineNumber),l=Math.min(n,s.toLineNumber),u=a;u<=l;u++){var c=u-this._rendLineNumberStart;this._lines[c].onTokensChanged(),i=!0}}return i},e}(),YE=function(){function e(e){var t=this;this._host=e,this.domNode=this._createDomNode(),this._linesCollection=new qE((function(){return t._host.createVisibleLine()}))}return e.prototype._createDomNode=function(){var e=Am(document.createElement("div"));return e.setClassName("view-layer"),e.setPosition("absolute"),e.domNode.setAttribute("role","presentation"),e.domNode.setAttribute("aria-hidden","true"),e},e.prototype.onConfigurationChanged=function(e){return!!e.hasChanged(107)},e.prototype.onFlushed=function(e){return this._linesCollection.flush(),!0},e.prototype.onLinesChanged=function(e){return this._linesCollection.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){var t=this._linesCollection.onLinesDeleted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var o=t[n].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},e.prototype.onLinesInserted=function(e){var t=this._linesCollection.onLinesInserted(e.fromLineNumber,e.toLineNumber);if(t)for(var n=0,i=t.length;n<i;n++){var o=t[n].getDomNode();o&&this.domNode.domNode.removeChild(o)}return!0},e.prototype.onScrollChanged=function(e){return e.scrollTopChanged},e.prototype.onTokensChanged=function(e){return this._linesCollection.onTokensChanged(e.ranges)},e.prototype.onZonesChanged=function(e){return!0},e.prototype.getStartLineNumber=function(){return this._linesCollection.getStartLineNumber()},e.prototype.getEndLineNumber=function(){return this._linesCollection.getEndLineNumber()},e.prototype.getVisibleLine=function(e){return this._linesCollection.getLine(e)},e.prototype.renderLines=function(e){var t=this._linesCollection._get(),n=new XE(this.domNode.domNode,this._host,e),i={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines,linesLength:t.lines.length},o=n.render(i,e.startLineNumber,e.endLineNumber,e.relativeVerticalOffset);this._linesCollection._set(o.rendLineNumberStart,o.lines)},e}(),XE=function(){function e(e,t,n){this.domNode=e,this.host=t,this.viewportData=n}return e.prototype.render=function(e,t,n,i){var o={rendLineNumberStart:e.rendLineNumberStart,lines:e.lines.slice(0),linesLength:e.linesLength};if(o.rendLineNumberStart+o.linesLength-1<t||n<o.rendLineNumberStart){o.rendLineNumberStart=t,o.linesLength=n-t+1,o.lines=[];for(var r=t;r<=n;r++)o.lines[r-t]=this.host.createVisibleLine();return this._finishRendering(o,!0,i),o}if(this._renderUntouchedLines(o,Math.max(t-o.rendLineNumberStart,0),Math.min(n-o.rendLineNumberStart,o.linesLength-1),i,t),o.rendLineNumberStart>t){var s=t,a=Math.min(n,o.rendLineNumberStart-1);s<=a&&(this._insertLinesBefore(o,s,a,i,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart<t){var l=Math.min(o.linesLength,t-o.rendLineNumberStart);l>0&&(this._removeLinesBefore(o,l),o.linesLength-=l)}if(o.rendLineNumberStart=t,o.rendLineNumberStart+o.linesLength-1<n){s=o.rendLineNumberStart+o.linesLength,a=n;s<=a&&(this._insertLinesAfter(o,s,a,i,t),o.linesLength+=a-s+1)}else if(o.rendLineNumberStart+o.linesLength-1>n){s=Math.max(0,n-o.rendLineNumberStart+1),a=o.linesLength-1,l=a-s+1;l>0&&(this._removeLinesAfter(o,l),o.linesLength-=l)}return this._finishRendering(o,!1,i),o},e.prototype._renderUntouchedLines=function(e,t,n,i,o){for(var r=e.rendLineNumberStart,s=e.lines,a=t;a<=n;a++){var l=r+a;s[a].layoutLine(l,i[l-o])}},e.prototype._insertLinesBefore=function(e,t,n,i,o){for(var r=[],s=0,a=t;a<=n;a++)r[s++]=this.host.createVisibleLine();e.lines=r.concat(e.lines)},e.prototype._removeLinesBefore=function(e,t){for(var n=0;n<t;n++){var i=e.lines[n].getDomNode();i&&this.domNode.removeChild(i)}e.lines.splice(0,t)},e.prototype._insertLinesAfter=function(e,t,n,i,o){for(var r=[],s=0,a=t;a<=n;a++)r[s++]=this.host.createVisibleLine();e.lines=e.lines.concat(r)},e.prototype._removeLinesAfter=function(e,t){for(var n=e.linesLength-t,i=0;i<t;i++){var o=e.lines[n+i].getDomNode();o&&this.domNode.removeChild(o)}e.lines.splice(n,t)},e.prototype._finishRenderingNewLines=function(e,t,n,i){var o=this.domNode.lastChild;t||!o?this.domNode.innerHTML=n:o.insertAdjacentHTML("afterend",n);for(var r=this.domNode.lastChild,s=e.linesLength-1;s>=0;s--){var a=e.lines[s];i[s]&&(a.setDomNode(r),r=r.previousSibling)}},e.prototype._finishRenderingInvalidLines=function(e,t,n){var i=document.createElement("div");i.innerHTML=t;for(var o=0;o<e.linesLength;o++){var r=e.lines[o];if(n[o]){var s=i.firstChild,a=r.getDomNode();a.parentNode.replaceChild(s,a),r.setDomNode(s)}}},e.prototype._finishRendering=function(t,n,i){var o=e._sb,r=t.linesLength,s=t.lines,a=t.rendLineNumberStart,l=[];o.reset();for(var u=!1,c=0;c<r;c++){var h=s[c];l[c]=!1;var d=h.getDomNode();if(!d){var p=h.renderLine(c+a,i[c],this.viewportData,o);p&&(l[c]=!0,u=!0)}}u&&this._finishRenderingNewLines(t,n,o.build(),l),o.reset();var f=!1,g=[];for(c=0;c<r;c++){h=s[c];if(g[c]=!1,!l[c]){p=h.renderLine(c+a,i[c],this.viewportData,o);p&&(g[c]=!0,f=!0)}}f&&this._finishRenderingInvalidLines(t,o.build(),g)},e._sb=rd(1e5),e}(),ZE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JE=function(e){function t(t){var n=e.call(this,t)||this;return n._visibleLines=new YE(n),n.domNode=n._visibleLines.domNode,n._dynamicOverlays=[],n._isFocused=!1,n.domNode.setClassName("view-overlays"),n}return ZE(t,e),t.prototype.shouldRender=function(){if(e.prototype.shouldRender.call(this))return!0;for(var t=0,n=this._dynamicOverlays.length;t<n;t++){var i=this._dynamicOverlays[t];if(i.shouldRender())return!0}return!1},t.prototype.dispose=function(){e.prototype.dispose.call(this);for(var t=0,n=this._dynamicOverlays.length;t<n;t++){var i=this._dynamicOverlays[t];i.dispose()}this._dynamicOverlays=[]},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new QE(this._context.configuration,this._dynamicOverlays)},t.prototype.addDynamicOverlay=function(e){this._dynamicOverlays.push(e)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e);for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++){var o=this._visibleLines.getVisibleLine(i);o.onConfigurationChanged(e)}return!0},t.prototype.onFlushed=function(e){return this._visibleLines.onFlushed(e)},t.prototype.onFocusChanged=function(e){return this._isFocused=e.isFocused,!0},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onScrollChanged=function(e){return this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._visibleLines.onZonesChanged(e)},t.prototype.prepareRender=function(e){for(var t=this._dynamicOverlays.filter((function(e){return e.shouldRender()})),n=0,i=t.length;n<i;n++){var o=t[n];o.prepareRender(e),o.onDidRender()}},t.prototype.render=function(e){this._viewOverlaysRender(e),this.domNode.toggleClassName("focused",this._isFocused)},t.prototype._viewOverlaysRender=function(e){this._visibleLines.renderLines(e.viewportData)},t}(n_),QE=function(){function e(e,t){this._configuration=e,this._lineHeight=this._configuration.options.get(49),this._dynamicOverlays=t,this._domNode=null,this._renderedContent=null}return e.prototype.getDomNode=function(){return this._domNode?this._domNode.domNode:null},e.prototype.setDomNode=function(e){this._domNode=Am(e)},e.prototype.onContentChanged=function(){},e.prototype.onTokensChanged=function(){},e.prototype.onConfigurationChanged=function(e){this._lineHeight=this._configuration.options.get(49)},e.prototype.renderLine=function(e,t,n,i){for(var o="",r=0,s=this._dynamicOverlays.length;r<s;r++){var a=this._dynamicOverlays[r];o+=a.render(n.startLineNumber,e)}return this._renderedContent!==o&&(this._renderedContent=o,i.appendASCIIString('<div style="position:absolute;top:'),i.appendASCIIString(String(t)),i.appendASCIIString("px;width:100%;height:"),i.appendASCIIString(String(this._lineHeight)),i.appendASCIIString('px;">'),i.appendASCIIString(o),i.appendASCIIString("</div>"),!0)},e.prototype.layoutLine=function(e,t){this._domNode&&(this._domNode.setTop(t),this._domNode.setHeight(this._lineHeight))},e}(),eT=function(e){function t(t){var n=e.call(this,t)||this,i=n._context.configuration.options,o=i.get(107);return n._contentWidth=o.contentWidth,n.domNode.setHeight(0),n}return ZE(t,e),t.prototype.onConfigurationChanged=function(t){var n=this._context.configuration.options,i=n.get(107);return this._contentWidth=i.contentWidth,e.prototype.onConfigurationChanged.call(this,t)||!0},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollWidthChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))},t}(JE),tT=function(e){function t(t){var n=e.call(this,t)||this,i=n._context.configuration.options,o=i.get(107);return n._contentLeft=o.contentLeft,n.domNode.setClassName("margin-view-overlays"),n.domNode.setWidth(1),tm.applyFontInfo(n.domNode,i.get(34)),n}return ZE(t,e),t.prototype.onConfigurationChanged=function(t){var n=this._context.configuration.options;tm.applyFontInfo(this.domNode,n.get(34));var i=n.get(107);return this._contentLeft=i.contentLeft,e.prototype.onConfigurationChanged.call(this,t)||!0},t.prototype.onScrollChanged=function(t){return e.prototype.onScrollChanged.call(this,t)||t.scrollHeightChanged},t.prototype._viewOverlaysRender=function(t){e.prototype._viewOverlaysRender.call(this,t);var n=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(n),this.domNode.setWidth(this._contentLeft)},t}(JE),nT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iT=function(){function e(e,t){this.top=e,this.left=t}return e}(),oT=function(e){function t(t,n){var i=e.call(this,t)||this;return i._viewDomNode=n,i._widgets={},i.domNode=Am(document.createElement("div")),i_.write(i.domNode,1),i.domNode.setClassName("contentWidgets"),i.domNode.setPosition("absolute"),i.domNode.setTop(0),i.overflowingContentWidgetsDomNode=Am(document.createElement("div")),i_.write(i.overflowingContentWidgetsDomNode,2),i.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets"),i}return nT(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets={}},t.prototype.onConfigurationChanged=function(e){for(var t=Object.keys(this._widgets),n=0,i=t;n<i.length;n++){var o=i[n];this._widgets[o].onConfigurationChanged(e)}return!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLineMappingChanged=function(e){for(var t=Object.keys(this._widgets),n=0,i=t;n<i.length;n++){var o=i[n];this._widgets[o].onLineMappingChanged(e)}return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onZonesChanged=function(e){return!0},t.prototype.addWidget=function(e){var t=new rT(this._context,this._viewDomNode,e);this._widgets[t.id]=t,t.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(t.domNode):this.domNode.appendChild(t.domNode),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t,n){var i=this._widgets[e.getId()];i.setPosition(t,n),this.setShouldRender()},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t];delete this._widgets[t];var i=n.domNode.domNode;i.parentNode.removeChild(i),i.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}},t.prototype.shouldSuppressMouseDownOnWidget=function(e){return!!this._widgets.hasOwnProperty(e)&&this._widgets[e].suppressMouseDown},t.prototype.onBeforeRender=function(e){for(var t=Object.keys(this._widgets),n=0,i=t;n<i.length;n++){var o=i[n];this._widgets[o].onBeforeRender(e)}},t.prototype.prepareRender=function(e){for(var t=Object.keys(this._widgets),n=0,i=t;n<i.length;n++){var o=i[n];this._widgets[o].prepareRender(e)}},t.prototype.render=function(e){for(var t=Object.keys(this._widgets),n=0,i=t;n<i.length;n++){var o=i[n];this._widgets[o].render(e)}},t}(n_),rT=function(){function e(e,t,n){this._context=e,this._viewDomNode=t,this._actual=n,this.domNode=Am(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;var i=this._context.configuration.options,o=i.get(107);this._fixedOverflowWidgets=i.get(29),this._contentWidth=o.contentWidth,this._contentLeft=o.contentLeft,this._lineHeight=i.get(49),this._range=null,this._viewRange=null,this._preference=[],this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}return e.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;if(this._lineHeight=t.get(49),e.hasChanged(107)){var n=t.get(107);this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._maxWidth=this._getMaxWidth()}},e.prototype.onLineMappingChanged=function(e){this._setPosition(this._range)},e.prototype._setPosition=function(e){if(this._range=e,this._viewRange=null,this._range){var t=this._context.model.validateModelRange(this._range);(this._context.model.coordinatesConverter.modelPositionIsVisible(t.getStartPosition())||this._context.model.coordinatesConverter.modelPositionIsVisible(t.getEndPosition()))&&(this._viewRange=this._context.model.coordinatesConverter.convertModelRangeToViewRange(t))}},e.prototype._getMaxWidth=function(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth:this._contentWidth},e.prototype.setPosition=function(e,t){this._setPosition(e),this._preference=t,this._cachedDomNodeClientWidth=-1,this._cachedDomNodeClientHeight=-1},e.prototype._layoutBoxInViewport=function(e,t,n,i,o){var r=e.top,s=r,a=t.top+this._lineHeight,l=o.viewportHeight-a,u=r-i,c=s>=i,h=a,d=l>=i,p=e.left,f=t.left;return p+n>o.scrollLeft+o.viewportWidth&&(p=o.scrollLeft+o.viewportWidth-n),f+n>o.scrollLeft+o.viewportWidth&&(f=o.scrollLeft+o.viewportWidth-n),p<o.scrollLeft&&(p=o.scrollLeft),f<o.scrollLeft&&(f=o.scrollLeft),{fitsAbove:c,aboveTop:u,aboveLeft:p,fitsBelow:d,belowTop:h,belowLeft:f}},e.prototype._layoutHorizontalSegmentInPage=function(e,t,n,i){var o=Math.max(0,t.left-i),r=Math.min(t.left+t.width+i,e.width),s=t.left+n-zo.scrollX;if(s+i>r){var a=s-(r-i);s-=a,n-=a}if(s<o){a=s-o;s-=a,n-=a}return[n,s]},e.prototype._layoutBoxInPage=function(e,t,n,i,o){var r=e.top-i,s=t.top+this._lineHeight,a=Uo(this._viewDomNode.domNode),l=a.top+r-zo.scrollY,u=a.top+s-zo.scrollY,c=Vo(document.body),h=this._layoutHorizontalSegmentInPage(c,a,e.left-o.scrollLeft+this._contentLeft,n),d=h[0],p=h[1],f=this._layoutHorizontalSegmentInPage(c,a,t.left-o.scrollLeft+this._contentLeft,n),g=f[0],m=f[1],_=22,v=22,y=l>=_,b=u+i<=c.height-v;return this._fixedOverflowWidgets?{fitsAbove:y,aboveTop:Math.max(l,_),aboveLeft:p,fitsBelow:b,belowTop:u,belowLeft:m}:{fitsAbove:y,aboveTop:Math.max(r,_),aboveLeft:d,fitsBelow:b,belowTop:s,belowLeft:g}},e.prototype._prepareRenderWidgetAtExactPositionOverflowing=function(e){return new iT(e.top,e.left+this._contentLeft)},e.prototype._getTopAndBottomLeft=function(e){if(!this._viewRange)return[null,null];var t=e.linesVisibleRangesForRange(this._viewRange,!1);if(!t||0===t.length)return[null,null];for(var n=t[0],i=t[0],o=0,r=t;o<r.length;o++){var s=r[o];s.lineNumber<n.lineNumber&&(n=s),s.lineNumber>i.lineNumber&&(i=s)}for(var a=1073741824,l=0,u=n.ranges;l<u.length;l++){var c=u[l];c.left<a&&(a=c.left)}for(var h=1073741824,d=0,p=i.ranges;d<p.length;d++){c=p[d];c.left<h&&(h=c.left)}var f=e.getVerticalOffsetForLineNumber(n.lineNumber)-e.scrollTop,g=new iT(f,a),m=e.getVerticalOffsetForLineNumber(i.lineNumber)-e.scrollTop,_=new iT(m,h);return[g,_]},e.prototype._prepareRenderWidget=function(e){var t,n=this._getTopAndBottomLeft(e),i=n[0],o=n[1];if(!i||!o)return null;if(-1===this._cachedDomNodeClientWidth||-1===this._cachedDomNodeClientHeight){var r=this.domNode.domNode;this._cachedDomNodeClientWidth=r.clientWidth,this._cachedDomNodeClientHeight=r.clientHeight}if(t=this.allowEditorOverflow?this._layoutBoxInPage(i,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e):this._layoutBoxInViewport(i,o,this._cachedDomNodeClientWidth,this._cachedDomNodeClientHeight,e),this._preference)for(var s=1;s<=2;s++)for(var a=0,l=this._preference;a<l.length;a++){var u=l[a];if(1===u){if(!t)return null;if(2===s||t.fitsAbove)return new iT(t.aboveTop,t.aboveLeft)}else{if(2!==u)return this.allowEditorOverflow?this._prepareRenderWidgetAtExactPositionOverflowing(i):i;if(!t)return null;if(2===s||t.fitsBelow)return new iT(t.belowTop,t.belowLeft)}}return null},e.prototype.onBeforeRender=function(e){this._viewRange&&this._preference&&(this._viewRange.endLineNumber<e.startLineNumber||this._viewRange.startLineNumber>e.endLineNumber||this.domNode.setMaxWidth(this._maxWidth))},e.prototype.prepareRender=function(e){this._renderData=this._prepareRenderWidget(e)},e.prototype.render=function(e){this._renderData?(this.allowEditorOverflow?(this.domNode.setTop(this._renderData.top),this.domNode.setLeft(this._renderData.left)):(this.domNode.setTop(this._renderData.top+e.scrollTop-e.bigNumbersDelta),this.domNode.setLeft(this._renderData.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0)):this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden"))},e}(),sT=(n("930f"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),aT=!0,lT=function(e){function t(t){var n=e.call(this)||this;n._context=t;var i=n._context.configuration.options,o=i.get(107);return n._lineHeight=i.get(49),n._renderLineHighlight=i.get(72),n._contentLeft=o.contentLeft,n._contentWidth=o.contentWidth,n._selectionIsEmpty=!0,n._cursorLineNumbers=[],n._selections=[],n._renderData=null,n._context.addEventHandler(n),n}return sT(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype._readFromSelections=function(){var e=!1,t=aT?this._selections.slice(0,1):this._selections,n=t.map((function(e){return e.positionLineNumber}));n.sort((function(e,t){return e-t})),Di(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,e=!0);var i=t.every((function(e){return e.isEmpty()}));return this._selectionIsEmpty!==i&&(this._selectionIsEmpty=i,e=!0),e},t.prototype.onThemeChanged=function(e){return this._readFromSelections()},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._lineHeight=t.get(49),this._renderLineHighlight=t.get(72),this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._readFromSelections()},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollWidthChanged||e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){if(this._shouldRenderThis()){for(var t=this._renderOne(e),n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=this._cursorLineNumbers.length,r=0,s=[],a=n;a<=i;a++){var l=a-n;while(r<o&&this._cursorLineNumbers[r]<a)r++;r<o&&this._cursorLineNumbers[r]===a?s[l]=t:s[l]=""}this._renderData=s}else this._renderData=null},t.prototype.render=function(e,t){if(!this._renderData)return"";var n=t-e;return n>=this._renderData.length?"":this._renderData[n]},t}(Kb),uT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sT(t,e),t.prototype._renderOne=function(e){var t="current-line"+(this._shouldRenderOther()?" current-line-both":"");return'<div class="'+t+'" style="width:'+Math.max(e.scrollWidth,this._contentWidth)+"px; height:"+this._lineHeight+'px;"></div>'},t.prototype._shouldRenderThis=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},t.prototype._shouldRenderOther=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},t}(lT),cT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sT(t,e),t.prototype._renderOne=function(e){var t="current-line current-line-margin"+(this._shouldRenderOther()?" current-line-margin-both":"");return'<div class="'+t+'" style="width:'+this._contentLeft+"px; height:"+this._lineHeight+'px;"></div>'},t.prototype._shouldRenderThis=function(){return"gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight},t.prototype._shouldRenderOther=function(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty},t}(lT);w_((function(e,t){aT=!1;var n=e.getColor(aS);if(n&&(t.addRule(".monaco-editor .view-overlays .current-line { background-color: "+n+"; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { background-color: "+n+"; border: none; }")),!n||n.isTransparent()||e.defines(lS)){var i=e.getColor(lS);i&&(aT=!0,t.addRule(".monaco-editor .view-overlays .current-line { border: 2px solid "+i+"; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid "+i+"; }"),"hc"===e.type&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}}));n("56dc");var hT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dT=function(e){function t(t){var n=e.call(this)||this;n._context=t;var i=n._context.configuration.options;return n._lineHeight=i.get(49),n._typicalHalfwidthCharacterWidth=i.get(34).typicalHalfwidthCharacterWidth,n._renderResult=null,n._context.addEventHandler(n),n}return hT(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.prepareRender=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var s=t[o];s.options.className&&(n[i++]=s)}n=n.sort((function(e,t){if(e.options.zIndex<t.options.zIndex)return-1;if(e.options.zIndex>t.options.zIndex)return 1;var n=e.options.className,i=t.options.className;return n<i?-1:n>i?1:bn.compareRangesUsingStarts(e.range,t.range)}));for(var a=e.visibleRange.startLineNumber,l=e.visibleRange.endLineNumber,u=[],c=a;c<=l;c++){var h=c-a;u[h]=""}this._renderWholeLineDecorations(e,n,u),this._renderNormalDecorations(e,n,u),this._renderResult=u},t.prototype._renderWholeLineDecorations=function(e,t,n){for(var i=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=e.visibleRange.endLineNumber,s=0,a=t.length;s<a;s++){var l=t[s];if(l.options.isWholeLine)for(var u='<div class="cdr '+l.options.className+'" style="left:0;width:100%;height:'+i+'px;"></div>',c=Math.max(l.range.startLineNumber,o),h=Math.min(l.range.endLineNumber,r),d=c;d<=h;d++){var p=d-o;n[p]+=u}}},t.prototype._renderNormalDecorations=function(e,t,n){for(var i=String(this._lineHeight),o=e.visibleRange.startLineNumber,r=null,s=!1,a=null,l=0,u=t.length;l<u;l++){var c=t[l];if(!c.options.isWholeLine){var h=c.options.className,d=Boolean(c.options.showIfCollapsed),p=c.range;d&&1===p.endColumn&&p.endLineNumber!==p.startLineNumber&&(p=new bn(p.startLineNumber,p.startColumn,p.endLineNumber-1,this._context.model.getLineMaxColumn(p.endLineNumber-1))),r===h&&s===d&&bn.areIntersectingOrTouching(a,p)?a=bn.plusRange(a,p):(null!==r&&this._renderNormalDecoration(e,a,r,s,i,o,n),r=h,s=d,a=p)}}null!==r&&this._renderNormalDecoration(e,a,r,s,i,o,n)},t.prototype._renderNormalDecoration=function(e,t,n,i,o,r,s){var a=e.linesVisibleRangesForRange(t,"findMatch"===n);if(a)for(var l=0,u=a.length;l<u;l++){var c=a[l];if(!c.outsideRenderedLine){var h=c.lineNumber-r;if(i&&1===c.ranges.length){var d=c.ranges[0];0===d.width&&(c.ranges[0]=new l_(d.left,this._typicalHalfwidthCharacterWidth))}for(var p=0,f=c.ranges.length;p<f;p++){var g=c.ranges[p],m='<div class="cdr '+n+'" style="left:'+String(g.left)+"px;width:"+String(g.width)+"px;height:"+o+'px;"></div>';s[h]+=m}}}},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t}(Kb),pT=(n("7aad"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),fT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return pT(t,e),t.prototype.onclick=function(e,t){this._register(bo(e,ar.CLICK,(function(e){return t(new pi(e))})))},t.prototype.onmousedown=function(e,t){this._register(bo(e,ar.MOUSE_DOWN,(function(e){return t(new pi(e))})))},t.prototype.onmouseover=function(e,t){this._register(bo(e,ar.MOUSE_OVER,(function(e){return t(new pi(e))})))},t.prototype.onnonbubblingmouseout=function(e,t){this._register(xo(e,(function(e){return t(new pi(e))})))},t.prototype.onkeydown=function(e,t){this._register(bo(e,ar.KEY_DOWN,(function(e){return t(new si(e))})))},t.prototype.onkeyup=function(e,t){this._register(bo(e,ar.KEY_UP,(function(e){return t(new si(e))})))},t.prototype.oninput=function(e,t){this._register(bo(e,ar.INPUT,t))},t.prototype.onblur=function(e,t){this._register(bo(e,ar.BLUR,t))},t.prototype.onfocus=function(e,t){this._register(bo(e,ar.FOCUS,t))},t.prototype.ignoreGesture=function(e){$m.ignoreTarget(e)},t}(Ae),gT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),mT=11,_T=function(e){function t(t){var n=e.call(this)||this;return n._onActivate=t.onActivate,n.bgDomNode=document.createElement("div"),n.bgDomNode.className="arrow-background",n.bgDomNode.style.position="absolute",n.bgDomNode.style.width=t.bgWidth+"px",n.bgDomNode.style.height=t.bgHeight+"px","undefined"!==typeof t.top&&(n.bgDomNode.style.top="0px"),"undefined"!==typeof t.left&&(n.bgDomNode.style.left="0px"),"undefined"!==typeof t.bottom&&(n.bgDomNode.style.bottom="0px"),"undefined"!==typeof t.right&&(n.bgDomNode.style.right="0px"),n.domNode=document.createElement("div"),n.domNode.className=t.className,n.domNode.style.position="absolute",n.domNode.style.width=mT+"px",n.domNode.style.height=mT+"px","undefined"!==typeof t.top&&(n.domNode.style.top=t.top+"px"),"undefined"!==typeof t.left&&(n.domNode.style.left=t.left+"px"),"undefined"!==typeof t.bottom&&(n.domNode.style.bottom=t.bottom+"px"),"undefined"!==typeof t.right&&(n.domNode.style.right=t.right+"px"),n._mouseMoveMonitor=n._register(new Um),n.onmousedown(n.bgDomNode,(function(e){return n._arrowMouseDown(e)})),n.onmousedown(n.domNode,(function(e){return n._arrowMouseDown(e)})),n._mousedownRepeatTimer=n._register(new Ti),n._mousedownScheduleRepeatTimer=n._register(new Ei),n}return gT(t,e),t.prototype._arrowMouseDown=function(e){var t=this,n=function(){t._mousedownRepeatTimer.cancelAndSet((function(){return t._onActivate()}),1e3/24)};this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet(n,200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Wm,(function(e){}),(function(){t._mousedownRepeatTimer.cancel(),t._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()},t}(fT),vT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yT=function(e){function t(t,n,i){var o=e.call(this)||this;return o._visibility=t,o._visibleClassName=n,o._invisibleClassName=i,o._domNode=null,o._isVisible=!1,o._isNeeded=!1,o._shouldBeVisible=!1,o._revealTimer=o._register(new Ei),o}return vT(t,e),t.prototype.applyVisibilitySetting=function(e){return 2!==this._visibility&&(3===this._visibility||e)},t.prototype.setShouldBeVisible=function(e){var t=this.applyVisibilitySetting(e);this._shouldBeVisible!==t&&(this._shouldBeVisible=t,this.ensureVisibility())},t.prototype.setIsNeeded=function(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())},t.prototype.setDomNode=function(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)},t.prototype.ensureVisibility=function(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)},t.prototype._reveal=function(){var e=this;this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((function(){e._domNode&&e._domNode.setClassName(e._visibleClassName)}),0))},t.prototype._hide=function(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))},t}(Ae),bT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wT=140,CT=function(e){function t(t){var n=e.call(this)||this;return n._lazyRender=t.lazyRender,n._host=t.host,n._scrollable=t.scrollable,n._scrollbarState=t.scrollbarState,n._visibilityController=n._register(new yT(t.visibility,"visible scrollbar "+t.extraScrollbarClassName,"invisible scrollbar "+t.extraScrollbarClassName)),n._visibilityController.setIsNeeded(n._scrollbarState.isNeeded()),n._mouseMoveMonitor=n._register(new Um),n._shouldRender=!0,n.domNode=Am(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n._visibilityController.setDomNode(n.domNode),n.domNode.setPosition("absolute"),n.onmousedown(n.domNode.domNode,(function(e){return n._domNodeMouseDown(e)})),n}return bT(t,e),t.prototype._createArrow=function(e){var t=this._register(new _T(e));this.domNode.domNode.appendChild(t.bgDomNode),this.domNode.domNode.appendChild(t.domNode)},t.prototype._createSlider=function(e,t,n,i){var o=this;this.slider=Am(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(t),"number"===typeof n&&this.slider.setWidth(n),"number"===typeof i&&this.slider.setHeight(i),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this.onmousedown(this.slider.domNode,(function(e){e.leftButton&&(e.preventDefault(),o._sliderMouseDown(e,(function(){})))})),this.onclick(this.slider.domNode,(function(e){e.leftButton&&e.stopPropagation()}))},t.prototype._onElementSize=function(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollSize=function(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype._onElementScrollPosition=function(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender},t.prototype.beginReveal=function(){this._visibilityController.setShouldBeVisible(!0)},t.prototype.beginHide=function(){this._visibilityController.setShouldBeVisible(!1)},t.prototype.render=function(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))},t.prototype._domNodeMouseDown=function(e){e.target===this.domNode.domNode&&this._onMouseDown(e)},t.prototype.delegateMouseDown=function(e){var t=this.domNode.domNode.getClientRects()[0].top,n=t+this._scrollbarState.getSliderPosition(),i=t+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderMousePosition(e);n<=o&&o<=i?e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(function(){}))):this._onMouseDown(e)},t.prototype._onMouseDown=function(e){var t,n;if(e.target===this.domNode.domNode&&"number"===typeof e.browserEvent.offsetX&&"number"===typeof e.browserEvent.offsetY)t=e.browserEvent.offsetX,n=e.browserEvent.offsetY;else{var i=Uo(this.domNode.domNode);t=e.posx-i.left,n=e.posy-i.top}this._setDesiredScrollPositionNow(this._scrollbarState.getDesiredScrollPositionFromOffset(this._mouseDownRelativePosition(t,n))),e.leftButton&&(e.preventDefault(),this._sliderMouseDown(e,(function(){})))},t.prototype._sliderMouseDown=function(e,t){var n=this,i=this._sliderMousePosition(e),o=this._sliderOrthogonalMousePosition(e),r=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,Wm,(function(e){var t=n._sliderOrthogonalMousePosition(e),a=Math.abs(t-o);if(s["h"]&&a>wT)n._setDesiredScrollPositionNow(r.getScrollPosition());else{var l=n._sliderMousePosition(e),u=l-i;n._setDesiredScrollPositionNow(r.getDesiredScrollPositionFromDelta(u))}}),(function(){n.slider.toggleClassName("active",!1),n._host.onDragEnd(),t()})),this._host.onDragStart()},t.prototype._setDesiredScrollPositionNow=function(e){var t={};this.writeScrollPosition(t,e),this._scrollable.setScrollPositionNow(t)},t}(fT),ST=20,ET=function(){function e(e,t,n,i,o,r){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(n),this._arrowSize=Math.round(e),this._visibleSize=i,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}return e.prototype.clone=function(){return new e(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)},e.prototype.setVisibleSize=function(e){var t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollSize=function(e){var t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)},e.prototype.setScrollPosition=function(e){var t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)},e._computeValues=function(e,t,n,i,o){var r=Math.max(0,n-e),s=Math.max(0,r-2*t),a=i>0&&i>n;if(!a)return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(s),computedSliderRatio:0,computedSliderPosition:0};var l=Math.round(Math.max(ST,Math.floor(n*s/i))),u=(s-l)/(i-n),c=o*u;return{computedAvailableSize:Math.round(r),computedIsNeeded:a,computedSliderSize:Math.round(l),computedSliderRatio:u,computedSliderPosition:Math.round(c)}},e.prototype._refreshComputedValues=function(){var t=e._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=t.computedAvailableSize,this._computedIsNeeded=t.computedIsNeeded,this._computedSliderSize=t.computedSliderSize,this._computedSliderRatio=t.computedSliderRatio,this._computedSliderPosition=t.computedSliderPosition},e.prototype.getArrowSize=function(){return this._arrowSize},e.prototype.getScrollPosition=function(){return this._scrollPosition},e.prototype.getRectangleLargeSize=function(){return this._computedAvailableSize},e.prototype.getRectangleSmallSize=function(){return this._scrollbarSize},e.prototype.isNeeded=function(){return this._computedIsNeeded},e.prototype.getSliderSize=function(){return this._computedSliderSize},e.prototype.getSliderPosition=function(){return this._computedSliderPosition},e.prototype.getDesiredScrollPositionFromOffset=function(e){if(!this._computedIsNeeded)return 0;var t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)},e.prototype.getDesiredScrollPositionFromDelta=function(e){if(!this._computedIsNeeded)return 0;var t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)},e}(),TT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kT=function(e){function t(t,n,i){var o=this,r=t.getScrollDimensions(),s=t.getCurrentScrollPosition();if(o=e.call(this,{lazyRender:n.lazyRender,host:i,scrollbarState:new ET(n.horizontalHasArrows?n.arrowSize:0,2===n.horizontal?0:n.horizontalScrollbarSize,2===n.vertical?0:n.verticalScrollbarSize,r.width,r.scrollWidth,s.scrollLeft),visibility:n.horizontal,extraScrollbarClassName:"horizontal",scrollable:t})||this,n.horizontalHasArrows){var a=(n.arrowSize-mT)/2,l=(n.horizontalScrollbarSize-mT)/2;o._createArrow({className:"left-arrow",top:l,left:a,bottom:void 0,right:void 0,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new gi(null,1,0))}}),o._createArrow({className:"right-arrow",top:l,left:void 0,bottom:void 0,right:a,bgWidth:n.arrowSize,bgHeight:n.horizontalScrollbarSize,onActivate:function(){return o._host.onMouseWheel(new gi(null,-1,0))}})}return o._createSlider(Math.floor((n.horizontalScrollbarSize-n.horizontalSliderSize)/2),0,void 0,n.horizontalSliderSize),o}return TT(t,e),t.prototype._updateSlider=function(e,t){this.slider.setWidth(e),this.slider.setLeft(t)},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(e),this.domNode.setHeight(t),this.domNode.setLeft(0),this.domNode.setBottom(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return e},t.prototype._sliderMousePosition=function(e){return e.posx},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posy},t.prototype.writeScrollPosition=function(e,t){e.scrollLeft=t},t}(CT),xT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LT=function(e){function t(t,n,i){var o=this,r=t.getScrollDimensions(),s=t.getCurrentScrollPosition();if(o=e.call(this,{lazyRender:n.lazyRender,host:i,scrollbarState:new ET(n.verticalHasArrows?n.arrowSize:0,2===n.vertical?0:n.verticalScrollbarSize,0,r.height,r.scrollHeight,s.scrollTop),visibility:n.vertical,extraScrollbarClassName:"vertical",scrollable:t})||this,n.verticalHasArrows){var a=(n.arrowSize-mT)/2,l=(n.verticalScrollbarSize-mT)/2;o._createArrow({className:"up-arrow",top:a,left:l,bottom:void 0,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return o._host.onMouseWheel(new gi(null,0,1))}}),o._createArrow({className:"down-arrow",top:void 0,left:l,bottom:a,right:void 0,bgWidth:n.verticalScrollbarSize,bgHeight:n.arrowSize,onActivate:function(){return o._host.onMouseWheel(new gi(null,0,-1))}})}return o._createSlider(0,Math.floor((n.verticalScrollbarSize-n.verticalSliderSize)/2),n.verticalSliderSize,void 0),o}return xT(t,e),t.prototype._updateSlider=function(e,t){this.slider.setHeight(e),this.slider.setTop(t)},t.prototype._renderDomNode=function(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)},t.prototype.onDidScroll=function(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender},t.prototype._mouseDownRelativePosition=function(e,t){return t},t.prototype._sliderMousePosition=function(e){return e.posy},t.prototype._sliderOrthogonalMousePosition=function(e){return e.posx},t.prototype.writeScrollPosition=function(e,t){e.scrollTop=t},t}(CT),IT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),OT=function(){function e(e,t,n,i,o,r){e|=0,t|=0,n|=0,i|=0,o|=0,r|=0,e<0&&(e=0),n+e>t&&(n=t-e),n<0&&(n=0),i<0&&(i=0),r+i>o&&(r=o-i),r<0&&(r=0),this.width=e,this.scrollWidth=t,this.scrollLeft=n,this.height=i,this.scrollHeight=o,this.scrollTop=r}return e.prototype.equals=function(e){return this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop},e.prototype.withScrollDimensions=function(t){return new e("undefined"!==typeof t.width?t.width:this.width,"undefined"!==typeof t.scrollWidth?t.scrollWidth:this.scrollWidth,this.scrollLeft,"undefined"!==typeof t.height?t.height:this.height,"undefined"!==typeof t.scrollHeight?t.scrollHeight:this.scrollHeight,this.scrollTop)},e.prototype.withScrollPosition=function(t){return new e(this.width,this.scrollWidth,"undefined"!==typeof t.scrollLeft?t.scrollLeft:this.scrollLeft,this.height,this.scrollHeight,"undefined"!==typeof t.scrollTop?t.scrollTop:this.scrollTop)},e.prototype.createScrollEvent=function(e){var t=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,i=this.scrollLeft!==e.scrollLeft,o=this.height!==e.height,r=this.scrollHeight!==e.scrollHeight,s=this.scrollTop!==e.scrollTop;return{width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:t,scrollWidthChanged:n,scrollLeftChanged:i,heightChanged:o,scrollHeightChanged:r,scrollTopChanged:s}},e}(),DT=function(e){function t(t,n){var i=e.call(this)||this;return i._onScroll=i._register(new Ze),i.onScroll=i._onScroll.event,i._smoothScrollDuration=t,i._scheduleAtNextAnimationFrame=n,i._state=new OT(0,0,0,0,0,0),i._smoothScrolling=null,i}return IT(t,e),t.prototype.dispose=function(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),e.prototype.dispose.call(this)},t.prototype.setSmoothScrollDuration=function(e){this._smoothScrollDuration=e},t.prototype.validateScrollPosition=function(e){return this._state.withScrollPosition(e)},t.prototype.getScrollDimensions=function(){return this._state},t.prototype.setScrollDimensions=function(e){var t=this._state.withScrollDimensions(e);this._setState(t),this._smoothScrolling&&this._smoothScrolling.acceptScrollDimensions(this._state)},t.prototype.getFutureScrollPosition=function(){return this._smoothScrolling?this._smoothScrolling.to:this._state},t.prototype.getCurrentScrollPosition=function(){return this._state},t.prototype.setScrollPositionNow=function(e){var t=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t)},t.prototype.setScrollPositionSmooth=function(e){var t=this;if(0===this._smoothScrollDuration)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:"undefined"===typeof e.scrollLeft?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:"undefined"===typeof e.scrollTop?this._smoothScrolling.to.scrollTop:e.scrollTop};var n=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;var i=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration);this._smoothScrolling.dispose(),this._smoothScrolling=i}else{n=this._state.withScrollPosition(e);this._smoothScrolling=MT.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((function(){t._smoothScrolling&&(t._smoothScrolling.animationFrameDisposable=null,t._performSmoothScrolling())}))},t.prototype._performSmoothScrolling=function(){var e=this;if(this._smoothScrolling){var t=this._smoothScrolling.tick(),n=this._state.withScrollPosition(t);if(this._setState(n),t.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame((function(){e._smoothScrolling&&(e._smoothScrolling.animationFrameDisposable=null,e._performSmoothScrolling())}))}},t.prototype._setState=function(e){var t=this._state;t.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(t)))},t}(Ae),NT=function(){function e(e,t,n){this.scrollLeft=e,this.scrollTop=t,this.isDone=n}return e}();function RT(e,t){var n=t-e;return function(t){return e+n*FT(t)}}function AT(e,t,n){return function(i){return i<n?e(i/n):t((i-n)/(1-n))}}var MT=function(){function e(e,t,n,i){this.from=e,this.to=t,this.duration=i,this._startTime=n,this.animationFrameDisposable=null,this._initAnimations()}return e.prototype._initAnimations=function(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)},e.prototype._initAnimation=function(e,t,n){var i=Math.abs(e-t);if(i>2.5*n){var o=void 0,r=void 0;return e<t?(o=e+.75*n,r=t-.75*n):(o=e-.75*n,r=t+.75*n),AT(RT(e,o),RT(r,t),.33)}return RT(e,t)},e.prototype.dispose=function(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)},e.prototype.acceptScrollDimensions=function(e){this.to=e.withScrollPosition(this.to),this._initAnimations()},e.prototype.tick=function(){return this._tick(Date.now())},e.prototype._tick=function(e){var t=(e-this._startTime)/this.duration;if(t<1){var n=this.scrollLeft(t),i=this.scrollTop(t);return new NT(n,i,!1)}return new NT(this.to.scrollLeft,this.to.scrollTop,!0)},e.prototype.combine=function(t,n,i){return e.start(t,n,i)},e.start=function(t,n,i){i+=10;var o=Date.now()-10;return new e(t,n,o,i)},e}();function PT(e){return Math.pow(e,3)}function FT(e){return 1-PT(1-e)}var BT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VT=500,HT=50,$T=!0,WT=function(){function e(e,t,n){this.timestamp=e,this.deltaX=t,this.deltaY=n,this.score=0}return e}(),UT=function(){function e(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}return e.prototype.isPhysicalMouseWheel=function(){if(-1===this._front&&-1===this._rear)return!1;var e=1,t=0,n=1,i=this._rear;do{var o=i===this._front?e:Math.pow(2,-n);if(e-=o,t+=this._memory[i].score*o,i===this._front)break;i=(this._capacity+i-1)%this._capacity,n++}while(1);return t<=.5},e.prototype.accept=function(e,t,n){var i=new WT(e,t,n);i.score=this._computeScore(i),-1===this._front&&-1===this._rear?(this._memory[0]=i,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=i)},e.prototype._computeScore=function(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;var t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return(Math.abs(e.deltaX-Math.round(e.deltaX))>0||Math.abs(e.deltaY-Math.round(e.deltaY))>0)&&(t+=.25),Math.min(Math.max(t,0),1)},e.INSTANCE=new e,e}(),zT=function(e){function t(t,n,i){var o=e.call(this)||this;o._onScroll=o._register(new Ze),o.onScroll=o._onScroll.event,t.style.overflow="hidden",o._options=qT(n),o._scrollable=i,o._register(o._scrollable.onScroll((function(e){o._onDidScroll(e),o._onScroll.fire(e)})));var r={onMouseWheel:function(e){return o._onMouseWheel(e)},onDragStart:function(){return o._onDragStart()},onDragEnd:function(){return o._onDragEnd()}};return o._verticalScrollbar=o._register(new LT(o._scrollable,o._options,r)),o._horizontalScrollbar=o._register(new kT(o._scrollable,o._options,r)),o._domNode=document.createElement("div"),o._domNode.className="monaco-scrollable-element "+o._options.className,o._domNode.setAttribute("role","presentation"),o._domNode.style.position="relative",o._domNode.style.overflow="hidden",o._domNode.appendChild(t),o._domNode.appendChild(o._horizontalScrollbar.domNode.domNode),o._domNode.appendChild(o._verticalScrollbar.domNode.domNode),o._options.useShadows?(o._leftShadowDomNode=Am(document.createElement("div")),o._leftShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._leftShadowDomNode.domNode),o._topShadowDomNode=Am(document.createElement("div")),o._topShadowDomNode.setClassName("shadow"),o._domNode.appendChild(o._topShadowDomNode.domNode),o._topLeftShadowDomNode=Am(document.createElement("div")),o._topLeftShadowDomNode.setClassName("shadow top-left-corner"),o._domNode.appendChild(o._topLeftShadowDomNode.domNode)):(o._leftShadowDomNode=null,o._topShadowDomNode=null,o._topLeftShadowDomNode=null),o._listenOnDomNode=o._options.listenOnDomNode||o._domNode,o._mouseWheelToDispose=[],o._setListeningToMouseWheel(o._options.handleMouseWheel),o.onmouseover(o._listenOnDomNode,(function(e){return o._onMouseOver(e)})),o.onnonbubblingmouseout(o._listenOnDomNode,(function(e){return o._onMouseOut(e)})),o._hideTimeout=o._register(new Ei),o._isDragging=!1,o._mouseIsOver=!1,o._shouldRender=!0,o._revealOnScroll=!0,o}return BT(t,e),t.prototype.dispose=function(){this._mouseWheelToDispose=Ie(this._mouseWheelToDispose),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getOverviewRulerLayoutInfo=function(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._verticalScrollbar.delegateMouseDown(e)},t.prototype.getScrollDimensions=function(){return this._scrollable.getScrollDimensions()},t.prototype.setScrollDimensions=function(e){this._scrollable.setScrollDimensions(e)},t.prototype.updateClassName=function(e){this._options.className=e,s["e"]&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className},t.prototype.updateOptions=function(e){var t=qT(e);this._options.handleMouseWheel=t.handleMouseWheel,this._options.mouseWheelScrollSensitivity=t.mouseWheelScrollSensitivity,this._options.fastScrollSensitivity=t.fastScrollSensitivity,this._setListeningToMouseWheel(this._options.handleMouseWheel),this._options.lazyRender||this._render()},t.prototype._setListeningToMouseWheel=function(e){var t=this,n=this._mouseWheelToDispose.length>0;if(n!==e&&(this._mouseWheelToDispose=Ie(this._mouseWheelToDispose),e)){var i=function(e){t._onMouseWheel(new gi(e))};this._mouseWheelToDispose.push(bo(this._listenOnDomNode,Wn?"mousewheel":"wheel",i,{passive:!1}))}},t.prototype._onMouseWheel=function(e){var t,n=UT.INSTANCE;if($T&&n.accept(Date.now(),e.deltaX,e.deltaY),e.deltaY||e.deltaX){var i=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.flipAxes&&(t=[o,i],i=t[0],o=t[1]);var r=!s["e"]&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!r||o||(o=i,i=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,i*=this._options.fastScrollSensitivity);var a=this._scrollable.getFutureScrollPosition(),l={};if(i){var u=a.scrollTop-HT*i;this._verticalScrollbar.writeScrollPosition(l,u)}if(o){var c=a.scrollLeft-HT*o;this._horizontalScrollbar.writeScrollPosition(l,c)}if(l=this._scrollable.validateScrollPosition(l),a.scrollLeft!==l.scrollLeft||a.scrollTop!==l.scrollTop){var h=$T&&this._options.mouseWheelSmoothScroll&&n.isPhysicalMouseWheel();h?this._scrollable.setScrollPositionSmooth(l):this._scrollable.setScrollPositionNow(l),this._shouldRender=!0}}(this._options.alwaysConsumeMouseWheel||this._shouldRender)&&(e.preventDefault(),e.stopPropagation())},t.prototype._onDidScroll=function(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()},t.prototype.renderNow=function(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()},t.prototype._render=function(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){var e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,n=e.scrollLeft>0;this._leftShadowDomNode.setClassName("shadow"+(n?" left":"")),this._topShadowDomNode.setClassName("shadow"+(t?" top":"")),this._topLeftShadowDomNode.setClassName("shadow top-left-corner"+(t?" top":"")+(n?" left":""))}},t.prototype._onDragStart=function(){this._isDragging=!0,this._reveal()},t.prototype._onDragEnd=function(){this._isDragging=!1,this._hide()},t.prototype._onMouseOut=function(e){this._mouseIsOver=!1,this._hide()},t.prototype._onMouseOver=function(e){this._mouseIsOver=!0,this._reveal()},t.prototype._reveal=function(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()},t.prototype._hide=function(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())},t.prototype._scheduleHide=function(){var e=this;this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((function(){return e._hide()}),VT)},t}(fT),jT=function(e){function t(t,n){var i=this;n=n||{},n.mouseWheelSmoothScroll=!1;var o=new DT(0,(function(e){return Oo(e)}));return i=e.call(this,t,n,o)||this,i._register(o),i}return BT(t,e),t.prototype.setScrollPosition=function(e){this._scrollable.setScrollPositionNow(e)},t.prototype.getScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},t}(zT),GT=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return BT(t,e),t}(zT),KT=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._element=t,i.onScroll((function(e){e.scrollTopChanged&&(i._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(i._element.scrollLeft=e.scrollLeft)})),i.scanDomNode(),i}return BT(t,e),t.prototype.scanDomNode=function(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})},t}(jT);function qT(e){var t={lazyRender:"undefined"!==typeof e.lazyRender&&e.lazyRender,className:"undefined"!==typeof e.className?e.className:"",useShadows:"undefined"===typeof e.useShadows||e.useShadows,handleMouseWheel:"undefined"===typeof e.handleMouseWheel||e.handleMouseWheel,flipAxes:"undefined"!==typeof e.flipAxes&&e.flipAxes,alwaysConsumeMouseWheel:"undefined"!==typeof e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:"undefined"!==typeof e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:"undefined"!==typeof e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:"undefined"!==typeof e.fastScrollSensitivity?e.fastScrollSensitivity:5,mouseWheelSmoothScroll:"undefined"===typeof e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:"undefined"!==typeof e.arrowSize?e.arrowSize:11,listenOnDomNode:"undefined"!==typeof e.listenOnDomNode?e.listenOnDomNode:null,horizontal:"undefined"!==typeof e.horizontal?e.horizontal:1,horizontalScrollbarSize:"undefined"!==typeof e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:"undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:"undefined"!==typeof e.horizontalHasArrows&&e.horizontalHasArrows,vertical:"undefined"!==typeof e.vertical?e.vertical:1,verticalScrollbarSize:"undefined"!==typeof e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:"undefined"!==typeof e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:"undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:0};return t.horizontalSliderSize="undefined"!==typeof e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize="undefined"!==typeof e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,s["e"]&&(t.className+=" mac"),t}var YT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XT=function(e){function t(t,n,i,o){var r=e.call(this,t)||this,s=r._context.configuration.options,a=s.get(78),l=s.get(56),u=s.get(27),c={listenOnDomNode:i.domNode,className:"editor-scrollable "+__(t.theme.type),useShadows:!1,lazyRender:!0,vertical:a.vertical,horizontal:a.horizontal,verticalHasArrows:a.verticalHasArrows,horizontalHasArrows:a.horizontalHasArrows,verticalScrollbarSize:a.verticalScrollbarSize,verticalSliderSize:a.verticalSliderSize,horizontalScrollbarSize:a.horizontalScrollbarSize,horizontalSliderSize:a.horizontalSliderSize,handleMouseWheel:a.handleMouseWheel,alwaysConsumeMouseWheel:a.alwaysConsumeMouseWheel,arrowSize:a.arrowSize,mouseWheelScrollSensitivity:l,fastScrollSensitivity:u};r.scrollbar=r._register(new GT(n.domNode,c,r._context.viewLayout.getScrollable())),i_.write(r.scrollbar.getDomNode(),5),r.scrollbarDomNode=Am(r.scrollbar.getDomNode()),r.scrollbarDomNode.setPosition("absolute"),r._setLayout();var h=function(e,t,n){var i={};if(t){var o=e.scrollTop;o&&(i.scrollTop=r._context.viewLayout.getCurrentScrollTop()+o,e.scrollTop=0)}if(n){var s=e.scrollLeft;s&&(i.scrollLeft=r._context.viewLayout.getCurrentScrollLeft()+s,e.scrollLeft=0)}r._context.viewLayout.setScrollPositionNow(i)};return r._register(bo(i.domNode,"scroll",(function(e){return h(i.domNode,!0,!0)}))),r._register(bo(n.domNode,"scroll",(function(e){return h(n.domNode,!0,!1)}))),r._register(bo(o.domNode,"scroll",(function(e){return h(o.domNode,!0,!1)}))),r._register(bo(r.scrollbarDomNode.domNode,"scroll",(function(e){return h(r.scrollbarDomNode.domNode,!0,!1)}))),r}return YT(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._setLayout=function(){var e=this._context.configuration.options,t=e.get(107);this.scrollbarDomNode.setLeft(t.contentLeft);var n=e.get(54),i=n.side;"right"===i?this.scrollbarDomNode.setWidth(t.contentWidth+t.minimapWidth):this.scrollbarDomNode.setWidth(t.contentWidth),this.scrollbarDomNode.setHeight(t.height)},t.prototype.getOverviewRulerLayoutInfo=function(){return this.scrollbar.getOverviewRulerLayoutInfo()},t.prototype.getDomNode=function(){return this.scrollbarDomNode},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this.scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.onConfigurationChanged=function(e){if(e.hasChanged(78)||e.hasChanged(56)||e.hasChanged(27)){var t=this._context.configuration.options,n=t.get(78),i=t.get(56),o=t.get(27),r={handleMouseWheel:n.handleMouseWheel,mouseWheelScrollSensitivity:i,fastScrollSensitivity:o};this.scrollbar.updateOptions(r)}return e.hasChanged(107)&&this._setLayout(),!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onThemeChanged=function(e){return this.scrollbar.updateClassName("editor-scrollable "+__(this._context.theme.type)),!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this.scrollbar.renderNow()},t}(n_),ZT=(n("8478"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),JT=function(){function e(e,t,n){this.startLineNumber=+e,this.endLineNumber=+t,this.className=String(n)}return e}(),QT=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ZT(t,e),t.prototype._render=function(e,t,n){for(var i=[],o=e;o<=t;o++){var r=o-e;i[r]=[]}if(0===n.length)return i;n.sort((function(e,t){return e.className===t.className?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.className<t.className?-1:1}));for(var s=null,a=0,l=0,u=n.length;l<u;l++){var c=n[l],h=c.className,d=Math.max(c.startLineNumber,e)-e,p=Math.min(c.endLineNumber,t)-e;s===h?(d=Math.max(a+1,d),a=Math.max(a,p)):(s=h,a=p);for(var f=d;f<=a;f++)i[f].push(s)}return i},t}(Kb),ek=function(e){function t(t){var n=e.call(this)||this;n._context=t;var i=n._context.configuration.options,o=i.get(107);return n._lineHeight=i.get(49),n._glyphMargin=i.get(40),n._glyphMarginLeft=o.glyphMarginLeft,n._glyphMarginWidth=o.glyphMarginWidth,n._renderResult=null,n._context.addEventHandler(n),n}return ZT(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._lineHeight=t.get(49),this._glyphMargin=t.get(40),this._glyphMarginLeft=n.glyphMarginLeft,this._glyphMarginWidth=n.glyphMarginWidth,!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var s=t[o],a=s.options.glyphMarginClassName;a&&(n[i++]=new JT(s.range.startLineNumber,s.range.endLineNumber,a))}return n},t.prototype.prepareRender=function(e){if(this._glyphMargin){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o=this._lineHeight.toString(),r=this._glyphMarginLeft.toString(),s=this._glyphMarginWidth.toString(),a='" style="left:'+r+"px;width:"+s+"px;height:"+o+'px;"></div>',l=[],u=t;u<=n;u++){var c=u-t,h=i[c];0===h.length?l[c]="":l[c]='<div class="cgmr codicon '+h.join(" ")+a}this._renderResult=l}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t}(QT),tk=(n("0baa"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),nk=function(e){function t(t){var n=e.call(this)||this;n._context=t,n._primaryLineNumber=0;var i=n._context.configuration.options,o=i.get(108),r=i.get(34);return n._lineHeight=i.get(49),n._spaceWidth=r.spaceWidth,n._enabled=i.get(70),n._activeIndentEnabled=i.get(43),n._maxIndentLeft=-1===o.wrappingColumn?-1:o.wrappingColumn*r.typicalHalfwidthCharacterWidth,n._renderResult=null,n._context.addEventHandler(n),n}return tk(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(108),i=t.get(34);return this._lineHeight=t.get(49),this._spaceWidth=i.spaceWidth,this._enabled=t.get(70),this._activeIndentEnabled=t.get(43),this._maxIndentLeft=-1===n.wrappingColumn?-1:n.wrappingColumn*i.typicalHalfwidthCharacterWidth,!0},t.prototype.onCursorStateChanged=function(e){var t=e.selections[0],n=t.isEmpty()?t.positionLineNumber:0;return this._primaryLineNumber!==n&&(this._primaryLineNumber=n,!0)},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onLanguageConfigurationChanged=function(e){return!0},t.prototype.prepareRender=function(e){if(this._enabled){var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._context.model.getOptions().indentSize,o=i*this._spaceWidth,r=e.scrollWidth,s=this._lineHeight,a=this._context.model.getLinesIndentGuides(t,n),l=0,u=0,c=0;if(this._activeIndentEnabled&&this._primaryLineNumber){var h=this._context.model.getActiveIndentGuide(this._primaryLineNumber,t,n);l=h.startLineNumber,u=h.endLineNumber,c=h.indent}for(var d=[],p=t;p<=n;p++){var f=l<=p&&p<=u,g=p-t,m=a[g],_="";if(m>=1)for(var v=e.visibleRangeForPosition(new yn(p,1)),y=v?v.left:0,b=1;b<=m;b++){var w=f&&b===c?"cigra":"cigr";if(_+='<div class="'+w+'" style="left:'+y+"px;height:"+s+"px;width:"+o+'px"></div>',y+=o,y>r||this._maxIndentLeft>0&&y>this._maxIndentLeft)break}d[g]=_}this._renderResult=d}else this._renderResult=null},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t}(Kb);w_((function(e,t){var n=e.getColor(mS);n&&t.addRule(".monaco-editor .lines-content .cigr { box-shadow: 1px 0 0 0 "+n+" inset; }");var i=e.getColor(_S)||n;i&&t.addRule(".monaco-editor .lines-content .cigra { box-shadow: 1px 0 0 0 "+i+" inset; }")}));n("38a2");var ik=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ok=function(){function e(){this._currentVisibleRange=new bn(1,1,1,1)}return e.prototype.getCurrentVisibleRange=function(){return this._currentVisibleRange},e.prototype.setCurrentVisibleRange=function(e){this._currentVisibleRange=e},e}(),rk=function(){function e(e,t,n,i,o,r){this.lineNumber=e,this.startColumn=t,this.endColumn=n,this.startScrollTop=i,this.stopScrollTop=o,this.scrollType=r}return e}(),sk=function(e){function t(t,n){var i=e.call(this,t)||this;i._linesContent=n,i._textRangeRestingSpot=document.createElement("div"),i._visibleLines=new YE(i),i.domNode=i._visibleLines.domNode;var o=i._context.configuration,r=i._context.configuration.options,s=r.get(34),a=r.get(108);return i._lineHeight=r.get(49),i._typicalHalfwidthCharacterWidth=s.typicalHalfwidthCharacterWidth,i._isViewportWrapping=a.isViewportWrapping,i._revealHorizontalRightPadding=r.get(75),i._cursorSurroundingLines=r.get(19),i._cursorSurroundingLinesStyle=r.get(20),i._canUseLayerHinting=!r.get(22),i._viewLineOptions=new k_(o,i._context.theme.type),i_.write(i.domNode,7),i.domNode.setClassName("view-lines"),tm.applyFontInfo(i.domNode,s),i._maxLineWidth=0,i._asyncUpdateLineWidths=new ki((function(){i._updateLineWidthsSlow()}),200),i._lastRenderedData=new ok,i._horizontalRevealRequest=null,i}return ik(t,e),t.prototype.dispose=function(){this._asyncUpdateLineWidths.dispose(),e.prototype.dispose.call(this)},t.prototype.getDomNode=function(){return this.domNode},t.prototype.createVisibleLine=function(){return new x_(this._viewLineOptions)},t.prototype.onConfigurationChanged=function(e){this._visibleLines.onConfigurationChanged(e),e.hasChanged(108)&&(this._maxLineWidth=0);var t=this._context.configuration.options,n=t.get(34),i=t.get(108);return this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._isViewportWrapping=i.isViewportWrapping,this._revealHorizontalRightPadding=t.get(75),this._cursorSurroundingLines=t.get(19),this._cursorSurroundingLinesStyle=t.get(20),this._canUseLayerHinting=!t.get(22),tm.applyFontInfo(this.domNode,n),this._onOptionsMaybeChanged(),e.hasChanged(107)&&(this._maxLineWidth=0),!0},t.prototype._onOptionsMaybeChanged=function(){var e=this._context.configuration,t=new k_(e,this._context.theme.type);if(!this._viewLineOptions.equals(t)){this._viewLineOptions=t;for(var n=this._visibleLines.getStartLineNumber(),i=this._visibleLines.getEndLineNumber(),o=n;o<=i;o++){var r=this._visibleLines.getVisibleLine(o);r.onOptionsChanged(this._viewLineOptions)}return!0}return!1},t.prototype.onCursorStateChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=!1,o=t;o<=n;o++)i=this._visibleLines.getVisibleLine(o).onSelectionChanged()||i;return i},t.prototype.onDecorationsChanged=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++)this._visibleLines.getVisibleLine(i).onDecorationsChanged();return!0},t.prototype.onFlushed=function(e){var t=this._visibleLines.onFlushed(e);return this._maxLineWidth=0,t},t.prototype.onLinesChanged=function(e){return this._visibleLines.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._visibleLines.onLinesDeleted(e)},t.prototype.onLinesInserted=function(e){return this._visibleLines.onLinesInserted(e)},t.prototype.onRevealRangeRequest=function(e){var t=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),e.source,e.range,e.verticalType),n=this._context.viewLayout.validateScrollPosition({scrollTop:t});e.revealHorizontal?e.range.startLineNumber!==e.range.endLineNumber?n={scrollTop:n.scrollTop,scrollLeft:0}:this._horizontalRevealRequest=new rk(e.range.startLineNumber,e.range.startColumn,e.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),n.scrollTop,e.scrollType):this._horizontalRevealRequest=null;var i=Math.abs(this._context.viewLayout.getCurrentScrollTop()-n.scrollTop);return 0===e.scrollType&&i>this._lineHeight?this._context.viewLayout.setScrollPositionSmooth(n):this._context.viewLayout.setScrollPositionNow(n),!0},t.prototype.onScrollChanged=function(e){if(this._horizontalRevealRequest&&e.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&e.scrollTopChanged){var t=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),n=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(e.scrollTop<t||e.scrollTop>n)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(e.scrollWidth),this._visibleLines.onScrollChanged(e)||!0},t.prototype.onTokensChanged=function(e){return this._visibleLines.onTokensChanged(e)},t.prototype.onZonesChanged=function(e){return this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth),this._visibleLines.onZonesChanged(e)},t.prototype.onThemeChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.getPositionFromDOMInfo=function(e,t){var n=this._getViewLineDomNode(e);if(null===n)return null;var i=this._getLineNumberFor(n);if(-1===i)return null;if(i<1||i>this._context.model.getLineCount())return null;if(1===this._context.model.getLineMaxColumn(i))return new yn(i,1);var o=this._visibleLines.getStartLineNumber(),r=this._visibleLines.getEndLineNumber();if(i<o||i>r)return null;var s=this._visibleLines.getVisibleLine(i).getColumnOfNodeOffset(i,e,t),a=this._context.model.getLineMinColumn(i);return s<a&&(s=a),new yn(i,s)},t.prototype._getViewLineDomNode=function(e){while(e&&1===e.nodeType){if(e.className===x_.CLASS_NAME)return e;e=e.parentElement}return null},t.prototype._getLineNumberFor=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=t;i<=n;i++){var o=this._visibleLines.getVisibleLine(i);if(e===o.getDomNode())return i}return-1},t.prototype.getLineWidth=function(e){var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber();return e<t||e>n?-1:this._visibleLines.getVisibleLine(e).getWidth()},t.prototype.linesVisibleRangesForRange=function(e,t){if(this.shouldRender())return null;var n=e.endLineNumber,i=bn.intersectRanges(e,this._lastRenderedData.getCurrentVisibleRange());if(!i)return null;var o=[],r=0,s=new T_(this.domNode.domNode,this._textRangeRestingSpot),a=0;t&&(a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new yn(i.startLineNumber,1)).lineNumber);for(var l=this._visibleLines.getStartLineNumber(),u=this._visibleLines.getEndLineNumber(),c=i.startLineNumber;c<=i.endLineNumber;c++)if(!(c<l||c>u)){var h=c===i.startLineNumber?i.startColumn:1,d=c===i.endLineNumber?i.endColumn:this._context.model.getLineMaxColumn(c),p=this._visibleLines.getVisibleLine(c).getVisibleRangesForRange(h,d,s);if(p){if(t&&c<n){var f=a;a=this._context.model.coordinatesConverter.convertViewPositionToModelPosition(new yn(c+1,1)).lineNumber,f!==a&&(p.ranges[p.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}o[r++]=new a_(p.outsideRenderedLine,c,p.ranges)}}return 0===r?null:o},t.prototype._visibleRangesForLineRange=function(e,t,n){return this.shouldRender()||e<this._visibleLines.getStartLineNumber()||e>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(e).getVisibleRangesForRange(t,n,new T_(this.domNode.domNode,this._textRangeRestingSpot))},t.prototype.visibleRangeForPosition=function(e){var t=this._visibleRangesForLineRange(e.lineNumber,e.column,e.column);return t?new u_(t.outsideRenderedLine,t.ranges[0].left):null},t.prototype.updateLineWidths=function(){this._updateLineWidths(!1)},t.prototype._updateLineWidthsFast=function(){return this._updateLineWidths(!0)},t.prototype._updateLineWidthsSlow=function(){this._updateLineWidths(!1)},t.prototype._updateLineWidths=function(e){for(var t=this._visibleLines.getStartLineNumber(),n=this._visibleLines.getEndLineNumber(),i=1,o=!0,r=t;r<=n;r++){var s=this._visibleLines.getVisibleLine(r);!e||s.getWidthIsFast()?i=Math.max(i,s.getWidth()):o=!1}return o&&1===t&&n===this._context.model.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(i),o},t.prototype.prepareRender=function(){throw new Error("Not supported")},t.prototype.render=function(){throw new Error("Not supported")},t.prototype.renderText=function(e){if(this._visibleLines.renderLines(e),this._lastRenderedData.setCurrentVisibleRange(e.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){var t=this._horizontalRevealRequest.lineNumber,n=this._horizontalRevealRequest.startColumn,i=this._horizontalRevealRequest.endColumn,o=this._horizontalRevealRequest.scrollType;if(e.startLineNumber<=t&&t<=e.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();var r=this._computeScrollLeftToRevealRange(t,n,i),s=this._isViewportWrapping;s||this._ensureMaxLineWidth(r.maxHorizontalOffset),0===o?this._context.viewLayout.setScrollPositionSmooth({scrollLeft:r.scrollLeft}):this._context.viewLayout.setScrollPositionNow({scrollLeft:r.scrollLeft})}}this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");var a=this._context.viewLayout.getCurrentScrollTop()-e.bigNumbersDelta;this._linesContent.setTop(-a),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())},t.prototype._ensureMaxLineWidth=function(e){var t=Math.ceil(e);this._maxLineWidth<t&&(this._maxLineWidth=t,this._context.viewLayout.onMaxLineWidthChanged(this._maxLineWidth))},t.prototype._computeScrollTopToRevealRange=function(e,t,n,i){var o,r,s=e.top,a=e.height,l=s+a;o=this._context.viewLayout.getVerticalOffsetForLineNumber(n.startLineNumber),r=this._context.viewLayout.getVerticalOffsetForLineNumber(n.endLineNumber)+this._lineHeight;var u,c="mouse"===t&&"default"===this._cursorSurroundingLinesStyle;if(!c){var h=Math.min(a/this._lineHeight/2,this._cursorSurroundingLines);o-=h*this._lineHeight,r+=Math.max(0,h-1)*this._lineHeight}if(0!==i&&4!==i||(r+=this._lineHeight),r-o>a)u=o;else if(1===i||2===i)if(2===i&&s<=o&&r<=l)u=s;else{var d=(o+r)/2;u=Math.max(0,d-a/2)}else u=this._computeMinimumScrolling(s,l,o,r,3===i,4===i);return u},t.prototype._computeScrollLeftToRevealRange=function(e,n,i){var o=0,r=this._context.viewLayout.getCurrentViewport(),s=r.left,a=s+r.width,l=this._visibleRangesForLineRange(e,n,i),u=1073741824,c=0;if(!l)return{scrollLeft:s,maxHorizontalOffset:o};for(var h=0,d=l.ranges;h<d.length;h++){var p=d[h];p.left<u&&(u=p.left),p.left+p.width>c&&(c=p.left+p.width)}o=c,u=Math.max(0,u-t.HORIZONTAL_EXTRA_PX),c+=this._revealHorizontalRightPadding;var f=this._computeMinimumScrolling(s,a,u,c);return{scrollLeft:f,maxHorizontalOffset:o}},t.prototype._computeMinimumScrolling=function(e,t,n,i,o,r){e|=0,t|=0,n|=0,i|=0,o=!!o,r=!!r;var s=t-e,a=i-n;return a<s?o?n:r?Math.max(0,i-s):n<e?n:i>t?Math.max(0,i-s):e:n},t.HORIZONTAL_EXTRA_PX=30,t}(n_),ak=(n("27e6"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),lk=function(e){function t(t){var n=e.call(this)||this;n._context=t;var i=n._context.configuration.options,o=i.get(107);return n._decorationsLeft=o.decorationsLeft,n._decorationsWidth=o.decorationsWidth,n._renderResult=null,n._context.addEventHandler(n),n}return ak(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._decorationsLeft=n.decorationsLeft,this._decorationsWidth=n.decorationsWidth,!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var s=t[o],a=s.options.linesDecorationsClassName;a&&(n[i++]=new JT(s.range.startLineNumber,s.range.endLineNumber,a))}return n},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o=this._decorationsLeft.toString(),r=this._decorationsWidth.toString(),s='" style="left:'+o+"px;width:"+r+'px;"></div>',a=[],l=t;l<=n;l++){for(var u=l-t,c=i[u],h="",d=0,p=c.length;d<p;d++)h+='<div class="cldr '+c[d]+s;a[u]=h}this._renderResult=a},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(QT),uk=(n("5d70"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),ck=function(e){function t(t){var n=e.call(this)||this;return n._context=t,n._renderResult=null,n._context.addEventHandler(n),n}return uk(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){return!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getDecorations=function(e){for(var t=e.getDecorationsInViewport(),n=[],i=0,o=0,r=t.length;o<r;o++){var s=t[o],a=s.options.marginClassName;a&&(n[i++]=new JT(s.range.startLineNumber,s.range.endLineNumber,a))}return n},t.prototype.prepareRender=function(e){for(var t=e.visibleRange.startLineNumber,n=e.visibleRange.endLineNumber,i=this._render(t,n,this._getDecorations(e)),o=[],r=t;r<=n;r++){for(var s=r-t,a=i[s],l="",u=0,c=a.length;u<c;u++)l+='<div class="cmdr '+a[u]+'" style=""></div>';o[s]=l}this._renderResult=o},t.prototype.render=function(e,t){return this._renderResult?this._renderResult[t-e]:""},t}(QT),hk=(n("f20b"),function(){function e(t,n,i,o){this.r=e._clamp(t),this.g=e._clamp(n),this.b=e._clamp(i),this.a=e._clamp(o)}return e._clamp=function(e){return e<0?0:e>255?255:0|e},e.Empty=new e(0,0,0,0),e}()),dk=function(){function e(){var e=this;this._onDidChange=new Ze,this.onDidChange=this._onDidChange.event,this._updateColorMap(),Zu.onDidChange((function(t){t.changedColorMap&&e._updateColorMap()}))}return e.getInstance=function(){return this._INSTANCE||(this._INSTANCE=new e),this._INSTANCE},e.prototype._updateColorMap=function(){var e=Zu.getColorMap();if(!e)return this._colors=[hk.Empty],void(this._backgroundIsLight=!0);this._colors=[hk.Empty];for(var t=1;t<e.length;t++){var n=e[t].rgba;this._colors[t]=new hk(n.r,n.g,n.b,Math.round(255*n.a))}var i=e[2].getRelativeLuminance();this._backgroundIsLight=i>=.5,this._onDidChange.fire(void 0)},e.prototype.getColor=function(e){return(e<1||e>=this._colors.length)&&(e=2),this._colors[e]},e.prototype.backgroundIsLight=function(){return this._backgroundIsLight},e._INSTANCE=null,e}(),pk=function(){for(var e=[],t=32;t<=126;t++)e.push(t);return e.push(65533),e}(),fk=function(e,t){return e-=32,e<0||e>96?t<=2?(e+96)%96:95:e},gk=function(){function e(t,n){this.scale=n,this.charDataNormal=e.soften(t,.8),this.charDataLight=e.soften(t,50/60)}return e.soften=function(e,t){for(var n=new Uint8ClampedArray(e.length),i=0,o=e.length;i<o;i++)n[i]=e[i]*t;return n},e.prototype.renderChar=function(e,t,n,i,o,r,s,a){var l=1*this.scale,u=2*this.scale;if(t+l>e.width||n+u>e.height)console.warn("bad render request outside image data");else for(var c=a?this.charDataLight:this.charDataNormal,h=fk(i,s),d=4*e.width,p=r.r,f=r.g,g=r.b,m=o.r-p,_=o.g-f,v=o.b-g,y=e.data,b=h*l*u,w=n*d+4*t,C=0;C<u;C++){for(var S=w,E=0;E<l;E++){var T=c[b++]/255;y[S++]=p+m*T,y[S++]=f+_*T,y[S++]=g+v*T,S++}w+=d}},e.prototype.blockRenderChar=function(e,t,n,i,o,r){var s=1*this.scale,a=2*this.scale;if(t+s>e.width||n+a>e.height)console.warn("bad render request outside image data");else for(var l=4*e.width,u=.5,c=o.r,h=o.g,d=o.b,p=i.r-c,f=i.g-h,g=i.b-d,m=c+p*u,_=h+f*u,v=d+g*u,y=e.data,b=n*l+4*t,w=0;w<a;w++){for(var C=b,S=0;S<s;S++)y[C++]=m,y[C++]=_,y[C++]=v,C++;b+=l}},e}(),mk={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},_k=function(e){for(var t=new Uint8ClampedArray(e.length/2),n=0;n<e.length;n+=2)t[n>>1]=mk[e[n]]<<4|15&mk[e[n+1]];return t},vk={1:Se((function(){return _k("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")})),2:Se((function(){return _k("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126")}))},yk=function(){function e(){}return e.create=function(t,n){return this.lastCreated&&t===this.lastCreated.scale&&n===this.lastFontFamily?this.lastCreated:(i=vk[t]?new gk(vk[t](),t):e.createFromSampleData(e.createSampleData(n).data,t),this.lastFontFamily=n,this.lastCreated=i,i);var i},e.createSampleData=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.style.height="16px",t.height=16,t.width=960,t.style.width="960px",n.fillStyle="#ffffff",n.font="bold 16px "+e,n.textBaseline="middle";for(var i=0,o=0,r=pk;o<r.length;o++){var s=r[o];n.fillText(String.fromCharCode(s),i,8),i+=10}return n.getImageData(0,0,960,16)},e.createFromSampleData=function(t,n){var i=61440;if(t.length!==i)throw new Error("Unexpected source in MinimapCharRenderer");var o=e._downsample(t,n);return new gk(o,n)},e._downsampleChar=function(e,t,n,i,o){for(var r=1*o,s=2*o,a=i,l=0,u=0;u<s;u++)for(var c=u/s*16,h=(u+1)/s*16,d=0;d<r;d++){for(var p=d/r*10,f=(d+1)/r*10,g=0,m=0,_=c;_<h;_++)for(var v=t+3840*Math.floor(_),y=1-(_-Math.floor(_)),b=p;b<f;b++){var w=1-(b-Math.floor(b)),C=v+4*Math.floor(b),S=w*y;m+=S,g+=e[C]*e[C+3]/255*S}var E=g/m;l=Math.max(l,E),n[a++]=E}return l},e._downsample=function(e,t){for(var n=2*t*1*t,i=96*n,o=new Uint8ClampedArray(i),r=0,s=0,a=0,l=0;l<96;l++)a=Math.max(a,this._downsampleChar(e,s,o,r,t)),r+=n,s+=40;if(a>0)for(var u=255/a,c=0;c<i;c++)o[c]*=u;return o},e}(),bk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function wk(e,t){return 1===e?2*t:3*t}function Ck(e,t){return 1*t}var Sk=140,Ek=2,Tk=function(){function e(e){var t=this,n=e.options,i=n.get(105),o=n.get(107),r=n.get(34);this.renderMinimap=0|o.renderMinimap,this.scrollBeyondLastLine=n.get(80);var s=n.get(54);this.showSlider=s.showSlider,this.fontScale=Math.round(s.scale*i),this.charRenderer=Se((function(){return yk.create(t.fontScale,r.fontFamily)})),this.pixelRatio=i,this.typicalHalfwidthCharacterWidth=r.typicalHalfwidthCharacterWidth,this.lineHeight=n.get(49),this.minimapLeft=o.minimapLeft,this.minimapWidth=o.minimapWidth,this.minimapHeight=o.height,this.canvasInnerWidth=Math.floor(i*this.minimapWidth),this.canvasInnerHeight=Math.floor(i*this.minimapHeight),this.canvasOuterWidth=this.canvasInnerWidth/i,this.canvasOuterHeight=this.canvasInnerHeight/i}return e.prototype.equals=function(e){return this.renderMinimap===e.renderMinimap&&this.scrollBeyondLastLine===e.scrollBeyondLastLine&&this.showSlider===e.showSlider&&this.pixelRatio===e.pixelRatio&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.lineHeight===e.lineHeight&&this.fontScale===e.fontScale&&this.minimapLeft===e.minimapLeft&&this.minimapWidth===e.minimapWidth&&this.minimapHeight===e.minimapHeight&&this.canvasInnerWidth===e.canvasInnerWidth&&this.canvasInnerHeight===e.canvasInnerHeight&&this.canvasOuterWidth===e.canvasOuterWidth&&this.canvasOuterHeight===e.canvasOuterHeight},e}(),kk=function(){function e(e,t,n,i,o,r,s){this.scrollTop=e,this.scrollHeight=t,this._computedSliderRatio=n,this.sliderTop=i,this.sliderHeight=o,this.startLineNumber=r,this.endLineNumber=s}return e.prototype.getDesiredScrollTopFromDelta=function(e){var t=this.sliderTop+e;return Math.round(t/this._computedSliderRatio)},e.prototype.getDesiredScrollTopFromTouchLocation=function(e){return Math.round((e-this.sliderHeight/2)/this._computedSliderRatio)},e.create=function(t,n,i,o,r,s,a,l,u){var c,h,d=t.pixelRatio,p=wk(t.renderMinimap,t.fontScale),f=Math.floor(t.canvasInnerHeight/p),g=t.lineHeight;if(r&&i!==s){var m=i-n+1;c=Math.floor(m*p/d)}else{var _=o/g;c=Math.floor(_*p/d)}h=t.scrollBeyondLastLine?(s-1)*p/d:Math.max(0,s*p/d-c),h=Math.min(t.minimapHeight-c,h);var v=h/(l-o),y=a*v,b=0;if(t.scrollBeyondLastLine){_=o/g;b=_}if(f>=s+b){var w=1,C=s;return new e(a,l,v,y,c,w,C)}w=Math.max(1,Math.floor(n-y*d/p));u&&u.scrollHeight===l&&(u.scrollTop>a&&(w=Math.min(w,u.startLineNumber)),u.scrollTop<a&&(w=Math.max(w,u.startLineNumber)));C=Math.min(s,w+f-1);return new e(a,l,v,y,c,w,C)},e}(),xk=function(){function e(e){this.dy=e}return e.prototype.onContentChanged=function(){this.dy=-1},e.prototype.onTokensChanged=function(){this.dy=-1},e.INVALID=new e(-1),e}(),Lk=function(){function e(e,t,n){this.renderedLayout=e,this._imageData=t,this._renderedLines=new qE((function(){return xk.INVALID})),this._renderedLines._set(e.startLineNumber,n)}return e.prototype.linesEquals=function(e){if(!this.scrollEquals(e))return!1;for(var t=this._renderedLines._get(),n=t.lines,i=0,o=n.length;i<o;i++)if(-1===n[i].dy)return!1;return!0},e.prototype.scrollEquals=function(e){return this.renderedLayout.startLineNumber===e.startLineNumber&&this.renderedLayout.endLineNumber===e.endLineNumber},e.prototype._get=function(){var e=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:e.rendLineNumberStart,lines:e.lines}},e.prototype.onLinesChanged=function(e){return this._renderedLines.onLinesChanged(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesDeleted=function(e){this._renderedLines.onLinesDeleted(e.fromLineNumber,e.toLineNumber)},e.prototype.onLinesInserted=function(e){this._renderedLines.onLinesInserted(e.fromLineNumber,e.toLineNumber)},e.prototype.onTokensChanged=function(e){return this._renderedLines.onTokensChanged(e.ranges)},e}(),Ik=function(){function e(t,n,i,o){this._backgroundFillData=e._createBackgroundFillData(n,i,o),this._buffers=[t.createImageData(n,i),t.createImageData(n,i)],this._lastUsedBuffer=0}return e.prototype.getBuffer=function(){this._lastUsedBuffer=1-this._lastUsedBuffer;var e=this._buffers[this._lastUsedBuffer];return e.data.set(this._backgroundFillData),e},e._createBackgroundFillData=function(e,t,n){for(var i=n.r,o=n.g,r=n.b,s=new Uint8ClampedArray(e*t*4),a=0,l=0;l<t;l++)for(var u=0;u<e;u++)s[a]=i,s[a+1]=o,s[a+2]=r,s[a+3]=255,a+=4;return s},e}(),Ok=function(e){function t(t){var n=e.call(this,t)||this;return n._selections=[],n._renderDecorations=!1,n._gestureInProgress=!1,n._options=new Tk(n._context.configuration),n._lastRenderData=null,n._buffers=null,n._selectionColor=n._context.theme.getColor(GC),n._domNode=Am(document.createElement("div")),i_.write(n._domNode,8),n._domNode.setClassName(n._getMinimapDomNodeClassName()),n._domNode.setPosition("absolute"),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n._shadow=Am(document.createElement("div")),n._shadow.setClassName("minimap-shadow-hidden"),n._domNode.appendChild(n._shadow),n._canvas=Am(document.createElement("canvas")),n._canvas.setPosition("absolute"),n._canvas.setLeft(0),n._domNode.appendChild(n._canvas),n._decorationsCanvas=Am(document.createElement("canvas")),n._decorationsCanvas.setPosition("absolute"),n._decorationsCanvas.setClassName("minimap-decorations-layer"),n._decorationsCanvas.setLeft(0),n._domNode.appendChild(n._decorationsCanvas),n._slider=Am(document.createElement("div")),n._slider.setPosition("absolute"),n._slider.setClassName("minimap-slider"),n._slider.setLayerHinting(!0),n._slider.setContain("strict"),n._domNode.appendChild(n._slider),n._sliderHorizontal=Am(document.createElement("div")),n._sliderHorizontal.setPosition("absolute"),n._sliderHorizontal.setClassName("minimap-slider-horizontal"),n._slider.appendChild(n._sliderHorizontal),n._tokensColorTracker=dk.getInstance(),n._applyLayout(),n._mouseDownListener=So(n._domNode.domNode,"mousedown",(function(e){e.preventDefault();var t=n._options.renderMinimap;if(0!==t&&n._lastRenderData){var i=wk(t,n._options.fontScale),o=n._options.pixelRatio*e.browserEvent.offsetY,r=Math.floor(o/i),s=r+n._lastRenderData.renderedLayout.startLineNumber;s=Math.min(s,n._context.model.getLineCount()),n._context.privateViewEventBus.emit(new qS("mouse",new bn(s,1,s,1),1,!1,0))}})),n._sliderMouseMoveMonitor=new Um,n._sliderMouseDownListener=So(n._slider.domNode,"mousedown",(function(e){if(e.preventDefault(),e.stopPropagation(),e.leftButton&&n._lastRenderData){var t=e.posy,i=e.posx,o=n._lastRenderData.renderedLayout;n._slider.toggleClassName("active",!0),n._sliderMouseMoveMonitor.startMonitoring(e.target,e.buttons,Wm,(function(e){var r=Math.abs(e.posx-i);if(s["h"]&&r>Sk)n._context.viewLayout.setScrollPositionNow({scrollTop:o.scrollTop});else{var a=e.posy-t;n._context.viewLayout.setScrollPositionNow({scrollTop:o.getDesiredScrollTopFromDelta(a)})}}),(function(){n._slider.toggleClassName("active",!1)}))}})),n._gestureDisposable=$m.addTarget(n._domNode.domNode),n._sliderTouchStartListener=bo(n._domNode.domNode,Bm.Start,(function(e){e.preventDefault(),e.stopPropagation(),n._lastRenderData&&(n._slider.toggleClassName("active",!0),n._gestureInProgress=!0,n.scrollDueToTouchEvent(e))})),n._sliderTouchMoveListener=So(n._domNode.domNode,Bm.Change,(function(e){e.preventDefault(),e.stopPropagation(),n._lastRenderData&&n._gestureInProgress&&n.scrollDueToTouchEvent(e)})),n._sliderTouchEndListener=So(n._domNode.domNode,Bm.End,(function(e){e.preventDefault(),e.stopPropagation(),n._gestureInProgress=!1,n._slider.toggleClassName("active",!1)})),n}return bk(t,e),t.prototype.scrollDueToTouchEvent=function(e){var t=this._domNode.domNode.getBoundingClientRect().top,n=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(e.pageY-t);this._context.viewLayout.setScrollPositionNow({scrollTop:n})},t.prototype.dispose=function(){this._mouseDownListener.dispose(),this._sliderMouseMoveMonitor.dispose(),this._sliderMouseDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),e.prototype.dispose.call(this)},t.prototype._getMinimapDomNodeClassName=function(){return"always"===this._options.showSlider?"minimap slider-always":"minimap slider-mouseover"},t.prototype.getDomNode=function(){return this._domNode},t.prototype._applyLayout=function(){this._domNode.setLeft(this._options.minimapLeft),this._domNode.setWidth(this._options.minimapWidth),this._domNode.setHeight(this._options.minimapHeight),this._shadow.setHeight(this._options.minimapHeight),this._canvas.setWidth(this._options.canvasOuterWidth),this._canvas.setHeight(this._options.canvasOuterHeight),this._canvas.domNode.width=this._options.canvasInnerWidth,this._canvas.domNode.height=this._options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._options.canvasInnerHeight,this._slider.setWidth(this._options.minimapWidth)},t.prototype._getBuffer=function(){return this._buffers||this._options.canvasInnerWidth>0&&this._options.canvasInnerHeight>0&&(this._buffers=new Ik(this._canvas.domNode.getContext("2d"),this._options.canvasInnerWidth,this._options.canvasInnerHeight,this._tokensColorTracker.getColor(2))),this._buffers?this._buffers.getBuffer():null},t.prototype._onOptionsMaybeChanged=function(){var e=new Tk(this._context.configuration);return!this._options.equals(e)&&(this._options=e,this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName()),!0)},t.prototype.onConfigurationChanged=function(e){return this._onOptionsMaybeChanged()},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections,this._renderDecorations=!0,!0},t.prototype.onFlushed=function(e){return this._lastRenderData=null,!0},t.prototype.onLinesChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(e)},t.prototype.onLinesDeleted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesDeleted(e),!0},t.prototype.onLinesInserted=function(e){return this._lastRenderData&&this._lastRenderData.onLinesInserted(e),!0},t.prototype.onScrollChanged=function(e){return this._renderDecorations=!0,!0},t.prototype.onTokensChanged=function(e){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(e)},t.prototype.onTokensColorsChanged=function(e){return this._lastRenderData=null,this._buffers=null,!0},t.prototype.onZonesChanged=function(e){return this._lastRenderData=null,!0},t.prototype.onDecorationsChanged=function(e){return this._renderDecorations=!0,!0},t.prototype.onThemeChanged=function(e){return this._context.model.invalidateMinimapColorCache(),this._selectionColor=this._context.theme.getColor(GC),this._renderDecorations=!0,!0},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){var t=this._options.renderMinimap;if(0===t)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);e.scrollLeft+e.viewportWidth>=e.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");var n=kk.create(this._options,e.visibleRange.startLineNumber,e.visibleRange.endLineNumber,e.viewportHeight,e.viewportData.whitespaceViewportData.length>0,this._context.model.getLineCount(),e.scrollTop,e.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setTop(n.sliderTop),this._slider.setHeight(n.sliderHeight);var i=e.scrollLeft/this._options.typicalHalfwidthCharacterWidth,o=Math.min(this._options.minimapWidth,Math.round(i*Ck(this._options.renderMinimap,this._options.fontScale)/this._options.pixelRatio));this._sliderHorizontal.setLeft(o),this._sliderHorizontal.setWidth(this._options.minimapWidth-o),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(n.sliderHeight),this.renderDecorations(n),this._lastRenderData=this.renderLines(n)},t.prototype.renderDecorations=function(e){if(this._renderDecorations){this._renderDecorations=!1;var t=this._context.model.getDecorationsInViewport(new bn(e.startLineNumber,1,e.endLineNumber,this._context.model.getLineMaxColumn(e.endLineNumber))),n=this._options,i=n.renderMinimap,o=n.canvasInnerWidth,r=n.canvasInnerHeight,s=wk(i,this._options.fontScale),a=Ck(i,this._options.fontScale),l=this._context.model.getOptions().tabSize,u=this._decorationsCanvas.domNode.getContext("2d");u.clearRect(0,0,o,r);for(var c=new Map,h=0;h<this._selections.length;h++)for(var d=this._selections[h],p=d.startLineNumber;p<=d.endLineNumber;p++)this.renderDecorationOnLine(u,c,d,this._selectionColor,e,p,s,s,l,a);for(h=0;h<t.length;h++){var f=t[h];if(f.options.minimap){var g=f.options.minimap.getColor(this._context.theme);for(p=f.range.startLineNumber;p<=f.range.endLineNumber;p++)switch(f.options.minimap.position){case Ol.Inline:this.renderDecorationOnLine(u,c,f.range,g,e,p,s,s,l,a);continue;case Ol.Gutter:var m=(p-e.startLineNumber)*s,_=2;this.renderDecoration(u,g,_,m,Ek,s);continue}}}}},t.prototype.renderDecorationOnLine=function(e,t,n,i,o,r,s,a,l,u){var c=(r-o.startLineNumber)*a;if(!(c+s<0||c>this._options.canvasInnerHeight)){var h=t.get(r),d=!h;if(!h){var p=this._context.model.getLineContent(r);h=[m];for(var f=1;f<p.length+1;f++){var g=p.charCodeAt(f-1),_=9===g?l*u:_s(g)?2*u:u;h[f]=h[f-1]+_}t.set(r,h)}var v=n.startColumn,y=n.endColumn,b=n.startLineNumber,w=n.endLineNumber,C=b===r?h[v-1]:m,S=w>r?h.length-1:y-1;if(S>0){var E=h[S]-C||2;this.renderDecoration(e,i,C,c,E,s)}d&&this.renderLineHighlight(e,i,c,s)}},t.prototype.renderLineHighlight=function(e,t,n,i){e.fillStyle=t&&t.transparent(.5).toString()||"",e.fillRect(m,n,e.canvas.width,i)},t.prototype.renderDecoration=function(e,t,n,i,o,r){e.fillStyle=t&&t.toString()||"",e.fillRect(n,i,o,r)},t.prototype.renderLines=function(e){var n=this._options.renderMinimap,i=this._options.charRenderer(),o=e.startLineNumber,r=e.endLineNumber,s=wk(n,this._options.fontScale);if(this._lastRenderData&&this._lastRenderData.linesEquals(e)){var a=this._lastRenderData._get();return new Lk(e,a.imageData,a.lines)}var l=this._getBuffer();if(!l)return null;for(var u=t._renderUntouchedLines(l,o,r,s,this._lastRenderData),c=u[0],h=u[1],d=u[2],p=this._context.model.getMinimapLinesRenderingData(o,r,d),f=p.tabSize,g=this._tokensColorTracker.getColor(2),m=this._tokensColorTracker.backgroundIsLight(),_=0,v=[],y=0,b=r-o+1;y<b;y++)d[y]&&t._renderLine(l,g,m,n,this._tokensColorTracker,i,_,f,p.data[y],this._options.fontScale),v[y]=new xk(_),_+=s;var w=-1===c?0:c,C=-1===h?l.height:h,S=C-w,E=this._canvas.domNode.getContext("2d");return E.putImageData(l,0,0,0,w,l.width,S),new Lk(e,l,v)},t._renderUntouchedLines=function(e,t,n,i,o){var r=[];if(!o){for(var s=0,a=n-t+1;s<a;s++)r[s]=!0;return[-1,-1,r]}for(var l=o._get(),u=l.imageData.data,c=l.rendLineNumberStart,h=l.lines,d=h.length,p=e.width,f=e.data,g=(n-t+1)*i*p*4,m=-1,_=-1,v=-1,y=-1,b=-1,w=-1,C=0,S=t;S<=n;S++){var E=S-t,T=S-c,k=T>=0&&T<d?h[T].dy:-1;if(-1!==k){var x=k*p*4,L=(k+i)*p*4,I=C*p*4,O=(C+i)*p*4;y===x&&w===I?(y=L,w=O):(-1!==v&&(f.set(u.subarray(v,y),b),-1===m&&0===v&&v===b&&(m=y),-1===_&&y===g&&v===b&&(_=v)),v=x,y=L,b=I,w=O),r[E]=!1,C+=i}else r[E]=!0,C+=i}-1!==v&&(f.set(u.subarray(v,y),b),-1===m&&0===v&&v===b&&(m=y),-1===_&&y===g&&v===b&&(_=v));var D=-1===m?-1:m/(4*p),N=-1===_?-1:_/(4*p);return[D,N,r]},t._renderLine=function(e,t,n,i,o,r,s,a,l,u){for(var c=l.content,h=l.tokens,d=Ck(i,u),p=e.width-d,f=m,g=0,_=0,v=0,y=h.getCount();v<y;v++)for(var b=h.getEndOffset(v),w=h.getForeground(v),C=o.getColor(w);g<b;g++){if(f>p)return;var S=c.charCodeAt(g);if(9===S){var E=a-(g+_)%a;_+=E-1,f+=E*d}else if(32===S)f+=d;else for(var T=_s(S)?2:1,k=0;k<T;k++)if(2===i?r.blockRenderChar(e,f,s,C,t,n):r.renderChar(e,f,s,S,C,t,u,n),f+=d,f>p)return}},t}(n_);w_((function(e,t){var n=e.getColor(xw);if(n){var i=n.transparent(.5);t.addRule(".monaco-editor .minimap-slider, .monaco-editor .minimap-slider .minimap-slider-horizontal { background: "+i+"; }")}var o=e.getColor(Lw);if(o){var r=o.transparent(.5);t.addRule(".monaco-editor .minimap-slider:hover, .monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: "+r+"; }")}var s=e.getColor(Iw);if(s){var a=s.transparent(.5);t.addRule(".monaco-editor .minimap-slider.active, .monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: "+a+"; }")}var l=e.getColor(kw);l&&t.addRule(".monaco-editor .minimap-shadow-visible { box-shadow: "+l+" -6px 0 6px -6px inset; }")}));n("725e");var Dk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Nk=function(e){function t(t){var n=e.call(this,t)||this,i=n._context.configuration.options,o=i.get(107);return n._widgets={},n._verticalScrollbarWidth=o.verticalScrollbarWidth,n._minimapWidth=o.minimapWidth,n._horizontalScrollbarHeight=o.horizontalScrollbarHeight,n._editorHeight=o.height,n._editorWidth=o.width,n._domNode=Am(document.createElement("div")),i_.write(n._domNode,4),n._domNode.setClassName("overlayWidgets"),n}return Dk(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._widgets={}},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._verticalScrollbarWidth=n.verticalScrollbarWidth,this._minimapWidth=n.minimapWidth,this._horizontalScrollbarHeight=n.horizontalScrollbarHeight,this._editorHeight=n.height,this._editorWidth=n.width,!0},t.prototype.addWidget=function(e){var t=Am(e.getDomNode());this._widgets[e.getId()]={widget:e,preference:null,domNode:t},t.setPosition("absolute"),t.setAttribute("widgetId",e.getId()),this._domNode.appendChild(t),this.setShouldRender()},t.prototype.setWidgetPosition=function(e,t){var n=this._widgets[e.getId()];return n.preference!==t&&(n.preference=t,this.setShouldRender(),!0)},t.prototype.removeWidget=function(e){var t=e.getId();if(this._widgets.hasOwnProperty(t)){var n=this._widgets[t],i=n.domNode.domNode;delete this._widgets[t],i.parentNode.removeChild(i),this.setShouldRender()}},t.prototype._renderWidget=function(e){var t=e.domNode;if(null!==e.preference)if(0===e.preference)t.setTop(0),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(1===e.preference){var n=t.domNode.clientHeight;t.setTop(this._editorHeight-n-2*this._horizontalScrollbarHeight),t.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else 2===e.preference&&(t.setTop(0),t.domNode.style.right="50%");else t.unsetTop()},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setWidth(this._editorWidth);for(var t=Object.keys(this._widgets),n=0,i=t.length;n<i;n++){var o=t[n];this._renderWidget(this._widgets[o])}},t}(n_),Rk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ak=function(){function e(e,t){var n=e.options;this.lineHeight=n.get(49),this.pixelRatio=n.get(105),this.overviewRulerLanes=n.get(63),this.renderBorder=n.get(62);var i=t.getColor(TS);this.borderColor=i?i.toString():null,this.hideCursor=n.get(42);var o=t.getColor(pS);this.cursorColor=o?o.transparent(.7).toString():null,this.themeType=t.type;var r=n.get(54),s=r.enabled,a=r.side,l=s?Zu.getDefaultBackground():null;this.backgroundColor=null===l||"left"===a?null:My.Format.CSS.formatHex(l);var u=n.get(107),c=u.overviewRuler;this.top=c.top,this.right=c.right,this.domWidth=c.width,this.domHeight=c.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);var h=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes),d=h[0],p=h[1];this.x=d,this.w=p}return e.prototype._initLanes=function(e,t,n){var i=t-e;if(n>=3){var o=Math.floor(i/3),r=Math.floor(i/3),s=i-o-r,a=e,l=a+o,u=a+o+s;return[[0,a,l,a,u,a,l,a],[0,o,s,o+s,r,o+s+r,s+r,o+s+r]]}if(2===n){o=Math.floor(i/2),r=i-o,a=e,u=a+o;return[[0,a,a,a,u,a,a,a],[0,o,o,o,r,o+r,o+r,o+r]]}var c=e,h=i;return[[0,c,c,c,c,c,c,c],[0,h,h,h,h,h,h,h]]},e.prototype.equals=function(e){return this.lineHeight===e.lineHeight&&this.pixelRatio===e.pixelRatio&&this.overviewRulerLanes===e.overviewRulerLanes&&this.renderBorder===e.renderBorder&&this.borderColor===e.borderColor&&this.hideCursor===e.hideCursor&&this.cursorColor===e.cursorColor&&this.themeType===e.themeType&&this.backgroundColor===e.backgroundColor&&this.top===e.top&&this.right===e.right&&this.domWidth===e.domWidth&&this.domHeight===e.domHeight&&this.canvasWidth===e.canvasWidth&&this.canvasHeight===e.canvasHeight},e}(),Mk=function(e){function t(t){var n=e.call(this,t)||this;return n._domNode=Am(document.createElement("canvas")),n._domNode.setClassName("decorationsOverviewRuler"),n._domNode.setPosition("absolute"),n._domNode.setLayerHinting(!0),n._domNode.setContain("strict"),n._domNode.setAttribute("aria-hidden","true"),n._updateSettings(!1),n._tokensColorTrackerListener=Zu.onDidChange((function(e){e.changedColorMap&&n._updateSettings(!0)})),n._cursorPositions=[],n}return Rk(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._tokensColorTrackerListener.dispose()},t.prototype._updateSettings=function(e){var t=new Ak(this._context.configuration,this._context.theme);return(!this._settings||!this._settings.equals(t))&&(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,e&&this._render(),!0)},t.prototype.onConfigurationChanged=function(e){return this._updateSettings(!1)},t.prototype.onCursorStateChanged=function(e){this._cursorPositions=[];for(var t=0,n=e.selections.length;t<n;t++)this._cursorPositions[t]=e.selections[t].getPosition();return this._cursorPositions.sort(yn.compare),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onThemeChanged=function(e){return this._context.model.invalidateOverviewRulerColorCache(),this._updateSettings(!1)},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._render()},t.prototype._render=function(){if(0!==this._settings.overviewRulerLanes){var e=this._settings.canvasWidth,t=this._settings.canvasHeight,n=this._settings.lineHeight,i=this._context.viewLayout,o=this._context.viewLayout.getScrollHeight(),r=t/o,s=this._context.model.getAllOverviewRulerDecorations(this._context.theme),a=6*this._settings.pixelRatio|0,l=a/2|0,u=this._domNode.domNode.getContext("2d");null===this._settings.backgroundColor?u.clearRect(0,0,e,t):(u.fillStyle=this._settings.backgroundColor,u.fillRect(0,0,e,t));var c=this._settings.x,h=this._settings.w,d=Object.keys(s);d.sort();for(var p=0,f=d.length;p<f;p++){var g=d[p],m=s[g];u.fillStyle=g;for(var _=0,v=0,y=0,b=0,w=m.length;b<w;b++){var C=m[3*b],S=m[3*b+1],E=m[3*b+2],T=i.getVerticalOffsetForLineNumber(S)*r|0,k=(i.getVerticalOffsetForLineNumber(E)+n)*r|0,x=k-T;if(x<a){var L=(T+k)/2|0;L<l?L=l:L+l>t&&(L=t-l),T=L-l,k=L+l}T>y+1||C!==_?(0!==b&&u.fillRect(c[_],v,h[_],y-v),_=C,v=T,y=k):k>y&&(y=k)}u.fillRect(c[_],v,h[_],y-v)}if(!this._settings.hideCursor&&this._settings.cursorColor){var I=2*this._settings.pixelRatio|0,O=I/2|0,D=this._settings.x[7],N=this._settings.w[7];u.fillStyle=this._settings.cursorColor;for(v=-100,y=-100,b=0,w=this._cursorPositions.length;b<w;b++){var R=this._cursorPositions[b];L=i.getVerticalOffsetForLineNumber(R.lineNumber)*r|0;L<O?L=O:L+O>t&&(L=t-O);T=L-O,k=T+I;T>y+1?(0!==b&&u.fillRect(D,v,N,y-v),v=T,y=k):k>y&&(y=k)}u.fillRect(D,v,N,y-v)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(u.beginPath(),u.lineWidth=1,u.strokeStyle=this._settings.borderColor,u.moveTo(0,0),u.lineTo(0,t),u.stroke(),u.moveTo(0,0),u.lineTo(e,0),u.stroke())}else this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:"")},t}(n_),Pk=function(){function e(e,t,n){this.from=0|e,this.to=0|t,this.colorId=0|n}return e.compare=function(e,t){return e.colorId===t.colorId?e.from===t.from?e.to-t.to:e.from-t.from:e.colorId-t.colorId},e}(),Fk=function(){function e(e,t,n){this.startLineNumber=e,this.endLineNumber=t,this.color=n,this._colorZone=null}return e.compare=function(e,t){return e.color===t.color?e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber:e.color<t.color?-1:1},e.prototype.setColorZone=function(e){this._colorZone=e},e.prototype.getColorZones=function(){return this._colorZone},e}(),Bk=function(){function e(e){this._getVerticalOffsetForLine=e,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}return e.prototype.getId2Color=function(){return this._id2Color},e.prototype.setZones=function(e){this._zones=e,this._zones.sort(Fk.compare)},e.prototype.setLineHeight=function(e){return this._lineHeight!==e&&(this._lineHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.setPixelRatio=function(e){this._pixelRatio=e,this._colorZonesInvalid=!0},e.prototype.getDOMWidth=function(){return this._domWidth},e.prototype.getCanvasWidth=function(){return this._domWidth*this._pixelRatio},e.prototype.setDOMWidth=function(e){return this._domWidth!==e&&(this._domWidth=e,this._colorZonesInvalid=!0,!0)},e.prototype.getDOMHeight=function(){return this._domHeight},e.prototype.getCanvasHeight=function(){return this._domHeight*this._pixelRatio},e.prototype.setDOMHeight=function(e){return this._domHeight!==e&&(this._domHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.getOuterHeight=function(){return this._outerHeight},e.prototype.setOuterHeight=function(e){return this._outerHeight!==e&&(this._outerHeight=e,this._colorZonesInvalid=!0,!0)},e.prototype.resolveColorZones=function(){for(var e=this._colorZonesInvalid,t=Math.floor(this._lineHeight),n=Math.floor(this.getCanvasHeight()),i=Math.floor(this._outerHeight),o=n/i,r=Math.floor(4*this._pixelRatio/2),s=[],a=0,l=this._zones.length;a<l;a++){var u=this._zones[a];if(!e){var c=u.getColorZones();if(c){s.push(c);continue}}var h=Math.floor(o*this._getVerticalOffsetForLine(u.startLineNumber)),d=Math.floor(o*(this._getVerticalOffsetForLine(u.endLineNumber)+t)),p=Math.floor((h+d)/2),f=d-p;f<r&&(f=r),p-f<0&&(p=f),p+f>n&&(p=n-f);var g=u.color,m=this._color2Id[g];m||(m=++this._lastAssignedId,this._color2Id[g]=m,this._id2Color[m]=g);var _=new Pk(p-f,p+f,m);u.setColorZone(_),s.push(_)}return this._colorZonesInvalid=!1,s.sort(Pk.compare),s},e}(),Vk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hk=function(e){function t(t,n){var i=e.call(this)||this;i._context=t;var o=i._context.configuration.options;return i._domNode=Am(document.createElement("canvas")),i._domNode.setClassName(n),i._domNode.setPosition("absolute"),i._domNode.setLayerHinting(!0),i._domNode.setContain("strict"),i._zoneManager=new Bk((function(e){return i._context.viewLayout.getVerticalOffsetForLineNumber(e)})),i._zoneManager.setDOMWidth(0),i._zoneManager.setDOMHeight(0),i._zoneManager.setOuterHeight(i._context.viewLayout.getScrollHeight()),i._zoneManager.setLineHeight(o.get(49)),i._zoneManager.setPixelRatio(o.get(105)),i._context.addEventHandler(i),i}return Vk(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return e.hasChanged(49)&&(this._zoneManager.setLineHeight(t.get(49)),this._render()),e.hasChanged(105)&&(this._zoneManager.setPixelRatio(t.get(105)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0},t.prototype.onFlushed=function(e){return this._render(),!0},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged&&(this._zoneManager.setOuterHeight(e.scrollHeight),this._render()),!0},t.prototype.onZonesChanged=function(e){return this._render(),!0},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.setLayout=function(e){this._domNode.setTop(e.top),this._domNode.setRight(e.right);var t=!1;t=this._zoneManager.setDOMWidth(e.width)||t,t=this._zoneManager.setDOMHeight(e.height)||t,t&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())},t.prototype.setZones=function(e){this._zoneManager.setZones(e),this._render()},t.prototype._render=function(){if(0===this._zoneManager.getOuterHeight())return!1;var e=this._zoneManager.getCanvasWidth(),t=this._zoneManager.getCanvasHeight(),n=this._zoneManager.resolveColorZones(),i=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,e,t),n.length>0&&this._renderOneLane(o,n,i,e),!0},t.prototype._renderOneLane=function(e,t,n,i){for(var o=0,r=0,s=0,a=0,l=t;a<l.length;a++){var u=l[a],c=u.colorId,h=u.from,d=u.to;c!==o?(e.fillRect(0,r,i,s-r),o=c,e.fillStyle=n[o],r=h,s=d):s>=h?s=Math.max(s,d):(e.fillRect(0,r,i,s-r),r=h,s=d)}e.fillRect(0,r,i,s-r)},t}(e_),$k=(n("ef37"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),Wk=function(e){function t(t){var n=e.call(this,t)||this;n.domNode=Am(document.createElement("div")),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.domNode.setClassName("view-rulers"),n._renderedRulers=[];var i=n._context.configuration.options;return n._rulers=i.get(77),n._typicalHalfwidthCharacterWidth=i.get(34).typicalHalfwidthCharacterWidth,n}return $k(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._rulers=t.get(77),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},t.prototype.onScrollChanged=function(e){return e.scrollHeightChanged},t.prototype.prepareRender=function(e){},t.prototype._ensureRulersCount=function(){var e=this._renderedRulers.length,t=this._rulers.length;if(e!==t)if(e<t){var n=this._context.model.getOptions().tabSize,i=n,o=t-e;while(o>0){var r=Am(document.createElement("div"));r.setClassName("view-ruler"),r.setWidth(i),this.domNode.appendChild(r),this._renderedRulers.push(r),o--}}else{var s=e-t;while(s>0){r=this._renderedRulers.pop();this.domNode.removeChild(r),s--}}},t.prototype.render=function(e){this._ensureRulersCount();for(var t=0,n=this._rulers.length;t<n;t++){var i=this._renderedRulers[t];i.setHeight(Math.min(e.scrollHeight,1e6)),i.setLeft(this._rulers[t]*this._typicalHalfwidthCharacterWidth)}},t}(n_);w_((function(e,t){var n=e.getColor(wS);n&&t.addRule(".monaco-editor .view-ruler { box-shadow: 1px 0 0 0 "+n+" inset; }")}));n("d8c3");var Uk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zk=function(e){function t(t){var n=e.call(this,t)||this;n._scrollTop=0,n._width=0,n._updateWidth(),n._shouldShow=!1;var i=n._context.configuration.options,o=i.get(78);return n._useShadows=o.useShadows,n._domNode=Am(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n}return Uk(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype._updateShouldShow=function(){var e=this._useShadows&&this._scrollTop>0;return this._shouldShow!==e&&(this._shouldShow=e,!0)},t.prototype.getDomNode=function(){return this._domNode},t.prototype._updateWidth=function(){var e=this._context.configuration.options,t=e.get(107);0===t.renderMinimap||t.minimapWidth>0&&0===t.minimapLeft?this._width=t.width:this._width=t.width-t.minimapWidth-t.verticalScrollbarWidth},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(78);return this._useShadows=n.useShadows,this._updateWidth(),this._updateShouldShow(),!0},t.prototype.onScrollChanged=function(e){return this._scrollTop=e.scrollTop,this._updateShouldShow()},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")},t}(n_);w_((function(e,t){var n=e.getColor(kw);n&&t.addRule(".monaco-editor .scroll-decoration { box-shadow: "+n+" 0 6px 6px -6px inset; }")}));n("782d");var jk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Gk=function(){function e(e){this.left=e.left,this.width=e.width,this.startStyle=null,this.endStyle=null}return e}(),Kk=function(){function e(e,t){this.lineNumber=e,this.ranges=t}return e}();function qk(e){return new Gk(e)}function Yk(e){return new Kk(e.lineNumber,e.ranges.map(qk))}var Xk=Wn,Zk=function(e){function t(t){var n=e.call(this)||this;n._previousFrameVisibleRangesWithStyle=[],n._context=t;var i=n._context.configuration.options;return n._lineHeight=i.get(49),n._roundedSelection=i.get(76),n._typicalHalfwidthCharacterWidth=i.get(34).typicalHalfwidthCharacterWidth,n._selections=[],n._renderResult=null,n._context.addEventHandler(n),n}return jk(t,e),t.prototype.dispose=function(){this._context.removeEventHandler(this),this._renderResult=null,e.prototype.dispose.call(this)},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;return this._lineHeight=t.get(49),this._roundedSelection=t.get(76),this._typicalHalfwidthCharacterWidth=t.get(34).typicalHalfwidthCharacterWidth,!0},t.prototype.onCursorStateChanged=function(e){return this._selections=e.selections.slice(0),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype._visibleRangesHaveGaps=function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.ranges.length>1)return!0}return!1},t.prototype._enrichVisibleRangesWithStyle=function(e,t,n){var i=this._typicalHalfwidthCharacterWidth/4,o=null,r=null;if(n&&n.length>0&&t.length>0){var s=t[0].lineNumber;if(s===e.startLineNumber)for(var a=0;!o&&a<n.length;a++)n[a].lineNumber===s&&(o=n[a].ranges[0]);var l=t[t.length-1].lineNumber;if(l===e.endLineNumber)for(a=n.length-1;!r&&a>=0;a--)n[a].lineNumber===l&&(r=n[a].ranges[0]);o&&!o.startStyle&&(o=null),r&&!r.startStyle&&(r=null)}a=0;for(var u=t.length;a<u;a++){var c=t[a].ranges[0],h=c.left,d=c.left+c.width,p={top:0,bottom:0},f={top:0,bottom:0};if(a>0){var g=t[a-1].ranges[0].left,m=t[a-1].ranges[0].left+t[a-1].ranges[0].width;Jk(h-g)<i?p.top=2:h>g&&(p.top=1),Jk(d-m)<i?f.top=2:g<d&&d<m&&(f.top=1)}else o&&(p.top=o.startStyle.top,f.top=o.endStyle.top);if(a+1<u){var _=t[a+1].ranges[0].left,v=t[a+1].ranges[0].left+t[a+1].ranges[0].width;Jk(h-_)<i?p.bottom=2:_<h&&h<v&&(p.bottom=1),Jk(d-v)<i?f.bottom=2:d<v&&(f.bottom=1)}else r&&(p.bottom=r.startStyle.bottom,f.bottom=r.endStyle.bottom);c.startStyle=p,c.endStyle=f}},t.prototype._getVisibleRangesWithStyle=function(e,t,n){var i=t.linesVisibleRangesForRange(e,!0)||[],o=i.map(Yk),r=this._visibleRangesHaveGaps(o);return Xk||r||!this._roundedSelection||this._enrichVisibleRangesWithStyle(t.visibleRange,o,n),o},t.prototype._createSelectionPiece=function(e,t,n,i,o){return'<div class="cslr '+n+'" style="top:'+e.toString()+"px;left:"+i.toString()+"px;width:"+o.toString()+"px;height:"+t+'px;"></div>'},t.prototype._actualRenderOneSelection=function(e,n,i,o){if(0!==o.length)for(var r=!!o[0].ranges[0].startStyle,s=this._lineHeight.toString(),a=(this._lineHeight-1).toString(),l=o[0].lineNumber,u=o[o.length-1].lineNumber,c=0,h=o.length;c<h;c++){for(var d=o[c],p=d.lineNumber,f=p-n,g=i&&(p===u||p===l)?a:s,m=i&&p===l?1:0,_="",v="",y=0,b=d.ranges.length;y<b;y++){var w=d.ranges[y];if(r){var C=w.startStyle,S=w.endStyle;if(1===C.top||1===C.bottom){_+=this._createSelectionPiece(m,g,t.SELECTION_CLASS_NAME,w.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH);var E=t.EDITOR_BACKGROUND_CLASS_NAME;1===C.top&&(E+=" "+t.SELECTION_TOP_RIGHT),1===C.bottom&&(E+=" "+t.SELECTION_BOTTOM_RIGHT),_+=this._createSelectionPiece(m,g,E,w.left-t.ROUNDED_PIECE_WIDTH,t.ROUNDED_PIECE_WIDTH)}if(1===S.top||1===S.bottom){_+=this._createSelectionPiece(m,g,t.SELECTION_CLASS_NAME,w.left+w.width,t.ROUNDED_PIECE_WIDTH);var T=t.EDITOR_BACKGROUND_CLASS_NAME;1===S.top&&(T+=" "+t.SELECTION_TOP_LEFT),1===S.bottom&&(T+=" "+t.SELECTION_BOTTOM_LEFT),_+=this._createSelectionPiece(m,g,T,w.left+w.width,t.ROUNDED_PIECE_WIDTH)}}var k=t.SELECTION_CLASS_NAME;if(r){C=w.startStyle,S=w.endStyle;0===C.top&&(k+=" "+t.SELECTION_TOP_LEFT),0===C.bottom&&(k+=" "+t.SELECTION_BOTTOM_LEFT),0===S.top&&(k+=" "+t.SELECTION_TOP_RIGHT),0===S.bottom&&(k+=" "+t.SELECTION_BOTTOM_RIGHT)}v+=this._createSelectionPiece(m,g,k,w.left,w.width)}e[f][0]+=_,e[f][1]+=v}},t.prototype.prepareRender=function(e){for(var t=[],n=e.visibleRange.startLineNumber,i=e.visibleRange.endLineNumber,o=n;o<=i;o++){var r=o-n;t[r]=["",""]}for(var s=[],a=0,l=this._selections.length;a<l;a++){var u=this._selections[a];if(u.isEmpty())s[a]=null;else{var c=this._getVisibleRangesWithStyle(u,e,this._previousFrameVisibleRangesWithStyle[a]);s[a]=c,this._actualRenderOneSelection(t,n,this._selections.length>1,c)}}this._previousFrameVisibleRangesWithStyle=s,this._renderResult=t.map((function(e){var t=e[0],n=e[1];return t+n}))},t.prototype.render=function(e,t){if(!this._renderResult)return"";var n=t-e;return n<0||n>=this._renderResult.length?"":this._renderResult[n]},t.SELECTION_CLASS_NAME="selected-text",t.SELECTION_TOP_LEFT="top-left-radius",t.SELECTION_BOTTOM_LEFT="bottom-left-radius",t.SELECTION_TOP_RIGHT="top-right-radius",t.SELECTION_BOTTOM_RIGHT="bottom-right-radius",t.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",t.ROUNDED_PIECE_WIDTH=10,t}(Kb);function Jk(e){return e<0?-e:e}w_((function(e,t){var n=e.getColor(jw);n&&t.addRule(".monaco-editor .focused .selected-text { background-color: "+n+"; }");var i=e.getColor(Kw);i&&t.addRule(".monaco-editor .selected-text { background-color: "+i+"; }");var o=e.getColor(Gw);o&&t.addRule(".monaco-editor .view-line span.inline-selected-text { color: "+o+"; }")}));n("d93b");var Qk=function(){function e(e,t,n,i,o,r){this.top=e,this.left=t,this.width=n,this.height=i,this.textContent=o,this.textContentClassName=r}return e}(),ex=function(){function e(e){this._context=e;var t=this._context.configuration.options,n=t.get(34);this._cursorStyle=t.get(18),this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(21),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=Am(document.createElement("div")),this._domNode.setClassName("cursor"),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),tm.applyFontInfo(this._domNode,n),this._domNode.setDisplay("none"),this._position=new yn(1,1),this._lastRenderedContent="",this._renderData=null}return e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return this._position},e.prototype.show=function(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)},e.prototype.hide=function(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)},e.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(34);return this._cursorStyle=t.get(18),this._lineHeight=t.get(49),this._typicalHalfwidthCharacterWidth=n.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(t.get(21),this._typicalHalfwidthCharacterWidth),tm.applyFontInfo(this._domNode,n),!0},e.prototype.onCursorPositionChanged=function(e){return this._position=e,!0},e.prototype._prepareRender=function(e){var t="";if(this._cursorStyle===I.Line||this._cursorStyle===I.LineThin){var n,i=e.visibleRangeForPosition(this._position);if(!i||i.outsideRenderedLine)return null;if(this._cursorStyle===I.Line){if(n=Sr(this._lineCursorWidth>0?this._lineCursorWidth:2),n>2){var o=this._context.model.getLineContent(this._position.lineNumber),r=ls(o,this._position.column-1);t=o.substr(this._position.column-1,r)}}else n=Sr(1);var s=i.left;n>=2&&s>=1&&(s-=1);var a=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta;return new Qk(a,s,n,this._lineHeight,t,"")}var l=this._context.model.getLineContent(this._position.lineNumber),u=ls(l,this._position.column-1),c=e.linesVisibleRangesForRange(new bn(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column+u),!1);if(!c||0===c.length)return null;var h=c[0];if(h.outsideRenderedLine||0===h.ranges.length)return null;var d=h.ranges[0],p=d.width<1?this._typicalHalfwidthCharacterWidth:d.width,f="";if(this._cursorStyle===I.Block){var g=this._context.model.getViewLineData(this._position.lineNumber);t=l.substr(this._position.column-1,u);var m=g.tokens.findTokenIndexAtOffset(this._position.column-1);f=g.tokens.getClassName(m)}var _=e.getVerticalOffsetForLineNumber(this._position.lineNumber)-e.bigNumbersDelta,v=this._lineHeight;return this._cursorStyle!==I.Underline&&this._cursorStyle!==I.UnderlineThin||(_+=this._lineHeight-2,v=2),new Qk(_,d.left,p,v,t,f)},e.prototype.prepareRender=function(e){this._renderData=this._prepareRender(e)},e.prototype.render=function(e){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName("cursor "+this._renderData.textContentClassName),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)},e}(),tx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nx=function(e){function t(t){var n=e.call(this,t)||this,i=n._context.configuration.options;return n._readOnly=i.get(68),n._cursorBlinking=i.get(16),n._cursorStyle=i.get(18),n._cursorSmoothCaretAnimation=i.get(17),n._selectionIsEmpty=!0,n._isVisible=!1,n._primaryCursor=new ex(n._context),n._secondaryCursors=[],n._renderData=[],n._domNode=Am(document.createElement("div")),n._domNode.setAttribute("role","presentation"),n._domNode.setAttribute("aria-hidden","true"),n._updateDomClassName(),n._domNode.appendChild(n._primaryCursor.getDomNode()),n._startCursorBlinkAnimation=new Ei,n._cursorFlatBlinkInterval=new Ti,n._blinkingEnabled=!1,n._editorHasFocus=!1,n._updateBlinking(),n}return tx(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()},t.prototype.getDomNode=function(){return this._domNode},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options;this._readOnly=t.get(68),this._cursorBlinking=t.get(16),this._cursorStyle=t.get(18),this._cursorSmoothCaretAnimation=t.get(17),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(e);for(var n=0,i=this._secondaryCursors.length;n<i;n++)this._secondaryCursors[n].onConfigurationChanged(e);return!0},t.prototype._onCursorPositionChanged=function(e,t){if(this._primaryCursor.onCursorPositionChanged(e),this._updateBlinking(),this._secondaryCursors.length<t.length)for(var n=t.length-this._secondaryCursors.length,i=0;i<n;i++){var o=new ex(this._context);this._domNode.domNode.insertBefore(o.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(o)}else if(this._secondaryCursors.length>t.length){var r=this._secondaryCursors.length-t.length;for(i=0;i<r;i++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(i=0;i<t.length;i++)this._secondaryCursors[i].onCursorPositionChanged(t[i])},t.prototype.onCursorStateChanged=function(e){for(var t=[],n=0,i=e.selections.length;n<i;n++)t[n]=e.selections[n].getPosition();this._onCursorPositionChanged(t[0],t.slice(1));var o=e.selections[0].isEmpty();return this._selectionIsEmpty!==o&&(this._selectionIsEmpty=o,this._updateDomClassName()),!0},t.prototype.onDecorationsChanged=function(e){return!0},t.prototype.onFlushed=function(e){return!0},t.prototype.onFocusChanged=function(e){return this._editorHasFocus=e.isFocused,this._updateBlinking(),!1},t.prototype.onLinesChanged=function(e){return!0},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype.onScrollChanged=function(e){return!0},t.prototype.onTokensChanged=function(e){var t=function(t){for(var n=0,i=e.ranges.length;n<i;n++)if(e.ranges[n].fromLineNumber<=t.lineNumber&&t.lineNumber<=e.ranges[n].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(var n=0,i=this._secondaryCursors;n<i.length;n++){var o=i[n];if(t(o.getPosition()))return!0}return!1},t.prototype.onZonesChanged=function(e){return!0},t.prototype._getCursorBlinking=function(){return this._editorHasFocus?this._readOnly?5:this._cursorBlinking:0},t.prototype._updateBlinking=function(){var e=this;this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();var n=this._getCursorBlinking(),i=0===n,o=5===n;i?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),i||o||(1===n?this._cursorFlatBlinkInterval.cancelAndSet((function(){e._isVisible?e._hide():e._show()}),t.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet((function(){e._blinkingEnabled=!0,e._updateDomClassName()}),t.BLINK_INTERVAL))},t.prototype._updateDomClassName=function(){this._domNode.setClassName(this._getClassName())},t.prototype._getClassName=function(){var e="cursors-layer";switch(this._selectionIsEmpty||(e+=" has-selection"),this._cursorStyle){case I.Line:e+=" cursor-line-style";break;case I.Block:e+=" cursor-block-style";break;case I.Underline:e+=" cursor-underline-style";break;case I.LineThin:e+=" cursor-line-thin-style";break;case I.BlockOutline:e+=" cursor-block-outline-style";break;case I.UnderlineThin:e+=" cursor-underline-thin-style";break;default:e+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:e+=" cursor-blink";break;case 2:e+=" cursor-smooth";break;case 3:e+=" cursor-phase";break;case 4:e+=" cursor-expand";break;case 5:e+=" cursor-solid";break;default:e+=" cursor-solid"}else e+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(e+=" cursor-smooth-caret-animation"),e},t.prototype._show=function(){this._primaryCursor.show();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].show();this._isVisible=!0},t.prototype._hide=function(){this._primaryCursor.hide();for(var e=0,t=this._secondaryCursors.length;e<t;e++)this._secondaryCursors[e].hide();this._isVisible=!1},t.prototype.prepareRender=function(e){this._primaryCursor.prepareRender(e);for(var t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(e)},t.prototype.render=function(e){var t=[],n=0,i=this._primaryCursor.render(e);i&&(t[n++]=i);for(var o=0,r=this._secondaryCursors.length;o<r;o++){var s=this._secondaryCursors[o].render(e);s&&(t[n++]=s)}this._renderData=t},t.prototype.getLastRenderData=function(){return this._renderData},t.BLINK_INTERVAL=500,t}(n_);w_((function(e,t){var n=e.getColor(pS);if(n){var i=e.getColor(fS);i||(i=n.opposite()),t.addRule(".monaco-editor .cursor { background-color: "+n+"; border-color: "+n+"; color: "+i+"; }"),"hc"===e.type&&t.addRule(".monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid "+i+"; border-right: 1px solid "+i+"; }")}}));var ix=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ox=function(){throw new Error("Invalid change accessor")},rx=function(e){function t(t){var n=e.call(this,t)||this,i=n._context.configuration.options,o=i.get(107);return n._lineHeight=i.get(49),n._contentWidth=o.contentWidth,n._contentLeft=o.contentLeft,n.domNode=Am(document.createElement("div")),n.domNode.setClassName("view-zones"),n.domNode.setPosition("absolute"),n.domNode.setAttribute("role","presentation"),n.domNode.setAttribute("aria-hidden","true"),n.marginDomNode=Am(document.createElement("div")),n.marginDomNode.setClassName("margin-view-zones"),n.marginDomNode.setPosition("absolute"),n.marginDomNode.setAttribute("role","presentation"),n.marginDomNode.setAttribute("aria-hidden","true"),n._zones={},n}return ix(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._zones={}},t.prototype._recomputeWhitespacesProps=function(){for(var e=this,t=this._context.viewLayout.getWhitespaces(),n=new Map,i=0,o=t;i<o.length;i++){var r=o[i];n.set(r.id,r)}return this._context.viewLayout.changeWhitespace((function(t){for(var i=!1,o=Object.keys(e._zones),r=0,s=o.length;r<s;r++){var a=o[r],l=e._zones[a],u=e._computeWhitespaceProps(l.delegate),c=n.get(a);!c||c.afterLineNumber===u.afterViewLineNumber&&c.height===u.heightInPx||(t.changeOneWhitespace(a,u.afterViewLineNumber,u.heightInPx),e._safeCallOnComputedHeight(l.delegate,u.heightInPx),i=!0)}return i}))},t.prototype.onConfigurationChanged=function(e){var t=this._context.configuration.options,n=t.get(107);return this._lineHeight=t.get(49),this._contentWidth=n.contentWidth,this._contentLeft=n.contentLeft,e.hasChanged(49)&&this._recomputeWhitespacesProps(),!0},t.prototype.onLineMappingChanged=function(e){var t=this._recomputeWhitespacesProps();return t&&this._context.viewLayout.onHeightMaybeChanged(),t},t.prototype.onLinesDeleted=function(e){return!0},t.prototype.onScrollChanged=function(e){return e.scrollTopChanged||e.scrollWidthChanged},t.prototype.onZonesChanged=function(e){return!0},t.prototype.onLinesInserted=function(e){return!0},t.prototype._getZoneOrdinal=function(e){return"undefined"!==typeof e.afterColumn?e.afterColumn:1e4},t.prototype._computeWhitespaceProps=function(e){if(0===e.afterLineNumber)return{afterViewLineNumber:0,heightInPx:this._heightInPixels(e),minWidthInPx:this._minWidthInPixels(e)};var t,n;if("undefined"!==typeof e.afterColumn)t=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:e.afterColumn});else{var i=this._context.model.validateModelPosition({lineNumber:e.afterLineNumber,column:1}).lineNumber;t=new yn(i,this._context.model.getModelLineMaxColumn(i))}n=t.column===this._context.model.getModelLineMaxColumn(t.lineNumber)?this._context.model.validateModelPosition({lineNumber:t.lineNumber+1,column:1}):this._context.model.validateModelPosition({lineNumber:t.lineNumber,column:t.column+1});var o=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(t),r=this._context.model.coordinatesConverter.modelPositionIsVisible(n);return{afterViewLineNumber:o.lineNumber,heightInPx:r?this._heightInPixels(e):0,minWidthInPx:this._minWidthInPixels(e)}},t.prototype.changeViewZones=function(e){var t=this;return this._context.viewLayout.changeWhitespace((function(n){var i=!1,o={addZone:function(e){return i=!0,t._addZone(n,e)},removeZone:function(e){e&&(i=t._removeZone(n,e)||i)},layoutZone:function(e){e&&(i=t._layoutZone(n,e)||i)}};return sx(e,o),o.addZone=ox,o.removeZone=ox,o.layoutZone=ox,i}))},t.prototype._addZone=function(e,t){var n=this._computeWhitespaceProps(t),i=e.insertWhitespace(n.afterViewLineNumber,this._getZoneOrdinal(t),n.heightInPx,n.minWidthInPx),o={whitespaceId:i,delegate:t,isVisible:!1,domNode:Am(t.domNode),marginDomNode:t.marginDomNode?Am(t.marginDomNode):null};return this._safeCallOnComputedHeight(o.delegate,n.heightInPx),o.domNode.setPosition("absolute"),o.domNode.domNode.style.width="100%",o.domNode.setDisplay("none"),o.domNode.setAttribute("monaco-view-zone",o.whitespaceId),this.domNode.appendChild(o.domNode),o.marginDomNode&&(o.marginDomNode.setPosition("absolute"),o.marginDomNode.domNode.style.width="100%",o.marginDomNode.setDisplay("none"),o.marginDomNode.setAttribute("monaco-view-zone",o.whitespaceId),this.marginDomNode.appendChild(o.marginDomNode)),this._zones[o.whitespaceId]=o,this.setShouldRender(),o.whitespaceId},t.prototype._removeZone=function(e,t){if(this._zones.hasOwnProperty(t)){var n=this._zones[t];return delete this._zones[t],e.removeWhitespace(n.whitespaceId),n.domNode.removeAttribute("monaco-visible-view-zone"),n.domNode.removeAttribute("monaco-view-zone"),n.domNode.domNode.parentNode.removeChild(n.domNode.domNode),n.marginDomNode&&(n.marginDomNode.removeAttribute("monaco-visible-view-zone"),n.marginDomNode.removeAttribute("monaco-view-zone"),n.marginDomNode.domNode.parentNode.removeChild(n.marginDomNode.domNode)),this.setShouldRender(),!0}return!1},t.prototype._layoutZone=function(e,t){if(this._zones.hasOwnProperty(t)){var n=this._zones[t],i=this._computeWhitespaceProps(n.delegate);return e.changeOneWhitespace(n.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(n.delegate,i.heightInPx),this.setShouldRender(),!0}return!1},t.prototype.shouldSuppressMouseDownOnViewZone=function(e){if(this._zones.hasOwnProperty(e)){var t=this._zones[e];return Boolean(t.delegate.suppressMouseDown)}return!1},t.prototype._heightInPixels=function(e){return"number"===typeof e.heightInPx?e.heightInPx:"number"===typeof e.heightInLines?this._lineHeight*e.heightInLines:this._lineHeight},t.prototype._minWidthInPixels=function(e){return"number"===typeof e.minWidthInPx?e.minWidthInPx:0},t.prototype._safeCallOnComputedHeight=function(e,t){if("function"===typeof e.onComputedHeight)try{e.onComputedHeight(t)}catch(n){ge(n)}},t.prototype._safeCallOnDomNodeTop=function(e,t){if("function"===typeof e.onDomNodeTop)try{e.onDomNodeTop(t)}catch(n){ge(n)}},t.prototype.prepareRender=function(e){},t.prototype.render=function(e){for(var t=e.viewportData.whitespaceViewportData,n={},i=!1,o=0,r=t.length;o<r;o++)n[t[o].id]=t[o],i=!0;var s=Object.keys(this._zones);for(o=0,r=s.length;o<r;o++){var a=s[o],l=this._zones[a],u=0,c=0,h="none";n.hasOwnProperty(a)?(u=n[a].verticalOffset-e.bigNumbersDelta,c=n[a].height,h="block",l.isVisible||(l.domNode.setAttribute("monaco-visible-view-zone","true"),l.isVisible=!0),this._safeCallOnDomNodeTop(l.delegate,e.getScrolledTopFromAbsoluteTop(n[a].verticalOffset))):(l.isVisible&&(l.domNode.removeAttribute("monaco-visible-view-zone"),l.isVisible=!1),this._safeCallOnDomNodeTop(l.delegate,e.getScrolledTopFromAbsoluteTop(-1e6))),l.domNode.setTop(u),l.domNode.setHeight(c),l.domNode.setDisplay(h),l.marginDomNode&&(l.marginDomNode.setTop(u),l.marginDomNode.setHeight(c),l.marginDomNode.setDisplay(h))}i&&(this.domNode.setWidth(Math.max(e.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))},t}(n_);function sx(e,t){try{return e(t)}catch(n){ge(n)}}var ax=function(){function e(e,t,n,i){this.configuration=e,this.theme=t,this.model=n,this.viewLayout=n.viewLayout,this.privateViewEventBus=i}return e.prototype.addEventHandler=function(e){this.privateViewEventBus.addEventHandler(e)},e.prototype.removeEventHandler=function(e){this.privateViewEventBus.removeEventHandler(e)},e}(),lx=function(){function e(e){this._eventHandlerGateKeeper=e,this._eventHandlers=[],this._eventQueue=null,this._isConsumingQueue=!1}return e.prototype.addEventHandler=function(e){for(var t=0,n=this._eventHandlers.length;t<n;t++)this._eventHandlers[t]===e&&console.warn("Detected duplicate listener in ViewEventDispatcher",e);this._eventHandlers.push(e)},e.prototype.removeEventHandler=function(e){for(var t=0;t<this._eventHandlers.length;t++)if(this._eventHandlers[t]===e){this._eventHandlers.splice(t,1);break}},e.prototype.emit=function(e){this._eventQueue?this._eventQueue.push(e):this._eventQueue=[e],this._isConsumingQueue||this.consumeQueue()},e.prototype.emitMany=function(e){this._eventQueue?this._eventQueue=this._eventQueue.concat(e):this._eventQueue=e,this._isConsumingQueue||this.consumeQueue()},e.prototype.consumeQueue=function(){var e=this;this._eventHandlerGateKeeper((function(){try{e._isConsumingQueue=!0,e._doConsumeQueue()}finally{e._isConsumingQueue=!1}}))},e.prototype._doConsumeQueue=function(){while(this._eventQueue){var e=this._eventQueue;this._eventQueue=null;for(var t=this._eventHandlers.slice(0),n=0,i=t.length;n<i;n++)t[n].handleEvents(e)}},e}(),ux=function(){function e(e,t,n,i){this.selections=e,this.startLineNumber=0|t.startLineNumber,this.endLineNumber=0|t.endLineNumber,this.relativeVerticalOffset=t.relativeVerticalOffset,this.bigNumbersDelta=0|t.bigNumbersDelta,this.whitespaceViewportData=n,this._model=i,this.visibleRange=new bn(t.startLineNumber,this._model.getLineMinColumn(t.startLineNumber),t.endLineNumber,this._model.getLineMaxColumn(t.endLineNumber))}return e.prototype.getViewLineRenderingData=function(e){return this._model.getViewLineRenderingData(this.visibleRange,e)},e.prototype.getDecorationsInViewport=function(){return this._model.getDecorationsInViewport(this.visibleRange)},e}(),cx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),hx=function(e){function t(t,n,i,o,r,s){var a=e.call(this)||this;a._cursor=r,a._renderAnimationFrame=null,a.outgoingEvents=s;var l=new zE(n,o,a.outgoingEvents,t);a.eventDispatcher=new lx((function(e){return a._renderOnce(e)})),a.eventDispatcher.addEventHandler(a),a._context=new ax(n,i.getTheme(),o,a.eventDispatcher),a._register(i.onThemeChange((function(e){a._context.theme=e,a.eventDispatcher.emit(new XS),a.render(!0,!1)}))),a.viewParts=[],a._textAreaHandler=new sE(a._context,l,a.createTextAreaHandlerHelper()),a.viewParts.push(a._textAreaHandler),a.linesContent=Am(document.createElement("div")),a.linesContent.setClassName("lines-content monaco-editor-background"),a.linesContent.setPosition("absolute"),a.domNode=Am(document.createElement("div")),a.domNode.setClassName(a.getEditorClassName()),a.overflowGuardContainer=Am(document.createElement("div")),i_.write(a.overflowGuardContainer,3),a.overflowGuardContainer.setClassName("overflow-guard"),a._scrollbar=new XT(a._context,a.linesContent,a.domNode,a.overflowGuardContainer),a.viewParts.push(a._scrollbar),a.viewLines=new sk(a._context,a.linesContent),a.viewZones=new rx(a._context),a.viewParts.push(a.viewZones);var u=new Mk(a._context);a.viewParts.push(u);var c=new zk(a._context);a.viewParts.push(c);var h=new eT(a._context);a.viewParts.push(h),h.addDynamicOverlay(new uT(a._context)),h.addDynamicOverlay(new Zk(a._context)),h.addDynamicOverlay(new nk(a._context)),h.addDynamicOverlay(new dT(a._context));var d=new tT(a._context);a.viewParts.push(d),d.addDynamicOverlay(new cT(a._context)),d.addDynamicOverlay(new ek(a._context)),d.addDynamicOverlay(new ck(a._context)),d.addDynamicOverlay(new lk(a._context)),d.addDynamicOverlay(new RS(a._context));var p=new MS(a._context);p.getDomNode().appendChild(a.viewZones.marginDomNode),p.getDomNode().appendChild(d.getDomNode()),a.viewParts.push(p),a.contentWidgets=new oT(a._context,a.domNode),a.viewParts.push(a.contentWidgets),a.viewCursors=new nx(a._context),a.viewParts.push(a.viewCursors),a.overlayWidgets=new Nk(a._context),a.viewParts.push(a.overlayWidgets);var f=new Wk(a._context);a.viewParts.push(f);var g=new Ok(a._context);if(a.viewParts.push(g),u){var m=a._scrollbar.getOverviewRulerLayoutInfo();m.parent.insertBefore(u.getDomNode(),m.insertBefore)}return a.linesContent.appendChild(h.getDomNode()),a.linesContent.appendChild(f.domNode),a.linesContent.appendChild(a.viewZones.domNode),a.linesContent.appendChild(a.viewLines.getDomNode()),a.linesContent.appendChild(a.contentWidgets.domNode),a.linesContent.appendChild(a.viewCursors.getDomNode()),a.overflowGuardContainer.appendChild(p.getDomNode()),a.overflowGuardContainer.appendChild(a._scrollbar.getDomNode()),a.overflowGuardContainer.appendChild(c.getDomNode()),a.overflowGuardContainer.appendChild(a._textAreaHandler.textArea),a.overflowGuardContainer.appendChild(a._textAreaHandler.textAreaCover),a.overflowGuardContainer.appendChild(a.overlayWidgets.getDomNode()),a.overflowGuardContainer.appendChild(g.getDomNode()),a.domNode.appendChild(a.overflowGuardContainer),a.domNode.appendChild(a.contentWidgets.overflowingContentWidgetsDomNode),a._applyLayout(),a.pointerHandler=a._register(new Fb(a._context,l,a.createPointerHandlerHelper())),a._register(o.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a._register(a._cursor.addEventListener((function(e){a.eventDispatcher.emitMany(e)}))),a}return cx(t,e),t.prototype._flushAccumulatedAndRenderNow=function(){this._renderNow()},t.prototype.createPointerHandlerHelper=function(){var e=this;return{viewDomNode:this.domNode.domNode,linesContentDomNode:this.linesContent.domNode,focusTextArea:function(){e.focus()},getLastRenderData:function(){var t=e.viewCursors.getLastRenderData()||[],n=e._textAreaHandler.getLastRenderData();return new gb(t,n)},shouldSuppressMouseDownOnViewZone:function(t){return e.viewZones.shouldSuppressMouseDownOnViewZone(t)},shouldSuppressMouseDownOnWidget:function(t){return e.contentWidgets.shouldSuppressMouseDownOnWidget(t)},getPositionFromDOMInfo:function(t,n){return e._flushAccumulatedAndRenderNow(),e.viewLines.getPositionFromDOMInfo(t,n)},visibleRangeForPosition:function(t,n){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new yn(t,n))},getLineWidth:function(t){return e._flushAccumulatedAndRenderNow(),e.viewLines.getLineWidth(t)}}},t.prototype.createTextAreaHandlerHelper=function(){var e=this;return{visibleRangeForPositionRelativeToEditor:function(t,n){return e._flushAccumulatedAndRenderNow(),e.viewLines.visibleRangeForPosition(new yn(t,n))}}},t.prototype._applyLayout=function(){var e=this._context.configuration.options,t=e.get(107);this.domNode.setWidth(t.width),this.domNode.setHeight(t.height),this.overflowGuardContainer.setWidth(t.width),this.overflowGuardContainer.setHeight(t.height),this.linesContent.setWidth(1e6),this.linesContent.setHeight(1e6)},t.prototype.getEditorClassName=function(){var e=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(104)+" "+__(this._context.theme.type)+e},t.prototype.onConfigurationChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._applyLayout(),!1},t.prototype.onContentSizeChanged=function(e){return this.outgoingEvents.emitContentSizeChange(e),!1},t.prototype.onFocusChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),this._context.model.setHasFocus(e.isFocused),e.isFocused?this.outgoingEvents.emitViewFocusGained():this.outgoingEvents.emitViewFocusLost(),!1},t.prototype.onScrollChanged=function(e){return this.outgoingEvents.emitScrollChanged(e),!1},t.prototype.onThemeChanged=function(e){return this.domNode.setClassName(this.getEditorClassName()),!1},t.prototype.dispose=function(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this.eventDispatcher.removeEventHandler(this),this.outgoingEvents.dispose(),this.viewLines.dispose();for(var t=0,n=this.viewParts.length;t<n;t++)this.viewParts[t].dispose();this.viewParts=[],e.prototype.dispose.call(this)},t.prototype._renderOnce=function(e){var t=dx(e);return this._scheduleRender(),t},t.prototype._scheduleRender=function(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=Io(this._onRenderScheduled.bind(this),100))},t.prototype._onRenderScheduled=function(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()},t.prototype._renderNow=function(){var e=this;dx((function(){return e._actualRender()}))},t.prototype._getViewPartsToRender=function(){for(var e=[],t=0,n=0,i=this.viewParts.length;n<i;n++){var o=this.viewParts[n];o.shouldRender()&&(e[t++]=o)}return e},t.prototype._actualRender=function(){if(lo(this.domNode.domNode)){var e=this._getViewPartsToRender();if(this.viewLines.shouldRender()||0!==e.length){var t=this._context.viewLayout.getLinesViewportData();this._context.model.setViewport(t.startLineNumber,t.endLineNumber,t.centeredLineNumber);var n=new ux(this._cursor.getViewSelections(),t,this._context.viewLayout.getWhitespaceViewportData(),this._context.model);this.contentWidgets.shouldRender()&&this.contentWidgets.onBeforeRender(n),this.viewLines.shouldRender()&&(this.viewLines.renderText(n),this.viewLines.onDidRender(),e=this._getViewPartsToRender());for(var i=new s_(this._context.viewLayout,n,this.viewLines),o=0,r=e.length;o<r;o++){var s=e[o];s.prepareRender(i)}for(o=0,r=e.length;o<r;o++){s=e[o];s.render(i),s.onDidRender()}}}},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._scrollbar.delegateVerticalScrollbarMouseDown(e)},t.prototype.restoreState=function(e){this._context.viewLayout.setScrollPositionNow({scrollTop:e.scrollTop}),this._context.model.tokenizeViewport(),this._renderNow(),this.viewLines.updateLineWidths(),this._context.viewLayout.setScrollPositionNow({scrollLeft:e.scrollLeft})},t.prototype.getOffsetForColumn=function(e,t){var n=this._context.model.validateModelPosition({lineNumber:e,column:t}),i=this._context.model.coordinatesConverter.convertModelPositionToViewPosition(n);this._flushAccumulatedAndRenderNow();var o=this.viewLines.visibleRangeForPosition(new yn(i.lineNumber,i.column));return o?o.left:-1},t.prototype.getTargetAtClientPoint=function(e,t){var n=this.pointerHandler.getTargetAtClientPoint(e,t);return n?GE.convertViewToModelMouseTarget(n,this._context.model.coordinatesConverter):null},t.prototype.createOverviewRuler=function(e){return new Hk(this._context,e)},t.prototype.change=function(e){var t=this;return this._renderOnce((function(){var n=t.viewZones.changeViewZones(e);return n&&(t._context.viewLayout.onHeightMaybeChanged(),t._context.privateViewEventBus.emit(new QS)),n}))},t.prototype.render=function(e,t){if(t){this.viewLines.forceShouldRender();for(var n=0,i=this.viewParts.length;n<i;n++){var o=this.viewParts[n];o.forceShouldRender()}}e?this._flushAccumulatedAndRenderNow():this._scheduleRender()},t.prototype.focus=function(){this._textAreaHandler.focusTextArea()},t.prototype.isFocused=function(){return this._textAreaHandler.isFocused()},t.prototype.setAriaOptions=function(e){this._textAreaHandler.setAriaOptions(e)},t.prototype.addContentWidget=function(e){this.contentWidgets.addWidget(e.widget),this.layoutContentWidget(e),this._scheduleRender()},t.prototype.layoutContentWidget=function(e){var t=e.position&&e.position.range||null;if(null===t){var n=e.position?e.position.position:null;null!==n&&(t=new bn(n.lineNumber,n.column,n.lineNumber,n.column))}var i=e.position?e.position.preference:null;this.contentWidgets.setWidgetPosition(e.widget,t,i),this._scheduleRender()},t.prototype.removeContentWidget=function(e){this.contentWidgets.removeWidget(e.widget),this._scheduleRender()},t.prototype.addOverlayWidget=function(e){this.overlayWidgets.addWidget(e.widget),this.layoutOverlayWidget(e),this._scheduleRender()},t.prototype.layoutOverlayWidget=function(e){var t=e.position?e.position.preference:null,n=this.overlayWidgets.setWidgetPosition(e.widget,t);n&&this._scheduleRender()},t.prototype.removeOverlayWidget=function(e){this.overlayWidgets.removeWidget(e.widget),this._scheduleRender()},t}(e_);function dx(e){try{return e()}catch(t){ge(t)}}var px=function(){function e(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new sb(new bn(1,1,1,1),0,new yn(1,1),0),new sb(new bn(1,1,1,1),0,new yn(1,1),0))}return e.prototype.dispose=function(e){this._removeTrackedRange(e)},e.prototype.startTrackingSelection=function(e){this._trackSelection=!0,this._updateTrackedRange(e)},e.prototype.stopTrackingSelection=function(e){this._trackSelection=!1,this._removeTrackedRange(e)},e.prototype._updateTrackedRange=function(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))},e.prototype._removeTrackedRange=function(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)},e.prototype.asCursorState=function(){return new cb(this.modelState,this.viewState)},e.prototype.readSelectionFromMarkers=function(e){var t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new Cn(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new Cn(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)},e.prototype.ensureValidState=function(e){this._setState(e,this.modelState,this.viewState)},e.prototype.setState=function(e,t,n){this._setState(e,t,n)},e.prototype._setState=function(e,t,n){if(t){r=e.model.validateRange(t.selectionStart);var i=t.selectionStart.equalsRange(r)?t.selectionStartLeftoverVisibleColumns:0,o=(s=e.model.validatePosition(t.position),t.position.equals(s)?t.leftoverVisibleColumns:0);t=new sb(r,i,s,o)}else{if(!n)return;var r=e.model.validateRange(e.convertViewRangeToModelRange(n.selectionStart)),s=e.model.validatePosition(e.convertViewPositionToModelPosition(n.position.lineNumber,n.position.column));t=new sb(r,n.selectionStartLeftoverVisibleColumns,s,n.leftoverVisibleColumns)}if(n){u=e.validateViewRange(n.selectionStart,t.selectionStart),c=e.validateViewPosition(n.position,t.position);n=new sb(u,t.selectionStartLeftoverVisibleColumns,c,t.leftoverVisibleColumns)}else{var a=e.convertModelPositionToViewPosition(new yn(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),l=e.convertModelPositionToViewPosition(new yn(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),u=new bn(a.lineNumber,a.column,l.lineNumber,l.column),c=e.convertModelPositionToViewPosition(t.position);n=new sb(u,t.selectionStartLeftoverVisibleColumns,c,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)},e}(),fx=function(){function e(e){this.context=e,this.primaryCursor=new px(e),this.secondaryCursors=[],this.lastAddedCursorIndex=0}return e.prototype.dispose=function(){this.primaryCursor.dispose(this.context),this.killSecondaryCursors()},e.prototype.startTrackingSelections=function(){this.primaryCursor.startTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].startTrackingSelection(this.context)},e.prototype.stopTrackingSelections=function(){this.primaryCursor.stopTrackingSelection(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].stopTrackingSelection(this.context)},e.prototype.updateContext=function(e){this.context=e},e.prototype.ensureValidState=function(){this.primaryCursor.ensureValidState(this.context);for(var e=0,t=this.secondaryCursors.length;e<t;e++)this.secondaryCursors[e].ensureValidState(this.context)},e.prototype.readSelectionFromMarkers=function(){var e=[];e[0]=this.primaryCursor.readSelectionFromMarkers(this.context);for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].readSelectionFromMarkers(this.context);return e},e.prototype.getAll=function(){var e=[];e[0]=this.primaryCursor.asCursorState();for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].asCursorState();return e},e.prototype.getViewPositions=function(){var e=[];e[0]=this.primaryCursor.viewState.position;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.position;return e},e.prototype.getSelections=function(){var e=[];e[0]=this.primaryCursor.modelState.selection;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].modelState.selection;return e},e.prototype.getViewSelections=function(){var e=[];e[0]=this.primaryCursor.viewState.selection;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t].viewState.selection;return e},e.prototype.setSelections=function(e){this.setStates(cb.fromModelSelections(e))},e.prototype.getPrimaryCursor=function(){return this.primaryCursor.asCursorState()},e.prototype.setStates=function(e){null!==e&&(this.primaryCursor.setState(this.context,e[0].modelState,e[0].viewState),this._setSecondaryStates(e.slice(1)))},e.prototype._setSecondaryStates=function(e){var t=this.secondaryCursors.length,n=e.length;if(t<n)for(var i=n-t,o=0;o<i;o++)this._addSecondaryCursor();else if(t>n){var r=t-n;for(o=0;o<r;o++)this._removeSecondaryCursor(this.secondaryCursors.length-1)}for(o=0;o<n;o++)this.secondaryCursors[o].setState(this.context,e[o].modelState,e[o].viewState)},e.prototype.killSecondaryCursors=function(){this._setSecondaryStates([])},e.prototype._addSecondaryCursor=function(){this.secondaryCursors.push(new px(this.context)),this.lastAddedCursorIndex=this.secondaryCursors.length},e.prototype.getLastAddedCursorIndex=function(){return 0===this.secondaryCursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex},e.prototype._removeSecondaryCursor=function(e){this.lastAddedCursorIndex>=e+1&&this.lastAddedCursorIndex--,this.secondaryCursors[e].dispose(this.context),this.secondaryCursors.splice(e,1)},e.prototype._getAll=function(){var e=[];e[0]=this.primaryCursor;for(var t=0,n=this.secondaryCursors.length;t<n;t++)e[t+1]=this.secondaryCursors[t];return e},e.prototype.normalize=function(){if(0!==this.secondaryCursors.length){for(var e=this._getAll(),t=[],n=0,i=e.length;n<i;n++)t.push({index:n,selection:e[n].modelState.selection});t.sort((function(e,t){return e.selection.startLineNumber===t.selection.startLineNumber?e.selection.startColumn-t.selection.startColumn:e.selection.startLineNumber-t.selection.startLineNumber}));for(var o=0;o<t.length-1;o++){var r=t[o],s=t[o+1],a=r.selection,l=s.selection;if(this.context.config.multiCursorMergeOverlapping){var u=void 0;if(u=l.isEmpty()||a.isEmpty()?l.getStartPosition().isBeforeOrEqual(a.getEndPosition()):l.getStartPosition().isBefore(a.getEndPosition()),u){var c=r.index<s.index?o:o+1,h=r.index<s.index?o+1:o,d=t[h].index,p=t[c].index,f=t[h].selection,g=t[c].selection;if(!f.equalsSelection(g)){var m=f.plusRange(g),_=f.selectionStartLineNumber===f.startLineNumber&&f.selectionStartColumn===f.startColumn,v=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,y=void 0;d===this.lastAddedCursorIndex?(y=_,this.lastAddedCursorIndex=p):y=v;var b=void 0;b=y?new Cn(m.startLineNumber,m.startColumn,m.endLineNumber,m.endColumn):new Cn(m.endLineNumber,m.endColumn,m.startLineNumber,m.startColumn),t[c].selection=b;var w=cb.fromModelSelection(b);e[p].setState(this.context,w.modelState,w.viewState)}for(var C=0,S=t;C<S.length;C++){var E=S[C];E.index>d&&E.index--}e.splice(d,1),t.splice(h,1),this._removeSecondaryCursor(d-1),o--}}}}},e}(),gx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function mx(e){for(var t=0,n=e.length;t<n;t++)if(8===e[t].type)return!0;return!1}var _x=function(){function e(e,t,n,i,o,r){this.selections=e,this.modelVersionId=t,this.oldSelections=n,this.oldModelVersionId=i,this.source=o,this.reason=r}return e}(),vx=function(){function e(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getAll()}return e.prototype.equals=function(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(var t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0},e}(),yx=function(){function e(e,t,n){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=n}return e.getAllAutoClosedCharacters=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n];t=t.concat(o.getAutoClosedCharactersRanges())}return t},e.prototype.dispose=function(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])},e.prototype.getAutoClosedCharactersRanges=function(){for(var e=[],t=0;t<this._autoClosedCharactersDecorations.length;t++){var n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e},e.prototype.isValid=function(e){for(var t=[],n=0;n<this._autoClosedEnclosingDecorations.length;n++){var i=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[n]);if(i&&(t.push(i),i.startLineNumber!==i.endLineNumber))return!1}t.sort(bn.compareRangesUsingStarts),e.sort(bn.compareRangesUsingStarts);for(n=0;n<e.length;n++){if(n>=t.length)return!1;if(!t[n].strictContainsRange(e[n]))return!1}return!0},e}(),bx=function(e){function t(t,n,i){var o=e.call(this)||this;o._onDidReachMaxCursorCount=o._register(new Ze),o.onDidReachMaxCursorCount=o._onDidReachMaxCursorCount.event,o._onDidAttemptReadOnlyEdit=o._register(new Ze),o.onDidAttemptReadOnlyEdit=o._onDidAttemptReadOnlyEdit.event,o._onDidChange=o._register(new Ze),o.onDidChange=o._onDidChange.event,o._configuration=t,o._model=n,o._knownModelVersionId=o._model.getVersionId(),o._viewModel=i,o.context=new ab(o._configuration,o._model,o._viewModel),o._cursors=new fx(o.context),o._isHandling=!1,o._isDoingComposition=!1,o._selectionsWhenCompositionStarted=null,o._columnSelectData=null,o._autoClosedActions=[],o._prevEditOperationType=0,o._register(o._model.onDidChangeRawContent((function(e){if(o._knownModelVersionId=e.versionId,!o._isHandling){var t=e.containsEvent(1);o._onModelContentChanged(t)}}))),o._register(i.addEventListener((function(e){mx(e)&&o._knownModelVersionId===o._model.getVersionId()&&o.setStates("viewModel",0,o.getAll())})));var r=function(){o.context=new ab(o._configuration,o._model,o._viewModel),o._cursors.updateContext(o.context)};return o._register(o._model.onDidChangeLanguage((function(e){r()}))),o._register(o._model.onDidChangeLanguageConfiguration((function(){r()}))),o._register(o._model.onDidChangeOptions((function(){r()}))),o._register(o._configuration.onDidChange((function(e){rb.shouldRecreate(e)&&r()}))),o}return gx(t,e),t.prototype.dispose=function(){this._cursors.dispose(),this._autoClosedActions=Ie(this._autoClosedActions),e.prototype.dispose.call(this)},t.prototype._validateAutoClosedActions=function(){if(this._autoClosedActions.length>0)for(var e=this._cursors.getSelections(),t=0;t<this._autoClosedActions.length;t++){var n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}},t.prototype.getPrimaryCursor=function(){return this._cursors.getPrimaryCursor()},t.prototype.getLastAddedCursorIndex=function(){return this._cursors.getLastAddedCursorIndex()},t.prototype.getAll=function(){return this._cursors.getAll()},t.prototype.setStates=function(e,n,i){null!==i&&i.length>t.MAX_CURSOR_COUNT&&(i=i.slice(0,t.MAX_CURSOR_COUNT),this._onDidReachMaxCursorCount.fire(void 0));var o=new vx(this._model,this);this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,n,o)},t.prototype.setColumnSelectData=function(e){this._columnSelectData=e},t.prototype.reveal=function(e,t,n,i){this._revealRange(e,n,0,t,i)},t.prototype.revealRange=function(e,t,n,i,o){this.emitCursorRevealRange(e,n,i,t,o)},t.prototype.scrollTo=function(e){this._viewModel.viewLayout.setScrollPositionSmooth({scrollTop:e})},t.prototype.saveState=function(){for(var e=[],t=this._cursors.getSelections(),n=0,i=t.length;n<i;n++){var o=t[n];e.push({inSelectionMode:!o.isEmpty(),selectionStart:{lineNumber:o.selectionStartLineNumber,column:o.selectionStartColumn},position:{lineNumber:o.positionLineNumber,column:o.positionColumn}})}return e},t.prototype.restoreState=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n],r=1,s=1;o.position&&o.position.lineNumber&&(r=o.position.lineNumber),o.position&&o.position.column&&(s=o.position.column);var a=r,l=s;o.selectionStart&&o.selectionStart.lineNumber&&(a=o.selectionStart.lineNumber),o.selectionStart&&o.selectionStart.column&&(l=o.selectionStart.column),t.push({selectionStartLineNumber:a,selectionStartColumn:l,positionLineNumber:r,positionColumn:s})}this.setStates("restoreState",0,cb.fromModelSelections(t)),this.reveal("restoreState",!0,0,1)},t.prototype._onModelContentChanged=function(e){if(this._prevEditOperationType=0,e)this._cursors.dispose(),this._cursors=new fx(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary("model",1,null);else{var t=this._cursors.readSelectionFromMarkers();this.setStates("modelChange",2,cb.fromModelSelections(t))}},t.prototype.getSelection=function(){return this._cursors.getPrimaryCursor().modelState.selection},t.prototype.getColumnSelectData=function(){if(this._columnSelectData)return this._columnSelectData;var e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=t.lineNumber,i=db.visibleColumnFromColumn2(this.context.config,this.context.viewModel,t);return{isReal:!1,fromViewLineNumber:n,fromViewVisualColumn:i,toViewLineNumber:n,toViewVisualColumn:i}},t.prototype.getSelections=function(){return this._cursors.getSelections()},t.prototype.getViewSelections=function(){return this._cursors.getViewSelections()},t.prototype.getPosition=function(){return this._cursors.getPrimaryCursor().modelState.position},t.prototype.setSelections=function(e,t){this.setStates(e,0,cb.fromModelSelections(t))},t.prototype.getPrevEditOperationType=function(){return this._prevEditOperationType},t.prototype.setPrevEditOperationType=function(e){this._prevEditOperationType=e},t.prototype._pushAutoClosedAction=function(e,t){for(var n=[],i=[],o=0,r=e.length;o<r;o++)n.push({range:e[o],options:{inlineClassName:"auto-closed-character",stickiness:1}}),i.push({range:t[o],options:{stickiness:1}});var s=this._model.deltaDecorations([],n),a=this._model.deltaDecorations([],i);this._autoClosedActions.push(new yx(this._model,s,a))},t.prototype._executeEditOperation=function(e){if(e){e.shouldPushStackElementBefore&&this._model.pushStackElement();var t=wx.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);for(var n=[],i=[],o=0;o<e.commands.length;o++){var r=e.commands[o];r instanceof NE&&r.enclosingRange&&r.closeCharacterRange&&(n.push(r.closeCharacterRange),i.push(r.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,i),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}},t.prototype._interpretCommandResult=function(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()},t.prototype._emitStateChangedIfNecessary=function(e,t,n){var i=new vx(this._model,this);if(i.equals(n))return!1;var o=this._cursors.getSelections(),r=this._cursors.getViewSelections();try{var s=this._beginEmit();s.emit(new VS(r,o))}finally{this._endEmit()}if(!n||n.cursorState.length!==i.cursorState.length||i.cursorState.some((function(e,t){return!e.modelState.equals(n.cursorState[t].modelState)}))){var a=n?n.cursorState.map((function(e){return e.modelState.selection})):null,l=n?n.modelVersionId:0;this._onDidChange.fire(new _x(o,i.modelVersionId,a,l,e||"keyboard",t))}return!0},t.prototype._revealRange=function(e,t,n,i,o){var r=this._cursors.getViewPositions(),s=r[0];if(1===t)for(var a=1;a<r.length;a++)r[a].isBefore(s)&&(s=r[a]);else if(2===t)for(a=1;a<r.length;a++)s.isBeforeOrEqual(r[a])&&(s=r[a]);else if(r.length>1)return;var l=new bn(s.lineNumber,s.column,s.lineNumber,s.column);this.emitCursorRevealRange(e,l,n,i,o)},t.prototype.emitCursorRevealRange=function(e,t,n,i,o){try{var r=this._beginEmit();r.emit(new qS(e,t,n,i,o))}finally{this._endEmit()}},t.prototype._findAutoClosingPairs=function(e){if(!e.length)return null;for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];if(!o.text||o.text.indexOf("\n")>=0)return null;var r=o.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!r)return null;var s=r[1],a=this.context.config.autoClosingPairsClose2.get(s);if(!a||1!==a.length)return null;var l=a[0].open,u=o.text.length-r[2].length-1,c=o.text.lastIndexOf(l,u-1);if(-1===c)return null;t.push([c,u])}return t},t.prototype.executeEdits=function(e,t,n){var i=this,o=null;"snippet"===e&&(o=this._findAutoClosingPairs(t)),o&&(t[0]._isTracked=!0);var r=[],s=[],a=this._model.pushEditOperations(this.getSelections(),t,(function(e){if(o)for(var t=0,a=o.length;t<a;t++){var l=o[t],u=l[0],c=l[1],h=e[t],d=h.range.startLineNumber,p=h.range.startColumn-1+u,f=h.range.startColumn-1+c;r.push(new bn(d,f+1,d,f+2)),s.push(new bn(d,p+1,d,f+2))}var g=n(e);return g&&(i._isHandling=!0),g}));a&&(this._isHandling=!1,this.setSelections(e,a)),r.length>0&&this._pushAutoClosedAction(r,s)},t.prototype.trigger=function(e,t,n){var i=Nl;if(t===i.CompositionStart)return this._isDoingComposition=!0,void(this._selectionsWhenCompositionStarted=this.getSelections().slice(0));if(t===i.CompositionEnd&&(this._isDoingComposition=!1),this._configuration.options.get(68))this._onDidAttemptReadOnlyEdit.fire(void 0);else{var o=new vx(this._model,this),r=0;t!==i.Undo&&t!==i.Redo&&this._cursors.stopTrackingSelections(),this._cursors.ensureValidState(),this._isHandling=!0;try{switch(t){case i.Type:this._type(e,n.text);break;case i.ReplacePreviousChar:this._replacePreviousChar(n.text,n.replaceCharCnt);break;case i.Paste:r=4,this._paste(n.text,n.pasteOnNewLine,n.multicursorText||[]);break;case i.Cut:this._cut();break;case i.Undo:r=5,this._interpretCommandResult(this._model.undo());break;case i.Redo:r=6,this._interpretCommandResult(this._model.redo());break;case i.ExecuteCommand:this._externalExecuteCommand(n);break;case i.ExecuteCommands:this._externalExecuteCommands(n);break;case i.CompositionEnd:this._interpretCompositionEnd(e);break}}catch(s){ge(s)}this._isHandling=!1,t!==i.Undo&&t!==i.Redo&&this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,r,o)&&this._revealRange(e,0,0,!0,0)}},t.prototype._interpretCompositionEnd=function(e){if(!this._isDoingComposition&&"keyboard"===e){var t=yx.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(DE.compositionEndWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this._selectionsWhenCompositionStarted,this.getSelections(),t)),this._selectionsWhenCompositionStarted=null}},t.prototype._type=function(e,t){if(this._isDoingComposition||"keyboard"!==e)this._executeEditOperation(DE.typeWithoutInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),t));else{var n=t.length,i=0;while(i<n){var o=ls(t,i),r=t.substr(i,o),s=yx.getAllAutoClosedCharacters(this._autoClosedActions);this._executeEditOperation(DE.typeWithInterceptors(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),s,r)),i+=o}}},t.prototype._replacePreviousChar=function(e,t){this._executeEditOperation(DE.replacePreviousChar(this._prevEditOperationType,this.context.config,this.context.model,this.getSelections(),e,t))},t.prototype._paste=function(e,t,n){this._executeEditOperation(DE.paste(this.context.config,this.context.model,this.getSelections(),e,t,n))},t.prototype._cut=function(){this._executeEditOperation(vE.cut(this.context.config,this.context.model,this.getSelections()))},t.prototype._externalExecuteCommand=function(e){this._cursors.killSecondaryCursors(),this._executeEditOperation(new hb(0,[e],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t.prototype._externalExecuteCommands=function(e){this._executeEditOperation(new hb(0,e,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t.MAX_CURSOR_COUNT=1e4,t}(eE),wx=function(){function e(){}return e.executeCommands=function(e,t,n){for(var i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},o=this._innerExecuteCommands(i,n),r=0,s=i.trackedRanges.length;r<s;r++)i.model._setTrackedRange(i.trackedRanges[r],null,0);return o},e._innerExecuteCommands=function(e,t){if(this._arrayIsEmpty(t))return null;var n=this._getEditOperations(e,t);if(0===n.operations.length)return null;var i=n.operations,o=this._getLoserCursorMap(i);if(o.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;for(var r=[],s=0,a=i.length;s<a;s++)o.hasOwnProperty(i[s].identifier.major.toString())||r.push(i[s]);n.hadTrackedEditOperation&&r.length>0&&(r[0]._isTracked=!0);var l=e.model.pushEditOperations(e.selectionsBefore,r,(function(n){for(var i=[],o=0;o<e.selectionsBefore.length;o++)i[o]=[];for(var r=0,s=n;r<s.length;r++){var a=s[r];a.identifier&&i[a.identifier.major].push(a)}var l=function(e,t){return e.identifier.minor-t.identifier.minor},u=[],c=function(n){i[n].length>0?(i[n].sort(l),u[n]=t[n].computeCursorState(e.model,{getInverseEditOperations:function(){return i[n]},getTrackedSelection:function(t){var n=parseInt(t,10),i=e.model._getTrackedRange(e.trackedRanges[n]);return 0===e.trackedRangesDirection[n]?new Cn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new Cn(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):u[n]=e.selectionsBefore[n]};for(o=0;o<e.selectionsBefore.length;o++)c(o);return u}));l||(l=e.selectionsBefore);var u=[];for(var c in o)o.hasOwnProperty(c)&&u.push(parseInt(c,10));u.sort((function(e,t){return t-e}));for(var h=0,d=u;h<d.length;h++){var p=d[h];l.splice(p,1)}return l},e._arrayIsEmpty=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0},e._getEditOperations=function(e,t){for(var n=[],i=!1,o=0,r=t.length;o<r;o++){var s=t[o];if(s){var a=this._getEditOperationsFromCommand(e,o,s);n=n.concat(a.operations),i=i||a.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:i}},e._getEditOperationsFromCommand=function(e,t,n){var i=[],o=0,r=function(e,r,s){void 0===s&&(s=!1),e.isEmpty()&&""===r||i.push({identifier:{major:t,minor:o++},range:e,text:r,forceMoveMarkers:s,isAutoWhitespaceEdit:n.insertsAutoWhitespace})},s=!1,a=function(e,t,n){s=!0,r(e,t,n)},l=function(t,n){var i;if(t.isEmpty())if("boolean"===typeof n)i=n?2:3;else{var o=e.model.getLineMaxColumn(t.startLineNumber);i=t.startColumn===o?2:3}else i=1;var r=e.trackedRanges.length,s=e.model._setTrackedRange(null,t,i);return e.trackedRanges[r]=s,e.trackedRangesDirection[r]=t.getDirection(),r.toString()},u={addEditOperation:r,addTrackedEditOperation:a,trackSelection:l};try{n.getEditOperations(e.model,u)}catch(c){return ge(c),{operations:[],hadTrackedEditOperation:!1}}return{operations:i,hadTrackedEditOperation:s}},e._getLoserCursorMap=function(e){e=e.slice(0),e.sort((function(e,t){return-bn.compareRangesUsingEnds(e.range,t.range)}));for(var t={},n=1;n<e.length;n++){var i=e[n-1],o=e[n];if(i.range.getStartPosition().isBefore(o.range.getEndPosition())){var r=void 0;r=i.identifier.major>o.identifier.major?i.identifier.major:o.identifier.major,t[r.toString()]=!0;for(var s=0;s<e.length;s++)e[s].identifier.major===r&&(e.splice(s,1),s<n&&n--,s--);n>0&&n--}}return t},e}(),Cx=function(){function e(e,t,n,i,o,r){this.id=e,this.label=t,this.alias=n,this._precondition=i,this._run=o,this._contextKeyService=r}return e.prototype.isSupported=function(){return this._contextKeyService.contextMatchesRules(this._precondition)},e.prototype.run=function(){if(!this.isSupported())return Promise.resolve(void 0);var e=this._run();return e||Promise.resolve(void 0)},e}(),Sx={getInitialState:function(){return Qu},tokenize2:function(e,t,n){return ic(0,e,t,n)}};function Ex(e,t){return void 0===t&&(t=Sx),kx(e,t||Sx)}function Tx(e,t,n,i,o,r,s){for(var a="<div>",l=i,u=0,c=0,h=t.getCount();c<h;c++){var d=t.getEndOffset(c);if(!(d<=i)){for(var p="";l<d&&l<o;l++){var f=e.charCodeAt(l);switch(f){case 9:var g=r-(l+u)%r;u+=g-1;while(g>0)p+=s?"&#160;":" ",g--;break;case 60:p+="&lt;";break;case 62:p+="&gt;";break;case 38:p+="&amp;";break;case 0:p+="&#00;";break;case 65279:case 8232:p+="�";break;case 13:p+="&#8203";break;case 32:p+=s?"&#160;":" ";break;default:p+=String.fromCharCode(f)}}if(a+='<span style="'+t.getInlineStyle(c,n)+'">'+p+"</span>",d>o||l>=o)break}}return a+="</div>",a}function kx(e,t){for(var n='<div class="monaco-tokenized-source">',i=e.split(/\r\n|\r|\n/),o=t.getInitialState(),r=0,s=i.length;r<s;r++){var a=i[r];r>0&&(n+="<br/>");var l=t.tokenize2(a,o,0);ad.convertToEndOffset(l.tokens,a.length);for(var u=new ad(l.tokens,a),c=u.inflate(),h=0,d=0,p=c.getCount();d<p;d++){var f=c.getClassName(d),g=c.getEndOffset(d);n+='<span class="'+f+'">'+Ar(a.substring(h,g))+"</span>",h=g}o=l.endState}return n+="</div>",n}var xx=function(){function e(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}return e.prototype.insert=function(e){this._hasPending=!0,this._inserts.push(e)},e.prototype.change=function(e){this._hasPending=!0,this._changes.push(e)},e.prototype.remove=function(e){this._hasPending=!0,this._removes.push(e)},e.prototype.mustCommit=function(){return this._hasPending},e.prototype.commit=function(e){if(this._hasPending){var t=this._inserts,n=this._changes,i=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],e._commitPendingChanges(t,n,i)}},e}(),Lx=function(){function e(e,t,n,i,o){this.id=e,this.afterLineNumber=t,this.ordinal=n,this.height=i,this.minWidth=o,this.prefixSum=0}return e}(),Ix=function(){function e(t,n){this._instanceId=Es(++e.INSTANCE_COUNT),this._pendingChanges=new xx,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=t,this._lineHeight=n}return e.findInsertionIndex=function(e,t,n){var i=0,o=e.length;while(i<o){var r=i+o>>>1;t===e[r].afterLineNumber?n<e[r].ordinal?o=r:i=r+1:t<e[r].afterLineNumber?o=r:i=r+1}return i},e.prototype.setLineHeight=function(e){this._checkPendingChanges(),this._lineHeight=e},e.prototype.onFlushed=function(e){this._checkPendingChanges(),this._lineCount=e},e.prototype.changeWhitespace=function(e){var t=this;try{var n={insertWhitespace:function(e,n,i,o){e|=0,n|=0,i|=0,o|=0;var r=t._instanceId+ ++t._lastWhitespaceId;return t._pendingChanges.insert(new Lx(r,e,n,i,o)),r},changeOneWhitespace:function(e,n,i){n|=0,i|=0,t._pendingChanges.change({id:e,newAfterLineNumber:n,newHeight:i})},removeWhitespace:function(e){t._pendingChanges.remove({id:e})}};return e(n)}finally{this._pendingChanges.commit(this)}},e.prototype._commitPendingChanges=function(e,t,n){if((e.length>0||n.length>0)&&(this._minWidth=-1),e.length+t.length+n.length<=1){for(var i=0,o=e;i<o.length;i++){var r=o[i];this._insertWhitespace(r)}for(var s=0,a=t;s<a.length;s++){var l=a[s];this._changeOneWhitespace(l.id,l.newAfterLineNumber,l.newHeight)}for(var u=0,c=n;u<c.length;u++){var h=c[u],d=this._findWhitespaceIndex(h.id);-1!==d&&this._removeWhitespace(d)}}else{for(var p=new Set,f=0,g=n;f<g.length;f++){h=g[f];p.add(h.id)}for(var m=new Map,_=0,v=t;_<v.length;_++){l=v[_];m.set(l.id,l)}var y=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n];if(!p.has(o.id)){if(m.has(o.id)){var r=m.get(o.id);o.afterLineNumber=r.newAfterLineNumber,o.height=r.newHeight}t.push(o)}}return t},b=y(this._arr).concat(y(e));b.sort((function(e,t){return e.afterLineNumber===t.afterLineNumber?e.ordinal-t.ordinal:e.afterLineNumber-t.afterLineNumber})),this._arr=b,this._prefixSumValidIndex=-1}},e.prototype._checkPendingChanges=function(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)},e.prototype._insertWhitespace=function(t){var n=e.findInsertionIndex(this._arr,t.afterLineNumber,t.ordinal);this._arr.splice(n,0,t),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,n-1)},e.prototype._findWhitespaceIndex=function(e){for(var t=this._arr,n=0,i=t.length;n<i;n++)if(t[n].id===e)return n;return-1},e.prototype._changeOneWhitespace=function(e,t,n){var i=this._findWhitespaceIndex(e);if(-1!==i&&(this._arr[i].height!==n&&(this._arr[i].height=n,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)),this._arr[i].afterLineNumber!==t)){var o=this._arr[i];this._removeWhitespace(i),o.afterLineNumber=t,this._insertWhitespace(o)}},e.prototype._removeWhitespace=function(e){this._arr.splice(e,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,e-1)},e.prototype.onLinesDeleted=function(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount-=t-e+1;for(var n=0,i=this._arr.length;n<i;n++){var o=this._arr[n].afterLineNumber;e<=o&&o<=t?this._arr[n].afterLineNumber=e-1:o>t&&(this._arr[n].afterLineNumber-=t-e+1)}},e.prototype.onLinesInserted=function(e,t){this._checkPendingChanges(),e|=0,t|=0,this._lineCount+=t-e+1;for(var n=0,i=this._arr.length;n<i;n++){var o=this._arr[n].afterLineNumber;e<=o&&(this._arr[n].afterLineNumber+=t-e+1)}},e.prototype.getWhitespacesTotalHeight=function(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)},e.prototype.getWhitespacesAccumulatedHeight=function(e){this._checkPendingChanges(),e|=0;var t=Math.max(0,this._prefixSumValidIndex+1);0===t&&(this._arr[0].prefixSum=this._arr[0].height,t++);for(var n=t;n<=e;n++)this._arr[n].prefixSum=this._arr[n-1].prefixSum+this._arr[n].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,e),this._arr[e].prefixSum},e.prototype.getLinesTotalHeight=function(){this._checkPendingChanges();var e=this._lineHeight*this._lineCount,t=this.getWhitespacesTotalHeight();return e+t},e.prototype.getWhitespaceAccumulatedHeightBeforeLineNumber=function(e){this._checkPendingChanges(),e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e);return-1===t?0:this.getWhitespacesAccumulatedHeight(t)},e.prototype._findLastWhitespaceBeforeLineNumber=function(e){e|=0;var t=this._arr,n=0,i=t.length-1;while(n<=i){var o=i-n|0,r=o/2|0,s=n+r|0;if(t[s].afterLineNumber<e){if(s+1>=t.length||t[s+1].afterLineNumber>=e)return s;n=s+1|0}else i=s-1|0}return-1},e.prototype._findFirstWhitespaceAfterLineNumber=function(e){e|=0;var t=this._findLastWhitespaceBeforeLineNumber(e),n=t+1;return n<this._arr.length?n:-1},e.prototype.getFirstWhitespaceIndexAfterLineNumber=function(e){return this._checkPendingChanges(),e|=0,this._findFirstWhitespaceAfterLineNumber(e)},e.prototype.getVerticalOffsetForLineNumber=function(e){var t;this._checkPendingChanges(),e|=0,t=e>1?this._lineHeight*(e-1):0;var n=this.getWhitespaceAccumulatedHeightBeforeLineNumber(e);return t+n},e.prototype.getWhitespaceMinWidth=function(){if(this._checkPendingChanges(),-1===this._minWidth){for(var e=0,t=0,n=this._arr.length;t<n;t++)e=Math.max(e,this._arr[t].minWidth);this._minWidth=e}return this._minWidth},e.prototype.isAfterLines=function(e){this._checkPendingChanges();var t=this.getLinesTotalHeight();return e>t},e.prototype.getLineNumberAtOrAfterVerticalOffset=function(e){if(this._checkPendingChanges(),e|=0,e<0)return 1;var t=0|this._lineCount,n=this._lineHeight,i=1,o=t;while(i<o){var r=(i+o)/2|0,s=0|this.getVerticalOffsetForLineNumber(r);if(e>=s+n)i=r+1;else{if(e>=s)return r;o=r}}return i>t?t:i},e.prototype.getLinesViewportData=function(e,t){this._checkPendingChanges(),e|=0,t|=0;var n,i,o=this._lineHeight,r=0|this.getLineNumberAtOrAfterVerticalOffset(e),s=0|this.getVerticalOffsetForLineNumber(r),a=0|this._lineCount,l=0|this.getFirstWhitespaceIndexAfterLineNumber(r),u=0|this.getWhitespacesCount();-1===l?(l=u,i=a+1,n=0):(i=0|this.getAfterLineNumberForWhitespaceIndex(l),n=0|this.getHeightForWhitespaceIndex(l));var c=s,h=c,d=5e5,p=0;s>=d&&(p=Math.floor(s/d)*d,p=Math.floor(p/o)*o,h-=p);for(var f=[],g=e+(t-e)/2,m=-1,_=r;_<=a;_++){if(-1===m){var v=c,y=c+o;(v<=g&&g<y||v>g)&&(m=_)}c+=o,f[_-r]=h,h+=o;while(i===_)h+=n,c+=n,l++,l>=u?i=a+1:(i=0|this.getAfterLineNumberForWhitespaceIndex(l),n=0|this.getHeightForWhitespaceIndex(l));if(c>=t){a=_;break}}-1===m&&(m=a);var b=0|this.getVerticalOffsetForLineNumber(a),w=r,C=a;return w<C&&s<e&&w++,w<C&&b+o>t&&C--,{bigNumbersDelta:p,startLineNumber:r,endLineNumber:a,relativeVerticalOffset:f,centeredLineNumber:m,completelyVisibleStartLineNumber:w,completelyVisibleEndLineNumber:C}},e.prototype.getVerticalOffsetForWhitespaceIndex=function(e){this._checkPendingChanges(),e|=0;var t,n,i=this.getAfterLineNumberForWhitespaceIndex(e);return t=i>=1?this._lineHeight*i:0,n=e>0?this.getWhitespacesAccumulatedHeight(e-1):0,t+n},e.prototype.getWhitespaceIndexAtOrAfterVerticallOffset=function(e){this._checkPendingChanges(),e|=0;var t=0,n=this.getWhitespacesCount()-1;if(n<0)return-1;var i=this.getVerticalOffsetForWhitespaceIndex(n),o=this.getHeightForWhitespaceIndex(n);if(e>=i+o)return-1;while(t<n){var r=Math.floor((t+n)/2),s=this.getVerticalOffsetForWhitespaceIndex(r),a=this.getHeightForWhitespaceIndex(r);if(e>=s+a)t=r+1;else{if(e>=s)return r;n=r}}return t},e.prototype.getWhitespaceAtVerticalOffset=function(e){this._checkPendingChanges(),e|=0;var t=this.getWhitespaceIndexAtOrAfterVerticallOffset(e);if(t<0)return null;if(t>=this.getWhitespacesCount())return null;var n=this.getVerticalOffsetForWhitespaceIndex(t);if(n>e)return null;var i=this.getHeightForWhitespaceIndex(t),o=this.getIdForWhitespaceIndex(t),r=this.getAfterLineNumberForWhitespaceIndex(t);return{id:o,afterLineNumber:r,verticalOffset:n,height:i}},e.prototype.getWhitespaceViewportData=function(e,t){this._checkPendingChanges(),e|=0,t|=0;var n=this.getWhitespaceIndexAtOrAfterVerticallOffset(e),i=this.getWhitespacesCount()-1;if(n<0)return[];for(var o=[],r=n;r<=i;r++){var s=this.getVerticalOffsetForWhitespaceIndex(r),a=this.getHeightForWhitespaceIndex(r);if(s>=t)break;o.push({id:this.getIdForWhitespaceIndex(r),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(r),verticalOffset:s,height:a})}return o},e.prototype.getWhitespaces=function(){return this._checkPendingChanges(),this._arr.slice(0)},e.prototype.getWhitespacesCount=function(){return this._checkPendingChanges(),this._arr.length},e.prototype.getIdForWhitespaceIndex=function(e){return this._checkPendingChanges(),e|=0,this._arr[e].id},e.prototype.getAfterLineNumberForWhitespaceIndex=function(e){return this._checkPendingChanges(),e|=0,this._arr[e].afterLineNumber},e.prototype.getHeightForWhitespaceIndex=function(e){return this._checkPendingChanges(),e|=0,this._arr[e].height},e.INSTANCE_COUNT=0,e}(),Ox=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dx=125,Nx=function(){function e(e,t,n,i){e|=0,t|=0,n|=0,i|=0,e<0&&(e=0),t<0&&(t=0),n<0&&(n=0),i<0&&(i=0),this.width=e,this.contentWidth=t,this.scrollWidth=Math.max(e,t),this.height=n,this.contentHeight=i,this.scrollHeight=Math.max(n,i)}return e.prototype.equals=function(e){return this.width===e.width&&this.contentWidth===e.contentWidth&&this.height===e.height&&this.contentHeight===e.contentHeight},e}(),Rx=function(e){function t(t,n){var i=e.call(this)||this;return i._onDidContentSizeChange=i._register(new Ze),i.onDidContentSizeChange=i._onDidContentSizeChange.event,i._dimensions=new Nx(0,0,0,0),i._scrollable=i._register(new DT(t,n)),i.onDidScroll=i._scrollable.onScroll,i}return Ox(t,e),t.prototype.getScrollable=function(){return this._scrollable},t.prototype.setSmoothScrollDuration=function(e){this._scrollable.setSmoothScrollDuration(e)},t.prototype.validateScrollPosition=function(e){return this._scrollable.validateScrollPosition(e)},t.prototype.getScrollDimensions=function(){return this._dimensions},t.prototype.setScrollDimensions=function(e){if(!this._dimensions.equals(e)){var t=this._dimensions;this._dimensions=e,this._scrollable.setScrollDimensions({width:e.width,scrollWidth:e.scrollWidth,height:e.height,scrollHeight:e.scrollHeight});var n=t.contentWidth!==e.contentWidth,i=t.contentHeight!==e.contentHeight;(n||i)&&this._onDidContentSizeChange.fire({contentWidth:e.contentWidth,contentHeight:e.contentHeight,contentWidthChanged:n,contentHeightChanged:i})}},t.prototype.getFutureScrollPosition=function(){return this._scrollable.getFutureScrollPosition()},t.prototype.getCurrentScrollPosition=function(){return this._scrollable.getCurrentScrollPosition()},t.prototype.setScrollPositionNow=function(e){this._scrollable.setScrollPositionNow(e)},t.prototype.setScrollPositionSmooth=function(e){this._scrollable.setScrollPositionSmooth(e)},t}(Ae),Ax=function(e){function t(t,n,i){var o=e.call(this)||this;o._configuration=t;var r=o._configuration.options,s=r.get(107);return o._linesLayout=new Ix(n,r.get(49)),o._scrollable=o._register(new Rx(0,i)),o._configureSmoothScrollDuration(),o._scrollable.setScrollDimensions(new Nx(s.contentWidth,0,s.height,0)),o.onDidScroll=o._scrollable.onDidScroll,o.onDidContentSizeChange=o._scrollable.onDidContentSizeChange,o._updateHeight(),o}return Ox(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.getScrollable=function(){return this._scrollable.getScrollable()},t.prototype.onHeightMaybeChanged=function(){this._updateHeight()},t.prototype._configureSmoothScrollDuration=function(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(87)?Dx:0)},t.prototype.onConfigurationChanged=function(e){var t=this._configuration.options;if(e.hasChanged(49)&&this._linesLayout.setLineHeight(t.get(49)),e.hasChanged(107)){var n=t.get(107),i=n.contentWidth,o=n.height,r=this._scrollable.getScrollDimensions(),s=r.scrollWidth;this._scrollable.setScrollDimensions(new Nx(i,r.contentWidth,o,this._getContentHeight(i,o,s)))}else this._updateHeight();e.hasChanged(87)&&this._configureSmoothScrollDuration()},t.prototype.onFlushed=function(e){this._linesLayout.onFlushed(e)},t.prototype.onLinesDeleted=function(e,t){this._linesLayout.onLinesDeleted(e,t)},t.prototype.onLinesInserted=function(e,t){this._linesLayout.onLinesInserted(e,t)},t.prototype._getHorizontalScrollbarHeight=function(e,t){var n=this._configuration.options,i=n.get(78);return 2===i.horizontal||e>=t?0:i.horizontalScrollbarSize},t.prototype._getContentHeight=function(e,t,n){var i=this._configuration.options,o=this._linesLayout.getLinesTotalHeight();return i.get(80)?o+=t-i.get(49):o+=this._getHorizontalScrollbarHeight(e,n),o},t.prototype._updateHeight=function(){var e=this._scrollable.getScrollDimensions(),t=e.width,n=e.height,i=e.scrollWidth;this._scrollable.setScrollDimensions(new Nx(t,e.contentWidth,n,this._getContentHeight(t,n,i)))},t.prototype.getCurrentViewport=function(){var e=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new Od(t.scrollTop,t.scrollLeft,e.width,e.height)},t.prototype.getFutureViewport=function(){var e=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new Od(t.scrollTop,t.scrollLeft,e.width,e.height)},t.prototype._computeContentWidth=function(e){var t=this._configuration.options,n=t.get(108),i=t.get(34);if(n.isViewportWrapping){var o=t.get(107),r=t.get(54);return e>o.contentWidth+i.typicalHalfwidthCharacterWidth&&r.enabled&&"right"===r.side?e+o.verticalScrollbarWidth:e}var s=t.get(79)*i.typicalHalfwidthCharacterWidth,a=this._linesLayout.getWhitespaceMinWidth();return Math.max(e+s,a)},t.prototype.onMaxLineWidthChanged=function(e){var t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Nx(t.width,this._computeContentWidth(e),t.height,t.contentHeight)),this._updateHeight()},t.prototype.saveState=function(){var e=this._scrollable.getFutureScrollPosition(),t=e.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),i=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n);return{scrollTop:t,scrollTopWithoutViewZones:t-i,scrollLeft:e.scrollLeft}},t.prototype.changeWhitespace=function(e){return this._linesLayout.changeWhitespace(e)},t.prototype.getVerticalOffsetForLineNumber=function(e){return this._linesLayout.getVerticalOffsetForLineNumber(e)},t.prototype.isAfterLines=function(e){return this._linesLayout.isAfterLines(e)},t.prototype.getLineNumberAtVerticalOffset=function(e){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(e)},t.prototype.getWhitespaceAtVerticalOffset=function(e){return this._linesLayout.getWhitespaceAtVerticalOffset(e)},t.prototype.getLinesViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(e.top,e.top+e.height)},t.prototype.getLinesViewportDataAtScrollTop=function(e){var t=this._scrollable.getScrollDimensions();return e+t.height>t.scrollHeight&&(e=t.scrollHeight-t.height),e<0&&(e=0),this._linesLayout.getLinesViewportData(e,e+t.height)},t.prototype.getWhitespaceViewportData=function(){var e=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(e.top,e.top+e.height)},t.prototype.getWhitespaces=function(){return this._linesLayout.getWhitespaces()},t.prototype.getContentWidth=function(){var e=this._scrollable.getScrollDimensions();return e.contentWidth},t.prototype.getScrollWidth=function(){var e=this._scrollable.getScrollDimensions();return e.scrollWidth},t.prototype.getContentHeight=function(){var e=this._scrollable.getScrollDimensions();return e.contentHeight},t.prototype.getScrollHeight=function(){var e=this._scrollable.getScrollDimensions();return e.scrollHeight},t.prototype.getCurrentScrollLeft=function(){var e=this._scrollable.getCurrentScrollPosition();return e.scrollLeft},t.prototype.getCurrentScrollTop=function(){var e=this._scrollable.getCurrentScrollPosition();return e.scrollTop},t.prototype.validateScrollPosition=function(e){return this._scrollable.validateScrollPosition(e)},t.prototype.setScrollPositionNow=function(e){this._scrollable.setScrollPositionNow(e)},t.prototype.setScrollPositionSmooth=function(e){this._scrollable.setScrollPositionSmooth(e)},t.prototype.deltaScrollNow=function(e,t){var n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+e,scrollTop:n.scrollTop+t})},t}(Ae),Mx=function(){function e(e,t){this.outputLineIndex=e,this.outputOffset=t}return e}(),Px=function(){function e(e,t,n){this.breakOffsets=e,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n}return e.getInputOffsetOfOutputPosition=function(e,t,n){return 0===t?n:e[t-1]+n},e.getOutputPositionOfInputOffset=function(e,t){var n=0,i=e.length-1,o=0,r=0;while(n<=i){o=n+(i-n)/2|0;var s=e[o];if(r=o>0?e[o-1]:0,t<r)i=o-1;else{if(!(t>=s))break;n=o+1}}return new Mx(o,t-r)},e}(),Fx=function(){function e(e){this._lines=e}return e.prototype.convertViewPositionToModelPosition=function(e){return this._lines.convertViewPositionToModelPosition(e.lineNumber,e.column)},e.prototype.convertViewRangeToModelRange=function(e){return this._lines.convertViewRangeToModelRange(e)},e.prototype.validateViewPosition=function(e,t){return this._lines.validateViewPosition(e.lineNumber,e.column,t)},e.prototype.validateViewRange=function(e,t){return this._lines.validateViewRange(e,t)},e.prototype.convertModelPositionToViewPosition=function(e){return this._lines.convertModelPositionToViewPosition(e.lineNumber,e.column)},e.prototype.convertModelRangeToViewRange=function(e){return this._lines.convertModelRangeToViewRange(e)},e.prototype.modelPositionIsVisible=function(e){return this._lines.modelPositionIsVisible(e.lineNumber,e.column)},e}(),Bx=function(){function e(e){this._counts=e,this._isValid=!1,this._validEndIndex=-1,this._modelToView=[],this._viewToModel=[]}return e.prototype._invalidate=function(e){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,e-1)},e.prototype._ensureValid=function(){if(!this._isValid){for(var e=this._validEndIndex+1,t=this._counts.length;e<t;e++){var n=this._counts[e],i=e>0?this._modelToView[e-1]:0;this._modelToView[e]=i+n;for(var o=0;o<n;o++)this._viewToModel[i+o]=e}this._modelToView.length=this._counts.length,this._viewToModel.length=this._modelToView[this._modelToView.length-1],this._isValid=!0,this._validEndIndex=this._counts.length-1}},e.prototype.changeValue=function(e,t){this._counts[e]!==t&&(this._counts[e]=t,this._invalidate(e))},e.prototype.removeValues=function(e,t){this._counts.splice(e,t),this._invalidate(e)},e.prototype.insertValues=function(e,t){this._counts=Yi(this._counts,e,t),this._invalidate(e)},e.prototype.getTotalValue=function(){return this._ensureValid(),this._viewToModel.length},e.prototype.getAccumulatedValue=function(e){return this._ensureValid(),this._modelToView[e]},e.prototype.getIndexOf=function(e){this._ensureValid();var t=this._viewToModel[e],n=t>0?this._modelToView[t-1]:0;return new mh(t,e-n)},e}(),Vx=function(){function e(e,t,n,i,o,r,s,a){this.model=e,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=t,this._monospaceLineBreaksComputerFactory=n,this.fontInfo=i,this.tabSize=o,this.wrappingStrategy=r,this.wrappingColumn=s,this.wrappingIndent=a,this._constructLines(!0,null)}return e.prototype.dispose=function(){this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,[])},e.prototype.createCoordinatesConverter=function(){return new Fx(this)},e.prototype._constructLines=function(e,t){var n=this;this.lines=[],e&&(this.hiddenAreasIds=[]);for(var i=this.model.getLinesContent(),o=i.length,r=this.createLineBreaksComputer(),s=0;s<o;s++)r.addRequest(i[s],t?t[s]:null);var a=r.finalize(),l=[],u=this.hiddenAreasIds.map((function(e){return n.model.getDecorationRange(e)})).sort(bn.compareRangesUsingStarts),c=1,h=0,d=-1,p=d+1<u.length?h+1:o+2;for(s=0;s<o;s++){var f=s+1;f===p&&(d++,c=u[d].startLineNumber,h=u[d].endLineNumber,p=d+1<u.length?h+1:o+2);var g=f>=c&&f<=h,m=Gx(a[s],!g);l[s]=m.getViewLineCount(),this.lines[s]=m}this._validModelVersionId=this.model.getVersionId(),this.prefixSumComputer=new Bx(l)},e.prototype.getHiddenAreas=function(){var e=this;return this.hiddenAreasIds.map((function(t){return e.model.getDecorationRange(t)}))},e.prototype._reduceRanges=function(e){var t=this;if(0===e.length)return[];for(var n=e.map((function(e){return t.model.validateRange(e)})).sort(bn.compareRangesUsingStarts),i=[],o=n[0].startLineNumber,r=n[0].endLineNumber,s=1,a=n.length;s<a;s++){var l=n[s];l.startLineNumber>r+1?(i.push(new bn(o,1,r,1)),o=l.startLineNumber,r=l.endLineNumber):l.endLineNumber>r&&(r=l.endLineNumber)}return i.push(new bn(o,1,r,1)),i},e.prototype.setHiddenAreas=function(e){var t=this,n=this._reduceRanges(e),i=this.hiddenAreasIds.map((function(e){return t.model.getDecorationRange(e)})).sort(bn.compareRangesUsingStarts);if(n.length===i.length){for(var o=!1,r=0;r<n.length;r++)if(!n[r].equalsRange(i[r])){o=!0;break}if(!o)return!1}for(var s=[],a=0,l=n;a<l.length;a++){var u=l[a];s.push({range:u,options:Xy.EMPTY})}this.hiddenAreasIds=this.model.deltaDecorations(this.hiddenAreasIds,s);var c=n,h=1,d=0,p=-1,f=p+1<c.length?d+1:this.lines.length+2,g=!1;for(r=0;r<this.lines.length;r++){var m=r+1;m===f&&(p++,h=c[p].startLineNumber,d=c[p].endLineNumber,f=p+1<c.length?d+1:this.lines.length+2);var _=!1;if(m>=h&&m<=d?this.lines[r].isVisible()&&(this.lines[r]=this.lines[r].setVisible(!1),_=!0):(g=!0,this.lines[r].isVisible()||(this.lines[r]=this.lines[r].setVisible(!0),_=!0)),_){var v=this.lines[r].getViewLineCount();this.prefixSumComputer.changeValue(r,v)}}return g||this.setHiddenAreas([]),!0},e.prototype.modelPositionIsVisible=function(e,t){return!(e<1||e>this.lines.length)&&this.lines[e-1].isVisible()},e.prototype.setTabSize=function(e){return this.tabSize!==e&&(this.tabSize=e,this._constructLines(!1,null),!0)},e.prototype.setWrappingSettings=function(e,t,n,i){var o=this.fontInfo.equals(e),r=this.wrappingStrategy===t,s=this.wrappingColumn===n,a=this.wrappingIndent===i;if(o&&r&&s&&a)return!1;var l=o&&r&&!s&&a;this.fontInfo=e,this.wrappingStrategy=t,this.wrappingColumn=n,this.wrappingIndent=i;var u=null;if(l){u=[];for(var c=0,h=this.lines.length;c<h;c++)u[c]=this.lines[c].getLineBreakData()}return this._constructLines(!1,u),!0},e.prototype.createLineBreaksComputer=function(){var e="advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory;return e.createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)},e.prototype.onModelFlushed=function(){this._constructLines(!0,null)},e.prototype.onModelLinesDeleted=function(e,t,n){if(e<=this._validModelVersionId)return null;var i=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,o=this.prefixSumComputer.getAccumulatedValue(n-1);return this.lines.splice(t-1,n-t+1),this.prefixSumComputer.removeValues(t-1,n-t+1),new GS(i,o)},e.prototype.onModelLinesInserted=function(e,t,n,i){if(e<=this._validModelVersionId)return null;for(var o=this.getHiddenAreas(),r=!1,s=new yn(t,1),a=0,l=o;a<l.length;a++){var u=l[a];if(u.containsPosition(s)){r=!0;break}}for(var c=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,h=0,d=[],p=[],f=0,g=i.length;f<g;f++){var m=Gx(i[f],!r);d.push(m);var _=m.getViewLineCount();h+=_,p[f]=_}return this.lines=this.lines.slice(0,t-1).concat(d).concat(this.lines.slice(t-1)),this.prefixSumComputer.insertValues(t-1,p),new KS(c,c+h-1)},e.prototype.onModelLineChanged=function(e,t,n){if(e<=this._validModelVersionId)return[!1,null,null,null];var i=t-1,o=this.lines[i].getViewLineCount(),r=this.lines[i].isVisible(),s=Gx(n,r);this.lines[i]=s;var a=this.lines[i].getViewLineCount(),l=!1,u=0,c=-1,h=0,d=-1,p=0,f=-1;o>a?(u=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=u+a-1,p=c+1,f=p+(o-a)-1,l=!0):o<a?(u=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=u+o-1,h=c+1,d=h+(a-o)-1,l=!0):(u=1===t?1:this.prefixSumComputer.getAccumulatedValue(t-2)+1,c=u+a-1),this.prefixSumComputer.changeValue(i,a);var g=u<=c?new jS(u,c):null,m=h<=d?new KS(h,d):null,_=p<=f?new GS(p,f):null;return[l,g,m,_]},e.prototype.acceptVersionId=function(e){this._validModelVersionId=e,1!==this.lines.length||this.lines[0].isVisible()||this.setHiddenAreas([])},e.prototype.getViewLineCount=function(){return this.prefixSumComputer.getTotalValue()},e.prototype._toValidViewLineNumber=function(e){if(e<1)return 1;var t=this.getViewLineCount();return e>t?t:0|e},e.prototype.getActiveIndentGuide=function(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t),n=this._toValidViewLineNumber(n);var i=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),o=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),r=this.convertViewPositionToModelPosition(n,this.getViewLineMinColumn(n)),s=this.model.getActiveIndentGuide(i.lineNumber,o.lineNumber,r.lineNumber),a=this.convertModelPositionToViewPosition(s.startLineNumber,1),l=this.convertModelPositionToViewPosition(s.endLineNumber,this.model.getLineMaxColumn(s.endLineNumber));return{startLineNumber:a.lineNumber,endLineNumber:l.lineNumber,indent:s.indent}},e.prototype.getViewLinesIndentGuides=function(e,t){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var n=this.convertViewPositionToModelPosition(e,this.getViewLineMinColumn(e)),i=this.convertViewPositionToModelPosition(t,this.getViewLineMaxColumn(t)),o=[],r=[],s=[],a=n.lineNumber-1,l=i.lineNumber-1,u=null,c=a;c<=l;c++){var h=this.lines[c];if(h.isVisible()){var d=h.getViewLineNumberOfModelPosition(0,c===a?n.column:1),p=h.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(c+1)),f=p-d+1,g=0;f>1&&1===h.getViewLineMinColumn(this.model,c+1,p)&&(g=0===d?1:2),r.push(f),s.push(g),null===u&&(u=new yn(c+1,0))}else null!==u&&(o=o.concat(this.model.getLinesIndentGuides(u.lineNumber,c)),u=null)}null!==u&&(o=o.concat(this.model.getLinesIndentGuides(u.lineNumber,i.lineNumber)),u=null);for(var m=t-e+1,_=new Array(m),v=0,y=0,b=o.length;y<b;y++){var w=o[y],C=(f=Math.min(m-v,r[y]),g=s[y],void 0);C=2===g?0:1===g?1:f;for(var S=0;S<f;S++)S===C&&(w=0),_[v++]=w}return _},e.prototype.getViewLineContent=function(e){e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineContent(this.model,n+1,i)},e.prototype.getViewLineLength=function(e){e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineLength(this.model,n+1,i)},e.prototype.getViewLineMinColumn=function(e){e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMinColumn(this.model,n+1,i)},e.prototype.getViewLineMaxColumn=function(e){e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineMaxColumn(this.model,n+1,i)},e.prototype.getViewLineData=function(e){e=this._toValidViewLineNumber(e);var t=this.prefixSumComputer.getIndexOf(e-1),n=t.index,i=t.remainder;return this.lines[n].getViewLineData(this.model,n+1,i)},e.prototype.getViewLinesData=function(e,t,n){e=this._toValidViewLineNumber(e),t=this._toValidViewLineNumber(t);for(var i=this.prefixSumComputer.getIndexOf(e-1),o=e,r=i.index,s=i.remainder,a=[],l=r,u=this.model.getLineCount();l<u;l++){var c=this.lines[l];if(c.isVisible()){var h=l===r?s:0,d=c.getViewLineCount()-h,p=!1;o+d>t&&(p=!0,d=t-o+1);var f=h+d;if(c.getViewLinesData(this.model,l+1,h,f,o-e,n,a),o+=d,p)break}}return a},e.prototype.validateViewPosition=function(e,t,n){e=this._toValidViewLineNumber(e);var i=this.prefixSumComputer.getIndexOf(e-1),o=i.index,r=i.remainder,s=this.lines[o],a=s.getViewLineMinColumn(this.model,o+1,r),l=s.getViewLineMaxColumn(this.model,o+1,r);t<a&&(t=a),t>l&&(t=l);var u=s.getModelColumnOfViewPosition(r,t),c=this.model.validatePosition(new yn(o+1,u));return c.equals(n)?new yn(e,t):this.convertModelPositionToViewPosition(n.lineNumber,n.column)},e.prototype.validateViewRange=function(e,t){var n=this.validateViewPosition(e.startLineNumber,e.startColumn,t.getStartPosition()),i=this.validateViewPosition(e.endLineNumber,e.endColumn,t.getEndPosition());return new bn(n.lineNumber,n.column,i.lineNumber,i.column)},e.prototype.convertViewPositionToModelPosition=function(e,t){e=this._toValidViewLineNumber(e);var n=this.prefixSumComputer.getIndexOf(e-1),i=n.index,o=n.remainder,r=this.lines[i].getModelColumnOfViewPosition(o,t);return this.model.validatePosition(new yn(i+1,r))},e.prototype.convertViewRangeToModelRange=function(e){var t=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),n=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);return new bn(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype.convertModelPositionToViewPosition=function(e,t){var n=this.model.validatePosition(new yn(e,t)),i=n.lineNumber,o=n.column,r=i-1,s=!1;while(r>0&&!this.lines[r].isVisible())r--,s=!0;if(0===r&&!this.lines[r].isVisible())return new yn(1,1);var a,l=1+(0===r?0:this.prefixSumComputer.getAccumulatedValue(r-1));return a=s?this.lines[r].getViewPositionOfModelPosition(l,this.model.getLineMaxColumn(r+1)):this.lines[i-1].getViewPositionOfModelPosition(l,o),a},e.prototype.convertModelRangeToViewRange=function(e){var t=this.convertModelPositionToViewPosition(e.startLineNumber,e.startColumn),n=this.convertModelPositionToViewPosition(e.endLineNumber,e.endColumn);return e.startLineNumber===e.endLineNumber&&t.lineNumber!==n.lineNumber&&n.column===this.getViewLineMinColumn(n.lineNumber)?new bn(t.lineNumber,t.column,n.lineNumber-1,this.getViewLineMaxColumn(n.lineNumber-1)):new bn(t.lineNumber,t.column,n.lineNumber,n.column)},e.prototype._getViewLineNumberForModelPosition=function(e,t){var n=e-1;if(this.lines[n].isVisible()){var i=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(i,t)}while(n>0&&!this.lines[n].isVisible())n--;if(0===n&&!this.lines[n].isVisible())return 1;var o=1+(0===n?0:this.prefixSumComputer.getAccumulatedValue(n-1));return this.lines[n].getViewLineNumberOfModelPosition(o,this.model.getLineMaxColumn(n+1))},e.prototype.getAllOverviewRulerDecorations=function(e,t,n){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new Yx,r=0,s=i;r<s.length;r++){var a=s[r],l=a.options.overviewRuler,u=l?l.position:0;if(0!==u){var c=l.getColor(n),h=this._getViewLineNumberForModelPosition(a.range.startLineNumber,a.range.startColumn),d=this._getViewLineNumberForModelPosition(a.range.endLineNumber,a.range.endColumn);o.accept(c,h,d,u)}}return o.result},e.prototype.getDecorationsInRange=function(e,t,n){var i=this.convertViewPositionToModelPosition(e.startLineNumber,e.startColumn),o=this.convertViewPositionToModelPosition(e.endLineNumber,e.endColumn);if(o.lineNumber-i.lineNumber<=e.endLineNumber-e.startLineNumber)return this.model.getDecorationsInRange(new bn(i.lineNumber,1,o.lineNumber,o.column),t,n);for(var r=[],s=i.lineNumber-1,a=o.lineNumber-1,l=null,u=s;u<=a;u++){var c=this.lines[u];if(c.isVisible())null===l&&(l=new yn(u+1,u===s?i.column:1));else if(null!==l){var h=this.model.getLineMaxColumn(u);r=r.concat(this.model.getDecorationsInRange(new bn(l.lineNumber,l.column,u,h),t,n)),l=null}}null!==l&&(r=r.concat(this.model.getDecorationsInRange(new bn(l.lineNumber,l.column,o.lineNumber,o.column),t,n)),l=null),r.sort((function(e,t){var n=bn.compareRangesUsingStarts(e.range,t.range);return 0===n?e.id<t.id?-1:e.id>t.id?1:0:n}));for(var d=[],p=0,f=null,g=0,m=r;g<m.length;g++){var _=m[g],v=_.id;f!==v&&(f=v,d[p++]=_)}return d},e}(),Hx=function(){function e(){}return e.prototype.isVisible=function(){return!0},e.prototype.setVisible=function(e){return e?this:$x.INSTANCE},e.prototype.getLineBreakData=function(){return null},e.prototype.getViewLineCount=function(){return 1},e.prototype.getViewLineContent=function(e,t,n){return e.getLineContent(t)},e.prototype.getViewLineLength=function(e,t,n){return e.getLineLength(t)},e.prototype.getViewLineMinColumn=function(e,t,n){return e.getLineMinColumn(t)},e.prototype.getViewLineMaxColumn=function(e,t,n){return e.getLineMaxColumn(t)},e.prototype.getViewLineData=function(e,t,n){var i=e.getLineTokens(t),o=i.getLineContent();return new Nd(o,!1,1,o.length+1,0,i.inflate())},e.prototype.getViewLinesData=function(e,t,n,i,o,r,s){r[o]?s[o]=this.getViewLineData(e,t,0):s[o]=null},e.prototype.getModelColumnOfViewPosition=function(e,t){return t},e.prototype.getViewPositionOfModelPosition=function(e,t){return new yn(e,t)},e.prototype.getViewLineNumberOfModelPosition=function(e,t){return e},e.INSTANCE=new e,e}(),$x=function(){function e(){}return e.prototype.isVisible=function(){return!1},e.prototype.setVisible=function(e){return e?Hx.INSTANCE:this},e.prototype.getLineBreakData=function(){return null},e.prototype.getViewLineCount=function(){return 0},e.prototype.getViewLineContent=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineLength=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineMinColumn=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineMaxColumn=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLineData=function(e,t,n){throw new Error("Not supported")},e.prototype.getViewLinesData=function(e,t,n,i,o,r,s){throw new Error("Not supported")},e.prototype.getModelColumnOfViewPosition=function(e,t){throw new Error("Not supported")},e.prototype.getViewPositionOfModelPosition=function(e,t){throw new Error("Not supported")},e.prototype.getViewLineNumberOfModelPosition=function(e,t){throw new Error("Not supported")},e.INSTANCE=new e,e}(),Wx=function(){function e(e,t){this._lineBreakData=e,this._isVisible=t}return e.prototype.isVisible=function(){return this._isVisible},e.prototype.setVisible=function(e){return this._isVisible=e,this},e.prototype.getLineBreakData=function(){return this._lineBreakData},e.prototype.getViewLineCount=function(){return this._isVisible?this._lineBreakData.breakOffsets.length:0},e.prototype.getInputStartOffsetOfOutputLineIndex=function(e){return Px.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,0)},e.prototype.getInputEndOffsetOfOutputLineIndex=function(e,t,n){return n+1===this._lineBreakData.breakOffsets.length?e.getLineMaxColumn(t)-1:Px.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,n+1,0)},e.prototype.getViewLineContent=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});return n>0&&(r=zx(this._lineBreakData.wrappedTextIndentLength)+r),r},e.prototype.getViewLineLength=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=o-i;return n>0&&(r=this._lineBreakData.wrappedTextIndentLength+r),r},e.prototype.getViewLineMinColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return n>0?this._lineBreakData.wrappedTextIndentLength+1:1},e.prototype.getViewLineMaxColumn=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");return this.getViewLineContent(e,t,n).length+1},e.prototype.getViewLineData=function(e,t,n){if(!this._isVisible)throw new Error("Not supported");var i=this.getInputStartOffsetOfOutputLineIndex(n),o=this.getInputEndOffsetOfOutputLineIndex(e,t,n),r=e.getValueInRange({startLineNumber:t,startColumn:i+1,endLineNumber:t,endColumn:o+1});n>0&&(r=zx(this._lineBreakData.wrappedTextIndentLength)+r);var s=n>0?this._lineBreakData.wrappedTextIndentLength+1:1,a=r.length+1,l=n+1<this.getViewLineCount(),u=0;n>0&&(u=this._lineBreakData.wrappedTextIndentLength);var c=e.getLineTokens(t),h=0===n?0:this._lineBreakData.breakOffsetsVisibleColumn[n-1];return new Nd(r,l,s,a,h,c.sliceAndInflate(i,o,u))},e.prototype.getViewLinesData=function(e,t,n,i,o,r,s){if(!this._isVisible)throw new Error("Not supported");for(var a=n;a<i;a++){var l=o+a-n;r[l]?s[l]=this.getViewLineData(e,t,a):s[l]=null}},e.prototype.getModelColumnOfViewPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=t-1;return e>0&&(n<this._lineBreakData.wrappedTextIndentLength?n=0:n-=this._lineBreakData.wrappedTextIndentLength),Px.getInputOffsetOfOutputPosition(this._lineBreakData.breakOffsets,e,n)+1},e.prototype.getViewPositionOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=Px.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1),i=n.outputLineIndex,o=n.outputOffset+1;return i>0&&(o+=this._lineBreakData.wrappedTextIndentLength),new yn(e+i,o)},e.prototype.getViewLineNumberOfModelPosition=function(e,t){if(!this._isVisible)throw new Error("Not supported");var n=Px.getOutputPositionOfInputOffset(this._lineBreakData.breakOffsets,t-1);return e+n.outputLineIndex},e}(),Ux=[""];function zx(e){if(e>=Ux.length)for(var t=1;t<=e;t++)Ux[t]=jx(t);return Ux[e]}function jx(e){return new Array(e+1).join(" ")}function Gx(e,t){return null===e?t?Hx.INSTANCE:$x.INSTANCE:new Wx(e,t)}var Kx=function(){function e(e){this._lines=e}return e.prototype._validPosition=function(e){return this._lines.model.validatePosition(e)},e.prototype._validRange=function(e){return this._lines.model.validateRange(e)},e.prototype.convertViewPositionToModelPosition=function(e){return this._validPosition(e)},e.prototype.convertViewRangeToModelRange=function(e){return this._validRange(e)},e.prototype.validateViewPosition=function(e,t){return this._validPosition(t)},e.prototype.validateViewRange=function(e,t){return this._validRange(t)},e.prototype.convertModelPositionToViewPosition=function(e){return this._validPosition(e)},e.prototype.convertModelRangeToViewRange=function(e){return this._validRange(e)},e.prototype.modelPositionIsVisible=function(e){var t=this._lines.model.getLineCount();return!(e.lineNumber<1||e.lineNumber>t)},e}(),qx=function(){function e(e){this.model=e}return e.prototype.dispose=function(){},e.prototype.createCoordinatesConverter=function(){return new Kx(this)},e.prototype.getHiddenAreas=function(){return[]},e.prototype.setHiddenAreas=function(e){return!1},e.prototype.setTabSize=function(e){return!1},e.prototype.setWrappingSettings=function(e,t,n,i){return!1},e.prototype.createLineBreaksComputer=function(){var e=[];return{addRequest:function(t,n){e.push(null)},finalize:function(){return e}}},e.prototype.onModelFlushed=function(){},e.prototype.onModelLinesDeleted=function(e,t,n){return new GS(t,n)},e.prototype.onModelLinesInserted=function(e,t,n,i){return new KS(t,n)},e.prototype.onModelLineChanged=function(e,t,n){return[!1,new jS(t,t),null,null]},e.prototype.acceptVersionId=function(e){},e.prototype.getViewLineCount=function(){return this.model.getLineCount()},e.prototype.getActiveIndentGuide=function(e,t,n){return{startLineNumber:e,endLineNumber:e,indent:0}},e.prototype.getViewLinesIndentGuides=function(e,t){for(var n=t-e+1,i=new Array(n),o=0;o<n;o++)i[o]=0;return i},e.prototype.getViewLineContent=function(e){return this.model.getLineContent(e)},e.prototype.getViewLineLength=function(e){return this.model.getLineLength(e)},e.prototype.getViewLineMinColumn=function(e){return this.model.getLineMinColumn(e)},e.prototype.getViewLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},e.prototype.getViewLineData=function(e){var t=this.model.getLineTokens(e),n=t.getLineContent();return new Nd(n,!1,1,n.length+1,0,t.inflate())},e.prototype.getViewLinesData=function(e,t,n){var i=this.model.getLineCount();e=Math.min(Math.max(1,e),i),t=Math.min(Math.max(1,t),i);for(var o=[],r=e;r<=t;r++){var s=r-e;n[s]||(o[s]=null),o[s]=this.getViewLineData(r)}return o},e.prototype.getAllOverviewRulerDecorations=function(e,t,n){for(var i=this.model.getOverviewRulerDecorations(e,t),o=new Yx,r=0,s=i;r<s.length;r++){var a=s[r],l=a.options.overviewRuler,u=l?l.position:0;if(0!==u){var c=l.getColor(n),h=a.range.startLineNumber,d=a.range.endLineNumber;o.accept(c,h,d,u)}}return o.result},e.prototype.getDecorationsInRange=function(e,t,n){return this.model.getDecorationsInRange(e,t,n)},e}(),Yx=function(){function e(){this.result=Object.create(null)}return e.prototype.accept=function(e,t,n,i){var o=this.result[e];if(o){var r=o[o.length-3],s=o[o.length-1];if(r===i&&s+1>=t)return void(n>s&&(o[o.length-1]=n));o.push(i,t,n)}else this.result[e]=[i,t,n]},e}(),Xx=function(){function e(e,t,n,i,o){this.editorId=e,this.model=t,this.configuration=n,this._linesCollection=i,this._coordinatesConverter=o,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}return e.prototype._clearCachedModelDecorationsResolver=function(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null},e.prototype.dispose=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.reset=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onModelDecorationsChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype.onLineMappingChanged=function(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()},e.prototype._getOrCreateViewModelDecoration=function(e){var t=e.id,n=this._decorationsCache[t];if(!n){var i=e.range,o=e.options,r=void 0;if(o.isWholeLine){var s=this._coordinatesConverter.convertModelPositionToViewPosition(new yn(i.startLineNumber,1)),a=this._coordinatesConverter.convertModelPositionToViewPosition(new yn(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)));r=new bn(s.lineNumber,s.column,a.lineNumber,a.column)}else r=this._coordinatesConverter.convertModelRangeToViewRange(i);n=new Md(r,o),this._decorationsCache[t]=n}return n},e.prototype.getDecorationsViewportData=function(e){var t=null!==this._cachedModelDecorationsResolver;return t=t&&e.equalsRange(this._cachedModelDecorationsResolverViewRange),t||(this._cachedModelDecorationsResolver=this._getDecorationsViewportData(e),this._cachedModelDecorationsResolverViewRange=e),this._cachedModelDecorationsResolver},e.prototype._getDecorationsViewportData=function(e){for(var t=this._linesCollection.getDecorationsInRange(e,this.editorId,Z(this.configuration.options)),n=e.startLineNumber,i=e.endLineNumber,o=[],r=0,s=[],a=n;a<=i;a++)s[a-n]=[];for(var l=0,u=t.length;l<u;l++){var c=t[l],h=c.options,d=this._getOrCreateViewModelDecoration(c),p=d.range;if(o[r++]=d,h.inlineClassName){var f=new Ad(p,h.inlineClassName,h.inlineClassNameAffectsLetterSpacing?3:0),g=Math.max(n,p.startLineNumber),m=Math.min(i,p.endLineNumber);for(a=g;a<=m;a++)s[a-n].push(f)}if(h.beforeContentClassName&&n<=p.startLineNumber&&p.startLineNumber<=i){f=new Ad(new bn(p.startLineNumber,p.startColumn,p.startLineNumber,p.startColumn),h.beforeContentClassName,1);s[p.startLineNumber-n].push(f)}if(h.afterContentClassName&&n<=p.endLineNumber&&p.endLineNumber<=i){f=new Ad(new bn(p.endLineNumber,p.endColumn,p.endLineNumber,p.endColumn),h.afterContentClassName,2);s[p.endLineNumber-n].push(f)}}return{decorations:o,inlineDecorations:s}},e}(),Zx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Jx=!0,Qx=function(e){function t(t,n,i,o,r,s){var a=e.call(this)||this;if(a.editorId=t,a.configuration=n,a.model=i,a._tokenizeViewportSoon=a._register(new ki((function(){return a.tokenizeViewport()}),50)),a.hasFocus=!1,a.viewportStartLine=-1,a.viewportStartLineTrackedRange=null,a.viewportStartLineDelta=0,Jx&&a.model.isTooLargeForTokenization())a.lines=new qx(a.model);else{var l=a.configuration.options,u=l.get(34),c=l.get(103),h=l.get(108),d=l.get(102);a.lines=new Vx(a.model,o,r,u,a.model.getOptions().tabSize,c,h.wrappingColumn,d)}return a.coordinatesConverter=a.lines.createCoordinatesConverter(),a.viewLayout=a._register(new Ax(a.configuration,a.getLineCount(),s)),a._register(a.viewLayout.onDidScroll((function(e){e.scrollTopChanged&&a._tokenizeViewportSoon.schedule();try{var t=a._beginEmit();t.emit(new YS(e))}finally{a._endEmit()}}))),a._register(a.viewLayout.onDidContentSizeChange((function(e){try{var t=a._beginEmit();t.emit(new BS(e))}finally{a._endEmit()}}))),a.decorations=new Xx(a.editorId,a.model,a.configuration,a.lines,a.coordinatesConverter),a._registerModelEvents(),a._register(a.configuration.onDidChange((function(e){try{var t=a._beginEmit();a._onConfigurationChanged(t,e)}finally{a._endEmit()}}))),a._register(dk.getInstance().onDidChange((function(){try{var e=a._beginEmit();e.emit(new JS)}finally{a._endEmit()}}))),a}return Zx(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.decorations.dispose(),this.lines.dispose(),this.invalidateMinimapColorCache(),this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,null,1)},t.prototype.tokenizeViewport=function(){var e=this.viewLayout.getLinesViewportData(),t=this.coordinatesConverter.convertViewPositionToModelPosition(new yn(e.startLineNumber,1)),n=this.coordinatesConverter.convertViewPositionToModelPosition(new yn(e.endLineNumber,1));this.model.tokenizeViewport(t.lineNumber,n.lineNumber)},t.prototype.setHasFocus=function(e){this.hasFocus=e},t.prototype._onConfigurationChanged=function(e,t){var n=null;if(-1!==this.viewportStartLine){var i=new yn(this.viewportStartLine,this.getLineMinColumn(this.viewportStartLine));n=this.coordinatesConverter.convertViewPositionToModelPosition(i)}var o=!1,r=this.configuration.options,s=r.get(34),a=r.get(103),l=r.get(108),u=r.get(102);if(this.lines.setWrappingSettings(s,a,l.wrappingColumn,u)&&(e.emit(new $S),e.emit(new zS),e.emit(new HS),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),0!==this.viewLayout.getCurrentScrollTop()&&(o=!0)),t.hasChanged(68)&&(this.decorations.reset(),e.emit(new HS)),e.emit(new FS(t)),this.viewLayout.onConfigurationChanged(t),o&&n){var c=this.coordinatesConverter.convertModelPositionToViewPosition(n),h=this.viewLayout.getVerticalOffsetForLineNumber(c.lineNumber);this.viewLayout.setScrollPositionNow({scrollTop:h+this.viewportStartLineDelta})}},t.prototype._registerModelEvents=function(){var e=this;this._register(this.model.onDidChangeRawContentFast((function(t){try{for(var n=e._beginEmit(),i=!1,o=!1,r=t.changes,s=t.versionId,a=e.lines.createLineBreaksComputer(),l=0,u=r;l<u.length;l++){var c=u[l];switch(c.changeType){case 4:for(var h=0,d=c.detail;h<d.length;h++){var p=d[h];a.addRequest(p,null)}break;case 2:a.addRequest(c.detail,null);break}}for(var f=a.finalize(),g=0,m=0,_=r;m<_.length;m++){c=_[m];switch(c.changeType){case 1:e.lines.onModelFlushed(),n.emit(new $S),e.decorations.reset(),e.viewLayout.onFlushed(e.getLineCount()),i=!0;break;case 3:var v=e.lines.onModelLinesDeleted(s,c.fromLineNumber,c.toLineNumber);null!==v&&(n.emit(v),e.viewLayout.onLinesDeleted(v.fromLineNumber,v.toLineNumber)),i=!0;break;case 4:var y=f.slice(g,g+c.detail.length);g+=c.detail.length;var b=e.lines.onModelLinesInserted(s,c.fromLineNumber,c.toLineNumber,y);null!==b&&(n.emit(b),e.viewLayout.onLinesInserted(b.fromLineNumber,b.toLineNumber)),i=!0;break;case 2:var w=f[g];g++;var C=e.lines.onModelLineChanged(s,c.lineNumber,w),S=C[0],E=C[1];b=C[2],v=C[3];o=S,E&&n.emit(E),b&&(n.emit(b),e.viewLayout.onLinesInserted(b.fromLineNumber,b.toLineNumber)),v&&(n.emit(v),e.viewLayout.onLinesDeleted(v.fromLineNumber,v.toLineNumber));break;case 5:break}}e.lines.acceptVersionId(s),e.viewLayout.onHeightMaybeChanged(),!i&&o&&(n.emit(new zS),n.emit(new HS),e.decorations.onLineMappingChanged())}finally{e._endEmit()}if(e.viewportStartLine=-1,e.configuration.setMaxLineNumber(e.model.getLineCount()),!e.hasFocus&&e.model.getAttachedEditorCount()>=2&&e.viewportStartLineTrackedRange){var T=e.model._getTrackedRange(e.viewportStartLineTrackedRange);if(T){var k=e.coordinatesConverter.convertModelPositionToViewPosition(T.getStartPosition()),x=e.viewLayout.getVerticalOffsetForLineNumber(k.lineNumber);e.viewLayout.setScrollPositionNow({scrollTop:x+e.viewportStartLineDelta})}}}))),this._register(this.model.onDidChangeTokens((function(t){for(var n=[],i=0,o=t.ranges.length;i<o;i++){var r=t.ranges[i],s=e.coordinatesConverter.convertModelPositionToViewPosition(new yn(r.fromLineNumber,1)).lineNumber,a=e.coordinatesConverter.convertModelPositionToViewPosition(new yn(r.toLineNumber,e.model.getLineMaxColumn(r.toLineNumber))).lineNumber;n[i]={fromLineNumber:s,toLineNumber:a}}try{var l=e._beginEmit();l.emit(new ZS(n))}finally{e._endEmit()}t.tokenizationSupportChanged&&e._tokenizeViewportSoon.schedule()}))),this._register(this.model.onDidChangeLanguageConfiguration((function(t){try{var n=e._beginEmit();n.emit(new US)}finally{e._endEmit()}}))),this._register(this.model.onDidChangeOptions((function(t){if(e.lines.setTabSize(e.model.getOptions().tabSize)){e.decorations.onLineMappingChanged(),e.viewLayout.onFlushed(e.getLineCount());try{var n=e._beginEmit();n.emit(new $S),n.emit(new zS),n.emit(new HS)}finally{e._endEmit()}}}))),this._register(this.model.onDidChangeDecorations((function(t){e.decorations.onModelDecorationsChanged();try{var n=e._beginEmit();n.emit(new HS)}finally{e._endEmit()}})))},t.prototype.setHiddenAreas=function(e){try{var t=this._beginEmit(),n=this.lines.setHiddenAreas(e);n&&(t.emit(new $S),t.emit(new zS),t.emit(new HS),this.decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._endEmit()}},t.prototype.getVisibleRanges=function(){var e=this.getCompletelyVisibleViewRange(),t=this.coordinatesConverter.convertViewRangeToModelRange(e),n=this.lines.getHiddenAreas();if(0===n.length)return[t];for(var i=[],o=0,r=t.startLineNumber,s=t.startColumn,a=t.endLineNumber,l=t.endColumn,u=0,c=n.length;u<c;u++){var h=n[u].startLineNumber,d=n[u].endLineNumber;d<r||(h>a||(r<h&&(i[o++]=new bn(r,s,h-1,this.model.getLineMaxColumn(h-1))),r=d+1,s=1))}return(r<a||r===a&&s<l)&&(i[o++]=new bn(r,s,a,l)),i},t.prototype.getCompletelyVisibleViewRange=function(){var e=this.viewLayout.getLinesViewportData(),t=e.completelyVisibleStartLineNumber,n=e.completelyVisibleEndLineNumber;return new bn(t,this.getLineMinColumn(t),n,this.getLineMaxColumn(n))},t.prototype.getCompletelyVisibleViewRangeAtScrollTop=function(e){var t=this.viewLayout.getLinesViewportDataAtScrollTop(e),n=t.completelyVisibleStartLineNumber,i=t.completelyVisibleEndLineNumber;return new bn(n,this.getLineMinColumn(n),i,this.getLineMaxColumn(i))},t.prototype.saveState=function(){var e=this.viewLayout.saveState(),t=e.scrollTop,n=this.viewLayout.getLineNumberAtVerticalOffset(t),i=this.coordinatesConverter.convertViewPositionToModelPosition(new yn(n,this.getLineMinColumn(n))),o=this.viewLayout.getVerticalOffsetForLineNumber(n)-t;return{scrollLeft:e.scrollLeft,firstPosition:i,firstPositionDeltaTop:o}},t.prototype.reduceRestoreState=function(e){if("undefined"===typeof e.firstPosition)return this._reduceRestoreStateCompatibility(e);var t=this.model.validatePosition(e.firstPosition),n=this.coordinatesConverter.convertModelPositionToViewPosition(t),i=this.viewLayout.getVerticalOffsetForLineNumber(n.lineNumber)-e.firstPositionDeltaTop;return{scrollLeft:e.scrollLeft,scrollTop:i}},t.prototype._reduceRestoreStateCompatibility=function(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTopWithoutViewZones}},t.prototype.getTabSize=function(){return this.model.getOptions().tabSize},t.prototype.getOptions=function(){return this.model.getOptions()},t.prototype.getLineCount=function(){return this.lines.getViewLineCount()},t.prototype.setViewport=function(e,t,n){this.viewportStartLine=e;var i=this.coordinatesConverter.convertViewPositionToModelPosition(new yn(e,this.getLineMinColumn(e)));this.viewportStartLineTrackedRange=this.model._setTrackedRange(this.viewportStartLineTrackedRange,new bn(i.lineNumber,i.column,i.lineNumber,i.column),1);var o=this.viewLayout.getVerticalOffsetForLineNumber(e),r=this.viewLayout.getCurrentScrollTop();this.viewportStartLineDelta=r-o},t.prototype.getActiveIndentGuide=function(e,t,n){return this.lines.getActiveIndentGuide(e,t,n)},t.prototype.getLinesIndentGuides=function(e,t){return this.lines.getViewLinesIndentGuides(e,t)},t.prototype.getLineContent=function(e){return this.lines.getViewLineContent(e)},t.prototype.getLineLength=function(e){return this.lines.getViewLineLength(e)},t.prototype.getLineMinColumn=function(e){return this.lines.getViewLineMinColumn(e)},t.prototype.getLineMaxColumn=function(e){return this.lines.getViewLineMaxColumn(e)},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=jr(this.getLineContent(e));return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=Kr(this.getLineContent(e));return-1===t?0:t+2},t.prototype.getDecorationsInViewport=function(e){return this.decorations.getDecorationsViewportData(e).decorations},t.prototype.getViewLineRenderingData=function(e,t){var n=this.model.mightContainRTL(),i=this.model.mightContainNonBasicASCII(),o=this.getTabSize(),r=this.lines.getViewLineData(t),s=this.decorations.getDecorationsViewportData(e).inlineDecorations,a=s[t-e.startLineNumber];return new Rd(r.minColumn,r.maxColumn,r.content,r.continuesWithWrappedLine,n,i,r.tokens,a,o,r.startVisibleColumn)},t.prototype.getViewLineData=function(e){return this.lines.getViewLineData(e)},t.prototype.getMinimapLinesRenderingData=function(e,t,n){var i=this.lines.getViewLinesData(e,t,n);return new Dd(this.getTabSize(),i)},t.prototype.getAllOverviewRulerDecorations=function(e){return this.lines.getAllOverviewRulerDecorations(this.editorId,Z(this.configuration.options),e)},t.prototype.invalidateOverviewRulerColorCache=function(){for(var e=this.model.getOverviewRulerDecorations(),t=0,n=e;t<n.length;t++){var i=n[t],o=i.options.overviewRuler;o&&o.invalidateCachedColor()}},t.prototype.invalidateMinimapColorCache=function(){for(var e=this.model.getAllDecorations(),t=0,n=e;t<n.length;t++){var i=n[t],o=i.options.minimap;o&&o.invalidateCachedColor()}},t.prototype.getValueInRange=function(e,t){var n=this.coordinatesConverter.convertViewRangeToModelRange(e);return this.model.getValueInRange(n,t)},t.prototype.getModelLineMaxColumn=function(e){return this.model.getLineMaxColumn(e)},t.prototype.validateModelPosition=function(e){return this.model.validatePosition(e)},t.prototype.validateModelRange=function(e){return this.model.validateRange(e)},t.prototype.deduceModelPositionRelativeToViewPosition=function(e,t,n){var i=this.coordinatesConverter.convertViewPositionToModelPosition(e);2===this.model.getEOL().length&&(t<0?t-=n:t+=n);var o=this.model.getOffsetAt(i),r=o+t;return this.model.getPositionAt(r)},t.prototype.getEOL=function(){return this.model.getEOL()},t.prototype.getPlainTextToCopy=function(e,t,n){var i=n?"\r\n":this.model.getEOL();e=e.slice(0),e.sort(bn.compareRangesUsingStarts);for(var o=!1,r=!1,s=0,a=e;s<a.length;s++){var l=a[s];l.isEmpty()?o=!0:r=!0}if(!r){if(!t)return"";for(var u=e.map((function(e){return e.startLineNumber})),c="",h=0;h<u.length;h++)h>0&&u[h-1]===u[h]||(c+=this.model.getLineContent(u[h])+i);return c}if(o&&t){for(var d=[],p=0,f=0,g=e;f<g.length;f++){var m=g[f],_=m.startLineNumber;m.isEmpty()?_!==p&&d.push(this.model.getLineContent(_)):d.push(this.model.getValueInRange(m,n?2:0)),p=_}return 1===d.length?d[0]:d}for(var v=[],y=0,b=e;y<b.length;y++){m=b[y];m.isEmpty()||v.push(this.model.getValueInRange(m,n?2:0))}return 1===v.length?v[0]:v},t.prototype.getRichTextToCopy=function(e,t){var n=this.model.getLanguageIdentifier();if(1===n.id)return null;if(1!==e.length)return null;var i=e[0];if(i.isEmpty()){if(!t)return null;var o=i.startLineNumber;i=new bn(o,this.model.getLineMinColumn(o),o,this.model.getLineMaxColumn(o))}var r=this.configuration.options.get(34),s=this._getColorMap(),a=r.fontFamily===le.fontFamily?r.fontFamily:"'"+r.fontFamily+"', "+le.fontFamily;return{mode:n.language,html:'<div style="color: '+s[1]+";background-color: "+s[2]+";font-family: "+a+";font-weight: "+r.fontWeight+";font-size: "+r.fontSize+"px;line-height: "+r.lineHeight+'px;white-space: pre;">'+this._getHTMLToCopy(i,s)+"</div>"}},t.prototype._getHTMLToCopy=function(e,t){for(var n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn,a=this.getTabSize(),l="",u=n;u<=o;u++){var c=this.model.getLineTokens(u),h=c.getLineContent(),d=u===n?i-1:0,p=u===o?r-1:h.length;l+=""===h?"<br>":Tx(h,c.inflate(),t,d,p,a,s["h"])}return l},t.prototype._getColorMap=function(){var e=Zu.getColorMap(),t=["#000000"];if(e)for(var n=1,i=e.length;n<i;n++)t[n]=My.Format.CSS.formatHex(e[n]);return t},t}(eE),eL=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._entries=new Map;for(var n=0,i=e;n<i.length;n++){var o=i[n],r=o[0],s=o[1];this.set(r,s)}}return e.prototype.set=function(e,t){var n=this._entries.get(e);return this._entries.set(e,t),n},e.prototype.has=function(e){return this._entries.has(e)},e.prototype.get=function(e){return this._entries.get(e)},e}(),tL=Dn("accessibilityService"),nL=new Ff("accessibilityModeEnabled",!1),iL=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oL=function(e){function t(t,n){for(var i=e.call(this,0)||this,o=0;o<t.length;o++)i.set(t.charCodeAt(o),1);for(o=0;o<n.length;o++)i.set(n.charCodeAt(o),2);return i}return iL(t,e),t.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:e>=12352&&e<=12543||e>=13312&&e<=19903||e>=19968&&e<=40959?3:this._map.get(e)||this._defaultValue},t}(yh),rL=[],sL=[],aL=function(){function e(e,t){this.classifier=new oL(e,t)}return e.create=function(t){return new e(t.get(99),t.get(98))},e.prototype.createLineBreaksComputer=function(e,t,n,i){var o=this;t|=0,n=+n;var r=[],s=[];return{addRequest:function(e,t){r.push(e),s.push(t)},finalize:function(){for(var a=e.typicalFullwidthCharacterWidth/e.typicalHalfwidthCharacterWidth,l=[],u=0,c=r.length;u<c;u++){var h=s[u];l[u]=h?lL(o.classifier,h,r[u],t,n,a,i):uL(o.classifier,r[u],t,n,a,i)}return rL.length=0,sL.length=0,l}}},e}();function lL(e,t,n,i,o,r,s){if(-1===o)return null;var a=n.length;if(a<=1)return null;var l=t.breakOffsets,u=t.breakOffsetsVisibleColumn,c=pL(n,i,o,r,s),h=o-c,d=rL,p=sL,f=0,g=o,m=l.length,_=0;if(_>=0){var v=Math.abs(u[_]-g);while(_+1<m){var y=Math.abs(u[_+1]-g);if(y>=v)break;v=y,_++}}while(_<m){var b=_<0?0:l[_],w=_<0?0:u[_],C=0,S=0,E=0,T=0;if(w<=g){for(var k=w,x=n.charCodeAt(b-1),L=e.get(x),I=!0,O=b;O<a;O++){var D=O,N=n.charCodeAt(O),R=void 0,A=void 0;if(os(N)?(O++,R=0,A=2):(R=e.get(N),A=cL(N,k,i,r)),dL(x,L,N,R)&&(C=D,S=k),k+=A,k>g){E=D,T=k-A,k-S>h&&(C=0),I=!1;break}x=N,L=R}if(I){f>0&&(d[f]=l[l.length-1],p[f]=u[l.length-1],f++);break}}if(0===C){k=w,N=n.charCodeAt(b),R=e.get(N);var M=!1;for(O=b-1;O>=0;O--){D=O+1,x=n.charCodeAt(O);if(9===x){M=!0;break}L=void 0;var P=void 0;if(rs(x)?(O--,L=0,P=2):(L=e.get(x),P=_s(x)?r:1),k<=g){if(0===E&&(E=D,T=k),k<=g-h)break;if(dL(x,L,N,R)){C=D,S=k;break}}k-=P,N=x,R=L}if(0!==C){var F=h-(T-S);if(F<=i){var B=n.charCodeAt(E);A=void 0;A=os(B)?2:cL(B,T,i,r),F-A<0&&(C=0)}}if(M){_--;continue}}0===C&&(C=E,S=T),d[f]=C,p[f]=S,f++,g=S+h;while(_<0||_<m&&u[_]<S)_++;v=Math.abs(u[_]-g);while(_+1<m){y=Math.abs(u[_+1]-g);if(y>=v)break;v=y,_++}}return 0===f?null:(d.length=f,p.length=f,rL=t.breakOffsets,sL=t.breakOffsetsVisibleColumn,t.breakOffsets=d,t.breakOffsetsVisibleColumn=p,t.wrappedTextIndentLength=c,t)}function uL(e,t,n,i,o,r){if(-1===i)return null;var s=t.length;if(s<=1)return null;var a=pL(t,n,i,o,r),l=i-a,u=[],c=[],h=0,d=0,p=0,f=i,g=t.charCodeAt(0),m=e.get(g),_=cL(g,0,n,o),v=1;os(g)&&(_+=1,g=t.charCodeAt(1),m=e.get(g),v++);for(var y=v;y<s;y++){var b=y,w=t.charCodeAt(y),C=void 0,S=void 0;os(w)?(y++,C=0,S=2):(C=e.get(w),S=cL(w,_,n,o)),dL(g,m,w,C)&&(d=b,p=_),_+=S,_>f&&((0===d||_-p>l)&&(d=b,p=_-S),u[h]=d,c[h]=p,h++,f=p+l,d=0),g=w,m=C}return 0===h?null:(u[h]=s,c[h]=_,new Px(u,c,a))}function cL(e,t,n,i){return 9===e?n-t%n:_s(e)?i:1}function hL(e,t){return t-e%t}function dL(e,t,n,i){return 32!==n&&(2===t||3===t&&2!==i||1===i||3===i&&1!==t)}function pL(e,t,n,i,o){var r=0;if(0!==o){var s=jr(e);if(-1!==s){for(var a=0;a<s;a++){var l=9===e.charCodeAt(a)?hL(r,t):1;r+=l}var u=3===o?2:2===o?1:0;for(a=0;a<u;a++){l=hL(r,t);r+=l}r+i>n&&(r=0)}}return r}var fL=function(){function e(){}return e.create=function(){return new e},e.prototype.createLineBreaksComputer=function(e,t,n,i){t|=0,n=+n;var o=[];return{addRequest:function(e,t){o.push(e)},finalize:function(){return gL(o,e,t,n,i)}}},e}();function gL(e,t,n,i,o){if(-1===i){for(var r=[],s=0,a=e.length;s<a;s++)r[s]=null;return r}var l=Math.round(i*t.typicalHalfwidthCharacterWidth);2!==o&&3!==o||(o=1);var u=document.createElement("div");tm.applyFontInfoSlow(u,t);var c=rd(1e4),h=[],d=[],p=[],f=[],g=[];for(s=0;s<e.length;s++){var m=e[s],_=0,v=0,y=l;if(0!==o)if(_=jr(m),-1===_)_=0;else{for(var b=0;b<_;b++){var w=9===m.charCodeAt(b)?n-v%n:1;v+=w}var C=Math.ceil(t.spaceWidth*v);C+t.typicalFullwidthCharacterWidth>l?(_=0,v=0):y=l-C}var S=m.substr(_),E=mL(S,v,n,y,c);h[s]=_,d[s]=v,p[s]=S,f[s]=E[0],g[s]=E[1]}u.innerHTML=c.build(),u.style.position="absolute",u.style.top="10000",u.style.wordWrap="break-word",document.body.appendChild(u);var T=document.createRange(),k=Array.prototype.slice.call(u.children,0),x=[];for(s=0;s<e.length;s++){var L=k[s],I=_L(T,L,p[s],f[s]);if(null!==I){_=h[s],v=d[s];var O=g[s],D=[],N=0;for(a=I.length;N<a;N++)D[N]=O[I[N]];if(0!==_)for(N=0,a=I.length;N<a;N++)I[N]+=_;x[s]=new Px(I,D,v)}else x[s]=null}return document.body.removeChild(u),x}function mL(e,t,n,i,o){o.appendASCIIString('<div style="width:'),o.appendASCIIString(String(i)),o.appendASCIIString('px;">');for(var r=e.length,s=t,a=0,l=[],u=[],c=0<r?e.charCodeAt(0):0,h=0;h<r;h++){l[h]=a,u[h]=s;var d=c;c=h+1<r?e.charCodeAt(h+1):0;var p=1,f=1;switch(d){case 9:p=n-s%n,f=p;for(var g=1;g<=p;g++)g<p?o.write1(160):o.appendASCII(32);break;case 32:32===c?o.write1(160):o.appendASCII(32);break;case 60:o.appendASCIIString("&lt;");break;case 62:o.appendASCIIString("&gt;");break;case 38:o.appendASCIIString("&amp;");break;case 0:o.appendASCIIString("&#00;");break;case 65279:case 8232:o.write1(65533);break;default:_s(d)&&f++,o.write1(d)}a+=p,s+=f}return l[e.length]=a,u[e.length]=s,o.appendASCIIString("</div>"),[l,u]}function _L(e,t,n,i){if(n.length<=1)return null;var o=t.firstChild,r=[];return vL(e,o,i,0,null,n.length-1,null,r),0===r.length?null:(r.push(n.length),r)}function vL(e,t,n,i,o,r,s,a){if(i!==r&&(o=o||yL(e,t,n[i],n[i+1]),s=s||yL(e,t,n[r],n[r+1]),!(Math.abs(o[0].top-s[0].top)<=.1)))if(i+1!==r){var l=i+(r-i)/2|0,u=yL(e,t,n[l],n[l+1]);vL(e,t,n,i,o,l,u,a),vL(e,t,n,l,u,r,s,a)}else a.push(r)}function yL(e,t,n,i){return e.setStart(t,n),e.setEnd(t,i),e.getClientRects()}var bL=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wL=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},CL=function(e,t){return function(n,i){t(n,i,e)}},SL=0,EL=function(){function e(e,t,n,i,o,r){this.model=e,this.viewModel=t,this.cursor=n,this.view=i,this.hasRealView=o,this.listenersToRemove=r}return e.prototype.dispose=function(){Ie(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.cursor.dispose(),this.viewModel.dispose()},e}(),TL=function(e){function t(t,n,i,o,r,s,a,l,u,c){var h,d=e.call(this)||this;d._onDidDispose=d._register(new Ze),d.onDidDispose=d._onDidDispose.event,d._onDidChangeModelContent=d._register(new Ze),d.onDidChangeModelContent=d._onDidChangeModelContent.event,d._onDidChangeModelLanguage=d._register(new Ze),d.onDidChangeModelLanguage=d._onDidChangeModelLanguage.event,d._onDidChangeModelLanguageConfiguration=d._register(new Ze),d.onDidChangeModelLanguageConfiguration=d._onDidChangeModelLanguageConfiguration.event,d._onDidChangeModelOptions=d._register(new Ze),d.onDidChangeModelOptions=d._onDidChangeModelOptions.event,d._onDidChangeModelDecorations=d._register(new Ze),d.onDidChangeModelDecorations=d._onDidChangeModelDecorations.event,d._onDidChangeConfiguration=d._register(new Ze),d.onDidChangeConfiguration=d._onDidChangeConfiguration.event,d._onDidChangeModel=d._register(new Ze),d.onDidChangeModel=d._onDidChangeModel.event,d._onDidChangeCursorPosition=d._register(new Ze),d.onDidChangeCursorPosition=d._onDidChangeCursorPosition.event,d._onDidChangeCursorSelection=d._register(new Ze),d.onDidChangeCursorSelection=d._onDidChangeCursorSelection.event,d._onDidAttemptReadOnlyEdit=d._register(new Ze),d.onDidAttemptReadOnlyEdit=d._onDidAttemptReadOnlyEdit.event,d._onDidLayoutChange=d._register(new Ze),d.onDidLayoutChange=d._onDidLayoutChange.event,d._editorTextFocus=d._register(new kL),d.onDidFocusEditorText=d._editorTextFocus.onDidChangeToTrue,d.onDidBlurEditorText=d._editorTextFocus.onDidChangeToFalse,d._editorWidgetFocus=d._register(new kL),d.onDidFocusEditorWidget=d._editorWidgetFocus.onDidChangeToTrue,d.onDidBlurEditorWidget=d._editorWidgetFocus.onDidChangeToFalse,d._onWillType=d._register(new Ze),d.onWillType=d._onWillType.event,d._onDidType=d._register(new Ze),d.onDidType=d._onDidType.event,d._onDidCompositionStart=d._register(new Ze),d.onDidCompositionStart=d._onDidCompositionStart.event,d._onDidCompositionEnd=d._register(new Ze),d.onDidCompositionEnd=d._onDidCompositionEnd.event,d._onDidPaste=d._register(new Ze),d.onDidPaste=d._onDidPaste.event,d._onMouseUp=d._register(new Ze),d.onMouseUp=d._onMouseUp.event,d._onMouseDown=d._register(new Ze),d.onMouseDown=d._onMouseDown.event,d._onMouseDrag=d._register(new Ze),d.onMouseDrag=d._onMouseDrag.event,d._onMouseDrop=d._register(new Ze),d.onMouseDrop=d._onMouseDrop.event,d._onContextMenu=d._register(new Ze),d.onContextMenu=d._onContextMenu.event,d._onMouseMove=d._register(new Ze),d.onMouseMove=d._onMouseMove.event,d._onMouseLeave=d._register(new Ze),d.onMouseLeave=d._onMouseLeave.event,d._onMouseWheel=d._register(new Ze),d.onMouseWheel=d._onMouseWheel.event,d._onKeyUp=d._register(new Ze),d.onKeyUp=d._onKeyUp.event,d._onKeyDown=d._register(new Ze),d.onKeyDown=d._onKeyDown.event,d._onDidContentSizeChange=d._register(new Ze),d.onDidContentSizeChange=d._onDidContentSizeChange.event,d._onDidScrollChange=d._register(new Ze),d.onDidScrollChange=d._onDidScrollChange.event,d._onDidChangeViewZones=d._register(new Ze),d.onDidChangeViewZones=d._onDidChangeViewZones.event,d._domElement=t,d._id=++SL,d._decorationTypeKeysToIds={},d._decorationTypeSubtypes={},d.isSimpleWidget=i.isSimpleWidget||!1,d._telemetryData=i.telemetryData,n=n||{},d._configuration=d._register(d._createConfiguration(n,c)),d._register(d._configuration.onDidChange((function(e){d._onDidChangeConfiguration.fire(e);var t=d._configuration.options;if(e.hasChanged(107)){var n=t.get(107);d._onDidLayoutChange.fire(n)}}))),d._contextKeyService=d._register(a.createScoped(d._domElement)),d._notificationService=u,d._codeEditorService=r,d._commandService=s,d._themeService=l,d._register(new xL(d,d._contextKeyService)),d._register(new LL(d,d._contextKeyService)),d._instantiationService=o.createChild(new eL([Bf,d._contextKeyService])),d._modelData=null,d._contributions={},d._actions={},d._focusTracker=new IL(t),d._focusTracker.onChange((function(){d._editorWidgetFocus.setValue(d._focusTracker.hasFocus())})),d._contentWidgets={},d._overlayWidgets={},h=Array.isArray(i.contributions)?i.contributions:dm.getEditorContributions();for(var p=0,f=h;p<f.length;p++){var g=f[p];try{var m=d._instantiationService.createInstance(g.ctor,d);d._contributions[g.id]=m}catch(_){ge(_)}}return dm.getEditorActions().forEach((function(e){var t=new Cx(e.id,e.label,e.alias,Aa(e.precondition),(function(){return d._instantiationService.invokeFunction((function(t){return Promise.resolve(e.runEditorCommand(t,d,null))}))}),d._contextKeyService);d._actions[t.id]=t})),d._codeEditorService.addCodeEditor(d),d}return bL(t,e),t.prototype._createConfiguration=function(e,t){return new tm(this.isSimpleWidget,e,this._domElement,t)},t.prototype.getId=function(){return this.getEditorType()+":"+this._id},t.prototype.getEditorType=function(){return Dl.ICodeEditor},t.prototype.dispose=function(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();for(var t=Object.keys(this._contributions),n=0,i=t.length;n<i;n++){var o=t[n];this._contributions[o].dispose()}this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.invokeWithinContext=function(e){return this._instantiationService.invokeFunction(e)},t.prototype.updateOptions=function(e){this._configuration.updateOptions(e)},t.prototype.getOptions=function(){return this._configuration.options},t.prototype.getOption=function(e){return this._configuration.options.get(e)},t.prototype.getRawOptions=function(){return this._configuration.getRawOptions()},t.prototype.getValue=function(e){if(void 0===e&&(e=null),!this._modelData)return"";var t=!(!e||!e.preserveBOM),n=0;return e&&e.lineEnding&&"\n"===e.lineEnding?n=1:e&&e.lineEnding&&"\r\n"===e.lineEnding&&(n=2),this._modelData.model.getValue(n,t)},t.prototype.setValue=function(e){this._modelData&&this._modelData.model.setValue(e)},t.prototype.getModel=function(){return this._modelData?this._modelData.model:null},t.prototype.setModel=function(e){void 0===e&&(e=null);var t=e;if((null!==this._modelData||null!==t)&&(!this._modelData||this._modelData.model!==t)){var n=this.hasTextFocus(),i=this._detachModel();this._attachModel(t),n&&this.hasModel()&&this.focus();var o={oldModelUrl:i?i.uri:null,newModelUrl:t?t.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(o),this._postDetachModelCleanup(i)}},t.prototype._removeDecorationTypes=function(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(var e in this._decorationTypeSubtypes){var t=this._decorationTypeSubtypes[e];for(var n in t)this._removeDecorationType(e+"-"+n)}this._decorationTypeSubtypes={}}},t.prototype.getVisibleRanges=function(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]},t.prototype.getWhitespaces=function(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]},t._getVerticalOffsetForPosition=function(e,t,n){var i=e.model.validatePosition({lineNumber:t,column:n}),o=e.viewModel.coordinatesConverter.convertModelPositionToViewPosition(i);return e.viewModel.viewLayout.getVerticalOffsetForLineNumber(o.lineNumber)},t.prototype.getTopForLineNumber=function(e){return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,1):-1},t.prototype.getTopForPosition=function(e,n){return this._modelData?t._getVerticalOffsetForPosition(this._modelData,e,n):-1},t.prototype.setHiddenAreas=function(e){this._modelData&&this._modelData.viewModel.setHiddenAreas(e.map((function(e){return bn.lift(e)})))},t.prototype.getVisibleColumnFromPosition=function(e){if(!this._modelData)return e.column;var t=this._modelData.model.validatePosition(e),n=this._modelData.model.getOptions().tabSize;return db.visibleColumnFromColumn(this._modelData.model.getLineContent(t.lineNumber),t.column,n)+1},t.prototype.getPosition=function(){return this._modelData?this._modelData.cursor.getPosition():null},t.prototype.setPosition=function(e){if(this._modelData){if(!yn.isIPosition(e))throw new Error("Invalid arguments");this._modelData.cursor.setSelections("api",[{selectionStartLineNumber:e.lineNumber,selectionStartColumn:e.column,positionLineNumber:e.lineNumber,positionColumn:e.column}])}},t.prototype._sendRevealRange=function(e,t,n,i){if(this._modelData){if(!bn.isIRange(e))throw new Error("Invalid arguments");var o=this._modelData.model.validateRange(e),r=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(o);this._modelData.cursor.emitCursorRevealRange("api",r,t,n,i)}},t.prototype.revealLine=function(e,t){void 0===t&&(t=0),this._revealLine(e,0,t)},t.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this._revealLine(e,1,t)},t.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealLine(e,2,t)},t.prototype._revealLine=function(e,t,n){if("number"!==typeof e)throw new Error("Invalid arguments");this._sendRevealRange(new bn(e,1,e,1),t,!1,n)},t.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this._revealPosition(e,0,!0,t)},t.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this._revealPosition(e,1,!0,t)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealPosition(e,2,!0,t)},t.prototype._revealPosition=function(e,t,n,i){if(!yn.isIPosition(e))throw new Error("Invalid arguments");this._sendRevealRange(new bn(e.lineNumber,e.column,e.lineNumber,e.column),t,n,i)},t.prototype.getSelection=function(){return this._modelData?this._modelData.cursor.getSelection():null},t.prototype.getSelections=function(){return this._modelData?this._modelData.cursor.getSelections():null},t.prototype.setSelection=function(e){var t=Cn.isISelection(e),n=bn.isIRange(e);if(!t&&!n)throw new Error("Invalid arguments");if(t)this._setSelectionImpl(e);else if(n){var i={selectionStartLineNumber:e.startLineNumber,selectionStartColumn:e.startColumn,positionLineNumber:e.endLineNumber,positionColumn:e.endColumn};this._setSelectionImpl(i)}},t.prototype._setSelectionImpl=function(e){if(this._modelData){var t=new Cn(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn);this._modelData.cursor.setSelections("api",[t])}},t.prototype.revealLines=function(e,t,n){void 0===n&&(n=0),this._revealLines(e,t,0,n)},t.prototype.revealLinesInCenter=function(e,t,n){void 0===n&&(n=0),this._revealLines(e,t,1,n)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,n){void 0===n&&(n=0),this._revealLines(e,t,2,n)},t.prototype._revealLines=function(e,t,n,i){if("number"!==typeof e||"number"!==typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new bn(e,1,t,1),n,!1,i)},t.prototype.revealRange=function(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===i&&(i=!0),this._revealRange(e,n?1:0,i,t)},t.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this._revealRange(e,1,!0,t)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this._revealRange(e,2,!0,t)},t.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this._revealRange(e,3,!0,t)},t.prototype._revealRange=function(e,t,n,i){if(!bn.isIRange(e))throw new Error("Invalid arguments");this._sendRevealRange(bn.lift(e),t,n,i)},t.prototype.setSelections=function(e,t){if(void 0===t&&(t="api"),this._modelData){if(!e||0===e.length)throw new Error("Invalid arguments");for(var n=0,i=e.length;n<i;n++)if(!Cn.isISelection(e[n]))throw new Error("Invalid arguments");this._modelData.cursor.setSelections(t,e)}},t.prototype.getContentWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1},t.prototype.getScrollWidth=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1},t.prototype.getScrollLeft=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1},t.prototype.getContentHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1},t.prototype.getScrollHeight=function(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1},t.prototype.getScrollTop=function(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1},t.prototype.setScrollLeft=function(e){if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollLeft:e})}},t.prototype.setScrollTop=function(e){if(this._modelData){if("number"!==typeof e)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPositionNow({scrollTop:e})}},t.prototype.setScrollPosition=function(e){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPositionNow(e)},t.prototype.saveViewState=function(){if(!this._modelData)return null;for(var e={},t=Object.keys(this._contributions),n=0,i=t;n<i.length;n++){var o=i[n],r=this._contributions[o];"function"===typeof r.saveViewState&&(e[o]=r.saveViewState())}var s=this._modelData.cursor.saveState(),a=this._modelData.viewModel.saveState();return{cursorState:s,viewState:a,contributionsState:e}},t.prototype.restoreViewState=function(e){if(this._modelData&&this._modelData.hasRealView){var t=e;if(t&&t.cursorState&&t.viewState){var n=t.cursorState;Array.isArray(n)?this._modelData.cursor.restoreState(n):this._modelData.cursor.restoreState([n]);for(var i=t.contributionsState||{},o=Object.keys(this._contributions),r=0,s=o.length;r<s;r++){var a=o[r],l=this._contributions[a];"function"===typeof l.restoreViewState&&l.restoreViewState(i[a])}var u=this._modelData.viewModel.reduceRestoreState(t.viewState);this._modelData.view.restoreState(u)}}},t.prototype.getContribution=function(e){return this._contributions[e]||null},t.prototype.getActions=function(){for(var e=[],t=Object.keys(this._actions),n=0,i=t.length;n<i;n++){var o=t[n];e.push(this._actions[o])}return e},t.prototype.getSupportedActions=function(){var e=this.getActions();return e=e.filter((function(e){return e.isSupported()})),e},t.prototype.getAction=function(e){return this._actions[e]||null},t.prototype.trigger=function(e,t,n){if(n=n||{},t===Nl.Type){if(!this._modelData||"string"!==typeof n.text||0===n.text.length)return;return"keyboard"===e&&this._onWillType.fire(n.text),this._modelData.cursor.trigger(e,t,n),void("keyboard"===e&&this._onDidType.fire(n.text))}if(t!==Nl.Paste){var i=this.getAction(t);i?Promise.resolve(i.run()).then(void 0,ge):this._modelData&&(this._triggerEditorCommand(e,t,n)||(this._modelData.cursor.trigger(e,t,n),t===Nl.CompositionStart&&this._onDidCompositionStart.fire(),t===Nl.CompositionEnd&&this._onDidCompositionEnd.fire()))}else{if(!this._modelData||"string"!==typeof n.text||0===n.text.length)return;var o=this._modelData.cursor.getSelection().getStartPosition();this._modelData.cursor.trigger(e,t,n);var r=this._modelData.cursor.getSelection().getStartPosition();"keyboard"===e&&this._onDidPaste.fire({range:new bn(o.lineNumber,o.column,r.lineNumber,r.column),mode:n.mode})}},t.prototype._triggerEditorCommand=function(e,t,n){var i=this,o=dm.getEditorCommand(t);return!!o&&(n=n||{},n.source=e,this._instantiationService.invokeFunction((function(e){Promise.resolve(o.runEditorCommand(e,i,n)).then(void 0,ge)})),!0)},t.prototype._getCursors=function(){return this._modelData?this._modelData.cursor:null},t.prototype.pushUndoStop=function(){return!!this._modelData&&(!this._configuration.options.get(68)&&(this._modelData.model.pushStackElement(),!0))},t.prototype.executeEdits=function(e,t,n){return!!this._modelData&&(!this._configuration.options.get(68)&&(i=n?Array.isArray(n)?function(){return n}:n:function(){return null},this._modelData.cursor.executeEdits(e,t,i),!0));var i},t.prototype.executeCommand=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,Nl.ExecuteCommand,t)},t.prototype.executeCommands=function(e,t){this._modelData&&this._modelData.cursor.trigger(e,Nl.ExecuteCommands,t)},t.prototype.changeDecorations=function(e){return this._modelData?this._modelData.model.changeDecorations(e,this._id):null},t.prototype.getLineDecorations=function(e){return this._modelData?this._modelData.model.getLineDecorations(e,this._id,Z(this._configuration.options)):null},t.prototype.deltaDecorations=function(e,t){return this._modelData?0===e.length&&0===t.length?e:this._modelData.model.deltaDecorations(e,t,this._id):[]},t.prototype.removeDecorations=function(e){var t=this._decorationTypeKeysToIds[e];t&&this.deltaDecorations(t,[]),this._decorationTypeKeysToIds.hasOwnProperty(e)&&delete this._decorationTypeKeysToIds[e],this._decorationTypeSubtypes.hasOwnProperty(e)&&delete this._decorationTypeSubtypes[e]},t.prototype.getLayoutInfo=function(){var e=this._configuration.options,t=e.get(107);return t},t.prototype.createOverviewRuler=function(e){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(e):null},t.prototype.getContainerDomNode=function(){return this._domElement},t.prototype.getDomNode=function(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null},t.prototype.delegateVerticalScrollbarMouseDown=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.delegateVerticalScrollbarMouseDown(e)},t.prototype.layout=function(e){this._configuration.observeReferenceElement(e),this.render()},t.prototype.focus=function(){this._modelData&&this._modelData.hasRealView&&this._modelData.view.focus()},t.prototype.hasTextFocus=function(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()},t.prototype.hasWidgetFocus=function(){return this._focusTracker&&this._focusTracker.hasFocus()},t.prototype.addContentWidget=function(e){var t={widget:e,position:e.getPosition()};this._contentWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(t)},t.prototype.layoutContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var n=this._contentWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(n)}},t.prototype.removeContentWidget=function(e){var t=e.getId();if(this._contentWidgets.hasOwnProperty(t)){var n=this._contentWidgets[t];delete this._contentWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(n)}},t.prototype.addOverlayWidget=function(e){var t={widget:e,position:e.getPosition()};this._overlayWidgets.hasOwnProperty(e.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[e.getId()]=t,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(t)},t.prototype.layoutOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var n=this._overlayWidgets[t];n.position=e.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(n)}},t.prototype.removeOverlayWidget=function(e){var t=e.getId();if(this._overlayWidgets.hasOwnProperty(t)){var n=this._overlayWidgets[t];delete this._overlayWidgets[t],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(n)}},t.prototype.changeViewZones=function(e){if(this._modelData&&this._modelData.hasRealView){var t=this._modelData.view.change(e);t&&this._onDidChangeViewZones.fire()}},t.prototype.getTargetAtClientPoint=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(e,t):null},t.prototype.getScrolledVisiblePosition=function(e){if(!this._modelData||!this._modelData.hasRealView)return null;var n=this._modelData.model.validatePosition(e),i=this._configuration.options,o=i.get(107),r=t._getVerticalOffsetForPosition(this._modelData,n.lineNumber,n.column)-this.getScrollTop(),s=this._modelData.view.getOffsetForColumn(n.lineNumber,n.column)+o.glyphMarginWidth+o.lineNumbersWidth+o.decorationsWidth-this.getScrollLeft();return{top:r,left:s,height:i.get(49)}},t.prototype.getOffsetForColumn=function(e,t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(e,t):-1},t.prototype.render=function(e){void 0===e&&(e=!1),this._modelData&&this._modelData.hasRealView&&this._modelData.view.render(!0,e)},t.prototype.setAriaOptions=function(e){this._modelData&&this._modelData.hasRealView&&this._modelData.view.setAriaOptions(e)},t.prototype.applyFontInfo=function(e){tm.applyFontInfoSlow(e,this._configuration.options.get(34))},t.prototype._attachModel=function(e){var t=this;if(e){var n=[];this._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),this._configuration.setIsDominatedByLongLines(e.isDominatedByLongLines()),this._configuration.setMaxLineNumber(e.getLineCount()),e.onBeforeAttached();var i=new Qx(this._id,this._configuration,e,fL.create(),aL.create(this._configuration.options),(function(e){return Oo(e)}));n.push(e.onDidChangeDecorations((function(e){return t._onDidChangeModelDecorations.fire(e)}))),n.push(e.onDidChangeLanguage((function(n){t._domElement.setAttribute("data-mode-id",e.getLanguageIdentifier().language),t._onDidChangeModelLanguage.fire(n)}))),n.push(e.onDidChangeLanguageConfiguration((function(e){return t._onDidChangeModelLanguageConfiguration.fire(e)}))),n.push(e.onDidChangeContent((function(e){return t._onDidChangeModelContent.fire(e)}))),n.push(e.onDidChangeOptions((function(e){return t._onDidChangeModelOptions.fire(e)}))),n.push(e.onWillDispose((function(){return t.setModel(null)})));var o=new bx(this._configuration,e,i);n.push(o.onDidReachMaxCursorCount((function(){t._notificationService.warn(r("cursors.maximum","The number of cursors has been limited to {0}.",bx.MAX_CURSOR_COUNT))}))),n.push(o.onDidAttemptReadOnlyEdit((function(){t._onDidAttemptReadOnlyEdit.fire(void 0)}))),n.push(o.onDidChange((function(e){for(var n=[],i=0,o=e.selections.length;i<o;i++)n[i]=e.selections[i].getPosition();var r={position:n[0],secondaryPositions:n.slice(1),reason:e.reason,source:e.source};t._onDidChangeCursorPosition.fire(r);var s={selection:e.selections[0],secondarySelections:e.selections.slice(1),modelVersionId:e.modelVersionId,oldSelections:e.oldSelections,oldModelVersionId:e.oldModelVersionId,source:e.source,reason:e.reason};t._onDidChangeCursorSelection.fire(s)})));var s=this._createView(i,o),a=s[0],l=s[1];if(l){this._domElement.appendChild(a.domNode.domNode);for(var u=Object.keys(this._contentWidgets),c=0,h=u.length;c<h;c++){var d=u[c];a.addContentWidget(this._contentWidgets[d])}u=Object.keys(this._overlayWidgets);for(c=0,h=u.length;c<h;c++){d=u[c];a.addOverlayWidget(this._overlayWidgets[d])}a.render(!1,!0),a.domNode.domNode.setAttribute("data-uri",e.uri.toString())}this._modelData=new EL(e,i,o,a,l,n)}else this._modelData=null},t.prototype._createView=function(e,t){var n,i=this;n=this.isSimpleWidget?{executeEditorCommand:function(e,n){e.runCoreEditorCommand(t,n)},paste:function(e,t,n,o,r){i.trigger(e,Nl.Paste,{text:t,pasteOnNewLine:n,multicursorText:o,mode:r})},type:function(e,t){i.trigger(e,Nl.Type,{text:t})},replacePreviousChar:function(e,t,n){i.trigger(e,Nl.ReplacePreviousChar,{text:t,replaceCharCnt:n})},compositionStart:function(e){i.trigger(e,Nl.CompositionStart,void 0)},compositionEnd:function(e){i.trigger(e,Nl.CompositionEnd,void 0)},cut:function(e){i.trigger(e,Nl.Cut,void 0)}}:{executeEditorCommand:function(e,n){e.runCoreEditorCommand(t,n)},paste:function(e,t,n,o,r){i._commandService.executeCommand(Nl.Paste,{text:t,pasteOnNewLine:n,multicursorText:o,mode:r})},type:function(e,t){i._commandService.executeCommand(Nl.Type,{text:t})},replacePreviousChar:function(e,t,n){i._commandService.executeCommand(Nl.ReplacePreviousChar,{text:t,replaceCharCnt:n})},compositionStart:function(e){i._commandService.executeCommand(Nl.CompositionStart,{})},compositionEnd:function(e){i._commandService.executeCommand(Nl.CompositionEnd,{})},cut:function(e){i._commandService.executeCommand(Nl.Cut,{})}};var o=new GE(e);o.onDidContentSizeChange=function(e){return i._onDidContentSizeChange.fire(e)},o.onDidScroll=function(e){return i._onDidScrollChange.fire(e)},o.onDidGainFocus=function(){return i._editorTextFocus.setValue(!0)},o.onDidLoseFocus=function(){return i._editorTextFocus.setValue(!1)},o.onContextMenu=function(e){return i._onContextMenu.fire(e)},o.onMouseDown=function(e){return i._onMouseDown.fire(e)},o.onMouseUp=function(e){return i._onMouseUp.fire(e)},o.onMouseDrag=function(e){return i._onMouseDrag.fire(e)},o.onMouseDrop=function(e){return i._onMouseDrop.fire(e)},o.onKeyUp=function(e){return i._onKeyUp.fire(e)},o.onMouseMove=function(e){return i._onMouseMove.fire(e)},o.onMouseLeave=function(e){return i._onMouseLeave.fire(e)},o.onMouseWheel=function(e){return i._onMouseWheel.fire(e)},o.onKeyDown=function(e){return i._onKeyDown.fire(e)};var r=new hx(n,this._configuration,this._themeService,e,t,o);return[r,!0]},t.prototype._postDetachModelCleanup=function(e){e&&e.removeAllDecorationsWithOwnerId(this._id)},t.prototype._detachModel=function(){if(!this._modelData)return null;var e=this._modelData.model,t=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),t&&this._domElement.removeChild(t),e},t.prototype._removeDecorationType=function(e){this._codeEditorService.removeDecorationType(e)},t.prototype.hasModel=function(){return null!==this._modelData},t=wL([CL(3,In),CL(4,Rn),CL(5,qa),CL(6,Bf),CL(7,p_),CL(8,ig),CL(9,tL)],t),t}(Ae),kL=function(e){function t(){var t=e.call(this)||this;return t._onDidChangeToTrue=t._register(new Ze),t.onDidChangeToTrue=t._onDidChangeToTrue.event,t._onDidChangeToFalse=t._register(new Ze),t.onDidChangeToFalse=t._onDidChangeToFalse.event,t._value=0,t}return bL(t,e),t.prototype.setValue=function(e){var t=e?2:1;this._value!==t&&(this._value=t,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())},t}(Ae),xL=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,n.createKey("editorId",t.getId()),i._editorSimpleInput=xE.editorSimpleInput.bindTo(n),i._editorFocus=xE.focus.bindTo(n),i._textInputFocus=xE.textInputFocus.bindTo(n),i._editorTextFocus=xE.editorTextFocus.bindTo(n),i._editorTabMovesFocus=xE.tabMovesFocus.bindTo(n),i._editorReadonly=xE.readOnly.bindTo(n),i._hasMultipleSelections=xE.hasMultipleSelections.bindTo(n),i._hasNonEmptySelection=xE.hasNonEmptySelection.bindTo(n),i._canUndo=xE.canUndo.bindTo(n),i._canRedo=xE.canRedo.bindTo(n),i._register(i._editor.onDidChangeConfiguration((function(){return i._updateFromConfig()}))),i._register(i._editor.onDidChangeCursorSelection((function(){return i._updateFromSelection()}))),i._register(i._editor.onDidFocusEditorWidget((function(){return i._updateFromFocus()}))),i._register(i._editor.onDidBlurEditorWidget((function(){return i._updateFromFocus()}))),i._register(i._editor.onDidFocusEditorText((function(){return i._updateFromFocus()}))),i._register(i._editor.onDidBlurEditorText((function(){return i._updateFromFocus()}))),i._register(i._editor.onDidChangeModel((function(){return i._updateFromModel()}))),i._register(i._editor.onDidChangeConfiguration((function(){return i._updateFromModel()}))),i._updateFromConfig(),i._updateFromSelection(),i._updateFromFocus(),i._updateFromModel(),i._editorSimpleInput.set(i._editor.isSimpleWidget),i}return bL(t,e),t.prototype._updateFromConfig=function(){var e=this._editor.getOptions();this._editorTabMovesFocus.set(e.get(106)),this._editorReadonly.set(e.get(68))},t.prototype._updateFromSelection=function(){var e=this._editor.getSelections();e?(this._hasMultipleSelections.set(e.length>1),this._hasNonEmptySelection.set(e.some((function(e){return!e.isEmpty()})))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())},t.prototype._updateFromFocus=function(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())},t.prototype._updateFromModel=function(){var e=this._editor.getModel();this._canUndo.set(Boolean(e&&e.canUndo())),this._canRedo.set(Boolean(e&&e.canRedo()))},t}(Ae),LL=function(e){function t(t,n){var i=e.call(this)||this;i._editor=t,i._contextKeyService=n,i._langId=xE.languageId.bindTo(n),i._hasCompletionItemProvider=xE.hasCompletionItemProvider.bindTo(n),i._hasCodeActionsProvider=xE.hasCodeActionsProvider.bindTo(n),i._hasCodeLensProvider=xE.hasCodeLensProvider.bindTo(n),i._hasDefinitionProvider=xE.hasDefinitionProvider.bindTo(n),i._hasDeclarationProvider=xE.hasDeclarationProvider.bindTo(n),i._hasImplementationProvider=xE.hasImplementationProvider.bindTo(n),i._hasTypeDefinitionProvider=xE.hasTypeDefinitionProvider.bindTo(n),i._hasHoverProvider=xE.hasHoverProvider.bindTo(n),i._hasDocumentHighlightProvider=xE.hasDocumentHighlightProvider.bindTo(n),i._hasDocumentSymbolProvider=xE.hasDocumentSymbolProvider.bindTo(n),i._hasReferenceProvider=xE.hasReferenceProvider.bindTo(n),i._hasRenameProvider=xE.hasRenameProvider.bindTo(n),i._hasSignatureHelpProvider=xE.hasSignatureHelpProvider.bindTo(n),i._hasDocumentFormattingProvider=xE.hasDocumentFormattingProvider.bindTo(n),i._hasDocumentSelectionFormattingProvider=xE.hasDocumentSelectionFormattingProvider.bindTo(n),i._hasMultipleDocumentFormattingProvider=xE.hasMultipleDocumentFormattingProvider.bindTo(n),i._hasMultipleDocumentSelectionFormattingProvider=xE.hasMultipleDocumentSelectionFormattingProvider.bindTo(n),i._isInWalkThrough=xE.isInEmbeddedEditor.bindTo(n);var o=function(){return i._update()};return i._register(t.onDidChangeModel(o)),i._register(t.onDidChangeModelLanguage(o)),i._register(Du.onDidChange(o)),i._register($u.onDidChange(o)),i._register(Hu.onDidChange(o)),i._register(Pu.onDidChange(o)),i._register(Fu.onDidChange(o)),i._register(Bu.onDidChange(o)),i._register(Vu.onDidChange(o)),i._register(Ru.onDidChange(o)),i._register(Mu.onDidChange(o)),i._register(Au.onDidChange(o)),i._register(Iu.onDidChange(o)),i._register(Ou.onDidChange(o)),i._register(Wu.onDidChange(o)),i._register(Uu.onDidChange(o)),i._register(Nu.onDidChange(o)),o(),i}return bL(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.reset=function(){var e=this;this._contextKeyService.bufferChangeEvents((function(){e._langId.reset(),e._hasCompletionItemProvider.reset(),e._hasCodeActionsProvider.reset(),e._hasCodeLensProvider.reset(),e._hasDefinitionProvider.reset(),e._hasDeclarationProvider.reset(),e._hasImplementationProvider.reset(),e._hasTypeDefinitionProvider.reset(),e._hasHoverProvider.reset(),e._hasDocumentHighlightProvider.reset(),e._hasDocumentSymbolProvider.reset(),e._hasReferenceProvider.reset(),e._hasRenameProvider.reset(),e._hasDocumentFormattingProvider.reset(),e._hasDocumentSelectionFormattingProvider.reset(),e._hasSignatureHelpProvider.reset(),e._isInWalkThrough.reset()}))},t.prototype._update=function(){var e=this,t=this._editor.getModel();t?this._contextKeyService.bufferChangeEvents((function(){e._langId.set(t.getLanguageIdentifier().language),e._hasCompletionItemProvider.set(Du.has(t)),e._hasCodeActionsProvider.set($u.has(t)),e._hasCodeLensProvider.set(Hu.has(t)),e._hasDefinitionProvider.set(Pu.has(t)),e._hasDeclarationProvider.set(Fu.has(t)),e._hasImplementationProvider.set(Bu.has(t)),e._hasTypeDefinitionProvider.set(Vu.has(t)),e._hasHoverProvider.set(Ru.has(t)),e._hasDocumentHighlightProvider.set(Mu.has(t)),e._hasDocumentSymbolProvider.set(Au.has(t)),e._hasReferenceProvider.set(Iu.has(t)),e._hasRenameProvider.set(Ou.has(t)),e._hasSignatureHelpProvider.set(Nu.has(t)),e._hasDocumentFormattingProvider.set(Wu.has(t)||Uu.has(t)),e._hasDocumentSelectionFormattingProvider.set(Uu.has(t)),e._hasMultipleDocumentFormattingProvider.set(Wu.all(t).length+Uu.all(t).length>1),e._hasMultipleDocumentSelectionFormattingProvider.set(Uu.all(t).length>1),e._isInWalkThrough.set(t.uri.scheme===xi.walkThroughSnippet)})):this.reset()},t}(Ae),IL=function(e){function t(t){var n=e.call(this)||this;return n._onChange=n._register(new Ze),n.onChange=n._onChange.event,n._hasFocus=!1,n._domFocusTracker=n._register(dr(t)),n._register(n._domFocusTracker.onDidFocus((function(){n._hasFocus=!0,n._onChange.fire(void 0)}))),n._register(n._domFocusTracker.onDidBlur((function(){n._hasFocus=!1,n._onChange.fire(void 0)}))),n}return bL(t,e),t.prototype.hasFocus=function(){return this._hasFocus},t}(Ae),OL=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),DL=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function NL(e){return OL+encodeURIComponent(e.toString())+DL}var RL=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),AL=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ML(e){return RL+encodeURIComponent(e.toString())+AL}w_((function(e,t){var n=e.getColor(Nw);n&&t.addRule(".monaco-editor .squiggly-error { border-bottom: 4px double "+n+"; }");var i=e.getColor(Dw);i&&t.addRule('.monaco-editor .squiggly-error { background: url("data:image/svg+xml,'+NL(i)+'") repeat-x bottom left; }');var o=e.getColor(Aw);o&&t.addRule(".monaco-editor .squiggly-warning { border-bottom: 4px double "+o+"; }");var r=e.getColor(Rw);r&&t.addRule('.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,'+NL(r)+'") repeat-x bottom left; }');var s=e.getColor(Pw);s&&t.addRule(".monaco-editor .squiggly-info { border-bottom: 4px double "+s+"; }");var a=e.getColor(Mw);a&&t.addRule('.monaco-editor .squiggly-info { background: url("data:image/svg+xml,'+NL(a)+'") repeat-x bottom left; }');var l=e.getColor(Bw);l&&t.addRule(".monaco-editor .squiggly-hint { border-bottom: 2px dotted "+l+"; }");var u=e.getColor(Fw);u&&t.addRule('.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,'+ML(u)+'") no-repeat bottom left; }');var c=e.getColor(LS);c&&t.addRule(".monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: "+c.rgba.a+"; }");var h=e.getColor(xS);h&&t.addRule(".monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed "+h+"; }");var d=e.getColor(Hw)||"inherit";t.addRule(".monaco-editor .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: "+d+"}")}));n("94a7"),n("ba77");var PL=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),FL=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},BL=!1,VL=function(e){function t(t,n,i){void 0===i&&(i={});var o=e.call(this)||this;return o._state=3,o._onDidEnablementChange=o._register(new Ze),o.onDidEnablementChange=o._onDidEnablementChange.event,o._onDidStart=o._register(new Ze),o.onDidStart=o._onDidStart.event,o._onDidChange=o._register(new Ze),o.onDidChange=o._onDidChange.event,o._onDidReset=o._register(new Ze),o.onDidReset=o._onDidReset.event,o._onDidEnd=o._register(new Ze),o.onDidEnd=o._onDidEnd.event,o.linkedSash=void 0,o.orthogonalStartSashDisposables=o._register(new Re),o.orthogonalEndSashDisposables=o._register(new Re),o.el=pr(t,_r(".monaco-sash")),s["e"]&&fo(o.el,"mac"),o._register(Zn(o.el,"mousedown")(o.onMouseDown,o)),o._register(Zn(o.el,"dblclick")(o.onMouseDoubleClick,o)),o._register($m.addTarget(o.el)),o._register(Zn(o.el,Bm.Start)(o.onTouchStart,o)),qn&&fo(o.el,"touch"),o.setOrientation(i.orientation||0),o.hidden=!1,o.layoutProvider=n,o.orthogonalStartSash=i.orthogonalStartSash,o.orthogonalEndSash=i.orthogonalEndSash,vo(o.el,"debug",BL),o}return PL(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){this._state!==e&&(vo(this.el,"disabled",0===e),vo(this.el,"minimum",1===e),vo(this.el,"maximum",2===e),this._state=e,this._onDidEnablementChange.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(e){this.orthogonalStartSashDisposables.clear(),e?(this.orthogonalStartSashDisposables.add(e.onDidEnablementChange(this.onOrthogonalStartSashEnablementChange,this)),this.onOrthogonalStartSashEnablementChange(e.state)):this.onOrthogonalStartSashEnablementChange(0),this._orthogonalStartSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(e){this.orthogonalEndSashDisposables.clear(),e?(this.orthogonalEndSashDisposables.add(e.onDidEnablementChange(this.onOrthogonalEndSashEnablementChange,this)),this.onOrthogonalEndSashEnablementChange(e.state)):this.onOrthogonalEndSashEnablementChange(0),this._orthogonalEndSash=e},enumerable:!0,configurable:!0}),t.prototype.setOrientation=function(e){this.orientation=e,1===this.orientation?(fo(this.el,"horizontal"),mo(this.el,"vertical")):(mo(this.el,"horizontal"),fo(this.el,"vertical")),this.layoutProvider&&this.layout()},t.prototype.onMouseDown=function(e){var t=this;lr.stop(e,!1);var n=!1;if(!e.__orthogonalSashEvent){var i=this.getOrthogonalSash(e);i&&(n=!0,e.__orthogonalSashEvent=!0,i.onMouseDown(e))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onMouseDown(e)),this.state){for(var o=FL(Cr("iframe"),Cr("webview")),r=0,a=o;r<a.length;r++){var l=a[r];l.style.pointerEvents="none"}var u=new pi(e),c=u.posx,h=u.posy,d=u.altKey,p={startX:c,currentX:c,startY:h,currentY:h,altKey:d};fo(this.el,"active"),this._onDidStart.fire(p);var f=er(this.el),g=function(){var e="";e=n?"all-scroll":1===t.orientation?1===t.state?"s-resize":2===t.state?"n-resize":s["e"]?"row-resize":"ns-resize":1===t.state?"e-resize":2===t.state?"w-resize":s["e"]?"col-resize":"ew-resize",f.innerHTML="* { cursor: "+e+" !important; }"},m=new Re;g(),n||this.onDidEnablementChange(g,null,m);var _=function(e){lr.stop(e,!1);var n=new pi(e),i={startX:c,currentX:n.posx,startY:h,currentY:n.posy,altKey:d};t._onDidChange.fire(i)},v=function(e){lr.stop(e,!1),t.el.removeChild(f),mo(t.el,"active"),t._onDidEnd.fire(),m.dispose();for(var n=0,i=o;n<i.length;n++){var r=i[n];r.style.pointerEvents="auto"}};Zn(window,"mousemove")(_,null,m),Zn(window,"mouseup")(v,null,m)}},t.prototype.onMouseDoubleClick=function(e){var t=this.getOrthogonalSash(e);t&&t._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()},t.prototype.onTouchStart=function(e){var t=this;lr.stop(e);var n=[],i=e.pageX,o=e.pageY,r=e.altKey;this._onDidStart.fire({startX:i,currentX:i,startY:o,currentY:o,altKey:r}),n.push(bo(this.el,Bm.Change,(function(e){wa(e.pageX)&&wa(e.pageY)&&t._onDidChange.fire({startX:i,currentX:e.pageX,startY:o,currentY:e.pageY,altKey:r})}))),n.push(bo(this.el,Bm.End,(function(e){t._onDidEnd.fire(),Ie(n)})))},t.prototype.layout=function(){var e=qn?20:4;if(0===this.orientation){var t=this.layoutProvider;this.el.style.left=t.getVerticalSashLeft(this)-e/2+"px",t.getVerticalSashTop&&(this.el.style.top=t.getVerticalSashTop(this)+"px"),t.getVerticalSashHeight&&(this.el.style.height=t.getVerticalSashHeight(this)+"px")}else{var n=this.layoutProvider;this.el.style.top=n.getHorizontalSashTop(this)-e/2+"px",n.getHorizontalSashLeft&&(this.el.style.left=n.getHorizontalSashLeft(this)+"px"),n.getHorizontalSashWidth&&(this.el.style.width=n.getHorizontalSashWidth(this)+"px")}},t.prototype.hide=function(){this.hidden=!0,this.el.style.display="none",this.el.setAttribute("aria-hidden","true")},t.prototype.onOrthogonalStartSashEnablementChange=function(e){vo(this.el,"orthogonal-start",0!==e)},t.prototype.onOrthogonalEndSashEnablementChange=function(e){vo(this.el,"orthogonal-end",0!==e)},t.prototype.getOrthogonalSash=function(e){if(0===this.orientation){if(e.offsetY<=4)return this.orthogonalStartSash;if(e.offsetY>=this.el.clientHeight-4)return this.orthogonalEndSash}else{if(e.offsetX<=4)return this.orthogonalStartSash;if(e.offsetX>=this.el.clientWidth-4)return this.orthogonalEndSash}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.el.remove()},t}(Ae),HL=function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1),this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=n}return e}(),$L=[];function WL(e,t,n){$L.push([e,new HL(t,[],n)])}function UL(){return $L}var zL=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jL=Dn("IEditorCancelService"),GL=new Ff("cancellableOperation",!1);WL(jL,function(){function e(){this._tokens=new WeakMap}return e.prototype.add=function(e,t){var n,i=this._tokens.get(e);return i||(i=e.invokeWithinContext((function(e){var t=GL.bindTo(e.get(Bf)),n=new Ge;return{key:t,tokens:n}})),this._tokens.set(e,i)),i.key.set(!0),n=i.tokens.push(t),function(){n&&(n(),i.key.set(!i.tokens.isEmpty()),n=void 0)}},e.prototype.cancel=function(e){var t=this._tokens.get(e);if(t){var n=t.tokens.pop();n&&(n.cancel(),t.key.set(!t.tokens.isEmpty()))}},e}(),!0);var KL=function(e){function t(t,n){var i=e.call(this,n)||this;return i.editor=t,i._unregister=t.invokeWithinContext((function(e){return e.get(jL).add(t,i)})),i}return zL(t,e),t.prototype.dispose=function(){this._unregister(),e.prototype.dispose.call(this)},t}(rt);xm(new(function(e){function t(){return e.call(this,{id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:GL})||this}return zL(t,e),t.prototype.runEditorCommand=function(e,t){e.get(jL).cancel(t)},t}(wm)));var qL=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YL=function(){function e(e,t){if(this.flags=t,0!==(1&this.flags)){var n=e.getModel();this.modelVersionId=n?Rr("{0}#{1}",n.uri.toString(),n.getVersionId()):null}else this.modelVersionId=null;0!==(4&this.flags)?this.position=e.getPosition():this.position=null,0!==(2&this.flags)?this.selection=e.getSelection():this.selection=null,0!==(8&this.flags)?(this.scrollLeft=e.getScrollLeft(),this.scrollTop=e.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}return e.prototype._equals=function(t){if(!(t instanceof e))return!1;var n=t;return this.modelVersionId===n.modelVersionId&&(this.scrollLeft===n.scrollLeft&&this.scrollTop===n.scrollTop&&(!(!this.position&&n.position||this.position&&!n.position||this.position&&n.position&&!this.position.equals(n.position))&&!(!this.selection&&n.selection||this.selection&&!n.selection||this.selection&&n.selection&&!this.selection.equalsRange(n.selection))))},e.prototype.validate=function(t){return this._equals(new e(t,this.flags))},e}(),XL=function(e){function t(t,n,i){var o=e.call(this,t,i)||this;return o.editor=t,o._listener=new Re,4&n&&o._listener.add(t.onDidChangeCursorPosition((function(e){return o.cancel()}))),2&n&&o._listener.add(t.onDidChangeCursorSelection((function(e){return o.cancel()}))),8&n&&o._listener.add(t.onDidScrollChange((function(e){return o.cancel()}))),1&n&&(o._listener.add(t.onDidChangeModel((function(e){return o.cancel()}))),o._listener.add(t.onDidChangeModelContent((function(e){return o.cancel()})))),o}return qL(t,e),t.prototype.dispose=function(){this._listener.dispose(),e.prototype.dispose.call(this)},t}(KL),ZL=function(e){function t(t,n){var i=e.call(this,n)||this;return i._listener=t.onDidChangeContent((function(){return i.cancel()})),i}return qL(t,e),t.prototype.dispose=function(){this._listener.dispose(),e.prototype.dispose.call(this)},t}(rt),JL=function(){function e(e,t){this._visiblePosition=e,this._visiblePositionScrollDelta=t}return e.capture=function(t){var n=null,i=0;if(0!==t.getScrollTop()){var o=t.getVisibleRanges();if(o.length>0){n=o[0].getStartPosition();var r=t.getTopForPosition(n.lineNumber,n.column);i=t.getScrollTop()-r}}return new e(n,i)},e.prototype.restore=function(e){if(this._visiblePosition){var t=e.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);e.setScrollTop(t+this._visiblePositionScrollDelta)}},e}(),QL=(n("0d30"),n("c84a"),{RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:"text/plain"}),eI=function(){function e(e){this.data=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.data},e}(),tI={CurrentDragAndDropData:void 0},nI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iI=function(e){function t(t,n,i){var o=e.call(this)||this;return o.options=i,o._context=t||o,o._action=n,n instanceof rm&&o._register(n.onDidChange((function(e){o.element&&o.handleActionChangeEvent(e)}))),o}return nI(t,e),t.prototype.handleActionChangeEvent=function(e){void 0!==e.enabled&&this.updateEnabled(),void 0!==e.checked&&this.updateChecked(),void 0!==e.class&&this.updateClass(),void 0!==e.label&&(this.updateLabel(),this.updateTooltip()),void 0!==e.tooltip&&this.updateTooltip()},Object.defineProperty(t.prototype,"actionRunner",{get:function(){return this._actionRunner||(this._actionRunner=this._register(new sm)),this._actionRunner},set:function(e){this._actionRunner=e},enumerable:!0,configurable:!0}),t.prototype.getAction=function(){return this._action},t.prototype.isEnabled=function(){return this._action.enabled},t.prototype.setActionContext=function(e){this._context=e},t.prototype.render=function(e){var t=this,n=this.element=e;this._register($m.addTarget(e));var i=this.options&&this.options.draggable;i&&(e.draggable=!0,Un&&this._register(bo(e,ar.DRAG_START,(function(e){var n;return null===(n=e.dataTransfer)||void 0===n?void 0:n.setData(QL.TEXT,t._action.label)})))),this._register(bo(n,Bm.Tap,(function(e){return t.onClick(e)}))),this._register(bo(n,ar.MOUSE_DOWN,(function(e){i||lr.stop(e,!0),t._action.enabled&&0===e.button&&fo(n,"active")}))),this._register(bo(n,ar.CLICK,(function(e){lr.stop(e,!0),t.options&&t.options.isMenu?t.onClick(e):s["i"]((function(){return t.onClick(e)}))}))),this._register(bo(n,ar.DBLCLICK,(function(e){lr.stop(e,!0)}))),[ar.MOUSE_UP,ar.MOUSE_OUT].forEach((function(e){t._register(bo(n,e,(function(e){lr.stop(e),mo(n,"active")})))}))},t.prototype.onClick=function(e){var t;lr.stop(e,!0),Ea(this._context)?t=e:(t=this._context,ba(t)&&(t.event=e)),this.actionRunner.run(this._action,t)},t.prototype.focus=function(){this.element&&(this.element.focus(),fo(this.element,"focused"))},t.prototype.blur=function(){this.element&&(this.element.blur(),mo(this.element,"focused"))},t.prototype.updateEnabled=function(){},t.prototype.updateLabel=function(){},t.prototype.updateTooltip=function(){},t.prototype.updateClass=function(){},t.prototype.updateChecked=function(){},t.prototype.dispose=function(){this.element&&(ao(this.element),this.element=void 0),e.prototype.dispose.call(this)},t}(Ae),oI=function(e){function t(n){var i=e.call(this,t.ID,n,n?"separator text":"separator")||this;return i.checked=!1,i.enabled=!1,i}return nI(t,e),t.ID="vs.actions.separator",t}(rm),rI=function(e){function t(t,n,i){void 0===i&&(i={});var o=e.call(this,t,n,i)||this;return o.options=i,o.options.icon=void 0!==i.icon&&i.icon,o.options.label=void 0===i.label||i.label,o.cssClass="",o}return nI(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.element&&(this.label=pr(this.element,_r("a.action-label"))),this.label&&(this._action.id===oI.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&(pr(this.element,_r("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()},t.prototype.focus=function(){e.prototype.focus.call(this),this.label&&this.label.focus()},t.prototype.updateLabel=function(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)},t.prototype.updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=r({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.label&&(this.label.title=e)},t.prototype.updateClass=function(){this.cssClass&&this.label&&_o(this.label,this.cssClass),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(fo(this.label,"codicon"),this.cssClass&&go(this.label,this.cssClass)),this.updateEnabled()):this.label&&mo(this.label,"codicon")},t.prototype.updateEnabled=function(){this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),mo(this.label,"disabled"),this.label.tabIndex=0),this.element&&mo(this.element,"disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),fo(this.label,"disabled"),wr(this.label)),this.element&&fo(this.element,"disabled"))},t.prototype.updateChecked=function(){this.label&&(this.getAction().checked?fo(this.label,"checked"):mo(this.label,"checked"))},t}(iI),sI={orientation:0,context:null,triggerKeys:{keys:[3,10],keyDown:!1}},aI=function(e){function t(t,n){void 0===n&&(n=sI);var i,o,r=e.call(this)||this;switch(r._onDidBlur=r._register(new Ze),r.onDidBlur=r._onDidBlur.event,r._onDidCancel=r._register(new Ze),r.onDidCancel=r._onDidCancel.event,r._onDidRun=r._register(new Ze),r.onDidRun=r._onDidRun.event,r._onDidBeforeRun=r._register(new Ze),r.onDidBeforeRun=r._onDidBeforeRun.event,r.options=n,r._context=n.context,r.options.triggerKeys||(r.options.triggerKeys=sI.triggerKeys),r.options.actionRunner?r._actionRunner=r.options.actionRunner:(r._actionRunner=new sm,r._register(r._actionRunner)),r._register(r._actionRunner.onDidRun((function(e){return r._onDidRun.fire(e)}))),r._register(r._actionRunner.onDidBeforeRun((function(e){return r._onDidBeforeRun.fire(e)}))),r.viewItems=[],r.focusedItem=void 0,r.domNode=document.createElement("div"),r.domNode.className="monaco-action-bar",!1!==n.animated&&fo(r.domNode,"animated"),r.options.orientation){case 0:i=15,o=17;break;case 1:i=17,o=15,r.domNode.className+=" reverse";break;case 2:i=16,o=18,r.domNode.className+=" vertical";break;case 3:i=18,o=16,r.domNode.className+=" vertical reverse";break}return r._register(bo(r.domNode,ar.KEY_DOWN,(function(e){var t=new si(e),n=!0;t.equals(i)?r.focusPrevious():t.equals(o)?r.focusNext():t.equals(9)?r.cancel():r.isTriggerKeyEvent(t)?r.options.triggerKeys&&r.options.triggerKeys.keyDown&&r.doTrigger(t):n=!1,n&&(t.preventDefault(),t.stopPropagation())}))),r._register(bo(r.domNode,ar.KEY_UP,(function(e){var t=new si(e);r.isTriggerKeyEvent(t)?(r.options.triggerKeys&&!r.options.triggerKeys.keyDown&&r.doTrigger(t),t.preventDefault(),t.stopPropagation()):(t.equals(2)||t.equals(1026))&&r.updateFocusedItem()}))),r.focusTracker=r._register(dr(r.domNode)),r._register(r.focusTracker.onDidBlur((function(){document.activeElement!==r.domNode&&Yo(document.activeElement,r.domNode)||(r._onDidBlur.fire(),r.focusedItem=void 0)}))),r._register(r.focusTracker.onDidFocus((function(){return r.updateFocusedItem()}))),r.actionsList=document.createElement("ul"),r.actionsList.className="actions-container",r.actionsList.setAttribute("role","toolbar"),r.options.ariaLabel&&r.actionsList.setAttribute("aria-label",r.options.ariaLabel),r.domNode.appendChild(r.actionsList),t.appendChild(r.domNode),r}return nI(t,e),t.prototype.isTriggerKeyEvent=function(e){var t=!1;return this.options.triggerKeys&&this.options.triggerKeys.keys.forEach((function(n){t=t||e.equals(n)})),t},t.prototype.updateFocusedItem=function(){for(var e=0;e<this.actionsList.children.length;e++){var t=this.actionsList.children[e];if(Yo(document.activeElement,t)){this.focusedItem=e;break}}},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context=e,this.viewItems.forEach((function(t){return t.setActionContext(e)}))},enumerable:!0,configurable:!0}),t.prototype.getContainer=function(){return this.domNode},t.prototype.push=function(e,t){var n=this;void 0===t&&(t={});var i=Array.isArray(e)?e:[e],o=wa(t.index)?t.index:null;i.forEach((function(e){var i,r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation"),n._register(bo(r,ar.CONTEXT_MENU,(function(e){e.preventDefault(),e.stopPropagation()}))),n.options.actionViewItemProvider&&(i=n.options.actionViewItemProvider(e)),i||(i=new rI(n.context,e,t)),i.actionRunner=n._actionRunner,i.setActionContext(n.context),i.render(r),null===o||o<0||o>=n.actionsList.children.length?(n.actionsList.appendChild(r),n.viewItems.push(i)):(n.actionsList.insertBefore(r,n.actionsList.children[o]),n.viewItems.splice(o,0,i),o++)}))},t.prototype.clear=function(){this.viewItems=Ie(this.viewItems),so(this.actionsList)},t.prototype.isEmpty=function(){return 0===this.viewItems.length},t.prototype.focus=function(e){var t=!1,n=void 0;void 0===e?t=!0:"number"===typeof e?n=e:"boolean"===typeof e&&(t=e),t&&"undefined"===typeof this.focusedItem?(this.focusedItem=this.viewItems.length-1,this.focusNext()):(void 0!==n&&(this.focusedItem=n),this.updateFocus())},t.prototype.focusNext=function(){"undefined"===typeof this.focusedItem&&(this.focusedItem=this.viewItems.length-1);var e,t=this.focusedItem;do{this.focusedItem=(this.focusedItem+1)%this.viewItems.length,e=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus()},t.prototype.focusPrevious=function(){"undefined"===typeof this.focusedItem&&(this.focusedItem=0);var e,t=this.focusedItem;do{this.focusedItem=this.focusedItem-1,this.focusedItem<0&&(this.focusedItem=this.viewItems.length-1),e=this.viewItems[this.focusedItem]}while(this.focusedItem!==t&&!e.isEnabled());this.focusedItem!==t||e.isEnabled()||(this.focusedItem=void 0),this.updateFocus(!0)},t.prototype.updateFocus=function(e,t){"undefined"===typeof this.focusedItem&&this.actionsList.focus({preventScroll:t});for(var n=0;n<this.viewItems.length;n++){var i=this.viewItems[n],o=i;n===this.focusedItem?La(o.isEnabled)&&(o.isEnabled()&&La(o.focus)?o.focus(e):this.actionsList.focus({preventScroll:t})):La(o.blur)&&o.blur()}},t.prototype.doTrigger=function(e){if("undefined"!==typeof this.focusedItem){var t=this.viewItems[this.focusedItem];if(t instanceof iI){var n=null===t._context||void 0===t._context?e:t._context;this.run(t._action,n)}}},t.prototype.cancel=function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._onDidCancel.fire()},t.prototype.run=function(e,t){return this._actionRunner.run(e,t)},t.prototype.dispose=function(){Ie(this.viewItems),this.viewItems=[],ao(this.getContainer()),e.prototype.dispose.call(this)},t}(Ae),lI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uI=3,cI=function(){function e(e,t,n,i){this.originalLineStart=e,this.originalLineEnd=t,this.modifiedLineStart=n,this.modifiedLineEnd=i}return e.prototype.getType=function(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0},e}(),hI=function(){function e(e){this.entries=e}return e}(),dI=function(e){function t(t){var n=e.call(this)||this;return n._width=0,n._diffEditor=t,n._isVisible=!1,n.shadow=Am(document.createElement("div")),n.shadow.setClassName("diff-review-shadow"),n.actionBarContainer=Am(document.createElement("div")),n.actionBarContainer.setClassName("diff-review-actions"),n._actionBar=n._register(new aI(n.actionBarContainer.domNode)),n._actionBar.push(new rm("diffreview.close",r("label.close","Close"),"close-diff-review",!0,(function(){return n.hide(),Promise.resolve(null)})),{label:!1,icon:!0}),n.domNode=Am(document.createElement("div")),n.domNode.setClassName("diff-review monaco-editor-background"),n._content=Am(document.createElement("div")),n._content.setClassName("diff-review-content"),n.scrollbar=n._register(new KT(n._content.domNode,{})),n.domNode.domNode.appendChild(n.scrollbar.getDomNode()),n._register(t.onDidUpdateDiff((function(){n._isVisible&&(n._diffs=n._compute(),n._render())}))),n._register(t.getModifiedEditor().onDidChangeCursorPosition((function(){n._isVisible&&n._render()}))),n._register(t.getOriginalEditor().onDidFocusEditorWidget((function(){n._isVisible&&n.hide()}))),n._register(t.getModifiedEditor().onDidFocusEditorWidget((function(){n._isVisible&&n.hide()}))),n._register(So(n.domNode.domNode,"click",(function(e){e.preventDefault();var t=Xo(e.target,"diff-review-row");t&&n._goToRow(t)}))),n._register(So(n.domNode.domNode,"keydown",(function(e){(e.equals(18)||e.equals(2066)||e.equals(530))&&(e.preventDefault(),n._goToRow(n._getNextRow())),(e.equals(16)||e.equals(2064)||e.equals(528))&&(e.preventDefault(),n._goToRow(n._getPrevRow())),(e.equals(9)||e.equals(2057)||e.equals(521)||e.equals(1033))&&(e.preventDefault(),n.hide()),(e.equals(10)||e.equals(3))&&(e.preventDefault(),n.accept())}))),n._diffs=[],n._currentDiff=null,n}return lI(t,e),t.prototype.prev=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,n=0,i=this._diffs.length;n<i;n++)if(this._diffs[n]===this._currentDiff){t=n;break}e=this._diffs.length+t-1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new yn(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.next=function(){var e=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){for(var t=-1,n=0,i=this._diffs.length;n<i;n++)if(this._diffs[n]===this._currentDiff){t=n;break}e=t+1}else e=this._findDiffIndex(this._diffEditor.getPosition());0!==this._diffs.length&&(e%=this._diffs.length,this._diffEditor.setPosition(new yn(this._diffs[e].entries[0].modifiedLineStart,1)),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow()))},t.prototype.accept=function(){var e=-1,t=this._getCurrentFocusedRow();if(t){var n=parseInt(t.getAttribute("data-line"),10);isNaN(n)||(e=n)}this.hide(),-1!==e&&(this._diffEditor.setPosition(new yn(e,1)),this._diffEditor.revealPosition(new yn(e,1),1))},t.prototype.hide=function(){this._isVisible=!1,this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()},t.prototype._getPrevRow=function(){var e=this._getCurrentFocusedRow();return e?e.previousElementSibling?e.previousElementSibling:e:this._getFirstRow()},t.prototype._getNextRow=function(){var e=this._getCurrentFocusedRow();return e?e.nextElementSibling?e.nextElementSibling:e:this._getFirstRow()},t.prototype._getFirstRow=function(){return this.domNode.domNode.querySelector(".diff-review-row")},t.prototype._getCurrentFocusedRow=function(){var e=document.activeElement;return e&&/diff-review-row/.test(e.className)?e:null},t.prototype._goToRow=function(e){var t=this._getCurrentFocusedRow();e.tabIndex=0,e.focus(),t&&t!==e&&(t.tabIndex=-1),this.scrollbar.scanDomNode()},t.prototype.isVisible=function(){return this._isVisible},t.prototype.layout=function(e,t,n){this._width=t,this.shadow.setTop(e-6),this.shadow.setWidth(t),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(e),this.domNode.setWidth(t),this.domNode.setHeight(n),this._content.setHeight(n),this._content.setWidth(t),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))},t.prototype._compute=function(){var e=this._diffEditor.getLineChanges();if(!e||0===e.length)return[];var n=this._diffEditor.getOriginalEditor().getModel(),i=this._diffEditor.getModifiedEditor().getModel();return n&&i?t._mergeAdjacent(e,n.getLineCount(),i.getLineCount()):[]},t._mergeAdjacent=function(e,t,n){if(!e||0===e.length)return[];for(var i=[],o=0,r=0,s=e.length;r<s;r++){var a=e[r],l=a.originalStartLineNumber,u=a.originalEndLineNumber,c=a.modifiedStartLineNumber,h=a.modifiedEndLineNumber,d=[],p=0,f=0===u?l:l-1,g=0===h?c:c-1,m=1,_=1;if(r>0){var v=e[r-1];m=0===v.originalEndLineNumber?v.originalStartLineNumber+1:v.originalEndLineNumber+1,_=0===v.modifiedEndLineNumber?v.modifiedStartLineNumber+1:v.modifiedEndLineNumber+1}var y=f-uI+1,b=g-uI+1;if(y<m){var w=m-y;y+=w,b+=w}if(b<_){w=_-b;y+=w,b+=w}d[p++]=new cI(y,f,b,g),0!==u&&(d[p++]=new cI(l,u,0,0)),0!==h&&(d[p++]=new cI(0,0,c,h));var C=0===u?l+1:u+1,S=0===h?c+1:h+1,E=t,T=n;if(r+1<s){var k=e[r+1];E=0===k.originalEndLineNumber?k.originalStartLineNumber:k.originalStartLineNumber-1,T=0===k.modifiedEndLineNumber?k.modifiedStartLineNumber:k.modifiedStartLineNumber-1}var x=C+uI-1,L=S+uI-1;if(x>E){w=E-x;x+=w,L+=w}if(L>T){w=T-L;x+=w,L+=w}d[p++]=new cI(C,x,S,L),i[o++]=new hI(d)}var I=i[0].entries,O=[],D=0;for(r=1,s=i.length;r<s;r++){var N=i[r].entries,R=I[I.length-1],A=N[0];0===R.getType()&&0===A.getType()&&A.originalLineStart<=R.originalLineEnd?(I[I.length-1]=new cI(R.originalLineStart,A.originalLineEnd,R.modifiedLineStart,A.modifiedLineEnd),I=I.concat(N.slice(1))):(O[D++]=new hI(I),I=N)}return O[D++]=new hI(I),O},t.prototype._findDiffIndex=function(e){for(var t=e.lineNumber,n=0,i=this._diffs.length;n<i;n++){var o=this._diffs[n].entries,r=o[o.length-1].modifiedLineEnd;if(t<=r)return n}return 0},t.prototype._render=function(){var e=this._diffEditor.getOriginalEditor().getOptions(),n=this._diffEditor.getModifiedEditor().getOptions(),i=this._diffEditor.getOriginalEditor().getModel(),o=this._diffEditor.getModifiedEditor().getModel(),s=i.getOptions(),a=o.getOptions();if(!this._isVisible||!i||!o)return so(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();var l=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[l]!==this._currentDiff){this._currentDiff=this._diffs[l];var u=this._diffs[l].entries,c=document.createElement("div");c.className="diff-review-table",c.setAttribute("role","list"),tm.applyFontInfoSlow(c,n.get(34));for(var h=0,d=0,p=0,f=0,g=0,m=u.length;g<m;g++){var _=u[g],v=_.originalLineStart,y=_.originalLineEnd,b=_.modifiedLineStart,w=_.modifiedLineEnd;0!==v&&(0===h||v<h)&&(h=v),0!==y&&(0===d||y>d)&&(d=y),0!==b&&(0===p||b<p)&&(p=b),0!==w&&(0===f||w>f)&&(f=w)}var C=document.createElement("div");C.className="diff-review-row";var S=document.createElement("div");S.className="diff-review-cell diff-review-summary";var E=d-h+1,T=f-p+1;S.appendChild(document.createTextNode(l+1+"/"+this._diffs.length+": @@ -"+h+","+E+" +"+p+","+T+" @@")),C.setAttribute("data-line",String(p));var k=function(e){return 0===e?r("no_lines","no lines"):1===e?r("one_line","1 line"):r("more_lines","{0} lines",e)},x=k(E),L=k(T);C.setAttribute("aria-label",r({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines", "1 line" or "X lines", localized separately.']},"Difference {0} of {1}: original {2}, {3}, modified {4}, {5}",l+1,this._diffs.length,h,x,p,L)),C.appendChild(S),C.setAttribute("role","listitem"),c.appendChild(C);var I=p;for(g=0,m=u.length;g<m;g++){_=u[g];t._renderSection(c,_,I,this._width,e,i,s,n,o,a),0!==_.modifiedLineStart&&(I=_.modifiedLineEnd)}so(this._content.domNode),this._content.domNode.appendChild(c),this.scrollbar.scanDomNode()}},t._renderSection=function(e,t,n,i,o,s,a,l,u,c){var h=t.getType(),d="diff-review-row",p="",f="diff-review-spacer";switch(h){case 1:d="diff-review-row line-insert",p=" char-insert",f="diff-review-spacer insert-sign";break;case 2:d="diff-review-row line-delete",p=" char-delete",f="diff-review-spacer delete-sign";break}for(var g=t.originalLineStart,m=t.originalLineEnd,_=t.modifiedLineStart,v=t.modifiedLineEnd,y=Math.max(v-_,m-g),b=o.get(107),w=b.glyphMarginWidth+b.lineNumbersWidth,C=l.get(107),S=10+C.glyphMarginWidth+C.lineNumbersWidth,E=0;E<=y;E++){var T=0===g?0:g+E,k=0===_?0:_+E,x=document.createElement("div");x.style.minWidth=i+"px",x.className=d,x.setAttribute("role","listitem"),0!==k&&(n=k),x.setAttribute("data-line",String(n));var L=document.createElement("div");L.className="diff-review-cell",x.appendChild(L);var I=document.createElement("span");I.style.width=w+"px",I.style.minWidth=w+"px",I.className="diff-review-line-number"+p,0!==T?I.appendChild(document.createTextNode(String(T))):I.innerHTML="&#160;",L.appendChild(I);var O=document.createElement("span");O.style.width=S+"px",O.style.minWidth=S+"px",O.style.paddingRight="10px",O.className="diff-review-line-number"+p,0!==k?O.appendChild(document.createTextNode(String(k))):O.innerHTML="&#160;",L.appendChild(O);var D=document.createElement("span");D.className=f,D.innerHTML="&#160;&#160;",L.appendChild(D);var N=void 0;0!==k?(L.insertAdjacentHTML("beforeend",this._renderLine(u,l,c.tabSize,k)),N=u.getLineContent(k)):(L.insertAdjacentHTML("beforeend",this._renderLine(s,o,a.tabSize,T)),N=s.getLineContent(T)),0===N.length&&(N=r("blankLine","blank"));var R="";switch(h){case 0:R=r("equalLine","original {0}, modified {1}: {2}",T,k,N);break;case 1:R=r("insertLine","+ modified {0}: {1}",k,N);break;case 2:R=r("deleteLine","- original {0}: {1}",T,N);break}x.setAttribute("aria-label",R),e.appendChild(x)}},t._renderLine=function(e,t,n,i){var o=e.getLineContent(i),r=t.get(34),s=16793600,a=new Uint32Array(2);a[0]=o.length,a[1]=s;var l=new ad(a,o),u=Rd.isBasicASCII(o,e.mightContainNonBasicASCII()),c=Rd.containsRTL(o,u,e.mightContainRTL()),h=Cd(new _d(r.isMonospace&&!t.get(23),r.canUseHalfwidthRightwardsArrow,o,!1,u,c,0,l,[],n,0,r.spaceWidth,r.middotWidth,t.get(88),t.get(74),t.get(69),t.get(35)!==F.OFF,null));return h.html},t}(Ae);w_((function(e,t){var n=e.getColor(vS);n&&t.addRule(".monaco-diff-editor .diff-review-line-number { color: "+n+"; }");var i=e.getColor(kw);i&&t.addRule(".monaco-diff-editor .diff-review-shadow { box-shadow: "+i+" 0 -6px 6px -6px inset; }")}));var pI=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.next",label:r("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:xf.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})||this}return lI(t,e),t.prototype.run=function(e,t){var n=gI(e);n&&n.diffReviewNext()},t}(Cm),fI=function(e){function t(){return e.call(this,{id:"editor.action.diffReview.prev",label:r("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:xf.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})||this}return lI(t,e),t.prototype.run=function(e,t){var n=gI(e);n&&n.diffReviewPrev()},t}(Cm);function gI(e){for(var t=e.get(Rn),n=t.listDiffEditors(),i=0,o=n.length;i<o;i++){var r=n[i];if(r.hasWidgetFocus())return r}return null}Lm(pI),Lm(fI);var mI=Dn("contextViewService"),_I=Dn("contextMenuService"),vI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yI=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},bI=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},wI=function(e){function t(t,n,i,o,s,a){var l=e.call(this)||this;l._viewZoneId=t,l._marginDomNode=n,l.editor=i,l.diff=o,l._contextMenuService=s,l._clipboardService=a,l._visibility=!1,l._marginDomNode.style.zIndex="10",l._diffActions=document.createElement("div"),l._diffActions.className="codicon codicon-lightbulb lightbulb-glyph",l._diffActions.style.position="absolute";var u=i.getOption(49),c=i.getModel().getEOL();l._diffActions.style.right="0px",l._diffActions.style.visibility="hidden",l._diffActions.style.height=u+"px",l._diffActions.style.lineHeight=u+"px",l._marginDomNode.appendChild(l._diffActions);var h=[];h.push(new rm("diff.clipboard.copyDeletedContent",o.originalEndLineNumber>o.modifiedStartLineNumber?r("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):r("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"),void 0,!0,(function(){return yI(l,void 0,void 0,(function(){return bI(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(o.originalContent.join(c)+c)];case 1:return e.sent(),[2]}}))}))})));var d=0,p=void 0;o.originalEndLineNumber>o.modifiedStartLineNumber&&(p=new rm("diff.clipboard.copyDeletedLineContent",r("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber),void 0,!0,(function(){return yI(l,void 0,void 0,(function(){return bI(this,(function(e){switch(e.label){case 0:return[4,this._clipboardService.writeText(o.originalContent[d])];case 1:return e.sent(),[2]}}))}))})),h.push(p));var f=i.getOption(68);f||h.push(new rm("diff.inline.revertChange",r("diff.inline.revertChange.label","Revert this change"),void 0,!0,(function(){return yI(l,void 0,void 0,(function(){var e;return bI(this,(function(t){return 0===o.modifiedEndLineNumber?(e=i.getModel().getLineMaxColumn(o.modifiedStartLineNumber),i.executeEdits("diffEditor",[{range:new bn(o.modifiedStartLineNumber,e,o.modifiedStartLineNumber,e),text:c+o.originalContent.join(c)}])):(e=i.getModel().getLineMaxColumn(o.modifiedEndLineNumber),i.executeEdits("diffEditor",[{range:new bn(o.modifiedStartLineNumber,1,o.modifiedEndLineNumber,e),text:o.originalContent.join(c)}])),[2]}))}))})));var g=function(e,t){l._contextMenuService.showContextMenu({getAnchor:function(){return{x:e,y:t}},getActions:function(){return p&&(p.label=r("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",o.originalStartLineNumber+d)),h},autoSelectFirstItem:!0})};return l._register(So(l._diffActions,"mousedown",(function(e){var t=Uo(l._diffActions),n=t.top,i=t.height,o=Math.floor(u/3);e.preventDefault(),g(e.posx,n+i+o)}))),l._register(i.onMouseMove((function(e){if(8===e.target.type||5===e.target.type){var t=e.target.detail.viewZoneId;t===l._viewZoneId?(l.visibility=!0,d=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u)):l.visibility=!1}else l.visibility=!1}))),l._register(i.onMouseDown((function(e){if(e.event.rightButton&&(8===e.target.type||5===e.target.type)){var t=e.target.detail.viewZoneId;t===l._viewZoneId&&(e.event.preventDefault(),d=l._updateLightBulbPosition(l._marginDomNode,e.event.browserEvent.y,u),g(e.event.posx,e.event.posy+u))}}))),l}return vI(t,e),Object.defineProperty(t.prototype,"visibility",{get:function(){return this._visibility},set:function(e){this._visibility!==e&&(this._visibility=e,this._diffActions.style.visibility=e?"visible":"hidden")},enumerable:!0,configurable:!0}),t.prototype._updateLightBulbPosition=function(e,t,n){var i=Uo(e).top,o=t-i,r=Math.floor(o/n),s=r*n;return this._diffActions.style.top=s+"px",r},t}(Ae),CI=Dn("editorProgressService"),SI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),EI=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},TI=function(e,t){return function(n,i){t(n,i,e)}},kI=function(){function e(e,t){this._contextMenuService=e,this._clipboardService=t,this._zones=[],this.inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}return e.prototype.getForeignViewZones=function(e){var t=this;return e.filter((function(e){return!t._zonesMap[String(e.id)]}))},e.prototype.clean=function(e){var t=this;this._zones.length>0&&e.changeViewZones((function(e){for(var n=0,i=t._zones.length;n<i;n++)e.removeZone(t._zones[n])})),this._zones=[],this._zonesMap={},this._decorations=e.deltaDecorations(this._decorations,[])},e.prototype.apply=function(e,t,n,i){var o=this,r=i?JL.capture(e):null;e.changeViewZones((function(t){for(var i=0,r=o._zones.length;i<r;i++)t.removeZone(o._zones[i]);i=0;for(var s=o.inlineDiffMargins.length;i<s;i++)o.inlineDiffMargins[i].dispose();o._zones=[],o._zonesMap={},o.inlineDiffMargins=[];i=0;for(var a=n.zones.length;i<a;i++){var l=n.zones[i];l.suppressMouseDown=!0;var u=t.addZone(l);o._zones.push(u),o._zonesMap[String(u)]=!0,n.zones[i].diff&&l.marginDomNode&&o._clipboardService&&(l.suppressMouseDown=!1,o.inlineDiffMargins.push(new wI(u,l.marginDomNode,e,n.zones[i].diff,o._contextMenuService,o._clipboardService)))}})),r&&r.restore(e),this._decorations=e.deltaDecorations(this._decorations,n.decorations),t&&t.setZones(n.overviewZones)},e}(),xI=0,LI=function(e){function t(n,i,o,r,s,a,l,u,c,h,d){var p=e.call(this)||this;p._editorProgressService=d,p._onDidDispose=p._register(new Ze),p.onDidDispose=p._onDidDispose.event,p._onDidUpdateDiff=p._register(new Ze),p.onDidUpdateDiff=p._onDidUpdateDiff.event,p._lastOriginalWarning=null,p._lastModifiedWarning=null,p._editorWorkerService=r,p._codeEditorService=l,p._contextKeyService=p._register(s.createScoped(n)),p._contextKeyService.createKey("isInDiffEditor",!0),p._themeService=u,p._notificationService=c,p.id=++xI,p._state=0,p._updatingDiffProgress=null,p._domElement=n,i=i||{},p._renderSideBySide=!0,"undefined"!==typeof i.renderSideBySide&&(p._renderSideBySide=i.renderSideBySide),p._maxComputationTime=5e3,"undefined"!==typeof i.maxComputationTime&&(p._maxComputationTime=i.maxComputationTime),p._ignoreTrimWhitespace=!0,"undefined"!==typeof i.ignoreTrimWhitespace&&(p._ignoreTrimWhitespace=i.ignoreTrimWhitespace),p._renderIndicators=!0,"undefined"!==typeof i.renderIndicators&&(p._renderIndicators=i.renderIndicators),p._originalIsEditable=!1,"undefined"!==typeof i.originalEditable&&(p._originalIsEditable=Boolean(i.originalEditable)),p._updateDecorationsRunner=p._register(new ki((function(){return p._updateDecorations()}),0)),p._containerDomElement=document.createElement("div"),p._containerDomElement.className=t._getClassName(p._themeService.getTheme(),p._renderSideBySide),p._containerDomElement.style.position="relative",p._containerDomElement.style.height="100%",p._domElement.appendChild(p._containerDomElement),p._overviewViewportDomElement=Am(document.createElement("div")),p._overviewViewportDomElement.setClassName("diffViewport"),p._overviewViewportDomElement.setPosition("absolute"),p._overviewDomElement=document.createElement("div"),p._overviewDomElement.className="diffOverview",p._overviewDomElement.style.position="absolute",p._overviewDomElement.appendChild(p._overviewViewportDomElement.domNode),p._register(So(p._overviewDomElement,"mousedown",(function(e){p.modifiedEditor.delegateVerticalScrollbarMouseDown(e)}))),p._containerDomElement.appendChild(p._overviewDomElement),p._originalDomNode=document.createElement("div"),p._originalDomNode.className="editor original",p._originalDomNode.style.position="absolute",p._originalDomNode.style.height="100%",p._containerDomElement.appendChild(p._originalDomNode),p._modifiedDomNode=document.createElement("div"),p._modifiedDomNode.className="editor modified",p._modifiedDomNode.style.position="absolute",p._modifiedDomNode.style.height="100%",p._containerDomElement.appendChild(p._modifiedDomNode),p._beginUpdateDecorationsTimeout=-1,p._currentlyChangingViewZones=!1,p._diffComputationToken=0,p._originalEditorState=new kI(h,o),p._modifiedEditorState=new kI(h,o),p._isVisible=!0,p._isHandlingScrollEvent=!1,p._elementSizeObserver=p._register(new Xg(p._containerDomElement,void 0,(function(){return p._onDidContainerSizeChanged()}))),i.automaticLayout&&p._elementSizeObserver.startObserving(),p._diffComputationResult=null;var f=p._contextKeyService.createScoped();f.createKey("isInDiffLeftEditor",!0);var g=new eL;g.set(Bf,f);var m=a.createChild(g),_=p._contextKeyService.createScoped();_.createKey("isInDiffRightEditor",!0);var v=new eL;v.set(Bf,_);var y=a.createChild(v);p.originalEditor=p._createLeftHandSideEditor(i,m),p.modifiedEditor=p._createRightHandSideEditor(i,y),p._originalOverviewRuler=null,p._modifiedOverviewRuler=null,p._reviewPane=new dI(p),p._containerDomElement.appendChild(p._reviewPane.domNode.domNode),p._containerDomElement.appendChild(p._reviewPane.shadow.domNode),p._containerDomElement.appendChild(p._reviewPane.actionBarContainer.domNode),p._enableSplitViewResizing=!0,"undefined"!==typeof i.enableSplitViewResizing&&(p._enableSplitViewResizing=i.enableSplitViewResizing),p._renderSideBySide?p._setStrategy(new AI(p._createDataSource(),p._enableSplitViewResizing)):p._setStrategy(new PI(p._createDataSource(),p._enableSplitViewResizing)),p._register(u.onThemeChange((function(e){p._strategy&&p._strategy.applyColors(e)&&p._updateDecorationsRunner.schedule(),p._containerDomElement.className=t._getClassName(p._themeService.getTheme(),p._renderSideBySide)})));for(var b=dm.getDiffEditorContributions(),w=0,C=b;w<C.length;w++){var S=C[w];try{p._register(a.createInstance(S.ctor,p))}catch(E){ge(E)}}return p._codeEditorService.addDiffEditor(p),p}return SI(t,e),t.prototype._setState=function(e){this._state!==e&&(this._state=e,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))},t.prototype.hasWidgetFocus=function(){return Yo(document.activeElement,this._domElement)},t.prototype.diffReviewNext=function(){this._reviewPane.next()},t.prototype.diffReviewPrev=function(){this._reviewPane.prev()},t._getClassName=function(e,t){var n="monaco-diff-editor monaco-editor-background ";return t&&(n+="side-by-side "),n+=__(e.type),n},t.prototype._recreateOverviewRulers=function(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this.originalEditor.hasModel()&&(this._originalOverviewRuler=this.originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this.modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this.modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers()},t.prototype._createLeftHandSideEditor=function(e,t){var n=this,i=this._createInnerEditor(t,this._originalDomNode,this._adjustOptionsForLeftHandSide(e,this._originalIsEditable));return this._register(i.onDidScrollChange((function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n.modifiedEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())}))),this._register(i.onDidChangeViewZones((function(){n._onViewZonesChanged()}))),this._register(i.onDidChangeModelContent((function(){n._isVisible&&n._beginUpdateDecorationsSoon()}))),i},t.prototype._createRightHandSideEditor=function(e,t){var n=this,i=this._createInnerEditor(t,this._modifiedDomNode,this._adjustOptionsForRightHandSide(e));return this._register(i.onDidScrollChange((function(e){n._isHandlingScrollEvent||(e.scrollTopChanged||e.scrollLeftChanged||e.scrollHeightChanged)&&(n._isHandlingScrollEvent=!0,n.originalEditor.setScrollPosition({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),n._isHandlingScrollEvent=!1,n._layoutOverviewViewport())}))),this._register(i.onDidChangeViewZones((function(){n._onViewZonesChanged()}))),this._register(i.onDidChangeConfiguration((function(e){e.hasChanged(34)&&i.getModel()&&n._onViewZonesChanged()}))),this._register(i.onDidChangeModelContent((function(){n._isVisible&&n._beginUpdateDecorationsSoon()}))),this._register(i.onDidChangeModelOptions((function(e){e.tabSize&&n._updateDecorationsRunner.schedule()}))),i},t.prototype._createInnerEditor=function(e,t,n){return e.createInstance(TL,t,n,{})},t.prototype.dispose=function(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this.originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this.modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),e.prototype.dispose.call(this)},t.prototype.getId=function(){return this.getEditorType()+":"+this.id},t.prototype.getEditorType=function(){return Dl.IDiffEditor},t.prototype.getLineChanges=function(){return this._diffComputationResult?this._diffComputationResult.changes:null},t.prototype.getOriginalEditor=function(){return this.originalEditor},t.prototype.getModifiedEditor=function(){return this.modifiedEditor},t.prototype.updateOptions=function(e){var n=!1;"undefined"!==typeof e.renderSideBySide&&this._renderSideBySide!==e.renderSideBySide&&(this._renderSideBySide=e.renderSideBySide,n=!0),"undefined"!==typeof e.maxComputationTime&&(this._maxComputationTime=e.maxComputationTime,this._isVisible&&this._beginUpdateDecorationsSoon());var i=!1;"undefined"!==typeof e.ignoreTrimWhitespace&&this._ignoreTrimWhitespace!==e.ignoreTrimWhitespace&&(this._ignoreTrimWhitespace=e.ignoreTrimWhitespace,i=!0),"undefined"!==typeof e.renderIndicators&&this._renderIndicators!==e.renderIndicators&&(this._renderIndicators=e.renderIndicators,i=!0),i&&this._beginUpdateDecorations(),"undefined"!==typeof e.originalEditable&&(this._originalIsEditable=Boolean(e.originalEditable)),this.modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(e)),this.originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(e,this._originalIsEditable)),"undefined"!==typeof e.enableSplitViewResizing&&(this._enableSplitViewResizing=e.enableSplitViewResizing),this._strategy.setEnableSplitViewResizing(this._enableSplitViewResizing),n&&(this._renderSideBySide?this._setStrategy(new AI(this._createDataSource(),this._enableSplitViewResizing)):this._setStrategy(new PI(this._createDataSource(),this._enableSplitViewResizing)),this._containerDomElement.className=t._getClassName(this._themeService.getTheme(),this._renderSideBySide))},t.prototype.getModel=function(){return{original:this.originalEditor.getModel(),modified:this.modifiedEditor.getModel()}},t.prototype.setModel=function(e){if(e&&(!e.original||!e.modified))throw new Error(e.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this.originalEditor.setModel(e?e.original:null),this.modifiedEditor.setModel(e?e.modified:null),this._updateDecorationsRunner.cancel(),e&&(this.originalEditor.setScrollTop(0),this.modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),e&&(this._recreateOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()},t.prototype.getDomNode=function(){return this._domElement},t.prototype.getVisibleColumnFromPosition=function(e){return this.modifiedEditor.getVisibleColumnFromPosition(e)},t.prototype.getPosition=function(){return this.modifiedEditor.getPosition()},t.prototype.setPosition=function(e){this.modifiedEditor.setPosition(e)},t.prototype.revealLine=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLine(e,t)},t.prototype.revealLineInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenter(e,t)},t.prototype.revealLineInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealLineInCenterIfOutsideViewport(e,t)},t.prototype.revealPosition=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPosition(e,t)},t.prototype.revealPositionInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenter(e,t)},t.prototype.revealPositionInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealPositionInCenterIfOutsideViewport(e,t)},t.prototype.getSelection=function(){return this.modifiedEditor.getSelection()},t.prototype.getSelections=function(){return this.modifiedEditor.getSelections()},t.prototype.setSelection=function(e){this.modifiedEditor.setSelection(e)},t.prototype.setSelections=function(e){this.modifiedEditor.setSelections(e)},t.prototype.revealLines=function(e,t,n){void 0===n&&(n=0),this.modifiedEditor.revealLines(e,t,n)},t.prototype.revealLinesInCenter=function(e,t,n){void 0===n&&(n=0),this.modifiedEditor.revealLinesInCenter(e,t,n)},t.prototype.revealLinesInCenterIfOutsideViewport=function(e,t,n){void 0===n&&(n=0),this.modifiedEditor.revealLinesInCenterIfOutsideViewport(e,t,n)},t.prototype.revealRange=function(e,t,n,i){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===i&&(i=!0),this.modifiedEditor.revealRange(e,t,n,i)},t.prototype.revealRangeInCenter=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenter(e,t)},t.prototype.revealRangeInCenterIfOutsideViewport=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeInCenterIfOutsideViewport(e,t)},t.prototype.revealRangeAtTop=function(e,t){void 0===t&&(t=0),this.modifiedEditor.revealRangeAtTop(e,t)},t.prototype.getSupportedActions=function(){return this.modifiedEditor.getSupportedActions()},t.prototype.saveViewState=function(){var e=this.originalEditor.saveViewState(),t=this.modifiedEditor.saveViewState();return{original:e,modified:t}},t.prototype.restoreViewState=function(e){if(e.original&&e.modified){var t=e;this.originalEditor.restoreViewState(t.original),this.modifiedEditor.restoreViewState(t.modified)}},t.prototype.layout=function(e){this._elementSizeObserver.observe(e)},t.prototype.focus=function(){this.modifiedEditor.focus()},t.prototype.hasTextFocus=function(){return this.originalEditor.hasTextFocus()||this.modifiedEditor.hasTextFocus()},t.prototype.trigger=function(e,t,n){this.modifiedEditor.trigger(e,t,n)},t.prototype.changeDecorations=function(e){return this.modifiedEditor.changeDecorations(e)},t.prototype._onDidContainerSizeChanged=function(){this._doLayout()},t.prototype._getReviewHeight=function(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0},t.prototype._layoutOverviewRulers=function(){if(this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._elementSizeObserver.getHeight(),n=this._getReviewHeight(),i=t.ENTIRE_DIFF_OVERVIEW_WIDTH-2*t.ONE_OVERVIEW_WIDTH,o=this.modifiedEditor.getLayoutInfo();o&&(this._originalOverviewRuler.setLayout({top:0,width:t.ONE_OVERVIEW_WIDTH,right:i+t.ONE_OVERVIEW_WIDTH,height:e-n}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:t.ONE_OVERVIEW_WIDTH,height:e-n}))}},t.prototype._onViewZonesChanged=function(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()},t.prototype._beginUpdateDecorationsSoon=function(){var e=this;-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout((function(){return e._beginUpdateDecorations()}),t.UPDATE_DIFF_DECORATIONS_DELAY)},t._equals=function(e,t){return!e&&!t||!(!e||!t)&&e.toString()===t.toString()},t.prototype._beginUpdateDecorations=function(){var e=this;this._beginUpdateDecorationsTimeout=-1;var n=this.originalEditor.getModel(),i=this.modifiedEditor.getModel();if(n&&i){this._diffComputationToken++;var o=this._diffComputationToken;this._setState(1),this._editorWorkerService.canComputeDiff(n.uri,i.uri)?this._editorWorkerService.computeDiff(n.uri,i.uri,this._ignoreTrimWhitespace,this._maxComputationTime).then((function(t){o===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=t,e._updateDecorationsRunner.schedule(),e._onDidUpdateDiff.fire())}),(function(t){o===e._diffComputationToken&&n===e.originalEditor.getModel()&&i===e.modifiedEditor.getModel()&&(e._setState(2),e._diffComputationResult=null,e._updateDecorationsRunner.schedule())})):t._equals(n.uri,this._lastOriginalWarning)&&t._equals(i.uri,this._lastModifiedWarning)||(this._lastOriginalWarning=n.uri,this._lastModifiedWarning=i.uri,this._notificationService.warn(r("diff.tooLarge","Cannot compare files because one file is too large.")))}},t.prototype._cleanViewZonesAndDecorations=function(){this._originalEditorState.clean(this.originalEditor),this._modifiedEditorState.clean(this.modifiedEditor)},t.prototype._updateDecorations=function(){if(this.originalEditor.getModel()&&this.modifiedEditor.getModel()&&this._originalOverviewRuler&&this._modifiedOverviewRuler){var e=this._diffComputationResult?this._diffComputationResult.changes:[],t=this._originalEditorState.getForeignViewZones(this.originalEditor.getWhitespaces()),n=this._modifiedEditorState.getForeignViewZones(this.modifiedEditor.getWhitespaces()),i=this._strategy.getEditorsDiffDecorations(e,this._ignoreTrimWhitespace,this._renderIndicators,t,n,this.originalEditor,this.modifiedEditor);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this.originalEditor,this._originalOverviewRuler,i.original,!1),this._modifiedEditorState.apply(this.modifiedEditor,this._modifiedOverviewRuler,i.modified,!0)}finally{this._currentlyChangingViewZones=!1}}},t.prototype._adjustOptionsForSubEditor=function(e){var t=cl(e||{});return t.inDiffEditor=!0,t.wordWrap="off",t.wordWrapMinified=!1,t.automaticLayout=!1,t.scrollbar=t.scrollbar||{},t.scrollbar.vertical="visible",t.folding=!1,t.codeLens=!1,t.fixedOverflowWidgets=!0,t.minimap||(t.minimap={}),t.minimap.enabled=!1,t},t.prototype._adjustOptionsForLeftHandSide=function(e,t){var n=this._adjustOptionsForSubEditor(e);return n.readOnly=!t,n.extraEditorClassName="original-in-monaco-diff-editor",n},t.prototype._adjustOptionsForRightHandSide=function(e){var n=this._adjustOptionsForSubEditor(e);return n.revealHorizontalRightPadding=de.revealHorizontalRightPadding.defaultValue+t.ENTIRE_DIFF_OVERVIEW_WIDTH,n.scrollbar.verticalHasArrows=!1,n.extraEditorClassName="modified-in-monaco-diff-editor",n},t.prototype.doLayout=function(){this._elementSizeObserver.observe(),this._doLayout()},t.prototype._doLayout=function(){var e=this._elementSizeObserver.getWidth(),n=this._elementSizeObserver.getHeight(),i=this._getReviewHeight(),o=this._strategy.layout();this._originalDomNode.style.width=o+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=e-o+"px",this._modifiedDomNode.style.left=o+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=n-i+"px",this._overviewDomElement.style.width=t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=e-t.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(t.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this.originalEditor.layout({width:o,height:n-i}),this.modifiedEditor.layout({width:e-o-t.ENTIRE_DIFF_OVERVIEW_WIDTH,height:n-i}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(n-i,e,i),this._layoutOverviewViewport()},t.prototype._layoutOverviewViewport=function(){var e=this._computeOverviewViewport();e?(this._overviewViewportDomElement.setTop(e.top),this._overviewViewportDomElement.setHeight(e.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))},t.prototype._computeOverviewViewport=function(){var e=this.modifiedEditor.getLayoutInfo();if(!e)return null;var t=this.modifiedEditor.getScrollTop(),n=this.modifiedEditor.getScrollHeight(),i=Math.max(0,e.height),o=Math.max(0,i-0),r=n>0?o/n:0,s=Math.max(0,Math.floor(e.height*r)),a=Math.floor(t*r);return{height:s,top:a}},t.prototype._createDataSource=function(){var e=this;return{getWidth:function(){return e._elementSizeObserver.getWidth()},getHeight:function(){return e._elementSizeObserver.getHeight()-e._getReviewHeight()},getContainerDomNode:function(){return e._containerDomElement},relayoutEditors:function(){e._doLayout()},getOriginalEditor:function(){return e.originalEditor},getModifiedEditor:function(){return e.modifiedEditor}}},t.prototype._setStrategy=function(e){this._strategy&&this._strategy.dispose(),this._strategy=e,e.applyColors(this._themeService.getTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()},t.prototype._getLineChangeAtOrBeforeLineNumber=function(e,t){var n=this._diffComputationResult?this._diffComputationResult.changes:[];if(0===n.length||e<t(n[0]))return null;var i=0,o=n.length-1;while(i<o){var r=Math.floor((i+o)/2),s=t(n[r]),a=r+1<=o?t(n[r+1]):1073741824;e<s?o=r-1:e>=a?i=r+1:(i=r,o=r)}return n[i]},t.prototype._getEquivalentLineForOriginalLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.originalStartLineNumber}));if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-n;return s<=o?i+Math.min(s,r):i+r-o+s},t.prototype._getEquivalentLineForModifiedLineNumber=function(e){var t=this._getLineChangeAtOrBeforeLineNumber(e,(function(e){return e.modifiedStartLineNumber}));if(!t)return e;var n=t.originalStartLineNumber+(t.originalEndLineNumber>0?-1:0),i=t.modifiedStartLineNumber+(t.modifiedEndLineNumber>0?-1:0),o=t.originalEndLineNumber>0?t.originalEndLineNumber-t.originalStartLineNumber+1:0,r=t.modifiedEndLineNumber>0?t.modifiedEndLineNumber-t.modifiedStartLineNumber+1:0,s=e-i;return s<=r?n+Math.min(s,o):n+o-r+s},t.prototype.getDiffLineInformationForOriginal=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(e)}:null},t.prototype.getDiffLineInformationForModified=function(e){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(e)}:null},t.ONE_OVERVIEW_WIDTH=15,t.ENTIRE_DIFF_OVERVIEW_WIDTH=30,t.UPDATE_DIFF_DECORATIONS_DELAY=200,t=EI([TI(3,rc),TI(4,Bf),TI(5,In),TI(6,Rn),TI(7,p_),TI(8,ig),TI(9,_I),TI(10,CI)],t),t}(Ae),II=function(e){function t(t){var n=e.call(this)||this;return n._dataSource=t,n._insertColor=null,n._removeColor=null,n}return SI(t,e),t.prototype.applyColors=function(e){var t=(e.getColor(dC)||cC).transparent(2),n=(e.getColor(pC)||hC).transparent(2),i=!t.equals(this._insertColor)||!n.equals(this._removeColor);return this._insertColor=t,this._removeColor=n,i},t.prototype.getEditorsDiffDecorations=function(e,t,n,i,o,r,s){o=o.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber})),i=i.sort((function(e,t){return e.afterLineNumber-t.afterLineNumber}));var a=this._getViewZones(e,i,o,r,s,n),l=this._getOriginalEditorDecorations(e,t,n,r,s),u=this._getModifiedEditorDecorations(e,t,n,r,s);return{original:{decorations:l.decorations,overviewZones:l.overviewZones,zones:a.original},modified:{decorations:u.decorations,overviewZones:u.overviewZones,zones:a.modified}}},t}(Ae),OI=function(){function e(e){this._source=e,this._index=-1,this.current=null,this.advance()}return e.prototype.advance=function(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null},e}(),DI=function(){function e(e,t,n,i,o){this.lineChanges=e,this.originalForeignVZ=t,this.originalLineHeight=n,this.modifiedForeignVZ=i,this.modifiedLineHeight=o}return e.prototype.getViewZones=function(){for(var t={original:[],modified:[]},n=0,i=0,o=0,r=0,s=0,a=0,l=function(e,t){return e.afterLineNumber-t.afterLineNumber},u=function(e,t){if(null===t.domNode&&e.length>0){var n=e[e.length-1];if(n.afterLineNumber===t.afterLineNumber&&null===n.domNode)return void(n.heightInLines+=t.heightInLines)}e.push(t)},c=new OI(this.modifiedForeignVZ),h=new OI(this.originalForeignVZ),d=0,p=this.lineChanges.length;d<=p;d++){var f=d<p?this.lineChanges[d]:null;null!==f?(o=f.originalStartLineNumber+(f.originalEndLineNumber>0?-1:0),r=f.modifiedStartLineNumber+(f.modifiedEndLineNumber>0?-1:0),i=f.originalEndLineNumber>0?f.originalEndLineNumber-f.originalStartLineNumber+1:0,n=f.modifiedEndLineNumber>0?f.modifiedEndLineNumber-f.modifiedStartLineNumber+1:0,s=Math.max(f.originalStartLineNumber,f.originalEndLineNumber),a=Math.max(f.modifiedStartLineNumber,f.modifiedEndLineNumber)):(o+=1e7+i,r+=1e7+n,s=o,a=r);var g=[],m=[];while(c.current&&c.current.afterLineNumber<=a){var _=void 0;_=c.current.afterLineNumber<=r?o-r+c.current.afterLineNumber:s;var v=null;f&&f.modifiedStartLineNumber<=c.current.afterLineNumber&&c.current.afterLineNumber<=f.modifiedEndLineNumber&&(v=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),g.push({afterLineNumber:_,heightInLines:c.current.height/this.modifiedLineHeight,domNode:null,marginDomNode:v}),c.advance()}while(h.current&&h.current.afterLineNumber<=s){_=void 0;_=h.current.afterLineNumber<=o?r-o+h.current.afterLineNumber:a,m.push({afterLineNumber:_,heightInLines:h.current.height/this.originalLineHeight,domNode:null}),h.advance()}if(null!==f&&BI(f)){var y=this._produceOriginalFromDiff(f,i,n);y&&g.push(y)}if(null!==f&&VI(f)){y=this._produceModifiedFromDiff(f,i,n);y&&m.push(y)}var b=0,w=0;g=g.sort(l),m=m.sort(l);while(b<g.length&&w<m.length){var C=g[b],S=m[w],E=C.afterLineNumber-o,T=S.afterLineNumber-r;E<T?(u(t.original,C),b++):T<E?(u(t.modified,S),w++):C.shouldNotShrink?(u(t.original,C),b++):S.shouldNotShrink?(u(t.modified,S),w++):C.heightInLines>=S.heightInLines?(C.heightInLines-=S.heightInLines,w++):(S.heightInLines-=C.heightInLines,b++)}while(b<g.length)u(t.original,g[b]),b++;while(w<m.length)u(t.modified,m[w]),w++}return{original:e._ensureDomNodes(t.original),modified:e._ensureDomNodes(t.modified)}},e._ensureDomNodes=function(e){return e.map((function(e){return e.domNode||(e.domNode=HI()),e}))},e}();function NI(e,t,n,i,o){return{range:new bn(e,t,n,i),options:o}}var RI={charDelete:Xy.register({className:"char-delete"}),charDeleteWholeLine:Xy.register({className:"char-delete",isWholeLine:!0}),charInsert:Xy.register({className:"char-insert"}),charInsertWholeLine:Xy.register({className:"char-insert",isWholeLine:!0}),lineInsert:Xy.register({className:"line-insert",marginClassName:"line-insert",isWholeLine:!0}),lineInsertWithSign:Xy.register({className:"line-insert",linesDecorationsClassName:"insert-sign codicon codicon-add",marginClassName:"line-insert",isWholeLine:!0}),lineDelete:Xy.register({className:"line-delete",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteWithSign:Xy.register({className:"line-delete",linesDecorationsClassName:"delete-sign codicon codicon-remove",marginClassName:"line-delete",isWholeLine:!0}),lineDeleteMargin:Xy.register({marginClassName:"line-delete"})},AI=function(e){function t(t,n){var i=e.call(this,t)||this;return i._disableSash=!1===n,i._sashRatio=null,i._sashPosition=null,i._startSashPosition=null,i._sash=i._register(new VL(i._dataSource.getContainerDomNode(),i)),i._disableSash&&(i._sash.state=0),i._sash.onDidStart((function(){return i.onSashDragStart()})),i._sash.onDidChange((function(e){return i.onSashDrag(e)})),i._sash.onDidEnd((function(){return i.onSashDragEnd()})),i._sash.onDidReset((function(){return i.onSashReset()})),i}return SI(t,e),t.prototype.setEnableSplitViewResizing=function(e){var t=!1===e;this._disableSash!==t&&(this._disableSash=t,this._sash.state=this._disableSash?0:3)},t.prototype.layout=function(e){void 0===e&&(e=this._sashRatio);var n=this._dataSource.getWidth(),i=n-LI.ENTIRE_DIFF_OVERVIEW_WIDTH,o=Math.floor((e||.5)*i),r=Math.floor(.5*i);return o=this._disableSash?r:o||r,i>2*t.MINIMUM_EDITOR_WIDTH?(o<t.MINIMUM_EDITOR_WIDTH&&(o=t.MINIMUM_EDITOR_WIDTH),o>i-t.MINIMUM_EDITOR_WIDTH&&(o=i-t.MINIMUM_EDITOR_WIDTH)):o=r,this._sashPosition!==o&&(this._sashPosition=o,this._sash.layout()),this._sashPosition},t.prototype.onSashDragStart=function(){this._startSashPosition=this._sashPosition},t.prototype.onSashDrag=function(e){var t=this._dataSource.getWidth(),n=t-LI.ENTIRE_DIFF_OVERVIEW_WIDTH,i=this.layout((this._startSashPosition+(e.currentX-e.startX))/n);this._sashRatio=i/n,this._dataSource.relayoutEditors()},t.prototype.onSashDragEnd=function(){this._sash.layout()},t.prototype.onSashReset=function(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()},t.prototype.getVerticalSashTop=function(e){return 0},t.prototype.getVerticalSashLeft=function(e){return this._sashPosition},t.prototype.getVerticalSashHeight=function(e){return this._dataSource.getHeight()},t.prototype._getViewZones=function(e,t,n,i,o){var r=new MI(e,t,i.getOption(49),n,o.getOption(49));return r.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,o){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=i.getModel(),l=0,u=e.length;l<u;l++){var c=e[l];if(VI(c)&&(s.decorations.push({range:new bn(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824),options:n?RI.lineDeleteWithSign:RI.lineDelete}),BI(c)&&c.charChanges||s.decorations.push(NI(c.originalStartLineNumber,1,c.originalEndLineNumber,1073741824,RI.charDeleteWholeLine)),s.overviewZones.push(new Fk(c.originalStartLineNumber,c.originalEndLineNumber,r)),c.charChanges))for(var h=0,d=c.charChanges.length;h<d;h++){var p=c.charChanges[h];if(VI(p))if(t)for(var f=p.originalStartLineNumber;f<=p.originalEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.originalStartLineNumber?p.originalStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.originalEndLineNumber?p.originalEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(NI(f,g,f,m,RI.charDelete))}else s.decorations.push(NI(p.originalStartLineNumber,p.originalStartColumn,p.originalEndLineNumber,p.originalEndColumn,RI.charDelete))}}return s},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,o){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=o.getModel(),l=0,u=e.length;l<u;l++){var c=e[l];if(BI(c)&&(s.decorations.push({range:new bn(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824),options:n?RI.lineInsertWithSign:RI.lineInsert}),VI(c)&&c.charChanges||s.decorations.push(NI(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824,RI.charInsertWholeLine)),s.overviewZones.push(new Fk(c.modifiedStartLineNumber,c.modifiedEndLineNumber,r)),c.charChanges))for(var h=0,d=c.charChanges.length;h<d;h++){var p=c.charChanges[h];if(BI(p))if(t)for(var f=p.modifiedStartLineNumber;f<=p.modifiedEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(NI(f,g,f,m,RI.charInsert))}else s.decorations.push(NI(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,RI.charInsert))}}return s},t.MINIMUM_EDITOR_WIDTH=100,t}(II),MI=function(e){function t(t,n,i,o,r){return e.call(this,t,n,i,o,r)||this}return SI(t,e),t.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){return null},t.prototype._produceOriginalFromDiff=function(e,t,n){return n>t?{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n-t,domNode:null}:null},t.prototype._produceModifiedFromDiff=function(e,t,n){return t>n?{afterLineNumber:Math.max(e.modifiedStartLineNumber,e.modifiedEndLineNumber),heightInLines:t-n,domNode:null}:null},t}(DI),PI=function(e){function t(t,n){var i=e.call(this,t)||this;return i.decorationsLeft=t.getOriginalEditor().getLayoutInfo().decorationsLeft,i._register(t.getOriginalEditor().onDidLayoutChange((function(e){i.decorationsLeft!==e.decorationsLeft&&(i.decorationsLeft=e.decorationsLeft,t.relayoutEditors())}))),i}return SI(t,e),t.prototype.setEnableSplitViewResizing=function(e){},t.prototype._getViewZones=function(e,t,n,i,o,r){var s=new FI(e,t,n,i,o,r);return s.getViewZones()},t.prototype._getOriginalEditorDecorations=function(e,t,n,i,o){for(var r=String(this._removeColor),s={decorations:[],overviewZones:[]},a=0,l=e.length;a<l;a++){var u=e[a];VI(u)&&(s.decorations.push({range:new bn(u.originalStartLineNumber,1,u.originalEndLineNumber,1073741824),options:RI.lineDeleteMargin}),s.overviewZones.push(new Fk(u.originalStartLineNumber,u.originalEndLineNumber,r)))}return s},t.prototype._getModifiedEditorDecorations=function(e,t,n,i,o){for(var r=String(this._insertColor),s={decorations:[],overviewZones:[]},a=o.getModel(),l=0,u=e.length;l<u;l++){var c=e[l];if(BI(c))if(s.decorations.push({range:new bn(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824),options:n?RI.lineInsertWithSign:RI.lineInsert}),s.overviewZones.push(new Fk(c.modifiedStartLineNumber,c.modifiedEndLineNumber,r)),c.charChanges)for(var h=0,d=c.charChanges.length;h<d;h++){var p=c.charChanges[h];if(BI(p))if(t)for(var f=p.modifiedStartLineNumber;f<=p.modifiedEndLineNumber;f++){var g=void 0,m=void 0;g=f===p.modifiedStartLineNumber?p.modifiedStartColumn:a.getLineFirstNonWhitespaceColumn(f),m=f===p.modifiedEndLineNumber?p.modifiedEndColumn:a.getLineLastNonWhitespaceColumn(f),s.decorations.push(NI(f,g,f,m,RI.charInsert))}else s.decorations.push(NI(p.modifiedStartLineNumber,p.modifiedStartColumn,p.modifiedEndLineNumber,p.modifiedEndColumn,RI.charInsert))}else s.decorations.push(NI(c.modifiedStartLineNumber,1,c.modifiedEndLineNumber,1073741824,RI.charInsertWholeLine))}return s},t.prototype.layout=function(){return Math.max(5,this.decorationsLeft)},t}(II),FI=function(e){function t(t,n,i,o,r,s){var a=e.call(this,t,n,o.getOption(49),i,r.getOption(49))||this;return a.originalModel=o.getModel(),a.modifiedEditorOptions=r.getOptions(),a.modifiedEditorTabSize=r.getModel().getOptions().tabSize,a.renderIndicators=s,a}return SI(t,e),t.prototype._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion=function(){var e=document.createElement("div");return e.className="inline-added-margin-view-zone",e},t.prototype._produceOriginalFromDiff=function(e,t,n){var i=document.createElement("div");return i.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(e.originalStartLineNumber,e.originalEndLineNumber),heightInLines:n,domNode:document.createElement("div"),marginDomNode:i}},t.prototype._produceModifiedFromDiff=function(e,t,n){var i=[];if(e.charChanges)for(var o=0,r=e.charChanges.length;o<r;o++){var s=e.charChanges[o];VI(s)&&i.push(new Ad(new bn(s.originalStartLineNumber,s.originalStartColumn,s.originalEndLineNumber,s.originalEndColumn),"char-delete",0))}for(var a=rd(1e4),l=[],u=this.modifiedEditorOptions.get(107),c=this.modifiedEditorOptions.get(34),h=u.decorationsWidth,d=this.modifiedEditorOptions.get(49),p=c.typicalHalfwidthCharacterWidth,f=0,g=[],m=e.originalStartLineNumber;m<=e.originalEndLineNumber;m++)if(f=Math.max(f,this._renderOriginalLine(m-e.originalStartLineNumber,this.originalModel,this.modifiedEditorOptions,this.modifiedEditorTabSize,m,i,a)),g.push(this.originalModel.getLineContent(m)),this.renderIndicators){var _=m-e.originalStartLineNumber;l=l.concat(['<div class="delete-sign codicon codicon-remove" style="position:absolute;top:'+_*d+"px;width:"+h+"px;height:"+d+'px;right:0;"></div>'])}f+=this.modifiedEditorOptions.get(79);var v=document.createElement("div");v.className="view-lines line-delete",v.innerHTML=a.build(),tm.applyFontInfoSlow(v,c);var y=document.createElement("div");return y.className="inline-deleted-margin-view-zone",y.innerHTML=l.join(""),tm.applyFontInfoSlow(y,c),{shouldNotShrink:!0,afterLineNumber:0===e.modifiedEndLineNumber?e.modifiedStartLineNumber:e.modifiedStartLineNumber-1,heightInLines:t,minWidthInPx:f*p,domNode:v,marginDomNode:y,diff:{originalStartLineNumber:e.originalStartLineNumber,originalEndLineNumber:e.originalEndLineNumber,modifiedStartLineNumber:e.modifiedStartLineNumber,modifiedEndLineNumber:e.modifiedEndLineNumber,originalContent:g}}},t.prototype._renderOriginalLine=function(e,t,n,i,o,r,s){var a=t.getLineTokens(o),l=a.getLineContent(),u=n.get(34),c=hd.filter(r,o,1,l.length+1);s.appendASCIIString('<div class="view-line'),0===r.length&&s.appendASCIIString(" char-delete"),s.appendASCIIString('" style="top:'),s.appendASCIIString(String(e*n.get(49))),s.appendASCIIString('px;width:1000000px;">');var h=Rd.isBasicASCII(l,t.mightContainNonBasicASCII()),d=Rd.containsRTL(l,h,t.mightContainRTL()),p=bd(new _d(u.isMonospace&&!n.get(23),u.canUseHalfwidthRightwardsArrow,l,!1,h,d,0,a,c,i,0,u.spaceWidth,u.middotWidth,n.get(88),n.get(74),n.get(69),n.get(35)!==F.OFF,null),s);s.appendASCIIString("</div>");var f=p.characterMapping.getAbsoluteOffsets();return f.length>0?f[f.length-1]:0},t}(DI);function BI(e){return e.modifiedEndLineNumber>0}function VI(e){return e.originalEndLineNumber>0}function HI(){var e=document.createElement("div");return e.className="diagonal-fill",e}w_((function(e,t){var n=e.getColor(dC);n&&(t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { background-color: "+n+"; }"),t.addRule(".monaco-diff-editor .line-insert, .monaco-diff-editor .char-insert { background-color: "+n+"; }"),t.addRule(".monaco-editor .inline-added-margin-view-zone { background-color: "+n+"; }"));var i=e.getColor(pC);i&&(t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { background-color: "+i+"; }"),t.addRule(".monaco-diff-editor .line-delete, .monaco-diff-editor .char-delete { background-color: "+i+"; }"),t.addRule(".monaco-editor .inline-deleted-margin-view-zone { background-color: "+i+"; }"));var o=e.getColor(fC);o&&t.addRule(".monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+o+"; }");var r=e.getColor(gC);r&&t.addRule(".monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+r+"; }");var s=e.getColor(kw);s&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px "+s+"; }");var a=e.getColor(mC);a&&t.addRule(".monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid "+a+"; }")}));var $I=Dn("themeService"),WI=Dn("keybindingService"),UI=Dn("clipboardService"),zI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jI=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},GI=function(e,t){return function(n,i){t(n,i,e)}},KI=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},qI=0,YI=!1;function XI(){YI||(YI=!0,Hg(document.body))}var ZI=function(e){function t(t,n,i,o,r,s,a,l,u,c){var h=this;return n=n||{},n.ariaLabel=n.ariaLabel||hg.editorViewAccessibleLabel,n.ariaLabel=n.ariaLabel+";"+(Hn?hg.accessibilityHelpMessageIE:hg.accessibilityHelpMessage),h=e.call(this,t,n,{},i,o,r,s,l,u,c)||this,h._standaloneKeybindingService=a instanceof kg?a:null,XI(),h}return zI(t,e),t.prototype.addCommand=function(e,t,n){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;var i="DYNAMIC_"+ ++qI,o=xf.deserialize(n);return this._standaloneKeybindingService.addDynamicKeybinding(i,e,t,o),i},t.prototype.createContextKey=function(e,t){return this._contextKeyService.createKey(e,t)},t.prototype.addAction=function(e){var t=this;if("string"!==typeof e.id||"string"!==typeof e.label||"function"!==typeof e.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ae.None;var n=e.id,i=e.label,o=xf.and(xf.equals("editorId",this.getId()),xf.deserialize(e.precondition)),r=e.keybindings,s=xf.and(o,xf.deserialize(e.keybindingContext)),a=e.contextMenuGroupId||null,l=e.contextMenuOrder||0,u=function(n){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return Promise.resolve(e.run.apply(e,KI([t],i)))},c=new Re,h=this.getId()+":"+n;if(c.add(Ya.registerCommand(h,u)),a){var d={command:{id:h,title:i},when:o,group:a,order:l};c.add(fm.appendMenuItem(7,d))}if(Array.isArray(r))for(var p=0,f=r;p<f.length;p++){var g=f[p];c.add(this._standaloneKeybindingService.addDynamicKeybinding(h,g,u,s))}var m=new Cx(h,i,i,o,u,this._contextKeyService);return this._actions[n]=m,c.add(De((function(){delete t._actions[n]}))),c},t=jI([GI(2,In),GI(3,Rn),GI(4,qa),GI(5,Bf),GI(6,WI),GI(7,p_),GI(8,ig),GI(9,tL)],t),t}(TL),JI=function(e){function t(t,n,i,o,r,s,a,l,u,c,h,d,p){var f=this;Rg(d,n,!1);var g=c.registerEditorContainer(t);n=n||{},"string"===typeof n.theme&&c.setTheme(n.theme);var m,_=n.model;if(delete n.model,f=e.call(this,t,n,o,r,s,a,l,c,h,p)||this,f._contextViewService=u,f._configurationService=d,f._register(i),f._register(g),"undefined"===typeof _?(m=self.monaco.editor.createModel(n.value||"",n.language||"text/plain"),f._ownsModel=!0):(m=_,f._ownsModel=!1),f._attachModel(m),m){var v={oldModelUrl:null,newModelUrl:m.uri};f._onDidChangeModel.fire(v)}return f}return zI(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.updateOptions=function(t){Rg(this._configurationService,t,!1),e.prototype.updateOptions.call(this,t)},t.prototype._attachModel=function(t){e.prototype._attachModel.call(this,t),this._modelData&&this._contextViewService.setContainer(this._modelData.view.domNode.domNode)},t.prototype._postDetachModelCleanup=function(t){e.prototype._postDetachModelCleanup.call(this,t),t&&this._ownsModel&&(t.dispose(),this._ownsModel=!1)},t=jI([GI(3,In),GI(4,Rn),GI(5,qa),GI(6,Bf),GI(7,WI),GI(8,mI),GI(9,$I),GI(10,ig),GI(11,uf),GI(12,tL)],t),t}(ZI),QI=function(e){function t(t,n,i,o,r,s,a,l,u,c,h,d,p,f,g){var m=this;Rg(d,n,!0);var _=c.registerEditorContainer(t);return n=n||{},"string"===typeof n.theme&&(n.theme=c.setTheme(n.theme)),m=e.call(this,t,n,g,l,r,o,u,c,h,p,f)||this,m._contextViewService=a,m._configurationService=d,m._register(i),m._register(_),m._contextViewService.setContainer(m._containerDomElement),m}return zI(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.updateOptions=function(t){Rg(this._configurationService,t,!0),e.prototype.updateOptions.call(this,t)},t.prototype._createInnerEditor=function(e,t,n){return e.createInstance(ZI,t,n)},t.prototype.getOriginalEditor=function(){return e.prototype.getOriginalEditor.call(this)},t.prototype.getModifiedEditor=function(){return e.prototype.getModifiedEditor.call(this)},t.prototype.addCommand=function(e,t,n){return this.getModifiedEditor().addCommand(e,t,n)},t.prototype.createContextKey=function(e,t){return this.getModifiedEditor().createContextKey(e,t)},t.prototype.addAction=function(e){return this.getModifiedEditor().addAction(e)},t=jI([GI(3,In),GI(4,Bf),GI(5,WI),GI(6,mI),GI(7,rc),GI(8,Rn),GI(9,$I),GI(10,ig),GI(11,uf),GI(12,_I),GI(13,CI),GI(14,Nn(UI))],t),t}(LI),eO=Dn("IWorkspaceEditService"),tO=Dn("modeService"),nO=function(){function e(e){this._languageIdentifier=e}return e.prototype.getId=function(){return this._languageIdentifier.language},e}(),iO="text/plain",oO="application/unknown",rO=[],sO=[],aO=[];function lO(e,t){void 0===t&&(t=!1);var n=uO(e);rO.push(n),n.userConfigured?aO.push(n):sO.push(n),t&&!n.userConfigured&&rO.forEach((function(e){e.mime===n.mime||e.userConfigured||(n.extension&&e.extension===n.extension&&console.warn("Overwriting extension <<"+n.extension+">> to now point to mime <<"+n.mime+">>"),n.filename&&e.filename===n.filename&&console.warn("Overwriting filename <<"+n.filename+">> to now point to mime <<"+n.mime+">>"),n.filepattern&&e.filepattern===n.filepattern&&console.warn("Overwriting filepattern <<"+n.filepattern+">> to now point to mime <<"+n.mime+">>"),n.firstline&&e.firstline===n.firstline&&console.warn("Overwriting firstline <<"+n.firstline+">> to now point to mime <<"+n.mime+">>"))}))}function uO(e){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:e.userConfigured,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?e.filepattern.toLowerCase():void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(qs.sep)>=0}}function cO(e,t){var n;if(e)switch(e.scheme){case xi.file:n=e.fsPath;break;case xi.data:var i=ra.parseMetaData(e);n=i.get(ra.META_DATA_LABEL);break;default:n=e.path}if(!n)return[oO];n=n.toLowerCase();var o=Qs(n),r=hO(n,o,aO);if(r)return[r,iO];var s=hO(n,o,sO);if(s)return[s,iO];if(t){var a=dO(t);if(a)return[a,iO]}return[oO]}function hO(e,t,n){for(var i=null,o=null,r=null,s=n.length-1;s>=0;s--){var a=n[s];if(t===a.filenameLowercase){i=a;break}if(a.filepattern&&(!o||a.filepattern.length>o.filepattern.length)){var l=a.filepatternOnPath?e:t;su(a.filepatternLowercase,l)&&(o=a)}a.extension&&(!r||a.extension.length>r.extension.length)&&$r(t,a.extensionLowercase)&&(r=a)}return i?i.mime:o?o.mime:r?r.mime:null}function dO(e){if(bs(e)&&(e=e.substr(1)),e.length>0)for(var t=rO.length-1;t>=0;t--){var n=rO[t];if(n.firstline){var i=e.match(n.firstline);if(i&&i.length>0)return n.mime}}return null}var pO={ModesRegistry:"editor.modesRegistry"},fO=function(){function e(){this._onDidChangeLanguages=new Ze,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[],this._dynamicLanguages=[]}return e.prototype.registerLanguage=function(e){this._languages.push(e),this._onDidChangeLanguages.fire(void 0)},e.prototype.getLanguages=function(){return[].concat(this._languages).concat(this._dynamicLanguages)},e}(),gO=new fO;pp.add(pO.ModesRegistry,gO);var mO="plaintext",_O=new wu(mO,1);gO.registerLanguage({id:mO,extensions:[".txt",".gitignore"],aliases:[r("plainText.alias","Plain Text"),"text"],mimetypes:["text/plain"]}),Uc.register(_O,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],folding:{offSide:!0}});var vO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yO=Object.prototype.hasOwnProperty,bO=function(e){function t(t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=e.call(this)||this;return i._onDidChange=i._register(new Ze),i.onDidChange=i._onDidChange.event,i._warnOnOverwrite=n,i._nextLanguageId2=1,i._languageIdToLanguage=[],i._languageToLanguageId=Object.create(null),i._languages={},i._mimeTypesMap={},i._nameMap={},i._lowercaseNameMap={},t&&(i._initializeFromRegistry(),i._register(gO.onDidChangeLanguages((function(e){return i._initializeFromRegistry()})))),i}return vO(t,e),t.prototype._initializeFromRegistry=function(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={};var e=gO.getLanguages();this._registerLanguages(e)},t.prototype._registerLanguages=function(e){for(var t=this,n=0,i=e;n<i.length;n++){var o=i[n];this._registerLanguage(o)}this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((function(e){var n=t._languages[e];n.name&&(t._nameMap[n.name]=n.identifier),n.aliases.forEach((function(e){t._lowercaseNameMap[e.toLowerCase()]=n.identifier})),n.mimetypes.forEach((function(e){t._mimeTypesMap[e]=n.identifier}))})),pp.as(vp.Configuration).registerOverrideIdentifiers(gO.getLanguages().map((function(e){return e.id}))),this._onDidChange.fire()},t.prototype._getLanguageId=function(e){if(this._languageToLanguageId[e])return this._languageToLanguageId[e];var t=this._nextLanguageId2++;return this._languageIdToLanguage[t]=e,this._languageToLanguageId[e]=t,t},t.prototype._registerLanguage=function(e){var t,n=e.id;if(yO.call(this._languages,n))t=this._languages[n];else{var i=this._getLanguageId(n);t={identifier:new wu(n,i),name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[]},this._languages[n]=t}this._mergeLanguage(t,e)},t.prototype._mergeLanguage=function(e,t){var n,i=t.id,o=null;if(Array.isArray(t.mimetypes)&&t.mimetypes.length>0&&((n=e.mimetypes).push.apply(n,t.mimetypes),o=t.mimetypes[0]),o||(o="text/x-"+i,e.mimetypes.push(o)),Array.isArray(t.extensions))for(var r=0,s=t.extensions;r<s.length;r++){var a=s[r];lO({id:i,mime:o,extension:a},this._warnOnOverwrite),e.extensions.push(a)}if(Array.isArray(t.filenames))for(var l=0,u=t.filenames;l<u.length;l++){var c=u[l];lO({id:i,mime:o,filename:c},this._warnOnOverwrite),e.filenames.push(c)}if(Array.isArray(t.filenamePatterns))for(var h=0,d=t.filenamePatterns;h<d.length;h++){var p=d[h];lO({id:i,mime:o,filepattern:p},this._warnOnOverwrite)}if("string"===typeof t.firstLine&&t.firstLine.length>0){var f=t.firstLine;"^"!==f.charAt(0)&&(f="^"+f);try{var g=new RegExp(f);Ur(g)||lO({id:i,mime:o,firstline:g},this._warnOnOverwrite)}catch(C){ge(C)}}e.aliases.push(i);var m=null;if("undefined"!==typeof t.aliases&&Array.isArray(t.aliases)&&(m=0===t.aliases.length?[null]:t.aliases),null!==m)for(var _=0,v=m;_<v.length;_++){var y=v[_];y&&0!==y.length&&e.aliases.push(y)}var b=null!==m&&m.length>0;if(b&&null===m[0]);else{var w=(b?m[0]:null)||i;!b&&e.name||(e.name=w)}t.configuration&&e.configurationFiles.push(t.configuration)},t.prototype.isRegisteredMode=function(e){return!!yO.call(this._mimeTypesMap,e)||yO.call(this._languages,e)},t.prototype.getModeIdForLanguageNameLowercase=function(e){return yO.call(this._lowercaseNameMap,e)?this._lowercaseNameMap[e].language:null},t.prototype.extractModeIds=function(e){var t=this;return e?e.split(",").map((function(e){return e.trim()})).map((function(e){return yO.call(t._mimeTypesMap,e)?t._mimeTypesMap[e].language:e})).filter((function(e){return yO.call(t._languages,e)})):[]},t.prototype.getLanguageIdentifier=function(e){if(e===ec||0===e)return tc;var t;if("string"===typeof e)t=e;else if(t=this._languageIdToLanguage[e],!t)return null;return yO.call(this._languages,t)?this._languages[t].identifier:null},t.prototype.getModeIdsFromFilepathOrFirstLine=function(e,t){if(!e&&!t)return[];var n=cO(e,t);return this.extractModeIds(n.join(","))},t}(Ae),wO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),CO=function(e){function t(t,n){var i=e.call(this)||this;return i._onDidChange=i._register(new Ze),i.onDidChange=i._onDidChange.event,i._selector=n,i.languageIdentifier=i._selector(),i._register(t((function(){return i._evaluate()}))),i}return wO(t,e),t.prototype._evaluate=function(){var e=this._selector();e.id!==this.languageIdentifier.id&&(this.languageIdentifier=e,this._onDidChange.fire(this.languageIdentifier))},t}(Ae),SO=function(){function e(e){var t=this;void 0===e&&(e=!1),this._onDidCreateMode=new Ze,this.onDidCreateMode=this._onDidCreateMode.event,this._onLanguagesMaybeChanged=new Ze,this.onLanguagesMaybeChanged=this._onLanguagesMaybeChanged.event,this._instantiatedModes={},this._registry=new bO(!0,e),this._registry.onDidChange((function(){return t._onLanguagesMaybeChanged.fire()}))}return e.prototype.isRegisteredMode=function(e){return this._registry.isRegisteredMode(e)},e.prototype.getModeIdForLanguageName=function(e){return this._registry.getModeIdForLanguageNameLowercase(e)},e.prototype.getModeIdByFilepathOrFirstLine=function(e,t){var n=this._registry.getModeIdsFromFilepathOrFirstLine(e,t);return Gi(n,null)},e.prototype.getModeId=function(e){var t=this._registry.extractModeIds(e);return Gi(t,null)},e.prototype.getLanguageIdentifier=function(e){return this._registry.getLanguageIdentifier(e)},e.prototype.create=function(e){var t=this;return new CO(this.onLanguagesMaybeChanged,(function(){var n=t.getModeId(e);return t._createModeAndGetLanguageIdentifier(n)}))},e.prototype.createByFilepathOrFirstLine=function(e,t){var n=this;return new CO(this.onLanguagesMaybeChanged,(function(){var i=n.getModeIdByFilepathOrFirstLine(e,t);return n._createModeAndGetLanguageIdentifier(i)}))},e.prototype._createModeAndGetLanguageIdentifier=function(e){var t=this.getLanguageIdentifier(e||"plaintext")||tc;return this._getOrCreateMode(t.language),t},e.prototype.triggerMode=function(e){var t=this.getModeId(e);this._getOrCreateMode(t||"plaintext")},e.prototype._getOrCreateMode=function(e){if(!this._instantiatedModes.hasOwnProperty(e)){var t=this.getLanguageIdentifier(e)||tc;this._instantiatedModes[e]=new nO(t),this._onDidCreateMode.fire(this._instantiatedModes[e])}return this._instantiatedModes[e]},e}(),EO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),TO=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},kO=function(e,t){return function(n,i){t(n,i,e)}};function xO(e){return e.toString()}var LO=function(){function e(e,t,n){this._modelEventListeners=new Re,this.model=e,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(e.onWillDispose((function(){return t(e)}))),this._modelEventListeners.add(e.onDidChangeLanguage((function(t){return n(e,t)})))}return e.prototype._disposeLanguageSelection=function(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null),this._languageSelection&&(this._languageSelection.dispose(),this._languageSelection=null)},e.prototype.dispose=function(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()},e.prototype.setLanguage=function(e){var t=this;this._disposeLanguageSelection(),this._languageSelection=e,this._languageSelectionListener=this._languageSelection.onDidChange((function(){return t.model.setMode(e.languageIdentifier)})),this.model.setMode(e.languageIdentifier)},e}(),IO=s["d"]||s["e"]?1:2,OO=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._onModelAdded=r._register(new Ze),r.onModelAdded=r._onModelAdded.event,r._onModelRemoved=r._register(new Ze),r.onModelRemoved=r._onModelRemoved.event,r._onModelModeChanged=r._register(new Ze),r.onModelModeChanged=r._onModelModeChanged.event,r._configurationService=t,r._resourcePropertiesService=n,r._models={},r._modelCreationOptionsByLanguageAndResource=Object.create(null),r._configurationServiceSubscription=r._configurationService.onDidChangeConfiguration((function(e){return r._updateModelOptions()})),r._updateModelOptions(),r._register(new DO(r,i,t,o)),r}return EO(t,e),t._readModelOptions=function(e,t){var n=ue.tabSize;if(e.editor&&"undefined"!==typeof e.editor.tabSize){var i=parseInt(e.editor.tabSize,10);isNaN(i)||(n=i),n<1&&(n=1)}var o=n;if(e.editor&&"undefined"!==typeof e.editor.indentSize&&"tabSize"!==e.editor.indentSize){var r=parseInt(e.editor.indentSize,10);isNaN(r)||(o=r),o<1&&(o=1)}var s=ue.insertSpaces;e.editor&&"undefined"!==typeof e.editor.insertSpaces&&(s="false"!==e.editor.insertSpaces&&Boolean(e.editor.insertSpaces));var a=IO,l=e.eol;"\r\n"===l?a=2:"\n"===l&&(a=1);var u=ue.trimAutoWhitespace;e.editor&&"undefined"!==typeof e.editor.trimAutoWhitespace&&(u="false"!==e.editor.trimAutoWhitespace&&Boolean(e.editor.trimAutoWhitespace));var c=ue.detectIndentation;e.editor&&"undefined"!==typeof e.editor.detectIndentation&&(c="false"!==e.editor.detectIndentation&&Boolean(e.editor.detectIndentation));var h=ue.largeFileOptimizations;return e.editor&&"undefined"!==typeof e.editor.largeFileOptimizations&&(h="false"!==e.editor.largeFileOptimizations&&Boolean(e.editor.largeFileOptimizations)),{isForSimpleWidget:t,tabSize:n,indentSize:o,insertSpaces:s,detectIndentation:c,defaultEOL:a,trimAutoWhitespace:u,largeFileOptimizations:h}},t.prototype.getCreationOptions=function(e,n,i){var o=this._modelCreationOptionsByLanguageAndResource[e+n];if(!o){var r=this._configurationService.getValue("editor",{overrideIdentifier:e,resource:n}),s=this._resourcePropertiesService.getEOL(n,e);o=t._readModelOptions({editor:r,eol:s},i),this._modelCreationOptionsByLanguageAndResource[e+n]=o}return o},t.prototype._updateModelOptions=function(){var e=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);for(var n=Object.keys(this._models),i=0,o=n.length;i<o;i++){var r=n[i],s=this._models[r],a=s.model.getLanguageIdentifier().language,l=s.model.uri,u=e[a+l],c=this.getCreationOptions(a,l,s.model.isForSimpleWidget);t._setModelOptionsForModel(s.model,c,u)}},t._setModelOptionsForModel=function(e,t,n){n&&n.defaultEOL!==t.defaultEOL&&1===e.getLineCount()&&e.setEOL(1===t.defaultEOL?0:1),n&&n.detectIndentation===t.detectIndentation&&n.insertSpaces===t.insertSpaces&&n.tabSize===t.tabSize&&n.indentSize===t.indentSize&&n.trimAutoWhitespace===t.trimAutoWhitespace||(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace}))},t.prototype.dispose=function(){this._configurationServiceSubscription.dispose(),e.prototype.dispose.call(this)},t.prototype._createModelData=function(e,t,n,i){var o=this,r=this.getCreationOptions(t.language,n,i),s=new zy(e,r,t,n),a=xO(s.uri);if(this._models[a])throw new Error("ModelService: Cannot add model because it already exists!");var l=new LO(s,(function(e){return o._onWillDispose(e)}),(function(e,t){return o._onDidChangeLanguage(e,t)}));return this._models[a]=l,l},t.prototype.createModel=function(e,t,n,i){var o;return void 0===i&&(i=!1),t?(o=this._createModelData(e,t.languageIdentifier,n,i),this.setMode(o.model,t)):o=this._createModelData(e,_O,n,i),this._onModelAdded.fire(o.model),o.model},t.prototype.setMode=function(e,t){if(t){var n=this._models[xO(e.uri)];n&&n.setLanguage(t)}},t.prototype.getModels=function(){for(var e=[],t=Object.keys(this._models),n=0,i=t.length;n<i;n++){var o=t[n];e.push(this._models[o].model)}return e},t.prototype.getModel=function(e){var t=xO(e),n=this._models[t];return n?n.model:null},t.prototype._onWillDispose=function(e){var t=xO(e.uri),n=this._models[t];delete this._models[t],n.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageIdentifier().language+e.uri],this._onModelRemoved.fire(e)},t.prototype._onDidChangeLanguage=function(e,n){var i=n.oldLanguage,o=e.getLanguageIdentifier().language,r=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),s=this.getCreationOptions(o,e.uri,e.isForSimpleWidget);t._setModelOptionsForModel(e,s,r),this._onModelModeChanged.fire({model:e,oldModeId:i})},t=TO([kO(0,uf),kO(1,Fh),kO(2,p_),kO(3,Bh)],t),t}(Ae),DO=function(e){function t(n,i,o,r){var s=e.call(this)||this;s._configurationService=o,s._watchers=Object.create(null),s._semanticStyling=s._register(new NO(i,r));var a=function(e){var n=o.getValue(t.SETTING_ID,{overrideIdentifier:e.getLanguageIdentifier().language,resource:e.uri});return n&&n.enabled},l=function(e){s._watchers[e.uri.toString()]=new FO(e,i,s._semanticStyling)},u=function(e,t){t.dispose(),delete s._watchers[e.uri.toString()]};return s._register(n.onModelAdded((function(e){a(e)&&l(e)}))),s._register(n.onModelRemoved((function(e){var t=s._watchers[e.uri.toString()];t&&u(e,t)}))),s._configurationService.onDidChangeConfiguration((function(e){if(e.affectsConfiguration(t.SETTING_ID))for(var i=0,o=n.getModels();i<o.length;i++){var r=o[i],c=s._watchers[r.uri.toString()];a(r)?c||l(r):c&&u(r,c)}})),s}return EO(t,e),t.SETTING_ID="editor.semanticHighlighting",t}(Ae),NO=function(e){function t(t,n){var i=e.call(this)||this;return i._themeService=t,i._logService=n,i._caches=new WeakMap,i._themeService&&i._register(i._themeService.onThemeChange((function(){i._caches=new WeakMap}))),i}return EO(t,e),t.prototype.get=function(e){return this._caches.has(e)||this._caches.set(e,new MO(e.getLegend(),this._themeService,this._logService)),this._caches.get(e)},t}(Ae),RO=function(){function e(e,t,n){this.tokenTypeIndex=e,this.tokenModifierSet=t,this.metadata=n,this.next=null}return e}(),AO=function(){function e(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=e._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<e._SIZES.length?2/3*this._currentLength:0),this._elements=[],e._nullOutEntries(this._elements,this._currentLength)}return e._nullOutEntries=function(e,t){for(var n=0;n<t;n++)e[n]=null},e.prototype._hashFunc=function(e,t){return((e<<5)-e+t|0)%this._currentLength},e.prototype.get=function(e,t){var n=this._hashFunc(e,t),i=this._elements[n];while(i){if(i.tokenTypeIndex===e&&i.tokenModifierSet===t)return i;i=i.next}return null},e.prototype.add=function(t,n,i){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){var o=this._elements;this._currentLengthIndex++,this._currentLength=e._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<e._SIZES.length?2/3*this._currentLength:0),this._elements=[],e._nullOutEntries(this._elements,this._currentLength);for(var r=0,s=o;r<s.length;r++){var a=s[r],l=a;while(l){var u=l.next;l.next=null,this._add(l),l=u}}}this._add(new RO(t,n,i))},e.prototype._add=function(e){var t=this._hashFunc(e.tokenTypeIndex,e.tokenModifierSet);e.next=this._elements[t],this._elements[t]=e},e._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],e}(),MO=function(){function e(e,t,n){this._legend=e,this._themeService=t,this._logService=n,this._hashTable=new AO}return e.prototype.getMetadata=function(e,t){var n,i=this._hashTable.get(e,t);if(i)n=i.metadata;else{for(var o=this._legend.tokenTypes[e],r=[],s=t,a=0;s>0&&a<this._legend.tokenModifiers.length;a++)1&s&&r.push(this._legend.tokenModifiers[a]),s>>=1;var l=this._themeService.getTheme().getTokenStyleMetadata(o,r);if("undefined"===typeof l)n=2147483647;else{if(n=0,"undefined"!==typeof l.italic){var u=(l.italic?1:0)<<11;n|=1|u}if("undefined"!==typeof l.bold){var c=(l.bold?2:0)<<11;n|=2|c}if("undefined"!==typeof l.underline){var h=(l.underline?4:0)<<11;n|=4|h}if(l.foreground){var d=l.foreground<<14;n|=8|d}0===n&&(n=2147483647)}this._hashTable.add(e,t,n)}if(this._logService.getLevel()===Mh.Trace){var p=this._legend.tokenTypes[e],f=t?" "+this._legend.tokenModifiers.filter((function(e,n){return t&1<<n})).join(" "):"";this._logService.trace("tokenStyleMetadata "+(i?"[CACHED] ":"")+p+f+": foreground "+Cu.getForeground(n)+", fontStyle "+Cu.getFontStyle(n).toString(2))}return n},e}(),PO=function(){function e(e,t,n){this._provider=e,this.resultId=t,this.data=n}return e.prototype.dispose=function(){this._provider.releaseDocumentSemanticTokens(this.resultId)},e}(),FO=function(e){function t(t,n,i){var o=e.call(this)||this;return o._isDisposed=!1,o._model=t,o._semanticStyling=i,o._fetchSemanticTokens=o._register(new ki((function(){return o._fetchSemanticTokensNow()}),300)),o._currentResponse=null,o._currentRequestCancellationTokenSource=null,o._register(o._model.onDidChangeContent((function(e){o._fetchSemanticTokens.isScheduled()||o._fetchSemanticTokens.schedule()}))),o._register(Yu.onDidChange((function(e){return o._fetchSemanticTokens.schedule()}))),n&&o._register(n.onThemeChange((function(e){o._setSemanticTokens(null,null,null,[]),o._fetchSemanticTokens.schedule()}))),o._fetchSemanticTokens.schedule(0),o}return EO(t,e),t.prototype.dispose=function(){this._currentResponse&&(this._currentResponse.dispose(),this._currentResponse=null),this._currentRequestCancellationTokenSource&&(this._currentRequestCancellationTokenSource.cancel(),this._currentRequestCancellationTokenSource=null),this._setSemanticTokens(null,null,null,[]),this._isDisposed=!0,e.prototype.dispose.call(this)},t.prototype._fetchSemanticTokensNow=function(){var e=this;if(!this._currentRequestCancellationTokenSource){var t=this._getSemanticColoringProvider();if(t){this._currentRequestCancellationTokenSource=new rt;var n=[],i=this._model.onDidChangeContent((function(e){n.push(e)})),o=this._semanticStyling.get(t),r=this._currentResponse&&this._currentResponse.resultId||null,s=Promise.resolve(t.provideDocumentSemanticTokens(this._model,r,this._currentRequestCancellationTokenSource.token));s.then((function(r){e._currentRequestCancellationTokenSource=null,i.dispose(),e._setSemanticTokens(t,r||null,o,n)}),(function(t){t&&"string"===typeof t.message&&-1!==t.message.indexOf("busy")||ge(t),e._currentRequestCancellationTokenSource=null,i.dispose(),n.length>0&&(e._fetchSemanticTokens.isScheduled()||e._fetchSemanticTokens.schedule())}))}}},t._isSemanticTokens=function(e){return e&&!!e.data},t._isSemanticTokensEdits=function(e){return e&&Array.isArray(e.edits)},t._copy=function(e,t,n,i,o){for(var r=0;r<o;r++)n[i+r]=e[t+r]},t.prototype._setSemanticTokens=function(e,n,i,o){var r=this._currentResponse;if(this._currentResponse&&(this._currentResponse.dispose(),this._currentResponse=null),this._isDisposed)e&&n&&e.releaseDocumentSemanticTokens(n.resultId);else if(e&&n&&i){if(t._isSemanticTokensEdits(n)){if(!r)return void this._model.setSemanticTokens(null);if(0===n.edits.length)n={resultId:n.resultId,data:r.data};else{for(var s=0,a=0,l=n.edits;a<l.length;a++){var u=l[a];s+=(u.data?u.data.length:0)-u.deleteCount}for(var c=r.data,h=new Uint32Array(c.length+s),d=c.length,p=h.length,f=n.edits.length-1;f>=0;f--){u=n.edits[f];var g=d-(u.start+u.deleteCount);g>0&&(t._copy(c,d-g,h,p-g,g),p-=g),u.data&&(t._copy(u.data,0,h,p-u.data.length,u.data.length),p-=u.data.length),d=u.start}d>0&&t._copy(c,0,h,0,d),n={resultId:n.resultId,data:h}}}if(t._isSemanticTokens(n)){this._currentResponse=new PO(e,n.resultId,n.data);c=n.data;var m=n.data.length/5|0,_=Math.max(Math.ceil(m/1024),400),v=[],y=0,b=1,w=0;while(y<m){var C=y,S=Math.min(C+_,m);if(S<m){var E=S;while(E-1>C&&0===c[5*E])E--;if(E-1===C){var T=S;while(T+1<m&&0===c[5*T])T++;S=T}else S=E}h=new Uint32Array(4*(S-C));var k=0,x=0;while(y<S){var L=5*y,I=c[L],O=c[L+1],D=b+I,N=0===I?w+O:O,R=c[L+2],A=c[L+3],M=c[L+4],P=i.getMetadata(A,M);2147483647!==P&&(0===x&&(x=D),h[k]=D-x,h[k+1]=N,h[k+2]=N+R,h[k+3]=P,k+=4),b=D,w=N,y++}k!==h.length&&(h=h.subarray(0,k));var F=new wy(x,new yy(h));v.push(F)}if(o.length>0){for(var B=0,V=o;B<V.length;B++)for(var H=V[B],$=0,W=v;$<W.length;$++)for(var U=W[$],z=0,j=H.changes;z<j.length;z++){var G=j[z];U.applyEdit(G.range,G.text)}this._fetchSemanticTokens.isScheduled()||this._fetchSemanticTokens.schedule()}this._model.setSemanticTokens(v)}else this._model.setSemanticTokens(null)}else this._model.setSemanticTokens(null)},t.prototype._getSemanticColoringProvider=function(){var e=Yu.ordered(this._model);return e.length>0?e[0]:null},t}(Ae),BO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VO=function(e){function t(){var t=e.call(this)||this;return t._onCodeEditorAdd=t._register(new Ze),t.onCodeEditorAdd=t._onCodeEditorAdd.event,t._onCodeEditorRemove=t._register(new Ze),t.onCodeEditorRemove=t._onCodeEditorRemove.event,t._onDiffEditorAdd=t._register(new Ze),t._onDiffEditorRemove=t._register(new Ze),t._codeEditors=Object.create(null),t._diffEditors=Object.create(null),t}return BO(t,e),t.prototype.addCodeEditor=function(e){this._codeEditors[e.getId()]=e,this._onCodeEditorAdd.fire(e)},t.prototype.removeCodeEditor=function(e){delete this._codeEditors[e.getId()]&&this._onCodeEditorRemove.fire(e)},t.prototype.listCodeEditors=function(){var e=this;return Object.keys(this._codeEditors).map((function(t){return e._codeEditors[t]}))},t.prototype.addDiffEditor=function(e){this._diffEditors[e.getId()]=e,this._onDiffEditorAdd.fire(e)},t.prototype.removeDiffEditor=function(e){delete this._diffEditors[e.getId()]&&this._onDiffEditorRemove.fire(e)},t.prototype.listDiffEditors=function(){var e=this;return Object.keys(this._diffEditors).map((function(t){return e._diffEditors[t]}))},t.prototype.getFocusedCodeEditor=function(){for(var e=null,t=this.listCodeEditors(),n=0,i=t;n<i.length;n++){var o=i[n];if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(e=o)}return e},t}(Ae),HO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$O=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},WO=function(e,t){return function(n,i){t(n,i,e)}},UO=function(){function e(e,t,n){this._parent=e,this._editorId=t,this.styleSheet=n,this._refCount=0}return e.prototype.ref=function(){this._refCount++},e.prototype.unref=function(){var e;this._refCount--,0===this._refCount&&(null===(e=this.styleSheet.parentNode)||void 0===e||e.removeChild(this.styleSheet),this._parent._removeEditorStyleSheets(this._editorId))},e}(),zO=function(){function e(e){this.styleSheet=e}return e.prototype.ref=function(){},e.prototype.unref=function(){},e}(),jO=function(e){function t(t,n){void 0===n&&(n=null);var i=e.call(this)||this;return i._decorationOptionProviders=new Map,i._editorStyleSheets=new Map,i._globalStyleSheet=n?new zO(n):null,i._themeService=t,i}return HO(t,e),t.prototype._getOrCreateGlobalStyleSheet=function(){return this._globalStyleSheet||(this._globalStyleSheet=new zO(er())),this._globalStyleSheet},t.prototype._getOrCreateStyleSheet=function(e){if(!e)return this._getOrCreateGlobalStyleSheet();var t=e.getContainerDomNode();if(!Jo(t))return this._getOrCreateGlobalStyleSheet();var n=e.getId();if(!this._editorStyleSheets.has(n)){var i=new UO(this,n,er(t));this._editorStyleSheets.set(n,i)}return this._editorStyleSheets.get(n)},t.prototype._removeEditorStyleSheets=function(e){this._editorStyleSheets.delete(e)},t.prototype.registerDecorationType=function(e,t,n,i){var o=this._decorationOptionProviders.get(e);if(!o){var r=this._getOrCreateStyleSheet(i),s={styleSheet:r.styleSheet,key:e,parentTypeKey:n,options:t||Object.create(null)};o=n?new GO(this._themeService,r,s):new KO(this._themeService,r,s),this._decorationOptionProviders.set(e,o)}o.refCount++},t.prototype.removeDecorationType=function(e){var t=this._decorationOptionProviders.get(e);t&&(t.refCount--,t.refCount<=0&&(this._decorationOptionProviders.delete(e),t.dispose(),this.listCodeEditors().forEach((function(t){return t.removeDecorations(e)}))))},t.prototype.resolveDecorationOptions=function(e,t){var n=this._decorationOptionProviders.get(e);if(!n)throw new Error("Unknown decoration type key: "+e);return n.getOptions(this,t)},t=$O([WO(0,p_)],t),t}(VO),GO=function(){function e(e,t,n){this._styleSheet=t,this._styleSheet.ref(),this._parentTypeKey=n.parentTypeKey,this.refCount=0,this._beforeContentRules=new YO(3,n,e),this._afterContentRules=new YO(4,n,e)}return e.prototype.getOptions=function(e,t){var n=e.resolveDecorationOptions(this._parentTypeKey,!0);return this._beforeContentRules&&(n.beforeContentClassName=this._beforeContentRules.className),this._afterContentRules&&(n.afterContentClassName=this._afterContentRules.className),n},e.prototype.dispose=function(){this._beforeContentRules&&(this._beforeContentRules.dispose(),this._beforeContentRules=null),this._afterContentRules&&(this._afterContentRules.dispose(),this._afterContentRules=null),this._styleSheet.unref()},e}(),KO=function(){function e(e,t,n){var i=this;this._disposables=new Re,this._styleSheet=t,this._styleSheet.ref(),this.refCount=0;var o=function(t){var o=new YO(t,n,e);if(i._disposables.add(o),o.hasContent)return o.className},r=function(t){var o=new YO(t,n,e);return i._disposables.add(o),o.hasContent?{className:o.className,hasLetterSpacing:o.hasLetterSpacing}:null};this.className=o(0);var s=r(1);s&&(this.inlineClassName=s.className,this.inlineClassNameAffectsLetterSpacing=s.hasLetterSpacing),this.beforeContentClassName=o(3),this.afterContentClassName=o(4),this.glyphMarginClassName=o(2);var a=n.options;this.isWholeLine=Boolean(a.isWholeLine),this.stickiness=a.rangeBehavior;var l=a.light&&a.light.overviewRulerColor||a.overviewRulerColor,u=a.dark&&a.dark.overviewRulerColor||a.overviewRulerColor;"undefined"===typeof l&&"undefined"===typeof u||(this.overviewRuler={color:l||u,darkColor:u||l,position:a.overviewRulerLane||Il.Center})}return e.prototype.getOptions=function(e,t){return t?{inlineClassName:this.inlineClassName,beforeContentClassName:this.beforeContentClassName,afterContentClassName:this.afterContentClassName,className:this.className,glyphMarginClassName:this.glyphMarginClassName,isWholeLine:this.isWholeLine,overviewRuler:this.overviewRuler,stickiness:this.stickiness}:this},e.prototype.dispose=function(){this._disposables.dispose(),this._styleSheet.unref()},e}(),qO={color:"color:{0} !important;",opacity:"opacity:{0};",backgroundColor:"background-color:{0};",outline:"outline:{0};",outlineColor:"outline-color:{0};",outlineStyle:"outline-style:{0};",outlineWidth:"outline-width:{0};",border:"border:{0};",borderColor:"border-color:{0};",borderRadius:"border-radius:{0};",borderSpacing:"border-spacing:{0};",borderStyle:"border-style:{0};",borderWidth:"border-width:{0};",fontStyle:"font-style:{0};",fontWeight:"font-weight:{0};",textDecoration:"text-decoration:{0};",cursor:"cursor:{0};",letterSpacing:"letter-spacing:{0};",gutterIconPath:"background:{0} center center no-repeat;",gutterIconSize:"background-size:{0};",contentText:"content:'{0}';",contentIconPath:"content:{0};",margin:"margin:{0};",width:"width:{0};",height:"height:{0};"},YO=function(){function e(e,t,n){var i=this;this._theme=n.getTheme(),this._ruleType=e,this._providerArgs=t,this._usesThemeColors=!1,this._hasContent=!1,this._hasLetterSpacing=!1;var o=XO.getClassName(this._providerArgs.key,e);this._providerArgs.parentTypeKey&&(o=o+" "+XO.getClassName(this._providerArgs.parentTypeKey,e)),this._className=o,this._unThemedSelector=XO.getSelector(this._providerArgs.key,this._providerArgs.parentTypeKey,e),this._buildCSS(),this._usesThemeColors?this._themeListener=n.onThemeChange((function(e){i._theme=n.getTheme(),i._removeCSS(),i._buildCSS()})):this._themeListener=null}return e.prototype.dispose=function(){this._hasContent&&(this._removeCSS(),this._hasContent=!1),this._themeListener&&(this._themeListener.dispose(),this._themeListener=null)},Object.defineProperty(e.prototype,"hasContent",{get:function(){return this._hasContent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLetterSpacing",{get:function(){return this._hasLetterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),e.prototype._buildCSS=function(){var e,t,n,i=this._providerArgs.options;switch(this._ruleType){case 0:e=this.getCSSTextForModelDecorationClassName(i),t=this.getCSSTextForModelDecorationClassName(i.light),n=this.getCSSTextForModelDecorationClassName(i.dark);break;case 1:e=this.getCSSTextForModelDecorationInlineClassName(i),t=this.getCSSTextForModelDecorationInlineClassName(i.light),n=this.getCSSTextForModelDecorationInlineClassName(i.dark);break;case 2:e=this.getCSSTextForModelDecorationGlyphMarginClassName(i),t=this.getCSSTextForModelDecorationGlyphMarginClassName(i.light),n=this.getCSSTextForModelDecorationGlyphMarginClassName(i.dark);break;case 3:e=this.getCSSTextForModelDecorationContentClassName(i.before),t=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.before),n=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.before);break;case 4:e=this.getCSSTextForModelDecorationContentClassName(i.after),t=this.getCSSTextForModelDecorationContentClassName(i.light&&i.light.after),n=this.getCSSTextForModelDecorationContentClassName(i.dark&&i.dark.after);break;default:throw new Error("Unknown rule type: "+this._ruleType)}var o=this._providerArgs.styleSheet.sheet,r=!1;e.length>0&&(o.insertRule(this._unThemedSelector+" {"+e+"}",0),r=!0),t.length>0&&(o.insertRule(".vs"+this._unThemedSelector+" {"+t+"}",0),r=!0),n.length>0&&(o.insertRule(".vs-dark"+this._unThemedSelector+", .hc-black"+this._unThemedSelector+" {"+n+"}",0),r=!0),this._hasContent=r},e.prototype._removeCSS=function(){rr(this._unThemedSelector,this._providerArgs.styleSheet)},e.prototype.getCSSTextForModelDecorationClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["backgroundColor"],t),this.collectCSSText(e,["outline","outlineColor","outlineStyle","outlineWidth"],t),this.collectBorderSettingsCSSText(e,t),t.join("")},e.prototype.getCSSTextForModelDecorationInlineClassName=function(e){if(!e)return"";var t=[];return this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","cursor","color","opacity","letterSpacing"],t),e.letterSpacing&&(this._hasLetterSpacing=!0),t.join("")},e.prototype.getCSSTextForModelDecorationContentClassName=function(e){if(!e)return"";var t=[];if("undefined"!==typeof e){if(this.collectBorderSettingsCSSText(e,t),"undefined"!==typeof e.contentIconPath&&t.push(Rr(qO.contentIconPath,xr(Lt.revive(e.contentIconPath)))),"string"===typeof e.contentText){var n=e.contentText.match(/^.*$/m)[0],i=n.replace(/['\\]/g,"\\$&");t.push(Rr(qO.contentText,i))}this.collectCSSText(e,["fontStyle","fontWeight","textDecoration","color","opacity","backgroundColor","margin"],t),this.collectCSSText(e,["width","height"],t)&&t.push("display:inline-block;")}return t.join("")},e.prototype.getCSSTextForModelDecorationGlyphMarginClassName=function(e){if(!e)return"";var t=[];return"undefined"!==typeof e.gutterIconPath&&(t.push(Rr(qO.gutterIconPath,xr(Lt.revive(e.gutterIconPath)))),"undefined"!==typeof e.gutterIconSize&&t.push(Rr(qO.gutterIconSize,e.gutterIconSize))),t.join("")},e.prototype.collectBorderSettingsCSSText=function(e,t){return!!this.collectCSSText(e,["border","borderColor","borderRadius","borderSpacing","borderStyle","borderWidth"],t)&&(t.push(Rr("box-sizing: border-box;")),!0)},e.prototype.collectCSSText=function(e,t,n){for(var i=n.length,o=0,r=t;o<r.length;o++){var s=r[o],a=this.resolveValue(e[s]);"string"===typeof a&&n.push(Rr(qO[s],a))}return n.length!==i},e.prototype.resolveValue=function(e){if(Ll(e)){this._usesThemeColors=!0;var t=this._theme.getColor(e.id);return t?t.toString():"transparent"}return e},e}(),XO=function(){function e(){}return e.getClassName=function(e,t){return"ced-"+e+"-"+t},e.getSelector=function(e,t,n){var i=".monaco-editor ."+this.getClassName(e,n);return t&&(i=i+"."+this.getClassName(t,n)),3===n?i+="::before":4===n&&(i+="::after"),i},e}(),ZO=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JO=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ZO(t,e),t.prototype.getActiveCodeEditor=function(){return null},t.prototype.openCodeEditor=function(e,t,n){return t?Promise.resolve(this.doOpenEditor(t,e)):Promise.resolve(null)},t.prototype.doOpenEditor=function(e,t){var n=this.findModel(e,t.resource);if(!n){if(t.resource){var i=t.resource.scheme;if(i===xi.http||i===xi.https)return Er(t.resource.toString()),e}return null}var o=t.options?t.options.selection:null;if(o)if("number"===typeof o.endLineNumber&&"number"===typeof o.endColumn)e.setSelection(o),e.revealRangeInCenter(o,1);else{var r={lineNumber:o.startLineNumber,column:o.startColumn};e.setPosition(r),e.revealPositionInCenter(r,1)}return e},t.prototype.findModel=function(e,t){var n=e.getModel();return n&&n.uri.toString()!==t.toString()?null:n},t}(jO),QO=function(){function e(e,t,n,i,o){this.token=e,this.index=t,this.fontStyle=n,this.foreground=i,this.background=o}return e}();function eD(e){if(!e||!Array.isArray(e))return[];for(var t=[],n=0,i=0,o=e.length;i<o;i++){var r=e[i],s=-1;if("string"===typeof r.fontStyle){s=0;for(var a=r.fontStyle.split(" "),l=0,u=a.length;l<u;l++){var c=a[l];switch(c){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4;break}}}var h=null;"string"===typeof r.foreground&&(h=r.foreground);var d=null;"string"===typeof r.background&&(d=r.background),t[n++]=new QO(r.token||"",i,s,h,d)}return t}function tD(e,t){e.sort((function(e,t){var n=aD(e.token,t.token);return 0!==n?n:e.index-t.index}));var n=0,i="000000",o="ffffff";while(e.length>=1&&""===e[0].token){var r=e.shift();-1!==r.fontStyle&&(n=r.fontStyle),null!==r.foreground&&(i=r.foreground),null!==r.background&&(o=r.background)}for(var s=new iD,a=0,l=t;a<l.length;a++){var u=l[a];s.getId(u)}for(var c=s.getId(i),h=s.getId(o),d=new hD(n,c,h),p=new dD(d),f=0,g=e.length;f<g;f++){var m=e[f];p.insert(m.token,m.fontStyle,s.getId(m.foreground),s.getId(m.background))}return new oD(s,p)}var nD=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/,iD=function(){function e(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}return e.prototype.getId=function(e){if(null===e)return 0;var t=e.match(nD);if(!t)throw new Error("Illegal value for token color: "+e);e=t[1].toUpperCase();var n=this._color2id.get(e);return n||(n=++this._lastColorId,this._color2id.set(e,n),this._id2color[n]=My.fromHex("#"+e),n)},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}(),oD=function(){function e(e,t){this._colorMap=e,this._root=t,this._cache=new Map}return e.createFromRawTokenTheme=function(e,t){return this.createFromParsedTokenTheme(eD(e),t)},e.createFromParsedTokenTheme=function(e,t){return tD(e,t)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype._match=function(e){return this._root.match(e)},e.prototype.match=function(e,t){var n=this._cache.get(t);if("undefined"===typeof n){var i=this._match(t),o=sD(t);n=(i.metadata|o<<8)>>>0,this._cache.set(t,n)}return(n|e<<0)>>>0},e}(),rD=/\b(comment|string|regex|regexp)\b/;function sD(e){var t=e.match(rD);if(!t)return 0;switch(t[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"regexp":return 4}throw new Error("Unexpected match for standard token type!")}function aD(e,t){return e<t?-1:e>t?1:0}var lD,uD,cD,hD=function(){function e(e,t,n){this._fontStyle=e,this._foreground=t,this._background=n,this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0}return e.prototype.clone=function(){return new e(this._fontStyle,this._foreground,this._background)},e.prototype.acceptOverwrite=function(e,t,n){-1!==e&&(this._fontStyle=e),0!==t&&(this._foreground=t),0!==n&&(this._background=n),this.metadata=(this._fontStyle<<11|this._foreground<<14|this._background<<23)>>>0},e}(),dD=function(){function e(e){this._mainRule=e,this._children=new Map}return e.prototype.match=function(e){if(""===e)return this._mainRule;var t,n,i=e.indexOf(".");-1===i?(t=e,n=""):(t=e.substring(0,i),n=e.substring(i+1));var o=this._children.get(t);return"undefined"!==typeof o?o.match(n):this._mainRule},e.prototype.insert=function(t,n,i,o){if(""!==t){var r,s,a=t.indexOf(".");-1===a?(r=t,s=""):(r=t.substring(0,a),s=t.substring(a+1));var l=this._children.get(r);"undefined"===typeof l&&(l=new e(this._mainRule.clone()),this._children.set(r,l)),l.insert(s,n,i,o)}else this._mainRule.acceptOverwrite(n,i,o)},e}();function pD(e){for(var t=[],n=1,i=e.length;n<i;n++){var o=e[n];t[n]=".mtk"+n+" { color: "+o+"; }"}return t.push(".mtki { font-style: italic; }"),t.push(".mtkb { font-weight: bold; }"),t.push(".mtku { text-decoration: underline; text-underline-position: under; }"),t.join("\n")}var fD={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(lD={},lD[Vw]="#FFFFFE",lD[Hw]="#000000",lD[Kw]="#E5EBF1",lD[mS]="#D3D3D3",lD[_S]="#939393",lD[qw]="#ADD6FF4D",lD)},gD={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(uD={},uD[Vw]="#1E1E1E",uD[Hw]="#D4D4D4",uD[Kw]="#3A3D41",uD[mS]="#404040",uD[_S]="#707070",uD[qw]="#ADD6FF26",uD)},mD={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:(cD={},cD[Vw]="#000000",cD[Hw]="#FFFFFF",cD[mS]="#FFFFFF",cD[_S]="#FFFFFF",cD)},_D=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vD="vs",yD="vs-dark",bD="hc-black",wD=pp.as(qb.ColorContribution),CD=pp.as(v_.ThemingContribution),SD=function(){function e(e,t){this.themeData=t;var n=t.base;e.length>0?(this.id=n+" "+e,this.themeName=e):(this.id=n,this.themeName=n),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}return Object.defineProperty(e.prototype,"base",{get:function(){return this.themeData.base},enumerable:!0,configurable:!0}),e.prototype.notifyBaseUpdated=function(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)},e.prototype.getColors=function(){if(!this.colors){var e=new Map;for(var t in this.themeData.colors)e.set(t,My.fromHex(this.themeData.colors[t]));if(this.themeData.inherit){var n=TD(this.themeData.base);for(var t in n.colors)e.has(t)||e.set(t,My.fromHex(n.colors[t]))}this.colors=e}return this.colors},e.prototype.getColor=function(e,t){var n=this.getColors().get(e);return n||(!1!==t?this.getDefault(e):void 0)},e.prototype.getDefault=function(e){var t=this.defaultColors[e];return t||(t=wD.resolveDefaultColor(e,this),this.defaultColors[e]=t,t)},e.prototype.defines=function(e){return Object.prototype.hasOwnProperty.call(this.getColors(),e)},Object.defineProperty(e.prototype,"type",{get:function(){switch(this.base){case vD:return"light";case bD:return"hc";default:return"dark"}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tokenTheme",{get:function(){if(!this._tokenTheme){var e=[],t=[];if(this.themeData.inherit){var n=TD(this.themeData.base);e=n.rules,n.encodedTokensColors&&(t=n.encodedTokensColors)}e=e.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(t=this.themeData.encodedTokensColors),this._tokenTheme=oD.createFromRawTokenTheme(e,t)}return this._tokenTheme},enumerable:!0,configurable:!0}),e.prototype.getTokenStyleMetadata=function(e,t){},e}();function ED(e){return e===vD||e===yD||e===bD}function TD(e){switch(e){case vD:return fD;case yD:return gD;case bD:return mD}}function kD(e){var t=TD(e);return new SD(e,t)}var xD=function(e){function t(){var t=e.call(this)||this;return t._onThemeChange=t._register(new Ze),t.onThemeChange=t._onThemeChange.event,t._environment=Object.create(null),t._knownThemes=new Map,t._knownThemes.set(vD,kD(vD)),t._knownThemes.set(yD,kD(yD)),t._knownThemes.set(bD,kD(bD)),t._css="",t._globalStyleElement=null,t._styleElements=[],t.setTheme(vD),t}return _D(t,e),t.prototype.registerEditorContainer=function(e){return Jo(e)?this._registerShadowDomContainer(e):this._registerRegularEditorContainer()},t.prototype._registerRegularEditorContainer=function(){return this._globalStyleElement||(this._globalStyleElement=er(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.innerHTML=this._css,this._styleElements.push(this._globalStyleElement)),Ae.None},t.prototype._registerShadowDomContainer=function(e){var t=this,n=er(e);return n.className="monaco-colors",n.innerHTML=this._css,this._styleElements.push(n),{dispose:function(){for(var e=0;e<t._styleElements.length;e++)if(t._styleElements[e]===n)return void t._styleElements.splice(e,1)}}},t.prototype.defineTheme=function(e,t){if(!/^[a-z0-9\-]+$/i.test(e))throw new Error("Illegal theme name!");if(!ED(t.base)&&!ED(e))throw new Error("Illegal theme base!");this._knownThemes.set(e,new SD(e,t)),ED(e)&&this._knownThemes.forEach((function(t){t.base===e&&t.notifyBaseUpdated()})),this._theme&&this._theme.themeName===e&&this.setTheme(e)},t.prototype.getTheme=function(){return this._theme},t.prototype.setTheme=function(e){var t,n=this;if(t=this._knownThemes.has(e)?this._knownThemes.get(e):this._knownThemes.get(vD),this._theme===t)return t.id;this._theme=t;var i=[],o={},r={addRule:function(e){o[e]||(i.push(e),o[e]=!0)}};CD.getThemingParticipants().forEach((function(e){return e(t,r,n._environment)}));var s=t.tokenTheme,a=s.getColorMap();return r.addRule(pD(a)),this._css=i.join("\n"),this._styleElements.forEach((function(e){return e.innerHTML=n._css})),Zu.setColorMap(a),this._onThemeChange.fire(t),t.id},t.prototype.getIconTheme=function(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}},t}(Ae),LD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ID=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},OD=function(e,t){return function(n,i){t(n,i,e)}},DD="data-keybinding-context",ND=function(){function e(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value["_contextId"]=e}return e.prototype.setValue=function(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)},e.prototype.removeValue=function(e){return e in this._value&&(delete this._value[e],!0)},e.prototype.getValue=function(e){var t=this._value[e];return"undefined"===typeof t&&this._parent?this._parent.getValue(e):t},e}(),RD=function(e){function t(){return e.call(this,-1,null)||this}return LD(t,e),t.prototype.setValue=function(e,t){return!1},t.prototype.removeValue=function(e){return!1},t.prototype.getValue=function(e){},t.INSTANCE=new t,t}(ND),AD=function(e){function t(t,n,i){var o=e.call(this,t,null)||this;return o._configurationService=n,o._values=new Map,o._listener=o._configurationService.onDidChangeConfiguration((function(e){if(6===e.source){var t=Ba(o._values);o._values.clear(),i.fire(new FD(t))}else{for(var n=[],r=0,s=e.affectedKeys;r<s.length;r++){var a=s[r],l="config."+a;o._values.has(l)&&(o._values.delete(l),n.push(l))}i.fire(new FD(n))}})),o}return LD(t,e),t.prototype.dispose=function(){this._listener.dispose()},t.prototype.getValue=function(n){if(0!==n.indexOf(t._keyPrefix))return e.prototype.getValue.call(this,n);if(this._values.has(n))return this._values.get(n);var i=n.substr(t._keyPrefix.length),o=this._configurationService.getValue(i),r=void 0;switch(typeof o){case"number":case"boolean":case"string":r=o;break}return this._values.set(n,r),r},t.prototype.setValue=function(t,n){return e.prototype.setValue.call(this,t,n)},t.prototype.removeValue=function(t){return e.prototype.removeValue.call(this,t)},t._keyPrefix="config.",t}(ND),MD=function(){function e(e,t,n){this._service=e,this._key=t,this._defaultValue=n,this.reset()}return e.prototype.set=function(e){this._service.setContext(this._key,e)},e.prototype.reset=function(){"undefined"===typeof this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)},e.prototype.get=function(){return this._service.getContextKeyValue(this._key)},e}(),PD=function(){function e(e){this.key=e}return e.prototype.affectsSome=function(e){return e.has(this.key)},e}(),FD=function(){function e(e){this.keys=e}return e.prototype.affectsSome=function(e){for(var t=0,n=this.keys;t<n.length;t++){var i=n[t];if(e.has(i))return!0}return!1},e}(),BD=function(){function e(e){this.events=e}return e.prototype.affectsSome=function(e){for(var t=0,n=this.events;t<n.length;t++){var i=n[t];if(i.affectsSome(e))return!0}return!1},e}(),VD=function(){function e(e){this._onDidChangeContext=new Je({merge:function(e){return new BD(e)}}),this._isDisposed=!1,this._myContextId=e}return e.prototype.createKey=function(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new MD(this,e,t)},Object.defineProperty(e.prototype,"onDidChangeContext",{get:function(){return this._onDidChangeContext.event},enumerable:!0,configurable:!0}),e.prototype.bufferChangeEvents=function(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}},e.prototype.createScoped=function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new $D(this,e)},e.prototype.contextMatchesRules=function(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");var t=this.getContextValuesContainer(this._myContextId),n=Hf.contextMatchesRules(t,e);return n},e.prototype.getContextKeyValue=function(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)},e.prototype.setContext=function(e,t){if(!this._isDisposed){var n=this.getContextValuesContainer(this._myContextId);n&&n.setValue(e,t)&&this._onDidChangeContext.fire(new PD(e))}},e.prototype.removeContext=function(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new PD(e))},e.prototype.getContext=function(e){return this._isDisposed?RD.INSTANCE:this.getContextValuesContainer(WD(e))},e}(),HD=function(e){function t(t){var n=e.call(this,0)||this;n._contexts=new Map,n._toDispose=new Re,n._lastContextId=0;var i=new AD(n._myContextId,t,n._onDidChangeContext);return n._contexts.set(n._myContextId,i),n._toDispose.add(i),n}return LD(t,e),t.prototype.dispose=function(){this._isDisposed=!0,this._toDispose.dispose()},t.prototype.getContextValuesContainer=function(e){return this._isDisposed?RD.INSTANCE:this._contexts.get(e)||RD.INSTANCE},t.prototype.createChildContext=function(e){if(void 0===e&&(e=this._myContextId),this._isDisposed)throw new Error("ContextKeyService has been disposed");var t=++this._lastContextId;return this._contexts.set(t,new ND(t,this.getContextValuesContainer(e))),t},t.prototype.disposeContext=function(e){this._isDisposed||this._contexts.delete(e)},t=ID([OD(0,uf)],t),t}(VD),$D=function(e){function t(t,n){var i=e.call(this,t.createChildContext())||this;return i._parent=t,n&&(i._domNode=n,i._domNode.setAttribute(DD,String(i._myContextId))),i}return LD(t,e),t.prototype.dispose=function(){this._isDisposed=!0,this._parent.disposeContext(this._myContextId),this._domNode&&(this._domNode.removeAttribute(DD),this._domNode=void 0)},Object.defineProperty(t.prototype,"onDidChangeContext",{get:function(){return $e.any(this._parent.onDidChangeContext,this._onDidChangeContext.event)},enumerable:!0,configurable:!0}),t.prototype.getContextValuesContainer=function(e){return this._isDisposed?RD.INSTANCE:this._parent.getContextValuesContainer(e)},t.prototype.createChildContext=function(e){if(void 0===e&&(e=this._myContextId),this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)},t.prototype.disposeContext=function(e){this._isDisposed||this._parent.disposeContext(e)},t}(VD);function WD(e){while(e){if(e.hasAttribute(DD)){var t=e.getAttribute(DD);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}Ya.registerCommand(Vf,(function(e,t,n){e.get(Bf).createKey(String(t),n)}));n("7a2c"),n("0876");var UD,zD=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jD=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},GD=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,KD=/(&amp;)?(&amp;)([^\s&])/g;(function(e){e[e["Right"]=0]="Right",e[e["Left"]=1]="Left"})(UD||(UD={}));var qD=function(e){function t(t,n,i){var o=e.call(this,i||"submenu",t,"",!0)||this;return o.entries=n,o}return zD(t,e),t}(rm),YD=function(e){function t(t,n,i){void 0===i&&(i={});var o=this;fo(t,"monaco-menu-container"),t.setAttribute("role","presentation");var r=document.createElement("div");fo(r,"monaco-menu"),r.setAttribute("role","presentation"),o=e.call(this,r,{orientation:2,actionViewItemProvider:function(e){return o.doGetActionViewItem(e,i,a)},context:i.context,actionRunner:i.actionRunner,ariaLabel:i.ariaLabel,triggerKeys:{keys:jD([3],s["e"]?[10]:[]),keyDown:!0}})||this,o.menuElement=r,o.actionsList.setAttribute("role","menu"),o.actionsList.tabIndex=0,o.menuDisposables=o._register(new Re),bo(r,ar.KEY_DOWN,(function(e){var t=new si(e);t.equals(2)&&e.preventDefault()})),i.enableMnemonics&&o.menuDisposables.add(bo(r,ar.KEY_DOWN,(function(e){var t=e.key.toLocaleLowerCase();if(o.mnemonics.has(t)){lr.stop(e,!0);var n=o.mnemonics.get(t);if(1===n.length&&(n[0]instanceof ZD&&n[0].container&&o.focusItemByElement(n[0].container),n[0].onClick(e)),n.length>1){var i=n.shift();i&&i.container&&(o.focusItemByElement(i.container),n.push(i)),o.mnemonics.set(t,n)}}}))),s["d"]&&o._register(bo(r,ar.KEY_DOWN,(function(e){var t=new si(e);t.equals(14)||t.equals(11)?(o.focusedItem=o.viewItems.length-1,o.focusNext(),lr.stop(e,!0)):(t.equals(13)||t.equals(12))&&(o.focusedItem=0,o.focusPrevious(),lr.stop(e,!0))}))),o._register(bo(o.domNode,ar.MOUSE_OUT,(function(e){var t=e.relatedTarget;Yo(t,o.domNode)||(o.focusedItem=void 0,o.updateFocus(),e.stopPropagation())}))),o._register(bo(o.actionsList,ar.MOUSE_OVER,(function(e){var t=e.target;if(t&&Yo(t,o.actionsList)&&t!==o.actionsList){while(t.parentElement!==o.actionsList&&null!==t.parentElement)t=t.parentElement;if(po(t,"action-item")){var n=o.focusedItem;o.setFocusedItem(t),n!==o.focusedItem&&o.updateFocus()}}})));var a={parent:o};o.mnemonics=new Map,o.scrollableElement=o._register(new KT(r,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));var l=o.scrollableElement.getDomNode();return l.style.position="",o._register(bo(l,ar.MOUSE_UP,(function(e){e.preventDefault()}))),r.style.maxHeight=Math.max(10,window.innerHeight-t.getBoundingClientRect().top-30)+"px",o.push(n,{icon:!0,label:!0,isMenu:!0}),t.appendChild(o.scrollableElement.getDomNode()),o.scrollableElement.scanDomNode(),o.viewItems.filter((function(e){return!(e instanceof JD)})).forEach((function(e,t,n){e.updatePositionInSet(t+1,n.length)})),o}return zD(t,e),t.prototype.style=function(e){var t=this.getContainer(),n=e.foregroundColor?""+e.foregroundColor:"",i=e.backgroundColor?""+e.backgroundColor:"",o=e.borderColor?"1px solid "+e.borderColor:"",r=e.shadowColor?"0 2px 4px "+e.shadowColor:"";t.style.border=o,this.domNode.style.color=n,this.domNode.style.backgroundColor=i,t.style.boxShadow=r,this.viewItems&&this.viewItems.forEach((function(t){(t instanceof XD||t instanceof JD)&&t.style(e)}))},t.prototype.getContainer=function(){return this.scrollableElement.getDomNode()},Object.defineProperty(t.prototype,"onScroll",{get:function(){return this.scrollableElement.onScroll},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollOffset",{get:function(){return this.menuElement.scrollTop},enumerable:!0,configurable:!0}),t.prototype.focusItemByElement=function(e){var t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()},t.prototype.setFocusedItem=function(e){for(var t=0;t<this.actionsList.children.length;t++){var n=this.actionsList.children[t];if(e===n){this.focusedItem=t;break}}},t.prototype.updateFocus=function(t){e.prototype.updateFocus.call(this,t,!0),"undefined"!==typeof this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})},t.prototype.doGetActionViewItem=function(e,t,n){if(e instanceof oI)return new JD(t.context,e,{icon:!0});if(e instanceof qD){var i=new ZD(e,e.entries,n,t);if(t.enableMnemonics){var o=i.getMnemonic();if(o&&i.isEnabled()){var r=[];this.mnemonics.has(o)&&(r=this.mnemonics.get(o)),r.push(i),this.mnemonics.set(o,r)}}return i}var s={enableMnemonics:t.enableMnemonics};if(t.getKeyBinding){var a=t.getKeyBinding(e);if(a){var l=a.getLabel();l&&(s.keybinding=l)}}i=new XD(t.context,e,s);if(t.enableMnemonics){o=i.getMnemonic();if(o&&i.isEnabled()){r=[];this.mnemonics.has(o)&&(r=this.mnemonics.get(o)),r.push(i),this.mnemonics.set(o,r)}}return i},t}(aI),XD=function(e){function t(t,n,i){void 0===i&&(i={});var o=this;if(i.isMenu=!0,o=e.call(this,n,n,i)||this,o.options=i,o.options.icon=void 0!==i.icon&&i.icon,o.options.label=void 0===i.label||i.label,o.cssClass="",o.options.label&&i.enableMnemonics){var r=o.getAction().label;if(r){var s=GD.exec(r);s&&(o.mnemonic=(s[1]?s[1]:s[3]).toLocaleLowerCase())}}return o.runOnceToEnableMouseUp=new ki((function(){o.element&&o._register(bo(o.element,ar.MOUSE_UP,(function(e){e.defaultPrevented||(lr.stop(e,!0),o.onClick(e))})))}),100),o._register(o.runOnceToEnableMouseUp),o}return zD(t,e),t.prototype.render=function(t){e.prototype.render.call(this,t),this.element&&(this.container=t,this.item=pr(this.element,_r("a.action-menu-item")),this._action.id===oI.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",""+this.mnemonic)),this.check=pr(this.item,_r("span.menu-item-check.codicon.codicon-check")),this.check.setAttribute("role","none"),this.label=pr(this.item,_r("span.action-label")),this.options.label&&this.options.keybinding&&(pr(this.item,_r("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())},t.prototype.blur=function(){e.prototype.blur.call(this),this.applyStyle()},t.prototype.focus=function(){e.prototype.focus.call(this),this.item&&this.item.focus(),this.applyStyle()},t.prototype.updatePositionInSet=function(e,t){this.item&&(this.item.setAttribute("aria-posinset",""+e),this.item.setAttribute("aria-setsize",""+t))},t.prototype.updateLabel=function(){if(this.options.label){var e=this.getAction().label;if(e){var t=QD(e);this.options.enableMnemonics||(e=t),this.label&&this.label.setAttribute("aria-label",t.replace(/&&/g,"&"));var n=GD.exec(e);if(n){e=Ar(e),KD.lastIndex=0;var i=KD.exec(e);while(i&&i[1])i=KD.exec(e);i&&(e=e.substr(0,i.index)+'<u aria-hidden="true">'+i[3]+"</u>"+e.substr(i.index+i[0].length)),e=e.replace(/&amp;&amp;/g,"&amp;"),this.item&&this.item.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else e=e.replace(/&&/g,"&")}this.label&&(this.label.innerHTML=e.trim())}},t.prototype.updateTooltip=function(){var e=null;this.getAction().tooltip?e=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(e=this.getAction().label,this.options.keybinding&&(e=r({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e&&this.item&&(this.item.title=e)},t.prototype.updateClass=function(){this.cssClass&&this.item&&_o(this.item,this.cssClass),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",fo(this.label,"icon"),this.cssClass&&go(this.label,this.cssClass),this.updateEnabled()):this.label&&mo(this.label,"icon")},t.prototype.updateEnabled=function(){this.getAction().enabled?(this.element&&mo(this.element,"disabled"),this.item&&(mo(this.item,"disabled"),this.item.tabIndex=0)):(this.element&&fo(this.element,"disabled"),this.item&&(fo(this.item,"disabled"),wr(this.item)))},t.prototype.updateChecked=function(){this.item&&(this.getAction().checked?(fo(this.item,"checked"),this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked","true")):(mo(this.item,"checked"),this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked","false")))},t.prototype.getMnemonic=function(){return this.mnemonic},t.prototype.applyStyle=function(){if(this.menuStyle){var e=this.element&&po(this.element,"focused"),t=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,i=e&&this.menuStyle.selectionBorderColor?"thin solid "+this.menuStyle.selectionBorderColor:"";this.item&&(this.item.style.color=t?t.toString():"",this.item.style.backgroundColor=n?n.toString():""),this.check&&(this.check.style.color=t?t.toString():""),this.container&&(this.container.style.border=i)}},t.prototype.style=function(e){this.menuStyle=e,this.applyStyle()},t}(iI),ZD=function(e){function t(t,n,i,o){var r=e.call(this,t,t,o)||this;return r.submenuActions=n,r.parentData=i,r.submenuOptions=o,r.mysubmenu=null,r.submenuDisposables=r._register(new Re),r.mouseOver=!1,r.expandDirection=o&&void 0!==o.expandDirection?o.expandDirection:UD.Right,r.showScheduler=new ki((function(){r.mouseOver&&(r.cleanupExistingSubmenu(!1),r.createSubmenu(!1))}),250),r.hideScheduler=new ki((function(){r.element&&!Yo(document.activeElement,r.element)&&r.parentData.submenu===r.mysubmenu&&(r.parentData.parent.focus(!1),r.cleanupExistingSubmenu(!0))}),750),r}return zD(t,e),t.prototype.render=function(t){var n=this;e.prototype.render.call(this,t),this.element&&(this.item&&(fo(this.item,"monaco-submenu-item"),this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=pr(this.item,_r("span.submenu-indicator.codicon.codicon-chevron-right")),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(bo(this.element,ar.KEY_UP,(function(e){var t=new si(e);(t.equals(17)||t.equals(3))&&(lr.stop(e,!0),n.createSubmenu(!0))}))),this._register(bo(this.element,ar.KEY_DOWN,(function(e){var t=new si(e);document.activeElement===n.item&&(t.equals(17)||t.equals(3))&&lr.stop(e,!0)}))),this._register(bo(this.element,ar.MOUSE_OVER,(function(e){n.mouseOver||(n.mouseOver=!0,n.showScheduler.schedule())}))),this._register(bo(this.element,ar.MOUSE_LEAVE,(function(e){n.mouseOver=!1}))),this._register(bo(this.element,ar.FOCUS_OUT,(function(e){n.element&&!Yo(document.activeElement,n.element)&&n.hideScheduler.schedule()}))),this._register(this.parentData.parent.onScroll((function(){n.parentData.parent.focus(!1),n.cleanupExistingSubmenu(!1)}))))},t.prototype.onClick=function(e){lr.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)},t.prototype.cleanupExistingSubmenu=function(e){this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)&&(this.parentData.submenu.dispose(),this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0))},t.prototype.createSubmenu=function(e){var t=this;if(void 0===e&&(e=!0),this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=pr(this.element,_r("div.monaco-submenu")),go(this.submenuContainer,"menubar-menu-items-holder","context-view");var n=getComputedStyle(this.parentData.parent.domNode),i=parseFloat(n.paddingTop||"0")||0;this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-i+"px",this.parentData.submenu=new YD(this.submenuContainer,this.submenuActions,this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);var o=this.element.getBoundingClientRect(),r=this.submenuContainer.getBoundingClientRect();this.expandDirection===UD.Right?window.innerWidth<=o.right+r.width?(this.submenuContainer.style.left="10px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset+o.height+"px"):(this.submenuContainer.style.left=this.element.offsetWidth+"px",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-i+"px"):this.expandDirection===UD.Left&&(this.submenuContainer.style.right=this.element.offsetWidth+"px",this.submenuContainer.style.left="auto",this.submenuContainer.style.top=this.element.offsetTop-this.parentData.parent.scrollOffset-i+"px"),this.submenuDisposables.add(bo(this.submenuContainer,ar.KEY_UP,(function(e){var n=new si(e);n.equals(15)&&(lr.stop(e,!0),t.parentData.parent.focus(),t.cleanupExistingSubmenu(!0))}))),this.submenuDisposables.add(bo(this.submenuContainer,ar.KEY_DOWN,(function(e){var t=new si(e);t.equals(15)&&lr.stop(e,!0)}))),this.submenuDisposables.add(this.parentData.submenu.onDidCancel((function(){t.parentData.parent.focus(),t.cleanupExistingSubmenu(!0)}))),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}},t.prototype.updateAriaExpanded=function(e){var t;this.item&&(null===(t=this.item)||void 0===t||t.setAttribute("aria-expanded",e))},t.prototype.applyStyle=function(){if(e.prototype.applyStyle.call(this),this.menuStyle){var t=this.element&&po(this.element,"focused"),n=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=n?""+n:""),this.parentData.submenu&&this.parentData.submenu.style(this.menuStyle)}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)},t}(XD),JD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zD(t,e),t.prototype.style=function(e){this.label&&(this.label.style.borderBottomColor=e.separatorColor?""+e.separatorColor:"")},t}(rI);function QD(e){var t=GD,n=t.exec(e);if(!n)return e;var i=!n[1];return e.replace(t,i?"$2$3":"").trim()}var eN=function(){return eN=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},eN.apply(this,arguments)};function tN(e,t){var n=Object.create(null);for(var i in t){var o=t[i];o&&(n[i]=iS(o,e))}return n}function nN(e,t,n){function i(i){var o=tN(e.getTheme(),t);"function"===typeof n?n(o):n.style(o)}return i(e.getTheme()),e.onThemeChange(i)}function iN(e,t,n){return nN(t,{badgeBackground:n&&n.badgeBackground||Ew,badgeForeground:n&&n.badgeForeground||Tw,badgeBorder:tw},e)}function oN(e,t,n){return nN(t,{foreground:n&&n.foreground||Jb,background:n&&n.background||Vw,borderColor:n&&n.borderColor||tw,widgetShadow:n&&n.widgetShadow||rw,progressBarBackground:n&&n.progressBarBackground||Ow,pickerGroupForeground:n&&n.pickerGroupForeground||Cw,pickerGroupBorder:n&&n.pickerGroupBorder||Sw,inputBackground:n&&n.inputBackground||sw,inputForeground:n&&n.inputForeground||aw,inputBorder:n&&n.inputBorder||lw,inputValidationInfoBorder:n&&n.inputValidationInfoBorder||pw,inputValidationInfoBackground:n&&n.inputValidationInfoBackground||hw,inputValidationInfoForeground:n&&n.inputValidationInfoForeground||dw,inputValidationWarningBorder:n&&n.inputValidationWarningBorder||mw,inputValidationWarningBackground:n&&n.inputValidationWarningBackground||fw,inputValidationWarningForeground:n&&n.inputValidationWarningForeground||gw,inputValidationErrorBorder:n&&n.inputValidationErrorBorder||yw,inputValidationErrorBackground:n&&n.inputValidationErrorBackground||_w,inputValidationErrorForeground:n&&n.inputValidationErrorForeground||vw,listFocusBackground:n&&n.listFocusBackground||_C,listFocusForeground:n&&n.listFocusForeground||vC,listActiveSelectionBackground:n&&n.listActiveSelectionBackground||JC(yC,.1),listActiveSelectionForeground:n&&n.listActiveSelectionForeground||bC,listFocusAndSelectionBackground:n&&n.listFocusAndSelectionBackground||yC,listFocusAndSelectionForeground:n&&n.listFocusAndSelectionForeground||bC,listInactiveSelectionBackground:n&&n.listInactiveSelectionBackground||wC,listInactiveSelectionForeground:n&&n.listInactiveSelectionForeground||CC,listInactiveFocusBackground:n&&n.listInactiveFocusBackground||SC,listHoverBackground:n&&n.listHoverBackground||EC,listHoverForeground:n&&n.listHoverForeground||TC,listDropBackground:n&&n.listDropBackground||kC,listFocusOutline:n&&n.listFocusOutline||nw,listSelectionOutline:n&&n.listSelectionOutline||nw,listHoverOutline:n&&n.listHoverOutline||nw},e)}function rN(e,t,n){return nN(t,eN(eN({},sN),n||{}),e)}var sN={listFocusBackground:_C,listFocusForeground:vC,listActiveSelectionBackground:JC(yC,.1),listActiveSelectionForeground:bC,listFocusAndSelectionBackground:yC,listFocusAndSelectionForeground:bC,listInactiveSelectionBackground:wC,listInactiveSelectionForeground:CC,listInactiveFocusBackground:SC,listHoverBackground:EC,listHoverForeground:TC,listDropBackground:kC,listFocusOutline:nw,listSelectionOutline:nw,listHoverOutline:nw,listFilterWidgetBackground:LC,listFilterWidgetOutline:IC,listFilterWidgetNoMatchesOutline:OC,listMatchesShadow:rw,treeIndentGuidesStroke:DC},aN={shadowColor:rw,borderColor:NC,foregroundColor:RC,backgroundColor:AC,selectionForegroundColor:MC,selectionBackgroundColor:PC,selectionBorderColor:FC,separatorColor:BC};function lN(e,t,n){return nN(t,eN(eN({},aN),n),e)}var uN,cN=function(){function e(e,t,n,i,o){this.contextViewService=e,this.telemetryService=t,this.notificationService=n,this.keybindingService=i,this.themeService=o,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}return e.prototype.configure=function(e){this.options=e},e.prototype.showContextMenu=function(e){var t,n=this,i=e.getActions();i.length&&(this.focusToReturn=document.activeElement,this.contextViewService.showContextView({getAnchor:function(){return e.getAnchor()},canRelayout:!1,anchorAlignment:e.anchorAlignment,render:function(o){var r=e.getMenuClassName?e.getMenuClassName():"";r&&(o.className+=" "+r),n.options.blockMouse&&(n.block=o.appendChild(_r(".context-view-block")));var s=new Re,a=e.actionRunner||new sm;return a.onDidBeforeRun(n.onActionRun,n,s),a.onDidRun(n.onDidActionRun,n,s),t=new YD(o,i,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:a,getKeyBinding:e.getKeyBinding?e.getKeyBinding:function(e){return n.keybindingService.lookupKeybinding(e.id)}}),s.add(lN(t,n.themeService)),t.onDidCancel((function(){return n.contextViewService.hideContextView(!0)}),null,s),t.onDidBlur((function(){return n.contextViewService.hideContextView(!0)}),null,s),Zn(window,ar.BLUR)((function(){n.contextViewService.hideContextView(!0)}),null,s),Zn(window,ar.MOUSE_DOWN)((function(e){if(!e.defaultPrevented){var t=new pi(e),i=t.target;if(!t.rightButton){while(i){if(i===o)return;i=i.parentElement}n.contextViewService.hideContextView(!0)}}}),null,s),Oe(s,t)},focus:function(){t&&t.focus(!!e.autoSelectFirstItem)},onHide:function(t){e.onHide&&e.onHide(!!t),n.block&&(ao(n.block),n.block=null),n.focusToReturn&&n.focusToReturn.focus()}}))},e.prototype.onActionRun=function(e){this.telemetryService&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()},e.prototype.onDidActionRun=function(e){e.error&&this.notificationService&&this.notificationService.error(e.error)},e}(),hN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),dN=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},pN=function(e,t){return function(n,i){t(n,i,e)}},fN=function(e){function t(t,n,i,o,r){var s=e.call(this)||this;return s._onDidContextMenu=s._register(new Ze),s.contextMenuHandler=new cN(i,t,n,o,r),s}return hN(t,e),t.prototype.configure=function(e){this.contextMenuHandler.configure(e)},t.prototype.showContextMenu=function(e){this.contextMenuHandler.showContextMenu(e),this._onDidContextMenu.fire()},t=dN([pN(0,vm),pN(1,ig),pN(2,mI),pN(3,WI),pN(4,p_)],t),t}(Ae);n("4d3d");(function(e){function t(e,t){if(e.start>=t.end||t.start>=e.end)return{start:0,end:0};var n=Math.max(e.start,t.start),i=Math.min(e.end,t.end);return i-n<=0?{start:0,end:0}:{start:n,end:i}}function n(e){return e.end-e.start<=0}function i(e,i){return!n(t(e,i))}function o(e,t){var i=[],o={start:e.start,end:Math.min(t.start,e.end)},r={start:Math.max(t.end,e.start),end:e.end};return n(o)||i.push(o),n(r)||i.push(r),i}e.intersect=t,e.isEmpty=n,e.intersects=i,e.relativeComplement=o})(uN||(uN={}));var gN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function mN(e,t,n){var i=n.offset+n.size;return 0===n.position?t<=e-i?i:t<=n.offset?n.offset-t:Math.max(e-t,0):t<=n.offset?n.offset-t:t<=e-i?i:0}var _N=function(e){function t(t){var n=e.call(this)||this;return n.container=null,n.delegate=null,n.toDisposeOnClean=Ae.None,n.toDisposeOnSetContainer=Ae.None,n.view=_r(".context-view"),yr(n.view),n.setContainer(t),n._register(De((function(){return n.setContainer(null)}))),n}return gN(t,e),t.prototype.setContainer=function(e){var n=this;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.container.removeChild(this.view),this.container=null),e){this.container=e,this.container.appendChild(this.view);var i=new Re;t.BUBBLE_UP_EVENTS.forEach((function(e){i.add(So(n.container,e,(function(e){n.onDOMEvent(e,!1)})))})),t.BUBBLE_DOWN_EVENTS.forEach((function(e){i.add(So(n.container,e,(function(e){n.onDOMEvent(e,!0)}),!0))})),this.toDisposeOnSetContainer=i}},t.prototype.show=function(e){this.isVisible()&&this.hide(),so(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",vr(this.view),this.toDisposeOnClean=e.render(this.view)||Ae.None,this.delegate=e,this.doLayout(),this.delegate.focus&&this.delegate.focus()},t.prototype.layout=function(){this.isVisible()&&(!1!==this.delegate.canRelayout||s["c"]&&no.pointerEvents?(this.delegate.layout&&this.delegate.layout(),this.doLayout()):this.hide())},t.prototype.doLayout=function(){if(this.isVisible()){var e,t=this.delegate.getAnchor();if(sr(t)){var n=Uo(t);e={top:n.top,left:n.left,width:n.width,height:n.height}}else e={top:t.y,left:t.x,width:t.width||1,height:t.height||2};var i,o=jo(this.view),r=qo(this.view),s=this.delegate.anchorPosition||0,a=this.delegate.anchorAlignment||0,l={offset:e.top-window.pageYOffset,size:e.height,position:0===s?0:1};i=0===a?{offset:e.left,size:0,position:0}:{offset:e.left+e.width,size:0,position:1};var u=mN(window.innerHeight,r,l)+window.pageYOffset;uN.intersects({start:u,end:u+r},{start:l.offset,end:l.offset+l.size})&&(i.size=e.width,1===a&&(i.offset=e.left));var c=mN(window.innerWidth,o,i);_o(this.view,"top","bottom","left","right"),fo(this.view,0===s?"bottom":"top"),fo(this.view,0===a?"left":"right");var h=Uo(this.container);this.view.style.top=u-h.top+"px",this.view.style.left=c-h.left+"px",this.view.style.width="initial"}},t.prototype.hide=function(e){var t=this.delegate;this.delegate=null,(null===t||void 0===t?void 0:t.onHide)&&t.onHide(e),this.toDisposeOnClean.dispose(),yr(this.view)},t.prototype.isVisible=function(){return!!this.delegate},t.prototype.onDOMEvent=function(e,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,document.activeElement):t&&!Yo(e.target,this.container)&&this.hide())},t.prototype.dispose=function(){this.hide(),e.prototype.dispose.call(this)},t.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],t.BUBBLE_DOWN_EVENTS=["click"],t}(Ae),vN=Dn("layoutService"),yN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bN=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wN=function(e,t){return function(n,i){t(n,i,e)}},CN=function(e){function t(t){var n=e.call(this)||this;return n.layoutService=t,n.contextView=n._register(new _N(t.container)),n.layout(),n._register(t.onLayout((function(){return n.layout()}))),n}return yN(t,e),t.prototype.setContainer=function(e){this.contextView.setContainer(e)},t.prototype.showContextView=function(e){this.contextView.show(e)},t.prototype.layout=function(){this.contextView.layout()},t.prototype.hideContextView=function(e){this.contextView.hide(e)},t=bN([wN(0,vN)],t),t}(Ae),SN=Dn("dialogService");function EN(e){return{data:e,incoming:Object.create(null),outgoing:Object.create(null)}}var TN,kN=function(){function e(e){this._hashFn=e,this._nodes=Object.create(null)}return e.prototype.roots=function(){var e=[];return Pp(this._nodes,(function(t){xa(t.value.outgoing)&&e.push(t.value)})),e},e.prototype.insertEdge=function(e,t){var n=this.lookupOrInsertNode(e),i=this.lookupOrInsertNode(t);n.outgoing[this._hashFn(t)]=i,i.incoming[this._hashFn(e)]=n},e.prototype.removeNode=function(e){var t=this._hashFn(e);delete this._nodes[t],Pp(this._nodes,(function(e){delete e.value.outgoing[t],delete e.value.incoming[t]}))},e.prototype.lookupOrInsertNode=function(e){var t=this._hashFn(e),n=this._nodes[t];return n||(n=EN(e),this._nodes[t]=n),n},e.prototype.isEmpty=function(){for(var e in this._nodes)return!1;return!0},e.prototype.toString=function(){var e=[];return Pp(this._nodes,(function(t){e.push(t.key+", (incoming)["+Object.keys(t.value.incoming).join(", ")+"], (outgoing)["+Object.keys(t.value.outgoing).join(",")+"]")})),e.join("\n")},e}(),xN=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),LN=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},IN=!1,ON="function"===typeof Proxy,DN=function(e){function t(t){var n=e.call(this,"cyclic dependency between services")||this;return n.message=t.toString(),n}return xN(t,e),t}(Error),NN=function(){function e(e,t,n){void 0===e&&(e=new eL),void 0===t&&(t=!1),this._services=e,this._strict=t,this._parent=n,this._services.set(In,this)}return e.prototype.createChild=function(t){return new e(t,this._strict,this)},e.prototype.invokeFunction=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=RN.traceInvocation(e),r=!1;try{var s={get:function(e,n){if(r)throw Ce("service accessor is only valid during the invocation of its target method");var i=t._getOrCreateServiceInstance(e,o);if(!i&&n!==Nn)throw new Error("[invokeFunction] unknown service '"+e+"'");return i}};return e.apply(void 0,LN([s],n))}finally{r=!0,o.stop()}},e.prototype.createInstance=function(e){for(var t,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return e instanceof HL?(t=RN.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(i),t)):(t=RN.traceCreation(e),n=this._createInstance(e,i,t)),t.stop(),n},e.prototype._createInstance=function(e,t,n){void 0===t&&(t=[]);for(var i=Ln.getServiceDependencies(e).sort((function(e,t){return e.index-t.index})),o=[],r=0,s=i;r<s.length;r++){var a=s[r],l=this._getOrCreateServiceInstance(a.id,n);if(!l&&this._strict&&!a.optional)throw new Error("[createInstance] "+e.name+" depends on UNKNOWN service "+a.id+".");o.push(l)}var u=i.length>0?i[0].index:t.length;if(t.length!==u){console.warn("[createInstance] First service dependency of "+e.name+" at position "+(u+1)+" conflicts with "+t.length+" static arguments");var c=u-t.length;t=c>0?t.concat(new Array(c)):t.slice(0,u)}return new(e.bind.apply(e,LN([void 0],LN(t,o))))},e.prototype._setServiceInstance=function(e,t){if(this._services.get(e)instanceof HL)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}},e.prototype._getServiceInstanceOrDescriptor=function(e){var t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t},e.prototype._getOrCreateServiceInstance=function(e,t){var n=this._getServiceInstanceOrDescriptor(e);return n instanceof HL?this._createAndCacheServiceInstance(e,n,t.branch(e,!0)):(t.branch(e,!1),n)},e.prototype._createAndCacheServiceInstance=function(e,t,n){var i=new kN((function(e){return e.id.toString()})),o=0,r=[{id:e,desc:t,_trace:n}];while(r.length){var s=r.pop();if(i.lookupOrInsertNode(s),o++>150)throw new DN(i);for(var a=0,l=Ln.getServiceDependencies(s.desc.ctor);a<l.length;a++){var u=l[a],c=this._getServiceInstanceOrDescriptor(u.id);if(c||u.optional||console.warn("[createInstance] "+e+" depends on "+u.id+" which is NOT registered."),c instanceof HL){var h={id:u.id,desc:c,_trace:s._trace.branch(u.id,!0)};i.insertEdge(s,h),r.push(h)}}}while(1){var d=i.roots();if(0===d.length){if(!i.isEmpty())throw new DN(i);break}for(var p=0,f=d;p<f.length;p++){var g=f[p].data,m=this._createServiceInstanceWithOwner(g.id,g.desc.ctor,g.desc.staticArguments,g.desc.supportsDelayedInstantiation,g._trace);this._setServiceInstance(g.id,m),i.removeNode(g)}}return this._getServiceInstanceOrDescriptor(e)},e.prototype._createServiceInstanceWithOwner=function(e,t,n,i,o){if(void 0===n&&(n=[]),this._services.get(e)instanceof HL)return this._createServiceInstance(t,n,i,o);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,n,i,o);throw new Error("illegalState - creating UNKNOWN service instance "+t.name)},e.prototype._createServiceInstance=function(e,t,n,i){var o=this;if(void 0===t&&(t=[]),n&&ON){var r=new Li((function(){return o._createInstance(e,t,i)}));return new Proxy(Object.create(null),{get:function(e,t){if(t in e)return e[t];var n=r.getValue(),i=n[t];return"function"!==typeof i||(i=i.bind(n),e[t]=i),i},set:function(e,t,n){return r.getValue()[t]=n,!0}})}return this._createInstance(e,t,i)},e}(),RN=function(){function e(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}return e.traceInvocation=function(t){return IN?new e(1,t.name||t.toString().substring(0,42).replace(/\n/g,"")):e._None},e.traceCreation=function(t){return IN?new e(0,t.name):e._None},e.prototype.branch=function(t,n){var i=new e(2,t.toString());return this._dep.push([t,n,i]),i},e.prototype.stop=function(){var t=Date.now()-this._start;e._totals+=t;var n=!1;function i(e,t){for(var o=[],r=new Array(e+1).join("\t"),s=0,a=t._dep;s<a.length;s++){var l=a[s],u=l[0],c=l[1],h=l[2];if(c&&h){n=!0,o.push(r+"CREATES -> "+u);var d=i(e+1,h);d&&o.push(d)}else o.push(r+"uses -> "+u)}return o.join("\n")}var o=[(0===this.type?"CREATE":"CALL")+" "+this.name,""+i(1,this),"DONE, took "+t.toFixed(2)+"ms (grand total "+e._totals.toFixed(2)+"ms)"];(t>2||n)&&console.log(o.join("\n"))},e._None=new(function(e){function t(){return e.call(this,-1,null)||this}return xN(t,e),t.prototype.stop=function(){},t.prototype.branch=function(){return this},t}(e)),e._totals=0,e}(),AN="label",MN=Dn(AN),PN=(n("e2b8"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}());(function(e){e["TREE"]="tree",e["FORM"]="form"})(TN||(TN={}));var FN=function(e){function t(t,n){return e.call(this,"ListError ["+t+"] "+n)||this}return PN(t,e),t}(Error);function BN(e,t){for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i];if(!(e.start>=r.range.end)){if(e.end<r.range.start)break;var s=uN.intersect(e,r.range);uN.isEmpty(s)||n.push({range:s,size:r.size})}}return n}function VN(e,t){var n=e.start,i=e.end;return{start:n+t,end:i+t}}function HN(e){for(var t=[],n=null,i=0,o=e;i<o.length;i++){var r=o[i],s=r.range.start,a=r.range.end,l=r.size;n&&l===n.size?n.range.end=a:(n={range:{start:s,end:a},size:l},t.push(n))}return t}function $N(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return HN(e.reduce((function(e,t){return e.concat(t)}),[]))}var WN=function(){function e(){this.groups=[],this._size=0}return e.prototype.splice=function(e,t,n){void 0===n&&(n=[]);var i=n.length-t,o=BN({start:0,end:e},this.groups),r=BN({start:e+t,end:Number.POSITIVE_INFINITY},this.groups).map((function(e){return{range:VN(e.range,i),size:e.size}})),s=n.map((function(t,n){return{range:{start:e+n,end:e+n+1},size:t.size}}));this.groups=$N(o,s,r),this._size=this.groups.reduce((function(e,t){return e+t.size*(t.range.end-t.range.start)}),0)},Object.defineProperty(e.prototype,"count",{get:function(){var e=this.groups.length;return e?this.groups[e-1].range.end:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype.indexAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,o=this.groups;i<o.length;i++){var r=o[i],s=r.range.end-r.range.start,a=n+s*r.size;if(e<a)return t+Math.floor((e-n)/r.size);t+=s,n=a}return t},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.count)},e.prototype.positionAt=function(e){if(e<0)return-1;for(var t=0,n=0,i=0,o=this.groups;i<o.length;i++){var r=o[i],s=r.range.end-r.range.start,a=n+s;if(e<a)return t+(e-n)*r.size;t+=s*r.size,n=a}return-1},e}();function UN(e){try{e.parentElement&&e.parentElement.removeChild(e)}catch(t){}}var zN=function(){function e(e){this.renderers=e,this.cache=new Map}return e.prototype.alloc=function(e){var t=this.getTemplateCache(e).pop();if(!t){var n=_r(".monaco-list-row"),i=this.getRenderer(e),o=i.renderTemplate(n);t={domNode:n,templateId:e,templateData:o}}return t},e.prototype.release=function(e){e&&this.releaseRow(e)},e.prototype.releaseRow=function(e){var t=e.domNode,n=e.templateId;t&&(mo(t,"scrolling"),UN(t));var i=this.getTemplateCache(n);i.push(e)},e.prototype.getTemplateCache=function(e){var t=this.cache.get(e);return t||(t=[],this.cache.set(e,t)),t},e.prototype.dispose=function(){var e=this;this.cache.forEach((function(t,n){for(var i=0,o=t;i<o.length;i++){var r=o[i],s=e.getRenderer(n);s.disposeTemplate(r.templateData),r.domNode=null,r.templateData=null}})),this.cache.clear()},e.prototype.getRenderer=function(e){var t=this.renderers.get(e);if(!t)throw new Error("No renderer found for "+e);return t},e}(),jN=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},GN=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},KN={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:function(e){return[e]},getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},horizontalScrolling:!1},qN=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}(),YN=function(){function e(e){this.elements=e}return e.prototype.update=function(){},e.prototype.getData=function(){return this.elements},e}(),XN=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){var t;if(e.types&&(t=this.types).splice.apply(t,GN([0,this.types.length],e.types)),e.files){this.files.splice(0,this.files.length);for(var n=0;n<e.files.length;n++){var i=e.files.item(n);i&&(i.size||i.type)&&this.files.push(i)}}},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}();function ZN(e,t){return Array.isArray(e)&&Array.isArray(t)?Di(e,t):e===t}var JN=function(){function e(t,n,i,o){var r=this;if(void 0===o&&(o=KN),this.virtualDelegate=n,this.domId="list_id_"+ ++e.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new yi(50),this.splicing=!1,this.dragOverAnimationStopDisposable=Ae.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=Ae.None,this.onDragLeaveTimeout=Ae.None,this.disposables=new Re,this._onDidChangeContentHeight=new Ze,o.horizontalScrolling&&o.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new WN;for(var s=0,a=i;s<a.length;s++){var l=a[s];this.renderers.set(l.templateId,l)}this.cache=this.disposables.add(new zN(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",fo(this.domNode,this.domId),this.domNode.tabIndex=0,vo(this.domNode,"mouse-support","boolean"!==typeof o.mouseSupport||o.mouseSupport),this.horizontalScrolling=vl(o,(function(e){return e.horizontalScrolling}),KN.horizontalScrolling),vo(this.domNode,"horizontal-scrolling",this.horizontalScrolling),this.additionalScrollHeight="undefined"===typeof o.additionalScrollHeight?0:o.additionalScrollHeight,this.ariaProvider=o.ariaProvider||{getSetSize:function(e,t,n){return n},getPosInSet:function(e,t){return t+1}},this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.disposables.add($m.addTarget(this.rowsContainer)),this.scrollableElement=this.disposables.add(new jT(this.rowsContainer,{alwaysConsumeMouseWheel:!0,horizontal:this.horizontalScrolling?1:2,vertical:vl(o,(function(e){return e.verticalScrollMode}),KN.verticalScrollMode),useShadows:vl(o,(function(e){return e.useShadows}),KN.useShadows)})),this.domNode.appendChild(this.scrollableElement.getDomNode()),t.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),Zn(this.rowsContainer,Bm.Change)(this.onTouchChange,this,this.disposables),Zn(this.scrollableElement.getDomNode(),"scroll")((function(e){return e.target.scrollTop=0}),null,this.disposables),$e.map(Zn(this.domNode,"dragover"),(function(e){return r.toDragEvent(e)}))(this.onDragOver,this,this.disposables),$e.map(Zn(this.domNode,"drop"),(function(e){return r.toDragEvent(e)}))(this.onDrop,this,this.disposables),Zn(this.domNode,"dragleave")(this.onDragLeave,this,this.disposables),Zn(window,"dragend")(this.onDragEnd,this,this.disposables),this.setRowLineHeight=vl(o,(function(e){return e.setRowLineHeight}),KN.setRowLineHeight),this.supportDynamicHeights=vl(o,(function(e){return e.supportDynamicHeights}),KN.supportDynamicHeights),this.dnd=vl(o,(function(e){return e.dnd}),KN.dnd),this.layout()}return Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.rangeMap.size},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){if(void 0===n&&(n=[]),this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,t,n)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}},e.prototype._splice=function(e,t,n){var i,o=this;void 0===n&&(n=[]);for(var r=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),s={start:e,end:e+t},a=uN.intersect(r,s),l=a.start;l<a.end;l++)this.removeItemFromDOM(l);var u,c={start:e+t,end:this.items.length},h=uN.intersect(c,r),d=uN.relativeComplement(c,r),p=n.map((function(e){return{id:String(o.itemId++),element:e,templateId:o.virtualDelegate.getTemplateId(e),size:o.virtualDelegate.getHeight(e),width:void 0,hasDynamicHeight:!!o.virtualDelegate.hasDynamicHeight&&o.virtualDelegate.hasDynamicHeight(e),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:Ae.None}}));0===e&&t>=this.items.length?(this.rangeMap=new WN,this.rangeMap.splice(0,0,p),this.items=p,u=[]):(this.rangeMap.splice(e,t,p),u=(i=this.items).splice.apply(i,GN([e,t],p)));var f=n.length-t,g=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),m=VN(h,f),_=uN.intersect(g,m);for(l=_.start;l<_.end;l++)this.updateItemInDOM(this.items[l],l);for(var v=uN.relativeComplement(m,g),y=0,b=v;y<b.length;y++){var w=b[y];for(l=w.start;l<w.end;l++)this.removeItemFromDOM(l)}for(var C=d.map((function(e){return VN(e,f)})),S={start:e,end:e+n.length},E=GN([S],C).map((function(e){return uN.intersect(g,e)})),T=this.getNextToLastElement(E),k=0,x=E;k<x.length;k++)for(w=x[k],l=w.start;l<w.end;l++)this.insertItemInDOM(l,T);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),u.map((function(e){return e.element}))},e.prototype.eventuallyUpdateScrollDimensions=function(){var e=this;this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=this._scrollHeight+"px",this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=Oo((function(){e.scrollableElement.setScrollDimensions({scrollHeight:e.scrollHeight}),e.updateScrollWidth(),e.scrollableElementUpdateDisposable=null})))},e.prototype.eventuallyUpdateScrollWidth=function(){var e=this;this.horizontalScrolling&&this.scrollableElementWidthDelayer.trigger((function(){return e.updateScrollWidth()}))},e.prototype.updateScrollWidth=function(){if(this.horizontalScrolling){0===this.items.length&&this.scrollableElement.setScrollDimensions({scrollWidth:0});for(var e=0,t=0,n=this.items;t<n.length;t++){var i=n[t];"undefined"!==typeof i.width&&(e=Math.max(e,i.width))}this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e+10})}},e.prototype.rerender=function(){if(this.supportDynamicHeights){for(var e=0,t=this.items;e<t.length;e++){var n=t[e];n.lastDynamicHeightWidth=void 0}this._rerender(this.lastRenderTop,this.lastRenderHeight)}},Object.defineProperty(e.prototype,"length",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderHeight",{get:function(){var e=this.scrollableElement.getScrollDimensions();return e.height},enumerable:!0,configurable:!0}),e.prototype.element=function(e){return this.items[e].element},e.prototype.domElement=function(e){var t=this.items[e].row;return t&&t.domNode},e.prototype.elementHeight=function(e){return this.items[e].size},e.prototype.elementTop=function(e){return this.rangeMap.positionAt(e)},e.prototype.indexAt=function(e){return this.rangeMap.indexAt(e)},e.prototype.indexAfter=function(e){return this.rangeMap.indexAfter(e)},e.prototype.layout=function(e,t){var n={height:"number"===typeof e?e:Ko(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,n.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(n),"undefined"!==typeof t&&(this.renderWidth=t,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"===typeof t?t:Go(this.domNode)}))},e.prototype.render=function(e,t,n,i){for(var o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),r=this.getRenderRange(e,t),s=uN.relativeComplement(r,o),a=uN.relativeComplement(o,r),l=this.getNextToLastElement(s),u=0,c=s;u<c.length;u++)for(var h=c[u],d=h.start;d<h.end;d++)this.insertItemInDOM(d,l);for(var p=0,f=a;p<f.length;p++)for(h=f[p],d=h.start;d<h.end;d++)this.removeItemFromDOM(d);this.rowsContainer.style.left="-"+n+"px",this.rowsContainer.style.top="-"+e+"px",this.horizontalScrolling&&(this.rowsContainer.style.width=Math.max(i,this.renderWidth)+"px"),this.lastRenderTop=e,this.lastRenderHeight=t},e.prototype.insertItemInDOM=function(e,t){var n=this,i=this.items[e];if(!i.row){i.row=this.cache.alloc(i.templateId);var o=this.ariaProvider.getRole?this.ariaProvider.getRole(i.element):"treeitem";i.row.domNode.setAttribute("role",o);var r=this.ariaProvider.isChecked?this.ariaProvider.isChecked(i.element):void 0;"undefined"!==typeof r&&i.row.domNode.setAttribute("aria-checked",String(r))}i.row.domNode.parentElement||(t?this.rowsContainer.insertBefore(i.row.domNode,t):this.rowsContainer.appendChild(i.row.domNode)),this.updateItemInDOM(i,e);var s=this.renderers.get(i.templateId);if(!s)throw new Error("No renderer found for template id "+i.templateId);s&&s.renderElement(i.element,e,i.row.templateData,i.size);var a=this.dnd.getDragURI(i.element);if(i.dragStartDisposable.dispose(),i.row.domNode.draggable=!!a,a){var l=Zn(i.row.domNode,"dragstart");i.dragStartDisposable=l((function(e){return n.onDragStart(i.element,a,e)}))}this.horizontalScrolling&&(this.measureItemWidth(i),this.eventuallyUpdateScrollWidth())},e.prototype.measureItemWidth=function(e){if(e.row&&e.row.domNode){e.row.domNode.style.width=Un?"-moz-fit-content":"fit-content",e.width=Go(e.row.domNode);var t=window.getComputedStyle(e.row.domNode);t.paddingLeft&&(e.width+=parseFloat(t.paddingLeft)),t.paddingRight&&(e.width+=parseFloat(t.paddingRight)),e.row.domNode.style.width=""}},e.prototype.updateItemInDOM=function(e,t){e.row.domNode.style.top=this.elementTop(t)+"px",e.row.domNode.style.height=e.size+"px",this.setRowLineHeight&&(e.row.domNode.style.lineHeight=e.size+"px"),e.row.domNode.setAttribute("data-index",""+t),e.row.domNode.setAttribute("data-last-element",t===this.length-1?"true":"false"),e.row.domNode.setAttribute("aria-setsize",String(this.ariaProvider.getSetSize(e.element,t,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.ariaProvider.getPosInSet(e.element,t))),e.row.domNode.setAttribute("id",this.getElementDomId(t)),vo(e.row.domNode,"drop-target",e.dropTarget)},e.prototype.removeItemFromDOM=function(e){var t=this.items[e];t.dragStartDisposable.dispose();var n=this.renderers.get(t.templateId);n&&n.disposeElement&&n.disposeElement(t.element,e,t.row.templateData,t.size),this.cache.release(t.row),t.row=null,this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()},e.prototype.getScrollTop=function(){var e=this.scrollableElement.getScrollPosition();return e.scrollTop},e.prototype.setScrollTop=function(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e})},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.getScrollTop()},set:function(e){this.setScrollTop(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseClick",{get:function(){var e=this;return $e.map(Zn(this.domNode,"click"),(function(t){return e.toMouseEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDblClick",{get:function(){var e=this;return $e.map(Zn(this.domNode,"dblclick"),(function(t){return e.toMouseEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseMiddleClick",{get:function(){var e=this;return $e.filter($e.map(Zn(this.domNode,"auxclick"),(function(t){return e.toMouseEvent(t)})),(function(e){return 1===e.browserEvent.button}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDown",{get:function(){var e=this;return $e.map(Zn(this.domNode,"mousedown"),(function(t){return e.toMouseEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var e=this;return $e.map(Zn(this.domNode,"contextmenu"),(function(t){return e.toMouseEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTouchStart",{get:function(){var e=this;return $e.map(Zn(this.domNode,"touchstart"),(function(t){return e.toTouchEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTap",{get:function(){var e=this;return $e.map(Zn(this.rowsContainer,Bm.Tap),(function(t){return e.toGestureEvent(t)}))},enumerable:!0,configurable:!0}),e.prototype.toMouseEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),n="undefined"===typeof t?void 0:this.items[t],i=n&&n.element;return{browserEvent:e,index:t,element:i}},e.prototype.toTouchEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),n="undefined"===typeof t?void 0:this.items[t],i=n&&n.element;return{browserEvent:e,index:t,element:i}},e.prototype.toGestureEvent=function(e){var t=this.getItemIndexFromEventTarget(e.initialTarget||null),n="undefined"===typeof t?void 0:this.items[t],i=n&&n.element;return{browserEvent:e,index:t,element:i}},e.prototype.toDragEvent=function(e){var t=this.getItemIndexFromEventTarget(e.target||null),n="undefined"===typeof t?void 0:this.items[t],i=n&&n.element;return{browserEvent:e,index:t,element:i}},e.prototype.onScroll=function(e){try{this.render(e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height)}catch(t){throw console.error("Got bad scroll event:",e),t}},e.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},e.prototype.onDragStart=function(e,t,n){if(n.dataTransfer){var i=this.dnd.getDragElements(e);if(n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setData(QL.RESOURCES,JSON.stringify([t])),n.dataTransfer.setDragImage){var o=void 0;this.dnd.getDragLabel&&(o=this.dnd.getDragLabel(i,n)),"undefined"===typeof o&&(o=String(i.length));var r=_r(".monaco-drag-image");r.textContent=o,document.body.appendChild(r),n.dataTransfer.setDragImage(r,-10,-10),setTimeout((function(){return document.body.removeChild(r)}),0)}this.currentDragData=new qN(i),tI.CurrentDragAndDropData=new YN(i),this.dnd.onDragStart&&this.dnd.onDragStart(this.currentDragData,n)}},e.prototype.onDragOver=function(e){var t=this;if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),tI.CurrentDragAndDropData&&"vscode-ui"===tI.CurrentDragAndDropData.getData())return!1;if(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer)return!1;if(!this.currentDragData)if(tI.CurrentDragAndDropData)this.currentDragData=tI.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new XN}var n,i=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.browserEvent);if(this.canDrop="boolean"===typeof i?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;if(e.browserEvent.dataTransfer.dropEffect="boolean"!==typeof i&&0===i.effect?"copy":"move",n="boolean"!==typeof i&&i.feedback?i.feedback:"undefined"===typeof e.index?[-1]:[e.index],n=$i(n).filter((function(e){return e>=-1&&e<t.length})).sort((function(e,t){return e-t})),n=-1===n[0]?[-1]:n,ZN(this.currentDragFeedback,n))return!0;if(this.currentDragFeedback=n,this.currentDragFeedbackDisposable.dispose(),-1===n[0])fo(this.domNode,"drop-target"),fo(this.rowsContainer,"drop-target"),this.currentDragFeedbackDisposable=De((function(){mo(t.domNode,"drop-target"),mo(t.rowsContainer,"drop-target")}));else{for(var o=0,r=n;o<r.length;o++){var s=r[o],a=this.items[s];a.dropTarget=!0,a.row&&a.row.domNode&&fo(a.row.domNode,"drop-target")}this.currentDragFeedbackDisposable=De((function(){for(var e=0,i=n;e<i.length;e++){var o=i[e],r=t.items[o];r.dropTarget=!1,r.row&&r.row.domNode&&mo(r.row.domNode,"drop-target")}}))}return!0},e.prototype.onDragLeave=function(){var e=this;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=wi((function(){return e.clearDragOverFeedback()}),100)},e.prototype.onDrop=function(e){if(this.canDrop){var t=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,tI.CurrentDragAndDropData=void 0,t&&e.browserEvent.dataTransfer&&(e.browserEvent.preventDefault(),t.update(e.browserEvent.dataTransfer),this.dnd.drop(t,e.element,e.index,e.browserEvent))}},e.prototype.onDragEnd=function(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,tI.CurrentDragAndDropData=void 0,this.dnd.onDragEnd&&this.dnd.onDragEnd(e)},e.prototype.clearDragOverFeedback=function(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=Ae.None},e.prototype.setupDragAndDropScrollTopAnimation=function(e){var t=this;if(!this.dragOverAnimationDisposable){var n=Wo(this.domNode).top;this.dragOverAnimationDisposable=Tr(this.animateDragAndDropScrollTop.bind(this,n))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=wi((function(){t.dragOverAnimationDisposable&&(t.dragOverAnimationDisposable.dispose(),t.dragOverAnimationDisposable=void 0)}),1e3),this.dragOverMouseY=e.pageY},e.prototype.animateDragAndDropScrollTop=function(e){if(void 0!==this.dragOverMouseY){var t=this.dragOverMouseY-e,n=this.renderHeight-35;t<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(t-35))):t>n&&(this.scrollTop+=Math.min(14,Math.floor(.3*(t-n))))}},e.prototype.teardownDragAndDropScrollTopAnimation=function(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},e.prototype.getItemIndexFromEventTarget=function(e){var t=e;while(t instanceof HTMLElement&&t!==this.rowsContainer){var n=t.getAttribute("data-index");if(n){var i=Number(n);if(!isNaN(i))return i}t=t.parentElement}},e.prototype.getRenderRange=function(e,t){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+t-1)}},e.prototype._rerender=function(e,t){var n,i,o=this.getRenderRange(e,t);e===this.elementTop(o.start)?(n=o.start,i=0):o.end-o.start>1&&(n=o.start+1,i=this.elementTop(n)-e);var r=0;while(1){for(var s=this.getRenderRange(e,t),a=!1,l=s.start;l<s.end;l++){var u=this.probeDynamicHeight(l);0!==u&&this.rangeMap.splice(l,1,[this.items[l]]),r+=u,a=a||0!==u}if(!a){0!==r&&this.eventuallyUpdateScrollDimensions();for(var c=uN.relativeComplement(o,s),h=0,d=c;h<d.length;h++){var p=d[h];for(l=p.start;l<p.end;l++)this.items[l].row&&this.removeItemFromDOM(l)}for(var f=uN.relativeComplement(s,o),g=0,m=f;g<m.length;g++)for(p=m[g],l=p.start;l<p.end;l++){var _=l+1,v=_<this.items.length?this.items[_].row:null,y=v?v.domNode:null;this.insertItemInDOM(l,y)}for(l=s.start;l<s.end;l++)this.items[l].row&&this.updateItemInDOM(this.items[l],l);return"number"===typeof n&&(this.scrollTop=this.elementTop(n)-i),void this._onDidChangeContentHeight.fire(this.contentHeight)}}},e.prototype.probeDynamicHeight=function(e){var t=this.items[e];if(!t.hasDynamicHeight||t.lastDynamicHeightWidth===this.renderWidth)return 0;var n=t.size,i=this.cache.alloc(t.templateId);i.domNode.style.height="",this.rowsContainer.appendChild(i.domNode);var o=this.renderers.get(t.templateId);return o&&(o.renderElement(t.element,e,i.templateData,void 0),o.disposeElement&&o.disposeElement(t.element,e,i.templateData,void 0)),t.size=i.domNode.offsetHeight,this.virtualDelegate.setDynamicHeight&&this.virtualDelegate.setDynamicHeight(t.element,t.size),t.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(i.domNode),this.cache.release(i),t.size-n},e.prototype.getNextToLastElement=function(e){var t=e[e.length-1];if(!t)return null;var n=this.items[t.end];return n&&n.row?n.row.domNode:null},e.prototype.getElementDomId=function(e){return this.domId+"_"+e},e.prototype.dispose=function(){if(this.items){for(var e=0,t=this.items;e<t.length;e++){var n=t[e];if(n.row){var i=this.renderers.get(n.row.templateId);i&&i.disposeTemplate(n.row.templateData)}}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),Ie(this.disposables)},e.InstanceCount=0,jN([Fm],e.prototype,"onMouseClick",null),jN([Fm],e.prototype,"onMouseDblClick",null),jN([Fm],e.prototype,"onMouseMiddleClick",null),jN([Fm],e.prototype,"onMouseDown",null),jN([Fm],e.prototype,"onContextMenu",null),jN([Fm],e.prototype,"onTouchStart",null),jN([Fm],e.prototype,"onTap",null),e}(),QN=function(){function e(e){this.spliceables=e}return e.prototype.splice=function(e,t,n){this.spliceables.forEach((function(i){return i.splice(e,t,n)}))},e}();function eR(e,t,n){return Math.min(Math.max(e,t),n)}function tR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n){for(var i=0,o=e.length;i<o;i++){var r=e[i](t,n);if(r)return r}return null}}var nR=iR.bind(void 0,!0);function iR(e,t,n){return!n||n.length<t.length?null:(i=e?ts(n,t):0===n.indexOf(t),i?t.length>0?[{start:0,end:t.length}]:[]:null);var i}function oR(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}function rR(e,t){return sR(e.toLowerCase(),t.toLowerCase(),0,0)}function sR(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){var o=null;return(o=sR(e,t,n+1,i+1))?pR({start:i,end:i+1},o):null}return sR(e,t,n,i+1)}function aR(e){return 97<=e&&e<=122}function lR(e){return 65<=e&&e<=90}function uR(e){return 48<=e&&e<=57}function cR(e){return 32===e||9===e||10===e||13===e}var hR=new Set;function dR(e){return aR(e)||lR(e)||uR(e)}function pR(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function fR(e,t){for(var n=t;n<e.length;n++){var i=e.charCodeAt(n);if(lR(i)||uR(i)||n>0&&!dR(e.charCodeAt(n-1)))return n}return e.length}function gR(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var o=null,r=i+1;o=gR(e,t,n+1,i+1);while(!o&&(r=fR(t,r))<t.length)o=gR(e,t,n+1,r),r++;return null===o?null:pR({start:i,end:i+1},o)}function mR(e){for(var t=0,n=0,i=0,o=0,r=0,s=0;s<e.length;s++)r=e.charCodeAt(s),lR(r)&&t++,aR(r)&&n++,dR(r)&&i++,uR(r)&&o++;var a=t/e.length,l=n/e.length,u=i/e.length,c=o/e.length;return{upperPercent:a,lowerPercent:l,alphaPercent:u,numericPercent:c}}function _R(e){var t=e.upperPercent,n=e.lowerPercent;return 0===n&&t>.6}function vR(e){var t=e.upperPercent,n=e.lowerPercent,i=e.alphaPercent,o=e.numericPercent;return n>.2&&t<.8&&i>.6&&o<.2}function yR(e){for(var t=0,n=0,i=0,o=0,r=0;r<e.length;r++)i=e.charCodeAt(r),lR(i)&&t++,aR(i)&&n++,cR(i)&&o++;return 0!==t&&0!==n||0!==o?t<=5:e.length<=30}function bR(e,t){if(!t)return null;if(t=t.trim(),0===t.length)return null;if(!yR(e))return null;if(t.length>60)return null;var n=mR(t);if(!vR(n)){if(!_R(n))return null;t=t.toLowerCase()}var i=null,o=0;e=e.toLowerCase();while(o<t.length&&null===(i=gR(e,t,0,o)))o=fR(t,o+1);return i}"`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?".split("").forEach((function(e){return hR.add(e.charCodeAt(0))}));var wR=tR(nR,bR,oR),CR=tR(nR,bR,rR),SR=new Ga(1e4);function ER(e,t,n){if(void 0===n&&(n=!1),"string"!==typeof e||"string"!==typeof t)return null;var i=SR.get(e);i||(i=new RegExp(Vr(e),"i"),SR.set(e,i));var o=i.exec(t);return o?[{start:o.index,end:o.index+o[0].length}]:n?CR(e,t):wR(e,t)}function TR(e,t,n,i,o,r){var s=HR(e,t,0,i,o,0,!0);if(s)return s;for(var a=0,l=0,u=r,c=0;c<t.length&&c<xR;++c){var h=o.indexOf(t.charAt(c),u);if(h>=0)l+=1,a+=Math.pow(2,h),u=h+1;else if(0!==a)break}return[l,a,r]}function kR(e){if("undefined"===typeof e)return[];for(var t=e[1].toString(2),n=e[2],i=[],o=n;o<xR;o++)if("1"===t[t.length-(o+1)]){var r=i[i.length-1];r&&r.end===o?r.end=o+1:i.push({start:o,end:o+1})}return i}var xR=128;function LR(){for(var e=[],t=[0],n=1;n<=xR;n++)t.push(-n);for(n=0;n<=xR;n++){var i=t.slice(0);i[0]=-n,e.push(i)}return e}var IR,OR=LR(),DR=LR(),NR=LR(),RR=!1;function AR(e,t,n,i,o){function r(e,t,n){void 0===n&&(n=" ");while(e.length<t)e=n+e;return e}for(var s=" |   |"+i.split("").map((function(e){return r(e,3)})).join("|")+"\n",a=0;a<=n;a++)s+=0===a?" |":t[a-1]+"|",s+=e[a].slice(0,o+1).map((function(e){return r(e.toString(),3)})).join("|")+"\n";return s}function MR(e,t,n,i){e=e.substr(t),n=n.substr(i),console.log(AR(OR,e,e.length,n,n.length)),console.log(AR(NR,e,e.length,n,n.length)),console.log(AR(DR,e,e.length,n,n.length))}function PR(e,t){if(t<0||t>=e.length)return!1;var n=e.charCodeAt(t);switch(n){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:return!0;default:return!1}}function FR(e,t){if(t<0||t>=e.length)return!1;var n=e.charCodeAt(t);switch(n){case 32:case 9:return!0;default:return!1}}function BR(e,t,n){return t[e]!==n[e]}function VR(e,t,n,i,o,r){while(t<n&&o<r)e[t]===i[o]&&(t+=1),o+=1;return t===n}function HR(e,t,n,i,o,r,s){var a=e.length>xR?xR:e.length,l=i.length>xR?xR:i.length;if(!(n>=a||r>=l||a-n>l-r)&&VR(t,n,a,o,r,l)){var u=1,c=1,h=n,d=r;for(u=1,h=n;h<a;u++,h++)for(c=1,d=r;d<l;c++,d++){var p=$R(e,t,h,n,i,o,d);DR[u][c]=p;var f=OR[u-1][c-1]+(p>1?1:p),g=OR[u-1][c]+-1,m=OR[u][c-1]+-1;m>=g?m>f?(OR[u][c]=m,NR[u][c]=4):m===f?(OR[u][c]=m,NR[u][c]=6):(OR[u][c]=f,NR[u][c]=2):g>f?(OR[u][c]=g,NR[u][c]=1):g===f?(OR[u][c]=g,NR[u][c]=3):(OR[u][c]=f,NR[u][c]=2)}if(RR&&MR(e,n,i,r),WR=0,zR=-100,jR=r,GR=s,KR(u-1,c-1,a===l?1:0,0,!1),0!==WR)return[zR,UR,r]}}function $R(e,t,n,i,o,r,s){return t[n]!==r[s]?-1:s===n-i?e[n]===o[s]?7:5:!BR(s,o,r)||0!==s&&BR(s-1,o,r)?!PR(r,s)||0!==s&&PR(r,s-1)?PR(r,s-1)||FR(r,s-1)?5:1:5:e[n]===o[s]?7:5}(function(e){function t(e){return!e||-100===e[0]&&0===e[1]&&0===e[2]}e.Default=Object.freeze([-100,0,0]),e.isDefault=t})(IR||(IR={}));var WR=0,UR=0,zR=0,jR=0,GR=!1;function KR(e,t,n,i,o){if(!(WR>=10||n<-25)){var r=0;while(e>0&&t>0){var s=DR[e][t],a=NR[e][t];if(4===a)t-=1,o?n-=5:0!==i&&(n-=1),o=!1,r=0;else{if(!(2&a))return;if(4&a&&KR(e,t-1,0!==i?n-1:n,i,o),n+=s,e-=1,t-=1,o=!0,i+=Math.pow(2,t+jR),1===s){if(r+=1,0===e&&!GR)return}else n+=1+r*(s-1),r=0}}n-=t>=3?9:3*t,WR+=1,n>zR&&(zR=n,UR=i)}}function qR(e,t,n,i,o,r,s){return YR(e,t,n,i,o,r,!0,s)}function YR(e,t,n,i,o,r,s,a){var l=HR(e,t,n,i,o,r,a);if(l&&!s)return l;if(e.length>=3)for(var u=Math.min(7,e.length-1),c=n+1;c<u;c++){var h=XR(e,c);if(h){var d=HR(h,h.toLowerCase(),n,i,o,r,a);d&&(d[0]-=3,(!l||d[0]>l[0])&&(l=d))}}return l}function XR(e,t){if(!(t+1>=e.length)){var n=e[t],i=e[t+1];if(n!==i)return e.slice(0,t)+i+n+e.slice(t+2)}}var ZR=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JR=function(){return JR=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},JR.apply(this,arguments)},QR=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},eA=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},tA=function(){function e(e){this.trait=e,this.renderedElements=[]}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"template:"+this.trait.trait},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return e},e.prototype.renderElement=function(e,t,n){var i=zi(this.renderedElements,(function(e){return e.templateData===n}));if(i>=0){var o=this.renderedElements[i];this.trait.unrender(n),o.index=t}else{o={index:t,templateData:n};this.renderedElements.push(o)}this.trait.renderIndex(t,n)},e.prototype.splice=function(e,t,n){for(var i=[],o=0,r=this.renderedElements;o<r.length;o++){var s=r[o];s.index<e?i.push(s):s.index>=e+t&&i.push({index:s.index+n-t,templateData:s.templateData})}this.renderedElements=i},e.prototype.renderIndexes=function(e){for(var t=0,n=this.renderedElements;t<n.length;t++){var i=n[t],o=i.index,r=i.templateData;e.indexOf(o)>-1&&this.trait.renderIndex(o,r)}},e.prototype.disposeTemplate=function(e){var t=zi(this.renderedElements,(function(t){return t.templateData===e}));t<0||this.renderedElements.splice(t,1)},e}(),nA=function(){function e(e){this._trait=e,this.indexes=[],this.sortedIndexes=[],this._onChange=new Ze,this.onChange=this._onChange.event}return Object.defineProperty(e.prototype,"trait",{get:function(){return this._trait},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return new tA(this)},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){var i=n.length-t,o=e+t,r=eA(this.sortedIndexes.filter((function(t){return t<e})),n.map((function(t,n){return t?n+e:-1})).filter((function(e){return-1!==e})),this.sortedIndexes.filter((function(e){return e>=o})).map((function(e){return e+i})));this.renderer.splice(e,t,n.length),this._set(r,r)},e.prototype.renderIndex=function(e,t){vo(t,this._trait,this.contains(e))},e.prototype.unrender=function(e){mo(e,this._trait)},e.prototype.set=function(e,t){return this._set(e,eA(e).sort(SA),t)},e.prototype._set=function(e,t,n){var i=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=t;var r=wA(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:n}),i},e.prototype.get=function(){return this.indexes},e.prototype.contains=function(e){return Ni(this.sortedIndexes,e,SA)>=0},e.prototype.dispose=function(){Ie(this._onChange)},QR([Fm],e.prototype,"renderer",null),e}(),iA=function(e){function t(){return e.call(this,"focused")||this}return ZR(t,e),t.prototype.renderIndex=function(t,n){e.prototype.renderIndex.call(this,t,n),this.contains(t)?n.setAttribute("aria-selected","true"):n.removeAttribute("aria-selected")},t}(nA),oA=function(){function e(e,t,n){this.trait=e,this.view=t,this.identityProvider=n}return e.prototype.splice=function(e,t,n){var i=this;if(!this.identityProvider)return this.trait.splice(e,t,n.map((function(){return!1})));var o=this.trait.get().map((function(e){return i.identityProvider.getId(i.view.element(e)).toString()})),r=n.map((function(e){return o.indexOf(i.identityProvider.getId(e).toString())>-1}));this.trait.splice(e,t,r)},e}();function rA(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}var sA,aA=function(){function e(e,t,n){this.list=e,this.view=t,this.disposables=new Re;var i=!1!==n.multipleSelectionSupport;this.openController=n.openController||gA;var o=$e.chain(Zn(t.domNode,"keydown")).filter((function(e){return!rA(e.target)})).map((function(e){return new si(e)}));o.filter((function(e){return 3===e.keyCode})).on(this.onEnter,this,this.disposables),o.filter((function(e){return 16===e.keyCode})).on(this.onUpArrow,this,this.disposables),o.filter((function(e){return 18===e.keyCode})).on(this.onDownArrow,this,this.disposables),o.filter((function(e){return 11===e.keyCode})).on(this.onPageUpArrow,this,this.disposables),o.filter((function(e){return 12===e.keyCode})).on(this.onPageDownArrow,this,this.disposables),o.filter((function(e){return 9===e.keyCode})).on(this.onEscape,this,this.disposables),i&&o.filter((function(e){return(s["e"]?e.metaKey:e.ctrlKey)&&31===e.keyCode})).on(this.onCtrlA,this,this.disposables)}return e.prototype.onEnter=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open(this.list.getFocus(),e.browserEvent)},e.prototype.onUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageUpArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onPageDownArrow=function(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent),this.list.reveal(this.list.getFocus()[0]),this.view.domNode.focus()},e.prototype.onCtrlA=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(qi(this.list.length),e.browserEvent),this.view.domNode.focus()},e.prototype.onEscape=function(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.view.domNode.focus()},e.prototype.dispose=function(){this.disposables.dispose()},e}();(function(e){e[e["Idle"]=0]="Idle",e[e["Typing"]=1]="Typing"})(sA||(sA={}));var lA=new(function(){function e(){}return e.prototype.mightProducePrintableCharacter=function(e){return!(e.ctrlKey||e.metaKey||e.altKey)&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30||e.keyCode>=93&&e.keyCode<=102||e.keyCode>=80&&e.keyCode<=90)},e}()),uA=function(){function e(e,t,n,i){this.list=e,this.view=t,this.keyboardNavigationLabelProvider=n,this.delegate=i,this.enabled=!1,this.state=sA.Idle,this.automaticKeyboardNavigation=!0,this.triggered=!1,this.enabledDisposables=new Re,this.disposables=new Re,this.updateOptions(e.options)}return e.prototype.updateOptions=function(e){var t="undefined"===typeof e.enableKeyboardNavigation||!!e.enableKeyboardNavigation;t?this.enable():this.disable(),"undefined"!==typeof e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation)},e.prototype.enable=function(){var e=this;if(!this.enabled){var t=$e.chain(Zn(this.view.domNode,"keydown")).filter((function(e){return!rA(e.target)})).filter((function(){return e.automaticKeyboardNavigation||e.triggered})).map((function(e){return new si(e)})).filter((function(t){return e.delegate.mightProducePrintableCharacter(t)})).forEach((function(e){e.stopPropagation(),e.preventDefault()})).map((function(e){return e.browserEvent.key})).event,n=$e.debounce(t,(function(){return null}),800),i=$e.reduce($e.any(t,n),(function(e,t){return null===t?null:(e||"")+t}));i(this.onInput,this,this.enabledDisposables),this.enabled=!0,this.triggered=!1}},e.prototype.disable=function(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)},e.prototype.onInput=function(e){if(!e)return this.state=sA.Idle,void(this.triggered=!1);var t=this.list.getFocus(),n=t.length>0?t[0]:0,i=this.state===sA.Idle?1:0;this.state=sA.Typing;for(var o=0;o<this.list.length;o++){var r=(n+o+i)%this.list.length,s=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),a=s&&s.toString();if("undefined"===typeof a||nR(e,a))return this.list.setFocus([r]),void this.list.reveal(r)}},e.prototype.dispose=function(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()},e}(),cA=function(){function e(e,t){this.list=e,this.view=t,this.disposables=new Re;var n=$e.chain(Zn(t.domNode,"keydown")).filter((function(e){return!rA(e.target)})).map((function(e){return new si(e)}));n.filter((function(e){return 2===e.keyCode&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&!e.altKey})).on(this.onTab,this,this.disposables)}return e.prototype.onTab=function(e){if(e.target===this.view.domNode){var t=this.list.getFocus();if(0!==t.length){var n=this.view.domElement(t[0]);if(n){var i=n.querySelector("[tabIndex]");if(i&&i instanceof HTMLElement&&-1!==i.tabIndex){var o=window.getComputedStyle(i);"hidden"!==o.visibility&&"none"!==o.display&&(e.preventDefault(),e.stopPropagation(),i.focus())}}}}},e.prototype.dispose=function(){this.disposables.dispose()},e}();function hA(e){return s["e"]?e.browserEvent.metaKey:e.browserEvent.ctrlKey}function dA(e){return e.browserEvent.shiftKey}function pA(e){return e instanceof MouseEvent&&2===e.button}var fA={isSelectionSingleChangeEvent:hA,isSelectionRangeChangeEvent:dA},gA={shouldOpen:function(e){return!(e instanceof MouseEvent)||!pA(e)}},mA=function(){function e(e){this.list=e,this.disposables=new Re,this.multipleSelectionSupport=!(!1===e.options.multipleSelectionSupport),this.multipleSelectionSupport&&(this.multipleSelectionController=e.options.multipleSelectionController||fA),this.openController=e.options.openController||gA,this.mouseSupport="undefined"===typeof e.options.mouseSupport||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add($m.addTarget(e.getHTMLElement()))),e.onMouseClick(this.onPointer,this,this.disposables),e.onMouseMiddleClick(this.onPointer,this,this.disposables),e.onTap(this.onPointer,this,this.disposables)}return e.prototype.isSelectionSingleChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):s["e"]?e.browserEvent.metaKey:e.browserEvent.ctrlKey},e.prototype.isSelectionRangeChangeEvent=function(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):e.browserEvent.shiftKey},e.prototype.isSelectionChangeEvent=function(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)},e.prototype.onMouseDown=function(e){document.activeElement!==e.browserEvent.target&&this.list.domFocus()},e.prototype.onContextMenu=function(e){var t="undefined"===typeof e.index?[]:[e.index];this.list.setFocus(t,e.browserEvent)},e.prototype.onPointer=function(e){if(this.mouseSupport&&!rA(e.browserEvent.target)){var t=this.list.getFocus()[0],n=this.list.getSelection();t=void 0===t?n[0]:t;var i=e.index;if("undefined"===typeof i)return this.list.setFocus([],e.browserEvent),void this.list.setSelection([],e.browserEvent);if(this.multipleSelectionSupport&&this.isSelectionRangeChangeEvent(e))return this.changeSelection(e,t);if(this.multipleSelectionSupport&&this.isSelectionChangeEvent(e))return this.changeSelection(e,t);this.list.setFocus([i],e.browserEvent),pA(e.browserEvent)||(this.list.setSelection([i],e.browserEvent),this.openController.shouldOpen(e.browserEvent)&&this.list.open([i],e.browserEvent))}},e.prototype.onDoubleClick=function(e){if(!rA(e.browserEvent.target)&&(!this.multipleSelectionSupport||!this.isSelectionChangeEvent(e))){var t=this.list.getFocus();this.list.setSelection(t,e.browserEvent),this.list.pin(t)}},e.prototype.changeSelection=function(e,t){var n=e.index;if(this.isSelectionRangeChangeEvent(e)&&void 0!==t){var i=Math.min(t,n),o=Math.max(t,n),r=qi(i,o+1),s=this.list.getSelection(),a=bA(wA(s,[t]),t);if(0===a.length)return;var l=wA(r,CA(s,a));this.list.setSelection(l,e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){s=this.list.getSelection(),l=s.filter((function(e){return e!==n}));this.list.setFocus([n]),s.length===l.length?this.list.setSelection(eA(l,[n]),e.browserEvent):this.list.setSelection(l,e.browserEvent)}},e.prototype.dispose=function(){this.disposables.dispose()},e}(),_A=function(){function e(e,t){this.styleElement=e,this.selectorSuffix=t}return e.prototype.style=function(e){var t=this.selectorSuffix&&"."+this.selectorSuffix,n=[];e.listBackground&&(e.listBackground.isOpaque()?n.push(".monaco-list"+t+" .monaco-list-rows { background: "+e.listBackground+"; }"):s["e"]||console.warn("List with id '"+this.selectorSuffix+"' was styled with a non-opaque background color. This will break sub-pixel antialiasing.")),e.listFocusBackground&&(n.push(".monaco-list"+t+":focus .monaco-list-row.focused { background-color: "+e.listFocusBackground+"; }"),n.push(".monaco-list"+t+":focus .monaco-list-row.focused:hover { background-color: "+e.listFocusBackground+"; }")),e.listFocusForeground&&n.push(".monaco-list"+t+":focus .monaco-list-row.focused { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&(n.push(".monaco-list"+t+":focus .monaco-list-row.selected { background-color: "+e.listActiveSelectionBackground+"; }"),n.push(".monaco-list"+t+":focus .monaco-list-row.selected:hover { background-color: "+e.listActiveSelectionBackground+"; }")),e.listActiveSelectionForeground&&n.push(".monaco-list"+t+":focus .monaco-list-row.selected { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&n.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list"+t+":focus .monaco-list-row.selected.focused { background-color: "+e.listFocusAndSelectionBackground+"; }\n\t\t\t"),e.listFocusAndSelectionForeground&&n.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list"+t+":focus .monaco-list-row.selected.focused { color: "+e.listFocusAndSelectionForeground+"; }\n\t\t\t"),e.listInactiveFocusBackground&&(n.push(".monaco-list"+t+" .monaco-list-row.focused { background-color:  "+e.listInactiveFocusBackground+"; }"),n.push(".monaco-list"+t+" .monaco-list-row.focused:hover { background-color:  "+e.listInactiveFocusBackground+"; }")),e.listInactiveSelectionBackground&&(n.push(".monaco-list"+t+" .monaco-list-row.selected { background-color:  "+e.listInactiveSelectionBackground+"; }"),n.push(".monaco-list"+t+" .monaco-list-row.selected:hover { background-color:  "+e.listInactiveSelectionBackground+"; }")),e.listInactiveSelectionForeground&&n.push(".monaco-list"+t+" .monaco-list-row.selected { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&n.push(".monaco-list"+t+":not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color:  "+e.listHoverBackground+"; }"),e.listHoverForeground&&n.push(".monaco-list"+t+" .monaco-list-row:hover:not(.selected):not(.focused) { color:  "+e.listHoverForeground+"; }"),e.listSelectionOutline&&n.push(".monaco-list"+t+" .monaco-list-row.selected { outline: 1px dotted "+e.listSelectionOutline+"; outline-offset: -1px; }"),e.listFocusOutline&&n.push("\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list"+t+":focus .monaco-list-row.focused { outline: 1px solid "+e.listFocusOutline+"; outline-offset: -1px; }\n\t\t\t"),e.listInactiveFocusOutline&&n.push(".monaco-list"+t+" .monaco-list-row.focused { outline: 1px dotted "+e.listInactiveFocusOutline+"; outline-offset: -1px; }"),e.listHoverOutline&&n.push(".monaco-list"+t+" .monaco-list-row:hover { outline: 1px dashed "+e.listHoverOutline+"; outline-offset: -1px; }"),e.listDropBackground&&n.push("\n\t\t\t\t.monaco-list"+t+".drop-target,\n\t\t\t\t.monaco-list"+t+" .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list"+t+" .monaco-list-row.drop-target { background-color: "+e.listDropBackground+" !important; color: inherit !important; }\n\t\t\t"),e.listFilterWidgetBackground&&n.push(".monaco-list-type-filter { background-color: "+e.listFilterWidgetBackground+" }"),e.listFilterWidgetOutline&&n.push(".monaco-list-type-filter { border: 1px solid "+e.listFilterWidgetOutline+"; }"),e.listFilterWidgetNoMatchesOutline&&n.push(".monaco-list-type-filter.no-matches { border: 1px solid "+e.listFilterWidgetNoMatchesOutline+"; }"),e.listMatchesShadow&&n.push(".monaco-list-type-filter { box-shadow: 1px 1px 1px "+e.listMatchesShadow+"; }");var i=n.join("\n");i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},e}(),vA={listFocusBackground:My.fromHex("#7FB0D0"),listActiveSelectionBackground:My.fromHex("#0E639C"),listActiveSelectionForeground:My.fromHex("#FFFFFF"),listFocusAndSelectionBackground:My.fromHex("#094771"),listFocusAndSelectionForeground:My.fromHex("#FFFFFF"),listInactiveSelectionBackground:My.fromHex("#3F3F46"),listHoverBackground:My.fromHex("#2A2D2E"),listDropBackground:My.fromHex("#383B3D"),treeIndentGuidesStroke:My.fromHex("#a9a9a9")},yA={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:function(){return null},onDragStart:function(){},onDragOver:function(){return!1},drop:function(){}},ariaRootRole:TN.TREE};function bA(e,t){var n=e.indexOf(t);if(-1===n)return[];var i=[],o=n-1;while(o>=0&&e[o]===t-(n-o))i.push(e[o--]);i.reverse(),o=n;while(o<e.length&&e[o]===t+(o-n))i.push(e[o++]);return i}function wA(e,t){var n=[],i=0,o=0;while(i<e.length||o<t.length)if(i>=e.length)n.push(t[o++]);else if(o>=t.length)n.push(e[i++]);else{if(e[i]===t[o]){n.push(e[i]),i++,o++;continue}e[i]<t[o]?n.push(e[i++]):n.push(t[o++])}return n}function CA(e,t){var n=[],i=0,o=0;while(i<e.length||o<t.length)if(i>=e.length)n.push(t[o++]);else if(o>=t.length)n.push(e[i++]);else{if(e[i]===t[o]){i++,o++;continue}e[i]<t[o]?n.push(e[i++]):o++}return n}var SA=function(e,t){return e-t},EA=function(){function e(e,t){this._templateId=e,this.renderers=t}return Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){return this.renderers.map((function(t){return t.renderTemplate(e)}))},e.prototype.renderElement=function(e,t,n,i){for(var o=0,r=0,s=this.renderers;r<s.length;r++){var a=s[r];a.renderElement(e,t,n[o++],i)}},e.prototype.disposeElement=function(e,t,n,i){for(var o=0,r=0,s=this.renderers;r<s.length;r++){var a=s[r];a.disposeElement&&a.disposeElement(e,t,n[o],i),o+=1}},e.prototype.disposeTemplate=function(e){for(var t=0,n=0,i=this.renderers;n<i.length;n++){var o=i[n];o.disposeTemplate(e[t++])}},e}(),TA=function(){function e(e){this.accessibilityProvider=e,this.templateId="a18n"}return e.prototype.renderTemplate=function(e){return e},e.prototype.renderElement=function(e,t,n){var i=this.accessibilityProvider.getAriaLabel(e);i?n.setAttribute("aria-label",i):n.removeAttribute("aria-label");var o=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);"number"===typeof o?n.setAttribute("aria-level",""+o):n.removeAttribute("aria-level")},e.prototype.disposeTemplate=function(e){},e}(),kA=function(){function e(e,t){this.list=e,this.dnd=t}return e.prototype.getDragElements=function(e){var t=this.list.getSelectedElements(),n=t.indexOf(e)>-1?t:[e];return n},e.prototype.getDragURI=function(e){return this.dnd.getDragURI(e)},e.prototype.getDragLabel=function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,t)},e.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(e,t)},e.prototype.onDragOver=function(e,t,n,i){return this.dnd.onDragOver(e,t,n,i)},e.prototype.onDragEnd=function(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)},e.prototype.drop=function(e,t,n,i){this.dnd.drop(e,t,n,i)},e}(),xA=function(){function e(e,t,n,i,o){void 0===o&&(o=yA),this.user=e,this._options=o,this.eventBufferer=new et,this.disposables=new Re,this._onDidOpen=new Ze,this.onDidOpen=this._onDidOpen.event,this._onDidPin=new Ze,this.didJustPressContextMenuKey=!1,this._onDidDispose=new Ze,this.onDidDispose=this._onDidDispose.event,this.focus=new iA,this.selection=new nA("selected"),gl(o,vA,!1);var s=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(s.push(new TA(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant&&this.accessibilityProvider.onDidChangeActiveDescendant(this.onDidChangeActiveDescendant,this,this.disposables)),i=i.map((function(e){return new EA(e.templateId,eA(s,[e]))}));var a=JR(JR({},o),{dnd:o.dnd&&new kA(this,o.dnd)});if(this.view=new JN(t,n,i,a),"string"!==typeof o.ariaRole?this.view.domNode.setAttribute("role",TN.TREE):this.view.domNode.setAttribute("role",o.ariaRole),o.styleController)this.styleController=o.styleController(this.view.domId);else{var l=er(this.view.domNode);this.styleController=new _A(l,this.view.domId)}if(this.spliceable=new QN([new oA(this.focus,this.view,o.identityProvider),new oA(this.selection,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.onDidFocus=$e.map(Zn(this.view.domNode,"focus",!0),(function(){return null})),this.onDidBlur=$e.map(Zn(this.view.domNode,"blur",!0),(function(){return null})),this.disposables.add(new cA(this,this.view)),"boolean"!==typeof o.keyboardSupport||o.keyboardSupport){var u=new aA(this,this.view,o);this.disposables.add(u)}if(o.keyboardNavigationLabelProvider){var c=o.keyboardNavigationDelegate||lA;this.typeLabelController=new uA(this,this.view,o.keyboardNavigationLabelProvider,c),this.disposables.add(this.typeLabelController)}this.disposables.add(this.createMouseController(o)),this.onFocusChange(this._onFocusChange,this,this.disposables),this.onSelectionChange(this._onSelectionChange,this,this.disposables),o.ariaLabel&&this.view.domNode.setAttribute("aria-label",r("aria list","{0}. Use the navigation keys to navigate.",o.ariaLabel))}return Object.defineProperty(e.prototype,"onFocusChange",{get:function(){var e=this;return $e.map(this.eventBufferer.wrapEvent(this.focus.onChange),(function(t){return e.toListEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onSelectionChange",{get:function(){var e=this;return $e.map(this.eventBufferer.wrapEvent(this.selection.onChange),(function(t){return e.toListEvent(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"domId",{get:function(){return this.view.domId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseClick",{get:function(){return this.view.onMouseClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDblClick",{get:function(){return this.view.onMouseDblClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseMiddleClick",{get:function(){return this.view.onMouseMiddleClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMouseDown",{get:function(){return this.view.onMouseDown},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTouchStart",{get:function(){return this.view.onTouchStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onTap",{get:function(){return this.view.onTap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onContextMenu",{get:function(){var e=this,t=$e.chain(Zn(this.view.domNode,"keydown")).map((function(e){return new si(e)})).filter((function(t){return e.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode})).filter((function(e){return e.preventDefault(),e.stopPropagation(),!1})).event,n=$e.chain(Zn(this.view.domNode,"keyup")).filter((function(){var t=e.didJustPressContextMenuKey;return e.didJustPressContextMenuKey=!1,t})).filter((function(){return e.getFocus().length>0&&!!e.view.domElement(e.getFocus()[0])})).map((function(t){var n=e.getFocus()[0],i=e.view.element(n),o=e.view.domElement(n);return{index:n,element:i,anchor:o,browserEvent:t}})).event,i=$e.chain(this.view.onContextMenu).filter((function(){return!e.didJustPressContextMenuKey})).map((function(e){var t=e.element,n=e.index,i=e.browserEvent;return{element:t,index:n,anchor:{x:i.clientX+1,y:i.clientY},browserEvent:i}})).event;return $e.any(t,n,i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onKeyDown",{get:function(){return Zn(this.view.domNode,"keydown")},enumerable:!0,configurable:!0}),e.prototype.createMouseController=function(e){return new mA(this)},e.prototype.updateOptions=function(e){void 0===e&&(e={}),this._options=JR(JR({},this._options),e),this.typeLabelController&&this.typeLabelController.updateOptions(this._options)},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.splice=function(e,t,n){var i=this;if(void 0===n&&(n=[]),e<0||e>this.view.length)throw new FN(this.user,"Invalid start index: "+e);if(t<0)throw new FN(this.user,"Invalid delete count: "+t);0===t&&0===n.length||this.eventBufferer.bufferEvents((function(){return i.spliceable.splice(e,t,n)}))},e.prototype.rerender=function(){this.view.rerender()},e.prototype.element=function(e){return this.view.element(e)},Object.defineProperty(e.prototype,"length",{get:function(){return this.view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contentHeight",{get:function(){return this.view.contentHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.view.getScrollTop()},set:function(e){this.view.setScrollTop(e)},enumerable:!0,configurable:!0}),e.prototype.domFocus=function(){this.view.domNode.focus()},e.prototype.layout=function(e,t){this.view.layout(e,t)},e.prototype.setSelection=function(e,t){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o<0||o>=this.length)throw new FN(this.user,"Invalid index "+o)}this.selection.set(e,t)},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.getSelectedElements=function(){var e=this;return this.getSelection().map((function(t){return e.view.element(t)}))},e.prototype.setFocus=function(e,t){for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o<0||o>=this.length)throw new FN(this.user,"Invalid index "+o)}this.focus.set(e,t)},e.prototype.focusNext=function(e,t,n,i){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,t,i);r>-1&&this.setFocus([r],n)}},e.prototype.focusPrevious=function(e,t,n,i){if(void 0===e&&(e=1),void 0===t&&(t=!1),0!==this.length){var o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,t,i);r>-1&&this.setFocus([r],n)}},e.prototype.focusNextPage=function(e,t){var n=this,i=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);i=0===i?0:i-1;var o=this.view.element(i),r=this.getFocusedElements()[0];if(r!==o){var s=this.findPreviousIndex(i,!1,t);s>-1&&r!==this.view.element(s)?this.setFocus([s],e):this.setFocus([i],e)}else{var a=this.view.getScrollTop();this.view.setScrollTop(a+this.view.renderHeight-this.view.elementHeight(i)),this.view.getScrollTop()!==a&&setTimeout((function(){return n.focusNextPage(e,t)}),0)}},e.prototype.focusPreviousPage=function(e,t){var n,i=this,o=this.view.getScrollTop();n=0===o?this.view.indexAt(o):this.view.indexAfter(o-1);var r=this.view.element(n),s=this.getFocusedElements()[0];if(s!==r){var a=this.findNextIndex(n,!1,t);a>-1&&s!==this.view.element(a)?this.setFocus([a],e):this.setFocus([n],e)}else{var l=o;this.view.setScrollTop(o-this.view.renderHeight),this.view.getScrollTop()!==l&&setTimeout((function(){return i.focusPreviousPage(e,t)}),0)}},e.prototype.focusLast=function(e,t){if(0!==this.length){var n=this.findPreviousIndex(this.length-1,!1,t);n>-1&&this.setFocus([n],e)}},e.prototype.focusFirst=function(e,t){if(0!==this.length){var n=this.findNextIndex(0,!1,t);n>-1&&this.setFocus([n],e)}},e.prototype.findNextIndex=function(e,t,n){void 0===t&&(t=!1);for(var i=0;i<this.length;i++){if(e>=this.length&&!t)return-1;if(e%=this.length,!n||n(this.element(e)))return e;e++}return-1},e.prototype.findPreviousIndex=function(e,t,n){void 0===t&&(t=!1);for(var i=0;i<this.length;i++){if(e<0&&!t)return-1;if(e=(this.length+e%this.length)%this.length,!n||n(this.element(e)))return e;e--}return-1},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.getFocusedElements=function(){var e=this;return this.getFocus().map((function(t){return e.view.element(t)}))},e.prototype.reveal=function(e,t){if(e<0||e>=this.length)throw new FN(this.user,"Invalid index "+e);var n=this.view.getScrollTop(),i=this.view.elementTop(e),o=this.view.elementHeight(e);if(wa(t)){var r=o-this.view.renderHeight;this.view.setScrollTop(r*eR(t,0,1)+i)}else{var s=i+o,a=n+this.view.renderHeight;i<n&&s>=a||(i<n?this.view.setScrollTop(i):s>=a&&this.view.setScrollTop(s-this.view.renderHeight))}},e.prototype.getRelativeTop=function(e){if(e<0||e>=this.length)throw new FN(this.user,"Invalid index "+e);var t=this.view.getScrollTop(),n=this.view.elementTop(e),i=this.view.elementHeight(e);if(n<t||n+i>t+this.view.renderHeight)return null;var o=i-this.view.renderHeight;return Math.abs((t-n)/o)},e.prototype.getHTMLElement=function(){return this.view.domNode},e.prototype.open=function(e,t){for(var n=this,i=0,o=e;i<o.length;i++){var r=o[i];if(r<0||r>=this.length)throw new FN(this.user,"Invalid index "+r)}this._onDidOpen.fire({indexes:e,elements:e.map((function(e){return n.view.element(e)})),browserEvent:t})},e.prototype.pin=function(e,t){for(var n=this,i=0,o=e;i<o.length;i++){var r=o[i];if(r<0||r>=this.length)throw new FN(this.user,"Invalid index "+r)}this._onDidPin.fire({indexes:e,elements:e.map((function(e){return n.view.element(e)})),browserEvent:t})},e.prototype.style=function(e){this.styleController.style(e)},e.prototype.toListEvent=function(e){var t=this,n=e.indexes,i=e.browserEvent;return{indexes:n,elements:n.map((function(e){return t.view.element(e)})),browserEvent:i}},e.prototype._onFocusChange=function(){var e=this.focus.get();vo(this.view.domNode,"element-focused",e.length>0),this.onDidChangeActiveDescendant()},e.prototype.onDidChangeActiveDescendant=function(){var e,t=this.focus.get();if(t.length>0){var n=void 0;(null===(e=this.accessibilityProvider)||void 0===e?void 0:e.getActiveDescendantId)&&(n=this.accessibilityProvider.getActiveDescendantId(this.view.element(t[0]))),this.view.domNode.setAttribute("aria-activedescendant",n||this.view.getElementDomId(t[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")},e.prototype._onSelectionChange=function(){var e=this.selection.get();vo(this.view.domNode,"selection-none",0===e.length),vo(this.view.domNode,"selection-single",1===e.length),vo(this.view.domNode,"selection-multiple",e.length>1)},e.prototype.dispose=function(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidOpen.dispose(),this._onDidPin.dispose(),this._onDidDispose.dispose()},QR([Fm],e.prototype,"onFocusChange",null),QR([Fm],e.prototype,"onSelectionChange",null),QR([Fm],e.prototype,"onContextMenu",null),e}(),LA="inputFocus",IA=(n("d95f"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),OA=function(e){function t(t,n){return e.call(this,"TreeError ["+t+"] "+n)||this}return IA(t,e),t}(Error),DA=function(){function e(e){this.fn=e,this._map=new WeakMap}return e.prototype.map=function(e){var t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t},e}(),NA=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i};function RA(e){return"object"===typeof e&&"visibility"in e&&"data"in e}function AA(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function MA(e){return"boolean"===typeof e.collapsible}var PA=function(){function e(e,t,n,i){void 0===i&&(i={}),this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new et,this._onDidChangeCollapseState=new Ze,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new Ze,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new Ze,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault="undefined"!==typeof i.collapseByDefault&&i.collapseByDefault,this.filter=i.filter,this.autoExpandSingleChildren="undefined"!==typeof i.autoExpandSingleChildren&&i.autoExpandSingleChildren,this.root={parent:void 0,element:n,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visible:!0,filterData:void 0}}return e.prototype.splice=function(e,t,n,i,o){var r,s=this;if(0===e.length)throw new OA(this.user,"Invalid tree location");for(var a=this.getParentNodeWithListIndex(e),l=a.parentNode,u=a.listIndex,c=a.revealed,h=a.visible,d=[],p=Ne.map(Ne.from(n),(function(e){return s.createTreeNode(e,l,l.visible?1:0,c,d,i)})),f=e[e.length-1],g=0,m=f;m>=0&&m<l.children.length;m--){var _=l.children[m];if(_.visible){g=_.visibleChildIndex;break}}var v=[],y=0,b=0;Ne.forEach(p,(function(e){v.push(e),b+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=g+y++)}));for(var w=(r=l.children).splice.apply(r,NA([f,t],v)),C=0,S=0,E=w;S<E.length;S++){_=E[S];_.visible&&C++}if(0!==C)for(m=f+v.length;m<l.children.length;m++){_=l.children[m];_.visible&&(_.visibleChildIndex-=C)}if(l.visibleChildrenCount+=y-C,c&&h){var T=w.reduce((function(e,t){return e+(t.visible?t.renderNodeCount:0)}),0);this._updateAncestorsRenderNodeCount(l,b-T),this.list.splice(u,T,d)}if(w.length>0&&o){var k=function(e){o(e),e.children.forEach(k)};w.forEach(k)}this._onDidSplice.fire({insertedNodes:v,deletedNodes:w})},e.prototype.rerender=function(e){if(0===e.length)throw new OA(this.user,"Invalid tree location");var t=this.getTreeNodeWithListIndex(e),n=t.node,i=t.listIndex,o=t.revealed;o&&this.list.splice(i,1,[n])},e.prototype.has=function(e){return this.hasTreeNode(e)},e.prototype.getListIndex=function(e){var t=this.getTreeNodeWithListIndex(e),n=t.listIndex,i=t.visible,o=t.revealed;return i&&o?n:-1},e.prototype.getListRenderCount=function(e){return this.getTreeNode(e).renderNodeCount},e.prototype.isCollapsible=function(e){return this.getTreeNode(e).collapsible},e.prototype.setCollapsible=function(e,t){var n=this,i=this.getTreeNode(e);"undefined"===typeof t&&(t=!i.collapsible);var o={collapsible:t};return this.eventBufferer.bufferEvents((function(){return n._setCollapseState(e,o)}))},e.prototype.isCollapsed=function(e){return this.getTreeNode(e).collapsed},e.prototype.setCollapsed=function(e,t,n){var i=this,o=this.getTreeNode(e);"undefined"===typeof t&&(t=!o.collapsed);var r={collapsed:t,recursive:n||!1};return this.eventBufferer.bufferEvents((function(){return i._setCollapseState(e,r)}))},e.prototype._setCollapseState=function(e,t){var n=this.getTreeNodeWithListIndex(e),i=n.node,o=n.listIndex,r=n.revealed,s=this._setListNodeCollapseState(i,o,r,t);if(i!==this.root&&this.autoExpandSingleChildren&&s&&!MA(t)&&i.collapsible&&!i.collapsed&&!t.recursive){for(var a=-1,l=0;l<i.children.length;l++){var u=i.children[l];if(u.visible){if(a>-1){a=-1;break}a=l}}a>-1&&this._setCollapseState(NA(e,[a]),t)}return s},e.prototype._setListNodeCollapseState=function(e,t,n,i){var o=this._setNodeCollapseState(e,i,!1);if(!n||!e.visible||!o)return o;var r=e.renderNodeCount,s=this.updateNodeAfterCollapseChange(e),a=r-(-1===t?0:1);return this.list.splice(t+1,a,s.slice(1)),o},e.prototype._setNodeCollapseState=function(e,t,n){var i;if(e===this.root?i=!1:(MA(t)?(i=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(i=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):i=!1,i&&this._onDidChangeCollapseState.fire({node:e,deep:n})),!MA(t)&&t.recursive)for(var o=0,r=e.children;o<r.length;o++){var s=r[o];i=this._setNodeCollapseState(s,t,!0)||i}return i},e.prototype.expandTo=function(e){var t=this;this.eventBufferer.bufferEvents((function(){var n=t.getTreeNode(e);while(n.parent)n=n.parent,e=e.slice(0,e.length-1),n.collapsed&&t._setCollapseState(e,{collapsed:!1,recursive:!1})}))},e.prototype.refilter=function(){var e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)},e.prototype.createTreeNode=function(e,t,n,i,o,r){var s=this,a={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"===typeof e.collapsible?e.collapsible:"undefined"!==typeof e.collapsed,collapsed:"undefined"===typeof e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visible:!0,filterData:void 0},l=this._filterNode(a,n);i&&o.push(a);var u=Ne.from(e.children),c=i&&0!==l&&!a.collapsed,h=Ne.map(u,(function(e){return s.createTreeNode(e,a,l,c,o,r)})),d=0,p=1;return Ne.forEach(h,(function(e){a.children.push(e),p+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=d++)})),a.collapsible=a.collapsible||a.children.length>0,a.visibleChildrenCount=d,a.visible=2===l?d>0:1===l,a.visible?a.collapsed||(a.renderNodeCount=p):(a.renderNodeCount=0,i&&o.pop()),r&&r(a),a},e.prototype.updateNodeAfterCollapseChange=function(e){var t=e.renderNodeCount,n=[];return this._updateNodeAfterCollapseChange(e,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n},e.prototype._updateNodeAfterCollapseChange=function(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(var n=0,i=e.children;n<i.length;n++){var o=i[n];e.renderNodeCount+=this._updateNodeAfterCollapseChange(o,t)}return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount},e.prototype.updateNodeAfterFilterChange=function(e){var t=e.renderNodeCount,n=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,n),this._updateAncestorsRenderNodeCount(e.parent,n.length-t),n},e.prototype._updateNodeAfterFilterChange=function(e,t,n,i){var o;if(void 0===i&&(i=!0),e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;i&&n.push(e)}var r=n.length;e.renderNodeCount=e===this.root?0:1;var s=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{for(var a=0,l=0,u=e.children;l<u.length;l++){var c=u[l];s=this._updateNodeAfterFilterChange(c,o,n,i&&!e.collapsed)||s,c.visible&&(c.visibleChildIndex=a++)}e.visibleChildrenCount=a}return e!==this.root&&(e.visible=2===o?s:1===o),e.visible?e.collapsed||(e.renderNodeCount+=n.length-r):(e.renderNodeCount=0,i&&n.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible},e.prototype._updateAncestorsRenderNodeCount=function(e,t){if(0!==t)while(e)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent},e.prototype._filterNode=function(e,t){var n=this.filter?this.filter.filter(e.element,t):1;return"boolean"===typeof n?(e.filterData=void 0,n?1:0):RA(n)?(e.filterData=n.data,AA(n.visibility)):(e.filterData=void 0,AA(n))},e.prototype.hasTreeNode=function(e,t){if(void 0===t&&(t=this.root),!e||0===e.length)return!0;var n=e[0],i=e.slice(1);return!(n<0||n>t.children.length)&&this.hasTreeNode(i,t.children[n])},e.prototype.getTreeNode=function(e,t){if(void 0===t&&(t=this.root),!e||0===e.length)return t;var n=e[0],i=e.slice(1);if(n<0||n>t.children.length)throw new OA(this.user,"Invalid tree location");return this.getTreeNode(i,t.children[n])},e.prototype.getTreeNodeWithListIndex=function(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};var t=this.getParentNodeWithListIndex(e),n=t.parentNode,i=t.listIndex,o=t.revealed,r=t.visible,s=e[e.length-1];if(s<0||s>n.children.length)throw new OA(this.user,"Invalid tree location");var a=n.children[s];return{node:a,listIndex:i,revealed:o,visible:r&&a.visible}},e.prototype.getParentNodeWithListIndex=function(e,t,n,i,o){void 0===t&&(t=this.root),void 0===n&&(n=0),void 0===i&&(i=!0),void 0===o&&(o=!0);var r=e[0],s=e.slice(1);if(r<0||r>t.children.length)throw new OA(this.user,"Invalid tree location");for(var a=0;a<r;a++)n+=t.children[a].renderNodeCount;return i=i&&!t.collapsed,o=o&&t.visible,0===s.length?{parentNode:t,listIndex:n,revealed:i,visible:o}:this.getParentNodeWithListIndex(s,t.children[r],n+1,i,o)},e.prototype.getNode=function(e){return void 0===e&&(e=[]),this.getTreeNode(e)},e.prototype.getNodeLocation=function(e){var t=[],n=e;while(n.parent)t.push(n.parent.children.indexOf(n)),n=n.parent;return t.reverse()},e.prototype.getParentNodeLocation=function(e){return 0===e.length?void 0:1===e.length?[]:Oi(e)[0]},e}(),FA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),BA=function(){return BA=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},BA.apply(this,arguments)},VA=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},HA=function(e){function t(t){var n=e.call(this,t.elements.map((function(e){return e.element})))||this;return n.data=t,n}return FA(t,e),t}(qN);function $A(e){return e instanceof qN?new HA(e):e}var WA=function(){function e(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=Ae.None}return e.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},e.prototype.getDragLabel=function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)},e.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart($A(e),t)},e.prototype.onDragOver=function(e,t,n,i,o){var r=this;void 0===o&&(o=!0);var s=this.dnd.onDragOver($A(e),t&&t.element,n,i),a=this.autoExpandNode!==t;if(a&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),"undefined"===typeof t)return s;if(a&&"boolean"!==typeof s&&s.autoExpand&&(this.autoExpandDisposable=wi((function(){var e=r.modelProvider(),n=e.getNodeLocation(t);e.isCollapsed(n)&&e.setCollapsed(n,!1),r.autoExpandNode=void 0}),500)),"boolean"===typeof s||!s.accept||"undefined"===typeof s.bubble||s.feedback){if(!o){var l="boolean"===typeof s?s:s.accept,u="boolean"===typeof s?void 0:s.effect;return{accept:l,effect:u,feedback:[n]}}return s}if(1===s.bubble){var c=this.modelProvider(),h=c.getNodeLocation(t),d=c.getParentNodeLocation(h),p=c.getNode(d),f=d&&c.getListIndex(d);return this.onDragOver(e,p,f,i,!1)}var g=this.modelProvider(),m=g.getNodeLocation(t),_=g.getListIndex(m),v=g.getListRenderCount(m);return BA(BA({},s),{feedback:qi(_,_+v)})},e.prototype.drop=function(e,t,n,i){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop($A(e),t&&t.element,n,i)},e.prototype.onDragEnd=function(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)},e}();function UA(e,t){return t&&BA(BA({},t),{identityProvider:t.identityProvider&&{getId:function(e){return t.identityProvider.getId(e.element)}},dnd:t.dnd&&new WA(e,t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent:function(e){return t.multipleSelectionController.isSelectionSingleChangeEvent(BA(BA({},e),{element:e.element}))},isSelectionRangeChangeEvent:function(e){return t.multipleSelectionController.isSelectionRangeChangeEvent(BA(BA({},e),{element:e.element}))}},accessibilityProvider:t.accessibilityProvider&&BA(BA({},t.accessibilityProvider),{getAriaLabel:function(e){return t.accessibilityProvider.getAriaLabel(e.element)},getAriaLevel:function(e){return e.depth},getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&function(e){return t.accessibilityProvider.getActiveDescendantId(e.element)}}),keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&BA(BA({},t.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}}),enableKeyboardNavigation:t.simpleKeyboardNavigation,ariaProvider:{getSetSize:function(t){var n=e(),i=n.getNodeLocation(t),o=n.getParentNodeLocation(i),r=n.getNode(o);return r.visibleChildrenCount},getPosInSet:function(e){return e.visibleChildIndex+1},isChecked:t.ariaProvider&&t.ariaProvider.isChecked?function(e){return t.ariaProvider.isChecked(e.element)}:void 0,getRole:t.ariaProvider&&t.ariaProvider.getRole?function(e){return t.ariaProvider.getRole(e.element)}:void 0}})}var zA,jA=function(){function e(e){this.delegate=e}return e.prototype.getHeight=function(e){return this.delegate.getHeight(e.element)},e.prototype.getTemplateId=function(e){return this.delegate.getTemplateId(e.element)},e.prototype.hasDynamicHeight=function(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)},e.prototype.setDynamicHeight=function(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)},e}();(function(e){e["None"]="none",e["OnHover"]="onHover",e["Always"]="always"})(zA||(zA={}));var GA=function(){function e(e,t){var n=this;void 0===t&&(t=[]),this._elements=t,this.onDidChange=$e.forEach(e,(function(e){return n._elements=e}))}return Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),e}(),KA=function(){function e(t,n,i,o,r){void 0===r&&(r={}),this.renderer=t,this.modelProvider=n,this.activeNodes=o,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=e.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new Fp,this.activeIndentNodes=new Set,this.indentGuidesDisposable=Ae.None,this.disposables=new Re,this.templateId=t.templateId,this.updateOptions(r),$e.map(i,(function(e){return e.node}))(this.onDidChangeNodeTwistieState,this,this.disposables),t.onDidChangeTwistieState&&t.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}return e.prototype.updateOptions=function(e){if(void 0===e&&(e={}),"undefined"!==typeof e.indent&&(this.indent=eR(e.indent,0,40)),"undefined"!==typeof e.renderIndentGuides){var t=e.renderIndentGuides!==zA.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){var n=new Re;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,n),this.indentGuidesDisposable=n,this._onDidChangeActiveNodes(this.activeNodes.elements)}}"undefined"!==typeof e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)},e.prototype.renderTemplate=function(e){var t=pr(e,_r(".monaco-tl-row")),n=pr(t,_r(".monaco-tl-indent")),i=pr(t,_r(".monaco-tl-twistie")),o=pr(t,_r(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:n,twistie:i,indentGuidesDisposable:Ae.None,templateData:r}},e.prototype.renderElement=function(t,n,i,o){"number"===typeof o&&(this.renderedNodes.set(t,{templateData:i,height:o}),this.renderedElements.set(t.element,t));var r=e.DefaultIndent+(t.depth-1)*this.indent;i.twistie.style.paddingLeft=r+"px",i.indent.style.width=r+this.indent-16+"px",this.renderTwistie(t,i),"number"===typeof o&&this.renderIndentGuides(t,i),this.renderer.renderElement(t,n,i.templateData,o)},e.prototype.disposeElement=function(e,t,n,i){n.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.templateData,i),"number"===typeof i&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},e.prototype.onDidChangeTwistieState=function(e){var t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)},e.prototype.onDidChangeNodeTwistieState=function(e){var t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))},e.prototype.renderTwistie=function(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e.element,t.twistie),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(go(t.twistie,"codicon","codicon-chevron-down","collapsible"),vo(t.twistie,"collapsed",e.collapsed)):_o(t.twistie,"codicon","codicon-chevron-down","collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")},e.prototype.renderIndentGuides=function(e,t){var n=this;if(so(t.indent),t.indentGuidesDisposable.dispose(),this.shouldRenderIndentGuides){var i=new Re,o=this.modelProvider(),r=e,s=function(){var e=o.getNodeLocation(r),s=o.getParentNodeLocation(e);if(!s)return"break";var l=o.getNode(s),u=_r(".indent-guide",{style:"width: "+a.indent+"px"});a.activeIndentNodes.has(l)&&fo(u,"active"),0===t.indent.childElementCount?t.indent.appendChild(u):t.indent.insertBefore(u,t.indent.firstElementChild),a.renderedIndentGuides.add(l,u),i.add(De((function(){return n.renderedIndentGuides.delete(l,u)}))),r=l},a=this;while(1){var l=s();if("break"===l)break}t.indentGuidesDisposable=i}},e.prototype._onDidChangeActiveNodes=function(e){var t=this;if(this.shouldRenderIndentGuides){var n=new Set,i=this.modelProvider();e.forEach((function(e){var t=i.getNodeLocation(e);try{var o=i.getParentNodeLocation(t);e.collapsible&&e.children.length>0&&!e.collapsed?n.add(e):o&&n.add(i.getNode(o))}catch(r){}})),this.activeIndentNodes.forEach((function(e){n.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return mo(e,"active")}))})),n.forEach((function(e){t.activeIndentNodes.has(e)||t.renderedIndentGuides.forEach(e,(function(e){return fo(e,"active")}))})),this.activeIndentNodes=n}},e.prototype.dispose=function(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),Ie(this.disposables)},e.DefaultIndent=8,e}(),qA=function(){function e(e,t,n){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=n,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new Re,e.onWillRefilter(this.reset,this,this.disposables)}return Object.defineProperty(e.prototype,"totalCount",{get:function(){return this._totalCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"matchCount",{get:function(){return this._matchCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{set:function(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()},enumerable:!0,configurable:!0}),e.prototype.filter=function(e,t){if(this._filter){var n=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return n;var i=void 0;if(i="boolean"===typeof n?n?1:0:RA(n)?AA(n.visibility):n,0===i)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:IR.Default,visibility:!0};var o=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),r=o&&o.toString();if("undefined"===typeof r)return{data:IR.Default,visibility:!0};var s=HR(this._pattern,this._lowercasePattern,0,r,r.toLowerCase(),0,!0);return s?(this._matchCount++,{data:s,visibility:!0}):this.tree.options.filterOnType?2:{data:IR.Default,visibility:!0}},e.prototype.reset=function(){this._totalCount=0,this._matchCount=0},e.prototype.dispose=function(){Ie(this.disposables)},e}(),YA=function(){function e(e,t,n,i,o){this.tree=e,this.view=n,this.filter=i,this.keyboardNavigationDelegate=o,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new Ze,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new Ze,this.enabledDisposables=new Re,this.disposables=new Re,this.domNode=_r(".monaco-list-type-filter."+this.positionClassName),this.domNode.draggable=!0,Zn(this.domNode,"dragstart")(this.onDragStart,this,this.disposables),this.messageDomNode=pr(n.getHTMLElement(),_r(".monaco-list-type-filter-message")),this.labelDomNode=pr(this.domNode,_r("span.label"));var s=pr(this.domNode,_r(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=pr(s,_r("input.filter.codicon.codicon-list-selection")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitle(),Zn(this.filterOnTypeDomNode,"input")(this.onDidChangeFilterOnType,this,this.disposables),this.clearDomNode=pr(s,_r("button.clear.codicon.codicon-close")),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=r("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}return Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pattern",{get:function(){return this._pattern},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterOnType",{get:function(){return this._filterOnType},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e){e.simpleKeyboardNavigation?this.disable():this.enable(),"undefined"!==typeof e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType),"undefined"!==typeof e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")},e.prototype.enable=function(){var e=this;if(!this._enabled){var t=$e.chain(Zn(this.view.getHTMLElement(),"keydown")).filter((function(t){return!XA(t.target)||t.target===e.filterOnTypeDomNode})).filter((function(e){return"Dead"!==e.key&&!/^Media/.test(e.key)})).map((function(e){return new si(e)})).filter(this.keyboardNavigationEventFilter||function(){return!0}).filter((function(){return e.automaticKeyboardNavigation||e.triggered})).filter((function(t){return e.keyboardNavigationDelegate.mightProducePrintableCharacter(t)||(e.pattern.length>0||e.triggered)&&(9===t.keyCode||1===t.keyCode)&&!t.altKey&&!t.ctrlKey&&!t.metaKey||1===t.keyCode&&(s["e"]?t.altKey&&!t.metaKey:t.ctrlKey)&&!t.shiftKey})).forEach((function(e){e.stopPropagation(),e.preventDefault()})).event,n=Zn(this.clearDomNode,"click");$e.chain($e.any(t,n)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}},e.prototype.disable=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)},e.prototype.onEventOrInput=function(e){"string"===typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(s["e"]?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)},e.prototype.onInput=function(e){var t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(function(e){return!IR.isDefault(e.filterData)}));var n=this.tree.getFocus();if(n.length>0){var i=n[0];null===this.tree.getRelativeTop(i)&&this.tree.reveal(i,.5)}this.render(),e||(this.triggered=!1)},e.prototype.onDragStart=function(){var e=this,t=this.view.getHTMLElement(),n=Uo(t).left,i=t.clientWidth,o=i/2,r=this.domNode.clientWidth,s=new Re,a=this.positionClassName,l=function(){switch(a){case"nw":e.domNode.style.top="4px",e.domNode.style.left="4px";break;case"ne":e.domNode.style.top="4px",e.domNode.style.left=i-r-6+"px";break}},u=function(e){e.preventDefault();var t=e.screenX-n;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),a=t<o?"nw":"ne",l()},c=function(){e.positionClassName=a,e.domNode.className="monaco-list-type-filter "+e.positionClassName,e.domNode.style.top="",e.domNode.style.left="",Ie(s)};l(),mo(this.domNode,a),fo(this.domNode,"dragging"),s.add(De((function(){return mo(e.domNode,"dragging")}))),Zn(document,"dragover")(u,null,s),Zn(this.domNode,"dragend")(c,null,s),tI.CurrentDragAndDropData=new eI("vscode-ui"),s.add(De((function(){return tI.CurrentDragAndDropData=void 0})))},e.prototype.onDidSpliceModel=function(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())},e.prototype.onDidChangeFilterOnType=function(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitle()},e.prototype.updateFilterOnTypeTitle=function(){this.filterOnType?this.filterOnTypeDomNode.title=r("disable filter on type","Disable Filter on Type"):this.filterOnTypeDomNode.title=r("enable filter on type","Enable Filter on Type")},e.prototype.render=function(){var e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=r("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerHTML="",this._empty=!1),vo(this.domNode,"no-matches",e),this.domNode.title=r("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?"…"+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)},e.prototype.shouldAllowFocus=function(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!IR.isDefault(e.filterData))},e.prototype.dispose=function(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),Ie(this.disposables)},e}();function XA(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function ZA(e){return{elements:e.elements.map((function(e){return e.element})),browserEvent:e.browserEvent}}function JA(e,t){t(e),e.children.forEach((function(e){return JA(e,t)}))}var QA=function(){function e(e){this.identityProvider=e,this.nodes=[],this._onDidChange=new Ze,this.onDidChange=this._onDidChange.event}return Object.defineProperty(e.prototype,"nodeSet",{get:function(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){Di(this.nodes,e)||this._set(e,!1,t)},e.prototype._set=function(e,t,n){if(this.nodes=VA(e),this.elements=void 0,this._nodeSet=void 0,!t){var i=this;this._onDidChange.fire({get elements(){return i.get()},browserEvent:n})}},e.prototype.get=function(){return this.elements||(this.elements=this.nodes.map((function(e){return e.element}))),VA(this.elements)},e.prototype.getNodes=function(){return this.nodes},e.prototype.has=function(e){return this.nodeSet.has(e)},e.prototype.onDidModelSplice=function(e){var t=this,n=e.insertedNodes,i=e.deletedNodes;if(!this.identityProvider){var o=this.createNodeSet(),r=function(e){return o.delete(e)};return i.forEach((function(e){return JA(e,r)})),void this.set(Fa(o))}var s=new Set,a=function(e){return s.add(t.identityProvider.getId(e.element).toString())};i.forEach((function(e){return JA(e,a)}));var l=new Map,u=function(e){return l.set(t.identityProvider.getId(e.element).toString(),e)};n.forEach((function(e){return JA(e,u)}));for(var c=[],h=0,d=this.nodes;h<d.length;h++){var p=d[h],f=this.identityProvider.getId(p.element).toString(),g=s.has(f);if(g){var m=l.get(f);m&&c.push(m)}else c.push(p)}this._set(c,!0)},e.prototype.createNodeSet=function(){for(var e=new Set,t=0,n=this.nodes;t<n.length;t++){var i=n[t];e.add(i)}return e},e}(),eM=function(e){function t(t,n){var i=e.call(this,t)||this;return i.tree=n,i}return FA(t,e),t.prototype.onPointer=function(t){if(!XA(t.browserEvent.target)){var n=t.element;if(!n)return e.prototype.onPointer.call(this,t);if(this.isSelectionRangeChangeEvent(t)||this.isSelectionSingleChangeEvent(t))return e.prototype.onPointer.call(this,t);var i=po(t.browserEvent.target,"monaco-tl-twistie");if(!this.tree.openOnSingleClick&&2!==t.browserEvent.detail&&!i)return e.prototype.onPointer.call(this,t);var o=!1;if(o="function"===typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(n.element):!!this.tree.expandOnlyOnTwistieClick,o&&!i)return e.prototype.onPointer.call(this,t);if(n.collapsible){var r=this.tree.model,s=r.getNodeLocation(n),a=t.browserEvent.altKey;if(r.setCollapsed(s,void 0,a),o&&i)return}e.prototype.onPointer.call(this,t)}},t.prototype.onDoubleClick=function(t){var n=po(t.browserEvent.target,"monaco-tl-twistie");n||e.prototype.onDoubleClick.call(this,t)},t}(mA),tM=function(e){function t(t,n,i,o,r,s,a){var l=e.call(this,t,n,i,o,a)||this;return l.focusTrait=r,l.selectionTrait=s,l}return FA(t,e),t.prototype.createMouseController=function(e){return new eM(this,e.tree)},t.prototype.splice=function(t,n,i){var o=this;if(void 0===i&&(i=[]),e.prototype.splice.call(this,t,n,i),0!==i.length){var r=[],s=[];i.forEach((function(e,n){o.focusTrait.has(e)&&r.push(t+n),o.selectionTrait.has(e)&&s.push(t+n)})),r.length>0&&e.prototype.setFocus.call(this,Wi(VA(e.prototype.getFocus.call(this),r))),s.length>0&&e.prototype.setSelection.call(this,Wi(VA(e.prototype.getSelection.call(this),s)))}},t.prototype.setFocus=function(t,n,i){var o=this;void 0===i&&(i=!1),e.prototype.setFocus.call(this,t,n),i||this.focusTrait.set(t.map((function(e){return o.element(e)})),n)},t.prototype.setSelection=function(t,n,i){var o=this;void 0===i&&(i=!1),e.prototype.setSelection.call(this,t,n),i||this.selectionTrait.set(t.map((function(e){return o.element(e)})),n)},t}(xA),nM=function(){function e(e,t,n,i,o){var r=this;void 0===o&&(o={}),this._options=o,this.eventBufferer=new et,this.disposables=new Re,this._onWillRefilter=new Ze,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new Ze;var s,a=new jA(n),l=new tt,u=new tt,c=new GA(u.event);this.renderers=i.map((function(e){return new KA(e,(function(){return r.model}),l.event,c,o)}));for(var h=0,d=this.renderers;h<d.length;h++){var p=d[h];this.disposables.add(p)}o.keyboardNavigationLabelProvider&&(s=new qA(this,o.keyboardNavigationLabelProvider,o.filter),o=BA(BA({},o),{filter:s}),this.disposables.add(s)),this.focus=new QA(o.identityProvider),this.selection=new QA(o.identityProvider),this.view=new tM(e,t,a,this.renderers,this.focus,this.selection,BA(BA({},UA((function(){return r.model}),o)),{tree:this})),this.model=this.createModel(e,this.view,o),l.input=this.model.onDidChangeCollapseState;var f=$e.forEach(this.model.onDidSplice,(function(e){r.eventBufferer.bufferEvents((function(){r.focus.onDidModelSplice(e),r.selection.onDidModelSplice(e)}))}));if(f((function(){return null}),null,this.disposables),u.input=$e.chain($e.any(f,this.focus.onDidChange,this.selection.onDidChange)).debounce((function(){return null}),0).map((function(){for(var e=new Set,t=0,n=r.focus.getNodes();t<n.length;t++){var i=n[t];e.add(i)}for(var o=0,s=r.selection.getNodes();o<s.length;o++){i=s[o];e.add(i)}return Ui(e)})).event,!1!==o.keyboardSupport){var g=$e.chain(this.view.onKeyDown).filter((function(e){return!XA(e.target)})).map((function(e){return new si(e)}));g.filter((function(e){return 15===e.keyCode})).on(this.onLeftArrow,this,this.disposables),g.filter((function(e){return 17===e.keyCode})).on(this.onRightArrow,this,this.disposables),g.filter((function(e){return 10===e.keyCode})).on(this.onSpace,this,this.disposables)}if(o.keyboardNavigationLabelProvider){var m=o.keyboardNavigationDelegate||lA;this.typeFilterController=new YA(this,this.model,this.view,s,m),this.focusNavigationFilter=function(e){return r.typeFilterController.shouldAllowFocus(e)},this.disposables.add(this.typeFilterController)}this.styleElement=er(this.view.getHTMLElement()),vo(this.getHTMLElement(),"always",this._options.renderIndentGuides===zA.Always)}return Object.defineProperty(e.prototype,"onDidChangeFocus",{get:function(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeSelection",{get:function(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidOpen",{get:function(){return $e.map(this.view.onDidOpen,ZA)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.view.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openOnSingleClick",{get:function(){return"undefined"===typeof this._options.openOnSingleClick||this._options.openOnSingleClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"expandOnlyOnTwistieClick",{get:function(){return"undefined"!==typeof this._options.expandOnlyOnTwistieClick&&this._options.expandOnlyOnTwistieClick},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidDispose",{get:function(){return this.view.onDidDispose},enumerable:!0,configurable:!0}),e.prototype.updateOptions=function(e){void 0===e&&(e={}),this._options=BA(BA({},this._options),e);for(var t=0,n=this.renderers;t<n.length;t++){var i=n[t];i.updateOptions(e)}this.view.updateOptions({enableKeyboardNavigation:this._options.simpleKeyboardNavigation,automaticKeyboardNavigation:this._options.automaticKeyboardNavigation}),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),vo(this.getHTMLElement(),"always",this._options.renderIndentGuides===zA.Always)},Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),e.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.view.scrollTop},set:function(e){this.view.scrollTop=e},enumerable:!0,configurable:!0}),e.prototype.domFocus=function(){this.view.domFocus()},e.prototype.layout=function(e,t){this.view.layout(e,t)},e.prototype.style=function(e){var t="."+this.view.domId,n=[];e.treeIndentGuidesStroke&&(n.push(".monaco-list"+t+":hover .monaco-tl-indent > .indent-guide, .monaco-list"+t+".always .monaco-tl-indent > .indent-guide  { border-color: "+e.treeIndentGuidesStroke.transparent(.4)+"; }"),n.push(".monaco-list"+t+" .monaco-tl-indent > .indent-guide.active { border-color: "+e.treeIndentGuidesStroke+"; }"));var i=n.join("\n");i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i),this.view.style(e)},e.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.setCollapsed(e,!0,t)},e.prototype.expand=function(e,t){return void 0===t&&(t=!1),this.model.setCollapsed(e,!1,t)},e.prototype.isCollapsible=function(e){return this.model.isCollapsible(e)},e.prototype.setCollapsible=function(e,t){return this.model.setCollapsible(e,t)},e.prototype.isCollapsed=function(e){return this.model.isCollapsed(e)},e.prototype.refilter=function(){this._onWillRefilter.fire(void 0),this.model.refilter()},e.prototype.setSelection=function(e,t){var n=this,i=e.map((function(e){return n.model.getNode(e)}));this.selection.set(i,t);var o=e.map((function(e){return n.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setSelection(o,t,!0)},e.prototype.getSelection=function(){return this.selection.get()},e.prototype.setFocus=function(e,t){var n=this,i=e.map((function(e){return n.model.getNode(e)}));this.focus.set(i,t);var o=e.map((function(e){return n.model.getListIndex(e)})).filter((function(e){return e>-1}));this.view.setFocus(o,t,!0)},e.prototype.focusNext=function(e,t,n,i){void 0===e&&(e=1),void 0===t&&(t=!1),void 0===i&&(i=this.focusNavigationFilter),this.view.focusNext(e,t,n,i)},e.prototype.getFocus=function(){return this.focus.get()},e.prototype.reveal=function(e,t){this.model.expandTo(e);var n=this.model.getListIndex(e);-1!==n&&this.view.reveal(n,t)},e.prototype.getRelativeTop=function(e){var t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)},e.prototype.onLeftArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var n=t[0],i=this.model.getNodeLocation(n),o=this.model.setCollapsed(i,!0);if(!o){var r=this.model.getParentNodeLocation(i);if(!r)return;var s=this.model.getListIndex(r);this.view.reveal(s),this.view.setFocus([s])}}},e.prototype.onRightArrow=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var n=t[0],i=this.model.getNodeLocation(n),o=this.model.setCollapsed(i,!1);if(!o){if(!n.children.some((function(e){return e.visible})))return;var r=this.view.getFocus()[0],s=r+1;this.view.reveal(s),this.view.setFocus([s])}}},e.prototype.onSpace=function(e){e.preventDefault(),e.stopPropagation();var t=this.view.getFocusedElements();if(0!==t.length){var n=t[0],i=this.model.getNodeLocation(n),o=e.browserEvent.altKey;this.model.setCollapsed(i,void 0,o)}},e.prototype.dispose=function(){Ie(this.disposables),this.view.dispose()},e}(),iM=function(){return iM=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},iM.apply(this,arguments)},oM=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},rM=function(){function e(e,t,n){void 0===n&&(n={}),this.user=e,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new PA(e,t,null,n),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,n.sorter&&(this.sorter={compare:function(e,t){return n.sorter.compare(e.element,t.element)}}),this.identityProvider=n.identityProvider}return e.prototype.setChildren=function(e,t,n,i){var o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),n,i)},e.prototype._setChildren=function(e,t,n,i){var o=this,r=new Set,s=new Set,a=function(e){if(r.add(e.element),o.nodes.set(e.element,e),o.identityProvider){var t=o.identityProvider.getId(e.element).toString();s.add(t),o.nodesByIdentity.set(t,e)}n&&n(e)},l=function(e){if(r.has(e.element)||o.nodes.delete(e.element),o.identityProvider){var t=o.identityProvider.getId(e.element).toString();s.has(t)||o.nodesByIdentity.delete(t)}i&&i(e)};this.model.splice(oM(e,[0]),Number.MAX_VALUE,t,a,l)},e.prototype.preserveCollapseState=function(e){var t=this,n=e?He(e):Ne.empty();return this.sorter&&(n=Ne.fromArray(Ai(Ne.collect(n),this.sorter.compare.bind(this.sorter)))),Ne.map(n,(function(e){var n=t.nodes.get(e.element);if(!n&&t.identityProvider){var i=t.identityProvider.getId(e.element).toString();n=t.nodesByIdentity.get(i)}if(!n)return iM(iM({},e),{children:t.preserveCollapseState(e.children)});var o="boolean"===typeof e.collapsible?e.collapsible:n.collapsible,r="undefined"!==typeof e.collapsed?e.collapsed:n.collapsed;return iM(iM({},e),{collapsible:o,collapsed:r,children:t.preserveCollapseState(e.children)})}))},e.prototype.rerender=function(e){var t=this.getElementLocation(e);this.model.rerender(t)},e.prototype.has=function(e){return this.nodes.has(e)},e.prototype.getListIndex=function(e){var t=this.getElementLocation(e);return this.model.getListIndex(t)},e.prototype.getListRenderCount=function(e){var t=this.getElementLocation(e);return this.model.getListRenderCount(t)},e.prototype.isCollapsible=function(e){var t=this.getElementLocation(e);return this.model.isCollapsible(t)},e.prototype.setCollapsible=function(e,t){var n=this.getElementLocation(e);return this.model.setCollapsible(n,t)},e.prototype.isCollapsed=function(e){var t=this.getElementLocation(e);return this.model.isCollapsed(t)},e.prototype.setCollapsed=function(e,t,n){var i=this.getElementLocation(e);return this.model.setCollapsed(i,t,n)},e.prototype.expandTo=function(e){var t=this.getElementLocation(e);this.model.expandTo(t)},e.prototype.refilter=function(){this.model.refilter()},e.prototype.getNode=function(e){if(void 0===e&&(e=null),null===e)return this.model.getNode(this.model.rootRef);var t=this.nodes.get(e);if(!t)throw new OA(this.user,"Tree element not found: "+e);return t},e.prototype.getNodeLocation=function(e){return e.element},e.prototype.getParentNodeLocation=function(e){if(null===e)throw new OA(this.user,"Invalid getParentNodeLocation call");var t=this.nodes.get(e);if(!t)throw new OA(this.user,"Tree element not found: "+e);var n=this.model.getNodeLocation(t),i=this.model.getParentNodeLocation(n),o=this.model.getNode(i);return o.element},e.prototype.getElementLocation=function(e){if(null===e)return[];var t=this.nodes.get(e);if(!t)throw new OA(this.user,"Tree element not found: "+e);return this.model.getNodeLocation(t)},e}(),sM=function(){return sM=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},sM.apply(this,arguments)};function aM(e){var t=[e.element],n=e.incompressible||!1;return{element:{elements:t,incompressible:n},children:Ne.map(Ne.from(e.children),aM),collapsible:e.collapsible,collapsed:e.collapsed}}function lM(e){var t,n,i=[e.element],o=e.incompressible||!1;while(1){if(t=Ne.from(e.children),n=Ne.collect(t,2),1!==n.length)break;if(e=n[0],e.incompressible)break;i.push(e.element)}return{element:{elements:i,incompressible:o},children:Ne.map(Ne.concat(Ne.fromArray(n),t),lM),collapsible:e.collapsible,collapsed:e.collapsed}}function uM(e,t){var n;return void 0===t&&(t=0),n=t<e.element.elements.length-1?Ne.single(uM(e,t+1)):Ne.map(Ne.from(e.children),(function(e){return uM(e,0)})),0===t&&e.element.incompressible?{element:e.element.elements[t],children:n,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:n,collapsible:e.collapsible,collapsed:e.collapsed}}function cM(e){return uM(e,0)}function hM(e,t,n){return e.element===t?sM(sM({},e),{children:n}):sM(sM({},e),{children:Ne.map(Ne.from(e.children),(function(e){return hM(e,t,n)}))})}var dM=function(){function e(e,t,n){void 0===n&&(n={}),this.user=e,this.nodes=new Map,this.model=new rM(e,t,n),this.enabled="undefined"===typeof n.compressionEnabled||n.compressionEnabled}return Object.defineProperty(e.prototype,"onDidSplice",{get:function(){return this.model.onDidSplice},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),e.prototype.setChildren=function(e,t){if(null!==e){var n=this.nodes.get(e);if(!n)throw new Error("Unknown compressed tree node");var i=this.model.getNode(n),o=this.model.getParentNodeLocation(n),r=this.model.getNode(o),s=cM(i),a=hM(s,e,Ne.from(t)),l=(this.enabled?lM:aM)(a),u=r.children.map((function(e){return e===i?l:e}));this._setChildren(r.element,u)}else{var c=Ne.map(Ne.from(t),this.enabled?lM:aM);this._setChildren(null,c)}},e.prototype.setCompressionEnabled=function(e){if(e!==this.enabled){this.enabled=e;var t=this.model.getNode(),n=Ne.from(t.children),i=Ne.map(n,cM),o=Ne.map(i,e?lM:aM);this._setChildren(null,o)}},e.prototype._setChildren=function(e,t){var n=this,i=new Set,o=function(e){for(var t=0,o=e.element.elements;t<o.length;t++){var r=o[t];i.add(r),n.nodes.set(r,e.element)}},r=function(e){for(var t=0,o=e.element.elements;t<o.length;t++){var r=o[t];i.has(r)||n.nodes.delete(r)}};this.model.setChildren(e,t,o,r)},e.prototype.has=function(e){return this.nodes.has(e)},e.prototype.getListIndex=function(e){var t=this.getCompressedNode(e);return this.model.getListIndex(t)},e.prototype.getListRenderCount=function(e){var t=this.getCompressedNode(e);return this.model.getListRenderCount(t)},e.prototype.getNode=function(e){if("undefined"===typeof e)return this.model.getNode();var t=this.getCompressedNode(e);return this.model.getNode(t)},e.prototype.getNodeLocation=function(e){var t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]},e.prototype.getParentNodeLocation=function(e){var t=this.getCompressedNode(e),n=this.model.getParentNodeLocation(t);return null===n?null:n.elements[n.elements.length-1]},e.prototype.isCollapsible=function(e){var t=this.getCompressedNode(e);return this.model.isCollapsible(t)},e.prototype.setCollapsible=function(e,t){var n=this.getCompressedNode(e);return this.model.setCollapsible(n,t)},e.prototype.isCollapsed=function(e){var t=this.getCompressedNode(e);return this.model.isCollapsed(t)},e.prototype.setCollapsed=function(e,t,n){var i=this.getCompressedNode(e);return this.model.setCollapsed(i,t,n)},e.prototype.expandTo=function(e){var t=this.getCompressedNode(e);this.model.expandTo(t)},e.prototype.rerender=function(e){var t=this.getCompressedNode(e);this.model.rerender(t)},e.prototype.refilter=function(){this.model.refilter()},e.prototype.getCompressedNode=function(e){if(null===e)return null;var t=this.nodes.get(e);if(!t)throw new OA(this.user,"Tree element not found: "+e);return t},e}(),pM=function(e){return e[e.length-1]},fM=function(){function e(e,t){this.unwrapper=e,this.node=t}return Object.defineProperty(e.prototype,"element",{get:function(){return null===this.node.element?null:this.unwrapper(this.node.element)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){var t=this;return this.node.children.map((function(n){return new e(t.unwrapper,n)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),e}();function gM(e,t){return{splice:function(n,i,o){t.splice(n,i,o.map((function(t){return e.map(t)})))}}}function mM(e,t){return sM(sM({},t),{sorter:t.sorter&&{compare:function(e,n){return t.sorter.compare(e.elements[0],n.elements[0])}},identityProvider:t.identityProvider&&{getId:function(n){return t.identityProvider.getId(e(n))}},filter:t.filter&&{filter:function(n,i){return t.filter.filter(e(n),i)}}})}var _M=function(){function e(e,t,n){var i=this;void 0===n&&(n={}),this.elementMapper=n.elementMapper||pM;var o=function(e){return i.elementMapper(e.elements)};this.nodeMapper=new DA((function(e){return new fM(o,e)})),this.model=new dM(e,gM(this.nodeMapper,t),mM(o,n))}return Object.defineProperty(e.prototype,"onDidSplice",{get:function(){var e=this;return $e.map(this.model.onDidSplice,(function(t){var n=t.insertedNodes,i=t.deletedNodes;return{insertedNodes:n.map((function(t){return e.nodeMapper.map(t)})),deletedNodes:i.map((function(t){return e.nodeMapper.map(t)}))}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeCollapseState",{get:function(){var e=this;return $e.map(this.model.onDidChangeCollapseState,(function(t){var n=t.node,i=t.deep;return{node:e.nodeMapper.map(n),deep:i}}))},enumerable:!0,configurable:!0}),e.prototype.setChildren=function(e,t){this.model.setChildren(e,t)},e.prototype.setCompressionEnabled=function(e){this.model.setCompressionEnabled(e)},e.prototype.has=function(e){return this.model.has(e)},e.prototype.getListIndex=function(e){return this.model.getListIndex(e)},e.prototype.getListRenderCount=function(e){return this.model.getListRenderCount(e)},e.prototype.getNode=function(e){return this.nodeMapper.map(this.model.getNode(e))},e.prototype.getNodeLocation=function(e){return e.element},e.prototype.getParentNodeLocation=function(e){return this.model.getParentNodeLocation(e)},e.prototype.isCollapsible=function(e){return this.model.isCollapsible(e)},e.prototype.setCollapsible=function(e,t){return this.model.setCollapsible(e,t)},e.prototype.isCollapsed=function(e){return this.model.isCollapsed(e)},e.prototype.setCollapsed=function(e,t,n){return this.model.setCollapsed(e,t,n)},e.prototype.expandTo=function(e){return this.model.expandTo(e)},e.prototype.rerender=function(e){return this.model.rerender(e)},e.prototype.refilter=function(){return this.model.refilter()},e.prototype.getCompressedTreeNode=function(e){return void 0===e&&(e=null),this.model.getNode(e)},e}(),vM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),yM=function(){return yM=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},yM.apply(this,arguments)},bM=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},wM=function(e){function t(t,n,i,o,r){return void 0===r&&(r={}),e.call(this,t,n,i,o,r)||this}return vM(t,e),Object.defineProperty(t.prototype,"onDidChangeCollapseState",{get:function(){return this.model.onDidChangeCollapseState},enumerable:!0,configurable:!0}),t.prototype.setChildren=function(e,t){this.model.setChildren(e,t)},t.prototype.rerender=function(e){void 0!==e?this.model.rerender(e):this.view.rerender()},t.prototype.hasElement=function(e){return this.model.has(e)},t.prototype.createModel=function(e,t,n){return new rM(e,t,n)},t}(nM),CM=function(){function e(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}return Object.defineProperty(e.prototype,"compressedTreeNodeProvider",{get:function(){return this._compressedTreeNodeProvider()},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{compressedTreeNode:void 0,data:t}},e.prototype.renderElement=function(e,t,n,i){var o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(n.compressedTreeNode=void 0,this.renderer.renderElement(e,t,n.data,i)):(n.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,n.data,i))},e.prototype.disposeElement=function(e,t,n,i){n.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(n.compressedTreeNode,t,n.data,i):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,n.data,i)},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.data)},e.prototype.renderTwistie=function(e,t){this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)},bM([Fm],e.prototype,"compressedTreeNodeProvider",null),e}();function SM(e,t){return t&&yM(yM({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel:function(n){var i;try{i=e().getCompressedTreeNode(n)}catch(o){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n)}return 1===i.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(n):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.element.elements)}}})}var EM=function(e){function t(t,n,i,o,r){void 0===r&&(r={});var s=this,a=function(){return s},l=o.map((function(e){return new CM(a,e)}));return s=e.call(this,t,n,i,l,SM(a,r))||this,s}return vM(t,e),t.prototype.setChildren=function(e,t){this.model.setChildren(e,t)},t.prototype.createModel=function(e,t,n){return new _M(e,t,n)},t.prototype.updateOptions=function(t){void 0===t&&(t={}),e.prototype.updateOptions.call(this,t),"undefined"!==typeof t.compressionEnabled&&this.model.setCompressionEnabled(t.compressionEnabled)},t.prototype.getCompressedTreeNode=function(e){return void 0===e&&(e=null),this.model.getCompressedTreeNode(e)},t}(wM),TM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),kM=function(){return kM=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},kM.apply(this,arguments)},xM=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},LM=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},IM=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i};function OM(e){return kM(kM({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function DM(e,t){return!!t.parent&&(t.parent===e||DM(e,t.parent))}function NM(e,t){return e===t||DM(e,t)||DM(t,e)}var RM=function(){function e(e){this.node=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.node.element.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.node.children.map((function(t){return new e(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),e}(),AM=function(){function e(e,t,n){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=n,this.renderedNodes=new Map,this.templateId=e.templateId}return e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{templateData:t}},e.prototype.renderElement=function(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)},e.prototype.renderTwistie=function(e,t){return vo(t,"codicon-loading",e.slow),!1},e.prototype.disposeElement=function(e,t,n,i){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,i)},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},e.prototype.dispose=function(){this.renderedNodes.clear()},e}();function MM(e){return{browserEvent:e.browserEvent,elements:e.elements.map((function(e){return e.element}))}}var PM=function(e){function t(t){var n=e.call(this,t.elements.map((function(e){return e.element})))||this;return n.data=t,n}return TM(t,e),t}(qN);function FM(e){return e instanceof qN?new PM(e):e}var BM=function(){function e(e){this.dnd=e}return e.prototype.getDragURI=function(e){return this.dnd.getDragURI(e.element)},e.prototype.getDragLabel=function(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((function(e){return e.element})),t)},e.prototype.onDragStart=function(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(FM(e),t)},e.prototype.onDragOver=function(e,t,n,i,o){return void 0===o&&(o=!0),this.dnd.onDragOver(FM(e),t&&t.element,n,i)},e.prototype.drop=function(e,t,n,i){this.dnd.drop(FM(e),t&&t.element,n,i)},e.prototype.onDragEnd=function(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)},e}();function VM(e){return e&&kM(kM({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:function(t){return e.identityProvider.getId(t.element)}},dnd:e.dnd&&new BM(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:function(t){return e.multipleSelectionController.isSelectionSingleChangeEvent(kM(kM({},t),{element:t.element}))},isSelectionRangeChangeEvent:function(t){return e.multipleSelectionController.isSelectionRangeChangeEvent(kM(kM({},t),{element:t.element}))}},accessibilityProvider:e.accessibilityProvider&&kM(kM({},e.accessibilityProvider),{getAriaLabel:function(t){return e.accessibilityProvider.getAriaLabel(t.element)},getAriaLevel:e.accessibilityProvider.getAriaLevel&&function(t){return e.accessibilityProvider.getAriaLevel(t.element)},getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&function(t){return e.accessibilityProvider.getActiveDescendantId(t.element)}}),filter:e.filter&&{filter:function(t,n){return e.filter.filter(t.element,n)}},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&kM(kM({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}}),sorter:void 0,expandOnlyOnTwistieClick:"undefined"===typeof e.expandOnlyOnTwistieClick?void 0:"function"!==typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:function(t){return e.expandOnlyOnTwistieClick(t.element)},ariaProvider:e.ariaProvider&&{getPosInSet:function(t,n){return e.ariaProvider.getPosInSet(t.element,n)},getSetSize:function(t,n,i){return e.ariaProvider.getSetSize(t.element,n,i)},getRole:e.ariaProvider.getRole?function(t){return e.ariaProvider.getRole(t.element)}:void 0,isChecked:e.ariaProvider.isChecked?function(t){var n;return(null===(n=e.ariaProvider)||void 0===n?void 0:n.isChecked)(t.element)}:void 0},additionalScrollHeight:e.additionalScrollHeight})}function HM(e,t){t(e),e.children.forEach((function(e){return HM(e,t)}))}var $M=function(){function e(e,t,n,i,o,r){void 0===r&&(r={}),this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new Ze,this._onDidChangeNodeSlowState=new Ze,this.nodeMapper=new DA((function(e){return new RM(e)})),this.disposables=new Re,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren="undefined"!==typeof r.autoExpandSingleChildren&&r.autoExpandSingleChildren,this.sorter=r.sorter,this.collapseByDefault=r.collapseByDefault,this.tree=this.createTree(e,t,n,i,r),this.root=OM({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=kM(kM({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}return Object.defineProperty(e.prototype,"onDidChangeFocus",{get:function(){return $e.map(this.tree.onDidChangeFocus,MM)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidChangeSelection",{get:function(){return $e.map(this.tree.onDidChangeSelection,MM)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidOpen",{get:function(){return $e.map(this.tree.onDidOpen,MM)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.tree.onDidFocus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidDispose",{get:function(){return this.tree.onDidDispose},enumerable:!0,configurable:!0}),e.prototype.createTree=function(e,t,n,i,o){var r=this,s=new jA(n),a=i.map((function(e){return new AM(e,r.nodeMapper,r._onDidChangeNodeSlowState.event)})),l=VM(o)||{};return new wM(e,t,s,a,l)},e.prototype.updateOptions=function(e){void 0===e&&(e={}),this.tree.updateOptions(e)},e.prototype.getHTMLElement=function(){return this.tree.getHTMLElement()},Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.tree.scrollTop},set:function(e){this.tree.scrollTop=e},enumerable:!0,configurable:!0}),e.prototype.domFocus=function(){this.tree.domFocus()},e.prototype.layout=function(e,t){this.tree.layout(e,t)},e.prototype.style=function(e){this.tree.style(e)},e.prototype.getInput=function(){return this.root.element},e.prototype.setInput=function(e,t){return xM(this,void 0,void 0,(function(){var n;return LM(this,(function(i){switch(i.label){case 0:return this.refreshPromises.forEach((function(e){return e.cancel()})),this.refreshPromises.clear(),this.root.element=e,n=t&&{viewState:t,focus:[],selection:[]},[4,this._updateChildren(e,!0,!1,n)];case 1:return i.sent(),n&&(this.tree.setFocus(n.focus),this.tree.setSelection(n.selection)),t&&"number"===typeof t.scrollTop&&(this.scrollTop=t.scrollTop),[2]}}))}))},e.prototype._updateChildren=function(e,t,n,i){return void 0===e&&(e=this.root.element),void 0===t&&(t=!0),void 0===n&&(n=!1),xM(this,void 0,void 0,(function(){var o;return LM(this,(function(r){switch(r.label){case 0:if("undefined"===typeof this.root.element)throw new OA(this.user,"Tree input not set");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return r.sent(),[4,$e.toPromise(this._onDidRender.event)];case 2:r.sent(),r.label=3;case 3:return o=this.getDataNode(e),[4,this.refreshAndRenderNode(o,t,i)];case 4:if(r.sent(),n)try{this.tree.rerender(o)}catch(s){}return[2]}}))}))},e.prototype.rerender=function(e){if(void 0!==e&&e!==this.root.element){var t=this.getDataNode(e);this.tree.rerender(t)}else this.tree.rerender()},e.prototype.collapse=function(e,t){void 0===t&&(t=!1);var n=this.getDataNode(e);return this.tree.collapse(n===this.root?null:n,t)},e.prototype.expand=function(e,t){return void 0===t&&(t=!1),xM(this,void 0,void 0,(function(){var n,i;return LM(this,(function(o){switch(o.label){case 0:if("undefined"===typeof this.root.element)throw new OA(this.user,"Tree input not set");return this.root.refreshPromise?[4,this.root.refreshPromise]:[3,3];case 1:return o.sent(),[4,$e.toPromise(this._onDidRender.event)];case 2:o.sent(),o.label=3;case 3:return n=this.getDataNode(e),this.tree.hasElement(n)&&!this.tree.isCollapsible(n)?[2,!1]:n.refreshPromise?[4,this.root.refreshPromise]:[3,6];case 4:return o.sent(),[4,$e.toPromise(this._onDidRender.event)];case 5:o.sent(),o.label=6;case 6:return n===this.root||n.refreshPromise||this.tree.isCollapsed(n)?(i=this.tree.expand(n===this.root?null:n,t),n.refreshPromise?[4,this.root.refreshPromise]:[3,9]):[2,!1];case 7:return o.sent(),[4,$e.toPromise(this._onDidRender.event)];case 8:o.sent(),o.label=9;case 9:return[2,i]}}))}))},e.prototype.setSelection=function(e,t){var n=this,i=e.map((function(e){return n.getDataNode(e)}));this.tree.setSelection(i,t)},e.prototype.getSelection=function(){var e=this.tree.getSelection();return e.map((function(e){return e.element}))},e.prototype.setFocus=function(e,t){var n=this,i=e.map((function(e){return n.getDataNode(e)}));this.tree.setFocus(i,t)},e.prototype.getFocus=function(){var e=this.tree.getFocus();return e.map((function(e){return e.element}))},e.prototype.reveal=function(e,t){this.tree.reveal(this.getDataNode(e),t)},e.prototype.getDataNode=function(e){var t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new OA(this.user,"Data tree node not found: "+e);return t},e.prototype.refreshAndRenderNode=function(e,t,n){return xM(this,void 0,void 0,(function(){return LM(this,(function(i){switch(i.label){case 0:return[4,this.refreshNode(e,t,n)];case 1:return i.sent(),this.render(e,n),[2]}}))}))},e.prototype.refreshNode=function(e,t,n){return xM(this,void 0,void 0,(function(){var i,o=this;return LM(this,(function(r){return this.subTreeRefreshPromises.forEach((function(r,s){!i&&NM(s,e)&&(i=r.then((function(){return o.refreshNode(e,t,n)})))})),i?[2,i]:[2,this.doRefreshSubTree(e,t,n)]}))}))},e.prototype.doRefreshSubTree=function(e,t,n){return xM(this,void 0,void 0,(function(){var i,o,r=this;return LM(this,(function(s){switch(s.label){case 0:e.refreshPromise=new Promise((function(e){return i=e})),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((function(){e.refreshPromise=void 0,r.subTreeRefreshPromises.delete(e)})),s.label=1;case 1:return s.trys.push([1,,4,5]),[4,this.doRefreshNode(e,t,n)];case 2:return o=s.sent(),e.stale=!1,[4,Promise.all(o.map((function(e){return r.doRefreshSubTree(e,t,n)})))];case 3:return s.sent(),[3,5];case 4:return i(),[7];case 5:return[2]}}))}))},e.prototype.doRefreshNode=function(e,t,n){return xM(this,void 0,void 0,(function(){var i,o,r,s,a=this;return LM(this,(function(l){switch(l.label){case 0:e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren?(o=bi(800),o.then((function(){e.slow=!0,a._onDidChangeNodeSlowState.fire(e)}),(function(e){return null})),i=this.doGetChildren(e).finally((function(){return o.cancel()}))):i=Promise.resolve([]),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,i];case 2:return r=l.sent(),[2,this.setChildren(e,r,t,n)];case 3:if(s=l.sent(),e!==this.root&&this.tree.collapse(e===this.root?null:e),ye(s))return[2,[]];throw s;case 4:return e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e)),[7];case 5:return[2]}}))}))},e.prototype.doGetChildren=function(e){var t=this,n=this.refreshPromises.get(e);return n||(n=_i((function(){return xM(t,void 0,void 0,(function(){var t;return LM(this,(function(n){switch(n.label){case 0:return[4,this.dataSource.getChildren(e.element)];case 1:return t=n.sent(),[2,this.processChildren(t)]}}))}))})),this.refreshPromises.set(e,n),n.finally((function(){return t.refreshPromises.delete(e)})))},e.prototype._onDidChangeCollapseState=function(e){var t=e.node,n=e.deep;!t.collapsed&&t.element.stale&&(n?this.collapse(t.element.element):this.refreshAndRenderNode(t.element,!1).catch(ge))},e.prototype.setChildren=function(e,t,n,i){var o,r=this;if(0===e.children.length&&0===t.length)return[];for(var s=new Map,a=new Map,l=0,u=e.children;l<u.length;l++){var c=u[l];if(s.set(c.element,c),this.identityProvider){var h=this.tree.isCollapsed(c);a.set(c.id,{node:c,collapsed:h})}}for(var d=[],p=t.map((function(t){var o=!!r.dataSource.hasChildren(t);if(!r.identityProvider){var l=OM({element:t,parent:e,hasChildren:o});return o&&r.collapseByDefault&&!r.collapseByDefault(t)&&(l.collapsedByDefault=!1,d.push(l)),l}var u=r.identityProvider.getId(t).toString(),c=a.get(u);if(c){l=c.node;return s.delete(l.element),r.nodes.delete(l.element),r.nodes.set(t,l),l.element=t,l.hasChildren=o,n?c.collapsed?(l.children.forEach((function(e){return HM(e,(function(e){return r.nodes.delete(e.element)}))})),l.children.splice(0,l.children.length),l.stale=!0):d.push(l):o&&r.collapseByDefault&&!r.collapseByDefault(t)&&(l.collapsedByDefault=!1,d.push(l)),l}var h=OM({element:t,parent:e,id:u,hasChildren:o});return i&&i.viewState.focus&&i.viewState.focus.indexOf(u)>-1&&i.focus.push(h),i&&i.viewState.selection&&i.viewState.selection.indexOf(u)>-1&&i.selection.push(h),i&&i.viewState.expanded&&i.viewState.expanded.indexOf(u)>-1?d.push(h):o&&r.collapseByDefault&&!r.collapseByDefault(t)&&(h.collapsedByDefault=!1,d.push(h)),h})),f=0,g=Fa(s);f<g.length;f++){var m=g[f];HM(m,(function(e){return r.nodes.delete(e.element)}))}for(var _=0,v=p;_<v.length;_++){c=v[_];this.nodes.set(c.element,c)}return(o=e.children).splice.apply(o,IM([0,e.children.length],p)),e!==this.root&&this.autoExpandSingleChildren&&1===p.length&&0===d.length&&(p[0].collapsedByDefault=!1,d.push(p[0])),d},e.prototype.render=function(e,t){var n=this,i=e.children.map((function(e){return n.asTreeElement(e,t)}));this.tree.setChildren(e===this.root?null:e,i),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()},e.prototype.asTreeElement=function(e,t){var n,i=this;return e.stale?{element:e,collapsible:e.hasChildren,collapsed:!0}:(n=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?Ne.map(Ne.fromArray(e.children),(function(e){return i.asTreeElement(e,t)})):[],collapsible:e.hasChildren,collapsed:n})},e.prototype.processChildren=function(e){return this.sorter&&e.sort(this.sorter.compare.bind(this.sorter)),e},e.prototype.dispose=function(){this.disposables.dispose()},e}(),WM=function(){function e(e){this.node=e}return Object.defineProperty(e.prototype,"element",{get:function(){return{elements:this.node.element.elements.map((function(e){return e.element})),incompressible:this.node.element.incompressible}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this.node.children.map((function(t){return new e(t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"depth",{get:function(){return this.node.depth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildrenCount",{get:function(){return this.node.visibleChildrenCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleChildIndex",{get:function(){return this.node.visibleChildIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsible",{get:function(){return this.node.collapsible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collapsed",{get:function(){return this.node.collapsed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this.node.visible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterData",{get:function(){return this.node.filterData},enumerable:!0,configurable:!0}),e}(),UM=function(){function e(e,t,n,i){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=n,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}return e.prototype.renderTemplate=function(e){var t=this.renderer.renderTemplate(e);return{templateData:t}},e.prototype.renderElement=function(e,t,n,i){this.renderer.renderElement(this.nodeMapper.map(e),t,n.templateData,i)},e.prototype.renderCompressedElements=function(e,t,n,i){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)},e.prototype.renderTwistie=function(e,t){return vo(t,"codicon-loading",e.slow),!1},e.prototype.disposeElement=function(e,t,n,i){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,n.templateData,i)},e.prototype.disposeCompressedElements=function(e,t,n,i){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,n.templateData,i)},e.prototype.disposeTemplate=function(e){this.renderer.disposeTemplate(e.templateData)},e.prototype.dispose=function(){this.renderedNodes.clear(),this.disposables=Ie(this.disposables)},e}();function zM(e){var t=e&&VM(e);return t&&kM(kM({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&kM(kM({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:function(t){return e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((function(e){return e.element})))}})})}var jM=function(e){function t(t,n,i,o,r,s,a){void 0===a&&(a={});var l=e.call(this,t,n,i,r,s,a)||this;return l.compressionDelegate=o,l.compressibleNodeMapper=new DA((function(e){return new WM(e)})),l.filter=a.filter,l}return TM(t,e),t.prototype.createTree=function(e,t,n,i,o){var r=this,s=new jA(n),a=i.map((function(e){return new UM(e,r.nodeMapper,(function(){return r.compressibleNodeMapper}),r._onDidChangeNodeSlowState.event)})),l=zM(o)||{};return new EM(e,t,s,a,l)},t.prototype.asTreeElement=function(t,n){return kM({incompressible:this.compressionDelegate.isIncompressible(t.element)},e.prototype.asTreeElement.call(this,t,n))},t.prototype.updateOptions=function(e){void 0===e&&(e={}),this.tree.updateOptions(e)},t.prototype.render=function(t,n){var i=this;if(!this.identityProvider)return e.prototype.render.call(this,t,n);var o=function(e){return i.identityProvider.getId(e).toString()},r=function(e){for(var t=new Set,n=0,r=e;n<r.length;n++){var s=r[n],a=i.tree.getCompressedTreeNode(s===i.root?null:s);if(a.element)for(var l=0,u=a.element.elements;l<u.length;l++){var c=u[l];t.add(o(c.element))}}return t},s=r(this.tree.getSelection()),a=r(this.tree.getFocus());e.prototype.render.call(this,t,n);var l=this.getSelection(),u=!1,c=this.getFocus(),h=!1,d=function(e){var t=e.element;if(t)for(var n=0;n<t.elements.length;n++){var i=o(t.elements[n].element),r=t.elements[t.elements.length-1].element;s.has(i)&&-1===l.indexOf(r)&&(l.push(r),u=!0),a.has(i)&&-1===c.indexOf(r)&&(c.push(r),h=!0)}e.children.forEach(d)};d(this.tree.getCompressedTreeNode(t===this.root?null:t)),u&&this.setSelection(l),h&&this.setFocus(c)},t.prototype.processChildren=function(t){var n=this;return this.filter&&(t=t.filter((function(e){var t=n.filter.filter(e,1),i=GM(t);if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i}))),e.prototype.processChildren.call(this,t)},t}($M);function GM(e){return"boolean"===typeof e?e?1:0:RA(e)?AA(e.visibility):AA(e)}var KM,qM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),YM=function(e){function t(t,n,i,o,r,s){void 0===s&&(s={});var a=e.call(this,t,n,i,o,s)||this;return a.user=t,a.dataSource=r,a.identityProvider=s.identityProvider,a}return qM(t,e),t.prototype.createModel=function(e,t,n){return new rM(e,t,n)},t}(nM),XM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ZM=function(){return ZM=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ZM.apply(this,arguments)},JM=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},QM=function(e,t){return function(n,i){t(n,i,e)}},eP=Dn("listService"),tP=function(){function e(e){this._themeService=e,this.disposables=new Re,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}return Object.defineProperty(e.prototype,"lastFocusedList",{get:function(){return this._lastFocusedWidget},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;var i=new _A(er(),"");this.disposables.add(rN(i,this._themeService))}if(this.lists.some((function(t){return t.widget===e})))throw new Error("Cannot register the same widget multiple times");var o={widget:e,extraContextKeys:t};return this.lists.push(o),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),Oe(e.onDidFocus((function(){return n._lastFocusedWidget=e})),De((function(){return n.lists.splice(n.lists.indexOf(o),1)})),e.onDidDispose((function(){n.lists=n.lists.filter((function(e){return e!==o})),n._lastFocusedWidget===e&&(n._lastFocusedWidget=void 0)})))},e.prototype.dispose=function(){this.disposables.dispose()},e=JM([QM(0,p_)],e),e}(),nP=new Ff("listFocus",!0),iP=new Ff("listSupportsMultiselect",!0),oP=xf.and(nP,xf.not(LA)),rP=new Ff("listHasSelectionOrFocus",!1),sP=new Ff("listDoubleSelection",!1),aP=new Ff("listMultiSelection",!1),lP=new Ff("listSupportsKeyboardNavigation",!0),uP="listAutomaticKeyboardNavigation",cP=new Ff(uP,!0),hP=!1;function dP(e,t){var n=e.createScoped(t.getHTMLElement());return nP.bindTo(n),n}var pP="workbench.list.multiSelectModifier",fP="workbench.list.openMode",gP="workbench.list.horizontalScrolling",mP="workbench.list.keyboardNavigation",_P="workbench.list.automaticKeyboardNavigation",vP="workbench.tree.indent",yP="workbench.tree.renderIndentGuides";function bP(e){return vf(e,gP,"workbench.tree.horizontalScrolling")}function wP(e){return"alt"===e.getValue(pP)}function CP(e){return"doubleClick"!==e.getValue(fP)}var SP=function(e){function t(t){var n=e.call(this)||this;return n.configurationService=t,n.useAltAsMultipleSelectionModifier=wP(t),n.registerListeners(),n}return XM(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration(pP)&&(e.useAltAsMultipleSelectionModifier=wP(e.configurationService))})))},t.prototype.isSelectionSingleChangeEvent=function(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:hA(e)},t.prototype.isSelectionRangeChangeEvent=function(e){return dA(e)},t}(Ae),EP=function(e){function t(t,n){var i=e.call(this)||this;return i.configurationService=t,i.existingOpenController=n,i.openOnSingleClick=CP(t),i.registerListeners(),i}return XM(t,e),t.prototype.registerListeners=function(){var e=this;this._register(this.configurationService.onDidChangeConfiguration((function(t){t.affectsConfiguration(fP)&&(e.openOnSingleClick=CP(e.configurationService))})))},t.prototype.shouldOpen=function(e){if(e instanceof MouseEvent){var t=0===e.button,n=2===e.detail;return!(t&&!this.openOnSingleClick&&!n)&&(!(!t&&1!==e.button)&&(!this.existingOpenController||this.existingOpenController.shouldOpen(e)))}return!this.existingOpenController||this.existingOpenController.shouldOpen(e)},t}(Ae);function TP(e,t,n){var i=new Re,o=ZM({},e);if(!1!==e.multipleSelectionSupport&&!e.multipleSelectionController){var r=new SP(t);o.multipleSelectionController=r,i.add(r)}var s=new EP(t,e.openController);return o.openController=s,i.add(s),o.keyboardNavigationDelegate={mightProducePrintableCharacter:function(e){return n.mightProducePrintableCharacter(e)}},[o,i]}function kP(e,t){var n=!1;return function(i){if(n)return n=!1,!1;var o=t.softDispatch(i,e);return o&&o.enterChord?(n=!0,!1):(n=!1,!0)}}(function(e){function t(t,n,i,o,r,s,a,l,u,c,h){var d=this,p=LP(n,r,s,u,c,h),f=p.options,g=p.getAutomaticKeyboardNavigation,m=p.disposable;return d=e.call(this,t,n,i,o,f)||this,d.disposables.add(m),d.internals=new DP(d,f,g,r.overrideStyles,s,a,l,u,h),d.disposables.add(d.internals),d}XM(t,e),t=JM([QM(5,Bf),QM(6,eP),QM(7,p_),QM(8,uf),QM(9,WI),QM(10,tL)],t)})(wM),function(e){function t(t,n,i,o,r,s,a,l,u,c,h,d){var p=this,f=LP(n,s,a,c,h,d),g=f.options,m=f.getAutomaticKeyboardNavigation,_=f.disposable;return p=e.call(this,t,n,i,o,r,g)||this,p.disposables.add(_),p.internals=new DP(p,g,m,s.overrideStyles,a,l,u,c,d),p.disposables.add(p.internals),p}XM(t,e),t.prototype.updateOptions=function(t){void 0===t&&(t={}),e.prototype.updateOptions.call(this,t),t.overrideStyles&&this.internals.updateStyleOverrides(t.overrideStyles)},t=JM([QM(6,Bf),QM(7,eP),QM(8,p_),QM(9,uf),QM(10,WI),QM(11,tL)],t)}(YM);var xP=function(e){function t(t,n,i,o,r,s,a,l,u,c,h,d){var p=this,f=LP(n,s,a,c,h,d),g=f.options,m=f.getAutomaticKeyboardNavigation,_=f.disposable;return p=e.call(this,t,n,i,o,r,g)||this,p.disposables.add(_),p.internals=new DP(p,g,m,s.overrideStyles,a,l,u,c,d),p.disposables.add(p.internals),p}return XM(t,e),t.prototype.updateOptions=function(t){void 0===t&&(t={}),e.prototype.updateOptions.call(this,t),t.overrideStyles&&this.internals.updateStyleOverrides(t.overrideStyles)},t=JM([QM(6,Bf),QM(7,eP),QM(8,p_),QM(9,uf),QM(10,WI),QM(11,tL)],t),t}($M);(function(e){function t(t,n,i,o,r,s,a,l,u,c,h,d,p){var f=this,g=LP(n,a,l,h,d,p),m=g.options,_=g.getAutomaticKeyboardNavigation,v=g.disposable;return f=e.call(this,t,n,i,o,r,s,m)||this,f.disposables.add(v),f.internals=new DP(f,m,_,a.overrideStyles,l,u,c,h,p),f.disposables.add(f.internals),f}XM(t,e),t=JM([QM(7,Bf),QM(8,eP),QM(9,p_),QM(10,uf),QM(11,WI),QM(12,tL)],t)})(jM);function LP(e,t,n,i,o,r){lP.bindTo(n),hP||(cP.bindTo(n),hP=!0);var s=function(){var e=n.getContextKeyValue(uP);return e&&(e=i.getValue(_P)),e},a=r.isScreenReaderOptimized(),l=a?"simple":i.getValue(mP),u="undefined"!==typeof t.horizontalScrolling?t.horizontalScrolling:bP(i),c=CP(i),h=TP(t,i,o),d=h[0],p=h[1],f=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:s,disposable:p,options:ZM(ZM({keyboardSupport:!1},d),{indent:i.getValue(vP),renderIndentGuides:i.getValue(yP),automaticKeyboardNavigation:s(),simpleKeyboardNavigation:"simple"===l,filterOnType:"filter"===l,horizontalScrolling:u,openOnSingleClick:c,keyboardNavigationEventFilter:kP(e,o),additionalScrollHeight:f,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements})}}var IP,OP,DP=function(){function e(e,t,n,i,o,r,s,a,l){var u=this;this.tree=e,this.themeService=s,this.disposables=[],this.contextKeyService=dP(o,e);var c=iP.bindTo(this.contextKeyService);c.set(!(!1===t.multipleSelectionSupport)),this.hasSelectionOrFocus=rP.bindTo(this.contextKeyService),this.hasDoubleSelection=sP.bindTo(this.contextKeyService),this.hasMultiSelection=aP.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=wP(a);var h=new Set;h.add(uP);var d=function(){var t=l.isScreenReaderOptimized(),n=t?"simple":a.getValue(mP);e.updateOptions({simpleKeyboardNavigation:"simple"===n,filterOnType:"filter"===n})};this.updateStyleOverrides(i),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection((function(){var t=e.getSelection(),n=e.getFocus();u.hasSelectionOrFocus.set(t.length>0||n.length>0),u.hasMultiSelection.set(t.length>1),u.hasDoubleSelection.set(2===t.length)})),e.onDidChangeFocus((function(){var t=e.getSelection(),n=e.getFocus();u.hasSelectionOrFocus.set(t.length>0||n.length>0)})),a.onDidChangeConfiguration((function(t){if(t.affectsConfiguration(fP)&&e.updateOptions({openOnSingleClick:CP(a)}),t.affectsConfiguration(pP)&&(u._useAltAsMultipleSelectionModifier=wP(a)),t.affectsConfiguration(vP)){var i=a.getValue(vP);e.updateOptions({indent:i})}if(t.affectsConfiguration(yP)){var o=a.getValue(yP);e.updateOptions({renderIndentGuides:o})}t.affectsConfiguration(mP)&&d(),t.affectsConfiguration(_P)&&e.updateOptions({automaticKeyboardNavigation:n()})})),this.contextKeyService.onDidChangeContext((function(t){t.affectsSome(h)&&e.updateOptions({automaticKeyboardNavigation:n()})})),l.onDidChangeScreenReaderOptimized((function(){return d()})))}return e.prototype.updateStyleOverrides=function(e){Ie(this.styler),this.styler=e?rN(this.tree,this.themeService,e):Ae.None},e.prototype.dispose=function(){this.disposables=Ie(this.disposables),this.styler=Ie(this.styler)},e=JM([QM(4,Bf),QM(5,eP),QM(6,p_),QM(7,uf),QM(8,tL)],e),e}(),NP=pp.as(vp.Configuration);NP.registerConfiguration({id:"workbench",order:7,title:r("workbenchConfigurationTitle","Workbench"),type:"object",properties:(KM={},KM[pP]={type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[r("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),r("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:r({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},KM[fP]={type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:r({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). For parents with children in trees, this setting will control if a single click expands the parent or a double click. Note that some trees and lists might choose to ignore this setting if it is not applicable. ")},KM[gP]={type:"boolean",default:!1,description:r("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench.")},KM["workbench.tree.horizontalScrolling"]={type:"boolean",default:!1,description:r("tree horizontalScrolling setting","Controls whether trees support horizontal scrolling in the workbench."),deprecationMessage:r("deprecated","This setting is deprecated, please use '{0}' instead.",gP)},KM[vP]={type:"number",default:8,minimum:0,maximum:40,description:r("tree indent setting","Controls tree indentation in pixels.")},KM[yP]={type:"string",enum:["none","onHover","always"],default:"onHover",description:r("render tree indent guides","Controls whether the tree should render indent guides.")},KM[mP]={type:"string",enum:["simple","highlight","filter"],enumDescriptions:[r("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),r("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),r("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:r("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},KM[_P]={type:"boolean",default:!0,markdownDescription:r("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},KM)}),function(e){e[e["Hint"]=1]="Hint",e[e["Info"]=2]="Info",e[e["Warning"]=4]="Warning",e[e["Error"]=8]="Error"}(IP||(IP={})),function(e){function t(e,t){return t-e}e.compare=t;var n=Object.create(null);function i(e){return n[e]||""}function o(t){switch(t){case cp.Error:return e.Error;case cp.Warning:return e.Warning;case cp.Info:return e.Info;case cp.Ignore:return e.Hint}}function s(t){switch(t){case e.Error:return cp.Error;case e.Warning:return cp.Warning;case e.Info:return cp.Info;case e.Hint:return cp.Ignore}}n[e.Error]=r("sev.error","Error"),n[e.Warning]=r("sev.warning","Warning"),n[e.Info]=r("sev.info","Info"),e.toString=i,e.fromSeverity=o,e.toSeverity=s}(IP||(IP={})),function(e){var t="";function n(e){return i(e,!0)}function i(e,n){var i=[t];return e.source?i.push(e.source.replace("¦","¦")):i.push(t),e.code?"string"===typeof e.code?i.push(e.code.replace("¦","¦")):i.push(e.code.value.replace("¦","¦")):i.push(t),void 0!==e.severity&&null!==e.severity?i.push(IP.toString(e.severity)):i.push(t),e.message&&n?i.push(e.message.replace("¦","¦")):i.push(t),void 0!==e.startLineNumber&&null!==e.startLineNumber?i.push(e.startLineNumber.toString()):i.push(t),void 0!==e.startColumn&&null!==e.startColumn?i.push(e.startColumn.toString()):i.push(t),void 0!==e.endLineNumber&&null!==e.endLineNumber?i.push(e.endLineNumber.toString()):i.push(t),void 0!==e.endColumn&&null!==e.endColumn?i.push(e.endColumn.toString()):i.push(t),i.push(t),i.join("¦")}e.makeKey=n,e.makeKeyOptionalMessage=i}(OP||(OP={}));var RP,AP=Dn("markerService");(function(e){function t(e,t,n){if(e[t])return e[t][n]}function n(e,t,n,i){e[t]||(e[t]=Object.create(null)),e[t][n]=i}function i(e,t,n){return!(!e[t]||!e[t][n])&&(delete e[t][n],xa(e[t])&&delete e[t],!0)}e.get=t,e.set=n,e.remove=i})(RP||(RP={}));var MP,PP=function(){function e(e){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=Object.create(null),this._service=e,this._subscription=e.onMarkerChanged(this._update,this)}return e.prototype.dispose=function(){this._subscription.dispose(),this._data=void 0},e.prototype._update=function(e){if(this._data)for(var t=0,n=e;t<n.length;t++){var i=n[t],o=i.toString(),r=this._data[o];r&&this._substract(r);var s=this._resourceStats(i);this._add(s),this._data[o]=s}},e.prototype._resourceStats=function(e){var t={errors:0,warnings:0,infos:0,unknowns:0};if(e.scheme===xi.inMemory||e.scheme===xi.walkThrough||e.scheme===xi.walkThroughSnippet)return t;for(var n=0,i=this._service.read({resource:e});n<i.length;n++){var o=i[n].severity;o===IP.Error?t.errors+=1:o===IP.Warning?t.warnings+=1:o===IP.Info?t.infos+=1:t.unknowns+=1}return t},e.prototype._substract=function(e){this.errors-=e.errors,this.warnings-=e.warnings,this.infos-=e.infos,this.unknowns-=e.unknowns},e.prototype._add=function(e){this.errors+=e.errors,this.warnings+=e.warnings,this.infos+=e.infos,this.unknowns+=e.unknowns},e}(),FP=function(){function e(){this._onMarkerChanged=new Ze,this._onMarkerChangedEvent=$e.debounce(this._onMarkerChanged.event,e._debouncer,0),this._byResource=Object.create(null),this._byOwner=Object.create(null),this._stats=new PP(this)}return e.prototype.dispose=function(){this._stats.dispose()},Object.defineProperty(e.prototype,"onMarkerChanged",{get:function(){return this._onMarkerChangedEvent},enumerable:!0,configurable:!0}),e.prototype.remove=function(e,t){for(var n=0,i=t||[];n<i.length;n++){var o=i[n];this.changeOne(e,o,[])}},e.prototype.changeOne=function(t,n,i){if(Vi(i)){var o=RP.remove(this._byResource,n.toString(),t),r=RP.remove(this._byOwner,t,n.toString());if(o!==r)throw new Error("invalid marker service state");o&&r&&this._onMarkerChanged.fire([n])}else{for(var s=[],a=0,l=i;a<l.length;a++){var u=l[a],c=e._toMarker(t,n,u);c&&s.push(c)}RP.set(this._byResource,n.toString(),t,s),RP.set(this._byOwner,t,n.toString(),s),this._onMarkerChanged.fire([n])}},e._toMarker=function(e,t,n){var i=n.code,o=n.severity,r=n.message,s=n.source,a=n.startLineNumber,l=n.startColumn,u=n.endLineNumber,c=n.endColumn,h=n.relatedInformation,d=n.tags;if(r)return a=a>0?a:1,l=l>0?l:1,u=u>=a?u:a,c=c>0?c:l,{resource:t,owner:e,code:i,severity:o,message:r,source:s,startLineNumber:a,startColumn:l,endLineNumber:u,endColumn:c,relatedInformation:h,tags:d}},e.prototype.read=function(t){void 0===t&&(t=Object.create(null));var n=t.owner,i=t.resource,o=t.severities,r=t.take;if((!r||r<0)&&(r=-1),n&&i){var s=RP.get(this._byResource,i.toString(),n);if(s){for(var a=[],l=0,u=s;l<u.length;l++){var c=u[l];if(e._accept(c,o)){var h=a.push(c);if(r>0&&h===r)break}}return a}return[]}if(n||i){var d=n?this._byOwner[n]:i?this._byResource[i.toString()]:void 0;if(!d)return[];a=[];for(var p in d)for(var f=0,g=d[p];f<g.length;f++){s=g[f];if(e._accept(s,o)){h=a.push(s);if(r>0&&h===r)return a}}return a}var a=[];for(var m in this._byResource)for(var _ in this._byResource[m])for(var v=0,y=this._byResource[m][_];v<y.length;v++){var s=y[v];if(e._accept(s,o)){var h=a.push(s);if(r>0&&h===r)return a}}return a},e._accept=function(e,t){return void 0===t||(t&e.severity)===e.severity},e._debouncer=function(t,n){t||(e._dedupeMap=Object.create(null),t=[]);for(var i=0,o=n;i<o.length;i++){var r=o[i];void 0===e._dedupeMap[r.toString()]&&(e._dedupeMap[r.toString()]=!0,t.push(r))}return t},e}(),BP=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),VP=Dn("storageService");(function(e){e[e["NONE"]=0]="NONE",e[e["SHUTDOWN"]=1]="SHUTDOWN"})(MP||(MP={}));var HP=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onDidChangeStorage=t._register(new Ze),t.onDidChangeStorage=t._onDidChangeStorage.event,t._onWillSaveState=t._register(new Ze),t.onWillSaveState=t._onWillSaveState.event,t.globalCache=new Map,t.workspaceCache=new Map,t}return BP(t,e),t.prototype.getCache=function(e){return 0===e?this.globalCache:this.workspaceCache},t.prototype.get=function(e,t,n){var i=this.getCache(t).get(e);return Ea(i)?n:i},t.prototype.getBoolean=function(e,t,n){var i=this.getCache(t).get(e);return Ea(i)?n:"true"===i},t.prototype.store=function(e,t,n){if(Ea(t))return this.remove(e,n);var i=String(t),o=this.getCache(n).get(e);return o===i||(this.getCache(n).set(e,i),this._onDidChangeStorage.fire({scope:n,key:e})),Promise.resolve()},t.prototype.remove=function(e,t){var n=this.getCache(t).delete(e);return n?(this._onDidChangeStorage.fire({scope:t,key:e}),Promise.resolve()):Promise.resolve()},t}(Ae),$P=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},WP=function(e,t){return function(n,i){t(n,i,e)}},UP=function(){function e(e){this._commandService=e}return e.prototype.createMenu=function(e,t){return new zP(e,this._commandService,t)},e=$P([WP(0,qa)],e),e}(),zP=function(){function e(e,t,n){var i=this;this._id=e,this._commandService=t,this._contextKeyService=n,this._onDidChange=new Ze,this._dispoables=new Re,this._menuGroups=[],this._contextKeys=new Set,this._build(),this._dispoables.add($e.debounce($e.filter(fm.onDidChangeMenu,(function(e){return e===i._id})),(function(){}),50)(this._build,this)),this._dispoables.add($e.debounce(this._contextKeyService.onDidChangeContext,(function(e,t){return e||t.affectsSome(i._contextKeys)}),50)((function(e){return e&&i._onDidChange.fire(void 0)}),this))}return e.prototype.dispose=function(){this._dispoables.dispose(),this._onDidChange.dispose()},e.prototype._build=function(){this._menuGroups.length=0,this._contextKeys.clear();var t,n=fm.getMenuItems(this._id);n.sort(e._compareMenuItems);for(var i=0,o=n;i<o.length;i++){var r=o[i],s=r.group||"";t&&t[0]===s||(t=[s,[]],this._menuGroups.push(t)),t[1].push(r),e._fillInKbExprKeys(r.when,this._contextKeys),hm(r)&&r.command.precondition&&e._fillInKbExprKeys(r.command.precondition,this._contextKeys),hm(r)&&r.command.toggled&&e._fillInKbExprKeys(r.command.toggled,this._contextKeys)}this._onDidChange.fire(this)},e.prototype.getActions=function(e){for(var t=[],n=0,i=this._menuGroups;n<i.length;n++){for(var o=i[n],r=o[0],s=o[1],a=[],l=0,u=s;l<u.length;l++){var c=u[l];if(this._contextKeyService.contextMatchesRules(c.when)){var h=hm(c)?new _m(c.command,c.alt,e,this._contextKeyService,this._commandService):new mm(c);a.push(h)}}a.length>0&&t.push([r,a])}return t},e._fillInKbExprKeys=function(e,t){if(e)for(var n=0,i=e.keys();n<i.length;n++){var o=i[n];t.add(o)}},e._compareMenuItems=function(t,n){var i=t.group,o=n.group;if(i!==o){if(!i)return 1;if(!o)return-1;if("navigation"===i)return-1;if("navigation"===o)return 1;var r=i.localeCompare(o);if(0!==r)return r}var s=t.order||0,a=n.order||0;return s<a?-1:s>a?1:e._compareTitles(hm(t)?t.command.title:t.title,hm(n)?n.command.title:n.title)},e._compareTitles=function(e,t){var n="string"===typeof e?e:e.value,i="string"===typeof t?t:t.value;return n.localeCompare(i)},e=$P([WP(1,qa),WP(2,Bf)],e),e}(),jP=Dn("markerDecorationsService"),GP=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),KP=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},qP=function(e,t){return function(n,i){t(n,i,e)}};function YP(e){return e.toString()}var XP,ZP=function(e){function t(t){var n=e.call(this)||this;return n.model=t,n._markersData=new Map,n._register(De((function(){n.model.deltaDecorations(Ba(n._markersData),[]),n._markersData.clear()}))),n}return GP(t,e),t.prototype.update=function(e,t){var n=Ba(this._markersData);this._markersData.clear();for(var i=this.model.deltaDecorations(n,t),o=0;o<i.length;o++)this._markersData.set(i[o],e[o])},t.prototype.getMarker=function(e){return this._markersData.get(e.id)},t}(Ae),JP=function(e){function t(t,n){var i=e.call(this)||this;return i._markerService=n,i._onDidChangeMarker=i._register(new Ze),i._markerDecorations=new Map,t.getModels().forEach((function(e){return i._onModelAdded(e)})),i._register(t.onModelAdded(i._onModelAdded,i)),i._register(t.onModelRemoved(i._onModelRemoved,i)),i._register(i._markerService.onMarkerChanged(i._handleMarkerChange,i)),i}return GP(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._markerDecorations.forEach((function(e){return e.dispose()})),this._markerDecorations.clear()},t.prototype.getMarker=function(e,t){var n=this._markerDecorations.get(YP(e.uri));return n?Ma(n.getMarker(t)):null},t.prototype._handleMarkerChange=function(e){var t=this;e.forEach((function(e){var n=t._markerDecorations.get(YP(e));n&&t._updateDecorations(n)}))},t.prototype._onModelAdded=function(e){var t=new ZP(e);this._markerDecorations.set(YP(e.uri),t),this._updateDecorations(t)},t.prototype._onModelRemoved=function(e){var t=this,n=this._markerDecorations.get(YP(e.uri));n&&(n.dispose(),this._markerDecorations.delete(YP(e.uri))),e.uri.scheme!==xi.inMemory&&e.uri.scheme!==xi.internal&&e.uri.scheme!==xi.vscode||this._markerService&&this._markerService.read({resource:e.uri}).map((function(e){return e.owner})).forEach((function(n){return t._markerService.remove(n,[e.uri])}))},t.prototype._updateDecorations=function(e){var t=this,n=this._markerService.read({resource:e.model.uri,take:500}),i=n.map((function(n){return{range:t._createDecorationRange(e.model,n),options:t._createDecorationOption(n)}}));e.update(n,i),this._onDidChangeMarker.fire(e.model)},t.prototype._createDecorationRange=function(e,t){var n=bn.lift(t);if(t.severity!==IP.Hint||this._hasMarkerTag(t,1)||this._hasMarkerTag(t,2)||(n=n.setEndPosition(n.startLineNumber,n.startColumn+2)),n=e.validateRange(n),n.isEmpty()){var i=e.getWordAtPosition(n.getStartPosition());if(i)n=new bn(n.startLineNumber,i.startColumn,n.endLineNumber,i.endColumn);else{var o=e.getLineLastNonWhitespaceColumn(n.startLineNumber)||e.getLineMaxColumn(n.startLineNumber);1===o||(n=n.endColumn>=o?new bn(n.startLineNumber,o-1,n.endLineNumber,o):new bn(n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn+1))}}else if(t.endColumn===Number.MAX_VALUE&&1===t.startColumn&&n.startLineNumber===n.endLineNumber){var r=e.getLineFirstNonWhitespaceColumn(t.startLineNumber);r<n.endColumn&&(n=new bn(n.startLineNumber,r,n.endLineNumber,n.endColumn),t.startColumn=r)}return n},t.prototype._createDecorationOption=function(e){var t,n,i,o=void 0,r=void 0;switch(e.severity){case IP.Hint:t=this._hasMarkerTag(e,2)?void 0:this._hasMarkerTag(e,1)?"squiggly-unnecessary":"squiggly-hint",n=0;break;case IP.Warning:t="squiggly-warning",o=f_(OS),n=20,i={color:f_(qC),position:Ol.Inline};break;case IP.Info:t="squiggly-info",o=f_(DS),n=10;break;case IP.Error:default:t="squiggly-error",o=f_(IS),n=30,i={color:f_(KC),position:Ol.Inline};break}return e.tags&&(-1!==e.tags.indexOf(1)&&(r="squiggly-inline-unnecessary"),-1!==e.tags.indexOf(2)&&(r="squiggly-inline-deprecated")),{stickiness:1,className:t,showIfCollapsed:!0,overviewRuler:{color:o,position:Il.Right},minimap:i,zIndex:n,inlineClassName:r}},t.prototype._hasMarkerTag=function(e,t){return!!e.tags&&e.tags.indexOf(t)>=0},t=KP([qP(0,pu),qP(1,AP)],t),t}(Ae),QP=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eF=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},tF=function(e,t){return function(n,i){t(n,i,e)}},nF=function(e){function t(t,n){var i=e.call(this)||this;i._contextKeyService=t,i._configurationService=n,i._accessibilitySupport=0,i._onDidChangeScreenReaderOptimized=new Ze,i._accessibilityModeEnabledContext=nL.bindTo(i._contextKeyService);var o=function(){return i._accessibilityModeEnabledContext.set(i.isScreenReaderOptimized())};return i._register(i._configurationService.onDidChangeConfiguration((function(e){e.affectsConfiguration("editor.accessibilitySupport")&&(o(),i._onDidChangeScreenReaderOptimized.fire())}))),o(),i.onDidChangeScreenReaderOptimized((function(){return o()})),i}return QP(t,e),Object.defineProperty(t.prototype,"onDidChangeScreenReaderOptimized",{get:function(){return this._onDidChangeScreenReaderOptimized.event},enumerable:!0,configurable:!0}),t.prototype.isScreenReaderOptimized=function(){var e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport},t.prototype.getAccessibilitySupport=function(){return this._accessibilitySupport},t=eF([tF(0,Bf),tF(1,uf)],t),t}(Ae),iF=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();(function(e){var t=new eL,n=function(){function e(e,t){this._serviceId=e,this._factory=t,this._value=null}return Object.defineProperty(e.prototype,"id",{get:function(){return this._serviceId},enumerable:!0,configurable:!0}),e.prototype.get=function(e){if(!this._value){if(e&&(this._value=e[this._serviceId.toString()]),this._value||(this._value=this._factory(e)),!this._value)throw new Error("Service "+this._serviceId+" is missing!");t.set(this._serviceId,this._value)}return this._value},e}();e.LazyStaticService=n;var i=[];function o(e,t){var o=new n(e,t);return i.push(o),o}function r(e){for(var t=new eL,n=0,o=UL();n<o.length;n++){var r=o[n],s=r[0],a=r[1];t.set(s,a)}for(var l in e)e.hasOwnProperty(l)&&t.set(Dn(l),e[l]);i.forEach((function(n){return t.set(n.id,n.get(e))}));var u=new NN(t,!0);return t.set(In,u),[t,u]}e.init=r,e.instantiationService=o(In,(function(){return new NN(t,!0)}));var s=new Lg;e.configurationService=o(uf,(function(){return s})),e.resourceConfigurationService=o(Ph,(function(){return new Ig(s)})),e.resourcePropertiesService=o(Fh,(function(){return new Og(s)})),e.contextService=o(rg,(function(){return new Ng})),e.labelService=o(MN,(function(){return new Bg})),e.telemetryService=o(vm,(function(){return new Dg})),e.dialogService=o(SN,(function(){return new Sg})),e.notificationService=o(ig,(function(){return new Eg})),e.markerService=o(AP,(function(){return new FP})),e.modeService=o(tO,(function(e){return new SO})),e.standaloneThemeService=o($I,(function(){return new xD})),e.logService=o(Bh,(function(){return new Vh})),e.modelService=o(pu,(function(t){return new OO(e.configurationService.get(t),e.resourcePropertiesService.get(t),e.standaloneThemeService.get(t),e.logService.get(t))})),e.markerDecorationsService=o(jP,(function(t){return new JP(e.modelService.get(t),e.markerService.get(t))})),e.codeEditorService=o(Rn,(function(t){return new JO(e.standaloneThemeService.get(t))})),e.editorProgressService=o(CI,(function(){return new Cg})),e.storageService=o(VP,(function(){return new HP})),e.editorWorkerService=o(rc,(function(t){return new Xh(e.modelService.get(t),e.resourceConfigurationService.get(t),e.logService.get(t))}))})(XP||(XP={}));var oF=function(e){function t(t,n){var i=e.call(this)||this,o=XP.init(n),r=o[0],s=o[1];i._serviceCollection=r,i._instantiationService=s;var a=i.get(uf),l=i.get(ig),u=i.get(vm),c=i.get(p_),h=function(e,t){var o=null;return n&&(o=n[e.toString()]),o||(o=t()),i._serviceCollection.set(e,o),o},d=h(Bf,(function(){return i._register(new HD(a))}));h(tL,(function(){return new nF(d,a)})),h(eP,(function(){return new tP(c)}));var p=h(qa,(function(){return new Tg(i._instantiationService)})),f=h(WI,(function(){return i._register(new kg(d,p,u,l,t))})),g=h(vN,(function(){return new Vg(t)})),m=h(mI,(function(){return i._register(new CN(g))}));return h(_I,(function(){var e=new fN(u,l,m,f,c);return e.configure({blockMouse:!1}),i._register(e)})),h(pm,(function(){return new UP(p)})),h(eO,(function(){return new Fg(XP.modelService.get(pu))})),i}return iF(t,e),t.prototype.get=function(e){var t=this._serviceCollection.get(e);if(!t)throw new Error("Missing service "+e);return t},t.prototype.set=function(e,t){this._serviceCollection.set(e,t)},t.prototype.has=function(e){return this._serviceCollection.has(e)},t}(Ae);function rF(e,t,n){var i=new oF(e,t),o=null;i.has(sc)||(o=new wg(XP.modelService.get()),i.set(sc,o)),i.has(Ja)||i.set(Ja,new ll(i.get(Rn),i.get(qa)));var r=n(i);return o&&o.setEditor(r),r}function sF(e,t,n){return rF(e,n||{},(function(n){return new JI(e,t,n,n.get(In),n.get(Rn),n.get(qa),n.get(Bf),n.get(WI),n.get(mI),n.get($I),n.get(ig),n.get(uf),n.get(tL))}))}function aF(e){return XP.codeEditorService.get().onCodeEditorAdd((function(t){e(t)}))}function lF(e,t,n){return rF(e,n||{},(function(n){return new QI(e,t,n,n.get(In),n.get(Bf),n.get(WI),n.get(mI),n.get(rc),n.get(Rn),n.get($I),n.get(ig),n.get(uf),n.get(_I),n.get(CI),null)}))}function uF(e,t){return new wl(e,t)}function cF(e,t,n){return XP.modelService.get().createModel(e,t,n)}function hF(e,t,n){if(e=e||"",!t){var i=e.indexOf("\n"),o=e;return-1!==i&&(o=e.substring(0,i)),cF(e,XP.modeService.get().createByFilepathOrFirstLine(n||null,o),n)}return cF(e,XP.modeService.get().create(t),n)}function dF(e,t){XP.modelService.get().setMode(e,XP.modeService.get().create(t))}function pF(e,t,n){e&&XP.markerService.get().changeOne(t,e.uri,n)}function fF(e){return XP.markerService.get().read(e)}function gF(e){return XP.modelService.get().getModel(e)}function mF(){return XP.modelService.get().getModels()}function _F(e){return XP.modelService.get().onModelAdded(e)}function vF(e){return XP.modelService.get().onModelRemoved(e)}function yF(e){return XP.modelService.get().onModelModeChanged((function(t){e({model:t.model,oldLanguage:t.oldModeId})}))}function bF(e){return od(XP.modelService.get(),e)}function wF(e,t){return sp.colorizeElement(XP.standaloneThemeService.get(),XP.modeService.get(),e,t)}function CF(e,t,n){return sp.colorize(XP.modeService.get(),e,t,n)}function SF(e,t,n){return void 0===n&&(n=4),sp.colorizeModelLine(e,t,n)}function EF(e){var t=Zu.get(e);return t||{getInitialState:function(){return Qu},tokenize:function(t,n,i){return nc(e,t,n,i)}}}function TF(e,t){var n=XP.modeService.get();n.triggerMode(t);for(var i=EF(t),o=e.split(/\r\n|\r|\n/),r=[],s=i.getInitialState(),a=0,l=o.length;a<l;a++){var u=o[a],c=i.tokenize(u,s,0);r[a]=c.tokens,s=c.endState}return r}function kF(e,t){XP.standaloneThemeService.get().defineTheme(e,t)}function xF(e){XP.standaloneThemeService.get().setTheme(e)}function LF(){Qg()}function IF(){return{create:sF,onDidCreateEditor:aF,createDiffEditor:lF,createDiffNavigator:uF,createModel:hF,setModelLanguage:dF,setModelMarkers:pF,getModelMarkers:fF,getModels:mF,getModel:gF,onDidCreateModel:_F,onWillDisposeModel:vF,onDidChangeModelLanguage:yF,createWebWorker:bF,colorizeElement:wF,colorize:CF,colorizeModelLine:SF,tokenize:TF,defineTheme:kF,setTheme:xF,remeasureFonts:LF,AccessibilitySupport:Vt,ContentWidgetPositionPreference:zt,CursorChangeReason:jt,DefaultEndOfLine:Gt,EditorAutoIndentStrategy:qt,EditorOption:Yt,EndOfLinePreference:Xt,EndOfLineSequence:Zt,MinimapPosition:nn,MouseTargetType:on,OverlayWidgetPositionPreference:rn,OverviewRulerLane:sn,RenderLineNumbersType:an,RenderMinimap:ln,ScrollbarVisibility:cn,ScrollType:un,TextEditorCursorBlinkingStyle:gn,TextEditorCursorStyle:mn,TrackedRangeStickiness:_n,WrappingIndent:vn,ConfigurationChangedEvent:_,BareFontInfo:kl,FontInfo:xl,TextModelResolvedOptions:Rl,FindMatch:Al,EditorType:Dl,EditorOptions:de}}function OF(e,t){if(!t)return!1;if(!Array.isArray(t))return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(!e(o))return!1}return!0}function DF(e,t){return"boolean"===typeof e?e:t}function NF(e,t){return"string"===typeof e?e:t}function RF(e){for(var t={},n=0,i=e;n<i.length;n++){var o=i[n];t[o]=!0}return t}function AF(e,t){void 0===t&&(t=!1),t&&(e=e.map((function(e){return e.toLowerCase()})));var n=RF(e);return t?function(e){return void 0!==n[e.toLowerCase()]&&n.hasOwnProperty(e.toLowerCase())}:function(e){return void 0!==n[e]&&n.hasOwnProperty(e)}}function MF(e,t){var n=0;while(t.indexOf("@")>=0&&n<5)n++,t=t.replace(/@(\w+)/g,(function(n,i){var o="";if("string"===typeof e[i])o=e[i];else{if(!(e[i]&&e[i]instanceof RegExp))throw void 0===e[i]?zd(e,"language definition does not contain attribute '"+i+"', used at: "+t):zd(e,"attribute reference '"+i+"' must be a string, used at: "+t);o=e[i].source}return Hd(o)?"":"(?:"+o+")"}));return new RegExp(t,e.ignoreCase?"i":"")}function PF(e,t,n,i){if(i<0)return e;if(i<t.length)return t[i];if(i>=100){i-=100;var o=n.split(".");if(o.unshift(n),i<o.length)return o[i]}return null}function FF(e,t,n,i){var o=-1,r=n,s=n.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);s&&(s[3]&&(o=parseInt(s[3]),s[2]&&(o+=100)),r=s[4]);var a,l="~",u=r;if(r&&0!==r.length?/^\w*$/.test(u)?l="==":(s=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),s&&(l=s[1],u=s[2])):(l="!=",u=""),"~"!==l&&"!~"!==l||!/^(\w|\|)*$/.test(u))if("@"===l||"!@"===l){var c=e[u];if(!c)throw zd(e,"the @ match target '"+u+"' is not defined, in rule: "+t);if(!OF((function(e){return"string"===typeof e}),c))throw zd(e,"the @ match target '"+u+"' must be an array of strings, in rule: "+t);var h=AF(c,e.ignoreCase);a=function(e){return"@"===l?h(e):!h(e)}}else if("~"===l||"!~"===l)if(u.indexOf("$")<0){var d=MF(e,"^"+u+"$");a=function(e){return"~"===l?d.test(e):!d.test(e)}}else a=function(t,n,i,o){var r=MF(e,"^"+jd(e,u,n,i,o)+"$");return r.test(t)};else if(u.indexOf("$")<0){var p=$d(e,u);a=function(e){return"=="===l?e===p:e!==p}}else{var f=$d(e,u);a=function(t,n,i,o,r){var s=jd(e,f,n,i,o);return"=="===l?t===s:t!==s}}else{var g=AF(u.split("|"),e.ignoreCase);a=function(e){return"~"===l?g(e):!g(e)}}return-1===o?{name:n,value:i,test:function(e,t,n,i){return a(e,e,t,n,i)}}:{name:n,value:i,test:function(e,t,n,i){var r=PF(e,t,n,o);return a(r||"",e,t,n,i)}}}function BF(e,t,n){if(n){if("string"===typeof n)return n;if(n.token||""===n.token){if("string"!==typeof n.token)throw zd(e,"a 'token' attribute must be of type string, in rule: "+t);var i={token:n.token};if(n.token.indexOf("$")>=0&&(i.tokenSubst=!0),"string"===typeof n.bracket)if("@open"===n.bracket)i.bracket=1;else{if("@close"!==n.bracket)throw zd(e,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+t);i.bracket=-1}if(n.next){if("string"!==typeof n.next)throw zd(e,"the next state must be a string value in rule: "+t);var o=n.next;if(!/^(@pop|@push|@popall)$/.test(o)&&("@"===o[0]&&(o=o.substr(1)),o.indexOf("$")<0&&!Kd(e,jd(e,o,"",[],""))))throw zd(e,"the next state '"+n.next+"' is not defined in rule: "+t);i.next=o}return"number"===typeof n.goBack&&(i.goBack=n.goBack),"string"===typeof n.switchTo&&(i.switchTo=n.switchTo),"string"===typeof n.log&&(i.log=n.log),"string"===typeof n.nextEmbedded&&(i.nextEmbedded=n.nextEmbedded,e.usesEmbedded=!0),i}if(Array.isArray(n)){for(var r=[],s=0,a=n.length;s<a;s++)r[s]=BF(e,t,n[s]);return{group:r}}if(n.cases){var l=[];for(var u in n.cases)if(n.cases.hasOwnProperty(u)){var c=BF(e,t,n.cases[u]);"@default"===u||"@"===u||""===u?l.push({test:void 0,value:c,name:u}):"@eos"===u?l.push({test:function(e,t,n,i){return i},value:c,name:u}):l.push(FF(e,t,u,c))}var h=e.defaultToken;return{test:function(e,t,n,i){for(var o=0,r=l;o<r.length;o++){var s=r[o],a=!s.test||s.test(e,t,n,i);if(a)return s.value}return h}}}throw zd(e,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+t)}return{token:""}}var VF=function(){function e(e){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=e}return e.prototype.setRegex=function(e,t){var n;if("string"===typeof t)n=t;else{if(!(t instanceof RegExp))throw zd(e,"rules must start with a match string or regular expression: "+this.name);n=t.source}this.matchOnlyAtLineStart=n.length>0&&"^"===n[0],this.name=this.name+": "+n,this.regex=MF(e,"^(?:"+(this.matchOnlyAtLineStart?n.substr(1):n)+")")},e.prototype.setAction=function(e,t){this.action=BF(e,this.name,t)},e}();function HF(e,t){if(!t||"object"!==typeof t)throw new Error("Monarch: expecting a language definition object");var n={};n.languageId=e,n.noThrow=!1,n.maxStack=100,n.start="string"===typeof t.start?t.start:null,n.ignoreCase=DF(t.ignoreCase,!1),n.tokenPostfix=NF(t.tokenPostfix,"."+n.languageId),n.defaultToken=NF(t.defaultToken,"source"),n.usesEmbedded=!1;var i=t;function o(e,r,s){for(var a=0,l=s;a<l.length;a++){var u=l[a],c=u.include;if(c){if("string"!==typeof c)throw zd(n,"an 'include' attribute must be a string at: "+e);if("@"===c[0]&&(c=c.substr(1)),!t.tokenizer[c])throw zd(n,"include target '"+c+"' is not defined at: "+e);o(e+"."+c,r,t.tokenizer[c])}else{var h=new VF(e);if(Array.isArray(u)&&u.length>=1&&u.length<=3)if(h.setRegex(i,u[0]),u.length>=3)if("string"===typeof u[1])h.setAction(i,{token:u[1],next:u[2]});else{if("object"!==typeof u[1])throw zd(n,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+e);var d=u[1];d.next=u[2],h.setAction(i,d)}else h.setAction(i,u[1]);else{if(!u.regex)throw zd(n,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+e);u.name&&"string"===typeof u.name&&(h.name=u.name),u.matchOnlyAtStart&&(h.matchOnlyAtLineStart=DF(u.matchOnlyAtLineStart,!1)),h.setRegex(i,u.regex),h.setAction(i,u.action)}r.push(h)}}}if(i.languageId=e,i.ignoreCase=n.ignoreCase,i.noThrow=n.noThrow,i.usesEmbedded=n.usesEmbedded,i.stateNames=t.tokenizer,i.defaultToken=n.defaultToken,!t.tokenizer||"object"!==typeof t.tokenizer)throw zd(n,"a language definition must define the 'tokenizer' attribute as an object");for(var r in n.tokenizer=[],t.tokenizer)if(t.tokenizer.hasOwnProperty(r)){n.start||(n.start=r);var s=t.tokenizer[r];n.tokenizer[r]=new Array,o("tokenizer."+r,n.tokenizer[r],s)}if(n.usesEmbedded=i.usesEmbedded,t.brackets){if(!Array.isArray(t.brackets))throw zd(n,"the 'brackets' attribute must be defined as an array")}else t.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];for(var a=[],l=0,u=t.brackets;l<u.length;l++){var c=u[l],h=c;if(h&&Array.isArray(h)&&3===h.length&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw zd(n,"open and close brackets in a 'brackets' attribute must be different: "+h.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!==typeof h.open||"string"!==typeof h.token||"string"!==typeof h.close)throw zd(n,"every element in the 'brackets' array must be a '{open,close,token}' object or array");a.push({token:h.token+n.tokenPostfix,open:$d(n,h.open),close:$d(n,h.close)})}return n.brackets=a,n.noThrow=!0,n}function $F(e){gO.registerLanguage(e)}function WF(){var e=[];return e=e.concat(gO.getLanguages()),e}function UF(e){var t=XP.modeService.get().getLanguageIdentifier(e);return t?t.id:0}function zF(e,t){var n=XP.modeService.get().onDidCreateMode((function(i){i.getId()===e&&(n.dispose(),t())}));return n}function jF(e,t){var n=XP.modeService.get().getLanguageIdentifier(e);if(!n)throw new Error("Cannot set configuration for unknown language "+e);return Uc.register(n,t)}var GF=function(){function e(e){this._actual=e}return e.prototype.getInitialState=function(){return this._actual.getInitialState()},e.prototype.tokenize=function(e,t,n){throw new Error("Not supported!")},e.prototype.tokenize2=function(e,t){var n=this._actual.tokenizeEncoded(e,t);return new Tn(n.tokens,n.endState)},e}(),KF=function(){function e(e,t,n){this._standaloneThemeService=e,this._languageIdentifier=t,this._actual=n}return e.prototype.getInitialState=function(){return this._actual.getInitialState()},e.prototype._toClassicTokens=function(e,t,n){for(var i=[],o=0,r=0,s=e.length;r<s;r++){var a=e[r],l=a.startIndex;0===r?l=0:l<o&&(l=o),i[r]=new Sn(l+n,a.scopes,t),o=l}return i},e.prototype.tokenize=function(e,t,n){var i,o=this._actual.tokenize(e,t),r=this._toClassicTokens(o.tokens,this._languageIdentifier.language,n);return i=o.endState.equals(t)?t:o.endState,new En(r,i)},e.prototype._toBinaryTokens=function(e,t){for(var n=this._languageIdentifier.id,i=this._standaloneThemeService.getTheme().tokenTheme,o=[],r=0,s=0,a=0,l=e.length;a<l;a++){var u=e[a],c=i.match(n,u.scopes);if(!(r>0&&o[r-1]===c)){var h=u.startIndex;0===a?h=0:h<s&&(h=s),o[r++]=h+t,o[r++]=c,s=h}}var d=new Uint32Array(r);for(a=0;a<r;a++)d[a]=o[a];return d},e.prototype.tokenize2=function(e,t,n){var i,o=this._actual.tokenize(e,t),r=this._toBinaryTokens(o.tokens,n);return i=o.endState.equals(t)?t:o.endState,new Tn(r,i)},e}();function qF(e){return"tokenizeEncoded"in e}function YF(e){return e&&"function"===typeof e.then}function XF(e,t){var n=XP.modeService.get().getLanguageIdentifier(e);if(!n)throw new Error("Cannot set tokens provider for unknown language "+e);var i=function(e){return qF(e)?new GF(e):new KF(XP.standaloneThemeService.get(),n,e)};return YF(t)?Zu.registerPromise(e,t.then((function(e){return i(e)}))):Zu.register(e,i(t))}function ZF(e,t){var n=function(t){return op(XP.modeService.get(),XP.standaloneThemeService.get(),e,HF(e,t))};return YF(t)?Zu.registerPromise(e,t.then((function(e){return n(e)}))):Zu.register(e,n(t))}function JF(e,t){return Iu.register(e,t)}function QF(e,t){return Ou.register(e,t)}function eB(e,t){return Nu.register(e,t)}function tB(e,t){return Ru.register(e,{provideHover:function(e,n,i){var o=e.getWordAtPosition(n);return Promise.resolve(t.provideHover(e,n,i)).then((function(e){if(e)return!e.range&&o&&(e.range=new bn(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)),e.range||(e.range=new bn(n.lineNumber,n.column,n.lineNumber,n.column)),e}))}})}function nB(e,t){return Au.register(e,t)}function iB(e,t){return Mu.register(e,t)}function oB(e,t){return Pu.register(e,t)}function rB(e,t){return Bu.register(e,t)}function sB(e,t){return Vu.register(e,t)}function aB(e,t){return Hu.register(e,t)}function lB(e,t){return $u.register(e,{provideCodeActions:function(e,n,i,o){var r=XP.markerService.get().read({resource:e.uri}).filter((function(e){return bn.areIntersectingOrTouching(e,n)}));return t.provideCodeActions(e,n,{markers:r,only:i.only},o)}})}function uB(e,t){return Wu.register(e,t)}function cB(e,t){return Uu.register(e,t)}function hB(e,t){return zu.register(e,t)}function dB(e,t){return ju.register(e,t)}function pB(e,t){return Du.register(e,t)}function fB(e,t){return Gu.register(e,t)}function gB(e,t){return qu.register(e,t)}function mB(e,t){return Fu.register(e,t)}function _B(e,t){return Ku.register(e,t)}function vB(e,t){return Yu.register(e,t)}function yB(e,t){return Xu.register(e,t)}function bB(){return{register:$F,getLanguages:WF,onLanguage:zF,getEncodedLanguageId:UF,setLanguageConfiguration:jF,setTokensProvider:XF,setMonarchTokensProvider:ZF,registerReferenceProvider:JF,registerRenameProvider:QF,registerCompletionItemProvider:pB,registerSignatureHelpProvider:eB,registerHoverProvider:tB,registerDocumentSymbolProvider:nB,registerDocumentHighlightProvider:iB,registerDefinitionProvider:oB,registerImplementationProvider:rB,registerTypeDefinitionProvider:sB,registerCodeLensProvider:aB,registerCodeActionProvider:lB,registerDocumentFormattingEditProvider:uB,registerDocumentRangeFormattingEditProvider:cB,registerOnTypeFormattingEditProvider:hB,registerLinkProvider:dB,registerColorProvider:fB,registerFoldingRangeProvider:gB,registerDeclarationProvider:mB,registerSelectionRangeProvider:_B,registerDocumentSemanticTokensProvider:vB,registerDocumentRangeSemanticTokensProvider:yB,DocumentHighlightKind:Kt,CompletionItemKind:$t,CompletionItemTag:Wt,CompletionItemInsertTextRule:Ht,SymbolKind:pn,SymbolTag:fn,IndentAction:Jt,CompletionTriggerKind:Ut,SignatureHelpTriggerKind:dn,FoldingRangeKind:Lu}}var wB=self;de.wrappingIndent.defaultValue=0,de.glyphMargin.defaultValue=!1,de.autoIndent.defaultValue=3,de.overviewRulerLanes.defaultValue=2;var CB=xn();CB.editor=IF(),CB.languages=bB();var SB=CB.CancellationTokenSource,EB=CB.Emitter,TB=CB.KeyCode,kB=CB.KeyMod,xB=CB.Position,LB=CB.Range,IB=CB.Selection,OB=CB.SelectionDirection,DB=CB.MarkerSeverity,NB=CB.MarkerTag,RB=CB.Uri,AB=CB.Token,MB=CB.editor,PB=CB.languages;wB.monaco=CB,"undefined"!==typeof wB.require&&"function"===typeof wB.require.config&&wB.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]});var FB,BB,VB,HB,$B,WB="3.7.5",UB=monaco.Emitter,zB=function(){function e(e,t){this._onDidChange=new UB,this._onDidExtraLibsChange=new UB,this._extraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this._onDidExtraLibsChangeTimeout=-1}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onDidExtraLibsChange",{get:function(){return this._onDidExtraLibsChange.event},enumerable:!0,configurable:!0}),e.prototype.getExtraLibs=function(){return this._extraLibs},e.prototype.addExtraLib=function(e,t){var n,i=this;if(n="undefined"===typeof t?"ts:extralib-"+Math.random().toString(36).substring(2,15):t,this._extraLibs[n]&&this._extraLibs[n].content===e)return{dispose:function(){}};var o=1;return this._extraLibs[n]&&(o=this._extraLibs[n].version+1),this._extraLibs[n]={content:e,version:o},this._fireOnDidExtraLibsChangeSoon(),{dispose:function(){var e=i._extraLibs[n];e&&e.version===o&&(delete i._extraLibs[n],i._fireOnDidExtraLibsChangeSoon())}}},e.prototype.setExtraLibs=function(e){if(this._extraLibs=Object.create(null),e&&e.length>0)for(var t=0,n=e;t<n.length;t++){var i=n[t],o=i.filePath||"ts:extralib-"+Math.random().toString(36).substring(2,15),r=i.content;this._extraLibs[o]={content:r,version:1}}this._fireOnDidExtraLibsChangeSoon()},e.prototype._fireOnDidExtraLibsChangeSoon=function(){var e=this;-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=setTimeout((function(){e._onDidExtraLibsChangeTimeout=-1,e._onDidExtraLibsChange.fire(void 0)}),0))},e.prototype.getCompilerOptions=function(){return this._compilerOptions},e.prototype.setCompilerOptions=function(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.getDiagnosticsOptions=function(){return this._diagnosticsOptions},e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)},e.prototype.setMaximumWorkerIdleTime=function(e){},e.prototype.setEagerModelSync=function(e){this._eagerModelSync=e},e.prototype.getEagerModelSync=function(){return this._eagerModelSync},e}();(function(e){e[e["None"]=0]="None",e[e["CommonJS"]=1]="CommonJS",e[e["AMD"]=2]="AMD",e[e["UMD"]=3]="UMD",e[e["System"]=4]="System",e[e["ES2015"]=5]="ES2015",e[e["ESNext"]=99]="ESNext"})(FB||(FB={})),function(e){e[e["None"]=0]="None",e[e["Preserve"]=1]="Preserve",e[e["React"]=2]="React",e[e["ReactNative"]=3]="ReactNative"}(BB||(BB={})),function(e){e[e["CarriageReturnLineFeed"]=0]="CarriageReturnLineFeed",e[e["LineFeed"]=1]="LineFeed"}(VB||(VB={})),function(e){e[e["ES3"]=0]="ES3",e[e["ES5"]=1]="ES5",e[e["ES2015"]=2]="ES2015",e[e["ES2016"]=3]="ES2016",e[e["ES2017"]=4]="ES2017",e[e["ES2018"]=5]="ES2018",e[e["ES2019"]=6]="ES2019",e[e["ES2020"]=7]="ES2020",e[e["ESNext"]=99]="ESNext",e[e["JSON"]=100]="JSON",e[e["Latest"]=99]="Latest"}(HB||(HB={})),function(e){e[e["Classic"]=1]="Classic",e[e["NodeJs"]=2]="NodeJs"}($B||($B={}));var jB=new zB({allowNonTsExtensions:!0,target:HB.Latest},{noSemanticValidation:!1,noSyntaxValidation:!1}),GB=new zB({allowNonTsExtensions:!0,allowJs:!0,target:HB.Latest},{noSemanticValidation:!0,noSyntaxValidation:!1});function KB(){return XB().then((function(e){return e.getTypeScriptWorker()}))}function qB(){return XB().then((function(e){return e.getJavaScriptWorker()}))}function YB(){return{ModuleKind:FB,JsxEmit:BB,NewLineKind:VB,ScriptTarget:HB,ModuleResolutionKind:$B,typescriptVersion:WB,typescriptDefaults:jB,javascriptDefaults:GB,getTypeScriptWorker:KB,getJavaScriptWorker:qB}}function XB(){return n.e("chunk-2d22502a").then(n.bind(null,"e328"))}monaco.languages.typescript=YB(),monaco.languages.onLanguage("typescript",(function(){return XB().then((function(e){return e.setupTypeScript(jB)}))})),monaco.languages.onLanguage("javascript",(function(){return XB().then((function(e){return e.setupJavaScript(GB)}))}));var ZB=monaco.Emitter,JB=function(){function e(e,t,n){this._onDidChange=new ZB,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(n)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),QB={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"}},eV={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},tV=new JB("css",QB,eV),nV=new JB("scss",QB,eV),iV=new JB("less",QB,eV);function oV(){return{cssDefaults:tV,lessDefaults:iV,scssDefaults:nV}}function rV(){return n.e("chunk-0b65ffb6").then(n.bind(null,"db4f"))}monaco.languages.css=oV(),monaco.languages.onLanguage("less",(function(){rV().then((function(e){return e.setupMode(iV)}))})),monaco.languages.onLanguage("scss",(function(){rV().then((function(e){return e.setupMode(nV)}))})),monaco.languages.onLanguage("css",(function(){rV().then((function(e){return e.setupMode(tV)}))}));var sV=monaco.Emitter,aV=function(){function e(e,t,n){this._onDidChange=new sV,this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(n)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!0,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),lV={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1},uV={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},cV=new aV("json",lV,uV);function hV(){return{jsonDefaults:cV}}function dV(){return n.e("chunk-e13e4362").then(n.bind(null,"47b9"))}monaco.languages.json=hV(),monaco.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),monaco.languages.onLanguage("json",(function(){dV().then((function(e){return e.setupMode(cV)}))}));var pV=monaco.Emitter,fV=function(){function e(e,t,n){this._onDidChange=new pV,this._languageId=e,this.setOptions(t),this.setModeConfiguration(n)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!0,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),gV={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},mV={format:gV,suggest:{html5:!0,angular1:!0,ionic:!0}},_V={format:gV,suggest:{html5:!0}},vV={format:gV,suggest:{html5:!0,razor:!0}};function yV(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===bV,documentFormattingEdits:e===bV,documentRangeFormattingEdits:e===bV}}var bV="html",wV="handlebars",CV="razor",SV=new fV(bV,mV,yV(bV)),EV=new fV(wV,_V,yV(wV)),TV=new fV(CV,vV,yV(CV));function kV(){return{htmlDefaults:SV,razorDefaults:TV,handlebarDefaults:EV}}function xV(){return n.e("chunk-30597b4a").then(n.bind(null,"fa5b"))}monaco.languages.html=kV(),monaco.languages.onLanguage(bV,(function(){xV().then((function(e){return e.setupMode(SV)}))})),monaco.languages.onLanguage(wV,(function(){xV().then((function(e){return e.setupMode(EV)}))})),monaco.languages.onLanguage(CV,(function(){xV().then((function(e){return e.setupMode(TV)}))}));var LV="undefined"===typeof monaco?self.monaco:monaco,IV={},OV={},DV=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,n){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=n}))}return e.getOrCreate=function(t){return OV[t]||(OV[t]=new e(t)),OV[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,IV[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function NV(e){var t=e.id;IV[t]=e,LV.languages.register(e);var n=DV.getOrCreate(t);LV.languages.setMonarchTokensProvider(t,n.whenLoaded().then((function(e){return e.language}))),LV.languages.onLanguage(t,(function(){n.load().then((function(e){LV.languages.setLanguageConfiguration(t,e.conf)}))}))}NV({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return n.e("chunk-2d226775").then(n.bind(null,"e97b"))}}),NV({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return n.e("chunk-2d0d056d").then(n.bind(null,"680e"))}}),NV({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return n.e("chunk-2d0ba136").then(n.bind(null,"3652"))}}),NV({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return n.e("chunk-2d2311f7").then(n.bind(null,"eecd"))}}),NV({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return n.e("chunk-2d229411").then(n.bind(null,"dd50"))}}),NV({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return n.e("chunk-2d0a3577").then(n.bind(null,"0287"))}}),NV({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return n.e("chunk-2d21f327").then(n.bind(null,"d995"))}}),NV({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return n.e("chunk-2d0e22d6").then(n.bind(null,"7e1c"))}}),NV({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return n.e("chunk-2d0e22d6").then(n.bind(null,"7e1c"))}}),NV({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return n.e("chunk-2d237ee7").then(n.bind(null,"fce9"))}}),NV({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return n.e("chunk-2d209408").then(n.bind(null,"a7ea"))}}),NV({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return n.e("chunk-2d21b84a").then(n.bind(null,"bfb2"))}}),NV({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return n.e("chunk-2d0afa49").then(n.bind(null,"0eca"))}}),NV({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return n.e("chunk-2d221a34").then(n.bind(null,"cacc"))}}),NV({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return n.e("chunk-2d0e542a").then(n.bind(null,"9470"))}}),NV({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return n.e("chunk-2d0aa90c").then(n.bind(null,"120e"))}}),NV({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars"],mimetypes:["text/x-handlebars-template"],loader:function(){return n.e("chunk-2d0c46d1").then(n.bind(null,"3b7c"))}}),NV({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return n.e("chunk-2d20ff23").then(n.bind(null,"b692"))}}),NV({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return n.e("chunk-2d0c4313").then(n.bind(null,"3a7f"))}}),NV({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return n.e("chunk-2d0a43df").then(n.bind(null,"0636"))}}),NV({id:"javascript",extensions:[".js",".es6",".jsx"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return n.e("chunk-7532b3ea").then(n.bind(null,"ed79"))}}),NV({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return n.e("chunk-2d221814").then(n.bind(null,"cb43"))}}),NV({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return n.e("chunk-2d0bb267").then(n.bind(null,"39f1"))}}),NV({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return n.e("chunk-2d217e5b").then(n.bind(null,"c94c"))}}),NV({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return n.e("chunk-2d0c512b").then(n.bind(null,"3e14"))}}),NV({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return n.e("chunk-2d0af08c").then(n.bind(null,"0d35"))}}),NV({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return n.e("chunk-2d22c171").then(n.bind(null,"f26e"))}}),NV({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return n.e("chunk-2d20f745").then(n.bind(null,"b463"))}}),NV({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return n.e("chunk-2d0e1fbe").then(n.bind(null,"7d83"))}}),NV({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return n.e("chunk-2d0e6c86").then(n.bind(null,"99e5"))}}),NV({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return n.e("chunk-2d221799").then(n.bind(null,"cb04"))}}),NV({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return n.e("chunk-2d0c0494").then(n.bind(null,"40ac"))}}),NV({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return n.e("chunk-2d0b6187").then(n.bind(null,"1c65"))}}),NV({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return n.e("chunk-2d0e57ec").then(n.bind(null,"9571"))}}),NV({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return n.e("chunk-2d0cf16e").then(n.bind(null,"61da"))}}),NV({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return n.e("chunk-7498b54e").then(n.bind(null,"5b540"))}}),NV({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return n.e("chunk-2d208ac5").then(n.bind(null,"a693"))}}),NV({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return n.e("chunk-2d0b2762").then(n.bind(null,"23e0"))}}),NV({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return n.e("chunk-2d22c2b8").then(n.bind(null,"f1a8"))}}),NV({id:"r",extensions:[".r",".rhistory",".rprofile",".rt"],aliases:["R","r"],loader:function(){return n.e("chunk-2d0c0a09").then(n.bind(null,"431e"))}}),NV({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return n.e("chunk-2d0abc00").then(n.bind(null,"1737"))}}),NV({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return n.e("chunk-2d0ea098").then(n.bind(null,"8fa5"))}}),NV({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return n.e("chunk-2d0bcec1").then(n.bind(null,"2a95"))}}),NV({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return n.e("chunk-2d0bdf38").then(n.bind(null,"2dd4"))}}),NV({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile"],aliases:["Ruby","rb"],loader:function(){return n.e("chunk-2d2295e9").then(n.bind(null,"dcc7"))}}),NV({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return n.e("chunk-2d238465").then(n.bind(null,"ff4c"))}}),NV({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return n.e("chunk-2d2214b3").then(n.bind(null,"ca76"))}}),NV({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return n.e("chunk-2d0e1b57").then(n.bind(null,"7c1f"))}}),NV({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return n.e("chunk-2d0bff92").then(n.bind(null,"4099"))}}),NV({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return n.e("chunk-2d0e6553").then(n.bind(null,"97fe"))}}),NV({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return n.e("chunk-2d0aeb45").then(n.bind(null,"0aca"))}}),NV({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return n.e("chunk-2d0d61fd").then(n.bind(null,"70e3"))}}),NV({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return n.e("chunk-2d0ae937").then(n.bind(null,"0b3b"))}}),NV({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return n.e("chunk-2d2138c7").then(n.bind(null,"acc2"))}}),NV({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return n.e("chunk-2d21dcd2").then(n.bind(null,"d39f"))}}),NV({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return n.e("chunk-2d216f3b").then(n.bind(null,"c53f"))}}),NV({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return n.e("chunk-2d0f0a11").then(n.bind(null,"9cd5"))}}),NV({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return n.e("chunk-2d22ca58").then(n.bind(null,"f3b7"))}}),NV({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return n.e("chunk-2d0d7e63").then(n.bind(null,"797b"))}}),NV({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return n.e("chunk-2d0d0645").then(n.bind(null,"687d"))}}),NV({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml"],loader:function(){return n.e("chunk-2d0aab07").then(n.bind(null,"11a2"))}});n("f004");var RV=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AV=Zb("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},r("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets.")),MV=function(e){function t(){return e.call(this,{id:"editor.action.jumpToBracket",label:r("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:xE.editorTextFocus,primary:3160,weight:100}})||this}return RV(t,e),t.prototype.run=function(e,t){var n=BV.get(t);n&&n.jumpToBracket()},t}(Cm),PV=function(e){function t(){return e.call(this,{id:"editor.action.selectToBracket",label:r("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})||this}return RV(t,e),t.prototype.run=function(e,t,n){var i=BV.get(t);if(i){var o=!0;n&&!1===n.selectBrackets&&(o=!1),i.selectToBracket(o)}},t}(Cm),FV=function(){function e(e,t,n){this.position=e,this.brackets=t,this.options=n}return e}(),BV=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._lastBracketsData=[],n._lastVersionId=0,n._decorations=[],n._updateBracketsSoon=n._register(new ki((function(){return n._updateBrackets()}),50)),n._matchBrackets=n._editor.getOption(53),n._updateBracketsSoon.schedule(),n._register(t.onDidChangeCursorPosition((function(e){"never"!==n._matchBrackets&&n._updateBracketsSoon.schedule()}))),n._register(t.onDidChangeModelContent((function(e){n._updateBracketsSoon.schedule()}))),n._register(t.onDidChangeModel((function(e){n._lastBracketsData=[],n._decorations=[],n._updateBracketsSoon.schedule()}))),n._register(t.onDidChangeModelLanguageConfiguration((function(e){n._lastBracketsData=[],n._updateBracketsSoon.schedule()}))),n._register(t.onDidChangeConfiguration((function(e){e.hasChanged(53)&&(n._matchBrackets=n._editor.getOption(53),n._decorations=n._editor.deltaDecorations(n._decorations,[]),n._lastBracketsData=[],n._lastVersionId=0,n._updateBracketsSoon.schedule())}))),n}return RV(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.jumpToBracket=function(){if(this._editor.hasModel()){var e=this._editor.getModel(),t=this._editor.getSelections().map((function(t){var n=t.getStartPosition(),i=e.matchBracket(n),o=null;if(i)i[0].containsPosition(n)?o=i[1].getStartPosition():i[1].containsPosition(n)&&(o=i[0].getStartPosition());else{var r=e.findEnclosingBrackets(n);if(r)o=r[0].getStartPosition();else{var s=e.findNextBracket(n);s&&s.range&&(o=s.range.getStartPosition())}}return o?new Cn(o.lineNumber,o.column,o.lineNumber,o.column):new Cn(n.lineNumber,n.column,n.lineNumber,n.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}},t.prototype.selectToBracket=function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),n=[];this._editor.getSelections().forEach((function(i){var o=i.getStartPosition(),r=t.matchBracket(o);if(!r&&(r=t.findEnclosingBrackets(o),!r)){var s=t.findNextBracket(o);s&&s.range&&(r=t.matchBracket(s.range.getStartPosition()))}var a=null,l=null;if(r){r.sort(bn.compareRangesUsingStarts);var u=r[0],c=r[1];a=e?u.getStartPosition():u.getEndPosition(),l=e?c.getEndPosition():c.getStartPosition()}a&&l&&n.push(new Cn(a.lineNumber,a.column,l.lineNumber,l.column))})),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}},t.prototype._updateBrackets=function(){if("never"!==this._matchBrackets){this._recomputeBrackets();for(var e=[],t=0,n=0,i=this._lastBracketsData;n<i.length;n++){var o=i[n],r=o.brackets;r&&(e[t++]={range:r[0],options:o.options},e[t++]={range:r[1],options:o.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}},t.prototype._recomputeBrackets=function(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);var e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);var n=this._editor.getModel(),i=n.getVersionId(),o=[];this._lastVersionId===i&&(o=this._lastBracketsData);for(var r=[],s=0,a=0,l=e.length;a<l;a++){var u=e[a];u.isEmpty()&&(r[s++]=u.getStartPosition())}r.length>1&&r.sort(yn.compare);var c=[],h=0,d=0,p=o.length;for(a=0,l=r.length;a<l;a++){var f=r[a];while(d<p&&o[d].position.isBefore(f))d++;if(d<p&&o[d].position.equals(f))c[h++]=o[d];else{var g=n.matchBracket(f),m=t._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;g||"always"!==this._matchBrackets||(g=n.findEnclosingBrackets(f,20),m=t._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),c[h++]=new FV(f,g,m)}}this._lastBracketsData=c,this._lastVersionId=i},t.ID="editor.contrib.bracketMatchingController",t._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Xy.register({stickiness:1,className:"bracket-match",overviewRuler:{color:f_(AV),position:Il.Center}}),t._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Xy.register({stickiness:1,className:"bracket-match"}),t}(Ae);Om(BV.ID,BV),Lm(PV),Lm(MV),w_((function(e,t){var n=e.getColor(SS);n&&t.addRule(".monaco-editor .bracket-match { background-color: "+n+"; }");var i=e.getColor(ES);i&&t.addRule(".monaco-editor .bracket-match { border: 1px solid "+i+"; }")})),fm.appendMenuItem(19,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:r({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});var VV=function(){function e(e,t){this._selection=e,this._isMovingLeft=t,this._cutStartIndex=-1,this._cutEndIndex=-1,this._moved=!1,this._selectionId=null}return e.prototype.getEditOperations=function(e,t){var n=this._selection;if(this._selectionId=t.trackSelection(n),n.startLineNumber===n.endLineNumber&&(!this._isMovingLeft||0!==n.startColumn)&&(this._isMovingLeft||n.endColumn!==e.getLineMaxColumn(n.startLineNumber))){var i,o,r,s=n.selectionStartLineNumber,a=e.getLineContent(s);this._isMovingLeft?(i=a.substring(0,n.startColumn-2),o=a.substring(n.startColumn-1,n.endColumn-1),r=a.substring(n.startColumn-2,n.startColumn-1)+a.substring(n.endColumn-1)):(i=a.substring(0,n.startColumn-1)+a.substring(n.endColumn-1,n.endColumn),o=a.substring(n.startColumn-1,n.endColumn-1),r=a.substring(n.endColumn));var l=i+o+r;t.addEditOperation(new bn(s,1,s,e.getLineMaxColumn(s)),null),t.addEditOperation(new bn(s,1,s,1),l),this._cutStartIndex=n.startColumn+(this._isMovingLeft?-1:1),this._cutEndIndex=this._cutStartIndex+n.endColumn-n.startColumn,this._moved=!0}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moved&&(n=n.setStartPosition(n.startLineNumber,this._cutStartIndex),n=n.setEndPosition(n.startLineNumber,this._cutEndIndex)),n},e}(),HV=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$V=function(e){function t(t,n){var i=e.call(this,n)||this;return i.left=t,i}return HV(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=[],i=t.getSelections(),o=0,r=i;o<r.length;o++){var s=r[o];n.push(new VV(s,this.left))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}},t}(Cm),WV=function(e){function t(){return e.call(this,!0,{id:"editor.action.moveCarretLeftAction",label:r("caret.moveLeft","Move Caret Left"),alias:"Move Caret Left",precondition:xE.writable})||this}return HV(t,e),t}($V),UV=function(e){function t(){return e.call(this,!1,{id:"editor.action.moveCarretRightAction",label:r("caret.moveRight","Move Caret Right"),alias:"Move Caret Right",precondition:xE.writable})||this}return HV(t,e),t}($V);Lm(WV),Lm(UV);var zV=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jV=function(e){function t(){return e.call(this,{id:"editor.action.transposeLetters",label:r("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:306},weight:100}})||this}return zV(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getModel(),i=[],o=t.getSelections(),r=0,s=o;r<s.length;r++){var a=s[r];if(a.isEmpty()){var l=a.startLineNumber,u=a.startColumn,c=n.getLineMaxColumn(l);if(1!==l||1!==u&&(2!==u||2!==c)){var h=u===c?a.getPosition():_E.rightPosition(n,a.getPosition().lineNumber,a.getPosition().column),d=_E.leftPosition(n,h.lineNumber,h.column),p=_E.leftPosition(n,d.lineNumber,d.column),f=n.getValueInRange(bn.fromPositions(p,d)),g=n.getValueInRange(bn.fromPositions(d,h)),m=bn.fromPositions(p,h);i.push(new hE(m,g+f))}}}i.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop())}},t}(Cm);Lm(jV);n("e431");var GV=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),KV="9_cutcopypaste",qV=s["f"]||document.queryCommandSupported("cut"),YV=s["f"]||document.queryCommandSupported("copy"),XV=YV&&!Wn,ZV=s["f"]||!jn&&document.queryCommandSupported("paste"),JV=function(e){function t(t,n){var i=e.call(this,n)||this;return i.browserCommand=t,i}return GV(t,e),t.prototype.runCommand=function(e,t){var n=e.get(Rn).getFocusedCodeEditor();n&&n.hasTextFocus()?n.trigger("keyboard",this.id,t):document.execCommand(this.browserCommand)},t.prototype.run=function(e,t){t.focus(),document.execCommand(this.browserCommand)},t}(Cm),QV=function(e){function t(){var t=this,n={kbExpr:xE.textInputFocus,primary:2102,win:{primary:2102,secondary:[1044]},weight:100};return s["f"]||(n=void 0),t=e.call(this,"cut",{id:"editor.action.clipboardCutAction",label:r("actions.clipboard.cutLabel","Cut"),alias:"Cut",precondition:xE.writable,kbOpts:n,contextMenuOpts:{group:KV,order:1},menuOpts:{menuId:17,group:"2_ccp",title:r({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1}})||this,t}return GV(t,e),t.prototype.run=function(t,n){if(n.hasModel()){var i=n.getOption(25);!i&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)}},t}(JV),eH=function(e){function t(){var t=this,n={kbExpr:xE.textInputFocus,primary:2081,win:{primary:2081,secondary:[2067]},weight:100};return s["f"]||(n=void 0),t=e.call(this,"copy",{id:"editor.action.clipboardCopyAction",label:r("actions.clipboard.copyLabel","Copy"),alias:"Copy",precondition:void 0,kbOpts:n,contextMenuOpts:{group:KV,order:2},menuOpts:{menuId:17,group:"2_ccp",title:r({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2}})||this,t}return GV(t,e),t.prototype.run=function(t,n){if(n.hasModel()){var i=n.getOption(25);!i&&n.getSelection().isEmpty()||e.prototype.run.call(this,t,n)}},t}(JV),tH=function(e){function t(){var t=this,n={kbExpr:xE.textInputFocus,primary:2100,win:{primary:2100,secondary:[1043]},weight:100};return s["f"]||(n=void 0),t=e.call(this,"paste",{id:"editor.action.clipboardPasteAction",label:r("actions.clipboard.pasteLabel","Paste"),alias:"Paste",precondition:xE.writable,kbOpts:n,contextMenuOpts:{group:KV,order:3},menuOpts:{menuId:17,group:"2_ccp",title:r({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:3}})||this,t}return GV(t,e),t}(JV),nH=function(e){function t(){return e.call(this,"copy",{id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:r("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:0,weight:100}})||this}return GV(t,e),t.prototype.run=function(t,n){if(n.hasModel()){var i=n.getOption(25);!i&&n.getSelection().isEmpty()||($b.forceCopyWithSyntaxHighlighting=!0,e.prototype.run.call(this,t,n),$b.forceCopyWithSyntaxHighlighting=!1)}},t}(JV);qV&&Lm(QV),YV&&Lm(eH),ZV&&Lm(tH),XV&&Lm(nH);var iH=function(){function e(e){this.executor=e,this._didRun=!1}return e.prototype.getValue=function(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value},Object.defineProperty(e.prototype,"rawValue",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}(),oH=function(){function e(e){this.value=e}return e.prototype.equals=function(e){return this.value===e.value},e.prototype.contains=function(t){return this.equals(t)||""===this.value||Hr(t.value,this.value+e.sep)},e.prototype.intersects=function(e){return this.contains(e)||e.contains(this)},e.prototype.append=function(t){return new e(this.value+e.sep+t)},e.sep=".",e.None=new e("@@none@@"),e.Empty=new e(""),e.QuickFix=new e("quickfix"),e.Refactor=new e("refactor"),e.Source=new e("source"),e.SourceOrganizeImports=e.Source.append("organizeImports"),e.SourceFixAll=e.Source.append("fixAll"),e}();function rH(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some((function(n){return aH(t,n,e.include)})))&&!(!e.includeSourceActions&&oH.Source.contains(t)))}function sH(e,t){var n=t.kind?new oH(t.kind):void 0;return!!(!e.include||n&&e.include.contains(n))&&(!(e.excludes&&n&&e.excludes.some((function(t){return aH(n,t,e.include)})))&&(!(!e.includeSourceActions&&n&&oH.Source.contains(n))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}function aH(e,t,n){return!!t.contains(e)&&(!n||!t.contains(n))}var lH=function(){function e(e,t,n){this.kind=e,this.apply=t,this.preferred=n}return e.fromUser=function(t,n){return t&&"object"===typeof t?new e(e.getKindFromUser(t,n.kind),e.getApplyFromUser(t,n.apply),e.getPreferredUser(t)):new e(n.kind,n.apply,!1)},e.getApplyFromUser=function(e,t){switch("string"===typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}},e.getKindFromUser=function(e,t){return"string"===typeof e.kind?new oH(e.kind):t},e.getPreferredUser=function(e){return"boolean"===typeof e.preferred&&e.preferred},e}(),uH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cH=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},hH=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},dH=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},pH="editor.action.codeAction",fH="editor.action.refactor",gH="editor.action.sourceAction",mH="editor.action.organizeImports",_H="editor.action.fixAll",vH=function(e){function t(n,i){var o=e.call(this)||this;return o._register(i),o.allActions=Ai(dH(n),t.codeActionsComparator),o.validActions=o.allActions.filter((function(e){return!e.disabled})),o}return uH(t,e),t.codeActionsComparator=function(e,t){return Hi(e.diagnostics)?Hi(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:Hi(t.diagnostics)?1:0},Object.defineProperty(t.prototype,"hasAutoFix",{get:function(){return this.validActions.some((function(e){return!!e.kind&&oH.QuickFix.contains(new oH(e.kind))&&!!e.isPreferred}))},enumerable:!0,configurable:!0}),t}(Ae);function yH(e,t,n,i){var o,r=this,s=n.filter||{},a={only:null===(o=s.include)||void 0===o?void 0:o.value,trigger:n.type},l=new ZL(e,i),u=bH(e,s),c=new Re,h=u.map((function(n){return cH(r,void 0,void 0,(function(){var i,o;return hH(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,n.provideCodeActions(e,t,a,l.token)];case 1:return i=r.sent(),l.token.isCancellationRequested||!i?[2,[]]:(c.add(i),[2,i.actions.filter((function(e){return e&&sH(s,e)}))]);case 2:if(o=r.sent(),ye(o))throw o;return me(o),[2,[]];case 3:return[2]}}))}))})),d=$u.onDidChange((function(){var t=$u.all(e);Di(t,u)||l.cancel()}));return Promise.all(h).then(Ki).then((function(e){return new vH(e,c)})).finally((function(){d.dispose(),l.dispose()}))}function bH(e,t){return $u.all(e).filter((function(e){return!e.providedCodeActionKinds||e.providedCodeActionKinds.some((function(e){return rH(t,new oH(e))}))}))}Sm("_executeCodeActionProvider",(function(e,t){return cH(this,void 0,void 0,(function(){var n,i,o,r,s,a;return hH(this,(function(l){switch(l.label){case 0:if(n=t.resource,i=t.rangeOrSelection,o=t.kind,!(n instanceof Lt))throw we();if(r=e.get(pu).getModel(n),!r)throw we();if(s=Cn.isISelection(i)?Cn.liftSelection(i):bn.isIRange(i)?r.validateRange(i):void 0,!s)throw we();return[4,yH(r,s,{type:2,filter:{includeSourceActions:!0,include:o&&o.value?new oH(o.value):void 0}},qe.None)];case 1:return a=l.sent(),setTimeout((function(){return a.dispose()}),100),[2,a.validActions]}}))}))}));n("b329");var wH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),CH=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},SH=function(e,t){return function(n,i){t(n,i,e)}},EH=function(e){function t(n,i){var o=e.call(this)||this;return o.closeTimeout=3e3,o._messageWidget=o._register(new Me),o._messageListeners=o._register(new Re),o._editor=n,o._visible=t.MESSAGE_VISIBLE.bindTo(i),o._register(o._editor.onDidAttemptReadOnlyEdit((function(){return o._onDidAttemptReadOnlyEdit()}))),o}return wH(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._visible.reset()},t.prototype.showMessage=function(e,t){var n,i=this;$g(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new kH(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((function(){return i.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((function(){return i.closeMessage()}))),this._messageListeners.add(this._editor.onDidDispose((function(){return i.closeMessage()}))),this._messageListeners.add(this._editor.onDidChangeModel((function(){return i.closeMessage()}))),this._messageListeners.add(new Ei((function(){return i.closeMessage()}),this.closeTimeout)),this._messageListeners.add(this._editor.onMouseMove((function(e){e.target.position&&(n?n.containsPosition(e.target.position)||i.closeMessage():n=new bn(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))},t.prototype.closeMessage=function(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(kH.fadeOut(this._messageWidget.value))},t.prototype._onDidAttemptReadOnlyEdit=function(){this._editor.hasModel()&&this.showMessage(r("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())},t.ID="editor.contrib.messageController",t.MESSAGE_VISIBLE=new Ff("messageVisible",!1),t=CH([SH(1,Bf)],t),t}(Ae),TH=wm.bindToContribution(EH.get);xm(new TH({id:"leaveEditorMessage",precondition:EH.MESSAGE_VISIBLE,handler:function(e){return e.closeMessage()},kbOpts:{weight:130,primary:9}}));var kH=function(){function e(e,t,n){var i=t.lineNumber,o=t.column;this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(i,i,0),this._position={lineNumber:i,column:o-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");var r=document.createElement("div");r.classList.add("message"),r.textContent=n,this._domNode.appendChild(r);var s=document.createElement("div");s.classList.add("anchor"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}return e.fadeOut=function(e){var t,n=function(){e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}},e.prototype.dispose=function(){this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"messageoverlay"},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return{position:this._position,preference:[1,2]}},e}();Om(EH.ID,EH),w_((function(e,t){var n=e.getColor(pw);if(n){var i=e.type===m_?2:1;t.addRule(".monaco-editor .monaco-editor-overlaymessage .anchor { border-top-color: "+n+"; }"),t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { border: "+i+"px solid "+n+"; }")}var o=e.getColor(hw);o&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { background-color: "+o+"; }");var r=e.getColor(dw);r&&t.addRule(".monaco-editor .monaco-editor-overlaymessage .message { color: "+r+"; }")}));var xH,LH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),IH=function(){return IH=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},IH.apply(this,arguments)},OH=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},DH=function(e,t){return function(n,i){t(n,i,e)}},NH=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},RH=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},AH=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},MH=function(e){function t(t,n){var i=e.call(this,t.command?t.command.id:t.title,t.title,void 0,!t.disabled,n)||this;return i.action=t,i}return LH(t,e),t}(rm),PH=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._editor=t,r._delegate=n,r._contextMenuService=i,r._visible=!1,r._showingActions=r._register(new Me),r._keybindingResolver=new FH({getKeybindings:function(){return o.getKeybindings()}}),r}return LH(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._visible},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t,n,i){return NH(this,void 0,void 0,(function(){var o,r,s,a,l=this;return RH(this,(function(u){if(o=i.includeDisabledActions?t.allActions:t.validActions,!o.length)return this._visible=!1,[2];if(!this._editor.getDomNode())throw this._visible=!1,be();return this._visible=!0,this._showingActions.value=t,r=this.getMenuActions(e,o),s=yn.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},a=this._keybindingResolver.getResolver(),this._contextMenuService.showContextMenu({getAnchor:function(){return s},getActions:function(){return r},onHide:function(){l._visible=!1,l._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:function(e){return e instanceof MH?a(e.action):void 0}}),[2]}))}))},t.prototype.getMenuActions=function(e,t){var n,i,o=this,r=function(e){return new MH(e,(function(){return o._delegate.onSelectCodeAction(e)}))},s=t.map(r),a=this._editor.getModel();if(a&&s.length)for(var l=0,u=$u.all(a);l<u.length;l++){var c=u[l];if(c._getAdditionalMenuItems){var h=c._getAdditionalMenuItems({trigger:e.type,only:null===(i=null===(n=e.filter)||void 0===n?void 0:n.include)||void 0===i?void 0:i.value},t);h.length&&s.push.apply(s,AH([new oI],h.map((function(e){return r({title:e.title,command:e})}))))}}return s},t.prototype._toCoords=function(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();var t=this._editor.getScrolledVisiblePosition(e),n=Uo(this._editor.getDomNode()),i=n.left+t.left,o=n.top+t.top+t.height;return{x:i,y:o}},t=OH([DH(2,_I),DH(3,WI)],t),t}(Ae),FH=function(){function e(e){this._keybindingProvider=e}return e.prototype.getResolver=function(){var t=this,n=new iH((function(){return t._keybindingProvider.getKeybindings().filter((function(t){return e.codeActionCommands.indexOf(t.command)>=0})).filter((function(e){return e.resolvedKeybinding})).map((function(e){var t=e.commandArgs;return e.command===mH?t={kind:oH.SourceOrganizeImports.value}:e.command===_H&&(t={kind:oH.SourceFixAll.value}),IH({resolvedKeybinding:e.resolvedKeybinding},lH.fromUser(t,{kind:oH.None,apply:"never"}))}))}));return function(e){if(e.kind){var i=t.bestKeybindingForCodeAction(e,n.getValue());return null===i||void 0===i?void 0:i.resolvedKeybinding}}},e.prototype.bestKeybindingForCodeAction=function(e,t){if(e.kind){var n=new oH(e.kind);return t.filter((function(e){return e.kind.contains(n)})).filter((function(t){return!t.preferred||e.isPreferred})).reduceRight((function(e,t){return e?e.kind.contains(t.kind)?t:e:t}),void 0)}},e.codeActionCommands=[fH,pH,gH,mH,_H],e}(),BH=(n("30d5"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),VH=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},HH=function(e,t){return function(n,i){t(n,i,e)}};(function(e){e.Hidden={type:0};var t=function(){function e(e,t,n,i){this.actions=e,this.trigger=t,this.editorPosition=n,this.widgetPosition=i,this.type=1}return e}();e.Showing=t})(xH||(xH={}));var $H=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._editor=t,r._quickFixActionId=n,r._preferredFixActionId=i,r._keybindingService=o,r._onClick=r._register(new Ze),r.onClick=r._onClick.event,r._state=xH.Hidden,r._domNode=document.createElement("div"),r._domNode.className="codicon codicon-lightbulb",r._editor.addContentWidget(r),r._register(r._editor.onDidChangeModelContent((function(e){var t=r._editor.getModel();(1!==r.state.type||!t||r.state.editorPosition.lineNumber>=t.getLineCount())&&r.hide()}))),$m.ignoreTarget(r._domNode),r._register(Eo(r._domNode,(function(e){if(1===r.state.type){r._editor.focus(),e.preventDefault();var t=Uo(r._domNode),n=t.top,i=t.height,o=r._editor.getOption(49),s=Math.floor(o/3);null!==r.state.widgetPosition.position&&r.state.widgetPosition.position.lineNumber<r.state.editorPosition.lineNumber&&(s+=o),r._onClick.fire({x:e.posx,y:n+i+s,actions:r.state.actions,trigger:r.state.trigger})}}))),r._register(bo(r._domNode,"mouseenter",(function(e){if(1===(1&e.buttons)){r.hide();var t=new Um;t.startMonitoring(e.target,e.buttons,Wm,(function(){}),(function(){t.dispose()}))}}))),r._register(r._editor.onDidChangeConfiguration((function(e){e.hasChanged(47)&&!r._editor.getOption(47).enabled&&r.hide()}))),r._updateLightBulbTitle(),r._register(r._keybindingService.onDidUpdateKeybindings(r._updateLightBulbTitle,r)),r}return BH(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._editor.removeContentWidget(this)},t.prototype.getId=function(){return"LightBulbWidget"},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return 1===this._state.type?this._state.widgetPosition:null},t.prototype.update=function(e,n,i){var o=this;if(e.validActions.length<=0)return this.hide();var r=this._editor.getOptions();if(!r.get(47).enabled)return this.hide();var s=i.lineNumber,a=i.column,l=this._editor.getModel();if(!l)return this.hide();var u=l.getOptions().tabSize,c=r.get(34),h=l.getLineContent(s),d=zy.computeIndentLevel(h,u),p=c.spaceWidth*d>22,f=function(e){return e>2&&o._editor.getTopForLineNumber(e)===o._editor.getTopForLineNumber(e-1)},g=s;if(!p)if(s>1&&!f(s-1))g-=1;else if(f(s+1)){if(a*c.spaceWidth<22)return this.hide()}else g+=1;this.state=new xH.Showing(e,n,i,{position:{lineNumber:g,column:1},preference:t._posPref}),vo(this._domNode,"codicon-lightbulb-autofix",e.hasAutoFix),this._editor.layoutContentWidget(this)},t.prototype.hide=function(){this.state=xH.Hidden,this._editor.layoutContentWidget(this)},Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){this._state=e,this._updateLightBulbTitle()},enumerable:!0,configurable:!0}),t.prototype._updateLightBulbTitle=function(){if(1===this.state.type&&this.state.actions.hasAutoFix){var e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=r("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",e.getLabel()))}var t=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=t?r("quickFixWithKb","Show Fixes ({0})",t.getLabel()):r("quickFix","Show Fixes")},Object.defineProperty(t.prototype,"title",{set:function(e){this._domNode.title=e},enumerable:!0,configurable:!0}),t._posPref=[0],t=VH([HH(3,WI)],t),t}(Ae);w_((function(e,t){var n=e.getColor(lC);n&&t.addRule("\n\t\t.monaco-editor .contentWidgets .codicon-lightbulb {\n\t\t\tcolor: "+n+";\n\t\t}");var i=e.getColor(uC);i&&t.addRule("\n\t\t.monaco-editor .contentWidgets .codicon-lightbulb-autofix {\n\t\t\tcolor: "+i+";\n\t\t}")}));var WH,UH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zH=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},jH=function(e,t){return function(n,i){t(n,i,e)}},GH=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},KH=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},qH=function(e){function t(t,n,i,o,r){var s=e.call(this)||this;return s._editor=t,s.delegate=o,s._activeCodeActions=s._register(new Me),s._codeActionWidget=new iH((function(){return s._register(r.createInstance(PH,s._editor,{onSelectCodeAction:function(e){return GH(s,void 0,void 0,(function(){return KH(this,(function(t){return this.delegate.applyCodeAction(e,!0),[2]}))}))}}))})),s._lightBulbWidget=new iH((function(){var e=s._register(r.createInstance($H,s._editor,n,i));return s._register(e.onClick((function(e){return s.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1})}))),e})),s}return UH(t,e),t.prototype.update=function(e){var t,n,i;return GH(this,void 0,void 0,(function(){var o,r,s,a,l;return KH(this,(function(u){switch(u.label){case 0:if(1!==e.type)return null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide(),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,e.actions];case 2:return o=u.sent(),[3,4];case 3:return r=u.sent(),ge(r),[2];case 4:if(this._lightBulbWidget.getValue().update(o,e.trigger,e.position),2!==e.trigger.type)return[3,11];if(!(null===(n=e.trigger.filter)||void 0===n?void 0:n.include))return[3,10];if(s=this.tryGetValidActionToApply(e.trigger,o),!s)return[3,9];u.label=5;case 5:return u.trys.push([5,,7,8]),[4,this.delegate.applyCodeAction(s,!1)];case 6:return u.sent(),[3,8];case 7:return o.dispose(),[7];case 8:return[2];case 9:if(e.trigger.context&&(a=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,o),a&&a.disabled))return EH.get(this._editor).showMessage(a.disabled,e.trigger.context.position),o.dispose(),[2];u.label=10;case 10:return l=!!(null===(i=e.trigger.filter)||void 0===i?void 0:i.include),!e.trigger.context||o.allActions.length&&(l||o.validActions.length)?(this._activeCodeActions.value=o,this._codeActionWidget.getValue().show(e.trigger,o,e.position,{includeDisabledActions:l}),[3,12]):(EH.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=o,o.dispose(),[2]);case 11:this._codeActionWidget.getValue().isVisible?o.dispose():this._activeCodeActions.value=o,u.label=12;case 12:return[2]}}))}))},t.prototype.getInvalidActionThatWouldHaveBeenApplied=function(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?Ji(t.allActions,(function(e){return e.disabled})):void 0},t.prototype.tryGetValidActionToApply=function(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0},t.prototype.showCodeActionList=function(e,t,n,i){return GH(this,void 0,void 0,(function(){return KH(this,(function(o){return this._codeActionWidget.getValue().show(e,t,n,i),[2]}))}))},t=zH([jH(4,In)],t),t}(Ae),YH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XH=new Ff("supportedCodeAction",""),ZH=function(e){function t(t,n,i,o){void 0===o&&(o=250);var r=e.call(this)||this;return r._editor=t,r._markerService=n,r._signalChange=i,r._delay=o,r._autoTriggerTimer=r._register(new Ei),r._register(r._markerService.onMarkerChanged((function(e){return r._onMarkerChanges(e)}))),r._register(r._editor.onDidChangeCursorPosition((function(){return r._onCursorChange()}))),r}return YH(t,e),t.prototype.trigger=function(e){var t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)},t.prototype._onMarkerChanges=function(e){var t=this,n=this._editor.getModel();n&&e.some((function(e){return ca(e,n.uri)}))&&this._autoTriggerTimer.cancelAndSet((function(){t.trigger({type:1})}),this._delay)},t.prototype._onCursorChange=function(){var e=this;this._autoTriggerTimer.cancelAndSet((function(){e.trigger({type:1})}),this._delay)},t.prototype._getRangeOfMarker=function(e){var t=this._editor.getModel();if(t)for(var n=0,i=this._markerService.read({resource:t.uri});n<i.length;n++){var o=i[n],r=t.validateRange(o);if(bn.intersectRanges(r,e))return bn.lift(r)}},t.prototype._getRangeOfSelectionUnlessWhitespaceEnclosed=function(e){if(this._editor.hasModel()){var t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&1===e.type){var i=n.getPosition(),o=i.lineNumber,r=i.column,s=t.getLineContent(o);if(0===s.length)return;if(1===r){if(/\s/.test(s[0]))return}else if(r===t.getLineMaxColumn(o)){if(/\s/.test(s[s.length-1]))return}else if(/\s/.test(s[r-2])&&/\s/.test(s[r-1]))return}return n}},t.prototype._createEventAndSignalChange=function(e,t){var n=this._editor.getModel();if(t&&n){var i=this._getRangeOfMarker(t),o=i?i.getStartPosition():t.getStartPosition(),r={trigger:e,selection:t,position:o};return this._signalChange(r),r}this._signalChange(void 0)},t}(Ae);(function(e){e.Empty={type:0};var t=function(){function e(e,t,n,i){this.trigger=e,this.rangeOrSelection=t,this.position=n,this.actions=i,this.type=1}return e}();e.Triggered=t})(WH||(WH={}));var JH=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._editor=t,r._markerService=n,r._progressService=o,r._codeActionOracle=r._register(new Me),r._state=WH.Empty,r._onDidChangeState=r._register(new Ze),r.onDidChangeState=r._onDidChangeState.event,r._supportedCodeActions=XH.bindTo(i),r._register(r._editor.onDidChangeModel((function(){return r._update()}))),r._register(r._editor.onDidChangeModelLanguage((function(){return r._update()}))),r._register($u.onDidChange((function(){return r._update()}))),r._update(),r}return YH(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.setState(WH.Empty,!0)},t.prototype._update=function(){var e=this;this._codeActionOracle.value=void 0,this.setState(WH.Empty);var t=this._editor.getModel();if(t&&$u.has(t)&&!this._editor.getOption(68)){for(var n=[],i=0,o=$u.all(t);i<o.length;i++){var r=o[i];Array.isArray(r.providedCodeActionKinds)&&n.push.apply(n,r.providedCodeActionKinds)}this._supportedCodeActions.set(n.join(" ")),this._codeActionOracle.value=new ZH(this._editor,this._markerService,(function(n){if(n){var i=_i((function(e){return yH(t,n.selection,n.trigger,e)}));e._progressService&&2===n.trigger.type&&e._progressService.showWhile(i,250),e.setState(new WH.Triggered(n.trigger,n.selection,n.position,i))}else e.setState(WH.Empty)}),void 0),this._codeActionOracle.value.trigger({type:1})}else this._supportedCodeActions.reset()},t.prototype.trigger=function(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)},t.prototype.setState=function(e,t){e!==this._state&&(1===this._state.type&&this._state.actions.cancel(),this._state=e,t||this._onDidChangeState.fire(e))},t}(Ae),QH=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e$=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},t$=function(e,t){return function(n,i){t(n,i,e)}},n$=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},i$=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},o$=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i};function r$(e){return xf.regex(XH.keys()[0],new RegExp("(\\s|^)"+Mr(e.value)+"\\b"))}var s$={type:"object",required:["kind"],defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:r("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:r("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[r("args.schema.apply.first","Always apply the first returned code action."),r("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),r("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:r("args.schema.preferred","Controls if only preferred code actions should be returned.")}}},a$=function(e){function t(t,n,i,o,r){var s=e.call(this)||this;return s._instantiationService=r,s._editor=t,s._model=s._register(new JH(s._editor,n,i,o)),s._register(s._model.onDidChangeState((function(e){return s.update(e)}))),s._ui=new iH((function(){return s._register(new qH(t,h$.Id,_$.Id,{applyCodeAction:function(e,t){return n$(s,void 0,void 0,(function(){return i$(this,(function(n){switch(n.label){case 0:return n.trys.push([0,,2,3]),[4,this._applyCodeAction(e)];case 1:return n.sent(),[3,3];case 2:return t&&this._trigger({type:1,filter:{}}),[7];case 3:return[2]}}))}))}},s._instantiationService))})),s}return QH(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.update=function(e){this._ui.getValue().update(e)},t.prototype.showCodeActions=function(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})},t.prototype.manualTriggerAtCurrentPosition=function(e,t,n){if(this._editor.hasModel()){EH.get(this._editor).closeMessage();var i=this._editor.getPosition();this._trigger({type:2,filter:t,autoApply:n,context:{notAvailableMessage:e,position:i}})}},t.prototype._trigger=function(e){return this._model.trigger(e)},t.prototype._applyCodeAction=function(e){return this._instantiationService.invokeFunction(l$,e,this._editor)},t.ID="editor.contrib.quickFixController",t=e$([t$(1,AP),t$(2,Bf),t$(3,CI),t$(4,In)],t),t}(Ae);function l$(e,t,n){return n$(this,void 0,void 0,(function(){var i,o,s,a,l,u;return i$(this,(function(c){switch(c.label){case 0:return i=e.get(eO),o=e.get(qa),s=e.get(vm),a=e.get(ig),s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.title,codeActionKind:t.kind,codeActionIsPreferred:!!t.isPreferred}),t.edit?[4,i.apply(t.edit,{editor:n})]:[3,2];case 1:c.sent(),c.label=2;case 2:if(!t.command)return[3,6];c.label=3;case 3:return c.trys.push([3,5,,6]),[4,o.executeCommand.apply(o,o$([t.command.id],t.command.arguments||[]))];case 4:return c.sent(),[3,6];case 5:return l=c.sent(),u=u$(l),a.error("string"===typeof u?u:r("applyCodeActionFailed","An unknown error occurred while applying the code action")),[3,6];case 6:return[2]}}))}))}function u$(e){return"string"===typeof e?e:e instanceof Error&&"string"===typeof e.message?e.message:void 0}function c$(e,t,n,i){if(e.hasModel()){var o=a$.get(e);o&&o.manualTriggerAtCurrentPosition(t,n,i)}}var h$=function(e){function t(){return e.call(this,{id:t.Id,label:r("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:xf.and(xE.writable,xE.hasCodeActionsProvider),kbOpts:{kbExpr:xE.editorTextFocus,primary:2132,weight:100}})||this}return QH(t,e),t.prototype.run=function(e,t){return c$(t,r("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)},t.Id="editor.action.quickFix",t}(Cm),d$=function(e){function t(){return e.call(this,{id:pH,precondition:xf.and(xE.writable,xE.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:s$}]}})||this}return QH(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=lH.fromUser(n,{kind:oH.Empty,apply:"ifSingle"});return c$(t,"string"===typeof(null===n||void 0===n?void 0:n.kind)?i.preferred?r("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):r("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):i.preferred?r("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):r("editor.action.codeAction.noneMessage","No code actions available"),{include:i.kind,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)},t}(wm),p$=function(e){function t(){return e.call(this,{id:fH,label:r("refactor.label","Refactor..."),alias:"Refactor...",precondition:xf.and(xE.writable,xE.hasCodeActionsProvider),kbOpts:{kbExpr:xE.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:xf.and(xE.writable,r$(oH.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:s$}]}})||this}return QH(t,e),t.prototype.run=function(e,t,n){var i=lH.fromUser(n,{kind:oH.Refactor,apply:"never"});return c$(t,"string"===typeof(null===n||void 0===n?void 0:n.kind)?i.preferred?r("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):r("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):i.preferred?r("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):r("editor.action.refactor.noneMessage","No refactorings available"),{include:oH.Refactor.contains(i.kind)?i.kind:oH.None,onlyIncludePreferredActions:i.preferred},i.apply)},t}(Cm),f$=function(e){function t(){return e.call(this,{id:gH,label:r("source.label","Source Action..."),alias:"Source Action...",precondition:xf.and(xE.writable,xE.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:xf.and(xE.writable,r$(oH.Source))},description:{description:"Source Action...",args:[{name:"args",schema:s$}]}})||this}return QH(t,e),t.prototype.run=function(e,t,n){var i=lH.fromUser(n,{kind:oH.Source,apply:"never"});return c$(t,"string"===typeof(null===n||void 0===n?void 0:n.kind)?i.preferred?r("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):r("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):i.preferred?r("editor.action.source.noneMessage.preferred","No preferred source actions available"):r("editor.action.source.noneMessage","No source actions available"),{include:oH.Source.contains(i.kind)?i.kind:oH.None,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)},t}(Cm),g$=function(e){function t(){return e.call(this,{id:mH,label:r("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:xf.and(xE.writable,r$(oH.SourceOrganizeImports)),kbOpts:{kbExpr:xE.editorTextFocus,primary:1581,weight:100}})||this}return QH(t,e),t.prototype.run=function(e,t){return c$(t,r("editor.action.organize.noneMessage","No organize imports action available"),{include:oH.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")},t}(Cm),m$=function(e){function t(){return e.call(this,{id:_H,label:r("fixAll.label","Fix All"),alias:"Fix All",precondition:xf.and(xE.writable,r$(oH.SourceFixAll))})||this}return QH(t,e),t.prototype.run=function(e,t){return c$(t,r("fixAll.noneMessage","No fix all action available"),{include:oH.SourceFixAll,includeSourceActions:!0},"ifSingle")},t}(Cm),_$=function(e){function t(){return e.call(this,{id:t.Id,label:r("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:xf.and(xE.writable,r$(oH.QuickFix)),kbOpts:{kbExpr:xE.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})||this}return QH(t,e),t.prototype.run=function(e,t){return c$(t,r("editor.action.autoFix.noneMessage","No auto fixes available"),{include:oH.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")},t.Id="editor.action.autoFix",t}(Cm);Om(a$.ID,a$),Lm(h$),Lm(p$),Lm(f$),Lm(g$),Lm(_$),Lm(m$),xm(new d$);var v$=function(){function e(){this.lenses=[],this._disposables=new Re}return e.prototype.dispose=function(){this._disposables.dispose()},e.prototype.add=function(e,t){this._disposables.add(e);for(var n=0,i=e.lenses;n<i.length;n++){var o=i[n];this.lenses.push({symbol:o,provider:t})}},e}();function y$(e,t){var n=Hu.ordered(e),i=new Map,o=new v$,r=n.map((function(n,r){return i.set(n,r),Promise.resolve(n.provideCodeLenses(e,t)).then((function(e){return e&&o.add(e,n)})).catch(me)}));return Promise.all(r).then((function(){return o.lenses=Ai(o.lenses,(function(e,t){return e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:i.get(e.provider)<i.get(t.provider)?-1:i.get(e.provider)>i.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0})),o}))}Sm("_executeCodeLensProvider",(function(e,t){var n=t.resource,i=t.itemResolveCount;if(!(n instanceof Lt))throw we();var o=e.get(pu).getModel(n);if(!o)throw we();var r=[],s=new Re;return y$(o,qe.None).then((function(e){s.add(e);for(var t=[],n=function(e){"undefined"===typeof i||Boolean(e.symbol.command)?r.push(e.symbol):i-- >0&&e.provider.resolveCodeLens&&t.push(Promise.resolve(e.provider.resolveCodeLens(o,e.symbol,qe.None)).then((function(t){return r.push(t||e.symbol)})))},a=0,l=e.lenses;a<l.length;a++){var u=l[a];n(u)}return Promise.all(t)})).then((function(){return r})).finally((function(){setTimeout((function(){return s.dispose()}),100)}))}));n("44c7");var b$=/(\\)?\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function w$(e){return e.replace(b$,(function(e,t){return t?e:"\\"+e}))}var C$=/\\\$\([a-z0-9\-]+?(?:~[a-z0-9\-]*?)?\)/gi;function S$(e){return e.replace(C$,(function(e){return"\\"+e}))}var E$=/(\\)?\$\((([a-z0-9\-]+?)(?:~([a-z0-9\-]*?))?)\)/gi;function T$(e){return e.replace(E$,(function(e,t,n,i,o){return t?"$("+n+")":'<span class="codicon codicon-'+i+(o?" codicon-animation-"+o:"")+'"></span>'}))}var k$=function(){function e(e,t){this.afterLineNumber=e,this._onHeight=t,this.heightInLines=1,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}return e.prototype.onComputedHeight=function(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())},e}(),x$=function(){function e(t,n,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=t,this._id="codelens.widget-"+e._idPool++,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration "+n}return e.prototype.withCommands=function(e,t){this._commands.clear();for(var n="",i=!1,o=0;o<e.length;o++){var r=e[o];if(r&&(i=!0,r.command)){var s=T$(Ar(r.command.title));r.command.id?(n+="<a id="+o+">"+s+"</a>",this._commands.set(String(o),r.command)):n+="<span>"+s+"</span>",o+1<e.length&&(n+="<span>&#160;|&#160;</span>")}}i?(n||(n="&#160;"),this._domNode.innerHTML=n,this._isEmpty&&t&&fo(this._domNode,"fadein"),this._isEmpty=!1):this._domNode.innerHTML="<span>no commands</span>"},e.prototype.getCommand=function(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0},e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.updatePosition=function(e){var t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}},e.prototype.getPosition=function(){return this._widgetPosition||null},e._idPool=0,e}(),L$=function(){function e(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}return e.prototype.addDecoration=function(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)},e.prototype.removeDecoration=function(e){this._removeDecorations.push(e)},e.prototype.commit=function(e){for(var t=e.deltaDecorations(this._removeDecorations,this._addDecorations),n=0,i=t.length;n<i;n++)this._addDecorationsCallbacks[n](t[n])},e}(),I$=function(){function e(e,t,n,i,o,r){var s,a=this;this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];var l=[];this._data.forEach((function(e,t){e.symbol.command&&l.push(e.symbol),i.addDecoration({range:e.symbol.range,options:Xy.EMPTY},(function(e){return a._decorationIds[t]=e})),s=s?bn.plusRange(s,e.symbol.range):bn.lift(e.symbol.range)})),this._viewZone=new k$(s.startLineNumber-1,r),this._viewZoneId=o.addZone(this._viewZone),l.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(l,!1))}return e.prototype._createContentWidgetIfNecessary=function(){this._contentWidget||(this._contentWidget=new x$(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))},e.prototype.dispose=function(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.isValid=function(){var e=this;return this._decorationIds.some((function(t,n){var i=e._editor.getModel().getDecorationRange(t),o=e._data[n].symbol;return!(!i||bn.isEmpty(o.range)!==i.isEmpty())}))},e.prototype.updateCodeLensSymbols=function(e,t){var n=this;this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((function(e,i){t.addDecoration({range:e.symbol.range,options:Xy.EMPTY},(function(e){return n._decorationIds[i]=e}))}))},e.prototype.computeIfNecessary=function(e){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(var t=0;t<this._decorationIds.length;t++){var n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data},e.prototype.updateCommands=function(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(var t=0;t<this._data.length;t++){var n=e[t];if(n){var i=this._data[t].symbol;i.command=n.command||i.command}}},e.prototype.getCommand=function(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)},e.prototype.getLineNumber=function(){var e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1},e.prototype.update=function(e){if(this.isValid()){var t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}},e}();w_((function(e,t){var n=e.getColor(CS);n&&(t.addRule(".monaco-editor .codelens-decoration { color: "+n+"; }"),t.addRule(".monaco-editor .codelens-decoration .codicon { color: "+n+"; }"));var i=e.getColor(aC);i&&(t.addRule(".monaco-editor .codelens-decoration > a:hover { color: "+i+" !important; }"),t.addRule(".monaco-editor .codelens-decoration > a:hover .codicon { color: "+i+" !important; }"))}));var O$=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},D$=function(e,t){return function(n,i){t(n,i,e)}},N$=Dn("ICodeLensCache"),R$=function(){function e(e,t){this.lineCount=e,this.data=t}return e}(),A$=function(){function e(e){var t=this;this._fakeProvider=new(function(){function e(){}return e.prototype.provideCodeLenses=function(){throw new Error("not supported")},e}()),this._cache=new Ga(20,.75);var n="codelens/cache";Si((function(){return e.remove(n,1)}));var i="codelens/cache2",o=e.get(i,1,"{}");this._deserialize(o),Se(e.onWillSaveState)((function(n){n.reason===MP.SHUTDOWN&&e.store(i,t._serialize(),1)}))}return e.prototype.put=function(e,t){var n=t.lenses.map((function(e){var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),i=new v$;i.add({lenses:n,dispose:function(){}},this._fakeProvider);var o=new R$(e.getLineCount(),i);this._cache.set(e.uri.toString(),o)},e.prototype.get=function(e){var t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0},e.prototype.delete=function(e){this._cache.delete(e.uri.toString())},e.prototype._serialize=function(){var e=Object.create(null);return this._cache.forEach((function(t,n){for(var i=new Set,o=0,r=t.data.lenses;o<r.length;o++){var s=r[o];i.add(s.symbol.range.startLineNumber)}e[n]={lineCount:t.lineCount,lines:Fa(i)}})),JSON.stringify(e)},e.prototype._deserialize=function(e){try{var t=JSON.parse(e);for(var n in t){for(var i=t[n],o=[],r=0,s=i.lines;r<s.length;r++){var a=s[r];o.push({range:new bn(a,1,a,11)})}var l=new v$;l.add({lenses:o,dispose:function(){}},this._fakeProvider),this._cache.set(n,new R$(i.lineCount,l))}}catch(u){}},e=O$([D$(0,VP)],e),e}();WL(N$,A$);var M$=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},P$=function(e,t){return function(n,i){t(n,i,e)}},F$=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},B$=function(){function e(e,t,n,i){var o=this;this._editor=e,this._commandService=t,this._notificationService=n,this._codeLensCache=i,this._globalToDispose=new Re,this._localToDispose=new Re,this._lenses=[],this._oldCodeLensModels=new Re,this._modelChangeCounter=0,this._isEnabled=this._editor.getOption(11),this._globalToDispose.add(this._editor.onDidChangeModel((function(){return o._onModelChange()}))),this._globalToDispose.add(this._editor.onDidChangeModelLanguage((function(){return o._onModelChange()}))),this._globalToDispose.add(this._editor.onDidChangeConfiguration((function(){var e=o._isEnabled;o._isEnabled=o._editor.getOption(11),e!==o._isEnabled&&o._onModelChange()}))),this._globalToDispose.add(Hu.onDidChange(this._onModelChange,this)),this._globalToDispose.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&o._updateLensStyle()}))),this._onModelChange(),this._styleClassName=jc(this._editor.getId()).toString(16),this._styleElement=er(Jo(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}return e.prototype.dispose=function(){this._localDispose(),this._globalToDispose.dispose(),this._oldCodeLensModels.dispose(),Ie(this._currentCodeLensModel)},e.prototype._updateLensStyle=function(){var e=this._editor.getOptions(),t=e.get(34),n=e.get(49),i=Math.round(1.1*n),o=Math.round(.9*t.fontSize),r="\n\t\t.monaco-editor .codelens-decoration."+this._styleClassName+" { height: "+i+"px; line-height: "+n+"px; font-size: "+o+"px; padding-right: "+Math.round(.45*t.fontSize)+"px;}\n\t\t.monaco-editor .codelens-decoration."+this._styleClassName+" > a > .codicon { line-height: "+n+"px; font-size: "+o+"px; }\n\t\t";this._styleElement.innerHTML=r},e.prototype._localDispose=function(){this._currentFindCodeLensSymbolsPromise&&(this._currentFindCodeLensSymbolsPromise.cancel(),this._currentFindCodeLensSymbolsPromise=void 0,this._modelChangeCounter++),this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0),this._localToDispose.clear(),this._oldCodeLensModels.clear(),Ie(this._currentCodeLensModel)},e.prototype._onModelChange=function(){var e=this;this._localDispose();var t=this._editor.getModel();if(t&&this._isEnabled){var n=this._codeLensCache.get(t);if(n&&this._renderCodeLensSymbols(n),Hu.has(t)){for(var i=0,o=Hu.all(t);i<o.length;i++){var r=o[i];if("function"===typeof r.onDidChange){var s=r.onDidChange((function(){return l.schedule()}));this._localToDispose.add(s)}}var a=this._detectVisibleLenses=new ki((function(){return e._onViewportChanged()}),250),l=new ki((function(){var n=++e._modelChangeCounter;e._currentFindCodeLensSymbolsPromise&&e._currentFindCodeLensSymbolsPromise.cancel(),e._currentFindCodeLensSymbolsPromise=_i((function(e){return y$(t,e)})),e._currentFindCodeLensSymbolsPromise.then((function(i){n===e._modelChangeCounter&&(e._currentCodeLensModel&&e._oldCodeLensModels.add(e._currentCodeLensModel),e._currentCodeLensModel=i,e._codeLensCache.put(t,i),e._renderCodeLensSymbols(i),a.schedule())}),ge)}),250);this._localToDispose.add(l),this._localToDispose.add(a),this._localToDispose.add(this._editor.onDidChangeModelContent((function(){e._editor.changeDecorations((function(t){e._editor.changeViewZones((function(n){var i=[],o=-1;e._lenses.forEach((function(e){e.isValid()&&o!==e.getLineNumber()?(e.update(n),o=e.getLineNumber()):i.push(e)}));var r=new L$;i.forEach((function(t){t.dispose(r,n),e._lenses.splice(e._lenses.indexOf(t),1)})),r.commit(t)}))})),a.schedule(),l.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((function(t){t.scrollTopChanged&&e._lenses.length>0&&a.schedule()}))),this._localToDispose.add(this._editor.onDidLayoutChange((function(){a.schedule()}))),this._localToDispose.add(De((function(){if(e._editor.getModel()){var t=JL.capture(e._editor);e._editor.changeDecorations((function(t){e._editor.changeViewZones((function(n){e._disposeAllLenses(t,n)}))})),t.restore(e._editor)}else e._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseUp((function(t){var n;if(9===t.target.type){var i=t.target.element;if("SPAN"===(null===i||void 0===i?void 0:i.tagName)&&(i=i.parentElement),"A"===(null===i||void 0===i?void 0:i.tagName))for(var o=0,r=e._lenses;o<r.length;o++){var s=r[o],a=s.getCommand(i);if(a){(n=e._commandService).executeCommand.apply(n,F$([a.id],a.arguments||[])).catch((function(t){return e._notificationService.error(t)}));break}}}}))),l.schedule()}else n&&this._localToDispose.add(wi((function(){var i=e._codeLensCache.get(t);n===i&&(e._codeLensCache.delete(t),e._onModelChange())}),3e4))}},e.prototype._disposeAllLenses=function(e,t){for(var n=new L$,i=0,o=this._lenses;i<o.length;i++){var r=o[i];r.dispose(n,t)}e&&n.commit(e),this._lenses=[]},e.prototype._renderCodeLensSymbols=function(e){var t=this;if(this._editor.hasModel()){for(var n,i=this._editor.getModel().getLineCount(),o=[],r=0,s=e.lenses;r<s.length;r++){var a=s[r],l=a.symbol.range.startLineNumber;l<1||l>i||(n&&n[n.length-1].symbol.range.startLineNumber===l?n.push(a):(n=[a],o.push(n)))}var u=JL.capture(this._editor);this._editor.changeDecorations((function(e){t._editor.changeViewZones((function(n){var i=new L$,r=0,s=0;while(s<o.length&&r<t._lenses.length){var a=o[s][0].symbol.range.startLineNumber,l=t._lenses[r].getLineNumber();l<a?(t._lenses[r].dispose(i,n),t._lenses.splice(r,1)):l===a?(t._lenses[r].updateCodeLensSymbols(o[s],i),s++,r++):(t._lenses.splice(r,0,new I$(o[s],t._editor,t._styleClassName,i,n,(function(){return t._detectVisibleLenses&&t._detectVisibleLenses.schedule()}))),r++,s++)}while(r<t._lenses.length)t._lenses[r].dispose(i,n),t._lenses.splice(r,1);while(s<o.length)t._lenses.push(new I$(o[s],t._editor,t._styleClassName,i,n,(function(){return t._detectVisibleLenses&&t._detectVisibleLenses.schedule()}))),s++;i.commit(e)}))})),u.restore(this._editor)}},e.prototype._onViewportChanged=function(){var e=this;this._currentResolveCodeLensSymbolsPromise&&(this._currentResolveCodeLensSymbolsPromise.cancel(),this._currentResolveCodeLensSymbolsPromise=void 0);var t=this._editor.getModel();if(t){var n=[],i=[];if(this._lenses.forEach((function(e){var o=e.computeIfNecessary(t);o&&(n.push(o),i.push(e))})),0!==n.length){var o=_i((function(e){var o=n.map((function(n,o){var r=new Array(n.length),s=n.map((function(n,i){return n.symbol.command||"function"!==typeof n.provider.resolveCodeLens?(r[i]=n.symbol,Promise.resolve(void 0)):Promise.resolve(n.provider.resolveCodeLens(t,n.symbol,e)).then((function(e){r[i]=e}),me)}));return Promise.all(s).then((function(){e.isCancellationRequested||i[o].isDisposed()||i[o].updateCommands(r)}))}));return Promise.all(o)}));this._currentResolveCodeLensSymbolsPromise=o,this._currentResolveCodeLensSymbolsPromise.then((function(){e._currentCodeLensModel&&e._codeLensCache.put(t,e._currentCodeLensModel),e._oldCodeLensModels.clear(),o===e._currentResolveCodeLensSymbolsPromise&&(e._currentResolveCodeLensSymbolsPromise=void 0)}),(function(t){ge(t),o===e._currentResolveCodeLensSymbolsPromise&&(e._currentResolveCodeLensSymbolsPromise=void 0)}))}}},e.ID="css.editor.codeLens",e=M$([P$(1,qa),P$(2,ig),P$(3,N$)],e),e}();function V$(e,t){var n=[],i=Gu.ordered(e).reverse(),o=i.map((function(i){return Promise.resolve(i.provideDocumentColors(e,t)).then((function(e){if(Array.isArray(e))for(var t=0,o=e;t<o.length;t++){var r=o[t];n.push({colorInfo:r,provider:i})}}))}));return Promise.all(o).then((function(){return n}))}function H$(e,t,n,i){return Promise.resolve(n.provideColorPresentations(e,t,i))}Om(B$.ID,B$),Sm("_executeDocumentColorProvider",(function(e,t){var n=t.resource;if(!(n instanceof Lt))throw we();var i=e.get(pu).getModel(n);if(!i)throw we();var o=[],r=Gu.ordered(i).reverse(),s=r.map((function(e){return Promise.resolve(e.provideDocumentColors(i,qe.None)).then((function(e){if(Array.isArray(e))for(var t=0,n=e;t<n.length;t++){var i=n[t];o.push({range:i.range,color:[i.color.red,i.color.green,i.color.blue,i.color.alpha]})}}))}));return Promise.all(s).then((function(){return o}))})),Sm("_executeColorPresentationProvider",(function(e,t){var n=t.resource,i=t.color,o=t.range;if(!(n instanceof Lt)||!Array.isArray(i)||4!==i.length||!bn.isIRange(o))throw we();var r=i[0],s=i[1],a=i[2],l=i[3],u=e.get(pu).getModel(n);if(!u)throw we();var c={range:o,color:{red:r,green:s,blue:a,alpha:l}},h=[],d=Gu.ordered(u).reverse(),p=d.map((function(e){return Promise.resolve(e.provideColorPresentations(u,c,qe.None)).then((function(e){Array.isArray(e)&&h.push.apply(h,e)}))}));return Promise.all(p).then((function(){return h}))}));var $$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),W$=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},U$=function(e,t){return function(n,i){t(n,i,e)}},z$=500,j$=function(e){function t(t,n,i){var o=e.call(this)||this;return o._editor=t,o._codeEditorService=n,o._configurationService=i,o._localToDispose=o._register(new Re),o._decorationsIds=[],o._colorDatas=new Map,o._colorDecoratorIds=[],o._decorationsTypes=new Set,o._register(t.onDidChangeModel((function(e){o._isEnabled=o.isEnabled(),o.onModelChanged()}))),o._register(t.onDidChangeModelLanguage((function(e){return o.onModelChanged()}))),o._register(Gu.onDidChange((function(e){return o.onModelChanged()}))),o._register(t.onDidChangeConfiguration((function(e){var t=o._isEnabled;o._isEnabled=o.isEnabled(),t!==o._isEnabled&&(o._isEnabled?o.onModelChanged():o.removeAllDecorations())}))),o._timeoutTimer=null,o._computePromise=null,o._isEnabled=o.isEnabled(),o.onModelChanged(),o}return $$(t,e),t.prototype.isEnabled=function(){var e=this._editor.getModel();if(!e)return!1;var t=e.getLanguageIdentifier(),n=this._configurationService.getValue(t.language);if(n){var i=n["colorDecorators"];if(i&&void 0!==i["enable"]&&!i["enable"])return i["enable"]}return this._editor.getOption(12)},t.get=function(e){return e.getContribution(this.ID)},t.prototype.dispose=function(){this.stop(),this.removeAllDecorations(),e.prototype.dispose.call(this)},t.prototype.onModelChanged=function(){var e=this;if(this.stop(),this._isEnabled){var n=this._editor.getModel();n&&Gu.has(n)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((function(n){e._timeoutTimer||(e._timeoutTimer=new Ei,e._timeoutTimer.cancelAndSet((function(){e._timeoutTimer=null,e.beginCompute()}),t.RECOMPUTE_TIME))}))),this.beginCompute())}},t.prototype.beginCompute=function(){var e=this;this._computePromise=_i((function(t){var n=e._editor.getModel();return n?V$(n,t):Promise.resolve([])})),this._computePromise.then((function(t){e.updateDecorations(t),e.updateColorDecorators(t),e._computePromise=null}),ge)},t.prototype.stop=function(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()},t.prototype.updateDecorations=function(e){var t=this,n=e.map((function(e){return{range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:Xy.EMPTY}}));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,n),this._colorDatas=new Map,this._decorationsIds.forEach((function(n,i){return t._colorDatas.set(n,e[i])}))},t.prototype.updateColorDecorators=function(e){for(var t=this,n=[],i={},o=0;o<e.length&&n.length<z$;o++){var r=e[o].colorInfo.color,s=r.red,a=r.green,l=r.blue,u=r.alpha,c=new Ny(Math.round(255*s),Math.round(255*a),Math.round(255*l),u),h=jc(c).toString(16),d="rgba("+c.r+", "+c.g+", "+c.b+", "+c.a+")",p="colorBox-"+h;this._decorationsTypes.has(p)||i[p]||this._codeEditorService.registerDecorationType(p,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:d},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),i[p]=!0,n.push({range:{startLineNumber:e[o].colorInfo.range.startLineNumber,startColumn:e[o].colorInfo.range.startColumn,endLineNumber:e[o].colorInfo.range.endLineNumber,endColumn:e[o].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(p,!0)})}this._decorationsTypes.forEach((function(e){i[e]||t._codeEditorService.removeDecorationType(e)})),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,n)},t.prototype.removeAllDecorations=function(){var e=this;this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach((function(t){e._codeEditorService.removeDecorationType(t)}))},t.prototype.getColorData=function(e){var t=this,n=this._editor.getModel();if(!n)return null;var i=n.getDecorationsInRange(bn.fromPositions(e,e)).filter((function(e){return t._colorDatas.has(e.id)}));return 0===i.length?null:this._colorDatas.get(i[0].id)},t.ID="editor.contrib.colorDetector",t.RECOMPUTE_TIME=1e3,t=W$([U$(1,Rn),U$(2,uf)],t),t}(Ae);Om(j$.ID,j$);var G$=function(){function e(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}return e._haystackHasNeedleAtOffset=function(e,t,n){if(n<0)return!1;var i=t.length,o=e.length;if(n+i>o)return!1;for(var r=0;r<i;r++){var s=e.charCodeAt(n+r),a=t.charCodeAt(r);if(s!==a&&(!(s>=65&&s<=90&&s+32===a)&&!(a>=65&&a<=90&&a+32===s)))return!1}return!0},e.prototype._createOperationsForBlockComment=function(t,n,i,o,r,s){var a,l=t.startLineNumber,u=t.startColumn,c=t.endLineNumber,h=t.endColumn,d=r.getLineContent(l),p=r.getLineContent(c),f=d.lastIndexOf(n,u-1+n.length),g=p.indexOf(i,h-1-i.length);if(-1!==f&&-1!==g)if(l===c){var m=d.substring(f+n.length,g);m.indexOf(i)>=0&&(f=-1,g=-1)}else{var _=d.substring(f+n.length),v=p.substring(0,g);(_.indexOf(i)>=0||v.indexOf(i)>=0)&&(f=-1,g=-1)}-1!==f&&-1!==g?(o&&f+n.length<d.length&&32===d.charCodeAt(f+n.length)&&(n+=" "),o&&g>0&&32===p.charCodeAt(g-1)&&(i=" "+i,g-=1),a=e._createRemoveBlockCommentOperations(new bn(l,f+n.length+1,c,g+1),n,i)):(a=e._createAddBlockCommentOperations(t,n,i,this._insertSpace),this._usedEndToken=1===a.length?i:null);for(var y=0,b=a;y<b.length;y++){var w=b[y];s.addTrackedEditOperation(w.range,w.text)}},e._createRemoveBlockCommentOperations=function(e,t,n){var i=[];return bn.isEmpty(e)?i.push(lf.delete(new bn(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(i.push(lf.delete(new bn(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),i.push(lf.delete(new bn(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),i},e._createAddBlockCommentOperations=function(e,t,n,i){var o=[];return bn.isEmpty(e)?o.push(lf.replace(new bn(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(o.push(lf.insert(new yn(e.startLineNumber,e.startColumn),t+(i?" ":""))),o.push(lf.insert(new yn(e.endLineNumber,e.endColumn),(i?" ":"")+n))),o},e.prototype.getEditOperations=function(e,t){var n=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(n);var o=e.getLanguageIdAtPosition(n,i),r=Uc.getComments(o);r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations();if(2===n.length){var i=n[0],o=n[1];return new Cn(i.range.endLineNumber,i.range.endColumn,o.range.startLineNumber,o.range.startColumn)}var r=n[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new Cn(r.endLineNumber,r.endColumn+s,r.endLineNumber,r.endColumn+s)},e}(),K$=function(){function e(e,t,n,i){this._selection=e,this._tabSize=t,this._type=n,this._insertSpace=i,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1}return e._gatherPreflightCommentStrings=function(e,t,n){e.tokenizeIfCheap(t);var i=e.getLanguageIdAtPosition(t,1),o=Uc.getComments(i),r=o?o.lineCommentToken:null;if(!r)return null;for(var s=[],a=0,l=n-t+1;a<l;a++)s[a]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return s},e._analyzeLines=function(e,t,n,i,o){var r,s=!0;r=0===e||1!==e;for(var a=0,l=i.length;a<l;a++){var u=i[a],c=o+a,h=n.getLineContent(c),d=jr(h);if(-1!==d){if(s=!1,u.ignore=!1,u.commentStrOffset=d,r&&!G$._haystackHasNeedleAtOffset(h,u.commentStr,d)&&(0===e?r=!1:1===e||(u.ignore=!0)),r&&t){var p=d+u.commentStrLength;p<h.length&&32===h.charCodeAt(p)&&(u.commentStrLength+=1)}}else u.ignore=!0,u.commentStrOffset=h.length}if(0===e&&s){r=!1;for(a=0,l=i.length;a<l;a++)i[a].ignore=!1}return{supported:!0,shouldRemoveComments:r,lines:i}},e._gatherPreflightData=function(t,n,i,o,r){var s=e._gatherPreflightCommentStrings(i,o,r);return null===s?{supported:!1}:e._analyzeLines(t,n,i,s,o)},e.prototype._executeLineComments=function(t,n,i,o){var r;i.shouldRemoveComments?r=e._createRemoveLineCommentsOperations(i.lines,o.startLineNumber):(e._normalizeInsertionPoint(t,i.lines,o.startLineNumber,this._tabSize),r=this._createAddLineCommentsOperations(i.lines,o.startLineNumber));for(var s=new yn(o.positionLineNumber,o.positionColumn),a=0,l=r.length;a<l;a++)if(n.addEditOperation(r[a].range,r[a].text),r[a].range.isEmpty()&&r[a].range.getStartPosition().equals(s)){var u=t.getLineContent(s.lineNumber);u.length+1===s.column&&(this._deltaColumn=(r[a].text||"").length)}this._selectionId=n.trackSelection(o)},e.prototype._attemptRemoveBlockComment=function(e,t,n,i){var o=t.startLineNumber,r=t.endLineNumber,s=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),a=e.getLineContent(o).lastIndexOf(n,s-1),l=e.getLineContent(r).indexOf(i,t.endColumn-1-n.length);return-1!==a&&-1===l&&(l=e.getLineContent(o).indexOf(i,a+n.length),r=o),-1===a&&-1!==l&&(a=e.getLineContent(r).lastIndexOf(n,l),o=r),!t.isEmpty()||-1!==a&&-1!==l||(a=e.getLineContent(o).indexOf(n),-1!==a&&(l=e.getLineContent(o).indexOf(i,a+n.length))),-1!==a&&32===e.getLineContent(o).charCodeAt(a+n.length)&&(n+=" "),-1!==l&&32===e.getLineContent(r).charCodeAt(l-1)&&(i=" "+i,l-=1),-1!==a&&-1!==l?G$._createRemoveBlockCommentOperations(new bn(o,a+n.length+1,r,l+1),n,i):null},e.prototype._executeBlockComment=function(e,t,n){e.tokenizeIfCheap(n.startLineNumber);var i=e.getLanguageIdAtPosition(n.startLineNumber,1),o=Uc.getComments(i);if(o&&o.blockCommentStartToken&&o.blockCommentEndToken){var r=o.blockCommentStartToken,s=o.blockCommentEndToken,a=this._attemptRemoveBlockComment(e,n,r,s);if(!a){if(n.isEmpty()){var l=e.getLineContent(n.startLineNumber),u=jr(l);-1===u&&(u=l.length),a=G$._createAddBlockCommentOperations(new bn(n.startLineNumber,u+1,n.startLineNumber,l.length+1),r,s,this._insertSpace)}else a=G$._createAddBlockCommentOperations(new bn(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),r,s,this._insertSpace);1===a.length&&(this._deltaColumn=r.length+1)}this._selectionId=t.trackSelection(n);for(var c=0,h=a;c<h.length;c++){var d=h[c];t.addEditOperation(d.range,d.text)}}},e.prototype.getEditOperations=function(t,n){var i=this._selection;this._moveEndPositionDown=!1,i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,t.getLineMaxColumn(i.endLineNumber-1)));var o=e._gatherPreflightData(this._type,this._insertSpace,t,i.startLineNumber,i.endLineNumber);return o.supported?this._executeLineComments(t,n,o,i):this._executeBlockComment(t,n,i)},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new Cn(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)},e._createRemoveLineCommentsOperations=function(e,t){for(var n=[],i=0,o=e.length;i<o;i++){var r=e[i];r.ignore||n.push(lf.delete(new bn(t+i,r.commentStrOffset+1,t+i,r.commentStrOffset+r.commentStrLength+1)))}return n},e.prototype._createAddLineCommentsOperations=function(e,t){for(var n=[],i=this._insertSpace?" ":"",o=0,r=e.length;o<r;o++){var s=e[o];s.ignore||n.push(lf.insert(new yn(t+o,s.commentStrOffset+1),s.commentStr+i))}return n},e.nextVisibleColumn=function(e,t,n,i){return n?e+(t-e%t):e+i},e._normalizeInsertionPoint=function(t,n,i,o){for(var r,s,a=1073741824,l=0,u=n.length;l<u;l++)if(!n[l].ignore){for(var c=t.getLineContent(i+l),h=0,d=0,p=n[l].commentStrOffset;h<a&&d<p;d++)h=e.nextVisibleColumn(h,o,9===c.charCodeAt(d),1);h<a&&(a=h)}a=Math.floor(a/o)*o;for(l=0,u=n.length;l<u;l++)if(!n[l].ignore){c=t.getLineContent(i+l),h=0;for(r=0,s=n[l].commentStrOffset;h<a&&r<s;r++)h=e.nextVisibleColumn(h,o,9===c.charCodeAt(r),1);n[l].commentStrOffset=h>a?r-1:r}},e}(),q$=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y$=function(e){function t(t,n){var i=e.call(this,n)||this;return i._type=t,i}return q$(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getModel(),i=[],o=t.getSelections(),r=n.getOptions(),s=t.getOption(13),a=0,l=o;a<l.length;a++){var u=l[a];i.push(new K$(u,r.tabSize,this._type,s.insertSpace))}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},t}(Cm),X$=function(e){function t(){return e.call(this,0,{id:"editor.action.commentLine",label:r("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:17,group:"5_insert",title:r({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})||this}return q$(t,e),t}(Y$),Z$=function(e){function t(){return e.call(this,1,{id:"editor.action.addCommentLine",label:r("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2081),weight:100}})||this}return q$(t,e),t}(Y$),J$=function(e){function t(){return e.call(this,2,{id:"editor.action.removeCommentLine",label:r("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2099),weight:100}})||this}return q$(t,e),t}(Y$),Q$=function(e){function t(){return e.call(this,{id:"editor.action.blockComment",label:r("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:17,group:"5_insert",title:r({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})||this}return q$(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getOption(13),i=[],o=t.getSelections(),r=0,s=o;r<s.length;r++){var a=s[r];i.push(new G$(a,n.insertSpace))}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},t}(Cm);Lm(X$),Lm(Z$),Lm(J$),Lm(Q$);var eW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),tW=function(e){function t(t,n){var i=e.call(this,t,n,"contextsubmenu")||this;return i.entries=n,i}return eW(t,e),t}(qD),nW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),iW=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},oW=function(e,t){return function(n,i){t(n,i,e)}},rW=function(){function e(e,t,n,i,o,r){var s=this;this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=i,this._keybindingService=o,this._menuService=r,this._toDispose=new Re,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((function(e){return s._onContextMenu(e)}))),this._toDispose.add(this._editor.onMouseWheel((function(e){s._contextMenuIsBeingShownCount>0&&s._contextViewService.hideContextView()}))),this._toDispose.add(this._editor.onKeyDown((function(e){58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),s.showContextMenu())})))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype._onContextMenu=function(e){if(this._editor.hasModel()){if(!this._editor.getOption(14))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12!==e.target.type&&(e.event.preventDefault(),6===e.target.type||7===e.target.type||1===e.target.type)){if(this._editor.focus(),e.target.position){for(var t=!1,n=0,i=this._editor.getSelections();n<i.length;n++){var o=i[n];if(o.containsPosition(e.target.position)){t=!0;break}}t||this._editor.setPosition(e.target.position)}var r=null;1!==e.target.type&&(r={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(r)}}},e.prototype.showContextMenu=function(e){if(this._editor.getOption(14)&&this._editor.hasModel())if(this._contextMenuService){var t=this._getMenuActions(this._editor.getModel(),7);t.length>0&&this._doShowContextMenu(t,e)}else this._editor.focus()},e.prototype._getMenuActions=function(e,t){var n=[],i=this._menuService.createMenu(t,this._contextKeyService),o=i.getActions({arg:e.uri});i.dispose();for(var r=0,s=o;r<s.length;r++){for(var a=s[r],l=a[1],u=0,c=0,h=l;c<h.length;c++){var d=h[c];if(d instanceof mm){var p=this._getMenuActions(e,d.item.submenu);p.length>0&&(n.push(new tW(d.label,p)),u++)}else n.push(d),u++}u&&n.push(new oI)}return n.length&&n.pop(),n},e.prototype._doShowContextMenu=function(e,t){var n=this;if(void 0===t&&(t=null),this._editor.hasModel()){var i=this._editor.getOption(44);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();var o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),r=Uo(this._editor.getDomNode()),s=r.left+o.left,a=r.top+o.top+o.height;t={x:s,y:a}}this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({getAnchor:function(){return t},getActions:function(){return e},getActionViewItem:function(e){var t=n._keybindingFor(e);if(t)return new rI(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});var i=e;return"function"===typeof i.getActionViewItem?i.getActionViewItem():new rI(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:function(e){return n._keybindingFor(e)},onHide:function(e){n._contextMenuIsBeingShownCount--,n._editor.focus(),n._editor.updateOptions({hover:i})}})}},e.prototype._keybindingFor=function(e){return this._keybindingService.lookupKeybinding(e.id)},e.prototype.dispose=function(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()},e.ID="editor.contrib.contextmenu",e=iW([oW(1,_I),oW(2,mI),oW(3,Bf),oW(4,WI),oW(5,pm)],e),e}(),sW=function(e){function t(){return e.call(this,{id:"editor.action.showContextMenu",label:r("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:1092,weight:100}})||this}return nW(t,e),t.prototype.run=function(e,t){var n=rW.get(t);n.showContextMenu()},t}(Cm);Om(rW.ID,rW),Lm(sW);var aW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lW=function(){function e(e){this.selections=e}return e.prototype.equals=function(e){var t=this.selections.length,n=e.selections.length;if(t!==n)return!1;for(var i=0;i<t;i++)if(!this.selections[i].equalsSelection(e.selections[i]))return!1;return!0},e}(),uW=function(){function e(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}return e}(),cW=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._isCursorUndoRedo=!1,n._undoStack=[],n._redoStack=[],n._register(t.onDidChangeModel((function(e){n._undoStack=[],n._redoStack=[]}))),n._register(t.onDidChangeModelContent((function(e){n._undoStack=[],n._redoStack=[]}))),n._register(t.onDidChangeCursorSelection((function(e){if(!n._isCursorUndoRedo&&e.oldSelections&&e.oldModelVersionId===e.modelVersionId){var i=new lW(e.oldSelections),o=n._undoStack.length>0&&n._undoStack[n._undoStack.length-1].cursorState.equals(i);o||(n._undoStack.push(new uW(i,t.getScrollTop(),t.getScrollLeft())),n._redoStack=[],n._undoStack.length>50&&n._undoStack.shift())}}))),n}return aW(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.cursorUndo=function(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new uW(new lW(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))},t.prototype.cursorRedo=function(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new uW(new lW(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))},t.prototype._applyState=function(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1},t.ID="editor.contrib.cursorUndoRedoController",t}(Ae),hW=function(e){function t(){return e.call(this,{id:"cursorUndo",label:r("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:2099,weight:100}})||this}return aW(t,e),t.prototype.run=function(e,t,n){cW.get(t).cursorUndo()},t}(Cm),dW=function(e){function t(){return e.call(this,{id:"cursorRedo",label:r("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})||this}return aW(t,e),t.prototype.run=function(e,t,n){cW.get(t).cursorRedo()},t}(Cm);Om(cW.ID,cW),Lm(hW),Lm(dW);n("3a19");var pW=function(){function e(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}return e.prototype.getEditOperations=function(e,t){var n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new bn(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new Cn(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new Cn(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new Cn(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new Cn(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new Cn(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection},e.prototype.computeCursorState=function(e,t){return this.targetSelection},e}(),fW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function gW(e){return s["e"]?e.altKey:e.ctrlKey}var mW=function(e){function t(t){var n=e.call(this)||this;return n._editor=t,n._register(n._editor.onMouseDown((function(e){return n._onEditorMouseDown(e)}))),n._register(n._editor.onMouseUp((function(e){return n._onEditorMouseUp(e)}))),n._register(n._editor.onMouseDrag((function(e){return n._onEditorMouseDrag(e)}))),n._register(n._editor.onMouseDrop((function(e){return n._onEditorMouseDrop(e)}))),n._register(n._editor.onKeyDown((function(e){return n.onEditorKeyDown(e)}))),n._register(n._editor.onKeyUp((function(e){return n.onEditorKeyUp(e)}))),n._register(n._editor.onDidBlurEditorWidget((function(){return n.onEditorBlur()}))),n._dndDecorationIds=[],n._mouseDown=!1,n._modifierPressed=!1,n._dragSelection=null,n}return fW(t,e),t.prototype.onEditorBlur=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1},t.prototype.onEditorKeyDown=function(e){this._editor.getOption(24)&&(gW(e)&&(this._modifierPressed=!0),this._mouseDown&&gW(e)&&this._editor.updateOptions({mouseStyle:"copy"}))},t.prototype.onEditorKeyUp=function(e){this._editor.getOption(24)&&(gW(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===t.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))},t.prototype._onEditorMouseDown=function(e){this._mouseDown=!0},t.prototype._onEditorMouseUp=function(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})},t.prototype._onEditorMouseDrag=function(e){var t=e.target;if(null===this._dragSelection){var n=this._editor.getSelections()||[],i=n.filter((function(e){return t.position&&e.containsPosition(t.position)}));if(1!==i.length)return;this._dragSelection=i[0]}gW(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))},t.prototype._onEditorMouseDrop=function(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){var n=new yn(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){var i=null;if(e.event.shiftKey){var o=this._editor.getSelection();if(o){var r=o.selectionStartLineNumber,s=o.selectionStartColumn;i=[new Cn(r,s,n.lineNumber,n.column)]}}else i=(this._editor.getSelections()||[]).map((function(e){return e.containsPosition(n)?new Cn(n.lineNumber,n.column,n.lineNumber,n.column):e}));this._editor.setSelections(i||[],"mouse")}else(!this._dragSelection.containsPosition(n)||(gW(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(n)||this._dragSelection.getStartPosition().equals(n)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(t.ID,new pW(this._dragSelection,n,gW(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1},t.prototype.showAt=function(e){var n=[{range:new bn(e.lineNumber,e.column,e.lineNumber,e.column),options:t._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,n),this._editor.revealPosition(e,1)},t.prototype._removeDecoration=function(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])},t.prototype._hitContent=function(e){return 6===e.type||7===e.type},t.prototype._hitMargin=function(e){return 2===e.type||3===e.type||4===e.type},t.prototype.dispose=function(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,e.prototype.dispose.call(this)},t.ID="editor.contrib.dragAndDrop",t.TRIGGER_KEY_VALUE=s["e"]?6:5,t._DECORATION_OPTIONS=Xy.register({className:"dnd-target"}),t}(Ae);Om(mW.ID,mW);var _W=function(){function e(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}return e.prototype.dispose=function(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.reset=function(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationId=null,this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null},e.prototype.getCount=function(){return this._decorations.length},e.prototype.getFindScope=function(){return this._findScopeDecorationId?this._editor.getModel().getDecorationRange(this._findScopeDecorationId):null},e.prototype.getStartPosition=function(){return this._startPosition},e.prototype.setStartPosition=function(e){this._startPosition=e,this.setCurrentFindMatch(null)},e.prototype._getDecorationIndex=function(e){var t=this._decorations.indexOf(e);return t>=0?t+1:1},e.prototype.getCurrentMatchesPosition=function(t){for(var n=this._editor.getModel().getDecorationsInRange(t),i=0,o=n;i<o.length;i++){var r=o[i],s=r.options;if(s===e._FIND_MATCH_DECORATION||s===e._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(r.id)}return 1},e.prototype.setCurrentFindMatch=function(t){var n=this,i=null,o=0;if(t)for(var r=0,s=this._decorations.length;r<s;r++){var a=this._editor.getModel().getDecorationRange(this._decorations[r]);if(t.equalsRange(a)){i=this._decorations[r],o=r+1;break}}return null===this._highlightedDecorationId&&null===i||this._editor.changeDecorations((function(t){if(null!==n._highlightedDecorationId&&(t.changeDecorationOptions(n._highlightedDecorationId,e._FIND_MATCH_DECORATION),n._highlightedDecorationId=null),null!==i&&(n._highlightedDecorationId=i,t.changeDecorationOptions(n._highlightedDecorationId,e._CURRENT_FIND_MATCH_DECORATION)),null!==n._rangeHighlightDecorationId&&(t.removeDecoration(n._rangeHighlightDecorationId),n._rangeHighlightDecorationId=null),null!==i){var o=n._editor.getModel().getDecorationRange(i);if(o.startLineNumber!==o.endLineNumber&&1===o.endColumn){var r=o.endLineNumber-1,s=n._editor.getModel().getLineMaxColumn(r);o=new bn(o.startLineNumber,o.startColumn,r,s)}n._rangeHighlightDecorationId=t.addDecoration(o,e._RANGE_HIGHLIGHT_DECORATION)}})),o},e.prototype.set=function(t,n){var i=this;this._editor.changeDecorations((function(o){var r=e._FIND_MATCH_DECORATION,s=[];if(t.length>1e3){r=e._FIND_MATCH_NO_OVERVIEW_DECORATION;for(var a=i._editor.getModel().getLineCount(),l=i._editor.getLayoutInfo().height,u=l/a,c=Math.max(2,Math.ceil(3/u)),h=t[0].range.startLineNumber,d=t[0].range.endLineNumber,p=1,f=t.length;p<f;p++){var g=t[p].range;d+c>=g.startLineNumber?g.endLineNumber>d&&(d=g.endLineNumber):(s.push({range:new bn(h,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),h=g.startLineNumber,d=g.endLineNumber)}s.push({range:new bn(h,1,d,1),options:e._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}var m=new Array(t.length);for(p=0,f=t.length;p<f;p++)m[p]={range:t[p].range,options:r};i._decorations=o.deltaDecorations(i._decorations,m),i._overviewRulerApproximateDecorations=o.deltaDecorations(i._overviewRulerApproximateDecorations,s),i._rangeHighlightDecorationId&&(o.removeDecoration(i._rangeHighlightDecorationId),i._rangeHighlightDecorationId=null),i._findScopeDecorationId&&(o.removeDecoration(i._findScopeDecorationId),i._findScopeDecorationId=null),n&&(i._findScopeDecorationId=o.addDecoration(n,e._FIND_SCOPE_DECORATION))}))},e.prototype.matchBeforePosition=function(e){if(0===this._decorations.length)return null;for(var t=this._decorations.length-1;t>=0;t--){var n=this._decorations[t],i=this._editor.getModel().getDecorationRange(n);if(i&&!(i.endLineNumber>e.lineNumber)){if(i.endLineNumber<e.lineNumber)return i;if(!(i.endColumn>e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])},e.prototype.matchAfterPosition=function(e){if(0===this._decorations.length)return null;for(var t=0,n=this._decorations.length;t<n;t++){var i=this._decorations[t],o=this._editor.getModel().getDecorationRange(i);if(o&&!(o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])},e.prototype._allDecorations=function(){var e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationId&&e.push(this._findScopeDecorationId),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e},e._CURRENT_FIND_MATCH_DECORATION=Xy.register({stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:f_(UC),position:Il.Center},minimap:{color:f_(jC),position:Ol.Inline}}),e._FIND_MATCH_DECORATION=Xy.register({stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:f_(UC),position:Il.Center},minimap:{color:f_(jC),position:Ol.Inline}}),e._FIND_MATCH_NO_OVERVIEW_DECORATION=Xy.register({stickiness:1,className:"findMatch",showIfCollapsed:!0}),e._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Xy.register({stickiness:1,overviewRuler:{color:f_(UC),position:Il.Center}}),e._RANGE_HIGHLIGHT_DECORATION=Xy.register({stickiness:1,className:"rangeHighlight",isWholeLine:!0}),e._FIND_SCOPE_DECORATION=Xy.register({className:"findScope",isWholeLine:!0}),e}(),vW=function(){function e(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}return e.prototype.getEditOperations=function(e,t){if(this._ranges.length>0){for(var n=[],i=0;i<this._ranges.length;i++)n.push({range:this._ranges[i],text:this._replaceStrings[i]});n.sort((function(e,t){return bn.compareRangesUsingStarts(e.range,t.range)}));var o=[],r=n[0];for(i=1;i<n.length;i++)r.range.endLineNumber===n[i].range.startLineNumber&&r.range.endColumn===n[i].range.startColumn?(r.range=r.range.plusRange(n[i].range),r.text=r.text+n[i].text):(o.push(r),r=n[i]);o.push(r);for(var s=0,a=o;s<a.length;s++){var l=a[s];t.addEditOperation(l.range,l.text)}}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)},e}();function yW(e,t){if(e&&""!==e[0]){var n=bW(e,t,"-"),i=bW(e,t,"_");return n&&!i?wW(e,t,"-"):!n&&i?wW(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():Ss(e[0][0])?t[0].toUpperCase()+t.substr(1):t}return t}function bW(e,t,n){var i=-1!==e[0].indexOf(n)&&-1!==t.indexOf(n);return i&&e[0].split(n).length===t.split(n).length}function wW(e,t,n){var i=t.split(n),o=e[0].split(n),r="";return i.forEach((function(e,t){r+=yW([o[t]],e)+n})),r.slice(0,-1)}var CW=function(){function e(e){this.staticValue=e,this.kind=0}return e}(),SW=function(){function e(e){this.pieces=e,this.kind=1}return e}(),EW=function(){function e(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new CW(e[0].staticValue):this._state=new SW(e):this._state=new CW("")}return e.fromStaticValue=function(t){return new e([TW.staticValue(t)])},Object.defineProperty(e.prototype,"hasReplacementPatterns",{get:function(){return 1===this._state.kind},enumerable:!0,configurable:!0}),e.prototype.buildReplaceString=function(t,n){if(0===this._state.kind)return n?yW(t,this._state.staticValue):this._state.staticValue;for(var i="",o=0,r=this._state.pieces.length;o<r;o++){var s=this._state.pieces[o];null===s.staticValue?i+=e._substitute(s.matchIndex,t):i+=s.staticValue}return i},e._substitute=function(e,t){if(null===t)return"";if(0===e)return t[0];var n="";while(e>0){if(e<t.length){var i=t[e]||"";return i+n}n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n},e}(),TW=function(){function e(e,t){this.staticValue=e,this.matchIndex=t}return e.staticValue=function(t){return new e(t,-1)},e.matchIndex=function(t){return new e(null,t)},e}(),kW=function(){function e(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}return e.prototype.emitUnchanged=function(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e},e.prototype.emitStatic=function(e,t){this._emitStatic(e),this._lastCharIndex=t},e.prototype._emitStatic=function(e){0!==e.length&&(this._currentStaticPiece+=e)},e.prototype.emitMatchIndex=function(e,t){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=TW.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=TW.matchIndex(e),this._lastCharIndex=t},e.prototype.finalize=function(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=TW.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new EW(this._result)},e}();function xW(e){if(!e||0===e.length)return new EW(null);for(var t=new kW(e),n=0,i=e.length;n<i;n++){var o=e.charCodeAt(n);if(92!==o){if(36===o){if(n++,n>=i)break;a=e.charCodeAt(n);if(36===a){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(48===a||38===a){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1);continue}if(49<=a&&a<=57){var r=a-48;if(n+1<i){var s=e.charCodeAt(n+1);if(48<=s&&s<=57){n++,r=10*r+(s-48),t.emitUnchanged(n-2),t.emitMatchIndex(r,n+1);continue}}t.emitUnchanged(n-1),t.emitMatchIndex(r,n+1);continue}}}else{if(n++,n>=i)break;var a=e.charCodeAt(n);switch(a){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic("\n",n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("\t",n+1);break}}}return t.finalize()}var LW=new Ff("findWidgetVisible",!1),IW=new Ff("findInputFocussed",!1),OW=new Ff("replaceInputFocussed",!1),DW={primary:545,mac:{primary:2593}},NW={primary:565,mac:{primary:2613}},RW={primary:560,mac:{primary:2608}},AW={primary:554,mac:{primary:2602}},MW={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},PW=19999,FW=240,BW=function(){function e(e,t){var n=this;this._toDispose=new Re,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new Ei,this._decorations=new _W(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new ki((function(){return n.research(!1)}),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((function(e){3!==e.reason&&5!==e.reason&&6!==e.reason||n._decorations.setStartPosition(n._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((function(e){n._ignoreModelContentChanged||(e.isFlush&&n._decorations.reset(),n._decorations.setStartPosition(n._editor.getPosition()),n._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((function(e){return n._onStateChanged(e)}))),this.research(!1,this._state.searchScope)}return e.prototype.dispose=function(){this._isDisposed=!0,Ie(this._startSearchingTimer),this._toDispose.dispose()},e.prototype._onStateChanged=function(e){var t=this;if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){var n=this._editor.getModel();n.isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((function(){e.searchScope?t.research(e.moveCursor,t._state.searchScope):t.research(e.moveCursor)}),FW)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}},e._getSearchRange=function(e,t){return t||e.getFullModelRange()},e.prototype.research=function(e,t){var n=null;n="undefined"!==typeof t?t:this._decorations.getFindScope(),null!==n&&n.startLineNumber!==n.endLineNumber&&(n=1===n.endColumn?new bn(n.startLineNumber,1,n.endLineNumber-1,this._editor.getModel().getLineMaxColumn(n.endLineNumber-1)):new bn(n.startLineNumber,1,n.endLineNumber,this._editor.getModel().getLineMaxColumn(n.endLineNumber)));var i=this._findMatches(n,!1,PW);this._decorations.set(i,n),this._state.changeMatchInfo(this._decorations.getCurrentMatchesPosition(this._editor.getSelection()),this._decorations.getCount(),void 0),e&&this._moveToNextMatch(this._decorations.getStartPosition())},e.prototype._hasMatches=function(){return this._state.matchesCount>0},e.prototype._cannotFind=function(){if(!this._hasMatches()){var e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1},e.prototype._setCurrentFindMatch=function(e){var t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)},e.prototype._prevSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,i=e.column,o=this._editor.getModel();return t||1===i?(1===n?n=o.getLineCount():n--,i=o.getLineMaxColumn(n)):i--,new yn(n,i)},e.prototype._moveToPrevMatch=function(t,n){if(void 0===n&&(n=!1),this._decorations.getCount()<PW){var i=this._decorations.matchBeforePosition(t);return i&&i.isEmpty()&&i.getStartPosition().equals(t)&&(t=this._prevSearchPosition(t),i=this._decorations.matchBeforePosition(t)),void(i&&this._setCurrentFindMatch(i))}if(!this._cannotFind()){var o=this._decorations.getFindScope(),r=e._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(t)&&(t=r.getEndPosition()),t.isBefore(r.getStartPosition())&&(t=r.getEndPosition());var s=t.lineNumber,a=t.column,l=this._editor.getModel(),u=new yn(s,a),c=l.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,!1);if(c&&c.range.isEmpty()&&c.range.getStartPosition().equals(u)&&(u=this._prevSearchPosition(u),c=l.findPreviousMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,!1)),c)return n||r.containsRange(c.range)?void this._setCurrentFindMatch(c.range):this._moveToPrevMatch(c.range.getStartPosition(),!0)}},e.prototype.moveToPrevMatch=function(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())},e.prototype._nextSearchPosition=function(e){var t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),n=e.lineNumber,i=e.column,o=this._editor.getModel();return t||i===o.getLineMaxColumn(n)?(n===o.getLineCount()?n=1:n++,i=1):i++,new yn(n,i)},e.prototype._moveToNextMatch=function(e){if(this._decorations.getCount()<PW){var t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}var n=this._getNextMatch(e,!1,!0);n&&this._setCurrentFindMatch(n.range)},e.prototype._getNextMatch=function(t,n,i,o){if(void 0===o&&(o=!1),this._cannotFind())return null;var r=this._decorations.getFindScope(),s=e._getSearchRange(this._editor.getModel(),r);s.getEndPosition().isBefore(t)&&(t=s.getStartPosition()),t.isBefore(s.getStartPosition())&&(t=s.getStartPosition());var a=t.lineNumber,l=t.column,u=this._editor.getModel(),c=new yn(a,l),h=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,n);return i&&h&&h.range.isEmpty()&&h.range.getStartPosition().equals(c)&&(c=this._nextSearchPosition(c),h=u.findNextMatch(this._state.searchString,c,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,n)),h?o||s.containsRange(h.range)?h:this._getNextMatch(h.range.getEndPosition(),n,i,!0):null},e.prototype.moveToNextMatch=function(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())},e.prototype._getReplacePattern=function(){return this._state.isRegex?xW(this._state.replaceString):EW.fromStaticValue(this._state.replaceString)},e.prototype.replace=function(){if(this._hasMatches()){var e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){var i=e.buildReplaceString(n.matches,this._state.preserveCase),o=new hE(t,i);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new yn(t.startLineNumber,t.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}},e.prototype._findMatches=function(t,n,i){var o=e._getSearchRange(this._editor.getModel(),t);return this._editor.getModel().findMatches(this._state.searchString,o,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null,n,i)},e.prototype.replaceAll=function(){if(this._hasMatches()){var e=this._decorations.getFindScope();null===e&&this._state.matchesCount>=PW?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}},e.prototype._largeReplaceAll=function(){var e=new Hv(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(96):null),t=e.parseSearchRequest();if(t){var n=t.regex;if(!n.multiline){var i="mu";n.ignoreCase&&(i+="i"),n.global&&(i+="g"),n=new RegExp(n.source,i)}var o,r=this._editor.getModel(),s=r.getValue(1),a=r.getFullModelRange(),l=this._getReplacePattern(),u=this._state.preserveCase;o=l.hasReplacementPatterns||u?s.replace(n,(function(){return l.buildReplaceString(arguments,u)})):s.replace(n,l.buildReplaceString(null,u));var c=new gE(a,o,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}},e.prototype._regularReplaceAll=function(e){for(var t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),i=[],o=0,r=n.length;o<r;o++)i[o]=t.buildReplaceString(n[o].matches,this._state.preserveCase);var s=new vW(this._editor.getSelection(),n.map((function(e){return e.range})),i);this._executeEditorCommand("replaceAll",s)},e.prototype.selectAllMatches=function(){if(this._hasMatches()){for(var e=this._decorations.getFindScope(),t=this._findMatches(e,!1,1073741824),n=t.map((function(e){return new Cn(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})),i=this._editor.getSelection(),o=0,r=n.length;o<r;o++){var s=n[o];if(s.equalsRange(i)){n=[i].concat(n.slice(0,o)).concat(n.slice(o+1));break}}this._editor.setSelections(n)}},e.prototype._executeEditorCommand=function(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}},e}(),VW=(n("8899"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),HW={inputActiveOptionBorder:My.fromHex("#007ACC00"),inputActiveOptionBackground:My.fromHex("#0E639C50")},$W=function(e){function t(t){var n=e.call(this)||this;return n._onChange=n._register(new Ze),n.onChange=n._onChange.event,n._onKeyDown=n._register(new Ze),n.onKeyDown=n._onKeyDown.event,n._opts=cl(t),gl(n._opts,HW,!1),n._checked=n._opts.isChecked,n.domNode=document.createElement("div"),n.domNode.title=n._opts.title,n.domNode.className="monaco-custom-checkbox codicon "+(n._opts.actionClassName||"")+" "+(n._checked?"checked":"unchecked"),n.domNode.tabIndex=0,n.domNode.setAttribute("role","checkbox"),n.domNode.setAttribute("aria-checked",String(n._checked)),n.domNode.setAttribute("aria-label",n._opts.title),n.applyStyles(),n.onclick(n.domNode,(function(e){n.checked=!n._checked,n._onChange.fire(!1),e.preventDefault()})),n.ignoreGesture(n.domNode),n.onkeydown(n.domNode,(function(e){if(10===e.keyCode||3===e.keyCode)return n.checked=!n._checked,n._onChange.fire(!0),void e.preventDefault();n._onKeyDown.fire(e)})),n}return VW(t,e),Object.defineProperty(t.prototype,"enabled",{get:function(){return"true"!==this.domNode.getAttribute("aria-disabled")},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.domNode.focus()},Object.defineProperty(t.prototype,"checked",{get:function(){return this._checked},set:function(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this._checked?this.domNode.classList.add("checked"):this.domNode.classList.remove("checked"),this.applyStyles()},enumerable:!0,configurable:!0}),t.prototype.width=function(){return 22},t.prototype.style=function(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()},t.prototype.applyStyles=function(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")},t.prototype.enable=function(){this.domNode.tabIndex=0,this.domNode.setAttribute("aria-disabled",String(!1))},t.prototype.disable=function(){wr(this.domNode),this.domNode.setAttribute("aria-disabled",String(!0))},t}(fT),WW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),UW=r("caseDescription","Match Case"),zW=r("wordsDescription","Match Whole Word"),jW=r("regexDescription","Use Regular Expression"),GW=function(e){function t(t){return e.call(this,{actionClassName:"codicon-case-sensitive",title:UW+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return WW(t,e),t}($W),KW=function(e){function t(t){return e.call(this,{actionClassName:"codicon-whole-word",title:zW+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return WW(t,e),t}($W),qW=function(e){function t(t){return e.call(this,{actionClassName:"codicon-regex",title:jW+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return WW(t,e),t}($W),YW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),XW=function(e){function t(t,n,i,o){var r=e.call(this)||this;r._hideSoon=r._register(new ki((function(){return r._hide()}),2e3)),r._isVisible=!1,r._editor=t,r._state=n,r._keybindingService=i,r._domNode=document.createElement("div"),r._domNode.className="findOptionsWidget",r._domNode.style.display="none",r._domNode.style.top="10px",r._domNode.setAttribute("role","presentation"),r._domNode.setAttribute("aria-hidden","true");var s=o.getTheme().getColor(uw),a=o.getTheme().getColor(cw);return r.caseSensitive=r._register(new GW({appendTitle:r._keybindingLabelFor(MW.ToggleCaseSensitiveCommand),isChecked:r._state.matchCase,inputActiveOptionBorder:s,inputActiveOptionBackground:a})),r._domNode.appendChild(r.caseSensitive.domNode),r._register(r.caseSensitive.onChange((function(){r._state.change({matchCase:r.caseSensitive.checked},!1)}))),r.wholeWords=r._register(new KW({appendTitle:r._keybindingLabelFor(MW.ToggleWholeWordCommand),isChecked:r._state.wholeWord,inputActiveOptionBorder:s,inputActiveOptionBackground:a})),r._domNode.appendChild(r.wholeWords.domNode),r._register(r.wholeWords.onChange((function(){r._state.change({wholeWord:r.wholeWords.checked},!1)}))),r.regex=r._register(new qW({appendTitle:r._keybindingLabelFor(MW.ToggleRegexCommand),isChecked:r._state.isRegex,inputActiveOptionBorder:s,inputActiveOptionBackground:a})),r._domNode.appendChild(r.regex.domNode),r._register(r.regex.onChange((function(){r._state.change({isRegex:r.regex.checked},!1)}))),r._editor.addOverlayWidget(r),r._register(r._state.onFindReplaceStateChange((function(e){var t=!1;e.isRegex&&(r.regex.checked=r._state.isRegex,t=!0),e.wholeWord&&(r.wholeWords.checked=r._state.wholeWord,t=!0),e.matchCase&&(r.caseSensitive.checked=r._state.matchCase,t=!0),!r._state.isRevealed&&t&&r._revealTemporarily()}))),r._register(xo(r._domNode,(function(e){return r._onMouseOut()}))),r._register(bo(r._domNode,"mouseover",(function(e){return r._onMouseOver()}))),r._applyTheme(o.getTheme()),r._register(o.onThemeChange(r._applyTheme.bind(r))),r}return YW(t,e),t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:0}},t.prototype.highlightFindOptions=function(){this._revealTemporarily()},t.prototype._revealTemporarily=function(){this._show(),this._hideSoon.schedule()},t.prototype._onMouseOut=function(){this._hideSoon.schedule()},t.prototype._onMouseOver=function(){this._hideSoon.cancel()},t.prototype._show=function(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")},t.prototype._hide=function(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(uw),inputActiveOptionBackground:e.getColor(cw)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)},t.ID="editor.contrib.findOptionsWidget",t}(fT);w_((function(e,t){var n=e.getColor($w);n&&t.addRule(".monaco-editor .findOptionsWidget { background-color: "+n+"; }");var i=e.getColor(Ww);i&&t.addRule(".monaco-editor .findOptionsWidget { color: "+i+"; }");var o=e.getColor(rw);o&&t.addRule(".monaco-editor .findOptionsWidget { box-shadow: 0 2px 8px "+o+"; }");var r=e.getColor(tw);r&&t.addRule(".monaco-editor .findOptionsWidget { border: 2px solid "+r+"; }")}));var ZW=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function JW(e,t){return 1===e||2!==e&&t}var QW=function(e){function t(){var t=e.call(this)||this;return t._onFindReplaceStateChange=t._register(new Ze),t.onFindReplaceStateChange=t._onFindReplaceStateChange.event,t._searchString="",t._replaceString="",t._isRevealed=!1,t._isReplaceRevealed=!1,t._isRegex=!1,t._isRegexOverride=0,t._wholeWord=!1,t._wholeWordOverride=0,t._matchCase=!1,t._matchCaseOverride=0,t._preserveCase=!1,t._preserveCaseOverride=0,t._searchScope=null,t._matchesPosition=0,t._matchesCount=0,t._currentMatch=null,t}return ZW(t,e),Object.defineProperty(t.prototype,"searchString",{get:function(){return this._searchString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"replaceString",{get:function(){return this._replaceString},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRevealed",{get:function(){return this._isRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReplaceRevealed",{get:function(){return this._isReplaceRevealed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRegex",{get:function(){return JW(this._isRegexOverride,this._isRegex)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wholeWord",{get:function(){return JW(this._wholeWordOverride,this._wholeWord)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchCase",{get:function(){return JW(this._matchCaseOverride,this._matchCase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveCase",{get:function(){return JW(this._preserveCaseOverride,this._preserveCase)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualIsRegex",{get:function(){return this._isRegex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualWholeWord",{get:function(){return this._wholeWord},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualMatchCase",{get:function(){return this._matchCase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actualPreserveCase",{get:function(){return this._preserveCase},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchScope",{get:function(){return this._searchScope},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchesPosition",{get:function(){return this._matchesPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"matchesCount",{get:function(){return this._matchesCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentMatch",{get:function(){return this._currentMatch},enumerable:!0,configurable:!0}),t.prototype.changeMatchInfo=function(e,t,n){var i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,i.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,i.matchesCount=!0,o=!0),"undefined"!==typeof n&&(bn.equalsRange(this._currentMatch,n)||(this._currentMatch=n,i.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(i)},t.prototype.change=function(e,t,n){void 0===n&&(n=!0);var i={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1},o=!1,r=this.isRegex,s=this.wholeWord,a=this.matchCase,l=this.preserveCase;"undefined"!==typeof e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,i.searchString=!0,o=!0),"undefined"!==typeof e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,i.replaceString=!0,o=!0),"undefined"!==typeof e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,i.isRevealed=!0,o=!0),"undefined"!==typeof e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,i.isReplaceRevealed=!0,o=!0),"undefined"!==typeof e.isRegex&&(this._isRegex=e.isRegex),"undefined"!==typeof e.wholeWord&&(this._wholeWord=e.wholeWord),"undefined"!==typeof e.matchCase&&(this._matchCase=e.matchCase),"undefined"!==typeof e.preserveCase&&(this._preserveCase=e.preserveCase),"undefined"!==typeof e.searchScope&&(bn.equalsRange(this._searchScope,e.searchScope)||(this._searchScope=e.searchScope,i.searchScope=!0,o=!0)),this._isRegexOverride="undefined"!==typeof e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride="undefined"!==typeof e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride="undefined"!==typeof e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride="undefined"!==typeof e.preserveCaseOverride?e.preserveCaseOverride:0,r!==this.isRegex&&(o=!0,i.isRegex=!0),s!==this.wholeWord&&(o=!0,i.wholeWord=!0),a!==this.matchCase&&(o=!0,i.matchCase=!0),l!==this.preserveCase&&(o=!0,i.preserveCase=!0),o&&this._onFindReplaceStateChange.fire(i)},t}(Ae);n("01b0"),n("caa1"),n("8bf4");function eU(e,t){void 0===t&&(t={});var n=nU(t);return n.textContent=e,n}function tU(e,t){void 0===t&&(t={});var n=nU(t);return oU(n,rU(e),t.actionHandler),n}function nU(e){var t=e.inline?"span":"div",n=document.createElement(t);return e.className&&(n.className=e.className),n}var iU=function(){function e(e){this.source=e,this.index=0}return e.prototype.eos=function(){return this.index>=this.source.length},e.prototype.next=function(){var e=this.peek();return this.advance(),e},e.prototype.peek=function(){return this.source[this.index]},e.prototype.advance=function(){this.index++},e}();function oU(e,t,n){var i;if(2===t.type)i=document.createTextNode(t.content||"");else if(3===t.type)i=document.createElement("b");else if(4===t.type)i=document.createElement("i");else if(5===t.type&&n){var o=document.createElement("a");o.href="#",n.disposeables.add(So(o,"click",(function(e){n.callback(String(t.index),e)}))),i=o}else 7===t.type?i=document.createElement("br"):1===t.type&&(i=e);i&&e!==i&&e.appendChild(i),i&&Array.isArray(t.children)&&t.children.forEach((function(e){oU(i,e,n)}))}function rU(e){var t={type:1,children:[]},n=0,i=t,o=[],r=new iU(e);while(!r.eos()){var s=r.next(),a="\\"===s&&0!==aU(r.peek());if(a&&(s=r.next()),!a&&sU(s)&&s===r.peek()){r.advance(),2===i.type&&(i=o.pop());var l=aU(s);if(i.type===l||5===i.type&&6===l)i=o.pop();else{var u={type:l,children:[]};5===l&&(u.index=n,n++),i.children.push(u),o.push(i),i=u}}else if("\n"===s)2===i.type&&(i=o.pop()),i.children.push({type:7});else if(2!==i.type){var c={type:2,content:s};i.children.push(c),o.push(i),i=c}else i.content+=s}return 2===i.type&&(i=o.pop()),o.length,t}function sU(e){return 0!==aU(e)}function aU(e){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;default:return 0}}var lU=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=10),this._initialize(e),this._limit=t,this._onChange()}return e.prototype.add=function(e){this._history.delete(e),this._history.add(e),this._onChange()},e.prototype.next=function(){return this._navigator.next()},e.prototype.previous=function(){return this._navigator.previous()},e.prototype.current=function(){return this._navigator.current()},e.prototype.parent=function(){return null},e.prototype.first=function(){return this._navigator.first()},e.prototype.last=function(){return this._navigator.last()},e.prototype.has=function(e){return this._history.has(e)},e.prototype._onChange=function(){this._reduceToLimit();var e=this._elements;this._navigator=new Ue(e,0,e.length,e.length)},e.prototype._reduceToLimit=function(){var e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))},e.prototype._initialize=function(e){this._history=new Set;for(var t=0,n=e;t<n.length;t++){var i=n[t];this._history.add(i)}},Object.defineProperty(e.prototype,"_elements",{get:function(){var e=[];return this._history.forEach((function(t){return e.push(t)})),e},enumerable:!0,configurable:!0}),e}(),uU=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cU=_r,hU={inputBackground:My.fromHex("#3C3C3C"),inputForeground:My.fromHex("#CCCCCC"),inputValidationInfoBorder:My.fromHex("#55AAFF"),inputValidationInfoBackground:My.fromHex("#063B49"),inputValidationWarningBorder:My.fromHex("#B89500"),inputValidationWarningBackground:My.fromHex("#352A05"),inputValidationErrorBorder:My.fromHex("#BE1100"),inputValidationErrorBackground:My.fromHex("#5A1D1D")},dU=function(e){function t(t,n,i){var o=e.call(this)||this;o.state="idle",o.maxHeight=Number.POSITIVE_INFINITY,o._onDidChange=o._register(new Ze),o.onDidChange=o._onDidChange.event,o._onDidHeightChange=o._register(new Ze),o.onDidHeightChange=o._onDidHeightChange.event,o.contextViewProvider=n,o.options=i||Object.create(null),gl(o.options,hU,!1),o.message=null,o.placeholder=o.options.placeholder||"",o.ariaLabel=o.options.ariaLabel||"",o.inputBackground=o.options.inputBackground,o.inputForeground=o.options.inputForeground,o.inputBorder=o.options.inputBorder,o.inputValidationInfoBorder=o.options.inputValidationInfoBorder,o.inputValidationInfoBackground=o.options.inputValidationInfoBackground,o.inputValidationInfoForeground=o.options.inputValidationInfoForeground,o.inputValidationWarningBorder=o.options.inputValidationWarningBorder,o.inputValidationWarningBackground=o.options.inputValidationWarningBackground,o.inputValidationWarningForeground=o.options.inputValidationWarningForeground,o.inputValidationErrorBorder=o.options.inputValidationErrorBorder,o.inputValidationErrorBackground=o.options.inputValidationErrorBackground,o.inputValidationErrorForeground=o.options.inputValidationErrorForeground,o.options.validationOptions&&(o.validation=o.options.validationOptions.validation),o.element=pr(t,cU(".monaco-inputbox.idle"));var r=o.options.flexibleHeight?"textarea":"input",s=pr(o.element,cU(".wrapper"));if(o.input=pr(s,cU(r+".input.empty")),o.input.setAttribute("autocorrect","off"),o.input.setAttribute("autocapitalize","off"),o.input.setAttribute("spellcheck","false"),o.onfocus(o.input,(function(){return fo(o.element,"synthetic-focus")})),o.onblur(o.input,(function(){return mo(o.element,"synthetic-focus")})),o.options.flexibleHeight){o.maxHeight="number"===typeof o.options.flexibleMaxHeight?o.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,o.mirror=pr(s,cU("div.mirror")),o.mirror.innerHTML="&#160;",o.scrollableElement=new jT(o.element,{vertical:1}),o.options.flexibleWidth&&(o.input.setAttribute("wrap","off"),o.mirror.style.whiteSpace="pre",o.mirror.style.wordWrap="initial"),pr(t,o.scrollableElement.getDomNode()),o._register(o.scrollableElement),o._register(o.scrollableElement.onScroll((function(e){return o.input.scrollTop=e.scrollTop})));var a=$e.filter(Zn(document,"selectionchange"),(function(){var e=document.getSelection();return(null===e||void 0===e?void 0:e.anchorNode)===s}));o._register(a(o.updateScrollDimensions,o)),o._register(o.onDidHeightChange(o.updateScrollDimensions,o))}else o.input.type=o.options.type||"text",o.input.setAttribute("wrap","off");return o.ariaLabel&&o.input.setAttribute("aria-label",o.ariaLabel),o.placeholder&&o.setPlaceHolder(o.placeholder),o.oninput(o.input,(function(){return o.onValueChange()})),o.onblur(o.input,(function(){return o.onBlur()})),o.onfocus(o.input,(function(){return o.onFocus()})),o.placeholder&&Hn&&o.onclick(o.input,(function(e){lr.stop(e,!0),o.input.focus()})),o.ignoreGesture(o.input),setTimeout((function(){return o.updateMirror()}),0),o.options.actions&&(o.actionbar=o._register(new aI(o.element)),o.actionbar.push(o.options.actions,{icon:!0,label:!1})),o.applyStyles(),o}return uU(t,e),t.prototype.onBlur=function(){this._hideMessage()},t.prototype.onFocus=function(){this._showMessage()},t.prototype.setPlaceHolder=function(e){this.placeholder=e,this.input.setAttribute("placeholder",e),this.input.title=e},t.prototype.setAriaLabel=function(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")},Object.defineProperty(t.prototype,"inputElement",{get:function(){return this.input},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.input.value},set:function(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return"number"===typeof this.cachedHeight?this.cachedHeight:qo(this.element)},enumerable:!0,configurable:!0}),t.prototype.focus=function(){this.input.focus()},t.prototype.blur=function(){this.input.blur()},t.prototype.hasFocus=function(){return document.activeElement===this.input},t.prototype.select=function(e){void 0===e&&(e=null),this.input.select(),e&&this.input.setSelectionRange(e.start,e.end)},t.prototype.enable=function(){this.input.removeAttribute("disabled")},t.prototype.disable=function(){this.blur(),this.input.disabled=!0,this._hideMessage()},Object.defineProperty(t.prototype,"width",{get:function(){return jo(this.input)},set:function(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){var t=0;if(this.mirror){var n=parseFloat(this.mirror.style.paddingLeft||"")||0,i=parseFloat(this.mirror.style.paddingRight||"")||0;t=n+i}this.input.style.width=e-t+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{set:function(e){this.options.flexibleHeight&&this.options.flexibleWidth?this.input.style.width="calc(100% - "+e+"px)":this.input.style.paddingRight=e+"px",this.mirror&&(this.mirror.style.paddingRight=e+"px")},enumerable:!0,configurable:!0}),t.prototype.updateScrollDimensions=function(){if("number"===typeof this.cachedContentHeight&&"number"===typeof this.cachedHeight&&this.scrollableElement){var e=this.cachedContentHeight,t=this.cachedHeight,n=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:t}),this.scrollableElement.setScrollPosition({scrollTop:n})}},t.prototype.showMessage=function(e,t){this.message=e,mo(this.element,"idle"),mo(this.element,"info"),mo(this.element,"warning"),mo(this.element,"error"),fo(this.element,this.classForType(e.type));var n,i=this.stylesForType(this.message.type);this.element.style.border=i.border?"1px solid "+i.border:"",n=3===e.type?r("alertErrorMessage","Error: {0}",e.content):2===e.type?r("alertWarningMessage","Warning: {0}",e.content):r("alertInfoMessage","Info: {0}",e.content),$g(n),(this.hasFocus()||t)&&this._showMessage()},t.prototype.hideMessage=function(){this.message=null,mo(this.element,"info"),mo(this.element,"warning"),mo(this.element,"error"),fo(this.element,"idle"),this._hideMessage(),this.applyStyles()},t.prototype.validate=function(){var e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),!e},t.prototype.stylesForType=function(e){switch(e){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}},t.prototype.classForType=function(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}},t.prototype._showMessage=function(){var e=this;if(this.contextViewProvider&&this.message){var t,n=function(){return t.style.width=jo(e.element)+"px"};this.contextViewProvider.showContextView({getAnchor:function(){return e.element},anchorAlignment:1,render:function(i){if(!e.message)return null;t=pr(i,cU(".monaco-inputbox-container")),n();var o={inline:!0,className:"monaco-inputbox-message"},r=e.message.formatContent?tU(e.message.content,o):eU(e.message.content,o);fo(r,e.classForType(e.message.type));var s=e.stylesForType(e.message.type);return r.style.backgroundColor=s.background?s.background.toString():"",r.style.color=s.foreground?s.foreground.toString():"",r.style.border=s.border?"1px solid "+s.border:"",pr(t,r),null},onHide:function(){e.state="closed"},layout:n}),this.state="open"}},t.prototype._hideMessage=function(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")},t.prototype.onValueChange=function(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),vo(this.input,"empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()},t.prototype.updateMirror=function(){if(this.mirror){var e=this.value,t=e.charCodeAt(e.length-1),n=10===t?" ":"",i=e+n;i?this.mirror.textContent=e+n:this.mirror.innerHTML="&#160;",this.layout()}},t.prototype.style=function(e){this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){var e=this.inputBackground?this.inputBackground.toString():"",t=this.inputForeground?this.inputForeground.toString():"",n=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.input.style.backgroundColor=e,this.input.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n},t.prototype.layout=function(){if(this.mirror){var e=this.cachedContentHeight;this.cachedContentHeight=qo(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}},t.prototype.insertAtCursor=function(e){var t=this.inputElement,n=t.selectionStart,i=t.selectionEnd,o=t.value;null!==n&&null!==i&&(this.value=o.substr(0,n)+e+o.substr(i),t.setSelectionRange(n+1,n+1),this.layout())},t.prototype.dispose=function(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),e.prototype.dispose.call(this)},t}(fT),pU=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o.history=new lU(i.history,100),o}return uU(t,e),t.prototype.addToHistory=function(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)},t.prototype.showNextValue=function(){this.history.has(this.value)||this.addToHistory();var e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),e&&(this.value=e,Wg(this.value))},t.prototype.showPreviousValue=function(){this.history.has(this.value)||this.addToHistory();var e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Wg(this.value))},t.prototype.getCurrentValue=function(){var e=this.history.current();return e||(e=this.history.last(),this.history.next()),e},t.prototype.getPreviousValue=function(){return this.history.previous()||this.history.first()},t.prototype.getNextValue=function(){return this.history.next()||this.history.last()},t}(dU),fU=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gU=r("defaultLabel","input"),mU=function(e){function t(t,n,i,o){var r=e.call(this)||this;r._showOptionButtons=i,r.fixFocusOnOptionClickEnabled=!0,r._onDidOptionChange=r._register(new Ze),r.onDidOptionChange=r._onDidOptionChange.event,r._onKeyDown=r._register(new Ze),r.onKeyDown=r._onKeyDown.event,r._onMouseDown=r._register(new Ze),r.onMouseDown=r._onMouseDown.event,r._onInput=r._register(new Ze),r._onKeyUp=r._register(new Ze),r._onCaseSensitiveKeyDown=r._register(new Ze),r.onCaseSensitiveKeyDown=r._onCaseSensitiveKeyDown.event,r._onRegexKeyDown=r._register(new Ze),r.onRegexKeyDown=r._onRegexKeyDown.event,r._lastHighlightFindOptions=0,r.contextViewProvider=n,r.placeholder=o.placeholder||"",r.validation=o.validation,r.label=o.label||gU,r.inputActiveOptionBorder=o.inputActiveOptionBorder,r.inputActiveOptionBackground=o.inputActiveOptionBackground,r.inputBackground=o.inputBackground,r.inputForeground=o.inputForeground,r.inputBorder=o.inputBorder,r.inputValidationInfoBorder=o.inputValidationInfoBorder,r.inputValidationInfoBackground=o.inputValidationInfoBackground,r.inputValidationInfoForeground=o.inputValidationInfoForeground,r.inputValidationWarningBorder=o.inputValidationWarningBorder,r.inputValidationWarningBackground=o.inputValidationWarningBackground,r.inputValidationWarningForeground=o.inputValidationWarningForeground,r.inputValidationErrorBorder=o.inputValidationErrorBorder,r.inputValidationErrorBackground=o.inputValidationErrorBackground,r.inputValidationErrorForeground=o.inputValidationErrorForeground;var s=o.appendCaseSensitiveLabel||"",a=o.appendWholeWordsLabel||"",l=o.appendRegexLabel||"",u=o.history||[],c=!!o.flexibleHeight,h=!!o.flexibleWidth,d=o.flexibleMaxHeight;r.domNode=document.createElement("div"),fo(r.domNode,"monaco-findInput"),r.inputBox=r._register(new pU(r.domNode,r.contextViewProvider,{placeholder:r.placeholder||"",ariaLabel:r.label||"",validationOptions:{validation:r.validation},inputBackground:r.inputBackground,inputForeground:r.inputForeground,inputBorder:r.inputBorder,inputValidationInfoBackground:r.inputValidationInfoBackground,inputValidationInfoForeground:r.inputValidationInfoForeground,inputValidationInfoBorder:r.inputValidationInfoBorder,inputValidationWarningBackground:r.inputValidationWarningBackground,inputValidationWarningForeground:r.inputValidationWarningForeground,inputValidationWarningBorder:r.inputValidationWarningBorder,inputValidationErrorBackground:r.inputValidationErrorBackground,inputValidationErrorForeground:r.inputValidationErrorForeground,inputValidationErrorBorder:r.inputValidationErrorBorder,history:u,flexibleHeight:c,flexibleWidth:h,flexibleMaxHeight:d})),r.regex=r._register(new qW({appendTitle:l,isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.regex.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r._register(r.regex.onKeyDown((function(e){r._onRegexKeyDown.fire(e)}))),r.wholeWords=r._register(new KW({appendTitle:a,isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.wholeWords.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r.caseSensitive=r._register(new GW({appendTitle:s,isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.caseSensitive.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r._register(r.caseSensitive.onKeyDown((function(e){r._onCaseSensitiveKeyDown.fire(e)}))),r._showOptionButtons&&(r.inputBox.paddingRight=r.caseSensitive.width()+r.wholeWords.width()+r.regex.width());var p=[r.caseSensitive.domNode,r.wholeWords.domNode,r.regex.domNode];r.onkeydown(r.domNode,(function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=p.indexOf(document.activeElement);if(t>=0){var n=-1;e.equals(17)?n=(t+1)%p.length:e.equals(15)&&(n=0===t?p.length-1:t-1),e.equals(9)?p[t].blur():n>=0&&p[n].focus(),lr.stop(e,!0)}}}));var f=document.createElement("div");return f.className="controls",f.style.display=r._showOptionButtons?"block":"none",f.appendChild(r.caseSensitive.domNode),f.appendChild(r.wholeWords.domNode),f.appendChild(r.regex.domNode),r.domNode.appendChild(f),t&&t.appendChild(r.domNode),r.onkeydown(r.inputBox.inputElement,(function(e){return r._onKeyDown.fire(e)})),r.onkeyup(r.inputBox.inputElement,(function(e){return r._onKeyUp.fire(e)})),r.oninput(r.inputBox.inputElement,(function(e){return r._onInput.fire()})),r.onmousedown(r.inputBox.inputElement,(function(e){return r._onMouseDown.fire(e)})),r}return fU(t,e),t.prototype.enable=function(){mo(this.domNode,"disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()},t.prototype.disable=function(){fo(this.domNode,"disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()},t.prototype.setFocusInputOnOptionClick=function(e){this.fixFocusOnOptionClickEnabled=e},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.getValue=function(){return this.inputBox.value},t.prototype.setValue=function(e){this.inputBox.value!==e&&(this.inputBox.value=e)},t.prototype.style=function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getCaseSensitive=function(){return this.caseSensitive.checked},t.prototype.setCaseSensitive=function(e){this.caseSensitive.checked=e},t.prototype.getWholeWords=function(){return this.wholeWords.checked},t.prototype.setWholeWords=function(e){this.wholeWords.checked=e},t.prototype.getRegex=function(){return this.regex.checked},t.prototype.setRegex=function(e){this.regex.checked=e,this.validate()},t.prototype.focusOnCaseSensitive=function(){this.caseSensitive.focus()},t.prototype.highlightFindOptions=function(){mo(this.domNode,"highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,fo(this.domNode,"highlight-"+this._lastHighlightFindOptions)},t.prototype.validate=function(){this.inputBox.validate()},t.prototype.clearMessage=function(){this.inputBox.hideMessage()},t}(fT),_U=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vU=r("defaultLabel","input"),yU=r("label.preserveCaseCheckbox","Preserve Case"),bU=function(e){function t(t){return e.call(this,{actionClassName:"codicon-preserve-case",title:yU+t.appendTitle,isChecked:t.isChecked,inputActiveOptionBorder:t.inputActiveOptionBorder,inputActiveOptionBackground:t.inputActiveOptionBackground})||this}return _U(t,e),t}($W),wU=function(e){function t(t,n,i,o){var r=e.call(this)||this;r._showOptionButtons=i,r.fixFocusOnOptionClickEnabled=!0,r.cachedOptionsWidth=0,r._onDidOptionChange=r._register(new Ze),r.onDidOptionChange=r._onDidOptionChange.event,r._onKeyDown=r._register(new Ze),r.onKeyDown=r._onKeyDown.event,r._onMouseDown=r._register(new Ze),r._onInput=r._register(new Ze),r._onKeyUp=r._register(new Ze),r._onPreserveCaseKeyDown=r._register(new Ze),r.onPreserveCaseKeyDown=r._onPreserveCaseKeyDown.event,r.contextViewProvider=n,r.placeholder=o.placeholder||"",r.validation=o.validation,r.label=o.label||vU,r.inputActiveOptionBorder=o.inputActiveOptionBorder,r.inputActiveOptionBackground=o.inputActiveOptionBackground,r.inputBackground=o.inputBackground,r.inputForeground=o.inputForeground,r.inputBorder=o.inputBorder,r.inputValidationInfoBorder=o.inputValidationInfoBorder,r.inputValidationInfoBackground=o.inputValidationInfoBackground,r.inputValidationInfoForeground=o.inputValidationInfoForeground,r.inputValidationWarningBorder=o.inputValidationWarningBorder,r.inputValidationWarningBackground=o.inputValidationWarningBackground,r.inputValidationWarningForeground=o.inputValidationWarningForeground,r.inputValidationErrorBorder=o.inputValidationErrorBorder,r.inputValidationErrorBackground=o.inputValidationErrorBackground,r.inputValidationErrorForeground=o.inputValidationErrorForeground;var s=o.history||[],a=!!o.flexibleHeight,l=!!o.flexibleWidth,u=o.flexibleMaxHeight;r.domNode=document.createElement("div"),fo(r.domNode,"monaco-findInput"),r.inputBox=r._register(new pU(r.domNode,r.contextViewProvider,{ariaLabel:r.label||"",placeholder:r.placeholder||"",validationOptions:{validation:r.validation},inputBackground:r.inputBackground,inputForeground:r.inputForeground,inputBorder:r.inputBorder,inputValidationInfoBackground:r.inputValidationInfoBackground,inputValidationInfoForeground:r.inputValidationInfoForeground,inputValidationInfoBorder:r.inputValidationInfoBorder,inputValidationWarningBackground:r.inputValidationWarningBackground,inputValidationWarningForeground:r.inputValidationWarningForeground,inputValidationWarningBorder:r.inputValidationWarningBorder,inputValidationErrorBackground:r.inputValidationErrorBackground,inputValidationErrorForeground:r.inputValidationErrorForeground,inputValidationErrorBorder:r.inputValidationErrorBorder,history:s,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:u})),r.preserveCase=r._register(new bU({appendTitle:"",isChecked:!1,inputActiveOptionBorder:r.inputActiveOptionBorder,inputActiveOptionBackground:r.inputActiveOptionBackground})),r._register(r.preserveCase.onChange((function(e){r._onDidOptionChange.fire(e),!e&&r.fixFocusOnOptionClickEnabled&&r.inputBox.focus(),r.validate()}))),r._register(r.preserveCase.onKeyDown((function(e){r._onPreserveCaseKeyDown.fire(e)}))),r._showOptionButtons?r.cachedOptionsWidth=r.preserveCase.width():r.cachedOptionsWidth=0;var c=[r.preserveCase.domNode];r.onkeydown(r.domNode,(function(e){if(e.equals(15)||e.equals(17)||e.equals(9)){var t=c.indexOf(document.activeElement);if(t>=0){var n=-1;e.equals(17)?n=(t+1)%c.length:e.equals(15)&&(n=0===t?c.length-1:t-1),e.equals(9)?c[t].blur():n>=0&&c[n].focus(),lr.stop(e,!0)}}}));var h=document.createElement("div");return h.className="controls",h.style.display=r._showOptionButtons?"block":"none",h.appendChild(r.preserveCase.domNode),r.domNode.appendChild(h),t&&t.appendChild(r.domNode),r.onkeydown(r.inputBox.inputElement,(function(e){return r._onKeyDown.fire(e)})),r.onkeyup(r.inputBox.inputElement,(function(e){return r._onKeyUp.fire(e)})),r.oninput(r.inputBox.inputElement,(function(e){return r._onInput.fire()})),r.onmousedown(r.inputBox.inputElement,(function(e){return r._onMouseDown.fire(e)})),r}return _U(t,e),t.prototype.enable=function(){mo(this.domNode,"disabled"),this.inputBox.enable(),this.preserveCase.enable()},t.prototype.disable=function(){fo(this.domNode,"disabled"),this.inputBox.disable(),this.preserveCase.disable()},t.prototype.setEnabled=function(e){e?this.enable():this.disable()},t.prototype.style=function(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()},t.prototype.applyStyles=function(){if(this.domNode){var e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);var t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}},t.prototype.select=function(){this.inputBox.select()},t.prototype.focus=function(){this.inputBox.focus()},t.prototype.getPreserveCase=function(){return this.preserveCase.checked},t.prototype.setPreserveCase=function(e){this.preserveCase.checked=e},t.prototype.focusOnPreserve=function(){this.preserveCase.focus()},t.prototype.validate=function(){this.inputBox&&this.inputBox.validate()},Object.defineProperty(t.prototype,"width",{set:function(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(fT),CU=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),SU=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},EU=function(e,t){return function(n,i){t(n,i,e)}},TU="historyNavigationWidget",kU="historyNavigationEnabled";function xU(e,t,n){new Ff(n,t).bindTo(e)}function LU(e,t){return e.createScoped(t.target)}function IU(e,t){return e.getContext(document.activeElement).getValue(t)}function OU(e,t){var n=LU(e,t);xU(n,t,TU);var i=new Ff(kU,!0).bindTo(n);return{scopedContextKeyService:n,historyNavigationEnablement:i}}var DU=function(e){function t(t,n,i,o,r){void 0===r&&(r=!1);var s=e.call(this,t,n,r,i)||this;return s._register(OU(o,{target:s.inputBox.element,historyNavigator:s.inputBox}).scopedContextKeyService),s}return CU(t,e),t=SU([EU(3,Bf)],t),t}(mU),NU=function(e){function t(t,n,i,o,r){void 0===r&&(r=!1);var s=e.call(this,t,n,r,i)||this;return s._register(OU(o,{target:s.inputBox.element,historyNavigator:s.inputBox}).scopedContextKeyService),s}return CU(t,e),t=SU([EU(3,Bf)],t),t}(wU);Wf.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:xf.and(xf.has(TU),xf.equals(kU,!0)),primary:16,secondary:[528],handler:function(e,t){var n=IU(e.get(Bf),TU);if(n){var i=n.historyNavigator;i.showPreviousValue()}}}),Wf.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:xf.and(xf.has(TU),xf.equals(kU,!0)),primary:18,secondary:[530],handler:function(e,t){var n=IU(e.get(Bf),TU);if(n){var i=n.historyNavigator;i.showNextValue()}}});var RU=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AU=r("label.find","Find"),MU=r("placeholder.find","Find"),PU=r("label.previousMatchButton","Previous match"),FU=r("label.nextMatchButton","Next match"),BU=r("label.toggleSelectionFind","Find in selection"),VU=r("label.closeButton","Close"),HU=r("label.replace","Replace"),$U=r("placeholder.replace","Replace"),WU=r("label.replaceButton","Replace"),UU=r("label.replaceAllButton","Replace All"),zU=r("label.toggleReplaceButton","Toggle Replace mode"),jU=r("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",PW),GU=r("label.matchesLocation","{0} of {1}"),KU=r("label.noResults","No Results"),qU=419,YU=275,XU=YU-54,ZU=69,JU=33,QU="ctrlEnterReplaceAll.windows.donotask",ez=s["e"]?256:2048,tz=function(){function e(e){this.afterLineNumber=e,this.heightInPx=JU,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}return e}();function nz(e,t,n){var i=!!t.match(/\n/);n&&i&&n.selectionStart>0&&e.stopPropagation()}function iz(e,t,n){var i=!!t.match(/\n/);n&&i&&n.selectionEnd<n.value.length&&e.stopPropagation()}var oz=function(e){function t(t,n,i,o,r,s,a,l,u){var c=e.call(this)||this;return c._cachedHeight=null,c._codeEditor=t,c._controller=n,c._state=i,c._contextViewProvider=o,c._keybindingService=r,c._contextKeyService=s,c._storageService=l,c._notificationService=u,c._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(QU,0),c._isVisible=!1,c._isReplaceVisible=!1,c._ignoreChangeEvent=!1,c._updateHistoryDelayer=new yi(500),c._register(De((function(){return c._updateHistoryDelayer.cancel()}))),c._register(c._state.onFindReplaceStateChange((function(e){return c._onStateChanged(e)}))),c._buildDomNode(),c._updateButtons(),c._tryUpdateWidgetWidth(),c._findInput.inputBox.layout(),c._register(c._codeEditor.onDidChangeConfiguration((function(e){if(e.hasChanged(68)&&(c._codeEditor.getOption(68)&&c._state.change({isReplaceRevealed:!1},!1),c._updateButtons()),e.hasChanged(107)&&c._tryUpdateWidgetWidth(),e.hasChanged(2)&&c.updateAccessibilitySupport(),e.hasChanged(28)){var t=c._codeEditor.getOption(28).addExtraSpaceOnTop;t&&!c._viewZone&&(c._viewZone=new tz(0),c._showViewZone()),!t&&c._viewZone&&c._removeViewZone()}}))),c.updateAccessibilitySupport(),c._register(c._codeEditor.onDidChangeCursorSelection((function(){c._isVisible&&c._updateToggleSelectionFindButton()}))),c._register(c._codeEditor.onDidFocusEditorWidget((function(){if(c._isVisible){var e=c._controller.getGlobalBufferTerm();e&&e!==c._state.searchString&&(c._state.change({searchString:e},!0),c._findInput.select())}}))),c._findInputFocused=IW.bindTo(s),c._findFocusTracker=c._register(dr(c._findInput.inputBox.inputElement)),c._register(c._findFocusTracker.onDidFocus((function(){c._findInputFocused.set(!0),c._updateSearchScope()}))),c._register(c._findFocusTracker.onDidBlur((function(){c._findInputFocused.set(!1)}))),c._replaceInputFocused=OW.bindTo(s),c._replaceFocusTracker=c._register(dr(c._replaceInput.inputBox.inputElement)),c._register(c._replaceFocusTracker.onDidFocus((function(){c._replaceInputFocused.set(!0),c._updateSearchScope()}))),c._register(c._replaceFocusTracker.onDidBlur((function(){c._replaceInputFocused.set(!1)}))),c._codeEditor.addOverlayWidget(c),c._codeEditor.getOption(28).addExtraSpaceOnTop&&(c._viewZone=new tz(0)),c._applyTheme(a.getTheme()),c._register(a.onThemeChange(c._applyTheme.bind(c))),c._register(c._codeEditor.onDidChangeModel((function(){c._isVisible&&(c._viewZoneId=void 0)}))),c._register(c._codeEditor.onDidScrollChange((function(e){e.scrollTopChanged?c._layoutViewZone():setTimeout((function(){c._layoutViewZone()}),0)}))),c}return RU(t,e),t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return this._isVisible?{preference:0}:null},t.prototype._onStateChanged=function(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(68)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=jo(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){var t=this._state.searchString.length>0&&0===this._state.matchesCount;vo(this._domNode,"no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory()},t.prototype._delayedUpdateHistory=function(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this))},t.prototype._updateHistory=function(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()},t.prototype._updateMatchesCount=function(){var e;if(this._matchesCount.style.minWidth=ZU+"px",this._state.matchesCount>=PW?this._matchesCount.title=jU:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){var t=String(this._state.matchesCount);this._state.matchesCount>=PW&&(t+="+");var n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=Rr(GU,n,t)}else e=KU;this._matchesCount.appendChild(document.createTextNode(e)),$g(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString),!0),ZU=Math.max(ZU,this._matchesCount.clientWidth)},t.prototype._getAriaLabel=function(e,t,n){return e===KU?""===n?r("ariaSearchNoResultEmpty","{0} found",e):r("ariaSearchNoResult","{0} found for {1}",e,n):t?r("ariaSearchNoResultWithLineNum","{0} found for {1} at {2}",e,n,t.startLineNumber+":"+t.startColumn):r("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for {1}",e,n)},t.prototype._updateToggleSelectionFindButton=function(){var e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()},t.prototype._updateButtons=function(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);var e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t),this._nextBtn.setEnabled(this._isVisible&&e&&t),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),vo(this._domNode,"replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);var n=!this._codeEditor.getOption(68);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)},t.prototype._reveal=function(){var e=this;if(!this._isVisible){this._isVisible=!0;var t=this._codeEditor.getSelection();switch(this._codeEditor.getOption(28).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":var n=!!t&&t.startLineNumber!==t.endLineNumber;this._toggleSelectionFind.checked=n;break;default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),setTimeout((function(){fo(e._domNode,"visible"),e._domNode.setAttribute("aria-hidden","false")}),0),setTimeout((function(){e._findInput.validate()}),200),this._codeEditor.layoutOverlayWidget(this);var i=!0;if(this._codeEditor.getOption(28).seedSearchStringFromSelection&&t){var o=this._codeEditor.getDomNode();if(o){var r=Uo(o),s=this._codeEditor.getScrolledVisiblePosition(t.getStartPosition()),a=r.left+(s?s.left:0),l=s?s.top:0;if(this._viewZone&&l<this._viewZone.heightInPx){t.endLineNumber>t.startLineNumber&&(i=!1);var u=Wo(this._domNode).left;a>u&&(i=!1);var c=this._codeEditor.getScrolledVisiblePosition(t.getEndPosition()),h=r.left+(c?c.left:0);h>u&&(i=!1)}}}this._showViewZone(i)}},t.prototype._hide=function(e){this._isVisible&&(this._isVisible=!1,this._updateButtons(),mo(this._domNode,"visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())},t.prototype._layoutViewZone=function(){var e=this,t=this._codeEditor.getOption(28).addExtraSpaceOnTop;if(t){if(this._isVisible){var n=this._viewZone;void 0===this._viewZoneId&&n&&this._codeEditor.changeViewZones((function(t){n.heightInPx=e._getHeight(),e._viewZoneId=t.addZone(n),e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()+n.heightInPx)}))}}else this._removeViewZone()},t.prototype._showViewZone=function(e){var t=this;if(void 0===e&&(e=!0),this._isVisible){var n=this._codeEditor.getOption(28).addExtraSpaceOnTop;if(n){void 0===this._viewZone&&(this._viewZone=new tz(0));var i=this._viewZone;this._codeEditor.changeViewZones((function(n){if(void 0!==t._viewZoneId){var o=t._getHeight();if(o===i.heightInPx)return;var r=o-i.heightInPx;return i.heightInPx=o,n.layoutZone(t._viewZoneId),void(e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r))}r=t._getHeight();i.heightInPx=r,t._viewZoneId=n.addZone(i),e&&t._codeEditor.setScrollTop(t._codeEditor.getScrollTop()+r)}))}}},t.prototype._removeViewZone=function(){var e=this;this._codeEditor.changeViewZones((function(t){void 0!==e._viewZoneId&&(t.removeZone(e._viewZoneId),e._viewZoneId=void 0,e._viewZone&&(e._codeEditor.setScrollTop(e._codeEditor.getScrollTop()-e._viewZone.heightInPx),e._viewZone=void 0))}))},t.prototype._applyTheme=function(e){var t={inputActiveOptionBorder:e.getColor(uw),inputActiveOptionBackground:e.getColor(cw),inputBackground:e.getColor(sw),inputForeground:e.getColor(aw),inputBorder:e.getColor(lw),inputValidationInfoBackground:e.getColor(hw),inputValidationInfoForeground:e.getColor(dw),inputValidationInfoBorder:e.getColor(pw),inputValidationWarningBackground:e.getColor(fw),inputValidationWarningForeground:e.getColor(gw),inputValidationWarningBorder:e.getColor(mw),inputValidationErrorBackground:e.getColor(_w),inputValidationErrorForeground:e.getColor(vw),inputValidationErrorBorder:e.getColor(yw)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)},t.prototype._tryUpdateWidgetWidth=function(){if(this._isVisible&&lo(this._domNode)){var e=this._codeEditor.getLayoutInfo(),t=e.contentWidth;if(t<=0)fo(this._domNode,"hiddenEditor");else{po(this._domNode,"hiddenEditor")&&mo(this._domNode,"hiddenEditor");var n=e.width,i=e.minimapWidth,o=!1,r=!1,s=!1;if(this._resized){var a=jo(this._domNode);if(a>qU)return this._domNode.style.maxWidth=n-28-i-15+"px",void(this._replaceInput.width=jo(this._findInput.domNode))}if(qU+28+i>=n&&(r=!0),qU+28+i-ZU>=n&&(s=!0),qU+28+i-ZU>=n+50&&(o=!0),vo(this._domNode,"collapsed-find-widget",o),vo(this._domNode,"narrow-find-widget",s),vo(this._domNode,"reduced-find-widget",r),s||o||(this._domNode.style.maxWidth=n-28-i-15+"px"),this._resized){this._findInput.inputBox.layout();var l=this._findInput.inputBox.element.clientWidth;l>0&&(this._replaceInput.width=l)}else this._isReplaceVisible&&(this._replaceInput.width=jo(this._findInput.domNode))}}},t.prototype._getHeight=function(){var e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e},t.prototype._tryUpdateHeight=function(){var e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=e+"px",!0)},t.prototype.focusFindInput=function(){this._findInput.select(),this._findInput.focus()},t.prototype.focusReplaceInput=function(){this._replaceInput.select(),this._replaceInput.focus()},t.prototype.highlightFindOptions=function(){this._findInput.highlightFindOptions()},t.prototype._updateSearchScope=function(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){var e=this._codeEditor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));var t=this._state.currentMatch;e.startLineNumber!==e.endLineNumber&&(bn.equalsRange(e,t)||this._state.change({searchScope:e},!0))}},t.prototype._onFindInputMouseDown=function(e){e.middleButton&&e.stopPropagation()},t.prototype._onFindInputKeyDown=function(e){return e.equals(3|ez)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?nz(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?iz(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0},t.prototype._onReplaceInputKeyDown=function(e){return e.equals(3|ez)?(s["h"]&&s["f"]&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(r("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(QU,!0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?nz(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?iz(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0},t.prototype.getHorizontalSashTop=function(e){return 0},t.prototype.getHorizontalSashLeft=function(e){return 0},t.prototype.getHorizontalSashWidth=function(e){return 500},t.prototype._keybindingLabelFor=function(e){var t=this._keybindingService.lookupKeybinding(e);return t?" ("+t.getLabel()+")":""},t.prototype._buildDomNode=function(){var e=this,t=!0,n=!0;this._findInput=this._register(new DU(null,this._contextViewProvider,{width:XU,label:AU,placeholder:MU,appendCaseSensitiveLabel:this._keybindingLabelFor(MW.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(MW.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(MW.ToggleRegexCommand),validation:function(t){if(0===t.length||!e._findInput.getRegex())return null;try{return new RegExp(t),null}catch(n){return{content:n.message}}},flexibleHeight:t,flexibleWidth:n,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((function(t){return e._onFindInputKeyDown(t)}))),this._register(this._findInput.inputBox.onDidChange((function(){e._ignoreChangeEvent||e._state.change({searchString:e._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((function(){e._state.change({isRegex:e._findInput.getRegex(),wholeWord:e._findInput.getWholeWords(),matchCase:e._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((function(t){t.equals(1026)&&e._isReplaceVisible&&(e._replaceInput.focus(),t.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceInput.focusOnPreserve(),t.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((function(t){e._tryUpdateHeight()&&e._showViewZone()}))),s["d"]&&this._register(this._findInput.onMouseDown((function(t){return e._onFindInputMouseDown(t)}))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new rz({label:PU+this._keybindingLabelFor(MW.PreviousMatchFindAction),className:"codicon codicon-arrow-up",onTrigger:function(){e._codeEditor.getAction(MW.PreviousMatchFindAction).run().then(void 0,ge)}})),this._nextBtn=this._register(new rz({label:FU+this._keybindingLabelFor(MW.NextMatchFindAction),className:"codicon codicon-arrow-down",onTrigger:function(){e._codeEditor.getAction(MW.NextMatchFindAction).run().then(void 0,ge)}}));var i=document.createElement("div");i.className="find-part",i.appendChild(this._findInput.domNode);var o=document.createElement("div");o.className="find-actions",i.appendChild(o),o.appendChild(this._matchesCount),o.appendChild(this._prevBtn.domNode),o.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new $W({actionClassName:"codicon codicon-selection",title:BU+this._keybindingLabelFor(MW.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((function(){if(e._toggleSelectionFind.checked){if(e._codeEditor.hasModel()){var t=e._codeEditor.getSelection();1===t.endColumn&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,e._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()||e._state.change({searchScope:t},!0)}}else e._state.change({searchScope:null},!0)}))),o.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new rz({label:VU+this._keybindingLabelFor(MW.CloseFindWidgetCommand),className:"codicon codicon-close",onTrigger:function(){e._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:function(t){t.equals(2)&&e._isReplaceVisible&&(e._replaceBtn.isEnabled()?e._replaceBtn.focus():e._codeEditor.focus(),t.preventDefault())}})),o.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new NU(null,void 0,{label:HU,placeholder:$U,history:[],flexibleHeight:t,flexibleWidth:n,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((function(t){return e._onReplaceInputKeyDown(t)}))),this._register(this._replaceInput.inputBox.onDidChange((function(){e._state.change({replaceString:e._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((function(t){e._isReplaceVisible&&e._tryUpdateHeight()&&e._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((function(){e._state.change({preserveCase:e._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((function(t){t.equals(2)&&(e._prevBtn.isEnabled()?e._prevBtn.focus():e._nextBtn.isEnabled()?e._nextBtn.focus():e._toggleSelectionFind.enabled?e._toggleSelectionFind.focus():e._closeBtn.isEnabled()&&e._closeBtn.focus(),t.preventDefault())}))),this._replaceBtn=this._register(new rz({label:WU+this._keybindingLabelFor(MW.ReplaceOneAction),className:"codicon codicon-replace",onTrigger:function(){e._controller.replace()},onKeyDown:function(t){t.equals(1026)&&(e._closeBtn.focus(),t.preventDefault())}})),this._replaceAllBtn=this._register(new rz({label:UU+this._keybindingLabelFor(MW.ReplaceAllAction),className:"codicon codicon-replace-all",onTrigger:function(){e._controller.replaceAll()}}));var r=document.createElement("div");r.className="replace-part",r.appendChild(this._replaceInput.domNode);var a=document.createElement("div");a.className="replace-actions",r.appendChild(a),a.appendChild(this._replaceBtn.domNode),a.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new rz({label:zU,className:"codicon toggle left",onTrigger:function(){e._state.change({isReplaceRevealed:!e._isReplaceVisible},!1),e._isReplaceVisible&&(e._replaceInput.width=jo(e._findInput.domNode),e._replaceInput.inputBox.layout()),e._showViewZone()}})),this._toggleReplaceBtn.toggleClass("codicon-chevron-down",this._isReplaceVisible),this._toggleReplaceBtn.toggleClass("codicon-chevron-right",!this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=qU+"px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(i),this._domNode.appendChild(r),this._resizeSash=new VL(this._domNode,this,{orientation:0}),this._resized=!1;var l=qU;this._register(this._resizeSash.onDidStart((function(){l=jo(e._domNode)}))),this._register(this._resizeSash.onDidChange((function(t){e._resized=!0;var n=l+t.startX-t.currentX;if(!(n<qU)){var i=parseFloat(Bo(e._domNode).maxWidth)||0;n>i||(e._domNode.style.width=n+"px",e._isReplaceVisible&&(e._replaceInput.width=jo(e._findInput.domNode)),e._findInput.inputBox.layout(),e._tryUpdateHeight())}}))),this._register(this._resizeSash.onDidReset((function(){var t=jo(e._domNode);if(!(t<qU)){var n=qU;if(!e._resized||t===qU){var i=e._codeEditor.getLayoutInfo();n=i.width-28-i.minimapWidth-15,e._resized=!0}e._domNode.style.width=n+"px",e._isReplaceVisible&&(e._replaceInput.width=jo(e._findInput.domNode)),e._findInput.inputBox.layout()}})))},t.prototype.updateAccessibilitySupport=function(){var e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)},t.ID="editor.contrib.findWidget",t}(fT),rz=function(e){function t(t){var n=e.call(this)||this;return n._opts=t,n._domNode=document.createElement("div"),n._domNode.title=n._opts.label,n._domNode.tabIndex=0,n._domNode.className="button "+n._opts.className,n._domNode.setAttribute("role","button"),n._domNode.setAttribute("aria-label",n._opts.label),n.onclick(n._domNode,(function(e){n._opts.onTrigger(),e.preventDefault()})),n.onkeydown(n._domNode,(function(e){if(e.equals(10)||e.equals(3))return n._opts.onTrigger(),void e.preventDefault();n._opts.onKeyDown&&n._opts.onKeyDown(e)})),n}return RU(t,e),Object.defineProperty(t.prototype,"domNode",{get:function(){return this._domNode},enumerable:!0,configurable:!0}),t.prototype.isEnabled=function(){return this._domNode.tabIndex>=0},t.prototype.focus=function(){this._domNode.focus()},t.prototype.setEnabled=function(e){vo(this._domNode,"disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1},t.prototype.setExpanded=function(e){this._domNode.setAttribute("aria-expanded",String(!!e))},t.prototype.toggleClass=function(e,t){vo(this._domNode,e,t)},t}(fT);w_((function(e,t){var n=function(e,n){n&&t.addRule(".monaco-editor "+e+" { background-color: "+n+"; }")};n(".findMatch",e.getColor(Zw)),n(".currentFindMatch",e.getColor(Xw)),n(".findScope",e.getColor(Jw));var i=e.getColor($w);n(".find-widget",i);var o=e.getColor(rw);o&&t.addRule(".monaco-editor .find-widget { box-shadow: 0 2px 8px "+o+"; }");var r=e.getColor(eC);r&&t.addRule(".monaco-editor .findMatch { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+r+"; box-sizing: border-box; }");var s=e.getColor(Qw);s&&t.addRule(".monaco-editor .currentFindMatch { border: 2px solid "+s+"; padding: 1px; box-sizing: border-box; }");var a=e.getColor(tC);a&&t.addRule(".monaco-editor .findScope { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+a+"; }");var l=e.getColor(tw);l&&t.addRule(".monaco-editor .find-widget { border: 1px solid "+l+"; }");var u=e.getColor(Ww);u&&t.addRule(".monaco-editor .find-widget { color: "+u+"; }");var c=e.getColor(Qb);c&&t.addRule(".monaco-editor .find-widget.no-results .matchesCount { color: "+c+"; }");var h=e.getColor(zw);if(h)t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+h+"; width: 3px !important; margin-left: -4px;}");else{var d=e.getColor(Uw);d&&t.addRule(".monaco-editor .find-widget .monaco-sash { background-color: "+d+"; width: 3px !important; margin-left: -4px;}")}var p=e.getColor(ew);p&&t.addRule(".monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: "+p+"; }")}));var sz=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),az=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},lz=function(e,t){return function(n,i){t(n,i,e)}},uz=524288;function cz(e){if(!e.hasModel())return null;var t=e.getSelection();if(t.startLineNumber===t.endLineNumber)if(t.isEmpty()){var n=e.getModel().getWordAtPosition(t.getStartPosition());if(n)return n.word}else if(e.getModel().getValueLengthInRange(t)<uz)return e.getModel().getValueInRange(t);return null}var hz=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._editor=t,r._findWidgetVisible=LW.bindTo(n),r._contextKeyService=n,r._storageService=i,r._clipboardService=o,r._updateHistoryDelayer=new yi(500),r._state=r._register(new QW),r.loadQueryState(),r._register(r._state.onFindReplaceStateChange((function(e){return r._onStateChanged(e)}))),r._model=null,r._register(r._editor.onDidChangeModel((function(){var e=r._editor.getModel()&&r._state.isRevealed;r.disposeModel(),r._state.change({searchScope:null,matchCase:r._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:r._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:r._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:r._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&r._start({forceRevealReplace:!1,seedSearchStringFromSelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1})}))),r}return sz(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this.disposeModel(),e.prototype.dispose.call(this)},t.prototype.disposeModel=function(){this._model&&(this._model.dispose(),this._model=null)},t.prototype._onStateChanged=function(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)},t.prototype.saveQueryState=function(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1)},t.prototype.loadQueryState=function(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)},t.prototype.isFindInputFocused=function(){return!!IW.getValue(this._contextKeyService)},t.prototype.getState=function(){return this._state},t.prototype.closeFindWidget=function(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()},t.prototype.toggleCaseSensitive=function(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleWholeWords=function(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleRegex=function(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()},t.prototype.toggleSearchScope=function(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){var e=this._editor.getSelection();1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()||this._state.change({searchScope:e},!0)}},t.prototype.setSearchString=function(e){this._state.isRegex&&(e=Mr(e)),this._state.change({searchString:e},!1)},t.prototype.highlightFindOptions=function(){},t.prototype._start=function(e){if(this.disposeModel(),this._editor.hasModel()){var t={isRevealed:!0};if(e.seedSearchStringFromSelection){var n=cz(this._editor);n&&(this._state.isRegex?t.searchString=Mr(n):t.searchString=n)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){n=this.getGlobalBufferTerm();n&&(t.searchString=n)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){var i=this._editor.getSelection();i.isEmpty()||(t.searchScope=i)}this._state.change(t,!1),this._model||(this._model=new BW(this._editor,this._state))}},t.prototype.start=function(e){this._start(e)},t.prototype.moveToNextMatch=function(){return!!this._model&&(this._model.moveToNextMatch(),!0)},t.prototype.moveToPrevMatch=function(){return!!this._model&&(this._model.moveToPrevMatch(),!0)},t.prototype.replace=function(){return!!this._model&&(this._model.replace(),!0)},t.prototype.replaceAll=function(){return!!this._model&&(this._model.replaceAll(),!0)},t.prototype.selectAllMatches=function(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)},t.prototype.getGlobalBufferTerm=function(){return this._editor.getOption(28).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""},t.prototype.setGlobalBufferTerm=function(e){this._editor.getOption(28).globalFindClipboard&&this._clipboardService&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)},t.ID="editor.contrib.findController",t=az([lz(1,Bf),lz(2,VP),lz(3,UI)],t),t}(Ae),dz=function(e){function t(t,n,i,o,r,s,a,l){var u=e.call(this,t,i,a,l)||this;return u._contextViewService=n,u._keybindingService=o,u._themeService=r,u._notificationService=s,u._widget=null,u._findOptionsWidget=null,u}return sz(t,e),t.prototype._start=function(t){this._widget||this._createFindWidget();var n=this._editor.getSelection(),i=!1;switch(this._editor.getOption(28).autoFindInSelection){case"always":i=!0;break;case"never":i=!1;break;case"multiline":var o=!!n&&n.startLineNumber!==n.endLineNumber;i=o;break;default:break}t.updateSearchScope=i,e.prototype._start.call(this,t),2===t.shouldFocus?this._widget.focusReplaceInput():1===t.shouldFocus&&this._widget.focusFindInput()},t.prototype.highlightFindOptions=function(){this._widget||this._createFindWidget(),this._state.isRevealed?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()},t.prototype._createFindWidget=function(){this._widget=this._register(new oz(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new XW(this._editor,this._state,this._keybindingService,this._themeService))},t=az([lz(1,mI),lz(2,Bf),lz(3,WI),lz(4,p_),lz(5,ig),lz(6,VP),lz(7,Nn(UI))],t),t}(hz),pz=function(e){function t(){return e.call(this,{id:MW.StartFindAction,label:r("startFindAction","Find"),alias:"Find",precondition:void 0,kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:17,group:"3_find",title:r({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})||this}return sz(t,e),t.prototype.run=function(e,t){var n=hz.get(t);n&&n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(28).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1})},t}(Cm),fz=function(e){function t(){return e.call(this,{id:MW.StartFindWithSelection,label:r("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})||this}return sz(t,e),t.prototype.run=function(e,t){var n=hz.get(t);n&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:!0,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),n.setGlobalBufferTerm(n.getState().searchString))},t}(Cm),gz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sz(t,e),t.prototype.run=function(e,t){var n=hz.get(t);n&&!this._run(n)&&(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===n.getState().searchString.length&&t.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(n))},t}(Cm),mz=function(e){function t(){return e.call(this,{id:MW.NextMatchFindAction,label:r("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100}})||this}return sz(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(gz),_z=function(e){function t(){return e.call(this,{id:MW.NextMatchFindAction,label:r("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:{kbExpr:xf.and(xE.focus,IW),primary:3,weight:100}})||this}return sz(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(gz),vz=function(e){function t(){return e.call(this,{id:MW.PreviousMatchFindAction,label:r("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100}})||this}return sz(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(gz),yz=function(e){function t(){return e.call(this,{id:MW.PreviousMatchFindAction,label:r("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:{kbExpr:xf.and(xE.focus,IW),primary:1027,weight:100}})||this}return sz(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(gz),bz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return sz(t,e),t.prototype.run=function(e,t){var n=hz.get(t);if(n){var i=cz(t);i&&n.setSearchString(i),this._run(n)||(n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(28).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1}),this._run(n))}},t}(Cm),wz=function(e){function t(){return e.call(this,{id:MW.NextSelectionMatchFindAction,label:r("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:2109,weight:100}})||this}return sz(t,e),t.prototype._run=function(e){return e.moveToNextMatch()},t}(bz),Cz=function(e){function t(){return e.call(this,{id:MW.PreviousSelectionMatchFindAction,label:r("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:3133,weight:100}})||this}return sz(t,e),t.prototype._run=function(e){return e.moveToPrevMatch()},t}(bz),Sz=function(e){function t(){return e.call(this,{id:MW.StartFindReplaceAction,label:r("startReplace","Replace"),alias:"Replace",precondition:void 0,kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:17,group:"3_find",title:r({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})||this}return sz(t,e),t.prototype.run=function(e,t){if(t.hasModel()&&!t.getOption(68)){var n=hz.get(t),i=t.getSelection(),o=n.isFindInputFocused(),r=!i.isEmpty()&&i.startLineNumber===i.endLineNumber&&t.getOption(28).seedSearchStringFromSelection&&!o,s=o||r?2:1;n&&n.start({forceRevealReplace:!0,seedSearchStringFromSelection:r,seedSearchStringFromGlobalClipboard:t.getOption(28).seedSearchStringFromSelection,shouldFocus:s,shouldAnimate:!0,updateSearchScope:!1})}},t}(Cm);Om(hz.ID,dz),Lm(pz),Lm(fz),Lm(mz),Lm(_z),Lm(vz),Lm(yz),Lm(wz),Lm(Cz),Lm(Sz);var Ez=wm.bindToContribution(hz.get);xm(new Ez({id:MW.CloseFindWidgetCommand,precondition:LW,handler:function(e){return e.closeFindWidget()},kbOpts:{weight:105,kbExpr:xE.focus,primary:9,secondary:[1033]}})),xm(new Ez({id:MW.ToggleCaseSensitiveCommand,precondition:void 0,handler:function(e){return e.toggleCaseSensitive()},kbOpts:{weight:105,kbExpr:xE.focus,primary:DW.primary,mac:DW.mac,win:DW.win,linux:DW.linux}})),xm(new Ez({id:MW.ToggleWholeWordCommand,precondition:void 0,handler:function(e){return e.toggleWholeWords()},kbOpts:{weight:105,kbExpr:xE.focus,primary:NW.primary,mac:NW.mac,win:NW.win,linux:NW.linux}})),xm(new Ez({id:MW.ToggleRegexCommand,precondition:void 0,handler:function(e){return e.toggleRegex()},kbOpts:{weight:105,kbExpr:xE.focus,primary:RW.primary,mac:RW.mac,win:RW.win,linux:RW.linux}})),xm(new Ez({id:MW.ToggleSearchScopeCommand,precondition:void 0,handler:function(e){return e.toggleSearchScope()},kbOpts:{weight:105,kbExpr:xE.focus,primary:AW.primary,mac:AW.mac,win:AW.win,linux:AW.linux}})),xm(new Ez({id:MW.ReplaceOneAction,precondition:LW,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:xE.focus,primary:3094}})),xm(new Ez({id:MW.ReplaceOneAction,precondition:LW,handler:function(e){return e.replace()},kbOpts:{weight:105,kbExpr:xf.and(xE.focus,OW),primary:3}})),xm(new Ez({id:MW.ReplaceAllAction,precondition:LW,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:xE.focus,primary:2563}})),xm(new Ez({id:MW.ReplaceAllAction,precondition:LW,handler:function(e){return e.replaceAll()},kbOpts:{weight:105,kbExpr:xf.and(xE.focus,OW),primary:void 0,mac:{primary:2051}}})),xm(new Ez({id:MW.SelectAllMatchesAction,precondition:LW,handler:function(e){return e.selectAllMatches()},kbOpts:{weight:105,kbExpr:xE.focus,primary:515}}));n("0a33");var Tz=65535,kz=16777215,xz=4278190080,Lz=function(){function e(e,t,n){if(e.length!==t.length||e.length>Tz)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}return e.prototype.ensureParentIndices=function(){var e=this;if(!this._parentsComputed){this._parentsComputed=!0;for(var t=[],n=function(n,i){var o=t[t.length-1];return e.getStartLineNumber(o)<=n&&e.getEndLineNumber(o)>=i},i=0,o=this._startIndexes.length;i<o;i++){var r=this._startIndexes[i],s=this._endIndexes[i];if(r>kz||s>kz)throw new Error("startLineNumber or endLineNumber must not exceed "+kz);while(t.length>0&&!n(r,s))t.pop();var a=t.length>0?t[t.length-1]:-1;t.push(i),this._startIndexes[i]=r+((255&a)<<24),this._endIndexes[i]=s+((65280&a)<<16)}}},Object.defineProperty(e.prototype,"length",{get:function(){return this._startIndexes.length},enumerable:!0,configurable:!0}),e.prototype.getStartLineNumber=function(e){return this._startIndexes[e]&kz},e.prototype.getEndLineNumber=function(e){return this._endIndexes[e]&kz},e.prototype.getType=function(e){return this._types?this._types[e]:void 0},e.prototype.hasTypes=function(){return!!this._types},e.prototype.isCollapsed=function(e){var t=e/32|0,n=e%32;return 0!==(this._collapseStates[t]&1<<n)},e.prototype.setCollapsed=function(e,t){var n=e/32|0,i=e%32,o=this._collapseStates[n];this._collapseStates[n]=t?o|1<<i:o&~(1<<i)},e.prototype.toRegion=function(e){return new Iz(this,e)},e.prototype.getParentIndex=function(e){this.ensureParentIndices();var t=((this._startIndexes[e]&xz)>>>24)+((this._endIndexes[e]&xz)>>>16);return t===Tz?-1:t},e.prototype.contains=function(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t},e.prototype.findIndex=function(e){var t=0,n=this._startIndexes.length;if(0===n)return-1;while(t<n){var i=Math.floor((t+n)/2);e<this.getStartLineNumber(i)?n=i:t=i+1}return t-1},e.prototype.findRange=function(e){var t=this.findIndex(e);if(t>=0){var n=this.getEndLineNumber(t);if(n>=e)return t;t=this.getParentIndex(t);while(-1!==t){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1},e.prototype.toString=function(){for(var e=[],t=0;t<this.length;t++)e[t]="["+(this.isCollapsed(t)?"+":"-")+"] "+this.getStartLineNumber(t)+"/"+this.getEndLineNumber(t);return e.join(", ")},e}(),Iz=function(){function e(e,t){this.ranges=e,this.index=t}return Object.defineProperty(e.prototype,"startLineNumber",{get:function(){return this.ranges.getStartLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endLineNumber",{get:function(){return this.ranges.getEndLineNumber(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"regionIndex",{get:function(){return this.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentIndex",{get:function(){return this.ranges.getParentIndex(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCollapsed",{get:function(){return this.ranges.isCollapsed(this.index)},enumerable:!0,configurable:!0}),e.prototype.containedBy=function(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber},e.prototype.containsLine=function(e){return this.startLineNumber<=e&&e<=this.endLineNumber},e}(),Oz=function(){function e(e,t){this._updateEventEmitter=new Ze,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Lz(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}return Object.defineProperty(e.prototype,"regions",{get:function(){return this._regions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textModel",{get:function(){return this._textModel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInitialized",{get:function(){return this._isInitialized},enumerable:!0,configurable:!0}),e.prototype.toggleCollapseState=function(e){var t=this;if(e.length){var n={};this._decorationProvider.changeDecorations((function(i){for(var o=0,r=e;o<r.length;o++){var s=r[o],a=s.regionIndex,l=t._editorDecorationIds[a];if(l&&!n[l]){n[l]=!0;var u=!t._regions.isCollapsed(a);t._regions.setCollapsed(a,u),i.changeDecorationOptions(l,t._decorationProvider.getDecorationOption(u))}}})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}},e.prototype.update=function(e,t){var n=this;void 0===t&&(t=[]);var i=[],o=function(e,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];if(e<r&&r<=n)return!0}return!1},r=function(t,r){var s=e.getStartLineNumber(t);r&&o(s,e.getEndLineNumber(t))&&(r=!1),e.setCollapsed(t,r);var a=n._textModel.getLineMaxColumn(s),l={startLineNumber:s,startColumn:a,endLineNumber:s,endColumn:a};i.push({range:l,options:n._decorationProvider.getDecorationOption(r)})},s=0,a=function(){while(s<n._regions.length){var e=n._regions.isCollapsed(s);if(s++,e)return s-1}return-1},l=0,u=a();while(-1!==u&&l<e.length){var c=this._textModel.getDecorationRange(this._editorDecorationIds[u]);if(c){var h=c.startLineNumber;if(this._textModel.getLineMaxColumn(h)===c.startColumn)while(l<e.length){var d=e.getStartLineNumber(l);if(!(h>=d))break;r(l,h===d),l++}}u=a()}while(l<e.length)r(l,!1),l++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,i),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})},e.prototype.getMemento=function(){for(var e=[],t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){var n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){var i=n.startLineNumber,o=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:i,endLineNumber:o})}}if(e.length>0)return e},e.prototype.applyMemento=function(e){if(Array.isArray(e)){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n],r=this.getRegionAtLine(o.startLineNumber);r&&!r.isCollapsed&&t.push(r)}this.toggleCollapseState(t)}},e.prototype.dispose=function(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])},e.prototype.getAllRegionsAtLine=function(e,t){var n=[];if(this._regions){var i=this._regions.findRange(e),o=1;while(i>=0){var r=this._regions.toRegion(i);t&&!t(r,o)||n.push(r),o++,i=r.parentIndex}}return n},e.prototype.getRegionAtLine=function(e){if(this._regions){var t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null},e.prototype.getRegionsInside=function(e,t){var n=[],i=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length)for(var r=[],s=i,a=this._regions.length;s<a;s++){var l=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;while(r.length>0&&!l.containedBy(r[r.length-1]))r.pop();r.push(l),t(l,r.length)&&n.push(l)}else for(s=i,a=this._regions.length;s<a;s++){l=this._regions.toRegion(s);if(!(this._regions.getStartLineNumber(s)<o))break;t&&!t(l)||n.push(l)}return n},e}();function Dz(e,t,n){for(var i=[],o=function(n){var o=e.getRegionAtLine(n);if(o){var r=!o.isCollapsed;if(i.push(o),t>1){var s=e.getRegionsInside(o,(function(e,n){return e.isCollapsed!==r&&n<t}));i.push.apply(i,s)}}},r=0,s=n;r<s.length;r++){var a=s[r];o(a)}e.toggleCollapseState(i)}function Nz(e,t,n,i){void 0===n&&(n=Number.MAX_VALUE);var o=[];if(i&&i.length>0)for(var r=0,s=i;r<s.length;r++){var a=s[r],l=e.getRegionAtLine(a);if(l&&(l.isCollapsed!==t&&o.push(l),n>1)){var u=e.getRegionsInside(l,(function(e,i){return e.isCollapsed!==t&&i<n}));o.push.apply(o,u)}}else{u=e.getRegionsInside(null,(function(e,i){return e.isCollapsed!==t&&i<n}));o.push.apply(o,u)}e.toggleCollapseState(o)}function Rz(e,t,n,i){for(var o=[],r=0,s=i;r<s.length;r++){var a=s[r],l=e.getAllRegionsAtLine(a,(function(e,i){return e.isCollapsed!==t&&i<=n}));o.push.apply(o,l)}e.toggleCollapseState(o)}function Az(e,t,n){for(var i=[],o=0,r=n;o<r.length;o++){var s=r[o],a=e.getAllRegionsAtLine(s,(function(e){return e.isCollapsed!==t}));a.length>0&&i.push(a[0])}e.toggleCollapseState(i)}function Mz(e,t,n,i){var o=function(e,o){return o===t&&e.isCollapsed!==n&&!i.some((function(t){return e.containsLine(t)}))},r=e.getRegionsInside(null,o);e.toggleCollapseState(r)}function Pz(e,t,n){for(var i=e.textModel,o=e.regions,r=[],s=o.length-1;s>=0;s--)if(n!==o.isCollapsed(s)){var a=o.getStartLineNumber(s);t.test(i.getLineContent(a))&&r.push(o.toRegion(s))}e.toggleCollapseState(r)}function Fz(e,t,n){for(var i=e.regions,o=[],r=i.length-1;r>=0;r--)n!==i.isCollapsed(r)&&t===i.getType(r)&&o.push(i.toRegion(r));e.toggleCollapseState(o)}var Bz=function(){function e(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}return e.prototype.getDecorationOption=function(t){return t?this.showFoldingHighlights?e.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:e.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:e.EXPANDED_VISUAL_DECORATION},e.prototype.deltaDecorations=function(e,t){return this.editor.deltaDecorations(e,t)},e.prototype.changeDecorations=function(e){return this.editor.changeDecorations(e)},e.COLLAPSED_VISUAL_DECORATION=Xy.register({stickiness:1,afterContentClassName:"inline-folded",linesDecorationsClassName:"codicon codicon-chevron-right"}),e.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Xy.register({stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,linesDecorationsClassName:"codicon codicon-chevron-right"}),e.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Xy.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down"}),e.EXPANDED_VISUAL_DECORATION=Xy.register({stickiness:1,linesDecorationsClassName:"codicon codicon-chevron-down alwaysShowFoldIcons"}),e}(),Vz=function(){function e(e){var t=this;this._updateEventEmitter=new Ze,this._foldingModel=e,this._foldingModelListener=e.onDidChange((function(e){return t.updateHiddenRanges()})),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._updateEventEmitter.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenRanges",{get:function(){return this._hiddenRanges},enumerable:!0,configurable:!0}),e.prototype.updateHiddenRanges=function(){for(var e=!1,t=[],n=0,i=0,o=Number.MAX_VALUE,r=-1,s=this._foldingModel.regions;n<s.length;n++)if(s.isCollapsed(n)){var a=s.getStartLineNumber(n)+1,l=s.getEndLineNumber(n);o<=a&&l<=r||(!e&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===a&&this._hiddenRanges[i].endLineNumber===l?(t.push(this._hiddenRanges[i]),i++):(e=!0,t.push(new bn(a,1,l,1))),o=a,r=l)}(e||i<this._hiddenRanges.length)&&this.applyHiddenRanges(t)},e.prototype.applyMemento=function(e){if(!Array.isArray(e)||0===e.length)return!1;for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n];if(!o.startLineNumber||!o.endLineNumber)return!1;t.push(new bn(o.startLineNumber+1,1,o.endLineNumber,1))}return this.applyHiddenRanges(t),!0},e.prototype.getMemento=function(){return this._hiddenRanges.map((function(e){return{startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber}}))},e.prototype.applyHiddenRanges=function(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)},e.prototype.hasRanges=function(){return this._hiddenRanges.length>0},e.prototype.isHidden=function(e){return null!==$z(this._hiddenRanges,e)},e.prototype.adjustSelections=function(e){for(var t=this,n=!1,i=this._foldingModel.textModel,o=null,r=function(e){return o&&Hz(e,o)||(o=$z(t._hiddenRanges,e)),o?o.startLineNumber-1:null},s=0,a=e.length;s<a;s++){var l=e[s],u=r(l.startLineNumber);u&&(l=l.setStartPosition(u,i.getLineMaxColumn(u)),n=!0);var c=r(l.endLineNumber);c&&(l=l.setEndPosition(c,i.getLineMaxColumn(c)),n=!0),e[s]=l}return n},e.prototype.dispose=function(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)},e}();function Hz(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}function $z(e,t){var n=Ri(e,(function(e){return t<e.startLineNumber}))-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}var Wz=5e3,Uz="indent",zz=function(){function e(e){this.editorModel=e,this.id=Uz}return e.prototype.dispose=function(){},e.prototype.compute=function(e){var t=Uc.getFoldingRules(this.editorModel.getLanguageIdentifier().id),n=t&&!!t.offSide,i=t&&t.markers;return Promise.resolve(Gz(this.editorModel,n,i))},e}(),jz=function(){function e(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}return e.prototype.insertFirst=function(e,t,n){if(!(e>kz||t>kz)){var i=this._length;this._startIndexes[i]=e,this._endIndexes[i]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}},e.prototype.toIndentRanges=function(e){if(this._length<=this._foldingRangesLimit){for(var t=new Uint32Array(this._length),n=new Uint32Array(this._length),i=this._length-1,o=0;i>=0;i--,o++)t[o]=this._startIndexes[i],n[o]=this._endIndexes[i];return new Lz(t,n)}var r=0,s=this._indentOccurrences.length;for(i=0;i<this._indentOccurrences.length;i++){var a=this._indentOccurrences[i];if(a){if(a+r>this._foldingRangesLimit){s=i;break}r+=a}}var l=e.getOptions().tabSize;for(t=new Uint32Array(this._foldingRangesLimit),n=new Uint32Array(this._foldingRangesLimit),i=this._length-1,o=0;i>=0;i--){var u=this._startIndexes[i],c=e.getLineContent(u),h=zy.computeIndentLevel(c,l);(h<s||h===s&&r++<this._foldingRangesLimit)&&(t[o]=u,n[o]=this._endIndexes[i],o++)}return new Lz(t,n)},e}();function Gz(e,t,n,i){void 0===i&&(i=Wz);var o=e.getOptions().tabSize,r=new jz(i),s=void 0;n&&(s=new RegExp("("+n.start.source+")|(?:"+n.end.source+")"));var a=[],l=e.getLineCount()+1;a.push({indent:-1,endAbove:l,line:l});for(var u=e.getLineCount();u>0;u--){var c=e.getLineContent(u),h=zy.computeIndentLevel(c,o),d=a[a.length-1];if(-1!==h){var p=void 0;if(s&&(p=c.match(s))){if(!p[1]){a.push({indent:-2,endAbove:u,line:u});continue}var f=a.length-1;while(f>0&&-2!==a[f].indent)f--;if(f>0){a.length=f+1,d=a[f],r.insertFirst(u,d.line,h),d.line=u,d.indent=h,d.endAbove=u;continue}}if(d.indent>h){do{a.pop(),d=a[a.length-1]}while(d.indent>h);var g=d.endAbove-1;g-u>=1&&r.insertFirst(u,g,h)}d.indent===h?d.endAbove=u:a.push({indent:h,endAbove:u,line:u})}else t&&(d.endAbove=u)}return r.toIndentRanges(e)}var Kz=5e3,qz={},Yz="syntax",Xz=function(){function e(e,t,n){void 0===n&&(n=Kz),this.editorModel=e,this.providers=t,this.limit=n,this.id=Yz}return e.prototype.compute=function(e){var t=this;return Zz(this.providers,this.editorModel,e).then((function(e){if(e){var n=Qz(e,t.limit);return n}return null}))},e.prototype.dispose=function(){},e}();function Zz(e,t,n){var i=null,o=e.map((function(e,o){return Promise.resolve(e.provideFoldingRanges(t,qz,n)).then((function(e){if(!n.isCancellationRequested&&Array.isArray(e)){Array.isArray(i)||(i=[]);for(var r=t.getLineCount(),s=0,a=e;s<a.length;s++){var l=a[s];l.start>0&&l.end>l.start&&l.end<=r&&i.push({start:l.start,end:l.end,rank:o,kind:l.kind})}}}),me)}));return Promise.all(o).then((function(e){return i}))}var Jz=function(){function e(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}return e.prototype.add=function(e,t,n,i){if(!(e>kz||t>kz)){var o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=i,this._types[o]=n,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}},e.prototype.toIndentRanges=function(){if(this._length<=this._foldingRangesLimit){for(var e=new Uint32Array(this._length),t=new Uint32Array(this._length),n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new Lz(e,t,this._types)}var i=0,o=this._nestingLevelCounts.length;for(n=0;n<this._nestingLevelCounts.length;n++){var r=this._nestingLevelCounts[n];if(r){if(r+i>this._foldingRangesLimit){o=n;break}i+=r}}e=new Uint32Array(this._foldingRangesLimit),t=new Uint32Array(this._foldingRangesLimit);for(var s=[],a=(n=0,0);n<this._length;n++){var l=this._nestingLevels[n];(l<o||l===o&&i++<this._foldingRangesLimit)&&(e[a]=this._startIndexes[n],t[a]=this._endIndexes[n],s[a]=this._types[n],a++)}return new Lz(e,t,s)},e}();function Qz(e,t){for(var n=e.sort((function(e,t){var n=e.start-t.start;return 0===n&&(n=e.rank-t.rank),n})),i=new Jz(t),o=void 0,r=[],s=0,a=n;s<a.length;s++){var l=a[s];if(o){if(l.start>o.start)if(l.end<=o.end)r.push(o),o=l,i.add(l.start,l.end,l.kind&&l.kind.value,r.length);else{if(l.start>o.end){do{o=r.pop()}while(o&&l.start>o.end);o&&r.push(o),o=l}i.add(l.start,l.end,l.kind&&l.kind.value,r.length)}}else o=l,i.add(l.start,l.end,l.kind&&l.kind.value,r.length)}return i.toIndentRanges()}var ej="init",tj=function(){function e(e,t,n,i){if(this.editorModel=e,this.id=ej,t.length){var o=function(t){return{range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{stickiness:1}}};this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(n,i)}}return e.prototype.dispose=function(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"===typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)},e.prototype.compute=function(e){var t=[];if(this.decorationIds)for(var n=0,i=this.decorationIds;n<i.length;n++){var o=i[n],r=this.editorModel.getDecorationRange(o);r&&t.push({start:r.startLineNumber,end:r.endLineNumber,rank:1})}return Promise.resolve(Qz(t,Number.MAX_VALUE))},e}(),nj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ij=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},oj=function(e,t){return function(n,i){t(n,i,e)}},rj=new Ff("foldingEnabled",!1),sj=function(e){function t(t,n){var i=e.call(this)||this;i.contextKeyService=n,i.localToDispose=i._register(new Re),i.editor=t;var o=i.editor.getOptions();return i._isEnabled=o.get(30),i._useFoldingProviders="indentation"!==o.get(31),i.foldingModel=null,i.hiddenRangeModel=null,i.rangeProvider=null,i.foldingRegionPromise=null,i.foldingStateMemento=null,i.foldingModelPromise=null,i.updateScheduler=null,i.cursorChangedScheduler=null,i.mouseDownInfo=null,i.foldingDecorationProvider=new Bz(t),i.foldingDecorationProvider.autoHideFoldingControls="mouseover"===o.get(84),i.foldingDecorationProvider.showFoldingHighlights=o.get(32),i.foldingEnabled=rj.bindTo(i.contextKeyService),i.foldingEnabled.set(i._isEnabled),i._register(i.editor.onDidChangeModel((function(){return i.onModelChanged()}))),i._register(i.editor.onDidChangeConfiguration((function(e){if(e.hasChanged(30)){var t=i.editor.getOptions();i._isEnabled=t.get(30),i.foldingEnabled.set(i._isEnabled),i.onModelChanged()}if(e.hasChanged(84)||e.hasChanged(32)){var n=i.editor.getOptions();i.foldingDecorationProvider.autoHideFoldingControls="mouseover"===n.get(84),i.foldingDecorationProvider.showFoldingHighlights=n.get(32),i.onModelContentChanged()}if(e.hasChanged(31)){var o=i.editor.getOptions();i._useFoldingProviders="indentation"!==o.get(31),i.onFoldingStrategyChanged()}}))),i.onModelChanged(),i}return nj(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.saveViewState=function(){var e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){var t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n}}},t.prototype.restoreViewState=function(e){var t=this.editor.getModel();if(t&&this._isEnabled&&!t.isTooLargeForTokenization()&&this.hiddenRangeModel&&e&&e.collapsedRegions&&e.lineCount===t.getLineCount()){e.provider!==Yz&&e.provider!==ej||(this.foldingStateMemento=e);var n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){var i=this.getFoldingModel();i&&i.then((function(e){e&&e.applyMemento(n)})).then(void 0,ge)}}},t.prototype.onModelChanged=function(){var e=this;this.localToDispose.clear();var t=this.editor.getModel();this._isEnabled&&t&&!t.isTooLargeForTokenization()&&(this.foldingModel=new Oz(t,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new Vz(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((function(t){return e.onHiddenRangesChanges(t)}))),this.updateScheduler=new yi(200),this.cursorChangedScheduler=new ki((function(){return e.revealCursor()}),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(qu.onDidChange((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((function(){return e.onFoldingStrategyChanged()}))),this.localToDispose.add(this.editor.onDidChangeModelContent((function(){return e.onModelContentChanged()}))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((function(){return e.onCursorPositionChanged()}))),this.localToDispose.add(this.editor.onMouseDown((function(t){return e.onEditorMouseDown(t)}))),this.localToDispose.add(this.editor.onMouseUp((function(t){return e.onEditorMouseUp(t)}))),this.localToDispose.add({dispose:function(){e.foldingRegionPromise&&(e.foldingRegionPromise.cancel(),e.foldingRegionPromise=null),e.updateScheduler&&e.updateScheduler.cancel(),e.updateScheduler=null,e.foldingModel=null,e.foldingModelPromise=null,e.hiddenRangeModel=null,e.cursorChangedScheduler=null,e.foldingStateMemento=null,e.rangeProvider&&e.rangeProvider.dispose(),e.rangeProvider=null}}),this.onModelContentChanged())},t.prototype.onFoldingStrategyChanged=function(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()},t.prototype.getRangeProvider=function(e){var t=this;if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new zz(e),this._useFoldingProviders&&this.foldingModel){var n=qu.ordered(this.foldingModel.textModel);if(0===n.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){var i=this.rangeProvider=new tj(e,this.foldingStateMemento.collapsedRegions,(function(){t.foldingStateMemento=null,t.onFoldingStrategyChanged()}),3e4);return i}n.length>0&&(this.rangeProvider=new Xz(e,n))}return this.foldingStateMemento=null,this.rangeProvider},t.prototype.getFoldingModel=function(){return this.foldingModelPromise},t.prototype.onModelContentChanged=function(){var e=this;this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((function(){var t=e.foldingModel;if(!t)return null;var n=e.foldingRegionPromise=_i((function(n){return e.getRangeProvider(t.textModel).compute(n)}));return n.then((function(i){if(i&&n===e.foldingRegionPromise){var o=e.editor.getSelections(),r=o?o.map((function(e){return e.startLineNumber})):[];t.update(i,r)}return t}))})).then(void 0,(function(e){return ge(e),null})))},t.prototype.onHiddenRangesChanges=function(e){if(this.hiddenRangeModel&&e.length){var t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)},t.prototype.onCursorPositionChanged=function(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()},t.prototype.revealCursor=function(){var e=this,t=this.getFoldingModel();t&&t.then((function(t){if(t){var n=e.editor.getSelections();if(n&&n.length>0){for(var i=[],o=function(n){var o=n.selectionStartLineNumber;e.hiddenRangeModel&&e.hiddenRangeModel.isHidden(o)&&i.push.apply(i,t.getAllRegionsAtLine(o,(function(e){return e.isCollapsed&&o>e.startLineNumber})))},r=0,s=n;r<s.length;r++){var a=s[r];o(a)}i.length&&(t.toggleCollapseState(i),e.reveal(n[0].getPosition()))}}})).then(void 0,ge)},t.prototype.onEditorMouseDown=function(e){if(this.mouseDownInfo=null,this.hiddenRangeModel&&e.target&&e.target.range&&(e.event.leftButton||e.event.middleButton)){var t=e.target.range,n=!1;switch(e.target.type){case 4:var i=e.target.detail,o=e.target.element.offsetLeft,r=i.offsetX-o;if(r<5)return;n=!0;break;case 6:if(this.hiddenRangeModel.hasRanges()){var s=this.editor.getModel();if(s&&t.startColumn===s.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}},t.prototype.onEditorMouseUp=function(e){var t=this,n=this.getFoldingModel();if(n&&this.mouseDownInfo&&e.target){var i=this.mouseDownInfo.lineNumber,o=this.mouseDownInfo.iconClicked,r=e.target.range;if(r&&r.startLineNumber===i){if(o){if(4!==e.target.type)return}else{var s=this.editor.getModel();if(!s||r.startColumn!==s.getLineMaxColumn(i))return}n.then((function(n){if(n){var r=n.getRegionAtLine(i);if(r&&r.startLineNumber===i){var s=r.isCollapsed;if(o||s){var a=[],l=e.event.middleButton||e.event.shiftKey;if(l)for(var u=0,c=n.getRegionsInside(r);u<c.length;u++){var h=c[u];h.isCollapsed===s&&a.push(h)}!s&&l&&0!==a.length||a.push(r),n.toggleCollapseState(a),t.reveal({lineNumber:i,column:1})}}}})).then(void 0,ge)}}},t.prototype.reveal=function(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)},t.ID="editor.contrib.folding",t=ij([oj(1,Bf)],t),t}(Ae),aj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nj(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this,o=sj.get(t);if(o){var r=o.getFoldingModel();return r?(this.reportTelemetry(e,t),r.then((function(e){if(e){i.invoke(o,e,t,n);var r=t.getSelection();r&&o.reveal(r.getStartPosition())}}))):void 0}},t.prototype.getSelectedLines=function(e){var t=e.getSelections();return t?t.map((function(e){return e.startLineNumber})):[]},t.prototype.getLineNumbers=function(e,t){return e&&e.selectionLines?e.selectionLines.map((function(e){return e+1})):this.getSelectedLines(t)},t.prototype.run=function(e,t){},t}(Cm);function lj(e){if(!Sa(e)){if(!ba(e))return!1;var t=e;if(!Sa(t.levels)&&!wa(t.levels))return!1;if(!Sa(t.direction)&&!ya(t.direction))return!1;if(!Sa(t.selectionLines)&&(!va(t.selectionLines)||!t.selectionLines.every(wa)))return!1}return!0}var uj=function(e){function t(){return e.call(this,{id:"editor.unfold",label:r("unfoldAction.label","Unfold"),alias:"Unfold",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:lj,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n,i){var o=i&&i.levels||1,r=this.getLineNumbers(i,n);i&&"up"===i.direction?Rz(t,!1,o,r):Nz(t,!1,o,r)},t}(aj),cj=function(e){function t(){return e.call(this,{id:"editor.unfoldRecursively",label:r("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2137),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n,i){Nz(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))},t}(aj),hj=function(e){function t(){return e.call(this,{id:"editor.fold",label:r("foldAction.label","Fold"),alias:"Fold",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:lj,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n,i){var o=this.getLineNumbers(i,n),r=i&&i.levels,s=i&&i.direction;"number"!==typeof r&&"string"!==typeof s?Az(t,!0,o):"up"===s?Rz(t,!0,r||1,o):Nz(t,!0,r||1,o)},t}(aj),dj=function(e){function t(){return e.call(this,{id:"editor.toggleFold",label:r("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2090),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n){var i=this.getSelectedLines(n);Dz(t,1,i)},t}(aj),pj=function(e){function t(){return e.call(this,{id:"editor.foldRecursively",label:r("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2135),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n){var i=this.getSelectedLines(n);Nz(t,!0,Number.MAX_VALUE,i)},t}(aj),fj=function(e){function t(){return e.call(this,{id:"editor.foldAllBlockComments",label:r("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2133),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())Fz(t,Lu.Comment.value,!0);else{var i=n.getModel();if(!i)return;var o=Uc.getComments(i.getLanguageIdentifier().id);if(o&&o.blockCommentStartToken){var r=new RegExp("^\\s*"+Mr(o.blockCommentStartToken));Pz(t,r,!0)}}},t}(aj),gj=function(e){function t(){return e.call(this,{id:"editor.foldAllMarkerRegions",label:r("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2077),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())Fz(t,Lu.Region.value,!0);else{var i=n.getModel();if(!i)return;var o=Uc.getFoldingRules(i.getLanguageIdentifier().id);if(o&&o.markers&&o.markers.start){var r=new RegExp(o.markers.start);Pz(t,r,!0)}}},t}(aj),mj=function(e){function t(){return e.call(this,{id:"editor.unfoldAllMarkerRegions",label:r("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2078),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n){if(t.regions.hasTypes())Fz(t,Lu.Region.value,!1);else{var i=n.getModel();if(!i)return;var o=Uc.getFoldingRules(i.getLanguageIdentifier().id);if(o&&o.markers&&o.markers.start){var r=new RegExp(o.markers.start);Pz(t,r,!1)}}},t}(aj),_j=function(e){function t(){return e.call(this,{id:"editor.foldAll",label:r("foldAllAction.label","Fold All"),alias:"Fold All",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2069),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n){Nz(t,!0)},t}(aj),vj=function(e){function t(){return e.call(this,{id:"editor.unfoldAll",label:r("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2088),weight:100}})||this}return nj(t,e),t.prototype.invoke=function(e,t,n){Nz(t,!1)},t}(aj),yj=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return nj(t,e),t.prototype.getFoldingLevel=function(){return parseInt(this.id.substr(t.ID_PREFIX.length))},t.prototype.invoke=function(e,t,n){Mz(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))},t.ID_PREFIX="editor.foldLevel",t.ID=function(e){return t.ID_PREFIX+e},t}(aj);Om(sj.ID,sj),Lm(uj),Lm(cj),Lm(hj),Lm(pj),Lm(_j),Lm(vj),Lm(fj),Lm(gj),Lm(mj),Lm(dj);for(var bj=1;bj<=7;bj++)Im(new yj({id:yj.ID(bj),label:r("foldLevelAction.label","Fold Level {0}",bj),alias:"Fold Level "+bj,precondition:rj,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2048|21+bj),weight:100}}));var wj=Zb("editor.foldBackground",{light:eS(jw,.3),dark:eS(jw,.3),hc:null},r("editorSelectionBackground","Color of the editor selection."));w_((function(e,t){var n=e.getColor(wj);n&&t.addRule(".monaco-editor .folded-background { background-color: "+n+"; }")}));var Cj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sj=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomIn",label:r("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})||this}return Cj(t,e),t.prototype.run=function(e,t){Cl.setZoomLevel(Cl.getZoomLevel()+1)},t}(Cm),Ej=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomOut",label:r("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})||this}return Cj(t,e),t.prototype.run=function(e,t){Cl.setZoomLevel(Cl.getZoomLevel()-1)},t}(Cm),Tj=function(e){function t(){return e.call(this,{id:"editor.action.fontZoomReset",label:r("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})||this}return Cj(t,e),t.prototype.run=function(e,t){Cl.setZoomLevel(0)},t}(Cm);Lm(Sj),Lm(Ej),Lm(Tj);var kj=function(){function e(){}return e._handleEolEdits=function(e,t){for(var n=void 0,i=[],o=0,r=t;o<r.length;o++){var s=r[o];"number"===typeof s.eol&&(n=s.eol),s.range&&"string"===typeof s.text&&i.push(s)}return"number"===typeof n&&e.hasModel()&&e.getModel().pushEOL(n),i},e._isFullModelReplaceEdit=function(e,t){if(!e.hasModel())return!1;var n=e.getModel(),i=n.validateRange(t.range),o=n.getFullModelRange();return o.equalsRange(i)},e.execute=function(t,n){t.pushUndoStop();var i=e._handleEolEdits(t,n);1===i.length&&e._isFullModelReplaceEdit(t,i[0])?t.executeEdits("formatEditsCommand",i.map((function(e){return lf.replace(bn.lift(e.range),e.text)}))):t.executeEdits("formatEditsCommand",i.map((function(e){return lf.replaceMove(bn.lift(e.range),e.text)}))),t.pushUndoStop()},e}(),xj=function(){function e(e){this.value=e,this._lower=e.toLowerCase()}return e.toKey=function(e){return"string"===typeof e?e.toLowerCase():e._lower},e}(),Lj=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},Ij=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function Oj(e){if(e=e.filter((function(e){return e.range})),e.length){for(var t=e[0].range,n=1;n<e.length;n++)t=bn.plusRange(t,e[n].range);var i=t.startLineNumber,o=t.endLineNumber;i===o?1===e.length?$g(r("hint11","Made 1 formatting edit on line {0}",i)):$g(r("hintn1","Made {0} formatting edits on line {1}",e.length,i)):1===e.length?$g(r("hint1n","Made 1 formatting edit between lines {0} and {1}",i,o)):$g(r("hintnn","Made {0} formatting edits between lines {1} and {2}",e.length,i,o))}}function Dj(e){for(var t=[],n=new Set,i=Wu.ordered(e),o=0,r=i;o<r.length;o++){var s=r[o];t.push(s),s.extensionId&&n.add(xj.toKey(s.extensionId))}for(var a=Uu.ordered(e),l=function(e){if(e.extensionId){if(n.has(xj.toKey(e.extensionId)))return"continue";n.add(xj.toKey(e.extensionId))}t.push({displayName:e.displayName,extensionId:e.extensionId,provideDocumentFormattingEdits:function(t,n,i){return e.provideDocumentRangeFormattingEdits(t,t.getFullModelRange(),n,i)}})},u=0,c=a;u<c.length;u++){s=c[u];l(s)}return t}var Nj=function(){function e(){}return e.select=function(t,n,i){return Lj(this,void 0,void 0,(function(){var o;return Ij(this,(function(r){switch(r.label){case 0:return 0===t.length?[2,void 0]:(o=e._selectors.iterator().next().value,o?[4,o(t,n,i)]:[3,2]);case 1:return[2,r.sent()];case 2:return[2,t[0]]}}))}))},e._selectors=new Ge,e}();function Rj(e,t,n,i,o){return Lj(this,void 0,void 0,(function(){var r,s,a,l;return Ij(this,(function(u){switch(u.label){case 0:return r=e.get(In),s=hp(t)?t.getModel():t,a=Uu.ordered(s),[4,Nj.select(a,s,i)];case 1:return l=u.sent(),l?[4,r.invokeFunction(Aj,l,t,n,o)]:[3,3];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Aj(e,t,n,i,o){return Lj(this,void 0,void 0,(function(){var r,s,a,l,u,c,h;return Ij(this,(function(d){switch(d.label){case 0:r=e.get(rc),hp(n)?(s=n.getModel(),a=new XL(n,5,o)):(s=n,a=new ZL(n,o)),d.label=1;case 1:return d.trys.push([1,,4,5]),[4,t.provideDocumentRangeFormattingEdits(s,i,s.getFormattingOptions(),a.token)];case 2:return u=d.sent(),[4,r.computeMoreMinimalEdits(s.uri,u)];case 3:return l=d.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return l&&0!==l.length?(hp(n)?(kj.execute(n,l),Oj(l),n.pushUndoStop(),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1)):(c=l[0].range,h=new Cn(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),s.pushEditOperations([h],l.map((function(e){return{text:e.text,range:bn.lift(e.range),forceMoveMarkers:!0}})),(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t].range;if(bn.areIntersectingOrTouching(i,h))return[new Cn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)]}return null}))),[2,!0]):[2,!1]}}))}))}function Mj(e,t,n,i){return Lj(this,void 0,void 0,(function(){var o,r,s,a;return Ij(this,(function(l){switch(l.label){case 0:return o=e.get(In),r=hp(t)?t.getModel():t,s=Dj(r),[4,Nj.select(s,r,n)];case 1:return a=l.sent(),a?[4,o.invokeFunction(Pj,a,t,n,i)]:[3,3];case 2:l.sent(),l.label=3;case 3:return[2]}}))}))}function Pj(e,t,n,i,o){return Lj(this,void 0,void 0,(function(){var r,s,a,l,u,c,h;return Ij(this,(function(d){switch(d.label){case 0:r=e.get(rc),hp(n)?(s=n.getModel(),a=new XL(n,5,o)):(s=n,a=new ZL(n,o)),d.label=1;case 1:return d.trys.push([1,,4,5]),[4,t.provideDocumentFormattingEdits(s,s.getFormattingOptions(),a.token)];case 2:return u=d.sent(),[4,r.computeMoreMinimalEdits(s.uri,u)];case 3:return l=d.sent(),a.token.isCancellationRequested?[2,!0]:[3,5];case 4:return a.dispose(),[7];case 5:return l&&0!==l.length?(hp(n)?(kj.execute(n,l),2!==i&&(Oj(l),n.pushUndoStop(),n.revealPositionInCenterIfOutsideViewport(n.getPosition(),1))):(c=l[0].range,h=new Cn(c.startLineNumber,c.startColumn,c.endLineNumber,c.endColumn),s.pushEditOperations([h],l.map((function(e){return{text:e.text,range:bn.lift(e.range),forceMoveMarkers:!0}})),(function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t].range;if(bn.areIntersectingOrTouching(i,h))return[new Cn(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn)]}return null}))),[2,!0]):[2,!1]}}))}))}function Fj(e,t,n,i,o){return Lj(this,void 0,void 0,(function(){var r,s,a,l,u;return Ij(this,(function(c){switch(c.label){case 0:r=Uu.ordered(t),s=0,a=r,c.label=1;case 1:return s<a.length?(l=a[s],[4,Promise.resolve(l.provideDocumentRangeFormattingEdits(t,n,i,o)).catch(me)]):[3,5];case 2:return u=c.sent(),Hi(u)?[4,e.computeMoreMinimalEdits(t.uri,u)]:[3,4];case 3:return[2,c.sent()];case 4:return s++,[3,1];case 5:return[2,void 0]}}))}))}function Bj(e,t,n,i){return Lj(this,void 0,void 0,(function(){var o,r,s,a,l;return Ij(this,(function(u){switch(u.label){case 0:o=Dj(t),r=0,s=o,u.label=1;case 1:return r<s.length?(a=s[r],[4,Promise.resolve(a.provideDocumentFormattingEdits(t,n,i)).catch(me)]):[3,5];case 2:return l=u.sent(),Hi(l)?[4,e.computeMoreMinimalEdits(t.uri,l)]:[3,4];case 3:return[2,u.sent()];case 4:return r++,[3,1];case 5:return[2,void 0]}}))}))}function Vj(e,t,n,i,o){var r=zu.ordered(t);return 0===r.length||r[0].autoFormatTriggerCharacters.indexOf(i)<0?Promise.resolve(void 0):Promise.resolve(r[0].provideOnTypeFormattingEdits(t,n,i,o,qe.None)).catch(me).then((function(n){return e.computeMoreMinimalEdits(t.uri,n)}))}Ya.registerCommand("_executeFormatRangeProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t[0],o=t[1],r=t[2];Ta(Lt.isUri(i)),Ta(bn.isIRange(o));var s=e.get(pu).getModel(i);if(!s)throw we("resource");return Fj(e.get(rc),s,bn.lift(o),r,qe.None)})),Ya.registerCommand("_executeFormatDocumentProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t[0],o=t[1];Ta(Lt.isUri(i));var r=e.get(pu).getModel(i);if(!r)throw we("resource");return Bj(e.get(rc),r,o,qe.None)})),Ya.registerCommand("_executeFormatOnTypeProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t[0],o=t[1],r=t[2],s=t[3];Ta(Lt.isUri(i)),Ta(yn.isIPosition(o)),Ta("string"===typeof r);var a=e.get(pu).getModel(i);if(!a)throw we("resource");return Vj(e.get(rc),a,yn.lift(o),r,s)}));var Hj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$j=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Wj=function(e,t){return function(n,i){t(n,i,e)}},Uj=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},zj=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},jj=function(){function e(e,t){var n=this;this._workerService=t,this._callOnDispose=new Re,this._callOnModel=new Re,this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModel((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModelLanguage((function(){return n._update()}))),this._callOnDispose.add(zu.onDidChange(this._update,this))}return e.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},e.prototype._update=function(){var e=this;if(this._callOnModel.clear(),this._editor.getOption(39)&&this._editor.hasModel()){var t=this._editor.getModel(),n=zu.ordered(t)[0];if(n&&n.autoFormatTriggerCharacters){for(var i=new bh,o=0,r=n.autoFormatTriggerCharacters;o<r.length;o++){var s=r[o];i.add(s.charCodeAt(0))}this._callOnModel.add(this._editor.onDidType((function(t){var n=t.charCodeAt(t.length-1);i.has(n)&&e._trigger(String.fromCharCode(n))})))}}},e.prototype._trigger=function(e){var t=this;if(this._editor.hasModel()&&!(this._editor.getSelections().length>1)){var n=this._editor.getModel(),i=this._editor.getPosition(),o=!1,r=this._editor.onDidChangeModelContent((function(e){if(e.isFlush)return o=!0,void r.dispose();for(var t=0,n=e.changes.length;t<n;t++){var s=e.changes[t];if(s.range.endLineNumber<=i.lineNumber)return o=!0,void r.dispose()}}));Vj(this._workerService,n,i,e,n.getFormattingOptions()).then((function(e){r.dispose(),o||Hi(e)&&(kj.execute(t._editor,e),Oj(e))}),(function(e){throw r.dispose(),e}))}},e.ID="editor.contrib.autoFormat",e=$j([Wj(1,rc)],e),e}(),Gj=function(){function e(e,t){var n=this;this.editor=e,this._instantiationService=t,this._callOnDispose=new Re,this._callOnModel=new Re,this._callOnDispose.add(e.onDidChangeConfiguration((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModel((function(){return n._update()}))),this._callOnDispose.add(e.onDidChangeModelLanguage((function(){return n._update()}))),this._callOnDispose.add(Uu.onDidChange(this._update,this))}return e.prototype.dispose=function(){this._callOnDispose.dispose(),this._callOnModel.dispose()},e.prototype._update=function(){var e=this;this._callOnModel.clear(),this.editor.getOption(38)&&this.editor.hasModel()&&Uu.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((function(t){var n=t.range;return e._trigger(n)})))},e.prototype._trigger=function(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(Rj,this.editor,e,2,qe.None).catch(ge))},e.ID="editor.contrib.formatOnPaste",e=$j([Wj(1,In)],e),e}(),Kj=function(e){function t(){return e.call(this,{id:"editor.action.formatDocument",label:r("formatDocument.label","Format Document"),alias:"Format Document",precondition:xf.and(xE.writable,xE.hasDocumentFormattingProvider),kbOpts:{kbExpr:xf.and(xE.editorTextFocus,xE.hasDocumentFormattingProvider),primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{when:xE.hasDocumentFormattingProvider,group:"1_modification",order:1.3}})||this}return Hj(t,e),t.prototype.run=function(e,t){return Uj(this,void 0,void 0,(function(){var n;return zj(this,(function(i){switch(i.label){case 0:return t.hasModel()?(n=e.get(In),[4,n.invokeFunction(Mj,t,1,qe.None)]):[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},t}(Cm),qj=function(e){function t(){return e.call(this,{id:"editor.action.formatSelection",label:r("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:xf.and(xE.writable,xE.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:xf.and(xE.editorTextFocus,xE.hasDocumentSelectionFormattingProvider),primary:ct(2089,2084),weight:100},contextMenuOpts:{when:xf.and(xE.hasDocumentSelectionFormattingProvider,xE.hasNonEmptySelection),group:"1_modification",order:1.31}})||this}return Hj(t,e),t.prototype.run=function(e,t){return Uj(this,void 0,void 0,(function(){var n,i,o;return zj(this,(function(r){switch(r.label){case 0:return t.hasModel()?(n=e.get(In),i=t.getModel(),o=t.getSelection(),o.isEmpty()&&(o=new bn(o.startLineNumber,1,o.startLineNumber,i.getLineMaxColumn(o.startLineNumber))),[4,n.invokeFunction(Rj,t,o,1,qe.None)]):[2];case 1:return r.sent(),[2]}}))}))},t}(Cm);Om(jj.ID,jj),Om(Gj.ID,Gj),Lm(Kj),Lm(qj),Ya.registerCommand("editor.action.format",(function(e){return Uj(void 0,void 0,void 0,(function(){var t,n;return zj(this,(function(i){switch(i.label){case 0:return t=e.get(Rn).getFocusedCodeEditor(),t&&t.hasModel()?(n=e.get(qa),t.getSelection().isEmpty()?[4,n.executeCommand("editor.action.formatDocument")]:[3,2]):[2];case 1:return i.sent(),[3,4];case 2:return[4,n.executeCommand("editor.action.formatSelection")];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}));n("7b59");var Yj,Xj=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Zj=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Jj=function(e,t){return function(n,i){t(n,i,e)}},Qj=function(e){function t(t,n,i,o,r,s,a,l,u,c){var h=e.call(this,t,i.getRawOptions(),{},o,r,s,a,l,u,c)||this;return h._parentEditor=i,h._overwriteOptions=n,e.prototype.updateOptions.call(h,h._overwriteOptions),h._register(i.onDidChangeConfiguration((function(e){return h._onParentConfigurationChanged(e)}))),h}return Xj(t,e),t.prototype.getParentEditor=function(){return this._parentEditor},t.prototype._onParentConfigurationChanged=function(t){e.prototype.updateOptions.call(this,this._parentEditor.getRawOptions()),e.prototype.updateOptions.call(this,this._overwriteOptions)},t.prototype.updateOptions=function(t){gl(this._overwriteOptions,t,!0),e.prototype.updateOptions.call(this,this._overwriteOptions)},t=Zj([Jj(3,In),Jj(4,Rn),Jj(5,qa),Jj(6,Bf),Jj(7,p_),Jj(8,ig),Jj(9,tL)],t),t}(TL),eG=(n("b968"),function(){function e(e){this._prefix=e,this._lastId=0}return e.prototype.nextId=function(){return this._prefix+ ++this._lastId},e}()),tG=new eG("id#"),nG=new My(new Ny(0,122,204)),iG={showArrow:!0,showFrame:!0,className:"",frameColor:nG,arrowColor:nG,keepEditorSelection:!1},oG="vs.editor.contrib.zoneWidget",rG=function(){function e(e,t,n,i,o,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=i,this._onDomNodeTop=o,this._onComputedHeight=r}return e.prototype.onDomNodeTop=function(e){this._onDomNodeTop(e)},e.prototype.onComputedHeight=function(e){this._onComputedHeight(e)},e}(),sG=function(){function e(e,t){this._id=e,this._domNode=t}return e.prototype.getId=function(){return this._id},e.prototype.getDomNode=function(){return this._domNode},e.prototype.getPosition=function(){return null},e}(),aG=function(){function e(t){this._editor=t,this._ruleName=e._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}return e.prototype.dispose=function(){this.hide(),rr(this._ruleName)},Object.defineProperty(e.prototype,"color",{set:function(e){this._color!==e&&(this._color=e,this._updateStyle())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{set:function(e){this._height!==e&&(this._height=e,this._updateStyle())},enumerable:!0,configurable:!0}),e.prototype._updateStyle=function(){rr(this._ruleName),or(".monaco-editor "+this._ruleName,"border-style: solid; border-color: transparent; border-bottom-color: "+this._color+"; border-width: "+this._height+"px; bottom: -"+this._height+"px; margin-left: -"+this._height+"px; ")},e.prototype.show=function(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:bn.fromPositions(e),options:{className:this._ruleName,stickiness:1}}])},e.prototype.hide=function(){this._editor.deltaDecorations(this._decorations,[])},e._IdGenerator=new eG(".arrow-decoration-"),e}(),lG=function(){function e(e,t){var n=this;void 0===t&&(t={}),this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new Re,this.container=null,this._isShowing=!1,this.editor=e,this.options=cl(t),gl(this.options,iG,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((function(e){var t=n._getWidth(e);n.domNode.style.width=t+"px",n.domNode.style.left=n._getLeft(e)+"px",n._onWidth(t)})))}return e.prototype.dispose=function(){var e=this;this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id),e._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()},e.prototype.create=function(){fo(this.domNode,"zone-widget"),this.options.className&&fo(this.domNode,this.options.className),this.container=document.createElement("div"),fo(this.container,"zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new aG(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()},e.prototype.style=function(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()},e.prototype._applyStyles=function(){if(this.container&&this.options.frameColor){var e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){var t=this.options.arrowColor.toString();this._arrow.color=t}},e.prototype._getWidth=function(e){return e.width-e.minimapWidth-e.verticalScrollbarWidth},e.prototype._getLeft=function(e){return e.minimapWidth>0&&0===e.minimapLeft?e.minimapWidth:0},e.prototype._onViewZoneTop=function(e){this.domNode.style.top=e+"px"},e.prototype._onViewZoneHeight=function(e){if(this.domNode.style.height=e+"px",this.container){var t=e-this._decoratingElementsHeight();this.container.style.height=t+"px";var n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()},Object.defineProperty(e.prototype,"position",{get:function(){var e=this._positionMarkerId[0];if(e){var t=this.editor.getModel();if(t){var n=t.getDecorationRange(e);if(n)return n.getStartPosition()}}},enumerable:!0,configurable:!0}),e.prototype.show=function(e,t){var n=bn.isIRange(e)?bn.lift(e):bn.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:Xy.EMPTY}])},e.prototype.hide=function(){var e=this;this._viewZone&&(this.editor.changeViewZones((function(t){e._viewZone&&t.removeZone(e._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()},e.prototype._decoratingElementsHeight=function(){var e=this.editor.getOption(49),t=0;if(this.options.showArrow){var n=Math.round(e/3);t+=2*n}if(this.options.showFrame){var i=Math.round(e/9);t+=2*i}return t},e.prototype._showImpl=function(e,t){var n=this,i=e.getStartPosition(),o=this.editor.getLayoutInfo(),r=this._getWidth(o);this.domNode.style.width=r+"px",this.domNode.style.left=this._getLeft(o)+"px";var s=document.createElement("div");s.style.overflow="hidden";var a=this.editor.getOption(49),l=this.editor.getLayoutInfo().height/a*.8;t>=l&&(t=l);var u=0,c=0;if(this._arrow&&this.options.showArrow&&(u=Math.round(a/3),this._arrow.height=u,this._arrow.show(i)),this.options.showFrame&&(c=Math.round(a/9)),this.editor.changeViewZones((function(e){n._viewZone&&e.removeZone(n._viewZone.id),n._overlayWidget&&(n.editor.removeOverlayWidget(n._overlayWidget),n._overlayWidget=null),n.domNode.style.top="-1000px",n._viewZone=new rG(s,i.lineNumber,i.column,t,(function(e){return n._onViewZoneTop(e)}),(function(e){return n._onViewZoneHeight(e)})),n._viewZone.id=e.addZone(n._viewZone),n._overlayWidget=new sG(oG+n._viewZone.id,n.domNode),n.editor.addOverlayWidget(n._overlayWidget)})),this.container&&this.options.showFrame){var h=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=h+"px",this.container.style.borderBottomWidth=h+"px"}var d=t*a-this._decoratingElementsHeight();this.container&&(this.container.style.top=u+"px",this.container.style.height=d+"px",this.container.style.overflow="hidden"),this._doLayout(d,r),this.options.keepEditorSelection||this.editor.setSelection(e);var p=this.editor.getModel();if(p){var f=e.endLineNumber+1;f<=p.getLineCount()?this.revealLine(f,!1):this.revealLine(p.getLineCount(),!0)}},e.prototype.revealLine=function(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)},e.prototype.setCssClass=function(e,t){this.container&&(t&&this.container.classList.remove(t),fo(this.container,e))},e.prototype._onWidth=function(e){},e.prototype._doLayout=function(e,t){},e.prototype._relayout=function(e){var t=this;this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((function(n){t._viewZone&&(t._viewZone.heightInLines=e,n.layoutZone(t._viewZone.id))}))},e.prototype._initSash=function(){var e,t=this;this._resizeSash||(this._resizeSash=this._disposables.add(new VL(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((function(n){t._viewZone&&(e={startY:n.startY,heightInLines:t._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((function(){e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((function(n){if(e){var i=(n.currentY-e.startY)/t.editor.getOption(49),o=i<0?Math.ceil(i):Math.floor(i),r=e.heightInLines+o;r>5&&r<35&&t._relayout(r)}}))))},e.prototype.getHorizontalSashLeft=function(){return 0},e.prototype.getHorizontalSashTop=function(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2},e.prototype.getHorizontalSashWidth=function(){var e=this.editor.getLayoutInfo();return e.width-e.minimapWidth},e}(),uG=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cG=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hG=function(e,t){return function(n,i){t(n,i,e)}},dG=Dn("IPeekViewService");WL(dG,function(){function e(){this._widgets=new Map}return e.prototype.addExclusiveWidget=function(e,t){var n=this,i=this._widgets.get(e);i&&(i.listener.dispose(),i.widget.dispose());var o=function(){var i=n._widgets.get(e);i&&i.widget===t&&(i.listener.dispose(),n._widgets.delete(e))};this._widgets.set(e,{widget:t,listener:t.onDidClose(o)})},e}()),function(e){e.inPeekEditor=new Ff("inReferenceSearchEditor",!0),e.notInPeekEditor=e.inPeekEditor.toNegated()}(Yj||(Yj={}));var pG=function(){function e(e,t){e instanceof Qj&&Yj.inPeekEditor.bindTo(t)}return e.prototype.dispose=function(){},e.ID="editor.contrib.referenceController",e=cG([hG(1,Bf)],e),e}();function fG(e){var t=e.get(Rn).getFocusedCodeEditor();return t instanceof Qj?t.getParentEditor():t}Om(pG.ID,pG);var gG={headerBackgroundColor:My.white,primaryHeadingColor:My.fromHex("#333333"),secondaryHeadingColor:My.fromHex("#6c6c6cb3")},mG=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this,t,n)||this;return i._onDidClose=new Ze,i.onDidClose=i._onDidClose.event,gl(i.options,gG,!1),i}return uG(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._onDidClose.fire(this)},t.prototype.style=function(t){var n=this.options;t.headerBackgroundColor&&(n.headerBackgroundColor=t.headerBackgroundColor),t.primaryHeadingColor&&(n.primaryHeadingColor=t.primaryHeadingColor),t.secondaryHeadingColor&&(n.secondaryHeadingColor=t.secondaryHeadingColor),e.prototype.style.call(this,t)},t.prototype._applyStyles=function(){e.prototype._applyStyles.call(this);var t=this.options;this._headElement&&t.headerBackgroundColor&&(this._headElement.style.backgroundColor=t.headerBackgroundColor.toString()),this._primaryHeading&&t.primaryHeadingColor&&(this._primaryHeading.style.color=t.primaryHeadingColor.toString()),this._secondaryHeading&&t.secondaryHeadingColor&&(this._secondaryHeading.style.color=t.secondaryHeadingColor.toString()),this._bodyElement&&t.frameColor&&(this._bodyElement.style.borderColor=t.frameColor.toString())},t.prototype._fillContainer=function(e){this.setCssClass("peekview-widget"),this._headElement=_r(".head"),this._bodyElement=_r(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)},t.prototype._fillHead=function(e){var t=this,n=_r(".peekview-title");pr(this._headElement,n),So(n,"click",(function(e){return t._onTitleClick(e)})),this._fillTitleIcon(n),this._primaryHeading=_r("span.filename"),this._secondaryHeading=_r("span.dirname"),this._metaHeading=_r("span.meta"),pr(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);var i=_r(".peekview-actions");pr(this._headElement,i);var o=this._getActionBarOptions();this._actionbarWidget=new aI(i,o),this._disposables.add(this._actionbarWidget),this._actionbarWidget.push(new rm("peekview.close",r("label.close","Close"),"codicon-close",!0,(function(){return t.dispose(),Promise.resolve()})),{label:!1,icon:!0})},t.prototype._fillTitleIcon=function(e){},t.prototype._getActionBarOptions=function(){return{}},t.prototype._onTitleClick=function(e){},t.prototype.setTitle=function(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerHTML=Ar(e),this._primaryHeading.setAttribute("aria-label",e),t?this._secondaryHeading.innerHTML=Ar(t):so(this._secondaryHeading))},t.prototype.setMetaTitle=function(e){this._metaHeading&&(e?(this._metaHeading.innerHTML=Ar(e),vr(this._metaHeading)):yr(this._metaHeading))},t.prototype._doLayout=function(e,t){if(!this._isShowing&&e<0)this.dispose();else{var n=Math.ceil(1.2*this.editor.getOption(49)),i=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(i,t)}},t.prototype._doLayoutHead=function(e,t){this._headElement&&(this._headElement.style.height=e+"px",this._headElement.style.lineHeight=this._headElement.style.height)},t.prototype._doLayoutBody=function(e,t){this._bodyElement&&(this._bodyElement.style.height=e+"px")},t}(lG),_G=Zb("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},r("peekViewTitleBackground","Background color of the peek view title area.")),vG=Zb("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},r("peekViewTitleForeground","Color of the peek view title.")),yG=Zb("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},r("peekViewTitleInfoForeground","Color of the peek view title info.")),bG=Zb("peekView.border",{dark:"#007acc",light:"#007acc",hc:tw},r("peekViewBorder","Color of the peek view borders and arrow.")),wG=Zb("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:My.black},r("peekViewResultsBackground","Background color of the peek view result list.")),CG=Zb("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:My.white},r("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),SG=Zb("peekViewResult.fileForeground",{dark:My.white,light:"#1E1E1E",hc:My.white},r("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),EG=Zb("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},r("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),TG=Zb("peekViewResult.selectionForeground",{dark:My.white,light:"#6C6C6C",hc:My.white},r("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),kG=Zb("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:My.black},r("peekViewEditorBackground","Background color of the peek view editor.")),xG=Zb("peekViewEditorGutter.background",{dark:kG,light:kG,hc:kG},r("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),LG=Zb("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},r("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),IG=Zb("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},r("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),OG=Zb("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:nw},r("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor.")),DG=function(){function e(e,t,n,i){this.isProviderFirst=e,this.parent=t,this._range=n,this._rangeCallback=i,this.id=tG.nextId()}return Object.defineProperty(e.prototype,"uri",{get:function(){return this.parent.uri},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._rangeCallback(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return r("aria.oneReference","symbol in {0} on line {1} at column {2}",ha(this.uri),this.range.startLineNumber,this.range.startColumn)},enumerable:!0,configurable:!0}),e}(),NG=function(){function e(e){this._modelReference=e}return e.prototype.dispose=function(){this._modelReference.dispose()},e.prototype.preview=function(e,t){void 0===t&&(t=8);var n=this._modelReference.object.textEditorModel;if(n){var i=e.startLineNumber,o=e.startColumn,r=e.endLineNumber,s=e.endColumn,a=n.getWordUntilPosition({lineNumber:i,column:o-t}),l=new bn(i,a.startColumn,i,o),u=new bn(r,s,r,1073741824),c=n.getValueInRange(l).replace(/^\s+/,""),h=n.getValueInRange(e),d=n.getValueInRange(u).replace(/\s+$/,"");return{value:c+h+d,highlight:{start:c.length,end:c.length+h.length}}}},e}(),RG=function(){function e(e,t){this.parent=e,this.uri=t,this.children=[]}return e.prototype.dispose=function(){Ie(this._preview),this._preview=void 0},Object.defineProperty(e.prototype,"preview",{get:function(){return this._preview},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"failure",{get:function(){return this._loadFailure},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){var e=this.children.length;return 1===e?r("aria.fileReferences.1","1 symbol in {0}, full path {1}",ha(this.uri),this.uri.fsPath):r("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,ha(this.uri),this.uri.fsPath)},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){var t=this;return this._resolved?Promise.resolve(this):Promise.resolve(e.createModelReference(this.uri).then((function(e){var n=e.object;if(!n)throw e.dispose(),new Error;return t._preview=new NG(e),t._resolved=!0,t}),(function(e){return t.children.length=0,t._resolved=!0,t._loadFailure=e,t})))},e}(),AG=function(){function e(t,n){var i=this;this._disposables=new Re,this.groups=[],this.references=[],this._onDidChangeReferenceRange=new Ze,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=t,this._title=n;var o,r=t[0];t.sort(e._compareReferences);for(var s=0,a=t;s<a.length;s++){var l=a[s];if(o&&o.uri.toString()===l.uri.toString()||(o=new RG(this,l.uri),this.groups.push(o)),0===o.children.length||!bn.equalsRange(l.range,o.children[o.children.length-1].range)){var u=new DG(r===l,o,l.targetSelectionRange||l.range,(function(e){return i._onDidChangeReferenceRange.fire(e)}));this.references.push(u),o.children.push(u)}}}return e.prototype.dispose=function(){Ie(this.groups),this._disposables.dispose(),this._onDidChangeReferenceRange.dispose(),this.groups.length=0},e.prototype.clone=function(){return new e(this._links,this._title)},Object.defineProperty(e.prototype,"title",{get:function(){return this._title},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.groups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaMessage",{get:function(){return this.isEmpty?r("aria.result.0","No results found"):1===this.references.length?r("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?r("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):r("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)},enumerable:!0,configurable:!0}),e.prototype.nextOrPreviousReference=function(e,t){var n=e.parent,i=n.children.indexOf(e),o=n.children.length,r=n.parent.groups.length;return 1===r||t&&i+1<o||!t&&i>0?(i=t?(i+1)%o:(i+o-1)%o,n.children[i]):(i=n.parent.groups.indexOf(n),t?(i=(i+1)%r,n.parent.groups[i].children[0]):(i=(i+r-1)%r,n.parent.groups[i].children[n.parent.groups[i].children.length-1]))},e.prototype.nearestReference=function(e,t){var n=this.references.map((function(n,i){return{idx:i,prefixLen:ns(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}})).sort((function(e,t){return e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0}))[0];if(n)return this.references[n.idx]},e.prototype.referenceAt=function(e,t){for(var n=0,i=this.references;n<i.length;n++){var o=i[n];if(o.uri.toString()===e.toString()&&bn.containsPosition(o.range,t))return o}},e.prototype.firstReference=function(){for(var e=0,t=this.references;e<t.length;e++){var n=t[e];if(n.isProviderFirst)return n}return this.references[0]},e._compareReferences=function(e,t){return qr(e.uri.toString(),t.uri.toString())||bn.compareRangesUsingStarts(e.range,t.range)},e}(),MG=(n("29a1"),n("2a04"),function(){function e(e,t){this.supportCodicons=t,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.domNode=document.createElement("span"),this.domNode.className="monaco-highlighted-label",e.appendChild(this.domNode)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.domNode},enumerable:!0,configurable:!0}),e.prototype.set=function(t,n,i,o){void 0===n&&(n=[]),void 0===i&&(i=""),t||(t=""),o&&(t=e.escapeNewLines(t,n)),this.didEverRender&&this.text===t&&this.title===i&&_l(this.highlights,n)||(Array.isArray(n)||(n=[]),this.text=t,this.title=i,this.highlights=n,this.render())},e.prototype.render=function(){for(var e="",t=0,n=0,i=this.highlights;n<i.length;n++){var o=i[n];if(o.end!==o.start){if(t<o.start){e+="<span>";var r=this.text.substring(t,o.start);e+=this.supportCodicons?T$(Ar(r)):Ar(r),e+="</span>",t=o.end}o.extraClasses?e+='<span class="highlight '+o.extraClasses+'">':e+='<span class="highlight">';var s=this.text.substring(o.start,o.end);e+=this.supportCodicons?T$(Ar(s)):Ar(s),e+="</span>",t=o.end}}if(t<this.text.length){e+="<span>";s=this.text.substring(t);e+=this.supportCodicons?T$(Ar(s)):Ar(s),e+="</span>"}this.domNode.innerHTML=e,this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0},e.escapeNewLines=function(e,t){var n=0,i=0;return e.replace(/\r\n|\r|\n/g,(function(e,o){i="\r\n"===e?-1:0,o+=n;for(var r=0,s=t;r<s.length;r++){var a=s[r];a.end<=o||(a.start>=o&&(a.start+=i),a.end>=o&&(a.end+=i))}return n+=i,"⏎"}))},e}()),PG=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),FG=function(){function e(e){this._element=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{set:function(e){this.disposed||e===this._textContent||(this._textContent=e,this._element.textContent=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{set:function(e){this.disposed||e===this._className||(this._className=e,this._element.className=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{set:function(e){this.disposed||e===this._title||(this._title=e,this._title?this._element.title=e:this._element.removeAttribute("title"))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{set:function(e){this.disposed||e===this._empty||(this._empty=e,this._element.style.marginLeft=e?"0":"")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.disposed=!0},e}(),BG=function(e){function t(t,n){var i=e.call(this)||this;i.domNode=i._register(new FG(pr(t,_r(".monaco-icon-label"))));var o=pr(i.domNode.element,_r(".monaco-icon-label-container")),r=pr(o,_r("span.monaco-icon-name-container"));return i.descriptionContainer=i._register(new FG(pr(o,_r("span.monaco-icon-description-container")))),(null===n||void 0===n?void 0:n.supportHighlights)?i.nameNode=new $G(r,!!n.supportCodicons):i.nameNode=new VG(r),(null===n||void 0===n?void 0:n.supportDescriptionHighlights)?i.descriptionNodeFactory=function(){return new MG(pr(i.descriptionContainer.element,_r("span.label-description")),!!n.supportCodicons)}:i.descriptionNodeFactory=function(){return i._register(new FG(pr(i.descriptionContainer.element,_r("span.label-description"))))},i}return PG(t,e),t.prototype.setLabel=function(e,t,n){var i=["monaco-icon-label"];n&&(n.extraClasses&&i.push.apply(i,n.extraClasses),n.italic&&i.push("italic")),this.domNode.className=i.join(" "),this.domNode.title=(null===n||void 0===n?void 0:n.title)||"",this.nameNode.setLabel(e,n),(t||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof MG?(this.descriptionNode.set(t||"",n?n.descriptionMatches:void 0),(null===n||void 0===n?void 0:n.descriptionTitle)?this.descriptionNode.element.title=n.descriptionTitle:this.descriptionNode.element.removeAttribute("title")):(this.descriptionNode.textContent=t||"",this.descriptionNode.title=(null===n||void 0===n?void 0:n.descriptionTitle)||"",this.descriptionNode.empty=!t))},t}(Ae),VG=function(){function e(e){this.container=e,this.label=void 0,this.singleLabel=void 0}return e.prototype.setLabel=function(e,t){if(this.label!==e||!_l(this.options,t))if(this.label=e,this.options=t,"string"===typeof e)this.singleLabel||(this.container.innerHTML="",mo(this.container,"multiple"),this.singleLabel=pr(this.container,_r("a.label-name",{id:null===t||void 0===t?void 0:t.domId}))),this.singleLabel.textContent=e;else{this.container.innerHTML="",fo(this.container,"multiple"),this.singleLabel=void 0;for(var n=0;n<e.length;n++){var i=e[n],o=(null===t||void 0===t?void 0:t.domId)&&(null===t||void 0===t?void 0:t.domId)+"_"+n;pr(this.container,_r("a.label-name",{id:o,"data-icon-label-count":e.length,"data-icon-label-index":n},i)),n<e.length-1&&pr(this.container,_r("span.label-separator",void 0,(null===t||void 0===t?void 0:t.separator)||"/"))}}},e}();function HG(e,t,n){if(n){var i=0;return e.map((function(e){var o={start:i,end:i+e.length},r=n.map((function(e){return uN.intersect(o,e)})).filter((function(e){return!uN.isEmpty(e)})).map((function(e){var t=e.start,n=e.end;return{start:t-i,end:n-i}}));return i=o.end+t.length,r}))}}var $G=function(){function e(e,t){this.container=e,this.supportCodicons=t,this.label=void 0,this.singleLabel=void 0}return e.prototype.setLabel=function(e,t){if(this.label!==e||!_l(this.options,t))if(this.label=e,this.options=t,"string"===typeof e)this.singleLabel||(this.container.innerHTML="",mo(this.container,"multiple"),this.singleLabel=new MG(pr(this.container,_r("a.label-name",{id:null===t||void 0===t?void 0:t.domId})),this.supportCodicons)),this.singleLabel.set(e,null===t||void 0===t?void 0:t.matches,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.labelEscapeNewLines);else{this.container.innerHTML="",fo(this.container,"multiple"),this.singleLabel=void 0;for(var n=(null===t||void 0===t?void 0:t.separator)||"/",i=HG(e,n,null===t||void 0===t?void 0:t.matches),o=0;o<e.length;o++){var r=e[o],s=i?i[o]:void 0,a=(null===t||void 0===t?void 0:t.domId)&&(null===t||void 0===t?void 0:t.domId)+"_"+o,l=_r("a.label-name",{id:a,"data-icon-label-count":e.length,"data-icon-label-index":o}),u=new MG(pr(this.container,l),this.supportCodicons);u.set(r,s,null===t||void 0===t?void 0:t.title,null===t||void 0===t?void 0:t.labelEscapeNewLines),o<e.length-1&&pr(l,_r("span.label-separator",void 0,n))}}},e}(),WG=(n("54f2"),{badgeBackground:My.fromHex("#4D4D4D"),badgeForeground:My.fromHex("#FFFFFF")}),UG=function(){function e(e,t){this.count=0,this.options=t||Object.create(null),gl(this.options,WG,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=pr(e,_r(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}return e.prototype.setCount=function(e){this.count=e,this.render()},e.prototype.setTitleFormat=function(e){this.titleFormat=e,this.render()},e.prototype.render=function(){this.element.textContent=Rr(this.countFormat,this.count),this.element.title=Rr(this.titleFormat,this.count),this.applyStyles()},e.prototype.style=function(e){this.badgeBackground=e.badgeBackground,this.badgeForeground=e.badgeForeground,this.badgeBorder=e.badgeBorder,this.applyStyles()},e.prototype.applyStyles=function(){if(this.element){var e=this.badgeBackground?this.badgeBackground.toString():"",t=this.badgeForeground?this.badgeForeground.toString():"",n=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=e,this.element.style.color=t,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.borderColor=n}},e}();function zG(e,t,n){if("string"===typeof e&&(e=Lt.file(e)),n){var i=n.getWorkspaceFolder(e);if(i){var o=n.getWorkspace().folders.length>1,r=void 0;if(r=ca(i.uri,e)?"":ma(i.uri,e),o){var a=i.name?i.name:ha(i.uri);r=r?a+" • "+r:a}return r}}if(e.scheme!==xi.file&&e.scheme!==xi.untitled)return e.with({query:null,fragment:null}).toString(!0);if(GG(e.fsPath))return Ys(KG(e.fsPath));var l=Ys(e.fsPath);return!s["h"]&&t&&(l=YG(l,t.userHome)),l}function jG(e){if(e){"string"===typeof e&&(e=Lt.file(e));var t=ha(e)||(e.scheme===xi.file?e.fsPath:e.path);return GG(t)?KG(t):t}}function GG(e){return!(!s["h"]||!e||":"!==e[1])}function KG(e){return GG(e)?e.charAt(0).toUpperCase()+e.slice(1):e}var qG=Object.create(null);function YG(e,t){if(s["h"]||!e||!t)return e;var n=qG.original===t?qG.normalized:void 0;return n||(n=""+Br(t,qs.sep)+qs.sep,qG={original:t,normalized:n}),(s["d"]?Hr(e,n):ts(e,n))&&(e="~/"+e.substr(n.length)),e}var XG,ZG,JG=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),QG=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},eK=function(e,t){return function(n,i){t(n,i,e)}},tK=function(){function e(e){this._resolverService=e}return e.prototype.hasChildren=function(e){return e instanceof AG||e instanceof RG&&!e.failure},e.prototype.getChildren=function(e){if(e instanceof AG)return e.groups;if(e instanceof RG)return e.resolve(this._resolverService).then((function(e){return e.children}));throw new Error("bad tree")},e=QG([eK(0,sc)],e),e}(),nK=function(){function e(){}return e.prototype.getHeight=function(){return 23},e.prototype.getTemplateId=function(e){return e instanceof RG?sK.id:lK.id},e}(),iK=function(){function e(e){this._keybindingService=e}return e.prototype.getKeyboardNavigationLabel=function(e){if(e instanceof DG){var t=e.parent.preview,n=t&&t.preview(e.range);if(n)return n.value}return ha(e.uri)},e=QG([eK(0,WI)],e),e}(),oK=function(){function e(){}return e.prototype.getId=function(e){return e instanceof DG?e.id:e.uri},e}(),rK=function(e){function t(t,n,i){var o=e.call(this)||this;o._uriLabel=n;var r=document.createElement("div");return fo(r,"reference-file"),o.file=o._register(new BG(r,{supportHighlights:!0})),o.badge=new UG(pr(r,_r(".count"))),o._register(iN(o.badge,i)),t.appendChild(r),o}return JG(t,e),t.prototype.set=function(e,t){var n=da(e.uri);this.file.setLabel(jG(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});var i=e.children.length;this.badge.setCount(i),e.failure?this.badge.setTitleFormat(r("referencesFailre","Failed to resolve file.")):i>1?this.badge.setTitleFormat(r("referencesCount","{0} references",i)):this.badge.setTitleFormat(r("referenceCount","{0} reference",i))},t=QG([eK(1,MN),eK(2,p_)],t),t}(Ae),sK=function(){function e(t){this._instantiationService=t,this.templateId=e.id}return e.prototype.renderTemplate=function(e){return this._instantiationService.createInstance(rK,e)},e.prototype.renderElement=function(e,t,n){n.set(e.element,kR(e.filterData))},e.prototype.disposeTemplate=function(e){e.dispose()},e.id="FileReferencesRenderer",e=QG([eK(0,In)],e),e}(),aK=function(){function e(e){this.label=new MG(e,!1)}return e.prototype.set=function(e,t){var n=e.parent.preview,i=n&&n.preview(e.range);if(i){var o=i.value,r=i.highlight;t&&!IR.isDefault(t)?(vo(this.label.element,"referenceMatch",!1),this.label.set(o,kR(t))):(vo(this.label.element,"referenceMatch",!0),this.label.set(o,[r]))}else this.label.set(ha(e.uri)+":"+(e.range.startLineNumber+1)+":"+(e.range.startColumn+1))},e}(),lK=function(){function e(){this.templateId=e.id}return e.prototype.renderTemplate=function(e){return new aK(e)},e.prototype.renderElement=function(e,t,n){n.set(e.element,e.filterData)},e.prototype.disposeTemplate=function(){},e.id="OneReferenceRenderer",e}(),uK=function(){function e(){}return e.prototype.getAriaLabel=function(e){return e.ariaMessage},e}(),cK=(n("e750"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),hK=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},dK={separatorBorder:My.transparent},pK=function(){function e(e,t,n,i){this.container=e,this.view=t,this.disposable=i,this._cachedVisibleSize=void 0,"number"===typeof n?(this._size=n,this._cachedVisibleSize=void 0,fo(e,"visible")):(this._size=0,this._cachedVisibleSize=n.cachedVisibleSize)}return Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){this._size=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return"undefined"===typeof this._cachedVisibleSize},enumerable:!0,configurable:!0}),e.prototype.setVisible=function(e,t){e!==this.visible&&(e?(this.size=eR(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"===typeof t?t:this.size,this.size=0),vo(this.container,"visible",e),this.view.setVisible&&this.view.setVisible(e))},Object.defineProperty(e.prototype,"minimumSize",{get:function(){return this.visible?this.view.minimumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewMinimumSize",{get:function(){return this.view.minimumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maximumSize",{get:function(){return this.visible?this.view.maximumSize:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewMaximumSize",{get:function(){return this.view.maximumSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"priority",{get:function(){return this.view.priority},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snap",{get:function(){return!!this.view.snap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{set:function(e){this.container.style.pointerEvents=e?null:"none"},enumerable:!0,configurable:!0}),e.prototype.layout=function(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)},e.prototype.dispose=function(){return this.disposable.dispose(),this.view},e}(),fK=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cK(t,e),t.prototype.layoutContainer=function(e){this.container.style.top=e+"px",this.container.style.height=this.size+"px"},t}(pK),gK=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return cK(t,e),t.prototype.layoutContainer=function(e){this.container.style.left=e+"px",this.container.style.width=this.size+"px"},t}(pK);(function(e){e[e["Idle"]=0]="Idle",e[e["Busy"]=1]="Busy"})(XG||(XG={})),function(e){function t(e){return{type:"split",index:e}}function n(e){return{type:"invisible",cachedVisibleSize:e}}e.Distribute={type:"distribute"},e.Split=t,e.Invisible=n}(ZG||(ZG={}));var mK=function(e){function t(t,n){void 0===n&&(n={});var i=e.call(this)||this;return i.size=0,i.contentSize=0,i.proportions=void 0,i.viewItems=[],i.sashItems=[],i.state=XG.Idle,i._onDidSashChange=i._register(new Ze),i.onDidSashChange=i._onDidSashChange.event,i._onDidSashReset=i._register(new Ze),i._startSnappingEnabled=!0,i._endSnappingEnabled=!0,i.orientation=Sa(n.orientation)?0:n.orientation,i.inverseAltBehavior=!!n.inverseAltBehavior,i.proportionalLayout=!!Sa(n.proportionalLayout)||!!n.proportionalLayout,i.el=document.createElement("div"),fo(i.el,"monaco-split-view2"),fo(i.el,0===i.orientation?"vertical":"horizontal"),t.appendChild(i.el),i.sashContainer=pr(i.el,_r(".sash-container")),i.viewContainer=pr(i.el,_r(".split-view-container")),i.style(n.styles||dK),n.descriptor&&(i.size=n.descriptor.size,n.descriptor.views.forEach((function(e,t){var n=Sa(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},o=e.view;i.doAddView(o,n,t,!0)})),i.contentSize=i.viewItems.reduce((function(e,t){return e+t.size}),0),i.saveProportions()),i}return cK(t,e),Object.defineProperty(t.prototype,"orthogonalStartSash",{get:function(){return this._orthogonalStartSash},set:function(e){for(var t=0,n=this.sashItems;t<n.length;t++){var i=n[t];i.sash.orthogonalStartSash=e}this._orthogonalStartSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orthogonalEndSash",{get:function(){return this._orthogonalEndSash},set:function(e){for(var t=0,n=this.sashItems;t<n.length;t++){var i=n[t];i.sash.orthogonalEndSash=e}this._orthogonalEndSash=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startSnappingEnabled",{get:function(){return this._startSnappingEnabled},set:function(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endSnappingEnabled",{get:function(){return this._endSnappingEnabled},set:function(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())},enumerable:!0,configurable:!0}),t.prototype.style=function(e){e.separatorBorder.isTransparent()?(mo(this.el,"separator-border"),this.el.style.removeProperty("--separator-border")):(fo(this.el,"separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))},t.prototype.addView=function(e,t,n){void 0===n&&(n=this.viewItems.length),this.doAddView(e,t,n,!1)},t.prototype.layout=function(e,t){var n=this,i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(var o=0;o<this.viewItems.length;o++){var r=this.viewItems[o];r.size=eR(Math.round(this.proportions[o]*e),r.minimumSize,r.maximumSize)}else{var s=qi(this.viewItems.length),a=s.filter((function(e){return 1===n.viewItems[e].priority})),l=s.filter((function(e){return 2===n.viewItems[e].priority}));this.resize(this.viewItems.length-1,e-i,void 0,a,l)}this.distributeEmptySpace(),this.layoutViews()},t.prototype.saveProportions=function(){var e=this;this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((function(t){return t.size/e.contentSize})))},t.prototype.onSashStart=function(e){for(var t=this,n=e.sash,i=e.start,o=e.alt,r=0,s=this.viewItems;r<s.length;r++){var a=s[r];a.enabled=!1}var l=zi(this.sashItems,(function(e){return e.sash===n})),u=Oe(Zn(document.body,"keydown")((function(e){return c(t.sashDragState.current,e.altKey)})),Zn(document.body,"keyup")((function(){return c(t.sashDragState.current,!1)}))),c=function(e,n){var i,o,r=t.viewItems.map((function(e){return e.size})),s=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(t.inverseAltBehavior&&(n=!n),n){var c=l===t.sashItems.length-1;if(c){var h=t.viewItems[l];s=(h.minimumSize-h.size)/2,a=(h.maximumSize-h.size)/2}else{h=t.viewItems[l+1];s=(h.size-h.maximumSize)/2,a=(h.size-h.minimumSize)/2}}if(!n){var d=qi(l,-1),p=qi(l+1,t.viewItems.length),f=d.reduce((function(e,n){return e+(t.viewItems[n].minimumSize-r[n])}),0),g=d.reduce((function(e,n){return e+(t.viewItems[n].viewMaximumSize-r[n])}),0),m=0===p.length?Number.POSITIVE_INFINITY:p.reduce((function(e,n){return e+(r[n]-t.viewItems[n].minimumSize)}),0),_=0===p.length?Number.NEGATIVE_INFINITY:p.reduce((function(e,n){return e+(r[n]-t.viewItems[n].viewMaximumSize)}),0),v=Math.max(f,_),y=Math.min(m,g),b=t.findFirstSnapIndex(d),w=t.findFirstSnapIndex(p);if("number"===typeof b){h=t.viewItems[b];var C=Math.floor(h.viewMinimumSize/2);i={index:b,limitDelta:h.visible?v-C:v+C,size:h.size}}if("number"===typeof w){h=t.viewItems[w],C=Math.floor(h.viewMinimumSize/2);o={index:w,limitDelta:h.visible?y+C:y-C,size:h.size}}}t.sashDragState={start:e,current:e,index:l,sizes:r,minDelta:s,maxDelta:a,alt:n,snapBefore:i,snapAfter:o,disposable:u}};c(i,o)},t.prototype.onSashChange=function(e){var t=e.current,n=this.sashDragState,i=n.index,o=n.start,r=n.sizes,s=n.alt,a=n.minDelta,l=n.maxDelta,u=n.snapBefore,c=n.snapAfter;this.sashDragState.current=t;var h=t-o,d=this.resize(i,h,r,void 0,void 0,a,l,u,c);if(s){var p=i===this.sashItems.length-1,f=this.viewItems.map((function(e){return e.size})),g=p?i:i+1,m=this.viewItems[g],_=m.size-m.maximumSize,v=m.size-m.minimumSize,y=p?i-1:i+1;this.resize(y,-d,f,void 0,void 0,_,v)}this.distributeEmptySpace(),this.layoutViews()},t.prototype.onSashEnd=function(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(var t=0,n=this.viewItems;t<n.length;t++){var i=n[t];i.enabled=!0}},t.prototype.onViewChange=function(e,t){var n=this.viewItems.indexOf(e);n<0||n>=this.viewItems.length||(t="number"===typeof t?t:e.size,t=eR(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&n>0?(this.resize(n-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([n],void 0)))},t.prototype.resizeView=function(e,t){var n=this;if(this.state!==XG.Idle)throw new Error("Cant modify splitview");if(this.state=XG.Busy,!(e<0||e>=this.viewItems.length)){var i=qi(this.viewItems.length).filter((function(t){return t!==e})),o=hK(i.filter((function(e){return 1===n.viewItems[e].priority})),[e]),r=i.filter((function(e){return 2===n.viewItems[e].priority})),s=this.viewItems[e];t=Math.round(t),t=eR(t,s.minimumSize,Math.min(s.maximumSize,this.size)),s.size=t,this.relayout(o,r),this.state=XG.Idle}},t.prototype.distributeViewSizes=function(){for(var e=this,t=[],n=0,i=0,o=this.viewItems;i<o.length;i++){var r=o[i];r.maximumSize-r.minimumSize>0&&(t.push(r),n+=r.size)}for(var s=Math.floor(n/t.length),a=0,l=t;a<l.length;a++){r=l[a];r.size=eR(s,r.minimumSize,r.maximumSize)}var u=qi(this.viewItems.length),c=u.filter((function(t){return 1===e.viewItems[t].priority})),h=u.filter((function(t){return 2===e.viewItems[t].priority}));this.relayout(c,h)},t.prototype.getViewSize=function(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size},t.prototype.doAddView=function(e,t,n,i){var o=this;if(void 0===n&&(n=this.viewItems.length),this.state!==XG.Idle)throw new Error("Cant modify splitview");this.state=XG.Busy;var r=_r(".split-view-view");n===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(n));var s,a=e.onDidChange((function(e){return o.onViewChange(h,e)})),l=De((function(){return o.viewContainer.removeChild(r)})),u=Oe(a,l);s="number"===typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;var c,h=0===this.orientation?new fK(r,e,s,u):new gK(r,e,s,u);if(this.viewItems.splice(n,0,h),this.viewItems.length>1){var d=0===this.orientation?1:0,p=0===this.orientation?{getHorizontalSashTop:function(e){return o.getSashPosition(e)}}:{getVerticalSashLeft:function(e){return o.getSashPosition(e)}},f=new VL(this.sashContainer,p,{orientation:d,orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash}),g=0===this.orientation?function(e){return{sash:f,start:e.startY,current:e.currentY,alt:e.altKey}}:function(e){return{sash:f,start:e.startX,current:e.currentX,alt:e.altKey}},m=$e.map(f.onDidStart,g),_=m(this.onSashStart,this),v=$e.map(f.onDidChange,g),y=v(this.onSashChange,this),b=$e.map(f.onDidEnd,(function(){return zi(o.sashItems,(function(e){return e.sash===f}))})),w=b(this.onSashEnd,this),C=f.onDidReset((function(){var e=zi(o.sashItems,(function(e){return e.sash===f})),t=qi(e,-1),n=qi(e+1,o.viewItems.length),i=o.findFirstSnapIndex(t),r=o.findFirstSnapIndex(n);("number"!==typeof i||o.viewItems[i].visible)&&("number"!==typeof r||o.viewItems[r].visible)&&o._onDidSashReset.fire(e)})),S=Oe(_,y,w,C,f),E={sash:f,disposable:S};this.sashItems.splice(n-1,0,E)}r.appendChild(e.element),"number"!==typeof t&&"split"===t.type&&(c=[t.index]),i||this.relayout([n],c),this.state=XG.Idle,i||"number"===typeof t||"distribute"!==t.type||this.distributeViewSizes()},t.prototype.relayout=function(e,t){var n=this.viewItems.reduce((function(e,t){return e+t.size}),0);this.resize(this.viewItems.length-1,this.size-n,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()},t.prototype.resize=function(e,t,n,i,o,r,s,a,l){var u=this;if(void 0===n&&(n=this.viewItems.map((function(e){return e.size}))),void 0===r&&(r=Number.NEGATIVE_INFINITY),void 0===s&&(s=Number.POSITIVE_INFINITY),e<0||e>=this.viewItems.length)return 0;var c=qi(e,-1),h=qi(e+1,this.viewItems.length);if(o)for(var d=0,p=o;d<p.length;d++){var f=p[d];Xi(c,f),Xi(h,f)}if(i)for(var g=0,m=i;g<m.length;g++){var _=m[g];Zi(c,_),Zi(h,_)}var v=c.map((function(e){return u.viewItems[e]})),y=c.map((function(e){return n[e]})),b=h.map((function(e){return u.viewItems[e]})),w=h.map((function(e){return n[e]})),C=c.reduce((function(e,t){return e+(u.viewItems[t].minimumSize-n[t])}),0),S=c.reduce((function(e,t){return e+(u.viewItems[t].maximumSize-n[t])}),0),E=0===h.length?Number.POSITIVE_INFINITY:h.reduce((function(e,t){return e+(n[t]-u.viewItems[t].minimumSize)}),0),T=0===h.length?Number.NEGATIVE_INFINITY:h.reduce((function(e,t){return e+(n[t]-u.viewItems[t].maximumSize)}),0),k=Math.max(C,T,r),x=Math.min(E,S,s),L=!1;if(a){var I=this.viewItems[a.index],O=t>=a.limitDelta;L=O!==I.visible,I.setVisible(O,a.size)}if(!L&&l){I=this.viewItems[l.index],O=t<l.limitDelta;L=O!==I.visible,I.setVisible(O,l.size)}if(L)return this.resize(e,t,n,i,o,r,s);t=eR(t,k,x);for(var D=0,N=t;D<v.length;D++){var R=v[D],A=eR(y[D]+N,R.minimumSize,R.maximumSize),M=A-y[D];N-=M,R.size=A}D=0;for(var P=t;D<b.length;D++){R=b[D],A=eR(w[D]-P,R.minimumSize,R.maximumSize),M=A-w[D];P+=M,R.size=A}return t},t.prototype.distributeEmptySpace=function(e){for(var t=this,n=this.viewItems.reduce((function(e,t){return e+t.size}),0),i=this.size-n,o=qi(this.viewItems.length-1,-1),r=o.filter((function(e){return 1===t.viewItems[e].priority})),s=o.filter((function(e){return 2===t.viewItems[e].priority})),a=0,l=s;a<l.length;a++){var u=l[a];Xi(o,u)}for(var c=0,h=r;c<h.length;c++){u=h[c];Zi(o,u)}"number"===typeof e&&Zi(o,e);for(var d=0;0!==i&&d<o.length;d++){var p=this.viewItems[o[d]],f=eR(p.size+i,p.minimumSize,p.maximumSize),g=f-p.size;i-=g,p.size=f}},t.prototype.layoutViews=function(){this.contentSize=this.viewItems.reduce((function(e,t){return e+t.size}),0);for(var e=0,t=0,n=this.viewItems;t<n.length;t++){var i=n[t];i.layout(e,this.layoutContext),e+=i.size}this.sashItems.forEach((function(e){return e.sash.layout()})),this.updateSashEnablement()},t.prototype.updateSashEnablement=function(){var e=!1,t=this.viewItems.map((function(t){return e=t.size-t.minimumSize>0||e}));e=!1;var n=this.viewItems.map((function(t){return e=t.maximumSize-t.size>0||e})),i=hK(this.viewItems).reverse();e=!1;var o=i.map((function(t){return e=t.size-t.minimumSize>0||e})).reverse();e=!1;for(var r=i.map((function(t){return e=t.maximumSize-t.size>0||e})).reverse(),s=0,a=0;a<this.sashItems.length;a++){var l=this.sashItems[a].sash,u=this.viewItems[a];s+=u.size;var c=!(t[a]&&r[a+1]),h=!(n[a]&&o[a+1]);if(c&&h){var d=qi(a,-1),p=qi(a+1,this.viewItems.length),f=this.findFirstSnapIndex(d),g=this.findFirstSnapIndex(p),m="number"===typeof f&&!this.viewItems[f].visible,_="number"===typeof g&&!this.viewItems[g].visible;m&&o[a]&&(s>0||this.startSnappingEnabled)?l.state=1:_&&t[a]&&(s<this.contentSize||this.endSnappingEnabled)?l.state=2:l.state=0}else l.state=c&&!h?1:!c&&h?2:3}},t.prototype.getSashPosition=function(e){for(var t=0,n=0;n<this.sashItems.length;n++)if(t+=this.viewItems[n].size,this.sashItems[n].sash===e)return Math.min(t,this.contentSize-2);return 0},t.prototype.findFirstSnapIndex=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o=this.viewItems[i];if(o.visible&&o.snap)return i}for(var r=0,s=e;r<s.length;r++){i=s[r],o=this.viewItems[i];if(o.visible&&o.maximumSize-o.minimumSize>0)return;if(!o.visible&&o.snap)return i}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.viewItems.forEach((function(e){return e.dispose()})),this.viewItems=[],this.sashItems.forEach((function(e){return e.disposable.dispose()})),this.sashItems=[]},t}(Ae),_K=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vK=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},yK=function(e,t){return function(n,i){t(n,i,e)}},bK=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},wK=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},CK=function(){function e(e,t){var n=this;this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new Re,this._callOnModelChange=new Re,this._callOnDispose.add(this._editor.onDidChangeModel((function(){return n._onModelChanged()}))),this._onModelChanged()}return e.prototype.dispose=function(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()},e.prototype._onModelChanged=function(){this._callOnModelChange.clear();var e=this._editor.getModel();if(e)for(var t=0,n=this._model.groups;t<n.length;t++){var i=n[t];if(ca(i.uri,e.uri))return void this._addDecorations(i)}},e.prototype._addDecorations=function(t){var n=this;if(this._editor.hasModel()){this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((function(e){return n._onDecorationChanged()})));for(var i=[],o=[],r=0,s=t.children.length;r<s;r++){var a=t.children[r];this._decorationIgnoreSet.has(a.id)||(i.push({range:a.range,options:e.DecorationOptions}),o.push(r))}var l=this._editor.deltaDecorations([],i);for(r=0;r<l.length;r++)this._decorations.set(l[r],t.children[o[r]])}},e.prototype._onDecorationChanged=function(){var e=this,t=[],n=this._editor.getModel();if(n){this._decorations.forEach((function(i,o){var r=n.getDecorationRange(o);if(r){var s=!1;if(!bn.equalsRange(r,i.range)){if(bn.spansMultipleLines(r))s=!0;else{var a=i.range.endColumn-i.range.startColumn,l=r.endColumn-r.startColumn;a!==l&&(s=!0)}s?(e._decorationIgnoreSet.add(i.id),t.push(o)):i.range=r}}}));for(var i=0,o=t.length;i<o;i++)this._decorations.delete(t[i]);this._editor.deltaDecorations(t,[])}},e.prototype.removeDecorations=function(){var e=[];this._decorations.forEach((function(t,n){e.push(n)})),this._editor.deltaDecorations(e,[]),this._decorations.clear()},e.DecorationOptions=Xy.register({stickiness:1,className:"reference-decoration"}),e}(),SK=function(){function e(){this.ratio=.7,this.heightInLines=18}return e.fromJSON=function(e){var t,n;try{var i=JSON.parse(e);t=i.ratio,n=i.heightInLines}catch(o){}return{ratio:t||.7,heightInLines:n||18}},e}(),EK=function(e){function t(t,n,i,o,r,s,a,l){var u=e.call(this,t,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0})||this;return u._defaultTreeKeyboardSupport=n,u.layoutData=i,u._textModelResolverService=r,u._instantiationService=s,u._peekViewService=a,u._uriLabel=l,u._disposeOnNewModel=new Re,u._callOnDispose=new Re,u._onDidSelectReference=new Ze,u.onDidSelectReference=u._onDidSelectReference.event,u._dim={height:0,width:0},u._applyTheme(o.getTheme()),u._callOnDispose.add(o.onThemeChange(u._applyTheme.bind(u))),u._peekViewService.addExclusiveWidget(t,u),u.create(),u}return _K(t,e),t.prototype.dispose=function(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),Ie(this._preview),Ie(this._previewNotAvailableMessage),Ie(this._tree),Ie(this._previewModelReference),this._splitView.dispose(),e.prototype.dispose.call(this)},t.prototype._applyTheme=function(e){var t=e.getColor(bG)||My.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(_G)||My.transparent,primaryHeadingColor:e.getColor(vG),secondaryHeadingColor:e.getColor(yG)})},t.prototype.show=function(t){this.editor.revealRangeInCenterIfOutsideViewport(t,0),e.prototype.show.call(this,t,this.layoutData.heightInLines||18)},t.prototype.focusOnReferenceTree=function(){this._tree.domFocus()},t.prototype.focusOnPreviewEditor=function(){this._preview.focus()},t.prototype.isPreviewEditorFocused=function(){return this._preview.hasTextFocus()},t.prototype._onTitleClick=function(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})},t.prototype._fillBody=function(e){var t=this;this.setCssClass("reference-zone-widget"),this._messageContainer=pr(e,_r("div.messages")),yr(this._messageContainer),this._splitView=new mK(e,{orientation:1}),this._previewContainer=pr(e,_r("div.preview.inline"));var n={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(Qj,this._previewContainer,n,this.editor),yr(this._previewContainer),this._previewNotAvailableMessage=zy.createFromString(r("missingPreviewMessage","no preview available")),this._treeContainer=pr(e,_r("div.ref-tree.inline"));var i={ariaLabel:r("treeAriaLabel","References"),keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new uK,keyboardNavigationLabelProvider:this._instantiationService.createInstance(iK),identityProvider:new oK,overrideStyles:{listBackground:wG}};this._tree=this._instantiationService.createInstance(xP,"ReferencesWidget",this._treeContainer,new nK,[this._instantiationService.createInstance(sK),this._instantiationService.createInstance(lK)],this._instantiationService.createInstance(tK),i),this._splitView.addView({onDidChange:$e.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:function(e){t._preview.layout({height:t._dim.height,width:e})}},ZG.Distribute),this._splitView.addView({onDidChange:$e.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:function(e){t._treeContainer.style.height=t._dim.height+"px",t._treeContainer.style.width=e+"px",t._tree.layout(t._dim.height,e)}},ZG.Distribute),this._disposables.add(this._splitView.onDidSashChange((function(){t._dim.width&&(t.layoutData.ratio=t._splitView.getViewSize(0)/t._dim.width)}),void 0));var o=function(e,n){e instanceof DG&&("show"===n&&t._revealReference(e,!1),t._onDidSelectReference.fire({element:e,kind:n,source:"tree"}))};this._tree.onDidChangeFocus((function(e){o(e.elements[0],"show")})),this._tree.onDidOpen((function(e){e.browserEvent instanceof MouseEvent&&(e.browserEvent.ctrlKey||e.browserEvent.metaKey||e.browserEvent.altKey)?o(e.elements[0],"side"):e.browserEvent instanceof KeyboardEvent||e.browserEvent instanceof MouseEvent&&2===e.browserEvent.detail||2===e.browserEvent.tapCount?o(e.elements[0],"goto"):o(e.elements[0],"show")})),yr(this._treeContainer)},t.prototype._onWidth=function(e){this._dim&&this._doLayoutBody(this._dim.height,e)},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._dim={height:t,width:n},this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(n),this._splitView.resizeView(0,n*this.layoutData.ratio)},t.prototype.setSelection=function(e){var t=this;return this._revealReference(e,!0).then((function(){t._model&&(t._tree.setSelection([e]),t._tree.setFocus([e]))}))},t.prototype.setModel=function(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()},t.prototype._onNewModel=function(){var e=this;return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerHTML=r("noResults","No results"),vr(this._messageContainer),Promise.resolve(void 0)):(yr(this._messageContainer),this._decorationsManager=new CK(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((function(t){return e._tree.rerender(t)}))),this._disposeOnNewModel.add(this._preview.onMouseDown((function(t){var n=t.event,i=t.target;if(2===n.detail){var o=e._getFocusedReference();o&&e._onDidSelectReference.fire({element:{uri:o.uri,range:i.range},kind:n.ctrlKey||n.metaKey||n.altKey?"side":"open",source:"editor"})}}))),fo(this.container,"results-loaded"),vr(this._treeContainer),vr(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)},t.prototype._getFocusedReference=function(){var e=this._tree.getFocus()[0];return e instanceof DG?e:e instanceof RG&&e.children.length>0?e.children[0]:void 0},t.prototype._revealReference=function(e,t){return bK(this,void 0,void 0,(function(){var n,i,o,s,a;return wK(this,(function(l){switch(l.label){case 0:return this._revealedReference===e?[2]:(this._revealedReference=e,e.uri.scheme!==xi.inMemory?this.setTitle(la(e.uri),this._uriLabel.getUriLabel(da(e.uri))):this.setTitle(r("peekView.alternateTitle","References")),n=this._textModelResolverService.createModelReference(e.uri),this._tree.getInput()!==e.parent?[3,1]:(this._tree.reveal(e),[3,3]));case 1:return t&&this._tree.reveal(e.parent),[4,this._tree.expand(e.parent)];case 2:l.sent(),this._tree.reveal(e),l.label=3;case 3:return[4,n];case 4:return i=l.sent(),this._model?(Ie(this._previewModelReference),o=i.object,o?(s=this._preview.getModel()===o.textEditorModel?0:1,a=bn.lift(e.range).collapseToStart(),this._previewModelReference=i,this._preview.setModel(o.textEditorModel),this._preview.setSelection(a),this._preview.revealRangeInCenter(a,s)):(this._preview.setModel(this._previewNotAvailableMessage),i.dispose()),[2]):(i.dispose(),[2])}}))}))},t=vK([yK(3,p_),yK(4,sc),yK(5,In),yK(6,dG),yK(7,MN)],t),t}(mG);w_((function(e,t){var n=e.getColor(LG);n&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: "+n+"; }");var i=e.getColor(IG);i&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: "+i+"; }");var o=e.getColor(OG);o&&t.addRule(".monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid "+o+"; box-sizing: border-box; }");var r=e.getColor(nw);r&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted "+r+"; box-sizing: border-box; }");var s=e.getColor(wG);s&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { background-color: "+s+"; }");var a=e.getColor(CG);a&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree { color: "+a+"; }");var l=e.getColor(SG);l&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .reference-file { color: "+l+"; }");var u=e.getColor(EG);u&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: "+u+"; }");var c=e.getColor(TG);c&&t.addRule(".monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: "+c+" !important; }");var h=e.getColor(kG);h&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: "+h+";}");var d=e.getColor(xG);d&&t.addRule(".monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: "+d+";}")}));var TK=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},kK=function(e,t){return function(n,i){t(n,i,e)}},xK=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},LK=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},IK=new Ff("referenceSearchVisible",!1),OK=function(){function e(e,t,n,i,o,r,s,a){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=i,this._notificationService=o,this._instantiationService=r,this._storageService=s,this._configurationService=a,this._disposables=new Re,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=IK.bindTo(n)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._referenceSearchVisible.reset(),this._disposables.dispose(),Ie(this._widget),Ie(this._model),this._widget=void 0,this._model=void 0},e.prototype.toggleWidget=function(e,t,n){var i,o=this;if(this._widget&&(i=this._widget.position),this.closeWidget(),!i||!e.containsPosition(i)){this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((function(){o.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((function(){o._ignoreModelChangeEvent||o.closeWidget()})));var s="peekViewLayout",a=SK.fromJSON(this._storageService.get(s,0,"{}"));this._widget=this._instantiationService.createInstance(EK,this._editor,this._defaultTreeKeyboardSupport,a),this._widget.setTitle(r("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((function(){t.cancel(),o._widget&&(o._storageService.store(s,JSON.stringify(o._widget.layoutData),0),o._widget=void 0),o.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((function(e){var t=e.element,i=e.kind;if(t)switch(i){case"open":"editor"===e.source&&o._configurationService.getValue("editor.stablePeek")||o.openReference(t,!1);break;case"side":o.openReference(t,!0);break;case"goto":n?o._gotoReference(t):o.openReference(t,!1);break}})));var l=++this._requestIdPool;t.then((function(t){if(l===o._requestIdPool&&o._widget)return o._model&&o._model.dispose(),o._model=t,o._widget.setModel(o._model).then((function(){if(o._widget&&o._model&&o._editor.hasModel()){o._model.isEmpty?o._widget.setMetaTitle(""):o._widget.setMetaTitle(r("metaTitle.N","{0} ({1})",o._model.title,o._model.references.length));var t=o._editor.getModel().uri,n=new yn(e.startLineNumber,e.startColumn),i=o._model.nearestReference(t,n);if(i)return o._widget.setSelection(i).then((function(){o._widget&&"editor"===o._editor.getOption(65)&&o._widget.focusOnPreviewEditor()}))}}))}),(function(e){o._notificationService.error(e)}))}},e.prototype.changeFocusBetweenPreviewAndReferences=function(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())},e.prototype.goToNextOrPreviousReference=function(e){return xK(this,void 0,void 0,(function(){var t,n,i,o,r;return LK(this,(function(s){switch(s.label){case 0:return this._editor.hasModel()&&this._model&&this._widget?(t=this._widget.position,t?(n=this._model.nearestReference(this._editor.getModel().uri,t),n?(i=this._model.nextOrPreviousReference(n,e),o=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused(),[4,this._widget.setSelection(i)]):[2]):[2]):[2];case 1:return s.sent(),[4,this._gotoReference(i)];case 2:return s.sent(),o?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor(),[2]}}))}))},e.prototype.closeWidget=function(e){void 0===e&&(e=!0),this._referenceSearchVisible.reset(),this._disposables.clear(),Ie(this._widget),Ie(this._model),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1},e.prototype._gotoReference=function(t){var n=this;this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;var i=bn.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:i}},this._editor).then((function(t){var o;if(n._ignoreModelChangeEvent=!1,t&&n._widget)if(n._editor===t)n._widget.show(i),n._widget.focusOnReferenceTree();else{var r=e.get(t),s=n._model.clone();n.closeWidget(),t.focus(),r.toggleWidget(i,_i((function(e){return Promise.resolve(s)})),null!==(o=n._peekMode)&&void 0!==o&&o)}else n.closeWidget()}),(function(e){n._ignoreModelChangeEvent=!1,ge(e)}))},e.prototype.openReference=function(e,t){t||this.closeWidget();var n=e.uri,i=e.range;this._editorService.openCodeEditor({resource:n,options:{selection:i}},this._editor,t)},e.ID="editor.contrib.referencesController",e=TK([kK(2,Bf),kK(3,Rn),kK(4,ig),kK(5,In),kK(6,VP),kK(7,uf)],e),e}();function DK(e,t){var n=fG(e);if(n){var i=OK.get(n);i&&t(i)}}Wf.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:ct(2089,60),when:xf.or(IK,Yj.inPeekEditor),handler:function(e){DK(e,(function(e){e.changeFocusBetweenPreviewAndReferences()}))}}),Wf.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:xf.or(IK,Yj.inPeekEditor),handler:function(e){DK(e,(function(e){e.goToNextOrPreviousReference(!0)}))}}),Wf.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:xf.or(IK,Yj.inPeekEditor),handler:function(e){DK(e,(function(e){e.goToNextOrPreviousReference(!1)}))}}),Ya.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),Ya.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),Ya.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),Ya.registerCommand("closeReferenceSearch",(function(e){return DK(e,(function(e){return e.closeWidget()}))})),Wf.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:xf.and(Yj.inPeekEditor,xf.not("config.editor.stablePeek"))}),Wf.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:xf.and(IK,xf.not("config.editor.stablePeek"))}),Wf.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:xf.and(IK,oP),handler:function(e){var t,n=e.get(eP),i=null===(t=n.lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof DG&&DK(e,(function(e){return e.openReference(i[0],!0)}))}}),Ya.registerCommand("openReference",(function(e){var t,n=e.get(eP),i=null===(t=n.lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(i)&&i[0]instanceof DG&&DK(e,(function(e){return e.openReference(i[0],!1)}))}));var NK=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},RK=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function AK(e,t,n,i){var o=n.ordered(e),r=o.map((function(n){return Promise.resolve(i(n,e,t)).then(void 0,(function(e){me(e)}))}));return Promise.all(r).then(Ki).then(Bi)}function MK(e,t,n){return AK(e,t,Pu,(function(e,t,i){return e.provideDefinition(t,i,n)}))}function PK(e,t,n){return AK(e,t,Fu,(function(e,t,i){return e.provideDeclaration(t,i,n)}))}function FK(e,t,n){return AK(e,t,Bu,(function(e,t,i){return e.provideImplementation(t,i,n)}))}function BK(e,t,n){return AK(e,t,Vu,(function(e,t,i){return e.provideTypeDefinition(t,i,n)}))}function VK(e,t,n,i){var o=this;return AK(e,t,Iu,(function(e,t,r){return NK(o,void 0,void 0,(function(){var o,s;return RK(this,(function(a){switch(a.label){case 0:return[4,e.provideReferences(t,r,{includeDeclaration:!0},i)];case 1:return o=a.sent(),n&&o&&2===o.length?[4,e.provideReferences(t,r,{includeDeclaration:!1},i)]:[2,o];case 2:return s=a.sent(),s&&1===s.length?[2,s]:[2,o]}}))}))}))}Tm("_executeDefinitionProvider",(function(e,t){return MK(e,t,qe.None)})),Tm("_executeDeclarationProvider",(function(e,t){return PK(e,t,qe.None)})),Tm("_executeImplementationProvider",(function(e,t){return FK(e,t,qe.None)})),Tm("_executeTypeDefinitionProvider",(function(e,t){return BK(e,t,qe.None)})),Tm("_executeReferenceProvider",(function(e,t){return VK(e,t,!1,qe.None)}));var HK=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$K=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},WK=function(e,t){return function(n,i){t(n,i,e)}},UK=new Ff("hasSymbols",!1),zK=Dn("ISymbolNavigationService"),jK=function(){function e(e,t,n,i){this._editorService=t,this._notificationService=n,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=UK.bindTo(e)}return e.prototype.reset=function(){this._ctxHasSymbols.reset(),Ie(this._currentState),Ie(this._currentMessage),this._currentModel=void 0,this._currentIdx=-1},e.prototype.put=function(e){var t=this,n=e.parent.parent;if(n.references.length<=1)this.reset();else{this._currentModel=n,this._currentIdx=n.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();var i=new eq(this._editorService),o=i.onDidChange((function(e){if(!t._ignoreEditorChange){var i=t._editorService.getActiveCodeEditor();if(i){var o=i.getModel(),r=i.getPosition();if(o&&r){for(var s=!1,a=!1,l=0,u=n.references;l<u.length;l++){var c=u[l];if(ca(c.uri,o.uri))s=!0,a=a||bn.containsPosition(c.range,r);else if(s)break}s&&a||t.reset()}}}}));this._currentState=Oe(i,o)}},e.prototype.revealNext=function(e){var t=this;if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;var n=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:n.uri,options:{selection:bn.collapseToStart(n.range),revealInCenterIfOutsideViewport:!0}},e).finally((function(){t._ignoreEditorChange=!1}))},e.prototype._showMessage=function(){Ie(this._currentMessage);var e=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),t=e?r("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,e.getLabel()):r("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(t)},e=$K([WK(0,Bf),WK(1,Rn),WK(2,ig),WK(3,WI)],e),e}();WL(zK,jK,!0),xm(new(function(e){function t(){return e.call(this,{id:"editor.gotoNextSymbolFromResult",precondition:UK,kbOpts:{weight:100,primary:70}})||this}return HK(t,e),t.prototype.runEditorCommand=function(e,t){return e.get(zK).revealNext(t)},t}(wm))),Wf.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:UK,primary:9,handler:function(e){e.get(zK).reset()}});var GK,KK,qK,YK,XK,ZK,JK,QK,eq=function(){function e(e){this._listener=new Map,this._disposables=new Re,this._onDidChange=new Ze,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}return e.prototype.dispose=function(){this._disposables.dispose(),this._onDidChange.dispose(),this._listener.forEach(Ie)},e.prototype._onDidAddEditor=function(e){var t=this;this._listener.set(e,Oe(e.onDidChangeCursorPosition((function(n){return t._onDidChange.fire({editor:e})})),e.onDidChangeModelContent((function(n){return t._onDidChange.fire({editor:e})}))))},e.prototype._onDidRemoveEditor=function(e){Ie(this._listener.get(e)),this._listener.delete(e)},e=$K([WK(0,Rn)],e),e}(),tq=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),nq=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},iq=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};fm.appendMenuItem(7,{submenu:8,title:r("peek.submenu","Peek"),group:"navigation",order:100});var oq=function(e){function t(t,n){var i=e.call(this,n)||this;return i._configuration=t,i}return tq(t,e),t.prototype.run=function(e,t){var n=this;if(!t.hasModel())return Promise.resolve(void 0);var i=e.get(ig),o=e.get(Rn),r=e.get(CI),s=e.get(zK),a=t.getModel(),l=t.getPosition(),u=new XL(t,5),c=vi(this._getLocationModel(a,l,u.token),u.token).then((function(e){return nq(n,void 0,void 0,(function(){var n,i,r,c;return iq(this,(function(h){if(!e||u.token.isCancellationRequested)return[2];if($g(e.ariaMessage),e.referenceAt(a.uri,l)&&(i=this._getAlternativeCommand(t),i!==this.id&&(n=t.getAction(i))),r=e.references.length,0===r)this._configuration.muteMessage||(c=a.getWordAtPosition(l),EH.get(t).showMessage(this._getNoResultFoundMessage(c),l));else{if(1!==r||!n)return[2,this._onResult(o,s,t,e)];n.run()}return[2]}))}))}),(function(e){i.error(e)})).finally((function(){u.dispose()}));return r.showWhile(c,250),c},t.prototype._onResult=function(e,t,n,i){return nq(this,void 0,void 0,(function(){var o,r,s,a;return iq(this,(function(l){switch(l.label){case 0:return o=this._getGoToPreference(n),n instanceof Qj||!(this._configuration.openInPeek||"peek"===o&&i.references.length>1)?[3,1]:(this._openInPeek(n,i),[3,3]);case 1:return r=i.firstReference(),s=i.references.length>1&&"gotoAndPeek"===o,[4,this._openReference(n,e,r,this._configuration.openToSide,!s)];case 2:a=l.sent(),s&&a?this._openInPeek(a,i):i.dispose(),"goto"===o&&t.put(r),l.label=3;case 3:return[2]}}))}))},t.prototype._openReference=function(e,t,n,i,o){return nq(this,void 0,void 0,(function(){var r,s,a,l;return iq(this,(function(u){switch(u.label){case 0:return r=void 0,Tu(n)&&(r=n.targetSelectionRange),r||(r=n.range),[4,t.openCodeEditor({resource:n.uri,options:{selection:bn.collapseToStart(r),revealInCenterIfOutsideViewport:!0}},e,i)];case 1:return s=u.sent(),s?(o&&(a=s.getModel(),l=s.deltaDecorations([],[{range:r,options:{className:"symbolHighlight"}}]),setTimeout((function(){s.getModel()===a&&s.deltaDecorations(l,[])}),350)),[2,s]):[2,void 0]}}))}))},t.prototype._openInPeek=function(e,t){var n=OK.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),_i((function(e){return Promise.resolve(t)})),this._configuration.openInPeek):t.dispose()},t}(Cm),rq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tq(t,e),t.prototype._getLocationModel=function(e,t,n){return nq(this,void 0,void 0,(function(){var i;return iq(this,(function(o){switch(o.label){case 0:return i=AG.bind,[4,MK(e,t,n)];case 1:return[2,new(i.apply(AG,[void 0,o.sent(),r("def.title","Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?r("noResultWord","No definition found for '{0}'",e.word):r("generic.noResults","No definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleDefinitions},t}(oq),sq=s["g"]&&!Xn?2118:70;Lm((GK=function(e){function t(){var n=e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:r("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:xf.and(xE.hasDefinitionProvider,xE.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:xE.editorTextFocus,primary:sq,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:19,group:"4_symbol_nav",order:2,title:r({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}})||this;return Ya.registerCommandAlias("editor.action.goToDeclaration",t.id),n}return tq(t,e),t}(rq),GK.id="editor.action.revealDefinition",GK)),Lm((KK=function(e){function t(){var n=e.call(this,{openToSide:!0,openInPeek:!1,muteMessage:!1},{id:t.id,label:r("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:xf.and(xE.hasDefinitionProvider,xE.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,sq),weight:100}})||this;return Ya.registerCommandAlias("editor.action.openDeclarationToTheSide",t.id),n}return tq(t,e),t}(rq),KK.id="editor.action.revealDefinitionAside",KK)),Lm((qK=function(e){function t(){var n=e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.id,label:r("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:xf.and(xE.hasDefinitionProvider,Yj.notInPeekEditor,xE.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:xE.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:8,group:"peek",order:2}})||this;return Ya.registerCommandAlias("editor.action.previewDeclaration",t.id),n}return tq(t,e),t}(rq),qK.id="editor.action.peekDefinition",qK));var aq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tq(t,e),t.prototype._getLocationModel=function(e,t,n){return nq(this,void 0,void 0,(function(){var i;return iq(this,(function(o){switch(o.label){case 0:return i=AG.bind,[4,PK(e,t,n)];case 1:return[2,new(i.apply(AG,[void 0,o.sent(),r("decl.title","Declarations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?r("decl.noResultWord","No declaration found for '{0}'",e.word):r("decl.generic.noResults","No declaration found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeDeclarationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleDeclarations},t}(oq);Lm((YK=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.id,label:r("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:xf.and(xE.hasDeclarationProvider,xE.isInEmbeddedEditor.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:r({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})||this}return tq(t,e),t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?r("decl.noResultWord","No declaration found for '{0}'",e.word):r("decl.generic.noResults","No declaration found")},t}(aq),YK.id="editor.action.revealDeclaration",YK)),Lm(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:r("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:xf.and(xE.hasDeclarationProvider,Yj.notInPeekEditor,xE.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:3}})||this}return tq(t,e),t}(aq));var lq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tq(t,e),t.prototype._getLocationModel=function(e,t,n){return nq(this,void 0,void 0,(function(){var i;return iq(this,(function(o){switch(o.label){case 0:return i=AG.bind,[4,BK(e,t,n)];case 1:return[2,new(i.apply(AG,[void 0,o.sent(),r("typedef.title","Type Definitions")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?r("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):r("goToTypeDefinition.generic.noResults","No type definition found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeTypeDefinitionCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleTypeDefinitions},t}(oq);Lm((XK=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:r("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:xf.and(xE.hasTypeDefinitionProvider,xE.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:xE.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:19,group:"4_symbol_nav",order:3,title:r({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})||this}return tq(t,e),t}(lq),XK.ID="editor.action.goToTypeDefinition",XK)),Lm((ZK=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:r("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:xf.and(xE.hasTypeDefinitionProvider,Yj.notInPeekEditor,xE.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:4}})||this}return tq(t,e),t}(lq),ZK.ID="editor.action.peekTypeDefinition",ZK));var uq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tq(t,e),t.prototype._getLocationModel=function(e,t,n){return nq(this,void 0,void 0,(function(){var i;return iq(this,(function(o){switch(o.label){case 0:return i=AG.bind,[4,FK(e,t,n)];case 1:return[2,new(i.apply(AG,[void 0,o.sent(),r("impl.title","Implementations")]))]}}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&e.word?r("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):r("goToImplementation.generic.noResults","No implementation found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeImplementationCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleImplementations},t}(oq);Lm((JK=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:t.ID,label:r("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:xf.and(xE.hasImplementationProvider,xE.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:xE.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:19,group:"4_symbol_nav",order:4,title:r({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})||this}return tq(t,e),t}(uq),JK.ID="editor.action.goToImplementation",JK)),Lm((QK=function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:t.ID,label:r("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:xf.and(xE.hasImplementationProvider,Yj.notInPeekEditor,xE.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:xE.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:8,group:"peek",order:5}})||this}return tq(t,e),t}(uq),QK.ID="editor.action.peekImplementation",QK));var cq=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tq(t,e),t.prototype._getNoResultFoundMessage=function(e){return e?r("references.no","No references found for '{0}'",e.word):r("references.noGeneric","No references found")},t.prototype._getAlternativeCommand=function(e){return e.getOption(41).alternativeReferenceCommand},t.prototype._getGoToPreference=function(e){return e.getOption(41).multipleReferences},t}(oq);Lm(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:r("goToReferences.label","Go to References"),alias:"Go to References",precondition:xf.and(xE.hasReferenceProvider,Yj.notInPeekEditor,xE.isInEmbeddedEditor.toNegated()),kbOpts:{kbExpr:xE.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:19,group:"4_symbol_nav",order:5,title:r({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})||this}return tq(t,e),t.prototype._getLocationModel=function(e,t,n){return nq(this,void 0,void 0,(function(){var i;return iq(this,(function(o){switch(o.label){case 0:return i=AG.bind,[4,VK(e,t,!0,n)];case 1:return[2,new(i.apply(AG,[void 0,o.sent(),r("ref.title","References")]))]}}))}))},t}(cq)),Lm(function(e){function t(){return e.call(this,{openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:r("references.action.label","Peek References"),alias:"Peek References",precondition:xf.and(xE.hasReferenceProvider,Yj.notInPeekEditor,xE.isInEmbeddedEditor.toNegated()),contextMenuOpts:{menuId:8,group:"peek",order:6}})||this}return tq(t,e),t.prototype._getLocationModel=function(e,t,n){return nq(this,void 0,void 0,(function(){var i;return iq(this,(function(o){switch(o.label){case 0:return i=AG.bind,[4,VK(e,t,!1,n)];case 1:return[2,new(i.apply(AG,[void 0,o.sent(),r("ref.title","References")]))]}}))}))},t}(cq));var hq=function(e){function t(t,n,i){var o=e.call(this,t,{id:"editor.action.goToLocation",label:r("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:xf.and(Yj.notInPeekEditor,xE.isInEmbeddedEditor.toNegated())})||this;return o._references=n,o._gotoMultipleBehaviour=i,o}return tq(t,e),t.prototype._getLocationModel=function(e,t,n){return nq(this,void 0,void 0,(function(){return iq(this,(function(e){return[2,new AG(this._references,r("generic.title","Locations"))]}))}))},t.prototype._getNoResultFoundMessage=function(e){return e&&r("generic.noResult","No results for '{0}'",e.word)||""},t.prototype._getGoToPreference=function(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(41).multipleReferences},t.prototype._getAlternativeCommand=function(){return""},t}(oq);Ya.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Lt},{name:"position",description:"The position at which to start",constraint:yn.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,i,o,r){return nq(void 0,void 0,void 0,(function(){var s,a;return iq(this,(function(l){switch(l.label){case 0:return Ta(Lt.isUri(t)),Ta(yn.isIPosition(n)),Ta(Array.isArray(i)),Ta("undefined"===typeof o||"string"===typeof o),Ta("undefined"===typeof r||"boolean"===typeof r),s=e.get(Rn),[4,s.openCodeEditor({resource:t},s.getFocusedCodeEditor())];case 1:return a=l.sent(),hp(a)?(a.setPosition(n),a.revealPositionInCenterIfOutsideViewport(n,0),[2,a.invokeWithinContext((function(e){var t=new hq({muteMessage:!0,openInPeek:Boolean(r),openToSide:!1},i,o);e.get(In).invokeFunction(t.run.bind(t),a)}))]):[2]}}))}))}}),Ya.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Lt},{name:"position",description:"The position at which to start",constraint:yn.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:function(e,t,n,i,o){return nq(void 0,void 0,void 0,(function(){return iq(this,(function(r){return e.get(qa).executeCommand("editor.action.goToLocations",t,n,i,o,!0),[2]}))}))}}),Ya.registerCommand({id:"editor.action.findReferences",handler:function(e,t,n){Ta(Lt.isUri(t)),Ta(yn.isIPosition(n));var i=e.get(Rn);return i.openCodeEditor({resource:t},i.getFocusedCodeEditor()).then((function(e){if(hp(e)&&e.hasModel()){var t=OK.get(e);if(t){var i=_i((function(t){return VK(e.getModel(),yn.lift(n),!1,t).then((function(e){return new AG(e,r("ref.title","References"))}))})),o=new bn(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(o,i,!1))}}}))}}),Ya.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations");n("eb68");var dq=function(){function e(e,t){var n,i;void 0===e&&(e=""),void 0===t&&(t=!1),this._value=e,"boolean"===typeof t?(this._isTrusted=t,this._supportThemeIcons=!1):(this._isTrusted=null!==(n=t.isTrusted)&&void 0!==n&&n,this._supportThemeIcons=null!==(i=t.supportThemeIcons)&&void 0!==i&&i)}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isTrusted",{get:function(){return this._isTrusted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supportThemeIcons",{get:function(){return this._supportThemeIcons},enumerable:!0,configurable:!0}),e.prototype.appendText=function(e){return this._value+=(this._supportThemeIcons?w$(e):e).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&").replace("\n","\n\n"),this},e.prototype.appendMarkdown=function(e){return this._value+=e,this},e.prototype.appendCodeblock=function(e,t){return this._value+="\n```",this._value+=e,this._value+="\n",this._value+=t,this._value+="\n```\n",this},e}();function pq(e){return fq(e)?!e.value:!Array.isArray(e)||e.every(pq)}function fq(e){return e instanceof dq||!(!e||"object"!==typeof e)&&("string"===typeof e.value&&("boolean"===typeof e.isTrusted||void 0===e.isTrusted)&&("boolean"===typeof e.supportThemeIcons||void 0===e.supportThemeIcons))}function gq(e,t){return!e&&!t||!(!e||!t)&&(Array.isArray(e)&&Array.isArray(t)?Di(e,t,mq):!(!fq(e)||!fq(t))&&mq(e,t))}function mq(e,t){return e===t||!(!e||!t)&&(e.value===t.value&&e.isTrusted===t.isTrusted&&e.supportThemeIcons===t.supportThemeIcons)}function _q(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}function vq(e){var t=[],n=e.split("|").map((function(e){return e.trim()}));e=n[0];var i=n[1];if(i){var o=/height=(\d+)/.exec(i),r=/width=(\d+)/.exec(i),s=o?o[1]:"",a=r?r[1]:"",l=isFinite(parseInt(a)),u=isFinite(parseInt(s));l&&t.push('width="'+a+'"'),u&&t.push('height="'+s+'"')}return{href:e,dimensions:t}}var yq=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function bq(e,t){return!!e[t]}var wq=function(){function e(e,t){this.target=e.target,this.hasTriggerModifier=bq(e.event,t.triggerModifier),this.hasSideBySideModifier=bq(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=Hn||e.event.detail<=1}return e}(),Cq=function(){function e(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=bq(e,t.triggerModifier)}return e}(),Sq=function(){function e(e,t,n,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=i}return e.prototype.equals=function(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier},e}();function Eq(e){return"altKey"===e?s["e"]?new Sq(57,"metaKey",6,"altKey"):new Sq(5,"ctrlKey",6,"altKey"):s["e"]?new Sq(6,"altKey",57,"metaKey"):new Sq(6,"altKey",5,"ctrlKey")}var Tq=function(e){function t(t){var n=e.call(this)||this;return n._onMouseMoveOrRelevantKeyDown=n._register(new Ze),n.onMouseMoveOrRelevantKeyDown=n._onMouseMoveOrRelevantKeyDown.event,n._onExecute=n._register(new Ze),n.onExecute=n._onExecute.event,n._onCancel=n._register(new Ze),n.onCancel=n._onCancel.event,n._editor=t,n._opts=Eq(n._editor.getOption(59)),n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._register(n._editor.onDidChangeConfiguration((function(e){if(e.hasChanged(59)){var t=Eq(n._editor.getOption(59));if(n._opts.equals(t))return;n._opts=t,n.lastMouseMoveEvent=null,n.hasTriggerKeyOnMouseDown=!1,n._onCancel.fire()}}))),n._register(n._editor.onMouseMove((function(e){return n.onEditorMouseMove(new wq(e,n._opts))}))),n._register(n._editor.onMouseDown((function(e){return n.onEditorMouseDown(new wq(e,n._opts))}))),n._register(n._editor.onMouseUp((function(e){return n.onEditorMouseUp(new wq(e,n._opts))}))),n._register(n._editor.onKeyDown((function(e){return n.onEditorKeyDown(new Cq(e,n._opts))}))),n._register(n._editor.onKeyUp((function(e){return n.onEditorKeyUp(new Cq(e,n._opts))}))),n._register(n._editor.onMouseDrag((function(){return n.resetHandler()}))),n._register(n._editor.onDidChangeCursorSelection((function(e){return n.onDidChangeCursorSelection(e)}))),n._register(n._editor.onDidChangeModel((function(e){return n.resetHandler()}))),n._register(n._editor.onDidChangeModelContent((function(){return n.resetHandler()}))),n._register(n._editor.onDidScrollChange((function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&n.resetHandler()}))),n}return yq(t,e),t.prototype.onDidChangeCursorSelection=function(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this.resetHandler()},t.prototype.onEditorMouseMove=function(e){this.lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])},t.prototype.onEditorMouseDown=function(e){this.hasTriggerKeyOnMouseDown=e.hasTriggerModifier},t.prototype.onEditorMouseUp=function(e){this.hasTriggerKeyOnMouseDown&&this._onExecute.fire(e)},t.prototype.onEditorKeyDown=function(e){this.lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this.lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()},t.prototype.onEditorKeyUp=function(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()},t.prototype.resetHandler=function(){this.lastMouseMoveEvent=null,this.hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()},t}(Ae),kq=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},xq=function(e,t){return function(n,i){t(n,i,e)}},Lq=function(){function e(e,t,n){var i=this;this.textModelResolverService=t,this.modeService=n,this.toUnhook=new Re,this.toUnhookForKeyboard=new Re,this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;var o=new Tq(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],n=e[1];i.startFindDefinitionFromMouse(t,Aa(n))}))),this.toUnhook.add(o.onExecute((function(e){i.isEnabled(e)&&i.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((function(){i.removeLinkDecorations()}),(function(e){i.removeLinkDecorations(),ge(e)}))}))),this.toUnhook.add(o.onCancel((function(){i.removeLinkDecorations(),i.currentWordAtPosition=null})))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.startFindDefinitionFromCursor=function(e){var t=this;return this.startFindDefinition(e).then((function(){t.toUnhookForKeyboard.add(t.editor.onDidChangeCursorPosition((function(){t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear()}))),t.toUnhookForKeyboard.add(t.editor.onKeyDown((function(e){e&&(t.currentWordAtPosition=null,t.removeLinkDecorations(),t.toUnhookForKeyboard.clear())})))}))},e.prototype.startFindDefinitionFromMouse=function(e,t){if(!(9===e.target.type&&this.linkDecorations.length>0)){if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();var n=e.target.position;this.startFindDefinition(n)}},e.prototype.startFindDefinition=function(e){var t,n=this;this.toUnhookForKeyboard.clear();var i=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!i)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===i.startColumn&&this.currentWordAtPosition.endColumn===i.endColumn&&this.currentWordAtPosition.word===i.word)return Promise.resolve(0);this.currentWordAtPosition=i;var o=new YL(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=_i((function(t){return n.findDefinition(e,t)})),this.previousPromise.then((function(t){if(t&&t.length&&o.validate(n.editor))if(t.length>1)n.addDecoration(new bn(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn),(new dq).appendText(r("multipleResults","Click to show {0} definitions.",t.length)));else{var s=t[0];if(!s.uri)return;n.textModelResolverService.createModelReference(s.uri).then((function(t){if(t.object&&t.object.textEditorModel){var o=t.object.textEditorModel,r=s.range.startLineNumber;if(r<1||r>o.getLineCount())t.dispose();else{var a,l=n.getPreviewValue(o,r,s);a=s.originSelectionRange?bn.lift(s.originSelectionRange):new bn(e.lineNumber,i.startColumn,e.lineNumber,i.endColumn);var u=n.modeService.getModeIdByFilepathOrFirstLine(o.uri);n.addDecoration(a,(new dq).appendCodeblock(u||"",l)),t.dispose()}}else t.dispose()}))}else n.removeLinkDecorations()})).then(void 0,ge)},e.prototype.getPreviewValue=function(t,n,i){var o=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(t,n),r=o.endLineNumber-o.startLineNumber;r>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,n));var s=this.stripIndentationFromPreviewRange(t,n,o);return s},e.prototype.stripIndentationFromPreviewRange=function(e,t,n){for(var i=e.getLineFirstNonWhitespaceColumn(t),o=i,r=t+1;r<n.endLineNumber;r++){var s=e.getLineFirstNonWhitespaceColumn(r);o=Math.min(o,s)}var a=e.getValueInRange(n).replace(new RegExp("^\\s{"+(o-1)+"}","gm"),"").trim();return a},e.prototype.getPreviewRangeBasedOnIndentation=function(t,n){for(var i=t.getLineFirstNonWhitespaceColumn(n),o=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),r=n+1;r<o;r++){var s=t.getLineFirstNonWhitespaceColumn(r);if(i===s)break}return new bn(n,1,r+1,1)},e.prototype.getPreviewRangeBasedOnBrackets=function(t,n){var i=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),o=[],r=!0,s=t.findNextBracket(new yn(n,1));while(null!==s){if(0===o.length)o.push(s);else{var a=o[o.length-1];if(a.open[0]===s.open[0]&&a.isOpen&&!s.isOpen?o.pop():o.push(s),0===o.length){if(!r)return new bn(n,1,s.range.endLineNumber+1,1);r=!1}}var l=t.getLineMaxColumn(n),u=s.range.endLineNumber,c=s.range.endColumn;if(l===s.range.endColumn&&(u++,c=1),u>i)return new bn(n,1,i+1,1);s=t.findNextBracket(new yn(u,c))}return new bn(n,1,i+1,1)},e.prototype.addDecoration=function(e,t){var n={range:e,options:{inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])},e.prototype.removeLinkDecorations=function(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))},e.prototype.isEnabled=function(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&Pu.has(this.editor.getModel())},e.prototype.findDefinition=function(e,t){var n=this.editor.getModel();return n?MK(n,e,t):Promise.resolve(null)},e.prototype.gotoDefinition=function(e,t){var n=this;this.editor.setPosition(e);var i=new rq({openToSide:t,openInPeek:!1,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0});return this.editor.invokeWithinContext((function(e){return i.run(e,n.editor)}))},e.prototype.dispose=function(){this.toUnhook.dispose()},e.ID="editor.contrib.gotodefinitionatposition",e.MAX_SOURCE_PREVIEW_LINES=8,e=kq([xq(1,sc),xq(2,tO)],e),e}();Om(Lq.ID,Lq),w_((function(e,t){var n=e.getColor(aC);n&&t.addRule(".monaco-editor .goto-definition-link { color: "+n+" !important; }")}));var Iq;n("fe86");(function(e){function t(e){switch(e){case cp.Ignore:return"severity-ignore codicon-info";case cp.Info:return"codicon-info";case cp.Warning:return"codicon-warning";case cp.Error:return"codicon-error"}return""}e.className=t})(Iq||(Iq={})),w_((function(e,t){var n=e.getColor(YC);n&&t.addRule("\n\t\t\t.monaco-editor .zone-widget .codicon-error,\n\t\t\t.markers-panel .marker-icon.codicon-error,\n\t\t\t.extensions-viewlet > .extensions .codicon-error,\n\t\t\t.monaco-dialog-box .dialog-message-row .codicon-error {\n\t\t\t\tcolor: "+n+";\n\t\t\t}\n\t\t");var i=e.getColor(XC);n&&t.addRule("\n\t\t\t.monaco-editor .zone-widget .codicon-warning,\n\t\t\t.markers-panel .marker-icon.codicon-warning,\n\t\t\t.extensions-viewlet > .extensions .codicon-warning,\n\t\t\t.extension-editor .codicon-warning,\n\t\t\t.monaco-dialog-box .dialog-message-row .codicon-warning {\n\t\t\t\tcolor: "+i+";\n\t\t\t}\n\t\t");var o=e.getColor(ZC);n&&t.addRule("\n\t\t\t.monaco-editor .zone-widget .codicon-info,\n\t\t\t.markers-panel .marker-icon.codicon-info,\n\t\t\t.extensions-viewlet > .extensions .codicon-info,\n\t\t\t.extension-editor .codicon-info,\n\t\t\t.monaco-dialog-box .dialog-message-row .codicon-info {\n\t\t\t\tcolor: "+o+";\n\t\t\t}\n\t\t")}));var Oq=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Dq=function(){function e(e,t,n,i){var o=this;this._openerService=i,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new Re,this._editor=t;var r=document.createElement("div");r.className="descriptioncontainer",r.setAttribute("aria-live","assertive"),r.setAttribute("role","alert"),this._messageBlock=document.createElement("div"),fo(this._messageBlock,"message"),r.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),r.appendChild(this._relatedBlock),this._disposables.add(So(this._relatedBlock,"click",(function(e){e.preventDefault();var t=o._relatedDiagnostics.get(e.target);t&&n(t)}))),this._scrollable=new jT(r,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((function(e){r.style.left="-"+e.scrollLeft+"px",r.style.top="-"+e.scrollTop+"px"}))),this._disposables.add(this._scrollable)}return e.prototype.dispose=function(){Ie(this._disposables)},e.prototype.update=function(e){var t=this,n=e.source,i=e.message,o=e.relatedInformation,r=e.code,s=((null===n||void 0===n?void 0:n.length)||0)+"()".length;r&&(s+="string"===typeof r?r.length:r.value.length);var a=i.split(/\r\n|\r|\n/g);this._lines=a.length,this._longestLineLength=0;for(var l=0,u=a;l<u.length;l++){var c=u[l];this._longestLineLength=Math.max(c.length+s,this._longestLineLength)}so(this._messageBlock),this._editor.applyFontInfo(this._messageBlock);for(var h=this._messageBlock,d=0,p=a;d<p.length;d++){c=p[d];h=document.createElement("div"),h.innerText=c,""===c&&(h.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(h)}if(n||r){var f=document.createElement("span");if(fo(f,"details"),h.appendChild(f),n){var g=document.createElement("span");g.innerText=n,fo(g,"source"),f.appendChild(g)}if(r)if("string"===typeof r){var m=document.createElement("span");m.innerText="("+r+")",fo(m,"code"),f.appendChild(m)}else{this._codeLink=_r("a.code-link"),this._codeLink.setAttribute("href",""+r.link.toString()),this._codeLink.onclick=function(e){t._openerService.open(r.link),e.preventDefault(),e.stopPropagation()};m=pr(this._codeLink,_r("span"));m.innerText=r.value,f.appendChild(this._codeLink)}}if(so(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),Hi(o)){var _=this._relatedBlock.appendChild(document.createElement("div"));_.style.paddingTop=Math.floor(.66*this._editor.getOption(49))+"px",this._lines+=1;for(var v=0,y=o;v<y.length;v++){var b=y[v],w=document.createElement("div"),C=document.createElement("a");fo(C,"filename"),C.innerHTML=jG(b.resource)+"("+b.startLineNumber+", "+b.startColumn+"): ",C.title=zG(b.resource,void 0),this._relatedDiagnostics.set(C,b);var S=document.createElement("span");S.innerText=b.message,w.appendChild(C),w.appendChild(S),this._lines+=1,_.appendChild(w)}}var E=this._editor.getOption(34),T=Math.ceil(E.typicalFullwidthCharacterWidth*this._longestLineLength*.75),k=E.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:T,scrollHeight:k})},e.prototype.layout=function(e,t){this._scrollable.getDomNode().style.height=e+"px",this._scrollable.getDomNode().style.width=t+"px",this._scrollable.setScrollDimensions({width:t,height:e})},e.prototype.getHeightInLines=function(){return Math.min(17,this._lines)},e}(),Nq=function(e){function t(t,n,i,o){var r=e.call(this,t,{showArrow:!0,showFrame:!0,isAccessible:!0})||this;return r.actions=n,r._themeService=i,r._openerService=o,r._callOnDispose=new Re,r._onDidSelectRelatedInformation=new Ze,r.onDidSelectRelatedInformation=r._onDidSelectRelatedInformation.event,r._severity=IP.Warning,r._backgroundColor=My.white,r._applyTheme(i.getTheme()),r._callOnDispose.add(i.onThemeChange(r._applyTheme.bind(r))),r.create(),r}return Oq(t,e),t.prototype._applyTheme=function(e){this._backgroundColor=e.getColor(Vq);var t=Pq;this._severity===IP.Warning?t=Fq:this._severity===IP.Info&&(t=Bq);var n=e.getColor(t);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(vG),secondaryHeadingColor:e.getColor(yG)})},t.prototype._applyStyles=function(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),e.prototype._applyStyles.call(this)},t.prototype.dispose=function(){this._callOnDispose.dispose(),e.prototype.dispose.call(this)},t.prototype._fillHead=function(t){e.prototype._fillHead.call(this,t),this._actionbarWidget.push(this.actions,{label:!1,icon:!0,index:0})},t.prototype._fillTitleIcon=function(e){this._icon=pr(e,_r(""))},t.prototype._getActionBarOptions=function(){return{orientation:0}},t.prototype._fillBody=function(e){var t=this;this._parentContainer=e,fo(e,"marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new Dq(this._container,this.editor,(function(e){return t._onDidSelectRelatedInformation.fire(e)}),this._openerService),this._disposables.add(this._message)},t.prototype.show=function(e,t){throw new Error("call showAtMarker")},t.prototype.showAtMarker=function(t,n,i){this._container.classList.remove("stale"),this._message.update(t),this._severity=t.severity,this._applyTheme(this._themeService.getTheme());var o=bn.lift(t),s=this.editor.getPosition(),a=s&&o.containsPosition(s)?s:o.getStartPosition();e.prototype.show.call(this,a,this.computeRequiredHeight());var l=this.editor.getModel();if(l){var u=i>1?r("problems","{0} of {1} problems",n,i):r("change","{0} of {1} problem",n,i);this.setTitle(ha(l.uri),u)}this._icon.className="codicon "+Iq.className(IP.toSeverity(this._severity)),this.editor.revealPositionInCenter(a,0),this.editor.focus()},t.prototype.updateMarker=function(e){this._container.classList.remove("stale"),this._message.update(e)},t.prototype.showStale=function(){this._container.classList.add("stale"),this._relayout()},t.prototype._doLayoutBody=function(t,n){e.prototype._doLayoutBody.call(this,t,n),this._heightInPixel=t,this._message.layout(t,n),this._container.style.height=t+"px"},t.prototype._onWidth=function(e){this._message.layout(this._heightInPixel,e)},t.prototype._relayout=function(){e.prototype._relayout.call(this,this.computeRequiredHeight())},t.prototype.computeRequiredHeight=function(){return 3+this._message.getHeightInLines()},t}(mG),Rq=tS(Dw,Nw),Aq=tS(Rw,Aw),Mq=tS(Mw,Pw),Pq=Zb("editorMarkerNavigationError.background",{dark:Rq,light:Rq,hc:Rq},r("editorMarkerNavigationError","Editor marker navigation widget error color.")),Fq=Zb("editorMarkerNavigationWarning.background",{dark:Aq,light:Aq,hc:Aq},r("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Bq=Zb("editorMarkerNavigationInfo.background",{dark:Mq,light:Mq,hc:Mq},r("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Vq=Zb("editorMarkerNavigation.background",{dark:"#2D2D30",light:My.white,hc:"#0C141F"},r("editorMarkerNavigationBackground","Editor marker navigation widget background."));w_((function(e,t){var n=e.getColor(iw);n&&(t.addRule(".monaco-editor .marker-widget a { color: "+n+"; }"),t.addRule(".monaco-editor .marker-widget a.code-link span:hover { color: "+n+"; }"))}));var Hq=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$q=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},Wq=function(e,t){return function(n,i){t(n,i,e)}},Uq=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},zq=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},jq=function(){function e(e,t){var n=this;this._toUnbind=new Re,this._editor=e,this._markers=[],this._nextIdx=-1,this._ignoreSelectionChange=!1,this._onCurrentMarkerChanged=new Ze,this._onMarkerSetChanged=new Ze,this.setMarkers(t),this._toUnbind.add(this._editor.onDidDispose((function(){return n.dispose()}))),this._toUnbind.add(this._editor.onDidChangeCursorPosition((function(){n._ignoreSelectionChange||n.currentMarker&&n._editor.getPosition()&&bn.containsPosition(n.currentMarker,n._editor.getPosition())||(n._nextIdx=-1)})))}return Object.defineProperty(e.prototype,"onCurrentMarkerChanged",{get:function(){return this._onCurrentMarkerChanged.event},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onMarkerSetChanged",{get:function(){return this._onMarkerSetChanged.event},enumerable:!0,configurable:!0}),e.prototype.setMarkers=function(e){var t=this._nextIdx>=0?this._markers[this._nextIdx]:void 0;this._markers=e||[],this._markers.sort(Kq.compareMarker),this._nextIdx=t?Math.max(-1,Ni(this._markers,t,Kq.compareMarker)):-1,this._onMarkerSetChanged.fire(this)},e.prototype.withoutWatchingEditorPosition=function(e){this._ignoreSelectionChange=!0;try{e()}finally{this._ignoreSelectionChange=!1}},e.prototype._initIdx=function(e){for(var t=!1,n=this._editor.getPosition(),i=0;i<this._markers.length;i++){var o=bn.lift(this._markers[i]);if(o.isEmpty()&&this._editor.getModel()){var r=this._editor.getModel().getWordAtPosition(o.getStartPosition());r&&(o=new bn(o.startLineNumber,r.startColumn,o.startLineNumber,r.endColumn))}if(n&&(o.containsPosition(n)||n.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=i,t=!0;break}}t||(this._nextIdx=e?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)},Object.defineProperty(e.prototype,"currentMarker",{get:function(){return this.canNavigate()?this._markers[this._nextIdx]:void 0},set:function(e){var t=this._nextIdx;this._nextIdx=-1,e&&(this._nextIdx=this.indexOf(e)),this._nextIdx!==t&&this._onCurrentMarkerChanged.fire(e)},enumerable:!0,configurable:!0}),e.prototype.move=function(e,t){if(!this.canNavigate())return this._onCurrentMarkerChanged.fire(void 0),!t;var n=this._nextIdx,i=!1;if(-1===this._nextIdx?this._initIdx(e):e?t||this._nextIdx+1<this._markers.length?this._nextIdx=(this._nextIdx+1)%this._markers.length:i=!0:e||(t||this._nextIdx>0?this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length:i=!0),n!==this._nextIdx){var o=this._markers[this._nextIdx];this._onCurrentMarkerChanged.fire(o)}return i},e.prototype.canNavigate=function(){return this._markers.length>0},e.prototype.findMarkerAtPosition=function(e){return Ji(this._markers,(function(t){return bn.containsPosition(t,e)}))},Object.defineProperty(e.prototype,"total",{get:function(){return this._markers.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return 1+this._markers.indexOf(e)},e.prototype.dispose=function(){this._toUnbind.dispose()},e}(),Gq=function(){function e(e,t,n,i,o,r,s){this._markerService=t,this._contextKeyService=n,this._themeService=i,this._editorService=o,this._keybindingService=r,this._openerService=s,this._model=null,this._widget=null,this._disposeOnClose=new Re,this._editor=e,this._widgetVisible=Jq.bindTo(this._contextKeyService)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._cleanUp(),this._disposeOnClose.dispose()},e.prototype._cleanUp=function(){this._widgetVisible.reset(),this._disposeOnClose.clear(),this._widget=null,this._model=null},e.prototype.getOrCreateModel=function(){var e=this;if(this._model)return this._model;var t=this._getMarkers();this._model=new jq(this._editor,t),this._markerService.onMarkerChanged(this._onMarkerChanged,this,this._disposeOnClose);var n=this._keybindingService.lookupKeybinding(Yq.ID),i=this._keybindingService.lookupKeybinding(qq.ID),o=[new rm(qq.ID,qq.LABEL+(i?" ("+i.getLabel()+")":""),"show-next-problem codicon-chevron-down",this._model.canNavigate(),(function(){return Uq(e,void 0,void 0,(function(){return zq(this,(function(e){return this._model&&this._model.move(!0,!0),[2]}))}))})),new rm(Yq.ID,Yq.LABEL+(n?" ("+n.getLabel()+")":""),"show-previous-problem codicon-chevron-up",this._model.canNavigate(),(function(){return Uq(e,void 0,void 0,(function(){return zq(this,(function(e){return this._model&&this._model.move(!1,!0),[2]}))}))}))];this._widget=new Nq(this._editor,o,this._themeService,this._openerService),this._widgetVisible.set(!0),this._widget.onDidClose((function(){return e.closeMarkersNavigation()}),this,this._disposeOnClose),this._disposeOnClose.add(this._model),this._disposeOnClose.add(this._widget);for(var r=0,s=o;r<s.length;r++){var a=s[r];this._disposeOnClose.add(a)}return this._disposeOnClose.add(this._widget.onDidSelectRelatedInformation((function(t){e._editorService.openCodeEditor({resource:t.resource,options:{pinned:!0,revealIfOpened:!0,selection:bn.lift(t).collapseToStart()}},e._editor).then(void 0,ge),e.closeMarkersNavigation(!1)}))),this._disposeOnClose.add(this._editor.onDidChangeModel((function(){return e._cleanUp()}))),this._disposeOnClose.add(this._model.onCurrentMarkerChanged((function(t){t&&e._model?e._model.withoutWatchingEditorPosition((function(){e._widget&&e._model&&e._widget.showAtMarker(t,e._model.indexOf(t),e._model.total)})):e._cleanUp()}))),this._disposeOnClose.add(this._model.onMarkerSetChanged((function(){if(e._widget&&e._widget.position&&e._model){var t=e._model.findMarkerAtPosition(e._widget.position);t?e._widget.updateMarker(t):e._widget.showStale()}}))),this._model},e.prototype.closeMarkersNavigation=function(e){void 0===e&&(e=!0),this._cleanUp(),e&&this._editor.focus()},e.prototype.show=function(e){var t=this.getOrCreateModel();t.currentMarker=e},e.prototype._onMarkerChanged=function(e){var t=this._editor.getModel();t&&this._model&&e.some((function(e){return ca(t.uri,e)}))&&this._model.setMarkers(this._getMarkers())},e.prototype._getMarkers=function(){var e=this._editor.getModel();return e?this._markerService.read({resource:e.uri,severities:IP.Error|IP.Warning|IP.Info}):[]},e.ID="editor.contrib.markerController",e=$q([Wq(1,AP),Wq(2,Bf),Wq(3,p_),Wq(4,Rn),Wq(5,WI),Wq(6,Ja)],e),e}(),Kq=function(e){function t(t,n,i){var o=e.call(this,i)||this;return o._isNext=t,o._multiFile=n,o}return Hq(t,e),t.prototype.run=function(e,n){var i=this,o=e.get(AP),r=e.get(Rn),s=Gq.get(n);if(!s)return Promise.resolve(void 0);var a=s.getOrCreateModel(),l=a.move(this._isNext,!this._multiFile);if(!l||!this._multiFile)return Promise.resolve(void 0);var u=o.read({severities:IP.Error|IP.Warning|IP.Info}).sort(t.compareMarker);if(0===u.length)return Promise.resolve(void 0);var c=n.getModel();if(!c)return Promise.resolve(void 0);var h=a.currentMarker||{resource:c.uri,severity:IP.Error,startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},d=Ni(u,h,t.compareMarker);d<0?(d=~d,d%=u.length):d=this._isNext?(d+1)%u.length:(d+u.length-1)%u.length;var p=u[d];return ca(p.resource,c.uri)?(a.move(this._isNext,!0),Promise.resolve(void 0)):(s.closeMarkersNavigation(),r.openCodeEditor({resource:p.resource,options:{pinned:!1,revealIfOpened:!0,revealInCenterIfOutsideViewport:!0,selection:p}},n).then((function(e){if(e)return e.getAction(i.id).run()})))},t.compareMarker=function(e,t){var n=qr(e.resource.toString(),t.resource.toString());return 0===n&&(n=IP.compare(e.severity,t.severity)),0===n&&(n=bn.compareRangesUsingStarts(e,t)),n},t}(Cm),qq=function(e){function t(){return e.call(this,!0,!1,{id:t.ID,label:t.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:xE.writable,kbOpts:{kbExpr:xE.focus,primary:578,weight:100}})||this}return Hq(t,e),t.ID="editor.action.marker.next",t.LABEL=r("markerAction.next.label","Go to Next Problem (Error, Warning, Info)"),t}(Kq),Yq=function(e){function t(){return e.call(this,!1,!1,{id:t.ID,label:t.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:xE.writable,kbOpts:{kbExpr:xE.focus,primary:1602,weight:100}})||this}return Hq(t,e),t.ID="editor.action.marker.prev",t.LABEL=r("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),t}(Kq),Xq=function(e){function t(){return e.call(this,!0,!0,{id:"editor.action.marker.nextInFiles",label:r("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:xE.writable,kbOpts:{kbExpr:xE.focus,primary:66,weight:100}})||this}return Hq(t,e),t}(Kq),Zq=function(e){function t(){return e.call(this,!1,!0,{id:"editor.action.marker.prevInFiles",label:r("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:xE.writable,kbOpts:{kbExpr:xE.focus,primary:1090,weight:100}})||this}return Hq(t,e),t}(Kq);Om(Gq.ID,Gq),Lm(qq),Lm(Yq),Lm(Xq),Lm(Zq);var Jq=new Ff("markersNavigationVisible",!1),Qq=wm.bindToContribution(Gq.get);xm(new Qq({id:"closeMarkersNavigation",precondition:Jq,handler:function(e){return e.closeMarkersNavigation()},kbOpts:{weight:150,kbExpr:xE.focus,primary:9,secondary:[1033]}})),fm.appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.nextInFiles",title:r({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem")},order:1}),fm.appendMenuItem(19,{group:"6_problem_nav",command:{id:"editor.action.marker.prevInFiles",title:r({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem")},order:2});n("b805");var eY=function(){function e(e,t,n){this.presentationIndex=n,this._onColorFlushed=new Ze,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new Ze,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new Ze,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentation",{get:function(){return this.colorPresentations[this.presentationIndex]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"colorPresentations",{get:function(){return this._colorPresentations},set:function(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)},enumerable:!0,configurable:!0}),e.prototype.selectNextColorPresentation=function(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)},e.prototype.guessColorPresentation=function(e,t){for(var n=0;n<this.colorPresentations.length;n++)if(t===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}},e.prototype.flushColor=function(){this._onColorFlushed.fire(this._color)},e}(),tY=(n("10f4"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),nY=_r,iY=function(e){function t(t,n,i){var o=e.call(this)||this;o.model=n,o.domNode=nY(".colorpicker-header"),pr(t,o.domNode),o.pickedColorNode=pr(o.domNode,nY(".picked-color"));var r=pr(o.domNode,nY(".original-color"));return r.style.backgroundColor=My.Format.CSS.format(o.model.originalColor)||"",o.backgroundColor=i.getTheme().getColor(iC)||My.white,o._register(w_((function(e,t){o.backgroundColor=e.getColor(iC)||My.white}))),o._register(bo(o.pickedColorNode,ar.CLICK,(function(){return o.model.selectNextColorPresentation()}))),o._register(bo(r,ar.CLICK,(function(){o.model.color=o.model.originalColor,o.model.flushColor()}))),o._register(n.onDidChangeColor(o.onDidChangeColor,o)),o._register(n.onDidChangePresentation(o.onDidChangePresentation,o)),o.pickedColorNode.style.backgroundColor=My.Format.CSS.format(n.color)||"",vo(o.pickedColorNode,"light",n.color.rgba.a<.5?o.backgroundColor.isLighter():n.color.isLighter()),o}return tY(t,e),t.prototype.onDidChangeColor=function(e){this.pickedColorNode.style.backgroundColor=My.Format.CSS.format(e)||"",vo(this.pickedColorNode,"light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()},t.prototype.onDidChangePresentation=function(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""},t}(Ae),oY=function(e){function t(t,n,i){var o=e.call(this)||this;return o.model=n,o.pixelRatio=i,o.domNode=nY(".colorpicker-body"),pr(t,o.domNode),o.saturationBox=new rY(o.domNode,o.model,o.pixelRatio),o._register(o.saturationBox),o._register(o.saturationBox.onDidChange(o.onDidSaturationValueChange,o)),o._register(o.saturationBox.onColorFlushed(o.flushColor,o)),o.opacityStrip=new aY(o.domNode,o.model),o._register(o.opacityStrip),o._register(o.opacityStrip.onDidChange(o.onDidOpacityChange,o)),o._register(o.opacityStrip.onColorFlushed(o.flushColor,o)),o.hueStrip=new lY(o.domNode,o.model),o._register(o.hueStrip),o._register(o.hueStrip.onDidChange(o.onDidHueChange,o)),o._register(o.hueStrip.onColorFlushed(o.flushColor,o)),o}return tY(t,e),t.prototype.flushColor=function(){this.model.flushColor()},t.prototype.onDidSaturationValueChange=function(e){var t=e.s,n=e.v,i=this.model.color.hsva;this.model.color=new My(new Ay(i.h,t,n,i.a))},t.prototype.onDidOpacityChange=function(e){var t=this.model.color.hsva;this.model.color=new My(new Ay(t.h,t.s,t.v,e))},t.prototype.onDidHueChange=function(e){var t=this.model.color.hsva,n=360*(1-e);this.model.color=new My(new Ay(360===n?0:n,t.s,t.v,t.a))},t.prototype.layout=function(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()},t}(Ae),rY=function(e){function t(t,n,i){var o=e.call(this)||this;return o.model=n,o.pixelRatio=i,o._onDidChange=new Ze,o.onDidChange=o._onDidChange.event,o._onColorFlushed=new Ze,o.onColorFlushed=o._onColorFlushed.event,o.domNode=nY(".saturation-wrap"),pr(t,o.domNode),o.canvas=document.createElement("canvas"),o.canvas.className="saturation-box",pr(o.domNode,o.canvas),o.selection=nY(".saturation-selection"),pr(o.domNode,o.selection),o.layout(),o._register(To(o.domNode,(function(e){return o.onMouseDown(e)}))),o._register(o.model.onDidChangeColor(o.onDidChangeColor,o)),o.monitor=null,o}return tY(t,e),t.prototype.onMouseDown=function(e){var t=this;this.monitor=this._register(new Um);var n=Uo(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,Wm,(function(e){return t.onDidChangePosition(e.posx-n.left,e.posy-n.top)}),(function(){return null}));var i=ko(document,(function(){t._onColorFlushed.fire(),i.dispose(),t.monitor&&(t.monitor.stopMonitoring(!0),t.monitor=null)}),!0)},t.prototype.onDidChangePosition=function(e,t){var n=Math.max(0,Math.min(1,e/this.width)),i=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,i),this._onDidChange.fire({s:n,v:i})},t.prototype.layout=function(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();var e=this.model.color.hsva;this.paintSelection(e.s,e.v)},t.prototype.paint=function(){var e=this.model.color.hsva,t=new My(new Ay(e.h,1,1,1)),n=this.canvas.getContext("2d"),i=n.createLinearGradient(0,0,this.canvas.width,0);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)");var o=n.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=My.Format.CSS.format(t),n.fill(),n.fillStyle=i,n.fill(),n.fillStyle=o,n.fill()},t.prototype.paintSelection=function(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"},t.prototype.onDidChangeColor=function(){this.monitor&&this.monitor.isMonitoring()||this.paint()},t}(Ae),sY=function(e){function t(t,n){var i=e.call(this)||this;return i.model=n,i._onDidChange=new Ze,i.onDidChange=i._onDidChange.event,i._onColorFlushed=new Ze,i.onColorFlushed=i._onColorFlushed.event,i.domNode=pr(t,nY(".strip")),i.overlay=pr(i.domNode,nY(".overlay")),i.slider=pr(i.domNode,nY(".slider")),i.slider.style.top="0px",i._register(To(i.domNode,(function(e){return i.onMouseDown(e)}))),i.layout(),i}return tY(t,e),t.prototype.layout=function(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;var e=this.getValue(this.model.color);this.updateSliderPosition(e)},t.prototype.onMouseDown=function(e){var t=this,n=this._register(new Um),i=Uo(this.domNode);fo(this.domNode,"grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),n.startMonitoring(e.target,e.buttons,Wm,(function(e){return t.onDidChangeTop(e.posy-i.top)}),(function(){return null}));var o=ko(document,(function(){t._onColorFlushed.fire(),o.dispose(),n.stopMonitoring(!0),mo(t.domNode,"grabbing")}),!0)},t.prototype.onDidChangeTop=function(e){var t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)},t.prototype.updateSliderPosition=function(e){this.slider.style.top=(1-e)*this.height+"px"},t}(Ae),aY=function(e){function t(t,n){var i=e.call(this,t,n)||this;return fo(i.domNode,"opacity-strip"),i._register(n.onDidChangeColor(i.onDidChangeColor,i)),i.onDidChangeColor(i.model.color),i}return tY(t,e),t.prototype.onDidChangeColor=function(e){var t=e.rgba,n=t.r,i=t.g,o=t.b,r=new My(new Ny(n,i,o,1)),s=new My(new Ny(n,i,o,0));this.overlay.style.background="linear-gradient(to bottom, "+r+" 0%, "+s+" 100%)"},t.prototype.getValue=function(e){return e.hsva.a},t}(sY),lY=function(e){function t(t,n){var i=e.call(this,t,n)||this;return fo(i.domNode,"hue-strip"),i}return tY(t,e),t.prototype.getValue=function(e){return 1-e.hsva.h/360},t}(sY),uY=function(e){function t(t,n,i,o){var r=e.call(this)||this;r.model=n,r.pixelRatio=i,r._register(Fn((function(){return r.layout()})));var s=nY(".colorpicker-widget");t.appendChild(s);var a=new iY(s,r.model,o);return r.body=new oY(s,r.model,r.pixelRatio),r._register(a),r._register(r.body),r}return tY(t,e),t.prototype.layout=function(){this.body.layout()},t}(fT);function cY(e,t,n){var i=Ru.ordered(e),o=i.map((function(i){return Promise.resolve(i.provideHover(e,t,n)).then((function(e){return e&&hY(e)?e:void 0}),(function(e){me(e)}))}));return Promise.all(o).then(Bi)}function hY(e){var t="undefined"!==typeof e.range,n="undefined"!==typeof e.contents&&e.contents&&e.contents.length>0;return t&&n}Tm("_executeHoverProvider",(function(e,t){return cY(e,t,qe.None)}));var dY,pY=function(){function e(e,t,n,i,o){var r=this;this._computer=e,this._state=0,this._hoverTime=o,this._firstWaitScheduler=new ki((function(){return r._triggerAsyncComputation()}),0),this._secondWaitScheduler=new ki((function(){return r._triggerSyncComputation()}),0),this._loadingMessageScheduler=new ki((function(){return r._showLoadingMessage()}),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=n,this._progressCallback=i}return e.prototype.setHoverTime=function(e){this._hoverTime=e},e.prototype._firstWaitTime=function(){return this._hoverTime/2},e.prototype._secondWaitTime=function(){return this._hoverTime/2},e.prototype._loadingMessageTime=function(){return 3*this._hoverTime},e.prototype._triggerAsyncComputation=function(){var e=this;this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=_i((function(t){return e._computer.computeAsync(t)})),this._asyncComputationPromise.then((function(t){e._asyncComputationPromiseDone=!0,e._withAsyncResult(t)}),(function(t){return e._onError(t)}))):this._asyncComputationPromiseDone=!0},e.prototype._triggerSyncComputation=function(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))},e.prototype._showLoadingMessage=function(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())},e.prototype._withAsyncResult=function(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))},e.prototype._onComplete=function(e){this._completeCallback&&this._completeCallback(e)},e.prototype._onError=function(e){this._errorCallback?this._errorCallback(e):ge(e)},e.prototype._onProgress=function(e){this._progressCallback&&this._progressCallback(e)},e.prototype.start=function(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}},e.prototype.cancel=function(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0},e}(),fY=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gY=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},mY=function(e){function t(t,n){var i=e.call(this)||this;return i.allowEditorOverflow=!0,i._id=t,i._editor=n,i._isVisible=!1,i._stoleFocus=!1,i._containerDomNode=document.createElement("div"),i._containerDomNode.className="monaco-editor-hover hidden",i._containerDomNode.tabIndex=0,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover-content",i.scrollbar=new KT(i._domNode,{}),i._register(i.scrollbar),i._containerDomNode.appendChild(i.scrollbar.getDomNode()),i.onkeydown(i._containerDomNode,(function(e){e.equals(9)&&i.hide()})),i._register(i._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&i.updateFont()}))),i._editor.onDidLayoutChange((function(e){return i.layout()})),i.layout(),i._editor.addContentWidget(i),i._showAtPosition=null,i._showAtRange=null,i._stoleFocus=!1,i}return fY(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,vo(this._containerDomNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._containerDomNode},t.prototype.showAt=function(e,t,n){this._showAtPosition=e,this._showAtRange=t,this.isVisible=!0,this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=n,n&&this._containerDomNode.focus()},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1,this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus())},t.prototype.getPosition=function(){return this.isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null},t.prototype.dispose=function(){this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));t.forEach((function(t){return e._editor.applyFontInfo(t)}))},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont(),this._editor.layoutContentWidget(this),this.onContentsChange()},t.prototype.onContentsChange=function(){this.scrollbar.scanDomNode()},t.prototype.layout=function(){var e=Math.max(this._editor.getLayoutInfo().height/4,250),t=this._editor.getOption(34),n=t.fontSize,i=t.lineHeight;this._domNode.style.fontSize=n+"px",this._domNode.style.lineHeight=i+"px",this._domNode.style.maxHeight=e+"px",this._domNode.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px"},t}(fT),_Y=function(e){function t(t,n){var i=e.call(this)||this;return i._id=t,i._editor=n,i._isVisible=!1,i._domNode=document.createElement("div"),i._domNode.className="monaco-editor-hover hidden",i._domNode.setAttribute("aria-hidden","true"),i._domNode.setAttribute("role","presentation"),i._showAtLineNumber=-1,i._register(i._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&i.updateFont()}))),i._editor.addOverlayWidget(i),i}return fY(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this._isVisible},set:function(e){this._isVisible=e,vo(this._domNode,"hidden",!this._isVisible)},enumerable:!0,configurable:!0}),t.prototype.getId=function(){return this._id},t.prototype.getDomNode=function(){return this._domNode},t.prototype.showAt=function(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);var t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop(),o=this._editor.getOption(49),r=this._domNode.clientHeight,s=n-i-(r-o)/2;this._domNode.style.left=t.glyphMarginLeft+t.glyphMarginWidth+"px",this._domNode.style.top=Math.max(Math.round(s),0)+"px"},t.prototype.hide=function(){this.isVisible&&(this.isVisible=!1)},t.prototype.getPosition=function(){return null},t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.updateFont=function(){var e=this,t=Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),n=Array.prototype.slice.call(this._domNode.getElementsByClassName("code"));gY(t,n).forEach((function(t){return e._editor.applyFontInfo(t)}))},t.prototype.updateContents=function(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()},t}(fT);(function(e){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||w.defaults,this.rules=t.normal,this.options.pedantic?this.rules=t.pedantic:this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,t._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,t.def=h(t.def).replace("label",t._label).replace("title",t._title).getRegex(),t.bullet=/(?:[*+-]|\d{1,9}\.)/,t.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,t.item=h(t.item,"gm").replace(/bull/g,t.bullet).getRegex(),t.list=h(t.list).replace(/bull/g,t.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+t.def.source+")").getRegex(),t._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",t._comment=/<!--(?!-?>)[\s\S]*?-->/,t.html=h(t.html,"i").replace("comment",t._comment).replace("tag",t._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),t.paragraph=h(t.paragraph).replace("hr",t.hr).replace("heading",t.heading).replace("lheading",t.lheading).replace("tag",t._tag).getRegex(),t.blockquote=h(t.blockquote).replace("paragraph",t.paragraph).getRegex(),t.normal=_({},t),t.gfm=_({},t.normal,{fences:/^ {0,3}(`{3,}|~{3,})([^`\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=h(t.paragraph).replace("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|").getRegex(),t.tables=_({},t.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),t.pedantic=_({},t.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",t._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),n.rules=t,n.lex=function(e,t){var i=new n(t);return i.lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n){var i,o,r,s,a,l,u,c,h,d,p,f,g,m,_,b;e=e.replace(/^ +$/gm,"");while(e)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),r[0].length>1&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:y(r,"\n")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2]?r[2].trim():r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if((r=this.rules.nptable.exec(e))&&(l={type:"table",header:v(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]},l.header.length===l.align.length)){for(e=e.substring(r[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=v(l.cells[p],l.header.length);this.tokens.push(l)}else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,n),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),s=r[2],m=s.length>1,u={type:"list_start",ordered:m,start:m?+s:"",loose:!1},this.tokens.push(u),r=r[0].match(this.rules.item),c=[],i=!1,g=r.length,p=0;p<g;p++)l=r[p],d=l.length,l=l.replace(/^ *([*+-]|\d+\.) */,""),~l.indexOf("\n ")&&(d-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+d+"}","gm"),"")),p!==g-1&&(a=t.bullet.exec(r[p+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=r.slice(p+1).join("\n")+e,p=g-1)),o=i||/\n\n(?!\s*$)/.test(l),p!==g-1&&(i="\n"===l.charAt(l.length-1),o||(o=i)),o&&(u.loose=!0),_=/^\[[ xX]\] /.test(l),b=void 0,_&&(b=" "!==l[1],l=l.replace(/^\[[ xX]\] +/,"")),h={type:"list_item_start",task:_,checked:b,loose:o},c.push(h),this.tokens.push(h),this.token(l,!1),this.tokens.push({type:"list_item_end"});if(u.loose)for(g=c.length,p=0;p<g;p++)c[p].loose=!0;this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(n&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),f=r[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[f]||(this.tokens.links[f]={href:r[2],title:r[3]});else if((r=this.rules.table.exec(e))&&(l={type:"table",header:v(r[1].replace(/^ *| *\| *$/g,"")),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3]?r[3].replace(/\n$/,"").split("\n"):[]},l.header.length===l.align.length)){for(e=e.substring(r[0].length),p=0;p<l.align.length;p++)/^ *-+: *$/.test(l.align[p])?l.align[p]="right":/^ *:-+: *$/.test(l.align[p])?l.align[p]="center":/^ *:-+ *$/.test(l.align[p])?l.align[p]="left":l.align[p]=null;for(p=0;p<l.cells.length;p++)l.cells[p]=v(l.cells[p].replace(/^ *\| *| *\| *$/g,""),l.header.length);this.tokens.push(l)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(n&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*"<\[])\*(?!\*)|^_([^\s][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s"<\[][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:m,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/};function o(e,t){if(this.options=t||w.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function r(e){this.options=e||w.defaults}function s(){}function a(e){this.tokens=[],this.token=null,this.options=e||w.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new l}function l(){this.seen={}}function u(e,t){if(t){if(u.escapeTest.test(e))return e.replace(u.escapeReplace,(function(e){return u.replacements[e]}))}else if(u.escapeTestNoEncode.test(e))return e.replace(u.escapeReplaceNoEncode,(function(e){return u.replacements[e]}));return e}function c(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,(function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}function h(e,t){return e=e.source||e,t=t||"",{replace:function(t,n){return n=n.source||n,n=n.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(t,n),this},getRegex:function(){return new RegExp(e,t)}}}function d(e,t,n){if(e){try{var i=decodeURIComponent(c(n)).replace(/[^\w:]/g,"").toLowerCase()}catch(o){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!g.test(n)&&(n=p(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(o){return null}return n}function p(e,t){return f[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?f[" "+e]=e+"/":f[" "+e]=y(e,"/",!0)),e=f[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}i._punctuation="!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~",i.em=h(i.em).replace(/punctuation/g,i._punctuation).getRegex(),i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=h(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=h(i.tag).replace("comment",t._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|`(?!`)|[^\[\]\\`])*?/,i._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*)/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=h(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=h(i.reflink).replace("label",i._label).getRegex(),i.normal=_({},i),i.pedantic=_({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=_({},i.normal,{escape:h(i.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),i.gfm.url=h(i.gfm.url,"i").replace("email",i.gfm._extended_email).getRegex(),i.breaks=_({},i.gfm,{br:h(i.br).replace("{2,}","*").getRegex(),text:h(i.gfm.text).replace(/\{2,\}/g,"*").getRegex()}),o.rules=i,o.output=function(e,t,n){var i=new o(t,n);return i.output(e)},o.prototype.output=function(e){var t,n,i,r,s,a,l="";while(e)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),l+=u(s[1]);else if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(s[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(s[0])&&(this.inRawBlock=!1),e=e.substring(s[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):u(s[0]):s[0];else if(s=this.rules.link.exec(e)){var c=b(s[2],"()");if(c>-1){var h=s[0].length-(s[2].length-c)-(s[3]||"").length;s[2]=s[2].substring(0,c),s[0]=s[0].substring(0,h).trim(),s[3]=""}e=e.substring(s[0].length),this.inLink=!0,i=s[2],this.options.pedantic?(t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i),t?(i=t[1],r=t[3]):r=""):r=s[3]?s[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(s,{href:o.escapes(i),title:o.escapes(r)}),this.inLink=!1}else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){l+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,l+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),l+=this.renderer.strong(this.output(s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),l+=this.renderer.em(this.output(s[6]||s[5]||s[4]||s[3]||s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),l+=this.renderer.codespan(u(s[2].trim(),!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),l+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),l+=this.renderer.del(this.output(s[1]));else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),"@"===s[2]?(n=u(this.mangle(s[1])),i="mailto:"+n):(n=u(s[1]),i=n),l+=this.renderer.link(i,null,n);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.inRawBlock?l+=this.renderer.text(s[0]):l+=this.renderer.text(u(this.smartypants(s[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else{if("@"===s[2])n=u(s[0]),i="mailto:"+n;else{do{a=s[0],s[0]=this.rules._backpedal.exec(s[0])[0]}while(a!==s[0]);n=u(s[0]),i="www."===s[1]?"http://"+n:n}e=e.substring(s[0].length),l+=this.renderer.link(i,null,n)}return l},o.escapes=function(e){return e?e.replace(o.rules._escapes,"$1"):e},o.prototype.outputLink=function(e,t){var n=t.href,i=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,u(e[1]))},o.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},o.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,o=0;o<i;o++)t=e.charCodeAt(o),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,i);null!=o&&o!==e&&(n=!0,e=o)}return i?'<pre><code class="'+this.options.langPrefix+u(i,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,n){var i=t?"ol":"ul",o=t&&1!==n?' start="'+n+'"':"";return"<"+i+o+">\n"+e+"</"+i+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' align="'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(e=d(this.options.sanitize,this.options.baseUrl,e),null===e)return n;var i='<a href="'+u(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i},r.prototype.image=function(e,t,n){if(e=d(this.options.sanitize,this.options.baseUrl,e),null===e)return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">",i},r.prototype.text=function(e){return e},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(e){return e},s.prototype.link=s.prototype.image=function(e,t,n){return""+n},s.prototype.br=function(){return""},a.parse=function(e,t){var n=new a(t);return n.parse(e)},a.prototype.parse=function(e){this.inline=new o(e.links,this.options),this.inlineText=new o(e.links,_({},this.options,{renderer:new s})),this.tokens=e.reverse();var t="";while(this.next())t+=this.tok();return t},a.prototype.next=function(){return this.token=this.tokens.pop()},a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},a.prototype.parseText=function(){var e=this.token.text;while("text"===this.peek().type)e+="\n"+this.next().text;return this.inline.output(e)},a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,o="",r="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});r+=this.renderer.tablerow(n)}return this.renderer.table(o,r);case"blockquote_start":r="";while("blockquote_end"!==this.next().type)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";var s=this.token.ordered,a=this.token.start;while("list_end"!==this.next().type)r+=this.tok();return this.renderer.list(r,s,a);case"list_item_start":r="";var l=this.token.loose,u=this.token.checked,h=this.token.task;this.token.task&&(r+=this.renderer.checkbox(u));while("list_item_end"!==this.next().type)r+=l||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(r,h,u);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:var d='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(d);console.log(d)}},l.prototype.slug=function(e){var t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){var n=t;do{this.seen[n]++,t=n+"-"+this.seen[n]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t},u.escapeTest=/[&<>"']/,u.escapeReplace=/[&<>"']/g,u.replacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},u.escapeTestNoEncode=/[<>"']|&(?!#?\w+;)/,u.escapeReplaceNoEncode=/[<>"']|&(?!#?\w+;)/g;var f={},g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function _(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function v(e,t){var n=e.replace(/\|/g,(function(e,t,n){var i=!1,o=t;while(--o>=0&&"\\"===n[o])i=!i;return i?"|":" |"})),i=n.split(/ \|/),o=0;if(i.length>t)i.splice(t);else while(i.length<t)i.push("");for(;o<i.length;o++)i[o]=i[o].trim().replace(/\\\|/g,"|");return i}function y(e,t,n){if(0===e.length)return"";var i=0;while(i<e.length){var o=e.charAt(e.length-i-1);if(o!==t||n){if(o===t||!n)break;i++}else i++}return e.substr(0,e.length-i)}function b(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=0,i=0;i<e.length;i++)if("\\"===e[i])i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}function w(e,t,i){if("undefined"===typeof e||null===e)throw new Error("marked(): input parameter is undefined or null");if("string"!==typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"===typeof t){i||(i=t,t=null),t=_({},w.defaults,t||{});var o,r,s=t.highlight,l=0;try{o=n.lex(e,t)}catch(h){return i(h)}r=o.length;var c=function(e){if(e)return t.highlight=s,i(e);var n;try{n=a.parse(o,t)}catch(h){e=h}return t.highlight=s,e?i(e):i(null,n)};if(!s||s.length<3)return c();if(delete t.highlight,!r)return c();for(;l<o.length;l++)(function(e){"code"!==e.type?--r||c():s(e.text,e.lang,(function(t,n){return t?c(t):null==n||n===e.text?--r||c():(e.text=n,e.escaped=!0,void(--r||c()))}))})(o[l])}else try{return t&&(t=_({},w.defaults,t)),a.parse(n.lex(e,t),t)}catch(h){if(h.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||w.defaults).silent)return"<p>An error occurred:</p><pre>"+u(h.message+"",!0)+"</pre>";throw h}}m.exec=m,w.options=w.setOptions=function(e){return _(w.defaults,e),w},w.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new r,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},w.defaults=w.getDefaults(),w.Parser=a,w.parser=a.parse,w.Renderer=r,w.TextRenderer=s,w.Lexer=n,w.lexer=n.lex,w.InlineLexer=o,w.inlineLexer=o.output,w.Slugger=l,w.parse=w,dY=w}).call(void 0);dY.Parser,dY.parser;var vY,yY=dY.Renderer,bY=(dY.TextRenderer,dY.Lexer,dY.lexer,dY.InlineLexer,dY.inlineLexer,dY.parse);let wY;(function(){function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof vY&&vY;if(!a&&l)return vY(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){var n=t[s][1][e];return o(n||e)}),c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof vY&&vY,s=0;s<i.length;s++)o(i[s]);return o}return e})()({1:[function(e,t,n){var i=e("./toMap"),o=["background","base","cite","href","longdesc","src","usemap"];t.exports={uris:i(o)}},{"./toMap":10}],2:[function(e,t,n){var i={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null};t.exports=i},{}],3:[function(e,t,n){var i=e("./toMap"),o=["area","br","col","hr","img","wbr","input","base","basefont","link","meta"];t.exports={voids:i(o)}},{"./toMap":10}],4:[function(e,t,n){e("he");var i=e("assignment"),o=e("./parser"),r=e("./sanitizer"),s=e("./defaults");function a(e,t,n){var a=[],l=!0===n?t:i({},s,t),u=r(a,l);return o(e,u),a.join("")}a.defaults=s,t.exports=a,wY=a},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,t,n){t.exports=function(e){return"string"===typeof e?e.toLowerCase():e}},{}],6:[function(e,t,n){function i(e){var t,n,o=Array.prototype.slice.call(arguments,1);while(o.length)for(n in t=o.shift(),t)t.hasOwnProperty(n)&&("[object Object]"===Object.prototype.toString.call(e[n])?e[n]=i(e[n],t[n]):e[n]=t[n]);return e}t.exports=i},{}],7:[function(e,t,n){var i=e("he"),o=e("./lowercase"),r=(e("./attributes"),e("./elements")),s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,u=/^</,c=/^<\s*\//;function h(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}function d(e,t){var n,d=h(),p=e;while(e)f();function f(){n=!0,g();var t=e===p;p=e,t&&(e="")}function g(){"\x3c!--"===e.substr(0,4)?_():c.test(e)?m(a,b):u.test(e)&&m(s,y),v()}function m(t,i){var o=e.match(t);o&&(e=e.substring(o[0].length),o[0].replace(t,i),n=!1)}function _(){var i=e.indexOf("--\x3e");i>=0&&(t.comment&&t.comment(e.substring(4,i)),e=e.substring(i+3),n=!1)}function v(){if(n){var i,o=e.indexOf("<");o>=0?(i=e.substring(0,o),e=e.substring(o)):(i=e,e=""),t.chars&&t.chars(i)}}function y(e,n,s,a){var u={},c=o(n),h=r.voids[c]||!!a;function p(e,t,n,o,r){u[t]=void 0===n&&void 0===o&&void 0===r?void 0:i.decode(n||o||r||"")}s.replace(l,p),h||d.push(c),t.start&&t.start(c,u,h)}function b(e,n){var i,r=0,s=o(n);if(s)for(r=d.length-1;r>=0;r--)if(d[r]===s)break;if(r>=0){for(i=d.length-1;i>=r;i--)t.end&&t.end(d[i]);d.length=r}}b()}t.exports=d},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,t,n){var i=e("he"),o=e("./lowercase"),r=e("./attributes"),s=e("./elements");function a(e,t){var n,a=t||{};return g(),{start:u,end:c,chars:d};function l(t){e.push(t)}function u(e,t,s){var u=o(e);function c(e){var n,s=t[e],c=(a.allowedClasses||{})[u]||[],d=(a.allowedAttributes||{})[u]||[];d=d.concat((a.allowedAttributes||{})["*"]||[]);var p=o(e);function f(e){return c&&-1!==c.indexOf(e)}"class"===p&&-1===d.indexOf(p)?(s=s.split(" ").filter(f).join(" ").trim(),n=s.length):n=-1!==d.indexOf(p)&&(!0!==r.uris[p]||h(s)),n&&(l(" "),l(e),"string"===typeof s&&(l('="'),l(i.encode(s)),l('"')))}n.ignoring?p(u):-1!==(a.allowedTags||[]).indexOf(u)&&(!a.filter||a.filter({tag:u,attrs:t}))?(l("<"),l(u),Object.keys(t).forEach(c),l(s?"/>":">")):p(u)}function c(e){var t=o(e),i=-1!==(a.allowedTags||[]).indexOf(t);i&&!1===n.ignoring?(l("</"),l(t),l(">")):f(t)}function h(e){var t=e[0];if("#"===t||"/"===t)return!0;var n=e.indexOf(":");if(-1===n)return!0;var i=e.indexOf("?");if(-1!==i&&n>i)return!0;var o=e.indexOf("#");return-1!==o&&n>o||a.allowedSchemes.some(r);function r(t){return 0===e.indexOf(t+":")}}function d(e){!1===n.ignoring&&l(a.transformText?a.transformText(e):e)}function p(e){s.voids[e]||(!1===n.ignoring?n={ignoring:e,depth:1}:n.ignoring===e&&n.depth++)}function f(e){n.ignoring===e&&--n.depth<=0&&g()}function g(){n={ignoring:!1,depth:0}}}t.exports=a},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,t,n){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},r=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,s=/[&<>"']/g;function a(e){return i[e]}function l(e){return o[e]}function u(e){return null==e?"":String(e).replace(s,a)}function c(e){return null==e?"":String(e).replace(r,l)}u.options=c.options={},t.exports={encode:u,escape:u,decode:c,unescape:c,version:"1.0.0-browser"}},{}],10:[function(e,t,n){function i(e){return e.reduce(o,{})}function o(e,t){return e[t]=!0,e}t.exports=i},{}]},{},[4]);var CY=wY;function SY(e,t){void 0===t&&(t={});var n,i=nU(t),o=function(t){var n;try{n=Lr(decodeURIComponent(t))}catch(i){}return n?(n=pl(n,(function(t){return e.uris&&e.uris[t]?Lt.revive(e.uris[t]):void 0})),encodeURIComponent(JSON.stringify(n))):t},r=function(t,n){var i=e.uris&&e.uris[t];if(!i)return t;var r=Lt.revive(i);return Lt.parse(t).toString()===r.toString()?t:(n&&(r=kr(r)),r.query&&(r=r.with({query:o(r.query)})),r.toString(!0))},s=new Promise((function(e){return n=e})),a=new yY;a.image=function(e,t,n){var i,o=[],s=[];return e&&(i=vq(e),e=i.href,o=i.dimensions,e=r(e,!0),s.push('src="'+e+'"')),n&&s.push('alt="'+n+'"'),t&&s.push('title="'+t+'"'),o.length&&(s=s.concat(o)),"<img "+s.join(" ")+">"},a.link=function(t,n,i){return t===i&&(i=_q(i)),t=r(t,!1),n=_q(n),t=_q(t),!t||t.match(/^data:|javascript:/i)||t.match(/^command:/i)&&!e.isTrusted||t.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?i:(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),'<a href="#" data-href="'+t+'" title="'+(n||t)+'">'+i+"</a>")},a.paragraph=function(t){return"<p>"+(e.supportThemeIcons?T$(t):t)+"</p>"},t.codeBlockRenderer&&(a.code=function(e,n){var o=t.codeBlockRenderer(n,e),r=tG.nextId(),a=Promise.all([o,s]).then((function(e){var t=e[0],n=i.querySelector('div[data-code="'+r+'"]');n&&(n.innerHTML=t)})).catch((function(e){}));return t.codeBlockRenderCallback&&a.then(t.codeBlockRenderCallback),'<div class="code" data-code="'+r+'">'+Ar(e)+"</div>"});var l=t.actionHandler;l&&l.disposeables.add(So(i,"click",(function(e){var t=e.target;if("A"===t.tagName||(t=t.parentElement,t&&"A"===t.tagName))try{var n=t.dataset["href"];n&&l.callback(n,e)}catch(i){ge(i)}finally{e.preventDefault()}})));var u={sanitize:!0,renderer:a},c=[xi.http,xi.https,xi.mailto,xi.data,xi.file,xi.vscodeRemote,xi.vscodeRemoteResource];e.isTrusted&&c.push(xi.command);var h=bY(e.supportThemeIcons?S$(e.value):e.value,u);return i.innerHTML=CY(h,{allowedSchemes:c,allowedAttributes:{a:["href","name","target","data-href"],iframe:["allowfullscreen","frameborder","src"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class"]}}),n(),i}var EY=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),TY=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},kY=function(e,t){return function(n,i){t(n,i,e)}},xY=function(e){function t(t,n,i){void 0===i&&(i=Qa);var o=e.call(this)||this;return o._editor=t,o._modeService=n,o._openerService=i,o._onDidRenderCodeBlock=o._register(new Ze),o.onDidRenderCodeBlock=o._onDidRenderCodeBlock.event,o}return EY(t,e),t.prototype.getOptions=function(e){var t=this;return{codeBlockRenderer:function(e,n){var i=null;if(e)i=t._modeService.getModeIdForLanguageName(e);else{var o=t._editor.getModel();o&&(i=o.getLanguageIdentifier().language)}return t._modeService.triggerMode(i||""),Promise.resolve(!0).then((function(e){var t=Zu.getPromise(i||"");return t?t.then((function(e){return Ex(n,e)})):Ex(n,void 0)})).then((function(e){return'<span style="font-family: '+t._editor.getOption(34).fontFamily+'">'+e+"</span>"}))},codeBlockRenderCallback:function(){return t._onDidRenderCodeBlock.fire()},actionHandler:{callback:function(e){t._openerService.open(e,{fromUserGesture:!0}).catch(ge)},disposeables:e}}},t.prototype.render=function(e){var t,n=new Re;return t=e?SY(e,this.getOptions(n)):document.createElement("span"),{element:t,dispose:function(){return n.dispose()}}},t=TY([kY(1,tO),kY(2,Nn(Ja))],t),t}(Ae),LY=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),IY=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},OY=_r,DY=function(){function e(e,t,n){this.range=e,this.color=t,this.provider=n}return e}(),NY=function(){function e(e,t){this.range=e,this.marker=t}return e}(),RY=function(){function e(e,t){this._markerDecorationsService=t,this._editor=e,this._result=[]}return e.prototype.setRange=function(e){this._range=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeAsync=function(e){if(!this._editor.hasModel()||!this._range)return Promise.resolve([]);var t=this._editor.getModel();return Ru.has(t)?cY(t,new yn(this._range.startLineNumber,this._range.startColumn),e):Promise.resolve([])},e.prototype.computeSync=function(){var e=this;if(!this._editor.hasModel()||!this._range)return[];var t=this._editor.getModel(),n=this._range.startLineNumber;if(n>this._editor.getModel().getLineCount())return[];var i=j$.get(this._editor),o=t.getLineMaxColumn(n),r=this._editor.getLineDecorations(n),s=!1,a=this._range,l=r.map((function(r){var l=r.range.startLineNumber===n?r.range.startColumn:1,u=r.range.endLineNumber===n?r.range.endColumn:o;if(l>a.startColumn||a.endColumn>u)return null;var c=new bn(a.startLineNumber,l,a.startLineNumber,u),h=e._markerDecorationsService.getMarker(t,r);if(h)return new NY(c,h);var d=i.getColorData(r.range.getStartPosition());if(!s&&d){s=!0;var p=d.colorInfo,f=p.color,g=p.range;return new DY(g,f,d.provider)}if(pq(r.options.hoverMessage))return null;var m=r.options.hoverMessage?Qi(r.options.hoverMessage):[];return{contents:m,range:c}}));return Bi(l)},e.prototype.onResult=function(e,t){this._result=t?e.concat(this._result.sort((function(e,t){return e instanceof DY?-1:t instanceof DY?1:0}))):this._result.concat(e)},e.prototype.getResult=function(){return this._result.slice(0)},e.prototype.getResultWithLoadingMessage=function(){return this._result.slice(0).concat([this._getLoadingMessage()])},e.prototype._getLoadingMessage=function(){return{range:this._range,contents:[(new dq).appendText(r("modesContentHover.loading","Loading..."))]}},e}(),AY={type:2,filter:{include:oH.QuickFix}},MY=function(e){function t(n,i,o,r,s,a){void 0===a&&(a=Qa);var l=e.call(this,t.ID,n)||this;return l._themeService=o,l._keybindingService=r,l._modeService=s,l._openerService=a,l.renderDisposable=l._register(new Me),l._messages=[],l._lastRange=null,l._computer=new RY(l._editor,i),l._highlightDecorations=[],l._isChangingDecorations=!1,l._shouldFocus=!1,l._colorPicker=null,l._hoverOperation=new pY(l._computer,(function(e){return l._withResult(e,!0)}),null,(function(e){return l._withResult(e,!1)}),l._editor.getOption(44).delay),l._register(So(l.getDomNode(),ar.FOCUS,(function(){l._colorPicker&&fo(l.getDomNode(),"colorpicker-hover")}))),l._register(So(l.getDomNode(),ar.BLUR,(function(){mo(l.getDomNode(),"colorpicker-hover")}))),l._register(n.onDidChangeConfiguration((function(e){l._hoverOperation.setHoverTime(l._editor.getOption(44).delay)}))),l._register(Zu.onDidChange((function(e){l.isVisible&&l._lastRange&&l._messages.length>0&&(l._domNode.textContent="",l._renderMessages(l._lastRange,l._messages))}))),l}return LY(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this._isChangingDecorations||this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e,t,n){if(!this._lastRange||!this._lastRange.equalsRange(e)){if(this._hoverOperation.cancel(),this.isVisible)if(this._showAtPosition&&this._showAtPosition.lineNumber===e.startLineNumber){for(var i=[],o=0,r=this._messages.length;o<r;o++){var s=this._messages[o],a=s.range;a&&a.startColumn<=e.startColumn&&a.endColumn>=e.endColumn&&i.push(s)}if(i.length>0){if(PY(i,this._messages))return;this._renderMessages(e,i)}else this.hide()}else this.hide();this._lastRange=e,this._computer.setRange(e),this._shouldFocus=n,this._hoverOperation.start(t)}},t.prototype.hide=function(){this._lastRange=null,this._hoverOperation.cancel(),e.prototype.hide.call(this),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this.renderDisposable.clear(),this._colorPicker=null},t.prototype.isColorPickerVisible=function(){return!!this._colorPicker},t.prototype._withResult=function(e,t){this._messages=e,this._lastRange&&this._messages.length>0?this._renderMessages(this._lastRange,this._messages):t&&this.hide()},t.prototype._renderMessages=function(e,n){var i=this;this.renderDisposable.dispose(),this._colorPicker=null;var o=1073741824,r=n[0].range?bn.lift(n[0].range):null,s=document.createDocumentFragment(),a=!0,l=!1,u=new Re,c=[];if(n.forEach((function(e){if(e.range)if(o=Math.min(o,e.range.startColumn),r=r?bn.plusRange(r,e.range):bn.lift(e.range),e instanceof DY){l=!0;var t=e.color,n=t.red,h=t.green,d=t.blue,p=t.alpha,f=new Ny(Math.round(255*n),Math.round(255*h),Math.round(255*d),p),g=new My(f);if(!i._editor.hasModel())return;var m=i._editor.getModel(),_=new bn(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn),v={range:e.range,color:e.color},y=new eY(g,[],0),b=new uY(s,y,i._editor.getOption(105),i._themeService);H$(m,v,e.provider,qe.None).then((function(t){if(y.colorPresentations=t||[],i._editor.hasModel()){var n=i._editor.getModel().getValueInRange(e.range);y.guessColorPresentation(g,n);var o=function(){var e,t;y.presentation.textEdit?(e=[y.presentation.textEdit],t=new bn(y.presentation.textEdit.range.startLineNumber,y.presentation.textEdit.range.startColumn,y.presentation.textEdit.range.endLineNumber,y.presentation.textEdit.range.endColumn),t=t.setEndPosition(t.endLineNumber,t.startColumn+y.presentation.textEdit.text.length)):(e=[{identifier:null,range:_,text:y.presentation.label,forceMoveMarkers:!1}],t=_.setEndPosition(_.endLineNumber,_.startColumn+y.presentation.label.length)),i._editor.pushUndoStop(),i._editor.executeEdits("colorpicker",e),y.presentation.additionalTextEdits&&(e=IY(y.presentation.additionalTextEdits),i._editor.executeEdits("colorpicker",e),i.hide()),i._editor.pushUndoStop(),_=t},r=function(t){return H$(m,{range:_,color:{red:t.rgba.r/255,green:t.rgba.g/255,blue:t.rgba.b/255,alpha:t.rgba.a}},e.provider,qe.None).then((function(e){y.colorPresentations=e||[]}))},a=y.onColorFlushed((function(e){r(e).then(o)})),l=y.onDidChangeColor(r);i._colorPicker=b,i.showAt(_.getStartPosition(),_,i._shouldFocus),i.updateContents(s),i._colorPicker.layout(),i.renderDisposable.value=Oe(a,l,b,u)}}))}else e instanceof NY?(c.push(e),a=!1):e.contents.filter((function(e){return!pq(e)})).forEach((function(e){var t=OY("div.hover-row.markdown-hover"),n=pr(t,OY("div.hover-contents")),o=u.add(new xY(i._editor,i._modeService,i._openerService));u.add(o.onDidRenderCodeBlock((function(){n.className="hover-contents code-hover-contents",i.onContentsChange()})));var r=u.add(o.render(e));n.appendChild(r.element),s.appendChild(t),a=!1}))})),c.length){c.forEach((function(e){return s.appendChild(i.renderMarkerHover(e))}));var h=1===c.length?c[0]:c.sort((function(e,t){return IP.compare(e.marker.severity,t.marker.severity)}))[0];s.appendChild(this.renderMarkerStatusbar(h))}l||a||(this.showAt(new yn(e.startLineNumber,o),r,this._shouldFocus),this.updateContents(s)),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,r?[{range:r,options:t._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1},t.prototype.renderMarkerHover=function(e){var t=this,n=OY("div.hover-row"),i=pr(n,OY("div.marker.hover-contents")),o=e.marker,r=o.source,s=o.message,a=o.code,l=o.relatedInformation;this._editor.applyFontInfo(i);var u=pr(i,OY("span"));if(u.style.whiteSpace="pre-wrap",u.innerText=s,r||a)if("string"===typeof a){var c=pr(i,OY("span"));c.style.opacity="0.6",c.style.paddingLeft="6px",c.innerText=r&&a?r+"("+a+")":r||"("+a+")"}else if(a){var h=OY("span");if(r){var d=pr(h,OY("span"));d.innerText=r}this._codeLink=pr(h,OY("a.code-link")),this._codeLink.setAttribute("href",a.link.toString()),this._codeLink.onclick=function(e){t._openerService.open(a.link),e.preventDefault(),e.stopPropagation()};var p=pr(this._codeLink,OY("span"));p.innerText=a.value;c=pr(i,h);c.style.opacity="0.6",c.style.paddingLeft="6px"}if(Hi(l))for(var f=function(e,n,o,r){var s=pr(i,OY("div"));s.style.marginTop="8px";var a=pr(s,OY("a"));a.innerText=ha(n)+"("+o+", "+r+"): ",a.style.cursor="pointer",a.onclick=function(e){e.stopPropagation(),e.preventDefault(),t._openerService&&t._openerService.open(n.with({fragment:o+","+r}),{fromUserGesture:!0}).catch(ge)};var l=pr(s,OY("span"));l.innerText=e,g._editor.applyFontInfo(l)},g=this,m=0,_=l;m<_.length;m++){var v=_[m],y=v.message,b=v.resource,w=v.startLineNumber,C=v.startColumn;f(y,b,w,C)}return n},t.prototype.renderMarkerStatusbar=function(e){var t=this,n=OY("div.hover-row.status-bar"),i=new Re,o=pr(n,OY("div.actions"));e.marker.severity!==IP.Error&&e.marker.severity!==IP.Warning&&e.marker.severity!==IP.Info||i.add(this.renderAction(o,{label:r("peek problem","Peek Problem"),commandId:qq.ID,run:function(){t.hide(),Gq.get(t._editor).show(e.marker),t._editor.focus()}}));var s=pr(o,OY("div"));s.style.opacity="0",s.style.transition="opacity 0.2s",setTimeout((function(){return s.style.opacity="1"}),200),s.textContent=r("checkingForQuickFixes","Checking for quick fixes..."),i.add(De((function(){return s.remove()})));var a=this.getCodeActions(e.marker);return i.add(De((function(){return a.cancel()}))),a.then((function(e){if(s.style.transition="",s.style.opacity="1",!e.validActions.length)return e.dispose(),void(s.textContent=r("noQuickFixes","No quick fixes available"));s.remove();var n=!1;i.add(De((function(){n||e.dispose()}))),i.add(t.renderAction(o,{label:r("quick fixes","Quick Fix..."),commandId:h$.Id,run:function(i){n=!0;var o=a$.get(t._editor),r=Uo(i);o.showCodeActions(AY,e,{x:r.left+6,y:r.top+r.height+6})}}))})),this.renderDisposable.value=i,n},t.prototype.getCodeActions=function(e){var t=this;return _i((function(n){return yH(t._editor.getModel(),new bn(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),AY,n)}))},t.prototype.renderAction=function(e,t){var n=pr(e,OY("div.action-container")),i=pr(n,OY("a.action"));t.iconClass&&pr(i,OY("span.icon."+t.iconClass));var o=pr(i,OY("span"));o.textContent=t.label;var r=this._keybindingService.lookupKeybinding(t.commandId);return r&&(o.title=t.label+" ("+r.getLabel()+")"),bo(n,ar.CLICK,(function(e){e.stopPropagation(),e.preventDefault(),t.run(n)}))},t.ID="editor.contrib.modesContentHoverWidget",t._DECORATION_OPTIONS=Xy.register({className:"hoverHighlight"}),t}(mY);function PY(e,t){if(!e&&t||e&&!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i instanceof NY&&o instanceof NY)return OP.makeKey(i.marker)===OP.makeKey(o.marker);if(i instanceof DY||o instanceof DY)return!1;if(i instanceof NY||o instanceof NY)return!1;if(!gq(i.contents,o.contents))return!1}return!0}w_((function(e,t){var n=e.getColor(iw);n&&t.addRule(".monaco-editor-hover .hover-contents a.code-link span:hover { color: "+n+"; }")}));var FY=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),BY=function(){function e(e){this._editor=e,this._lineNumber=-1,this._result=[]}return e.prototype.setLineNumber=function(e){this._lineNumber=e,this._result=[]},e.prototype.clearResult=function(){this._result=[]},e.prototype.computeSync=function(){var e=function(e){return{value:e}},t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(var i=0,o=t;i<o.length;i++){var r=o[i];if(r.options.glyphMarginClassName){var s=r.options.glyphMarginHoverMessage;s&&!pq(s)&&n.push.apply(n,Qi(s).map(e))}}return n},e.prototype.onResult=function(e,t){this._result=this._result.concat(e)},e.prototype.getResult=function(){return this._result},e.prototype.getResultWithLoadingMessage=function(){return this.getResult()},e}(),VY=function(e){function t(n,i,o){void 0===o&&(o=Qa);var r=e.call(this,t.ID,n)||this;return r._renderDisposeables=r._register(new Re),r._messages=[],r._lastLineNumber=-1,r._markdownRenderer=r._register(new xY(r._editor,i,o)),r._computer=new BY(r._editor),r._hoverOperation=new pY(r._computer,(function(e){return r._withResult(e)}),void 0,(function(e){return r._withResult(e)}),300),r}return FY(t,e),t.prototype.dispose=function(){this._hoverOperation.cancel(),e.prototype.dispose.call(this)},t.prototype.onModelDecorationsChanged=function(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))},t.prototype.startShowingAt=function(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))},t.prototype.hide=function(){this._lastLineNumber=-1,this._hoverOperation.cancel(),e.prototype.hide.call(this)},t.prototype._withResult=function(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()},t.prototype._renderMessages=function(e,t){this._renderDisposeables.clear();for(var n=document.createDocumentFragment(),i=0,o=t;i<o.length;i++){var r=o[i],s=this._markdownRenderer.render(r.value);this._renderDisposeables.add(s),n.appendChild(_r("div.hover-row",void 0,s.element))}this.updateContents(n),this.showAt(e)},t.ID="editor.contrib.modesGlyphHoverWidget",t}(_Y),HY=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$Y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},WY=function(e,t){return function(n,i){t(n,i,e)}},UY=function(){function e(e,t,n,i,o,r){var s=this;this._editor=e,this._openerService=t,this._modeService=n,this._markerDecorationsService=i,this._keybindingService=o,this._themeService=r,this._toUnhook=new Re,this._contentWidget=new Me,this._glyphWidget=new Me,this._isMouseDown=!1,this._hoverClicked=!1,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((function(e){e.hasChanged(44)&&(s._hideWidgets(),s._unhookEvents(),s._hookEvents())}))}return Object.defineProperty(e.prototype,"contentWidget",{get:function(){return this._contentWidget.value||this._createHoverWidgets(),this._contentWidget.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"glyphWidget",{get:function(){return this._glyphWidget.value||this._createHoverWidgets(),this._glyphWidget.value},enumerable:!0,configurable:!0}),e.get=function(t){return t.getContribution(e.ID)},e.prototype._hookEvents=function(){var e=this,t=function(){return e._hideWidgets()},n=this._editor.getOption(44);this._isHoverEnabled=n.enabled,this._isHoverSticky=n.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((function(t){return e._onEditorMouseDown(t)}))),this._toUnhook.add(this._editor.onMouseUp((function(t){return e._onEditorMouseUp(t)}))),this._toUnhook.add(this._editor.onMouseMove((function(t){return e._onEditorMouseMove(t)}))),this._toUnhook.add(this._editor.onKeyDown((function(t){return e._onKeyDown(t)}))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((function(){return e._onModelDecorationsChanged()})))):this._toUnhook.add(this._editor.onMouseMove(t)),this._toUnhook.add(this._editor.onMouseLeave(t)),this._toUnhook.add(this._editor.onDidChangeModel(t)),this._toUnhook.add(this._editor.onDidScrollChange((function(t){return e._onEditorScrollChanged(t)})))},e.prototype._unhookEvents=function(){this._toUnhook.clear()},e.prototype._onModelDecorationsChanged=function(){this.contentWidget.onModelDecorationsChanged(),this.glyphWidget.onModelDecorationsChanged()},e.prototype._onEditorScrollChanged=function(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()},e.prototype._onEditorMouseDown=function(e){this._isMouseDown=!0;var t=e.target.type;9!==t||e.target.detail!==MY.ID?12===t&&e.target.detail===VY.ID||(12!==t&&e.target.detail!==VY.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0},e.prototype._onEditorMouseUp=function(e){this._isMouseDown=!1},e.prototype._onEditorMouseMove=function(e){var t=e.target.type;if(!(this._isMouseDown&&this._hoverClicked&&this.contentWidget.isColorPickerVisible())&&(!this._isHoverSticky||9!==t||e.target.detail!==MY.ID)&&(!this._isHoverSticky||12!==t||e.target.detail!==VY.ID)){if(7===t){var n=this._editor.getOption(34).typicalHalfwidthCharacterWidth/2,i=e.target.detail;i&&!i.isAfterLines&&"number"===typeof i.horizontalDistanceToText&&i.horizontalDistanceToText<n&&(t=6)}6===t?(this.glyphWidget.hide(),this._isHoverEnabled&&e.target.range&&this.contentWidget.startShowingAt(e.target.range,0,!1)):2===t?(this.contentWidget.hide(),this._isHoverEnabled&&e.target.position&&this.glyphWidget.startShowingAt(e.target.position.lineNumber)):this._hideWidgets()}},e.prototype._onKeyDown=function(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()},e.prototype._hideWidgets=function(){!this._glyphWidget.value||!this._contentWidget.value||this._isMouseDown&&this._hoverClicked&&this._contentWidget.value.isColorPickerVisible()||(this._glyphWidget.value.hide(),this._contentWidget.value.hide())},e.prototype._createHoverWidgets=function(){this._contentWidget.value=new MY(this._editor,this._markerDecorationsService,this._themeService,this._keybindingService,this._modeService,this._openerService),this._glyphWidget.value=new VY(this._editor,this._modeService,this._openerService)},e.prototype.showContentHover=function(e,t,n){this.contentWidget.startShowingAt(e,t,n)},e.prototype.dispose=function(){this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),this._glyphWidget.dispose(),this._contentWidget.dispose()},e.ID="editor.contrib.hover",e=$Y([WY(1,Ja),WY(2,tO),WY(3,jP),WY(4,WI),WY(5,p_)],e),e}(),zY=function(e){function t(){return e.call(this,{id:"editor.action.showHover",label:r({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2087),weight:100}})||this}return HY(t,e),t.prototype.run=function(e,t){if(t.hasModel()){var n=UY.get(t);if(n){var i=t.getPosition(),o=new bn(i.lineNumber,i.column,i.lineNumber,i.column),r=2===t.getOption(2);n.showContentHover(o,1,r)}}},t}(Cm),jY=function(e){function t(){return e.call(this,{id:"editor.action.showDefinitionPreviewHover",label:r({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})||this}return HY(t,e),t.prototype.run=function(e,t){var n=UY.get(t);if(n){var i=t.getPosition();if(i){var o=new bn(i.lineNumber,i.column,i.lineNumber,i.column),r=Lq.get(t),s=r.startFindDefinitionFromCursor(i);s?s.then((function(){n.showContentHover(o,1,!0)})):n.showContentHover(o,1,!0)}}},t}(Cm);Om(UY.ID,UY),Lm(zY),Lm(jY),w_((function(e,t){var n=e.getColor(nC);n&&t.addRule(".monaco-editor .hoverHighlight { background-color: "+n+"; }");var i=e.getColor(iC);i&&t.addRule(".monaco-editor .monaco-editor-hover { background-color: "+i+"; }");var o=e.getColor(rC);o&&(t.addRule(".monaco-editor .monaco-editor-hover { border: 1px solid "+o+"; }"),t.addRule(".monaco-editor .monaco-editor-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid "+o.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-top: 1px solid "+o.transparent(.5)+"; }"),t.addRule(".monaco-editor .monaco-editor-hover hr { border-bottom: 0px solid "+o.transparent(.5)+"; }"));var r=e.getColor(iw);r&&t.addRule(".monaco-editor .monaco-editor-hover a { color: "+r+"; }");var s=e.getColor(oC);s&&t.addRule(".monaco-editor .monaco-editor-hover { color: "+s+"; }");var a=e.getColor(sC);a&&t.addRule(".monaco-editor .monaco-editor-hover .hover-row .actions { background-color: "+a+"; }");var l=e.getColor(ow);l&&t.addRule(".monaco-editor .monaco-editor-hover code { background-color: "+l+"; }")}));var GY=function(){function e(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}return e.prototype.getEditOperations=function(e,t){t.addTrackedEditOperation(this._editRange,this._text)},e.prototype.computeCursorState=function(e,t){var n=t.getInverseEditOperations(),i=n[0].range;return this._originalSelection.isEmpty()?new Cn(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new Cn(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)},e}(),KY=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qY=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},YY=function(e,t){return function(n,i){t(n,i,e)}},XY=function(){function e(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){},e.prototype.run=function(t,n){var i=this;this.currentRequest&&this.currentRequest.cancel();var o=this.editor.getSelection(),r=this.editor.getModel();if(r&&o){var s=o;if(s.startLineNumber===s.endLineNumber){var a=new YL(this.editor,5),l=r.uri;return this.editorWorkerService.canNavigateValueSet(l)?(this.currentRequest=_i((function(e){return i.editorWorkerService.navigateValueSet(l,s,n)})),this.currentRequest.then((function(n){if(n&&n.range&&n.value&&a.validate(i.editor)){var o=bn.lift(n.range),r=n.range,l=n.value.length-(s.endColumn-s.startColumn);r={startLineNumber:r.startLineNumber,startColumn:r.startColumn,endLineNumber:r.endLineNumber,endColumn:r.startColumn+n.value.length},l>1&&(s=new Cn(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn+l-1));var u=new GY(o,s,n.value);i.editor.pushUndoStop(),i.editor.executeCommand(t,u),i.editor.pushUndoStop(),i.decorationIds=i.editor.deltaDecorations(i.decorationIds,[{range:r,options:e.DECORATION}]),i.decorationRemover&&i.decorationRemover.cancel(),i.decorationRemover=bi(350),i.decorationRemover.then((function(){return i.decorationIds=i.editor.deltaDecorations(i.decorationIds,[])})).catch(ge)}})).catch(ge)):Promise.resolve(void 0)}}},e.ID="editor.contrib.inPlaceReplaceController",e.DECORATION=Xy.register({className:"valueSetReplacement"}),e=qY([YY(1,rc)],e),e}(),ZY=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.up",label:r("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:3154,weight:100}})||this}return KY(t,e),t.prototype.run=function(e,t){var n=XY.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)},t}(Cm),JY=function(e){function t(){return e.call(this,{id:"editor.action.inPlaceReplace.down",label:r("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:3156,weight:100}})||this}return KY(t,e),t.prototype.run=function(e,t){var n=XY.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)},t}(Cm);Om(XY.ID,XY),Lm(ZY),Lm(JY),w_((function(e,t){var n=e.getColor(ES);n&&t.addRule(".monaco-editor.vs .valueSetReplacement { outline: solid 2px "+n+"; }")}));var QY=function(){function e(e,t){this._selection=e,this._cursors=t,this._selectionId=null}return e.prototype.getEditOperations=function(e,t){for(var n=eX(e,this._cursors),i=0,o=n.length;i<o;i++){var r=n[i];t.addEditOperation(r.range,r.text)}this._selectionId=t.trackSelection(this._selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this._selectionId)},e}();function eX(e,t){t.sort((function(e,t){return e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber}));for(var n=t.length-2;n>=0;n--)t[n].lineNumber===t[n+1].lineNumber&&t.splice(n,1);for(var i=[],o=0,r=0,s=t.length,a=1,l=e.getLineCount();a<=l;a++){var u=e.getLineContent(a),c=u.length+1,h=0;if(!(r<s&&t[r].lineNumber===a&&(h=t[r].column,r++,h===c))&&0!==u.length){var d=Kr(u),p=0;if(-1===d)p=1;else{if(d===u.length-1)continue;p=d+2}p=Math.max(h,p),i[o++]=lf.delete(new bn(a,p,a,c))}}return i}var tX=function(){function e(e,t){this._selection=e,this._isCopyingDown=t,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}return e.prototype.getEditOperations=function(e,t){var n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));for(var i=[],o=n.startLineNumber;o<=n.endLineNumber;o++)i.push(e.getLineContent(o));var r=i.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._isCopyingDown?t.addEditOperation(new bn(n.startLineNumber,1,n.startLineNumber,1),r+"\n"):t.addEditOperation(new bn(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){var i=n.startLineNumber,o=n.startColumn,r=n.endLineNumber,s=n.endColumn;0!==this._startLineNumberDelta&&(i+=this._startLineNumberDelta,o=1),0!==this._endLineNumberDelta&&(r+=this._endLineNumberDelta,s=1),n=Cn.createWithDirection(i,o,r,s,this._selectionDirection)}return n},e}();function nX(e,t){for(var n=0,i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function iX(e,t,n){e=e<0?0:e;var i="";if(!n){var o=Math.floor(e/t);e%=t;for(var r=0;r<o;r++)i+="\t"}for(r=0;r<e;r++)i+=" ";return i}var oX=function(){function e(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}return e.prototype.getEditOperations=function(e,t){var n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)this._selectionId=t.trackSelection(this._selection);else if(this._isMovingDown||1!==this._selection.startLineNumber){this._moveEndPositionDown=!1;var i=this._selection;i.startLineNumber<i.endLineNumber&&1===i.endColumn&&(this._moveEndPositionDown=!0,i=i.setEndPosition(i.endLineNumber-1,e.getLineMaxColumn(i.endLineNumber-1)));var o=e.getOptions(),r=o.tabSize,s=o.indentSize,a=o.insertSpaces,l=this.buildIndentConverter(r,s,a),u={getLineTokens:function(t){return e.getLineTokens(t)},getLanguageIdentifier:function(){return e.getLanguageIdentifier()},getLanguageIdAtPosition:function(t,n){return e.getLanguageIdAtPosition(t,n)},getLineContent:null};if(i.startLineNumber===i.endLineNumber&&1===e.getLineMaxColumn(i.startLineNumber)){var c=i.startLineNumber,h=this._isMovingDown?c+1:c-1;1===e.getLineMaxColumn(h)?t.addEditOperation(new bn(1,1,1,1),null):(t.addEditOperation(new bn(c,1,c,1),e.getLineContent(h)),t.addEditOperation(new bn(h,1,h,e.getLineMaxColumn(h)),null)),i=new Cn(h,1,h,1)}else{var d,p=void 0;if(this._isMovingDown){d=i.endLineNumber+1,p=e.getLineContent(d),t.addEditOperation(new bn(d-1,e.getLineMaxColumn(d-1),d,e.getLineMaxColumn(d)),null);var f=p;if(this.shouldAutoIndent(e,i)){var g=this.matchEnterRule(e,l,r,d,i.startLineNumber-1);if(null!==g){var m=Gr(e.getLineContent(d)),_=g+nX(m,r),v=iX(_,r,a);f=v+this.trimLeft(p)}else{u.getLineContent=function(t){return t===i.startLineNumber?e.getLineContent(d):e.getLineContent(t)};var y=Uc.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(d,1),i.startLineNumber,l);if(null!==y){m=Gr(e.getLineContent(d)),_=nX(y,r);var b=nX(m,r);if(_!==b){v=iX(_,r,a);f=v+this.trimLeft(p)}}}t.addEditOperation(new bn(i.startLineNumber,1,i.startLineNumber,1),f+"\n");var w=this.matchEnterRule(e,l,r,i.startLineNumber,i.startLineNumber,f);if(null!==w)0!==w&&this.getIndentEditsOfMovingBlock(e,t,i,r,a,w);else{u.getLineContent=function(t){return t===i.startLineNumber?f:t>=i.startLineNumber+1&&t<=i.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t)};var C=Uc.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(d,1),i.startLineNumber+1,l);if(null!==C){m=Gr(e.getLineContent(i.startLineNumber)),_=nX(C,r),b=nX(m,r);if(_!==b){var S=_-b;this.getIndentEditsOfMovingBlock(e,t,i,r,a,S)}}}}else t.addEditOperation(new bn(i.startLineNumber,1,i.startLineNumber,1),f+"\n")}else if(d=i.startLineNumber-1,p=e.getLineContent(d),t.addEditOperation(new bn(d,1,d+1,1),null),t.addEditOperation(new bn(i.endLineNumber,e.getLineMaxColumn(i.endLineNumber),i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),"\n"+p),this.shouldAutoIndent(e,i)){u.getLineContent=function(t){return t===d?e.getLineContent(i.startLineNumber):e.getLineContent(t)};w=this.matchEnterRule(e,l,r,i.startLineNumber,i.startLineNumber-2);if(null!==w)0!==w&&this.getIndentEditsOfMovingBlock(e,t,i,r,a,w);else{var E=Uc.getGoodIndentForLine(this._autoIndent,u,e.getLanguageIdAtPosition(i.startLineNumber,1),d,l);if(null!==E){var T=Gr(e.getLineContent(i.startLineNumber));_=nX(E,r),b=nX(T,r);if(_!==b){S=_-b;this.getIndentEditsOfMovingBlock(e,t,i,r,a,S)}}}}}this._selectionId=t.trackSelection(i)}else this._selectionId=t.trackSelection(this._selection)},e.prototype.buildIndentConverter=function(e,t,n){return{shiftIndent:function(i){return LE.shiftIndent(i,i.length+1,e,t,n)},unshiftIndent:function(i){return LE.unshiftIndent(i,i.length+1,e,t,n)}}},e.prototype.matchEnterRule=function(e,t,n,i,o,r){var s=o;while(s>=1){var a=void 0;a=s===o&&void 0!==r?r:e.getLineContent(s);var l=Kr(a);if(l>=0)break;s--}if(s<1||i>e.getLineCount())return null;var u=e.getLineMaxColumn(s),c=Uc.getEnterAction(this._autoIndent,e,new bn(s,u,s,u));if(c){var h=c.indentation;c.indentAction===gc.None||c.indentAction===gc.Indent?h=c.indentation+c.appendText:c.indentAction===gc.IndentOutdent?h=c.indentation:c.indentAction===gc.Outdent&&(h=t.unshiftIndent(c.indentation)+c.appendText);var d=e.getLineContent(i);if(this.trimLeft(d).indexOf(this.trimLeft(h))>=0){var p=Gr(e.getLineContent(i)),f=Gr(h),g=Uc.getIndentMetadata(e,i);null!==g&&2&g&&(f=t.unshiftIndent(f));var m=nX(f,n),_=nX(p,n);return m-_}}return null},e.prototype.trimLeft=function(e){return e.replace(/^\s+/,"")},e.prototype.shouldAutoIndent=function(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;var n=e.getLanguageIdAtPosition(t.startLineNumber,1),i=e.getLanguageIdAtPosition(t.endLineNumber,1);return n===i&&null!==Uc.getIndentRulesSupport(n)},e.prototype.getIndentEditsOfMovingBlock=function(e,t,n,i,o,r){for(var s=n.startLineNumber;s<=n.endLineNumber;s++){var a=e.getLineContent(s),l=Gr(a),u=nX(l,i),c=u+r,h=iX(c,i,o);h!==l&&(t.addEditOperation(new bn(s,1,s,l.length+1),h),s===n.endLineNumber&&n.endColumn<=l.length+1&&""===h&&(this._moveEndLineSelectionShrink=!0))}},e.prototype.computeCursorState=function(e,t){var n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n},e}(),rX=function(){function e(e,t){this.selection=e,this.descending=t,this.selectionId=null}return e.getCollator=function(){return e._COLLATOR||(e._COLLATOR=new Intl.Collator),e._COLLATOR},e.prototype.getEditOperations=function(e,t){var n=aX(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)},e.prototype.computeCursorState=function(e,t){return t.getTrackedSelection(this.selectionId)},e.canRun=function(e,t,n){if(null===e)return!1;var i=sX(e,t,n);if(!i)return!1;for(var o=0,r=i.before.length;o<r;o++)if(i.before[o]!==i.after[o])return!0;return!1},e._COLLATOR=null,e}();function sX(e,t,n){var i=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,i>=o)return null;for(var r=[],s=i;s<=o;s++)r.push(e.getLineContent(s));var a=r.slice(0);return a.sort(rX.getCollator().compare),!0===n&&(a=a.reverse()),{startLineNumber:i,endLineNumber:o,before:r,after:a}}function aX(e,t,n){var i=sX(e,t,n);return i?lf.replace(new bn(i.startLineNumber,1,i.endLineNumber,e.getLineMaxColumn(i.endLineNumber)),i.after.join("\n")):null}var lX=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),uX=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return lX(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections()||[],o=0,r=i;o<r.length;o++){var s=r[o];n.push(new tX(s,this.down))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(Cm),cX=function(e){function t(){return e.call(this,!1,{id:"editor.action.copyLinesUpAction",label:r("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:25,group:"2_line",title:r({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})||this}return lX(t,e),t}(uX),hX=function(e){function t(){return e.call(this,!0,{id:"editor.action.copyLinesDownAction",label:r("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:25,group:"2_line",title:r({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})||this}return lX(t,e),t}(uX),dX=function(e){function t(){return e.call(this,{id:"editor.action.duplicateSelection",label:r("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:xE.writable,menuOpts:{menuId:25,group:"2_line",title:r({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})||this}return lX(t,e),t.prototype.run=function(e,t,n){if(t.hasModel()){for(var i=[],o=t.getSelections(),r=t.getModel(),s=0,a=o;s<a.length;s++){var l=a[s];if(l.isEmpty())i.push(new tX(l,!0));else{var u=new Cn(l.endLineNumber,l.endColumn,l.endLineNumber,l.endColumn);i.push(new dE(u,r.getValueInRange(l)))}}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}},t}(Cm),pX=function(e){function t(t,n){var i=e.call(this,n)||this;return i.down=t,i}return lX(t,e),t.prototype.run=function(e,t){for(var n=[],i=t.getSelections()||[],o=t.getOption(8),r=0,s=i;r<s.length;r++){var a=s[r];n.push(new oX(a,this.down,o))}t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()},t}(Cm),fX=function(e){function t(){return e.call(this,!1,{id:"editor.action.moveLinesUpAction",label:r("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:25,group:"2_line",title:r({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})||this}return lX(t,e),t}(pX),gX=function(e){function t(){return e.call(this,!0,{id:"editor.action.moveLinesDownAction",label:r("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:25,group:"2_line",title:r({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})||this}return lX(t,e),t}(pX),mX=function(e){function t(t,n){var i=e.call(this,n)||this;return i.descending=t,i}return lX(t,e),t.prototype.run=function(e,t){for(var n=t.getSelections()||[],i=0,o=n;i<o.length;i++){var r=o[i];if(!rX.canRun(t.getModel(),r,this.descending))return}for(var s=[],a=0,l=n.length;a<l;a++)s[a]=new rX(n[a],this.descending);t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()},t}(Cm),_X=function(e){function t(){return e.call(this,!1,{id:"editor.action.sortLinesAscending",label:r("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:xE.writable})||this}return lX(t,e),t}(mX),vX=function(e){function t(){return e.call(this,!0,{id:"editor.action.sortLinesDescending",label:r("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:xE.writable})||this}return lX(t,e),t}(mX),yX=function(e){function t(){return e.call(this,{id:t.ID,label:r("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:ct(2089,2102),weight:100}})||this}return lX(t,e),t.prototype.run=function(e,t,n){var i=[];"auto-save"===n.reason&&(i=(t.getSelections()||[]).map((function(e){return new yn(e.positionLineNumber,e.positionColumn)})));var o=t.getSelection();if(null!==o){var r=new QY(o,i);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}},t.ID="editor.action.trimTrailingWhitespace",t}(Cm),bX=function(e){function t(){return e.call(this,{id:"editor.action.deleteLines",label:r("lines.delete","Delete Line"),alias:"Delete Line",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:3113,weight:100}})||this}return lX(t,e),t.prototype.run=function(e,t){if(t.hasModel()){var n=this._getLinesToRemove(t),i=t.getModel();if(1!==i.getLineCount()||1!==i.getLineMaxColumn(1)){for(var o=0,r=[],s=[],a=0,l=n.length;a<l;a++){var u=n[a],c=u.startLineNumber,h=u.endLineNumber,d=1,p=i.getLineMaxColumn(h);h<i.getLineCount()?(h+=1,p=1):c>1&&(c-=1,d=i.getLineMaxColumn(c)),r.push(lf.replace(new Cn(c,d,h,p),"")),s.push(new Cn(c-o,u.positionColumn,c-o,u.positionColumn)),o+=u.endLineNumber-u.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}}},t.prototype._getLinesToRemove=function(e){var t=e.getSelections().map((function(e){var t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort((function(e,t){return e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber}));for(var n=[],i=t[0],o=1;o<t.length;o++)i.endLineNumber+1>=t[o].startLineNumber?i.endLineNumber=t[o].endLineNumber:(n.push(i),i=t[o]);return n.push(i),n},t}(Cm),wX=function(e){function t(){return e.call(this,{id:"editor.action.indentLines",label:r("lines.indent","Indent Line"),alias:"Indent Line",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:2137,weight:100}})||this}return lX(t,e),t.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,DE.indent(n.context.config,t.getModel(),t.getSelections())),t.pushUndoStop())},t}(Cm),CX=function(e){function t(){return e.call(this,{id:"editor.action.outdentLines",label:r("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:2135,weight:100}})||this}return lX(t,e),t.prototype.run=function(e,t){PE.Outdent.runEditorCommand(e,t,null)},t}(Cm),SX=function(e){function t(){return e.call(this,{id:"editor.action.insertLineBefore",label:r("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:3075,weight:100}})||this}return lX(t,e),t.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,DE.lineInsertBefore(n.context.config,t.getModel(),t.getSelections())))},t}(Cm),EX=function(e){function t(){return e.call(this,{id:"editor.action.insertLineAfter",label:r("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:2051,weight:100}})||this}return lX(t,e),t.prototype.run=function(e,t){var n=t._getCursors();n&&(t.pushUndoStop(),t.executeCommands(this.id,DE.lineInsertAfter(n.context.config,t.getModel(),t.getSelections())))},t}(Cm),TX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lX(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getSelection(),i=this._getRangesToDelete(t),o=[],r=0,s=i.length-1;r<s;r++){var a=i[r],l=i[r+1];null===bn.intersectRanges(a,l)?o.push(a):i[r+1]=bn.plusRange(a,l)}o.push(i[i.length-1]);var u=this._getEndCursorState(n,o),c=o.map((function(e){return lf.replace(e,"")}));t.pushUndoStop(),t.executeEdits(this.id,c,u),t.pushUndoStop()}},t}(Cm),kX=function(e){function t(){return e.call(this,{id:"deleteAllLeft",label:r("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:2049},weight:100}})||this}return lX(t,e),t.prototype._getEndCursorState=function(e,t){var n=null,i=[],o=0;return t.forEach((function(t){var r;if(1===t.endColumn&&o>0){var s=t.startLineNumber-o;r=new Cn(s,t.startColumn,s,t.startColumn)}else r=new Cn(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=r:i.push(r)})),n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getSelections();if(null===t)return[];var n=t,i=e.getModel();return null===i?[]:(n.sort(bn.compareRangesUsingStarts),n=n.map((function(e){if(e.isEmpty()){if(1===e.startColumn){var t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:i.getLineContent(t).length+1;return new bn(t,n,e.startLineNumber,1)}return new bn(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new bn(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),n)},t}(TX),xX=function(e){function t(){return e.call(this,{id:"deleteAllRight",label:r("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})||this}return lX(t,e),t.prototype._getEndCursorState=function(e,t){for(var n=null,i=[],o=0,r=t.length,s=0;o<r;o++){var a=t[o],l=new Cn(a.startLineNumber-s,a.startColumn,a.startLineNumber-s,a.startColumn);a.intersectRanges(e)?n=l:i.push(l)}return n&&i.unshift(n),i},t.prototype._getRangesToDelete=function(e){var t=e.getModel();if(null===t)return[];var n=e.getSelections();if(null===n)return[];var i=n.map((function(e){if(e.isEmpty()){var n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new bn(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new bn(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return i.sort(bn.compareRangesUsingStarts),i},t}(TX),LX=function(e){function t(){return e.call(this,{id:"editor.action.joinLines",label:r("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:xE.writable,kbOpts:{kbExpr:xE.editorTextFocus,primary:0,mac:{primary:296},weight:100}})||this}return lX(t,e),t.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var i=t.getSelection();if(null!==i){n.sort(bn.compareRangesUsingStarts);var o=[],r=n.reduce((function(e,t){return e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new Cn(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new Cn(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)}));o.push(r);var s=t.getModel();if(null!==s){for(var a=[],l=[],u=i,c=0,h=0,d=o.length;h<d;h++){var p=o[h],f=p.startLineNumber,g=1,m=0,_=void 0,v=void 0,y=s.getLineContent(p.endLineNumber).length-p.endColumn;if(p.isEmpty()||p.startLineNumber===p.endLineNumber){var b=p.getStartPosition();b.lineNumber<s.getLineCount()?(_=f+1,v=s.getLineMaxColumn(_)):(_=b.lineNumber,v=s.getLineMaxColumn(b.lineNumber))}else _=p.endLineNumber,v=s.getLineMaxColumn(_);for(var w=s.getLineContent(f),C=f+1;C<=_;C++){var S=s.getLineContent(C),E=s.getLineFirstNonWhitespaceColumn(C);if(E>=1){var T=!0;""===w&&(T=!1),!T||" "!==w.charAt(w.length-1)&&"\t"!==w.charAt(w.length-1)||(T=!1,w=w.replace(/[\s\uFEFF\xA0]+$/g," "));var k=S.substr(E-1);w+=(T?" ":"")+k,m=T?k.length+1:k.length}else m=0}var x=new bn(f,g,_,v);if(!x.isEmpty()){var L=void 0;p.isEmpty()?(a.push(lf.replace(x,w)),L=new Cn(x.startLineNumber-c,w.length-m+1,f-c,w.length-m+1)):p.startLineNumber===p.endLineNumber?(a.push(lf.replace(x,w)),L=new Cn(p.startLineNumber-c,p.startColumn,p.endLineNumber-c,p.endColumn)):(a.push(lf.replace(x,w)),L=new Cn(p.startLineNumber-c,p.startColumn,p.startLineNumber-c,w.length-y)),null!==bn.intersectRanges(x,i)?u=L:l.push(L)}c+=x.endLineNumber-x.startLineNumber}l.unshift(u),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}}}},t}(Cm),IX=function(e){function t(){return e.call(this,{id:"editor.action.transpose",label:r("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:xE.writable})||this}return lX(t,e),t.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var i=t.getModel();if(null!==i){for(var o=[],r=0,s=n.length;r<s;r++){var a=n[r];if(a.isEmpty()){var l=a.getStartPosition(),u=i.getLineMaxColumn(l.lineNumber);if(l.column>=u){if(l.lineNumber===i.getLineCount())continue;var c=new bn(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),h=i.getValueInRange(c).split("").reverse().join("");o.push(new hE(new Cn(l.lineNumber,Math.max(1,l.column-1),l.lineNumber+1,1),h))}else{c=new bn(l.lineNumber,Math.max(1,l.column-1),l.lineNumber,l.column+1),h=i.getValueInRange(c).split("").reverse().join("");o.push(new gE(c,h,new Cn(l.lineNumber,l.column+1,l.lineNumber,l.column+1)))}}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}},t}(Cm),OX=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return lX(t,e),t.prototype.run=function(e,t){var n=t.getSelections();if(null!==n){var i=t.getModel();if(null!==i){for(var o=t.getOption(96),r=[],s=0,a=n.length;s<a;s++){var l=n[s];if(l.isEmpty()){var u=l.getStartPosition(),c=i.getWordAtPosition(u);if(!c)continue;var h=new bn(u.lineNumber,c.startColumn,u.lineNumber,c.endColumn),d=i.getValueInRange(h);r.push(new gE(h,this._modifyText(d,o),new Cn(u.lineNumber,u.column,u.lineNumber,u.column)))}else{d=i.getValueInRange(l);r.push(new gE(l,this._modifyText(d,o),l))}}t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}}},t}(Cm),DX=function(e){function t(){return e.call(this,{id:"editor.action.transformToUppercase",label:r("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:xE.writable})||this}return lX(t,e),t.prototype._modifyText=function(e,t){return e.toLocaleUpperCase()},t}(OX),NX=function(e){function t(){return e.call(this,{id:"editor.action.transformToLowercase",label:r("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:xE.writable})||this}return lX(t,e),t.prototype._modifyText=function(e,t){return e.toLocaleLowerCase()},t}(OX),RX=function(e){function t(){return e.call(this,{id:"editor.action.transformToTitlecase",label:r("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:xE.writable})||this}return lX(t,e),t.prototype._modifyText=function(e,t){for(var n="\r\n\t "+t,i=n.split(""),o="",r=!0,s=0;s<e.length;s++){var a=e[s];i.indexOf(a)>=0?(r=!0,o+=a):r?(r=!1,o+=a.toLocaleUpperCase()):o+=a.toLocaleLowerCase()}return o},t}(OX);Lm(cX),Lm(hX),Lm(dX),Lm(fX),Lm(gX),Lm(_X),Lm(vX),Lm(yX),Lm(bX),Lm(wX),Lm(CX),Lm(SX),Lm(EX),Lm(kX),Lm(xX),Lm(LX),Lm(IX),Lm(DX),Lm(NX),Lm(RX);n("607c");var AX=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),MX=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},PX=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},FX=function(){function e(e,t){this._link=e,this._provider=t}return e.prototype.toJSON=function(){return{range:this.range,url:this.url,tooltip:this.tooltip}},Object.defineProperty(e.prototype,"range",{get:function(){return this._link.range},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._link.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tooltip",{get:function(){return this._link.tooltip},enumerable:!0,configurable:!0}),e.prototype.resolve=function(e){return MX(this,void 0,void 0,(function(){var t=this;return PX(this,(function(n){return this._link.url?[2,this._link.url]:"function"===typeof this._provider.resolveLink?[2,Promise.resolve(this._provider.resolveLink(this._link,e)).then((function(n){return t._link=n||t._link,t._link.url?t.resolve(e):Promise.reject(new Error("missing"))}))]:[2,Promise.reject(new Error("missing"))]}))}))},e}(),BX=function(e){function t(n){for(var i=e.call(this)||this,o=[],r=function(e,n){var i=e.links.map((function(e){return new FX(e,n)}));o=t._union(o,i),Le(n)&&s._register(n)},s=this,a=0,l=n;a<l.length;a++){var u=l[a],c=u[0],h=u[1];r(c,h)}return i.links=o,i}return AX(t,e),t._union=function(e,t){var n,i,o,r,s=[];for(n=0,o=0,i=e.length,r=t.length;n<i&&o<r;){var a=e[n],l=t[o];if(bn.areIntersectingOrTouching(a.range,l.range))n++;else{var u=bn.compareRangesUsingStarts(a.range,l.range);u<0?(s.push(a),n++):(s.push(l),o++)}}for(;n<i;n++)s.push(e[n]);for(;o<r;o++)s.push(t[o]);return s},t}(Ae);function VX(e,t){var n=[],i=ju.ordered(e).reverse().map((function(i,o){return Promise.resolve(i.provideLinks(e,t)).then((function(e){e&&(n[o]=[e,i])}),me)}));return Promise.all(i).then((function(){var e=new BX(Bi(n));return t.isCancellationRequested?(e.dispose(),new BX([])):e}))}Ya.registerCommand("_executeLinkProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return MX(void 0,void 0,void 0,(function(){var n,i,o,r;return PX(this,(function(s){switch(s.label){case 0:return n=t[0],n instanceof Lt?(i=e.get(pu).getModel(n),i?[4,VX(i,qe.None)]:[2,[]]):[2,[]];case 1:return o=s.sent(),o?(r=o.links.slice(0),o.dispose(),[2,r]):[2,[]]}}))}))}));var HX=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$X=function(){return $X=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$X.apply(this,arguments)},WX=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},UX=function(e,t){return function(n,i){t(n,i,e)}},zX=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},jX=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function GX(e,t){var n=e.url&&/^command:/i.test(e.url.toString()),i=e.tooltip?e.tooltip:n?r("links.navigate.executeCmd","Execute command"):r("links.navigate.follow","Follow link"),o=t?s["e"]?r("links.navigate.kb.meta.mac","cmd + click"):r("links.navigate.kb.meta","ctrl + click"):s["e"]?r("links.navigate.kb.alt.mac","option + click"):r("links.navigate.kb.alt","alt + click");if(e.url){var a=new dq("",!0).appendMarkdown("["+i+"]("+e.url.toString()+") ("+o+")");return a}return(new dq).appendText(i+" ("+o+")")}var KX={general:Xy.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Xy.register({stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})},qX=function(){function e(e,t){this.link=e,this.decorationId=t}return e.decoration=function(t,n){return{range:t.range,options:e._getOptions(t,n,!1)}},e._getOptions=function(e,t,n){var i=$X({},n?KX.active:KX.general);return i.hoverMessage=GX(e,t),i},e.prototype.activate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!0))},e.prototype.deactivate=function(t,n){t.changeDecorationOptions(this.decorationId,e._getOptions(this.link,n,!1))},e}(),YX=function(){function e(e,t,n){var i=this;this.listenersToRemove=new Re,this.editor=e,this.openerService=t,this.notificationService=n;var o=new Tq(e);this.listenersToRemove.add(o),this.listenersToRemove.add(o.onMouseMoveOrRelevantKeyDown((function(e){var t=e[0],n=e[1];i._onEditorMouseMove(t,n)}))),this.listenersToRemove.add(o.onExecute((function(e){i.onEditorMouseUp(e)}))),this.listenersToRemove.add(o.onCancel((function(e){i.cleanUpActiveLinkDecoration()}))),this.enabled=e.getOption(52),this.listenersToRemove.add(e.onDidChangeConfiguration((function(t){var n=e.getOption(52);i.enabled!==n&&(i.enabled=n,i.updateDecorations([]),i.stop(),i.beginCompute())}))),this.listenersToRemove.add(e.onDidChangeModelContent((function(e){return i.onChange()}))),this.listenersToRemove.add(e.onDidChangeModel((function(e){return i.onModelChanged()}))),this.listenersToRemove.add(e.onDidChangeModelLanguage((function(e){return i.onModelModeChanged()}))),this.listenersToRemove.add(ju.onDidChange((function(e){return i.onModelModeChanged()}))),this.timeout=new Ei,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.onModelChanged=function(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()},e.prototype.onModelModeChanged=function(){this.stop(),this.beginCompute()},e.prototype.onChange=function(){var t=this;this.timeout.setIfNotSet((function(){return t.beginCompute()}),e.RECOMPUTE_TIME)},e.prototype.beginCompute=function(){return zX(this,void 0,void 0,(function(){var e,t,n;return jX(this,(function(i){switch(i.label){case 0:if(!this.editor.hasModel()||!this.enabled)return[2];if(e=this.editor.getModel(),!ju.has(e))return[2];this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=_i((function(t){return VX(e,t)})),i.label=1;case 1:return i.trys.push([1,3,4,5]),t=this,[4,this.computePromise];case 2:return t.activeLinksList=i.sent(),this.updateDecorations(this.activeLinksList.links),[3,5];case 3:return n=i.sent(),ge(n),[3,5];case 4:return this.computePromise=null,[7];case 5:return[2]}}))}))},e.prototype.updateDecorations=function(e){for(var t="altKey"===this.editor.getOption(59),n=[],i=Object.keys(this.currentOccurrences),o=0,r=i.length;o<r;o++){var s=i[o],a=this.currentOccurrences[s];n.push(a.decorationId)}var l=[];if(e)for(var u=0,c=e;u<c.length;u++){var h=c[u];l.push(qX.decoration(h,t))}var d=this.editor.deltaDecorations(n,l);this.currentOccurrences={},this.activeLinkDecorationId=null;for(o=0,r=d.length;o<r;o++){a=new qX(e[o],d[o]);this.currentOccurrences[a.decorationId]=a}},e.prototype._onEditorMouseMove=function(e,t){var n=this,i="altKey"===this.editor.getOption(59);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();var o=this.getLinkOccurrence(e.target.position);o&&this.editor.changeDecorations((function(e){o.activate(e,i),n.activeLinkDecorationId=o.decorationId}))}else this.cleanUpActiveLinkDecoration()},e.prototype.cleanUpActiveLinkDecoration=function(){var e="altKey"===this.editor.getOption(59);if(this.activeLinkDecorationId){var t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((function(n){t.deactivate(n,e)})),this.activeLinkDecorationId=null}},e.prototype.onEditorMouseUp=function(e){if(this.isEnabled(e)){var t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}},e.prototype.openLinkOccurrence=function(e,t,n){var i=this;if(void 0===n&&(n=!1),this.openerService){var o=e.link;o.resolve(qe.None).then((function(e){return i.openerService.open(e,{openToSide:t,fromUserGesture:n})}),(function(e){var t=e instanceof Error?e.message:e;"invalid"===t?i.notificationService.warn(r("invalid.url","Failed to open this link because it is not well-formed: {0}",o.url.toString())):"missing"===t?i.notificationService.warn(r("missing.url","Failed to open this link because its target is missing.")):ge(e)}))}},e.prototype.getLinkOccurrence=function(e){if(!this.editor.hasModel()||!e)return null;for(var t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0),n=0,i=t;n<i.length;n++){var o=i[n],r=this.currentOccurrences[o.id];if(r)return r}return null},e.prototype.isEnabled=function(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))},e.prototype.stop=function(){this.timeout.cancel(),this.activeLinksList&&this.activeLinksList.dispose(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)},e.prototype.dispose=function(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()},e.ID="editor.linkDetector",e.RECOMPUTE_TIME=1e3,e=WX([UX(1,Ja),UX(2,ig)],e),e}(),XX=function(e){function t(){return e.call(this,{id:"editor.action.openLink",label:r("label","Open Link"),alias:"Open Link",precondition:void 0})||this}return HX(t,e),t.prototype.run=function(e,t){var n=YX.get(t);if(n&&t.hasModel())for(var i=t.getSelections(),o=0,r=i;o<r.length;o++){var s=r[o],a=n.getLinkOccurrence(s.getEndPosition());a&&n.openLinkOccurrence(a,!1)}},t}(Cm);Om(YX.ID,YX),Lm(XX),w_((function(e,t){var n=e.getColor(aC);n&&t.addRule(".monaco-editor .detected-link-active { color: "+n+" !important; }")}));var ZX=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),JX=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorAbove",label:r("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:xE.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:25,group:"3_multi",title:r({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})||this}return ZX(t,e),t.prototype.run=function(e,t,n){if(t.hasModel()){var i=n&&!0===n.logicalLine,o=t._getCursors(),r=o.context;r.config.readOnly||(r.model.pushStackElement(),o.setStates(n.source,3,EE.addCursorUp(r,o.getAll(),i)),o.reveal(n.source,!0,1,0))}},t}(Cm),QX=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorBelow",label:r("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:xE.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:25,group:"3_multi",title:r({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})||this}return ZX(t,e),t.prototype.run=function(e,t,n){if(t.hasModel()){var i=n&&!0===n.logicalLine,o=t._getCursors(),r=o.context;r.config.readOnly||(r.model.pushStackElement(),o.setStates(n.source,3,EE.addCursorDown(r,o.getAll(),i)),o.reveal(n.source,!0,2,0))}},t}(Cm),eZ=function(e){function t(){return e.call(this,{id:"editor.action.insertCursorAtEndOfEachLineSelected",label:r("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:xE.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:25,group:"3_multi",title:r({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})||this}return ZX(t,e),t.prototype.getCursorsForSelection=function(e,t,n){if(!e.isEmpty()){for(var i=e.startLineNumber;i<e.endLineNumber;i++){var o=t.getLineMaxColumn(i);n.push(new Cn(i,o,i,o))}e.endColumn>1&&n.push(new Cn(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}},t.prototype.run=function(e,t){var n=this;if(t.hasModel()){var i=t.getModel(),o=t.getSelections(),r=[];o.forEach((function(e){return n.getCursorsForSelection(e,i,r)})),r.length>0&&t.setSelections(r)}},t}(Cm),tZ=function(e){function t(){return e.call(this,{id:"editor.action.addCursorsToBottom",label:r("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})||this}return ZX(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getSelections(),i=t.getModel().getLineCount(),o=[],r=n[0].startLineNumber;r<=i;r++)o.push(new Cn(r,n[0].startColumn,r,n[0].endColumn));o.length>0&&t.setSelections(o)}},t}(Cm),nZ=function(e){function t(){return e.call(this,{id:"editor.action.addCursorsToTop",label:r("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})||this}return ZX(t,e),t.prototype.run=function(e,t){if(t.hasModel()){for(var n=t.getSelections(),i=[],o=n[0].startLineNumber;o>=1;o--)i.push(new Cn(o,n[0].startColumn,o,n[0].endColumn));i.length>0&&t.setSelections(i)}},t}(Cm),iZ=function(){function e(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}return e}(),oZ=function(){function e(e,t,n,i,o,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=i,this.wholeWord=o,this.matchCase=r,this.currentMatch=s}return e.create=function(t,n){if(!t.hasModel())return null;var i=n.getState();if(!t.hasTextFocus()&&i.isRevealed&&i.searchString.length>0)return new e(t,n,!1,i.searchString,i.wholeWord,i.matchCase,null);var o,r,s=!1,a=t.getSelections();1===a.length&&a[0].isEmpty()?(s=!0,o=!0,r=!0):(o=i.wholeWord,r=i.matchCase);var l,u=t.getSelection(),c=null;if(u.isEmpty()){var h=t.getModel().getWordAtPosition(u.getStartPosition());if(!h)return null;l=h.word,c=new Cn(u.startLineNumber,h.startColumn,u.startLineNumber,h.endColumn)}else l=t.getModel().getValueInRange(u).replace(/\r\n/g,"\n");return new e(t,n,s,l,o,r,c)},e.prototype.addSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new iZ(t.concat(e),e,0)},e.prototype.moveSelectionToNextFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getNextMatch();if(!e)return null;var t=this._editor.getSelections();return new iZ(t.slice(0,t.length-1).concat(e),e,0)},e.prototype._getNextMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],i=this._editor.getModel().findNextMatch(this.searchText,n.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1);return i?new Cn(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},e.prototype.addSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new iZ(t.concat(e),e,0)},e.prototype.moveSelectionToPreviousFindMatch=function(){if(!this._editor.hasModel())return null;var e=this._getPreviousMatch();if(!e)return null;var t=this._editor.getSelections();return new iZ(t.slice(0,t.length-1).concat(e),e,0)},e.prototype._getPreviousMatch=function(){if(!this._editor.hasModel())return null;if(this.currentMatch){var e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();var t=this._editor.getSelections(),n=t[t.length-1],i=this._editor.getModel().findPreviousMatch(this.searchText,n.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1);return i?new Cn(i.range.startLineNumber,i.range.startColumn,i.range.endLineNumber,i.range.endColumn):null},e.prototype.selectAll=function(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(96):null,!1,1073741824)):[]},e}(),rZ=function(e){function t(t){var n=e.call(this)||this;return n._sessionDispose=n._register(new Re),n._editor=t,n._ignoreSelectionChange=!1,n._session=null,n}return ZX(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this._endSession(),e.prototype.dispose.call(this)},t.prototype._beginSessionIfNeeded=function(e){var t=this;if(!this._session){var n=oZ.create(this._editor,e);if(!n)return;this._session=n;var i={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(i.wholeWordOverride=1,i.matchCaseOverride=1,i.isRegexOverride=2),e.getState().change(i,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((function(e){t._ignoreSelectionChange||t._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((function(){t._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((function(e){(e.matchCase||e.wholeWord)&&t._endSession()})))}},t.prototype._endSession=function(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){var e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null},t.prototype._setSelections=function(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1},t.prototype._expandEmptyToWord=function(e,t){if(!t.isEmpty())return t;var n=e.getWordAtPosition(t.getStartPosition());return n?new Cn(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t},t.prototype._applySessionResult=function(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))},t.prototype.getSession=function(e){return this._session},t.prototype.addSelectionToNextFindMatch=function(e){if(this._editor.hasModel()){if(!this._session){var t=this._editor.getSelections();if(t.length>1){var n=e.getState(),i=n.matchCase,o=gZ(this._editor.getModel(),t,i);if(!o){for(var r=this._editor.getModel(),s=[],a=0,l=t.length;a<l;a++)s[a]=this._expandEmptyToWord(r,t[a]);return void this._editor.setSelections(s)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}},t.prototype.addSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())},t.prototype.moveSelectionToNextFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())},t.prototype.moveSelectionToPreviousFindMatch=function(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())},t.prototype.selectAll=function(e){if(this._editor.hasModel()){var t=null,n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex)t=this._editor.getModel().findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(96):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(n.searchScope){for(var i=n.searchScope,o=[],r=0;r<t.length;r++)t[r].range.endLineNumber<=i.endLineNumber&&t[r].range.startLineNumber>=i.startLineNumber&&o.push(t[r]);t=o}if(t.length>0){for(var s=this._editor.getSelection(),a=(r=0,t.length);r<a;r++){var l=t[r],u=l.range.intersectRanges(s);if(u){t[r]=t[0],t[0]=l;break}}this._setSelections(t.map((function(e){return new Cn(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn)})))}}},t.ID="editor.contrib.multiCursorController",t}(Ae),sZ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ZX(t,e),t.prototype.run=function(e,t){var n=rZ.get(t);if(n){var i=hz.get(t);i&&this._run(n,i)}},t}(Cm),aZ=function(e){function t(){return e.call(this,{id:"editor.action.addSelectionToNextFindMatch",label:r("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:2082,weight:100},menuOpts:{menuId:25,group:"3_multi",title:r({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})||this}return ZX(t,e),t.prototype._run=function(e,t){e.addSelectionToNextFindMatch(t)},t}(sZ),lZ=function(e){function t(){return e.call(this,{id:"editor.action.addSelectionToPreviousFindMatch",label:r("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:25,group:"3_multi",title:r({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})||this}return ZX(t,e),t.prototype._run=function(e,t){e.addSelectionToPreviousFindMatch(t)},t}(sZ),uZ=function(e){function t(){return e.call(this,{id:"editor.action.moveSelectionToNextFindMatch",label:r("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:ct(2089,2082),weight:100}})||this}return ZX(t,e),t.prototype._run=function(e,t){e.moveSelectionToNextFindMatch(t)},t}(sZ),cZ=function(e){function t(){return e.call(this,{id:"editor.action.moveSelectionToPreviousFindMatch",label:r("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})||this}return ZX(t,e),t.prototype._run=function(e,t){e.moveSelectionToPreviousFindMatch(t)},t}(sZ),hZ=function(e){function t(){return e.call(this,{id:"editor.action.selectHighlights",label:r("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:3114,weight:100},menuOpts:{menuId:25,group:"3_multi",title:r({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})||this}return ZX(t,e),t.prototype._run=function(e,t){e.selectAll(t)},t}(sZ),dZ=function(e){function t(){return e.call(this,{id:"editor.action.changeAll",label:r("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:xf.and(xE.writable,xE.editorTextFocus),kbOpts:{kbExpr:xE.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})||this}return ZX(t,e),t.prototype._run=function(e,t){e.selectAll(t)},t}(sZ),pZ=function(){function e(e,t,n){this.searchText=e,this.matchCase=t,this.wordSeparators=n}return e.softEquals=function(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators)},e}(),fZ=function(e){function t(t){var n=e.call(this)||this;return n.editor=t,n._isEnabled=t.getOption(82),n.decorations=[],n.updateSoon=n._register(new ki((function(){return n._update()}),300)),n.state=null,n._register(t.onDidChangeConfiguration((function(e){n._isEnabled=t.getOption(82)}))),n._register(t.onDidChangeCursorSelection((function(e){n._isEnabled&&(e.selection.isEmpty()?3===e.reason?(n.state&&n._setState(null),n.updateSoon.schedule()):n._setState(null):n._update())}))),n._register(t.onDidChangeModel((function(e){n._setState(null)}))),n._register(hz.get(t).getState().onFindReplaceStateChange((function(e){n._update()}))),n}return ZX(t,e),t.prototype._update=function(){this._setState(t._createState(this._isEnabled,this.editor))},t._createState=function(e,t){if(!e)return null;if(!t.hasModel())return null;var n=t.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;var i=rZ.get(t);if(!i)return null;var o=hz.get(t);if(!o)return null;var r=i.getSession(o);if(!r){var s=t.getSelections();if(s.length>1){var a=o.getState(),l=a.matchCase,u=gZ(t.getModel(),s,l);if(!u)return null}r=oZ.create(t,o)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(r.searchText.length>200)return null;var c=o.getState(),h=c.matchCase;if(c.isRevealed){var d=c.searchString;h||(d=d.toLowerCase());var p=r.searchText;if(h||(p=p.toLowerCase()),d===p&&r.matchCase===c.matchCase&&r.wholeWord===c.wholeWord&&!c.isRegex)return null}return new pZ(r.searchText,r.matchCase,r.wholeWord?t.getOption(96):null)},t.prototype._setState=function(e){if(pZ.softEquals(this.state,e))this.state=e;else if(this.state=e,this.state){if(this.editor.hasModel()){var n=this.editor.getModel();if(!n.isTooLargeForTokenization()){var i=Mu.has(n),o=n.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map((function(e){return e.range}));o.sort(bn.compareRangesUsingStarts);var r=this.editor.getSelections();r.sort(bn.compareRangesUsingStarts);for(var s=[],a=0,l=0,u=o.length,c=r.length;a<u;){var h=o[a];if(l>=c)s.push(h),a++;else{var d=bn.compareRangesUsingStarts(h,r[l]);d<0?(!r[l].isEmpty()&&bn.areIntersecting(h,r[l])||s.push(h),a++):(d>0||a++,l++)}}var p=s.map((function(e){return{range:e,options:i?t._SELECTION_HIGHLIGHT:t._SELECTION_HIGHLIGHT_OVERVIEW}}));this.decorations=this.editor.deltaDecorations(this.decorations,p)}}}else this.decorations=this.editor.deltaDecorations(this.decorations,[])},t.prototype.dispose=function(){this._setState(null),e.prototype.dispose.call(this)},t.ID="editor.contrib.selectionHighlighter",t._SELECTION_HIGHLIGHT_OVERVIEW=Xy.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:f_(zC),position:Il.Center}}),t._SELECTION_HIGHLIGHT=Xy.register({stickiness:1,className:"selectionHighlight"}),t}(Ae);function gZ(e,t,n){for(var i=mZ(e,t[0],!n),o=1,r=t.length;o<r;o++){var s=t[o];if(s.isEmpty())return!1;var a=mZ(e,s,!n);if(i!==a)return!1}return!0}function mZ(e,t,n){var i=e.getValueInRange(t);return n?i.toLowerCase():i}Om(rZ.ID,rZ),Om(fZ.ID,fZ),Lm(JX),Lm(QX),Lm(eZ),Lm(aZ),Lm(lZ),Lm(uZ),Lm(cZ),Lm(hZ),Lm(dZ),Lm(tZ),Lm(nZ);n("cab5");var _Z=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},vZ=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},yZ={Visible:new Ff("parameterHintsVisible",!1),MultipleSignatures:new Ff("parameterHintsMultipleSignatures",!1)};function bZ(e,t,n,i){var o=Nu.ordered(e);return Ci(o.map((function(o){return function(){return Promise.resolve(o.provideSignatureHelp(e,t,i,n)).catch((function(e){return me(e)}))}})))}Em("_executeSignatureHelpProvider",(function(e,t,n){return _Z(void 0,void 0,void 0,(function(){var i;return vZ(this,(function(o){switch(o.label){case 0:return[4,bZ(e,t,{triggerKind:mu.Invoke,isRetrigger:!1,triggerCharacter:n["triggerCharacter"]},qe.None)];case 1:return i=o.sent(),i?(setTimeout((function(){return i.dispose()}),0),[2,i.value]):[2,void 0]}}))}))}));var wZ,CZ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),SZ=function(){return SZ=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},SZ.apply(this,arguments)},EZ=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},TZ=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};(function(e){e.Default={type:0};var t=function(){function e(e){this.request=e,this.type=2}return e}();e.Pending=t;var n=function(){function e(e){this.hints=e,this.type=1}return e}();e.Active=n})(wZ||(wZ={}));var kZ=function(e){function t(n,i){void 0===i&&(i=t.DEFAULT_DELAY);var o=e.call(this)||this;return o._onChangedHints=o._register(new Ze),o.onChangedHints=o._onChangedHints.event,o.triggerOnType=!1,o._state=wZ.Default,o._pendingTriggers=[],o._lastSignatureHelpResult=o._register(new Me),o.triggerChars=new bh,o.retriggerChars=new bh,o.triggerId=0,o.editor=n,o.throttledDelayer=new yi(i),o._register(o.editor.onDidChangeConfiguration((function(){return o.onEditorConfigurationChange()}))),o._register(o.editor.onDidChangeModel((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeModelLanguage((function(e){return o.onModelChanged()}))),o._register(o.editor.onDidChangeCursorSelection((function(e){return o.onCursorChange(e)}))),o._register(o.editor.onDidChangeModelContent((function(e){return o.onModelContentChange()}))),o._register(Nu.onDidChange(o.onModelChanged,o)),o._register(o.editor.onDidType((function(e){return o.onDidType(e)}))),o.onEditorConfigurationChange(),o.onModelChanged(),o}return CZ(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){2===this._state.type&&this._state.request.cancel(),this._state=e},enumerable:!0,configurable:!0}),t.prototype.cancel=function(e){void 0===e&&(e=!1),this.state=wZ.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)},t.prototype.trigger=function(e,t){var n=this,i=this.editor.getModel();if(i&&Nu.has(i)){var o=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((function(){return n.doTrigger(o)}),t).catch(ge)}},t.prototype.next=function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e===e-1,i=this.editor.getOption(64).cycle;!(e<2||n)||i?this.updateActiveSignature(n&&i?0:t+1):this.cancel()}},t.prototype.previous=function(){if(1===this.state.type){var e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=0===t,i=this.editor.getOption(64).cycle;!(e<2||n)||i?this.updateActiveSignature(n&&i?e-1:t-1):this.cancel()}},t.prototype.updateActiveSignature=function(e){1===this.state.type&&(this.state=new wZ.Active(SZ(SZ({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))},t.prototype.doTrigger=function(e){return EZ(this,void 0,void 0,(function(){var t,n,i,o,r,s,a,l;return TZ(this,(function(u){switch(u.label){case 0:if(t=1===this.state.type||2===this.state.type,n=1===this.state.type?this.state.hints:void 0,this.cancel(!0),0===this._pendingTriggers.length)return[2,!1];if(i=this._pendingTriggers.reduce(xZ),this._pendingTriggers=[],o={triggerKind:i.triggerKind,triggerCharacter:i.triggerCharacter,isRetrigger:t,activeSignatureHelp:n},!this.editor.hasModel())return[2,!1];r=this.editor.getModel(),s=this.editor.getPosition(),this.state=new wZ.Pending(_i((function(e){return bZ(r,s,o,e)}))),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.state.request];case 2:return a=u.sent(),e!==this.triggerId?(null===a||void 0===a||a.dispose(),[2,!1]):a&&a.value.signatures&&0!==a.value.signatures.length?(this.state=new wZ.Active(a.value),this._lastSignatureHelpResult.value=a,this._onChangedHints.fire(this.state.hints),[2,!0]):(null===a||void 0===a||a.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),[2,!1]);case 3:return l=u.sent(),e===this.triggerId&&(this.state=wZ.Default),ge(l),[2,!1];case 4:return[2]}}))}))},Object.defineProperty(t.prototype,"isTriggered",{get:function(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()},enumerable:!0,configurable:!0}),t.prototype.onModelChanged=function(){this.cancel(),this.triggerChars=new bh,this.retriggerChars=new bh;var e=this.editor.getModel();if(e)for(var t=0,n=Nu.ordered(e);t<n.length;t++){for(var i=n[t],o=0,r=i.signatureHelpTriggerCharacters||[];o<r.length;o++){var s=r[o];this.triggerChars.add(s.charCodeAt(0)),this.retriggerChars.add(s.charCodeAt(0))}for(var a=0,l=i.signatureHelpRetriggerCharacters||[];a<l.length;a++){s=l[a];this.retriggerChars.add(s.charCodeAt(0))}}},t.prototype.onDidType=function(e){if(this.triggerOnType){var t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:mu.TriggerCharacter,triggerCharacter:e.charAt(t)})}},t.prototype.onCursorChange=function(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:mu.ContentChange})},t.prototype.onModelContentChange=function(){this.isTriggered&&this.trigger({triggerKind:mu.ContentChange})},t.prototype.onEditorConfigurationChange=function(){this.triggerOnType=this.editor.getOption(64).enabled,this.triggerOnType||this.cancel()},t.prototype.dispose=function(){this.cancel(!0),e.prototype.dispose.call(this)},t.DEFAULT_DELAY=120,t}(Ae);function xZ(e,t){switch(t.triggerKind){case mu.Invoke:return t;case mu.ContentChange:return e;case mu.TriggerCharacter:default:return t}}var LZ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),IZ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},OZ=function(e,t){return function(n,i){t(n,i,e)}},DZ=_r,NZ=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.editor=t,r.renderDisposeables=r._register(new Re),r.visible=!1,r.announcedLabel=null,r.allowEditorOverflow=!0,r.markdownRenderer=r._register(new xY(t,o,i)),r.model=r._register(new kZ(t)),r.keyVisible=yZ.Visible.bindTo(n),r.keyMultipleSignatures=yZ.MultipleSignatures.bindTo(n),r._register(r.model.onChangedHints((function(e){e?(r.show(),r.render(e)):r.hide()}))),r}return LZ(t,e),t.prototype.createParamaterHintDOMNodes=function(){var e=this,t=DZ(".editor-widget.parameter-hints-widget"),n=pr(t,DZ(".wrapper"));n.tabIndex=-1;var i=pr(n,DZ(".controls")),o=pr(i,DZ(".button.codicon.codicon-chevron-up")),r=pr(i,DZ(".overloads")),s=pr(i,DZ(".button.codicon.codicon-chevron-down")),a=Jn(Zn(o,"click"));this._register(a(this.previous,this));var l=Jn(Zn(s,"click"));this._register(l(this.next,this));var u=DZ(".body"),c=new KT(u,{});this._register(c),n.appendChild(c.getDomNode());var h=pr(u,DZ(".signature")),d=pr(u,DZ(".docs"));t.style.userSelect="text",this.domNodes={element:t,signature:h,overloads:r,docs:d,scrollbar:c},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((function(t){e.visible&&e.editor.layoutContentWidget(e)})));var p=function(){if(e.domNodes){var t=e.editor.getOption(34);e.domNodes.element.style.fontSize=t.fontSize+"px"}};p(),this._register($e.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(34)})).on(p,null)),this._register(this.editor.onDidLayoutChange((function(t){return e.updateMaxHeight()}))),this.updateMaxHeight()},t.prototype.show=function(){var e=this;this.visible||(this.domNodes||this.createParamaterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((function(){e.domNodes&&fo(e.domNodes.element,"visible")}),100),this.editor.layoutContentWidget(this))},t.prototype.hide=function(){this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&mo(this.domNodes.element,"visible"),this.editor.layoutContentWidget(this))},t.prototype.getPosition=function(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null},t.prototype.render=function(e){if(this.domNodes){var t=e.signatures.length>1;vo(this.domNodes.element,"multiple",t),this.keyMultipleSignatures.set(t),this.domNodes.signature.innerHTML="",this.domNodes.docs.innerHTML="";var n=e.signatures[e.activeSignature];if(n){var i=pr(this.domNodes.signature,DZ(".code")),o=n.parameters.length>0,s=this.editor.getOption(34);if(i.style.fontSize=s.fontSize+"px",i.style.fontFamily=s.fontFamily,o)this.renderParameters(i,n,e.activeParameter);else{var a=pr(i,DZ("span"));a.textContent=n.label}this.renderDisposeables.clear();var l=n.parameters[e.activeParameter];if(l&&l.documentation){var u=DZ("span.documentation");if("string"===typeof l.documentation)u.textContent=l.documentation;else{var c=this.markdownRenderer.render(l.documentation);fo(c.element,"markdown-docs"),this.renderDisposeables.add(c),u.appendChild(c.element)}pr(this.domNodes.docs,DZ("p",{},u))}if(void 0===n.documentation);else if("string"===typeof n.documentation)pr(this.domNodes.docs,DZ("p",{},n.documentation));else{c=this.markdownRenderer.render(n.documentation);fo(c.element,"markdown-docs"),this.renderDisposeables.add(c),pr(this.domNodes.docs,c.element)}var h=this.hasDocs(n,l);if(vo(this.domNodes.signature,"has-docs",h),vo(this.domNodes.docs,"empty",!h),this.domNodes.overloads.textContent=Dr(e.activeSignature+1,e.signatures.length.toString().length)+"/"+e.signatures.length,l){var d=this.getParameterLabel(n,e.activeParameter);this.announcedLabel!==d&&($g(r("hint","{0}, hint",d)),this.announcedLabel=d)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}}},t.prototype.hasDocs=function(e,t){return!!(t&&"string"===typeof t.documentation&&t.documentation.length>0)||(!!(t&&"object"===typeof t.documentation&&t.documentation.value.length>0)||("string"===typeof e.documentation&&e.documentation.length>0||"object"===typeof e.documentation&&e.documentation.value.length>0))},t.prototype.renderParameters=function(e,t,n){var i=this.getParameterLabelOffsets(t,n),o=i[0],r=i[1],s=document.createElement("span");s.textContent=t.label.substring(0,o);var a=document.createElement("span");a.textContent=t.label.substring(o,r),a.className="parameter active";var l=document.createElement("span");l.textContent=t.label.substring(r),pr(e,s,a,l)},t.prototype.getParameterLabel=function(e,t){var n=e.parameters[t];return"string"===typeof n.label?n.label:e.label.substring(n.label[0],n.label[1])},t.prototype.getParameterLabelOffsets=function(e,t){var n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;var i=e.label.lastIndexOf(n.label);return i>=0?[i,i+n.label.length]:[0,0]}return[0,0]},t.prototype.next=function(){this.editor.focus(),this.model.next()},t.prototype.previous=function(){this.editor.focus(),this.model.previous()},t.prototype.cancel=function(){this.model.cancel()},t.prototype.getDomNode=function(){return this.domNodes||this.createParamaterHintDOMNodes(),this.domNodes.element},t.prototype.getId=function(){return t.ID},t.prototype.trigger=function(e){this.model.trigger(e,0)},t.prototype.updateMaxHeight=function(){if(this.domNodes){var e=Math.max(this.editor.getLayoutInfo().height/4,250),t=e+"px";this.domNodes.element.style.maxHeight=t;var n=this.domNodes.element.getElementsByClassName("wrapper");n.length&&(n[0].style.maxHeight=t)}},t.ID="editor.widget.parameterHintsWidget",t=IZ([OZ(1,Bf),OZ(2,Ja),OZ(3,tO)],t),t}(Ae);w_((function(e,t){var n=e.getColor(rC);if(n){var i=e.type===m_?2:1;t.addRule(".monaco-editor .parameter-hints-widget { border: "+i+"px solid "+n+"; }"),t.addRule(".monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid "+n.transparent(.5)+"; }"),t.addRule(".monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid "+n.transparent(.5)+"; }")}var o=e.getColor(iC);o&&t.addRule(".monaco-editor .parameter-hints-widget { background-color: "+o+"; }");var r=e.getColor(iw);r&&t.addRule(".monaco-editor .parameter-hints-widget a { color: "+r+"; }");var s=e.getColor(oC);s&&t.addRule(".monaco-editor .parameter-hints-widget { color: "+s+"; }");var a=e.getColor(ow);a&&t.addRule(".monaco-editor .parameter-hints-widget code { background-color: "+a+"; }")}));var RZ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),AZ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},MZ=function(e,t){return function(n,i){t(n,i,e)}},PZ=function(e){function t(t,n){var i=e.call(this)||this;return i.editor=t,i.widget=i._register(n.createInstance(NZ,i.editor)),i}return RZ(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.cancel=function(){this.widget.cancel()},t.prototype.previous=function(){this.widget.previous()},t.prototype.next=function(){this.widget.next()},t.prototype.trigger=function(e){this.widget.trigger(e)},t.ID="editor.controller.parameterHints",t=AZ([MZ(1,In)],t),t}(Ae),FZ=function(e){function t(){return e.call(this,{id:"editor.action.triggerParameterHints",label:r("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:xE.hasSignatureHelpProvider,kbOpts:{kbExpr:xE.editorTextFocus,primary:3082,weight:100}})||this}return RZ(t,e),t.prototype.run=function(e,t){var n=PZ.get(t);n&&n.trigger({triggerKind:mu.Invoke})},t}(Cm);Om(PZ.ID,PZ),Lm(FZ);var BZ=175,VZ=wm.bindToContribution(PZ.get);xm(new VZ({id:"closeParameterHints",precondition:yZ.Visible,handler:function(e){return e.cancel()},kbOpts:{weight:BZ,kbExpr:xE.focus,primary:9,secondary:[1033]}})),xm(new VZ({id:"showPrevParameterHint",precondition:xf.and(yZ.Visible,yZ.MultipleSignatures),handler:function(e){return e.previous()},kbOpts:{weight:BZ,kbExpr:xE.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),xm(new VZ({id:"showNextParameterHint",precondition:xf.and(yZ.Visible,yZ.MultipleSignatures),handler:function(e){return e.next()},kbOpts:{weight:BZ,kbExpr:xE.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));n("0632");var HZ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},$Z=function(e,t){return function(n,i){t(n,i,e)}},WZ=new Ff("renameInputVisible",!1),UZ=function(){function e(e,t,n,i,o){var r=this;this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=i,this._disposables=new Re,this.allowEditorOverflow=!0,this._visibleContextKey=WZ.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((function(e){e.hasChanged(34)&&r._updateFont()}))),this._disposables.add(n.onThemeChange(this._updateStyles,this))}return e.prototype.dispose=function(){this._disposables.dispose(),this._editor.removeContentWidget(this)},e.prototype.getId=function(){return"__renameInputWidget"},e.prototype.getDomNode=function(){var e=this;if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",r("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);var t=function(){var t,n,i=e._acceptKeybindings,o=i[0],s=i[1];e._keybindingService.lookupKeybinding(o),e._label.innerText=r("label","{0} to Rename, {1} to Preview",null===(t=e._keybindingService.lookupKeybinding(o))||void 0===t?void 0:t.getLabel(),null===(n=e._keybindingService.lookupKeybinding(s))||void 0===n?void 0:n.getLabel())};t(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(t)),this._updateFont(),this._updateStyles(this._themeService.getTheme())}return this._domNode},e.prototype._updateStyles=function(e){var t,n,i,o;if(this._input&&this._domNode){var r=e.getColor(rw);this._domNode.style.backgroundColor=String(null!==(t=e.getColor($w))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?" 0 2px 8px "+r:"",this._domNode.style.color=String(null!==(n=e.getColor(aw))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(i=e.getColor(sw))&&void 0!==i?i:"");var s=e.getColor(lw);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=null!==(o=null===s||void 0===s?void 0:s.toString())&&void 0!==o?o:"none"}},e.prototype._updateFont=function(){if(this._input&&this._label){var e=this._editor.getOption(34);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=e.fontSize+"px",this._label.style.fontSize=.8*e.fontSize+"px"}},e.prototype.getPosition=function(){return this._visible?{position:this._position,preference:[2,1]}:null},e.prototype.acceptInput=function(e){this._currentAcceptInput&&this._currentAcceptInput(e)},e.prototype.cancelInput=function(e){this._currentCancelInput&&this._currentCancelInput(e)},e.prototype.getInput=function(e,t,n,i,o){var r=this;vo(this._domNode,"preview",o),this._position=new yn(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",i.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);var s=new Re;return new Promise((function(n){r._currentCancelInput=function(e){return r._currentAcceptInput=void 0,r._currentCancelInput=void 0,n(e),!0},r._currentAcceptInput=function(e){0!==r._input.value.trim().length&&r._input.value!==t?(r._currentAcceptInput=void 0,r._currentCancelInput=void 0,n({newName:r._input.value,wantsPreview:o&&e})):r.cancelInput(!0)};var i=function(){var t=r._editor.getPosition();t&&bn.containsPosition(e,t)||r.cancelInput(!0)};s.add(r._editor.onDidChangeCursorSelection(i)),s.add(r._editor.onDidBlurEditorWidget((function(){return r.cancelInput(!1)}))),r._show()})).finally((function(){s.dispose(),r._hide()}))},e.prototype._show=function(){var e=this;this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((function(){e._input.focus(),e._input.setSelectionRange(parseInt(e._input.getAttribute("selectionStart")),parseInt(e._input.getAttribute("selectionEnd")))}),100)},e.prototype._hide=function(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)},e=HZ([$Z(2,p_),$Z(3,WI),$Z(4,Bf)],e),e}(),zZ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jZ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},GZ=function(e,t){return function(n,i){t(n,i,e)}},KZ=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},qZ=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},YZ=function(){function e(e,t){this.model=e,this.position=t,this._providers=Ou.ordered(e)}return e.prototype.hasProvider=function(){return this._providers.length>0},e.prototype.resolveRenameLocation=function(e){return KZ(this,void 0,void 0,(function(){var t,n,i,o;return qZ(this,(function(r){switch(r.label){case 0:return t=this._providers[0],t?t.resolveRenameLocation?(i=Aa,[4,t.resolveRenameLocation(this.model,this.position,e)]):[3,2]:[2,void 0];case 1:n=i.apply(void 0,[r.sent()]),r.label=2;case 2:return!n&&(o=this.model.getWordAtPosition(this.position),o)?[2,{range:new bn(this.position.lineNumber,o.startColumn,this.position.lineNumber,o.endColumn),text:o.word}]:[2,n]}}))}))},e.prototype.provideRenameEdits=function(e,t,n,i){return KZ(this,void 0,void 0,(function(){var o,s;return qZ(this,(function(a){switch(a.label){case 0:return o=this._providers[t],o?[4,o.provideRenameEdits(this.model,this.position,e,i)]:[2,{edits:[],rejectReason:n.join("\n")}];case 1:return s=a.sent(),s?s.rejectReason?[2,this.provideRenameEdits(e,t+1,n.concat(s.rejectReason),i)]:[2,s]:[2,this.provideRenameEdits(e,t+1,n.concat(r("no result","No result.")),i)]}}))}))},e}();function XZ(e,t,n){return KZ(this,void 0,void 0,(function(){return qZ(this,(function(i){return[2,new YZ(e,t).provideRenameEdits(n,0,[],qe.None)]}))}))}var ZZ=function(){function e(e,t,n,i,o,r,s){var a=this;this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=i,this._progressService=o,this._logService=r,this._configService=s,this._dispoableStore=new Re,this._cts=new rt,this._renameInputField=this._dispoableStore.add(new Li((function(){return a._dispoableStore.add(a._instaService.createInstance(UZ,a.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))})))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._dispoableStore.dispose(),this._cts.dispose(!0)},e.prototype.run=function(){return KZ(this,void 0,void 0,(function(){var e,t,n,i,o,s,a,l,u,c,h,d=this;return qZ(this,(function(p){switch(p.label){case 0:if(this._cts.dispose(!0),!this.editor.hasModel())return[2,void 0];if(e=this.editor.getPosition(),t=new YZ(this.editor.getModel(),e),!t.hasProvider())return[2,void 0];this._cts=new XL(this.editor,5),p.label=1;case 1:return p.trys.push([1,3,,4]),i=t.resolveRenameLocation(this._cts.token),this._progressService.showWhile(i,250),[4,i];case 2:return n=p.sent(),[3,4];case 3:return o=p.sent(),EH.get(this.editor).showMessage(o||r("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e),[2,void 0];case 4:return n?n.rejectReason?(EH.get(this.editor).showMessage(n.rejectReason,e),[2,void 0]):this._cts.token.isCancellationRequested?[2,void 0]:(s=this.editor.getSelection(),a=0,l=n.text.length,bn.isEmpty(s)||bn.spansMultipleLines(s)||!bn.containsRange(n.range,s)||(a=Math.max(0,s.startColumn-n.range.startColumn),l=Math.min(n.range.endColumn,s.endColumn)-n.range.startColumn),u=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),[4,this._renameInputField.getValue().getInput(n.range,n.text,a,l,u)]):[2,void 0];case 5:return c=p.sent(),"boolean"===typeof c?(c&&this.editor.focus(),[2,void 0]):(this.editor.focus(),h=vi(t.provideRenameEdits(c.newName,0,[],this._cts.token),this._cts.token).then((function(e){return KZ(d,void 0,void 0,(function(){var t=this;return qZ(this,(function(i){return e&&this.editor.hasModel()?e.rejectReason?(this._notificationService.info(e.rejectReason),[2]):(this._bulkEditService.apply(e,{editor:this.editor,showPreview:c.wantsPreview,label:r("label","Renaming '{0}'",null===n||void 0===n?void 0:n.text)}).then((function(e){e.ariaSummary&&$g(r("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",n.text,c.newName,e.ariaSummary))})).catch((function(e){t._notificationService.error(r("rename.failedApply","Rename failed to apply edits")),t._logService.error(e)})),[2]):[2]}))}))}),(function(e){d._notificationService.error(r("rename.failed","Rename failed to compute edits")),d._logService.error(e)})),this._progressService.showWhile(h,250),[2,h])}}))}))},e.prototype.acceptRenameInput=function(e){this._renameInputField.getValue().acceptInput(e)},e.prototype.cancelRenameInput=function(){this._renameInputField.getValue().cancelInput(!0)},e.ID="editor.contrib.renameController",e=jZ([GZ(1,In),GZ(2,ig),GZ(3,eO),GZ(4,CI),GZ(5,Bh),GZ(6,Ph)],e),e}(),JZ=function(e){function t(){return e.call(this,{id:"editor.action.rename",label:r("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:xf.and(xE.writable,xE.hasRenameProvider),kbOpts:{kbExpr:xE.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})||this}return zZ(t,e),t.prototype.runCommand=function(t,n){var i=this,o=t.get(Rn),r=Array.isArray(n)&&n||[void 0,void 0],s=r[0],a=r[1];return Lt.isUri(s)&&yn.isIPosition(a)?o.openCodeEditor({resource:s},o.getActiveCodeEditor()).then((function(e){e&&(e.setPosition(a),e.invokeWithinContext((function(t){return i.reportTelemetry(t,e),i.run(t,e)})))}),ge):e.prototype.runCommand.call(this,t,n)},t.prototype.run=function(e,t){var n=ZZ.get(t);return n?n.run():Promise.resolve()},t}(Cm);Om(ZZ.ID,ZZ),Lm(JZ);var QZ=wm.bindToContribution(ZZ.get);xm(new QZ({id:"acceptRenameInput",precondition:WZ,handler:function(e){return e.acceptRenameInput(!1)},kbOpts:{weight:199,kbExpr:xE.focus,primary:3}})),xm(new QZ({id:"acceptRenameInputWithPreview",precondition:xf.and(WZ,xf.has("config.editor.rename.enablePreview")),handler:function(e){return e.acceptRenameInput(!0)},kbOpts:{weight:199,kbExpr:xE.focus,primary:1027}})),xm(new QZ({id:"cancelRenameInput",precondition:WZ,handler:function(e){return e.cancelRenameInput()},kbOpts:{weight:199,kbExpr:xE.focus,primary:9,secondary:[1033]}})),Em("_executeDocumentRenameProvider",(function(e,t,n){var i=n.newName;if("string"!==typeof i)throw we("newName");return XZ(e,t,i)})),pp.as(vp.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:r("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var eJ=function(){function e(){}return e.prototype.provideSelectionRanges=function(e,t){for(var n=[],i=0,o=t;i<o.length;i++){var r=o[i],s=[];n.push(s),this._addInWordRanges(s,e,r),this._addWordRanges(s,e,r),this._addWhitespaceLine(s,e,r),s.push({range:e.getFullModelRange()})}return n},e.prototype._addInWordRanges=function(e,t,n){var i=t.getWordAtPosition(n);if(i){for(var o=i.word,r=i.startColumn,s=n.column-r,a=s,l=s,u=0;a>=0;a--){var c=o.charCodeAt(a);if(95===c||45===c)break;if(Xr(c)&&Zr(u))break;u=c}for(a+=1;l<o.length;l++){c=o.charCodeAt(l);if(Zr(c)&&Xr(u))break;if(95===c||45===c)break;u=c}a<l&&e.push({range:new bn(n.lineNumber,r+a,n.lineNumber,r+l)})}},e.prototype._addWordRanges=function(e,t,n){var i=t.getWordAtPosition(n);i&&e.push({range:new bn(n.lineNumber,i.startColumn,n.lineNumber,i.endColumn)})},e.prototype._addWhitespaceLine=function(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new bn(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})},e}(),tJ=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},nJ=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},iJ=function(){function e(){}return e.prototype.provideSelectionRanges=function(t,n){return tJ(this,void 0,void 0,(function(){var i,o,r,s,a;return nJ(this,(function(l){switch(l.label){case 0:i=[],o=function(n){var o,r;return nJ(this,(function(s){switch(s.label){case 0:return o=[],i.push(o),r=new Map,[4,new Promise((function(i){return e._bracketsRightYield(i,0,t,n,r)}))];case 1:return s.sent(),[4,new Promise((function(i){return e._bracketsLeftYield(i,0,t,n,r,o)}))];case 2:return s.sent(),[2]}}))},r=0,s=n,l.label=1;case 1:return r<s.length?(a=s[r],[5,o(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return r++,[3,1];case 4:return[2,i]}}))}))},e._bracketsRightYield=function(t,n,i,o,r){var s=new Map,a=Date.now();while(1){if(n>=e._maxRounds){t();break}if(!o){t();break}var l=i.findNextBracket(o);if(!l){t();break}var u=Date.now()-a;if(u>e._maxDuration){setTimeout((function(){return e._bracketsRightYield(t,n+1,i,o,r)}));break}var c=l.close[0];if(l.isOpen){var h=s.has(c)?s.get(c):0;s.set(c,h+1)}else{h=s.has(c)?s.get(c):0;if(h-=1,s.set(c,Math.max(0,h)),h<0){var d=r.get(c);d||(d=new Ge,r.set(c,d)),d.push(l.range)}}o=l.range.getEndPosition()}},e._bracketsLeftYield=function(t,n,i,o,r,s){var a=new Map,l=Date.now();while(1){if(n>=e._maxRounds&&0===r.size){t();break}if(!o){t();break}var u=i.findPrevBracket(o);if(!u){t();break}var c=Date.now()-l;if(c>e._maxDuration){setTimeout((function(){return e._bracketsLeftYield(t,n+1,i,o,r,s)}));break}var h=u.close[0];if(u.isOpen){m=a.has(h)?a.get(h):0;if(m-=1,a.set(h,Math.max(0,m)),m<0){var d=r.get(h);if(d){var p=d.shift();0===d.size&&r.delete(h);var f=bn.fromPositions(u.range.getEndPosition(),p.getStartPosition()),g=bn.fromPositions(u.range.getStartPosition(),p.getEndPosition());s.push({range:f}),s.push({range:g}),e._addBracketLeading(i,g,s)}}}else{var m=a.has(h)?a.get(h):0;a.set(h,m+1)}o=u.range.getStartPosition()}},e._addBracketLeading=function(e,t,n){if(t.startLineNumber!==t.endLineNumber){var i=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(i);0!==o&&o!==t.startColumn&&(n.push({range:bn.fromPositions(new yn(i,o),t.getEndPosition())}),n.push({range:bn.fromPositions(new yn(i,1),t.getEndPosition())}));var r=i-1;if(r>0){var s=e.getLineFirstNonWhitespaceColumn(r);s===t.startColumn&&s!==e.getLineLastNonWhitespaceColumn(r)&&(n.push({range:bn.fromPositions(new yn(r,s),t.getEndPosition())}),n.push({range:bn.fromPositions(new yn(r,1),t.getEndPosition())}))}}},e._maxDuration=30,e._maxRounds=2,e}(),oJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rJ=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},sJ=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},aJ=function(){function e(e,t){this.index=e,this.ranges=t}return e.prototype.mov=function(t){var n=this.index+(t?1:-1);if(n<0||n>=this.ranges.length)return this;var i=new e(n,this.ranges);return i.ranges[n].equalsRange(this.ranges[this.index])?i.mov(t):i},e}(),lJ=function(){function e(e){this._ignoreSelection=!1,this._editor=e}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){Ie(this._selectionListener)},e.prototype.run=function(e){var t=this;if(this._editor.hasModel()){var n=this._editor.getSelections(),i=this._editor.getModel();if(Ku.has(i)){var o=Promise.resolve(void 0);return this._state||(o=dJ(i,n.map((function(e){return e.getPosition()})),qe.None).then((function(e){if(Hi(e)&&e.length===n.length&&t._editor.hasModel()&&Di(t._editor.getSelections(),n,(function(e,t){return e.equalsSelection(t)}))){for(var i=function(t){e[t]=e[t].filter((function(e){return e.containsPosition(n[t].getStartPosition())&&e.containsPosition(n[t].getEndPosition())})),e[t].unshift(n[t])},o=0;o<e.length;o++)i(o);t._state=e.map((function(e){return new aJ(0,e)})),Ie(t._selectionListener),t._selectionListener=t._editor.onDidChangeCursorPosition((function(){t._ignoreSelection||(Ie(t._selectionListener),t._state=void 0)}))}}))),o.then((function(){if(t._state){t._state=t._state.map((function(t){return t.mov(e)}));var n=t._state.map((function(e){return Cn.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())}));t._ignoreSelection=!0;try{t._editor.setSelections(n)}finally{t._ignoreSelection=!1}}}))}}},e.ID="editor.contrib.smartSelectController",e}(),uJ=function(e){function t(t,n){var i=e.call(this,n)||this;return i._forward=t,i}return oJ(t,e),t.prototype.run=function(e,t){return rJ(this,void 0,void 0,(function(){var e;return sJ(this,(function(n){switch(n.label){case 0:return e=lJ.get(t),e?[4,e.run(this._forward)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t}(Cm),cJ=function(e){function t(){return e.call(this,!0,{id:"editor.action.smartSelect.expand",label:r("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:xE.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:25,group:"1_basic",title:r({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})||this}return oJ(t,e),t}(uJ);Ya.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");var hJ=function(e){function t(){return e.call(this,!1,{id:"editor.action.smartSelect.shrink",label:r("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:xE.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:25,group:"1_basic",title:r({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})||this}return oJ(t,e),t}(uJ);function dJ(e,t,n){var i=Ku.all(e);1===i.length&&i.unshift(new iJ);for(var o=[],r=[],s=0,a=i;s<a.length;s++){var l=a[s];o.push(Promise.resolve(l.provideSelectionRanges(e,t,n)).then((function(e){if(Hi(e)&&e.length===t.length)for(var n=0;n<t.length;n++){r[n]||(r[n]=[]);for(var i=0,o=e[n];i<o.length;i++){var s=o[i];bn.isIRange(s.range)&&bn.containsPosition(s.range,t[n])&&r[n].push(bn.lift(s.range))}}}),me))}return Promise.all(o).then((function(){return r.map((function(t){if(0===t.length)return[];t.sort((function(e,t){return yn.isBefore(e.getStartPosition(),t.getStartPosition())?1:yn.isBefore(t.getStartPosition(),e.getStartPosition())||yn.isBefore(e.getEndPosition(),t.getEndPosition())?-1:yn.isBefore(t.getEndPosition(),e.getEndPosition())?1:0}));for(var n,i=[],o=0,r=t;o<r.length;o++){var s=r[o];(!n||bn.containsRange(s,n)&&!bn.equalsRange(s,n))&&(i.push(s),n=s)}for(var a=[i[0]],l=1;l<i.length;l++){var u=i[l-1],c=i[l];if(c.startLineNumber!==u.startLineNumber||c.endLineNumber!==u.endLineNumber){var h=new bn(u.startLineNumber,e.getLineFirstNonWhitespaceColumn(u.startLineNumber),u.endLineNumber,e.getLineLastNonWhitespaceColumn(u.endLineNumber));h.containsRange(u)&&!h.equalsRange(u)&&c.containsRange(h)&&!c.equalsRange(h)&&a.push(h);var d=new bn(u.startLineNumber,1,u.endLineNumber,e.getLineMaxColumn(u.endLineNumber));d.containsRange(u)&&!d.equalsRange(h)&&c.containsRange(d)&&!c.equalsRange(d)&&a.push(d)}a.push(c)}return a}))}))}Om(lJ.ID,lJ),Lm(cJ),Lm(hJ),Ku.register("*",new eJ),km("_executeSelectionRangeProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t[0];return dJ(e,i,qe.None)}));var pJ,fJ=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},gJ=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},mJ={Visible:new Ff("suggestWidgetVisible",!1),MultipleSuggestions:new Ff("suggestWidgetMultipleSuggestions",!1),MakesTextEdit:new Ff("suggestionMakesTextEdit",!0),AcceptSuggestionsOnEnter:new Ff("acceptSuggestionOnEnter",!0)},_J=function(){function e(e,t,n,i,o){var r=this;this.position=e,this.completion=t,this.container=n,this.provider=i,this.isResolved=!1,this.score=IR.Default,this.distance=0,this.textLabel="string"===typeof t.label?t.label:t.label.name,this.labelLow=this.textLabel.toLowerCase(),this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),bn.isIRange(t.range)?(this.editStart=new yn(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new yn(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new yn(t.range.endLineNumber,t.range.endColumn)):(this.editStart=new yn(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new yn(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new yn(t.range.replace.endLineNumber,t.range.replace.endColumn));var s,a=i.resolveCompletionItem;"function"!==typeof a?(this.resolve=function(){return Promise.resolve()},this.isResolved=!0):this.resolve=function(n){return s||(s=Promise.resolve(a.call(i,o,e,t,n)).then((function(e){ml(t,e),r.isResolved=!0}),(function(e){ye(e)&&(s=void 0)})),n.onCancellationRequested((function(){r.isResolved||(s=void 0)}))),s}}return e}(),vJ=function(){function e(e,t,n){void 0===e&&(e=2),void 0===t&&(t=new Set),void 0===n&&(n=new Set),this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n}return e.default=new e,e}();function yJ(){return pJ}function bJ(e,t,n,i,o){void 0===n&&(n=vJ.default),void 0===i&&(i={triggerKind:0}),void 0===o&&(o=qe.None);var r=e.getWordAtPosition(t),s=r?new bn(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn):bn.fromPositions(t),a=s.setEndPosition(t.lineNumber,t.column);t=t.clone();var l=Du.orderedGroups(e);!n.kindFilter.has(25)&&pJ&&l.unshift([pJ]);var u=[],c=new Re,h=!1,d=l.map((function(r){return function(){return Promise.all(r.map((function(r){if(!(n.providerFilter.size>0)||n.providerFilter.has(r))return Promise.resolve(r.provideCompletionItems(e,t,i,o)).then((function(i){var o=u.length;if(i){for(var l=0,d=i.suggestions||[];l<d.length;l++){var p=d[l];n.kindFilter.has(p.kind)||(p.range||(p.range={insert:a,replace:s}),p.sortText||(p.sortText="string"===typeof p.label?p.label:p.label.name),u.push(new _J(t,p,i,r,e)))}Le(i)&&c.add(i)}o!==u.length&&r!==pJ&&(h=!0)}),me)})))}})),p=Ci(d,(function(){return h||o.isCancellationRequested})).then((function(){return o.isCancellationRequested?(c.dispose(),Promise.reject(be())):u.sort(TJ(n.snippetSortOrder))}));return p}function wJ(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}function CJ(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return-1;if(25===t.completion.kind)return 1}return wJ(e,t)}function SJ(e,t){if(e.completion.kind!==t.completion.kind){if(25===e.completion.kind)return 1;if(25===t.completion.kind)return-1}return wJ(e,t)}var EJ=new Map;function TJ(e){return EJ.get(e)}EJ.set(0,CJ),EJ.set(2,SJ),EJ.set(1,wJ),Em("_executeCompletionItemProvider",(function(e,t,n){return fJ(void 0,void 0,void 0,(function(){var i,o,r,s,a,l,u,c;return gJ(this,(function(h){switch(h.label){case 0:return i={incomplete:!1,suggestions:[]},o=new Re,r=[],s=n["maxItemsToResolve"]||0,[4,bJ(e,t)];case 1:for(a=h.sent(),l=0,u=a;l<u.length;l++)c=u[l],r.length<s&&r.push(c.resolve(qe.None)),i.incomplete=i.incomplete||c.container.incomplete,i.suggestions.push(c.completion),Le(c.container)&&o.add(c.container);h.label=2;case 2:return h.trys.push([2,,4,5]),[4,Promise.all(r)];case 3:return h.sent(),[2,i];case 4:return setTimeout((function(){return o.dispose()}),100),[7];case 5:return[2]}}))}))}));var kJ=new(function(){function e(){this.onlyOnceSuggestions=[]}return e.prototype.provideCompletionItems=function(){var e=this.onlyOnceSuggestions.slice(0),t={suggestions:e};return this.onlyOnceSuggestions.length=0,t},e}());function xJ(e,t){setTimeout((function(){var n;(n=kJ.onlyOnceSuggestions).push.apply(n,t),e.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(kJ))}),0)}Du.register("*",kJ);n("7457");var LJ,IJ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),OJ=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},DJ=function(){function e(){this.value="",this.pos=0}return e.isDigitCharacter=function(e){return e>=48&&e<=57},e.isVariableCharacter=function(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90},e.prototype.text=function(e){this.value=e,this.pos=0},e.prototype.tokenText=function(e){return this.value.substr(e.pos,e.len)},e.prototype.next=function(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};var t,n=this.pos,i=0,o=this.value.charCodeAt(n);if(t=e._table[o],"number"===typeof t)return this.pos+=1,{type:t,pos:n,len:1};if(e.isDigitCharacter(o)){t=8;do{i+=1,o=this.value.charCodeAt(n+i)}while(e.isDigitCharacter(o));return this.pos+=i,{type:t,pos:n,len:i}}if(e.isVariableCharacter(o)){t=9;do{o=this.value.charCodeAt(n+ ++i)}while(e.isVariableCharacter(o)||e.isDigitCharacter(o));return this.pos+=i,{type:t,pos:n,len:i}}t=10;do{i+=1,o=this.value.charCodeAt(n+i)}while(!isNaN(o)&&"undefined"===typeof e._table[o]&&!e.isDigitCharacter(o)&&!e.isVariableCharacter(o));return this.pos+=i,{type:t,pos:n,len:i}},e._table=(LJ={},LJ[36]=0,LJ[58]=1,LJ[44]=2,LJ[123]=3,LJ[125]=4,LJ[92]=5,LJ[47]=6,LJ[124]=7,LJ[43]=11,LJ[45]=12,LJ[63]=13,LJ),e}(),NJ=function(){function e(){this._children=[]}return e.prototype.appendChild=function(e){return e instanceof RJ&&this._children[this._children.length-1]instanceof RJ?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this},e.prototype.replace=function(e,t){var n=e.parent,i=n.children.indexOf(e),o=n.children.slice(0);o.splice.apply(o,OJ([i,1],t)),n._children=o,function e(t,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];r.parent=n,e(r.children,r)}}(t,n)},Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"snippet",{get:function(){var e=this;while(1){if(!e)return;if(e instanceof $J)return e;e=e.parent}},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.children.reduce((function(e,t){return e+t.toString()}),"")},e.prototype.len=function(){return 0},e}(),RJ=function(e){function t(t){var n=e.call(this)||this;return n.value=t,n}return IJ(t,e),t.prototype.toString=function(){return this.value},t.prototype.len=function(){return this.value.length},t.prototype.clone=function(){return new t(this.value)},t}(NJ),AJ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return IJ(t,e),t}(NJ),MJ=function(e){function t(t){var n=e.call(this)||this;return n.index=t,n}return IJ(t,e),t.compareByIndex=function(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0},Object.defineProperty(t.prototype,"isFinalTabstop",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"choice",{get:function(){return 1===this._children.length&&this._children[0]instanceof PJ?this._children[0]:void 0},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},t}(AJ),PJ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.options=[],t}return IJ(t,e),t.prototype.appendChild=function(e){return e instanceof RJ&&(e.parent=this,this.options.push(e)),this},t.prototype.toString=function(){return this.options[0].value},t.prototype.len=function(){return this.options[0].len()},t.prototype.clone=function(){var e=new t;return this.options.forEach(e.appendChild,e),e},t}(NJ),FJ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.regexp=new RegExp(""),t}return IJ(t,e),t.prototype.resolve=function(e){var t=this,n=!1,i=e.replace(this.regexp,(function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!n&&this._children.some((function(e){return e instanceof BJ&&Boolean(e.elseValue)}))&&(i=this._replace([])),i},t.prototype._replace=function(e){for(var t="",n=0,i=this._children;n<i.length;n++){var o=i[n];if(o instanceof BJ){var r=e[o.index]||"";r=o.resolve(r),t+=r}else t+=o.toString()}return t},t.prototype.toString=function(){return""},t.prototype.clone=function(){var e=new t;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((function(e){return e.clone()})),e},t}(NJ),BJ=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.index=t,r.shorthandName=n,r.ifValue=i,r.elseValue=o,r}return IJ(t,e),t.prototype.resolve=function(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":Boolean(e)&&"string"===typeof this.ifValue?this.ifValue:Boolean(e)||"string"!==typeof this.elseValue?e||"":this.elseValue},t.prototype._toPascalCase=function(e){var t=e.match(/[a-z]+/gi);return t?t.map((function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).join(""):e},t.prototype.clone=function(){var e=new t(this.index,this.shorthandName,this.ifValue,this.elseValue);return e},t}(NJ),VJ=function(e){function t(t){var n=e.call(this)||this;return n.name=t,n}return IJ(t,e),t.prototype.resolve=function(e){var t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new RJ(t)],!0)},t.prototype.clone=function(){var e=new t(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((function(e){return e.clone()})),e},t}(AJ);function HJ(e,t){var n=OJ(e);while(n.length>0){var i=n.shift(),o=t(i);if(!o)break;n.unshift.apply(n,i.children)}}var $J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return IJ(t,e),Object.defineProperty(t.prototype,"placeholderInfo",{get:function(){if(!this._placeholders){var e,t=[];this.walk((function(n){return n instanceof MJ&&(t.push(n),e=!e||e.index<n.index?n:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholders",{get:function(){var e=this.placeholderInfo.all;return e},enumerable:!0,configurable:!0}),t.prototype.offset=function(e){var t=0,n=!1;return this.walk((function(i){return i===e?(n=!0,!1):(t+=i.len(),!0)})),n?t:-1},t.prototype.fullLen=function(e){var t=0;return HJ([e],(function(e){return t+=e.len(),!0})),t},t.prototype.enclosingPlaceholders=function(e){var t=[],n=e.parent;while(n)n instanceof MJ&&t.push(n),n=n.parent;return t},t.prototype.resolveVariables=function(e){var t=this;return this.walk((function(n){return n instanceof VJ&&n.resolve(e)&&(t._placeholders=void 0),!0})),this},t.prototype.appendChild=function(t){return this._placeholders=void 0,e.prototype.appendChild.call(this,t)},t.prototype.replace=function(t,n){return this._placeholders=void 0,e.prototype.replace.call(this,t,n)},t.prototype.clone=function(){var e=new t;return this._children=this.children.map((function(e){return e.clone()})),e},t.prototype.walk=function(e){HJ(this.children,e)},t}(NJ),WJ=function(){function e(){this._scanner=new DJ,this._token={type:14,pos:0,len:0}}return e.escape=function(e){return e.replace(/\$|}|\\/g,"\\$&")},e.prototype.parse=function(e,t,n){this._scanner.text(e),this._token=this._scanner.next();var i=new $J;while(this._parse(i));var o=new Map,r=[],s=0;i.walk((function(e){return e instanceof MJ&&(s+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):r.push(e)),!0}));for(var a=0,l=r;a<l.length;a++){var u=l[a],c=o.get(u.index);if(c){var h=new MJ(u.index);h.transform=u.transform;for(var d=0,p=c;d<p.length;d++){var f=p[d];h.appendChild(f.clone())}i.replace(u,[h])}}return n||(n=s>0&&t),!o.has(0)&&n&&i.appendChild(new MJ(0)),i},e.prototype._accept=function(e,t){if(void 0===e||this._token.type===e){var n=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),n}return!1},e.prototype._backTo=function(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1},e.prototype._until=function(e){var t=this._token;while(this._token.type!==e){if(14===this._token.type)return!1;if(5===this._token.type){var n=this._scanner.next();if(0!==n.type&&4!==n.type&&5!==n.type)return!1}this._token=this._scanner.next()}var i=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),i},e.prototype._parse=function(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)},e.prototype._parseEscaped=function(e){var t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new RJ(t)),!0)},e.prototype._parseTabstopOrVariableName=function(e){var t,n=this._token,i=this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0));return i?(e.appendChild(/^\d+$/.test(t)?new MJ(Number(t)):new VJ(t)),!0):this._backTo(n)},e.prototype._parseComplexPlaceholder=function(e){var t,n=this._token,i=this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0));if(!i)return this._backTo(n);var o=new MJ(Number(t));if(this._accept(1))while(1){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new RJ("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else{if(!(o.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(n);var r=new PJ;while(1){if(this._parseChoiceElement(r)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(r),this._accept(4)))return e.appendChild(o),!0}return this._backTo(n),!1}}},e.prototype._parseChoiceElement=function(e){var t=this._token,n=[];while(1){if(2===this._token.type||7===this._token.type)break;var i=void 0;if(i=(i=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||i:this._accept(void 0,!0),!i)return this._backTo(t),!1;n.push(i)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new RJ(n.join(""))),!0)},e.prototype._parseComplexVariable=function(e){var t,n=this._token,i=this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0));if(!i)return this._backTo(n);var o=new VJ(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(n);while(1){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new RJ("${"+t+":")),o.children.forEach(e.appendChild,e),!0}},e.prototype._parseTransform=function(e){var t=new FJ,n="",i="";while(1){if(this._accept(6))break;var o=void 0;if(o=this._accept(5,!0))o=this._accept(6,!0)||o,n+=o;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}while(1){if(this._accept(6))break;o=void 0;if(o=this._accept(5,!0))o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new RJ(o));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}while(1){if(this._accept(4))break;if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,i)}catch(r){return!1}return e.transform=t,!0},e.prototype._parseFormatString=function(e){var t=this._token;if(!this._accept(0))return!1;var n=!1;this._accept(3)&&(n=!0);var i=this._accept(8,!0);if(!i)return this._backTo(t),!1;if(!n)return e.appendChild(new BJ(Number(i))),!0;if(this._accept(4))return e.appendChild(new BJ(Number(i))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){var o=this._accept(9,!0);return o&&this._accept(4)?(e.appendChild(new BJ(Number(i),o)),!0):(this._backTo(t),!1)}if(this._accept(11)){var r=this._until(4);if(r)return e.appendChild(new BJ(Number(i),void 0,r,void 0)),!0}else if(this._accept(12)){var s=this._until(4);if(s)return e.appendChild(new BJ(Number(i),void 0,void 0,s)),!0}else if(this._accept(13)){r=this._until(1);if(r){s=this._until(4);if(s)return e.appendChild(new BJ(Number(i),void 0,r,s)),!0}}else{s=this._until(4);if(s)return e.appendChild(new BJ(Number(i),void 0,void 0,s)),!0}return this._backTo(t),!1},e.prototype._parseAnything=function(e){return 14!==this._token.type&&(e.appendChild(new RJ(this._scanner.tokenText(this._token))),this._accept(void 0),!0)},e}(),UJ="code-workspace";function zJ(e){return e instanceof Lt}function jJ(e){return e.configuration?{configPath:e.configuration,id:e.id}:1===e.folders.length?e.folders[0].uri:void 0}var GJ=function(){function e(e){this._delegates=e}return e.prototype.resolve=function(e){for(var t=0,n=this._delegates;t<n.length;t++){var i=n[t],o=i.resolve(e);if(void 0!==o)return o}},e}(),KJ=function(){function e(e,t){this._model=e,this._selection=t}return e.prototype.resolve=function(e){var t=e.name;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){var n=this._model.getValueInRange(this._selection)||void 0;if(n&&this._selection.startLineNumber!==this._selection.endLineNumber&&e.snippet){var i=this._model.getLineContent(this._selection.startLineNumber),o=Gr(i,0,this._selection.startColumn-1),r=o;e.snippet.walk((function(t){return t!==e&&(t instanceof RJ&&(r=Gr(t.value.split(/\r\n|\r|\n/).pop())),!0)}));var s=ns(r,o);n=n.replace(/(\r\n|\r|\n)(.*)/g,(function(e,t,n){return""+t+r.substr(s)+n}))}return n}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){var a=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return a&&a.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0},e}(),qJ=function(){function e(e,t){this._labelService=e,this._model=t}return e.prototype.resolve=function(e){var t=e.name;if("TM_FILENAME"===t)return Qs(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){var n=Qs(this._model.uri.fsPath),i=n.lastIndexOf(".");return i<=0?n:n.slice(0,i)}return"TM_DIRECTORY"===t&&this._labelService?"."===Js(this._model.uri.fsPath)?"":this._labelService.getUriLabel(da(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):void 0},e}(),YJ=function(){function e(e,t,n,i){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=i}return e.prototype.resolve=function(e){if("CLIPBOARD"===e.name){var t=this._readClipboardText();if(t){if(this._spread){var n=t.split(/\r\n|\n|\r/).filter((function(e){return!Or(e)}));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}},e}(),XJ=function(){function e(e){this._model=e}return e.prototype.resolve=function(e){var t=e.name,n=this._model.getLanguageIdentifier(),i=Uc.getComments(n.id);if(i)return"LINE_COMMENT"===t?i.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?i.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&i.blockCommentEndToken||void 0},e}(),ZJ=function(){function e(){}return e.prototype.resolve=function(t){var n=t.name;return"CURRENT_YEAR"===n?String((new Date).getFullYear()):"CURRENT_YEAR_SHORT"===n?String((new Date).getFullYear()).slice(-2):"CURRENT_MONTH"===n?Dr((new Date).getMonth().valueOf()+1,2):"CURRENT_DATE"===n?Dr((new Date).getDate().valueOf(),2):"CURRENT_HOUR"===n?Dr((new Date).getHours().valueOf(),2):"CURRENT_MINUTE"===n?Dr((new Date).getMinutes().valueOf(),2):"CURRENT_SECOND"===n?Dr((new Date).getSeconds().valueOf(),2):"CURRENT_DAY_NAME"===n?e.dayNames[(new Date).getDay()]:"CURRENT_DAY_NAME_SHORT"===n?e.dayNamesShort[(new Date).getDay()]:"CURRENT_MONTH_NAME"===n?e.monthNames[(new Date).getMonth()]:"CURRENT_MONTH_NAME_SHORT"===n?e.monthNamesShort[(new Date).getMonth()]:"CURRENT_SECONDS_UNIX"===n?String(Math.floor(Date.now()/1e3)):void 0},e.dayNames=[r("Sunday","Sunday"),r("Monday","Monday"),r("Tuesday","Tuesday"),r("Wednesday","Wednesday"),r("Thursday","Thursday"),r("Friday","Friday"),r("Saturday","Saturday")],e.dayNamesShort=[r("SundayShort","Sun"),r("MondayShort","Mon"),r("TuesdayShort","Tue"),r("WednesdayShort","Wed"),r("ThursdayShort","Thu"),r("FridayShort","Fri"),r("SaturdayShort","Sat")],e.monthNames=[r("January","January"),r("February","February"),r("March","March"),r("April","April"),r("May","May"),r("June","June"),r("July","July"),r("August","August"),r("September","September"),r("October","October"),r("November","November"),r("December","December")],e.monthNamesShort=[r("JanuaryShort","Jan"),r("FebruaryShort","Feb"),r("MarchShort","Mar"),r("AprilShort","Apr"),r("MayShort","May"),r("JuneShort","Jun"),r("JulyShort","Jul"),r("AugustShort","Aug"),r("SeptemberShort","Sep"),r("OctoberShort","Oct"),r("NovemberShort","Nov"),r("DecemberShort","Dec")],e}(),JJ=function(){function e(e){this._workspaceService=e}return e.prototype.resolve=function(e){if(this._workspaceService){var t=jJ(this._workspaceService.getWorkspace());if(t)return"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0}},e.prototype._resolveWorkspaceName=function(e){if(zJ(e))return Qs(e.path);var t=Qs(e.configPath.path);return $r(t,UJ)&&(t=t.substr(0,t.length-UJ.length-1)),t},e.prototype._resoveWorkspacePath=function(e){if(zJ(e))return KG(e.fsPath);var t=Qs(e.configPath.path),n=e.configPath.fsPath;return $r(n,t)&&(n=n.substr(0,n.length-t.length-1)),n?KG(n):"/"},e}(),QJ=function(){function e(){}return e.prototype.resolve=function(e){var t=e.name;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):void 0},e}();w_((function(e,t){function n(t){var n=e.getColor(t);return n?n.toString():"transparent"}t.addRule(".monaco-editor .snippet-placeholder { background-color: "+n(VC)+"; outline-color: "+n(HC)+"; }"),t.addRule(".monaco-editor .finish-snippet-placeholder { background-color: "+n($C)+"; outline-color: "+n(WC)+"; }")}));var eQ=function(){function e(e,t,n){this._nestingLevel=1,this._editor=e,this._snippet=t,this._offset=n,this._placeholderGroups=Fi(t.placeholders,MJ.compareByIndex),this._placeholderGroupsIdx=-1}return e.prototype.dispose=function(){if(this._placeholderDecorations){var e=[];this._placeholderDecorations.forEach((function(t){return e.push(t)})),this._editor.deltaDecorations(e,[])}this._placeholderGroups.length=0},e.prototype._initDecorations=function(){var t=this;if(!this._placeholderDecorations){this._placeholderDecorations=new Map;var n=this._editor.getModel();this._editor.changeDecorations((function(i){for(var o=0,r=t._snippet.placeholders;o<r.length;o++){var s=r[o],a=t._snippet.offset(s),l=t._snippet.fullLen(s),u=bn.fromPositions(n.getPositionAt(t._offset+a),n.getPositionAt(t._offset+a+l)),c=s.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive,h=i.addDecoration(u,c);t._placeholderDecorations.set(s,h)}}))}},e.prototype.move=function(t){var n=this;if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){for(var i=[],o=0,r=this._placeholderGroups[this._placeholderGroupsIdx];o<r.length;o++){var s=r[o];if(s.transform){var a=this._placeholderDecorations.get(s),l=this._editor.getModel().getDecorationRange(a),u=this._editor.getModel().getValueInRange(l);i.push(lf.replaceMove(l,s.transform.resolve(u)))}}i.length>0&&this._editor.executeEdits("snippet.placeholderTransform",i)}var c=!1;!0===t&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,c=!0):!1===t&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,c=!0);var h=this._editor.getModel().changeDecorations((function(t){for(var i=new Set,o=[],r=0,s=n._placeholderGroups[n._placeholderGroupsIdx];r<s.length;r++){var a=s[r],l=n._placeholderDecorations.get(a),u=n._editor.getModel().getDecorationRange(l);o.push(new Cn(u.startLineNumber,u.startColumn,u.endLineNumber,u.endColumn)),c=c&&n._hasPlaceholderBeenCollapsed(a),t.changeDecorationOptions(l,a.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(a);for(var h=0,d=n._snippet.enclosingPlaceholders(a);h<d.length;h++){var p=d[h],f=n._placeholderDecorations.get(p);t.changeDecorationOptions(f,p.isFinalTabstop?e._decor.activeFinal:e._decor.active),i.add(p)}}return n._placeholderDecorations.forEach((function(n,o){i.has(o)||t.changeDecorationOptions(n,o.isFinalTabstop?e._decor.inactiveFinal:e._decor.inactive)})),o}));return c?this.move(t):h},e.prototype._hasPlaceholderBeenCollapsed=function(e){var t=e;while(t){if(t instanceof MJ){var n=this._placeholderDecorations.get(t),i=this._editor.getModel().getDecorationRange(n);if(i.isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippet.placeholders.length>0},enumerable:!0,configurable:!0}),e.prototype.computePossibleSelections=function(){for(var e=new Map,t=0,n=this._placeholderGroups;t<n.length;t++)for(var i=n[t],o=void 0,r=0,s=i;r<s.length;r++){var a=s[r];if(a.isFinalTabstop)break;o||(o=[],e.set(a.index,o));var l=this._placeholderDecorations.get(a),u=this._editor.getModel().getDecorationRange(l);if(!u){e.delete(a.index);break}o.push(u)}return e},Object.defineProperty(e.prototype,"choice",{get:function(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice},enumerable:!0,configurable:!0}),e.prototype.merge=function(t){var n=this,i=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((function(o){for(var r=0,s=n._placeholderGroups[n._placeholderGroupsIdx];r<s.length;r++){var a=s[r],l=t.shift();console.assert(!l._placeholderDecorations);for(var u=l._snippet.placeholderInfo.last.index,c=0,h=l._snippet.placeholderInfo.all;c<h.length;c++){var d=h[c];d.isFinalTabstop?d.index=a.index+(u+1)/n._nestingLevel:d.index=a.index+d.index/n._nestingLevel}n._snippet.replace(a,l._snippet.children);var p=n._placeholderDecorations.get(a);o.removeDecoration(p),n._placeholderDecorations.delete(a);for(var f=0,g=l._snippet.placeholders;f<g.length;f++){var m=g[f],_=l._snippet.offset(m),v=l._snippet.fullLen(m),y=bn.fromPositions(i.getPositionAt(l._offset+_),i.getPositionAt(l._offset+_+v)),b=o.addDecoration(y,e._decor.inactive);n._placeholderDecorations.set(m,b)}}n._placeholderGroups=Fi(n._snippet.placeholders,MJ.compareByIndex)}))},e._decor={active:Xy.register({stickiness:0,className:"snippet-placeholder"}),inactive:Xy.register({stickiness:1,className:"snippet-placeholder"}),activeFinal:Xy.register({stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Xy.register({stickiness:1,className:"finish-snippet-placeholder"})},e}(),tQ={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0},nQ=function(){function e(e,t,n){void 0===n&&(n=tQ),this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=n}return e.adjustWhitespace=function(e,t,n,i,o){var r=e.getLineContent(t.lineNumber),s=Gr(r,0,t.column-1);n.walk((function(t){if(t instanceof RJ&&!(t.parent instanceof PJ)){var n=t.value.split(/\r\n|\r|\n/);if(i)for(var r=1;r<n.length;r++){var a=Gr(n[r]);n[r]=e.normalizeIndentation(s+a)+n[r].substr(a.length)}if(o){var l=n.join(e.getEOL());l!==t.value&&t.parent.replace(t,[new RJ(l)])}}return!0}))},e.adjustSelection=function(e,t,n,i){if(0!==n||0!==i){var o=t.positionLineNumber,r=t.positionColumn,s=r-n,a=r+i,l=e.validateRange({startLineNumber:o,startColumn:s,endLineNumber:o,endColumn:a});t=Cn.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t},e.createEditsAndSnippets=function(t,n,i,o,r,s,a){var l=[],u=[];if(!t.hasModel())return{edits:l,snippets:u};for(var c=t.getModel(),h=t.invokeWithinContext((function(e){return e.get(rg,Nn)})),d=t.invokeWithinContext((function(e){return new qJ(e.get(MN,Nn),c)})),p=t.invokeWithinContext((function(e){return e.get(UI,Nn)})),f=function(){return a||p&&p.readTextSync()},g=0,m=c.getValueInRange(e.adjustSelection(c,t.getSelection(),i,0)),_=c.getValueInRange(e.adjustSelection(c,t.getSelection(),0,o)),v=c.getLineFirstNonWhitespaceColumn(t.getSelection().positionLineNumber),y=t.getSelections().map((function(e,t){return{selection:e,idx:t}})).sort((function(e,t){return bn.compareRangesUsingStarts(e.selection,t.selection)})),b=0,w=y;b<w.length;b++){var C=w[b],S=C.selection,E=C.idx,T=e.adjustSelection(c,S,i,0),k=e.adjustSelection(c,S,0,o);m!==c.getValueInRange(T)&&(T=S),_!==c.getValueInRange(k)&&(k=S);var x=S.setStartPosition(T.startLineNumber,T.startColumn).setEndPosition(k.endLineNumber,k.endColumn),L=(new WJ).parse(n,!0,r),I=x.getStartPosition();e.adjustWhitespace(c,I,L,s||E>0&&v!==c.getLineFirstNonWhitespaceColumn(S.positionLineNumber),!0),L.resolveVariables(new GJ([d,new YJ(f,E,y.length,"spread"===t.getOption(60)),new KJ(c,S),new XJ(c),new ZJ,new JJ(h),new QJ]));var O=c.getOffsetAt(I)+g;g+=L.toString().length-c.getValueLengthInRange(x),l[E]=lf.replace(x,L.toString()),u[E]=new eQ(t,L,O)}return{edits:l,snippets:u}},e.prototype.dispose=function(){Ie(this._snippets)},e.prototype._logInfo=function(){return'template="'+this._template+'", merged_templates="'+this._templateMerges.join(" -> ")+'"'},e.prototype.insert=function(){var t=this;if(this._editor.hasModel()){var n=e.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText),i=n.edits,o=n.snippets;this._snippets=o,this._editor.executeEdits("snippet",i,(function(e){return t._snippets[0].hasPlaceholder?t._move(!0):e.map((function(e){return Cn.fromPositions(e.range.getEndPosition())}))})),this._editor.revealRange(this._editor.getSelections()[0])}},e.prototype.merge=function(t,n){var i=this;if(void 0===n&&(n=tQ),this._editor.hasModel()){this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,t]);var o=e.createEditsAndSnippets(this._editor,t,n.overwriteBefore,n.overwriteAfter,!0,n.adjustWhitespace,n.clipboardText),r=o.edits,s=o.snippets;this._editor.executeEdits("snippet",r,(function(e){for(var t=0,n=i._snippets;t<n.length;t++){var o=n[t];o.merge(s)}return console.assert(0===s.length),i._snippets[0].hasPlaceholder?i._move(void 0):e.map((function(e){return Cn.fromPositions(e.range.getEndPosition())}))}))}},e.prototype.next=function(){var e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype.prev=function(){var e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())},e.prototype._move=function(e){for(var t=[],n=0,i=this._snippets;n<i.length;n++){var o=i[n],r=o.move(e);t.push.apply(t,r)}return t},Object.defineProperty(e.prototype,"isAtFirstPlaceholder",{get:function(){return this._snippets[0].isAtFirstPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAtLastPlaceholder",{get:function(){return this._snippets[0].isAtLastPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPlaceholder",{get:function(){return this._snippets[0].hasPlaceholder},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"choice",{get:function(){return this._snippets[0].choice},enumerable:!0,configurable:!0}),e.prototype.isSelectionWithinPlaceholders=function(){if(!this.hasPlaceholder)return!1;var e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;for(var t=new Map,n=function(n){var i=n.computePossibleSelections();if(0===t.size&&i.forEach((function(n,i){n.sort(bn.compareRangesUsingStarts);for(var o=0,r=e;o<r.length;o++){var s=r[o];if(n[0].containsRange(s)){t.set(i,[]);break}}})),0===t.size)return{value:!1};t.forEach((function(e,t){e.push.apply(e,i.get(t))}))},i=0,o=this._snippets;i<o.length;i++){var r=o[i],s=n(r);if("object"===typeof s)return s.value}return e.sort(bn.compareRangesUsingStarts),t.forEach((function(n,i){if(n.length===e.length){n.sort(bn.compareRangesUsingStarts);for(var o=0;o<n.length;o++)if(!n[o].containsRange(e[o]))return void t.delete(i)}else t.delete(i)})),t.size>0},e}(),iQ=function(){return iQ=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},iQ.apply(this,arguments)},oQ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},rQ=function(e,t){return function(n,i){t(n,i,e)}},sQ={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0},aQ=function(){function e(t,n,i){this._editor=t,this._logService=n,this._snippetListener=new Re,this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(i),this._hasNextTabstop=e.HasNextTabstop.bindTo(i),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(i)}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),Ie(this._session),this._snippetListener.dispose()},e.prototype.insert=function(e,t){try{this._doInsert(e,"undefined"===typeof t?sQ:iQ(iQ({},sQ),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}},e.prototype._doInsert=function(e,t){var n=this;this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new nQ(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((function(e){return e.isFlush&&n.cancel()}))),this._snippetListener.add(this._editor.onDidChangeModel((function(){return n.cancel()}))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((function(){return n._updateState()}))))},e.prototype._updateState=function(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}},e.prototype._handleChoice=function(){var e=this;if(this._session&&this._editor.hasModel()){var t=this._session.choice;if(t){if(this._currentChoice!==t){this._currentChoice=t,this._editor.setSelections(this._editor.getSelections().map((function(e){return Cn.fromPositions(e.getStartPosition())})));var n=t.options[0];xJ(this._editor,t.options.map((function(t,i){return{kind:13,label:t.value,insertText:t.value,sortText:Cs("a",i+1),range:bn.fromPositions(e._editor.getPosition(),e._editor.getPosition().delta(0,n.value.length))}})))}}else this._currentChoice=void 0}else this._currentChoice=void 0},e.prototype.finish=function(){while(this._inSnippet.get())this.next()},e.prototype.cancel=function(e){void 0===e&&(e=!1),this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),Ie(this._session),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])},e.prototype.prev=function(){this._session&&this._session.prev(),this._updateState()},e.prototype.next=function(){this._session&&this._session.next(),this._updateState()},e.prototype.isInSnippet=function(){return Boolean(this._inSnippet.get())},e.ID="snippetController2",e.InSnippetMode=new Ff("inSnippetMode",!1),e.HasNextTabstop=new Ff("hasNextTabstop",!1),e.HasPrevTabstop=new Ff("hasPrevTabstop",!1),e=oQ([rQ(1,Bh),rQ(2,Bf)],e),e}();Om(aQ.ID,aQ);var lQ=wm.bindToContribution(aQ.get);xm(new lQ({id:"jumpToNextSnippetPlaceholder",precondition:xf.and(aQ.InSnippetMode,aQ.HasNextTabstop),handler:function(e){return e.next()},kbOpts:{weight:130,kbExpr:xE.editorTextFocus,primary:2}})),xm(new lQ({id:"jumpToPrevSnippetPlaceholder",precondition:xf.and(aQ.InSnippetMode,aQ.HasPrevTabstop),handler:function(e){return e.prev()},kbOpts:{weight:130,kbExpr:xE.editorTextFocus,primary:1026}})),xm(new lQ({id:"leaveSnippet",precondition:aQ.InSnippetMode,handler:function(e){return e.cancel(!0)},kbOpts:{weight:130,kbExpr:xE.editorTextFocus,primary:9,secondary:[1033]}})),xm(new lQ({id:"acceptSnippet",precondition:aQ.InSnippetMode,handler:function(e){return e.finish()}}));var uQ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cQ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},hQ=function(e,t){return function(n,i){t(n,i,e)}},dQ=function(){function e(){}return e.prototype.select=function(e,t,n){if(0===n.length)return 0;for(var i=n[0].score[0],o=1;o<n.length;o++){var r=n[o],s=r.score,a=r.completion;if(s[0]!==i)break;if(a.preselect)return o}return 0},e}(),pQ=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return uQ(t,e),t.prototype.memorize=function(e,t,n){},t.prototype.toJSON=function(){},t.prototype.fromJSON=function(){},t}(dQ),fQ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._cache=new Ga(300,.66),t._seq=0,t}return uQ(t,e),t.prototype.memorize=function(e,t,n){var i=n.completion.label,o=e.getLanguageIdentifier().language+"/"+i;this._cache.set(o,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})},t.prototype.select=function(t,n,i){if(0===i.length)return 0;var o=t.getLineContent(n.lineNumber).substr(n.column-10,n.column-1);if(/\s$/.test(o))return e.prototype.select.call(this,t,n,i);for(var r=i[0].score[0],s=-1,a=-1,l=-1,u=0;u<i.length;u++){if(i[u].score[0]!==r)break;var c=t.getLanguageIdentifier().language+"/"+i[u].completion.label,h=this._cache.peek(c);if(h&&h.touch>l&&h.type===i[u].completion.kind&&h.insertText===i[u].completion.insertText&&(l=h.touch,a=u),i[u].completion.preselect&&-1===s)return u}return-1!==a?a:-1!==s?s:0},t.prototype.toJSON=function(){var e=[];return this._cache.forEach((function(t,n){e.push([n,t])})),e},t.prototype.fromJSON=function(e){this._cache.clear();for(var t=0,n=0,i=e;n<i.length;n++){var o=i[n],r=o[0],s=o[1];s.touch=t,s.type="number"===typeof s.type?s.type:Eu(s.type),this._cache.set(r,s)}this._seq=this._cache.size},t}(dQ),gQ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trie=Ua.forStrings(),t._seq=0,t}return uQ(t,e),t.prototype.memorize=function(e,t,n){var i=e.getWordUntilPosition(t).word,o=e.getLanguageIdentifier().language+"/"+i;this._trie.set(o,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})},t.prototype.select=function(t,n,i){var o=t.getWordUntilPosition(n).word;if(!o)return e.prototype.select.call(this,t,n,i);var r=t.getLanguageIdentifier().language+"/"+o,s=this._trie.get(r);if(s||(s=this._trie.findSubstr(r)),s)for(var a=0;a<i.length;a++){var l=i[a].completion,u=l.kind,c=l.insertText;if(u===s.type&&c===s.insertText)return a}return e.prototype.select.call(this,t,n,i)},t.prototype.toJSON=function(){var e=[];return this._trie.forEach((function(t,n){return e.push([n,t])})),e.sort((function(e,t){return-(e[1].touch-t[1].touch)})).forEach((function(e,t){return e[1].touch=t})),e.slice(0,200)},t.prototype.fromJSON=function(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(var t=0,n=e;t<n.length;t++){var i=n[t],o=i[0],r=i[1];r.type="number"===typeof r.type?r.type:Eu(r.type),this._trie.set(o,r)}}},t}(dQ),mQ=function(e){function t(t,n){var i=e.call(this)||this;i._storageService=t,i._configService=n,i._storagePrefix="suggest/memories";var o=function(){var e=i._configService.getValue("editor.suggestSelection"),t=i._configService.getValue("editor.suggest.shareSuggestSelections");i._update(e,t,!1)};return i._persistSoon=i._register(new ki((function(){return i._saveState()}),500)),i._register(t.onWillSaveState((function(e){e.reason===MP.SHUTDOWN&&i._saveState()}))),i._register(i._configService.onDidChangeConfiguration((function(e){(e.affectsConfiguration("editor.suggestSelection")||e.affectsConfiguration("editor.suggest.shareSuggestSelections"))&&o()}))),i._register(i._storageService.onDidChangeStorage((function(e){0===e.scope&&0===e.key.indexOf(i._storagePrefix)&&(document.hasFocus()||i._update(i._mode,i._shareMem,!0))}))),o(),i}return uQ(t,e),t.prototype._update=function(e,t,n){if(n||this._mode!==e||this._shareMem!==t){this._shareMem=t,this._mode=e,this._strategy="recentlyUsedByPrefix"===e?new gQ:"recentlyUsed"===e?new fQ:new pQ;try{var i=t?0:1,o=this._storageService.get(this._storagePrefix+"/"+this._mode,i);o&&this._strategy.fromJSON(JSON.parse(o))}catch(r){}}},t.prototype.memorize=function(e,t,n){this._strategy.memorize(e,t,n),this._persistSoon.schedule()},t.prototype.select=function(e,t,n){return this._strategy.select(e,t,n)},t.prototype._saveState=function(){var e=JSON.stringify(this._strategy),t=this._shareMem?0:1;this._storageService.store(this._storagePrefix+"/"+this._mode,e,t)},t=cQ([hQ(0,VP),hQ(1,uf)],t),t}(Ae),_Q=Dn("ISuggestMemories");WL(_Q,mQ,!0);var vQ,yQ=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},bQ=function(e,t){return function(n,i){t(n,i,e)}},wQ=function(){function e(t,n){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(n)}return e.prototype.dispose=function(){this.reset()},e.prototype.reset=function(){this._ckOtherSuggestions.reset(),Ie(this._listener),this._model=void 0,this._acceptNext=void 0,this._ignore=!1},e.prototype.set=function(t,n){var i=this,o=t.model,r=t.index;if(0!==o.items.length){var s=e._moveIndex(!0,o,r);s!==r?(this._acceptNext=n,this._model=o,this._index=r,this._listener=this._editor.onDidChangeCursorPosition((function(){i._ignore||i.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}else this.reset()},e._moveIndex=function(e,t,n){var i=n;while(1){if(i=(i+t.items.length+(e?1:-1))%t.items.length,i===n)break;if(!t.items[i].completion.additionalTextEdits)break}return i},e.prototype.next=function(){this._move(!0)},e.prototype.prev=function(){this._move(!1)},e.prototype._move=function(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}},e.OtherSuggestions=new Ff("hasOtherSuggestions",!1),e=yQ([bQ(1,Bf)],e),e}(),CQ=(function(){function e(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}(),function(){function e(t,n,i,o,r,s){this._snippetCompareFn=e._compareCompletionItems,this._items=t,this._column=n,this._wordDistance=o,this._options=r,this._refilterKind=1,this._lineContext=i,"top"===s?this._snippetCompareFn=e._compareCompletionItemsSnippetsUp:"bottom"===s&&(this._snippetCompareFn=e._compareCompletionItemsSnippetsDown)}return Object.defineProperty(e.prototype,"lineContext",{get:function(){return this._lineContext},set:function(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._ensureCachedState(),this._filteredItems},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"incomplete",{get:function(){return this._ensureCachedState(),this._isIncomplete},enumerable:!0,configurable:!0}),e.prototype.adopt=function(e){for(var t=new Array,n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t},Object.defineProperty(e.prototype,"stats",{get:function(){return this._ensureCachedState(),this._stats},enumerable:!0,configurable:!0}),e.prototype._ensureCachedState=function(){0!==this._refilterKind&&this._createCachedState()},e.prototype._createCachedState=function(){this._isIncomplete=new Set,this._stats={suggestionCount:0,snippetCount:0,textCount:0};for(var e=this._lineContext,t=e.leadingLineContent,n=e.characterCountDelta,i="",o="",r=1===this._refilterKind?this._items:this._filteredItems,s=[],a=!this._options.filterGraceful||r.length>2e3?HR:qR,l=0;l<r.length;l++){var u=r[l];u.container.incomplete&&this._isIncomplete.add(u.provider);var c=u.position.column-u.editStart.column,h=c+n-(u.position.column-this._column);if(i.length!==h&&(i=0===h?"":t.slice(-h),o=i.toLowerCase()),u.word=i,0===h)u.score=IR.Default;else{var d=0;while(d<c){var p=i.charCodeAt(d);if(32!==p&&9!==p)break;d+=1}var f="string"===typeof u.completion.label?u.completion.label:u.completion.label.name;if(d>=h)u.score=IR.Default;else if("string"===typeof u.completion.filterText){var g=a(i,o,d,u.completion.filterText,u.filterTextLow,0,!1);if(!g)continue;0===Yr(u.completion.filterText,f)?u.score=g:(u.score=TR(i,o,d,f,u.labelLow,0),u.score[0]=g[0])}else{g=a(i,o,d,f,u.labelLow,0,!1);if(!g)continue;u.score=g}}switch(u.idx=l,u.distance=this._wordDistance.distance(u.position,u.completion),s.push(u),this._stats.suggestionCount++,u.completion.kind){case 25:this._stats.snippetCount++;break;case 18:this._stats.textCount++;break}}this._filteredItems=s.sort(this._snippetCompareFn),this._refilterKind=0},e._compareCompletionItems=function(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0},e._compareCompletionItemsSnippetsDown=function(t,n){if(t.completion.kind!==n.completion.kind){if(25===t.completion.kind)return 1;if(25===n.completion.kind)return-1}return e._compareCompletionItems(t,n)},e._compareCompletionItemsSnippetsUp=function(t,n){if(t.completion.kind!==n.completion.kind){if(25===t.completion.kind)return-1;if(25===n.completion.kind)return 1}return e._compareCompletionItems(t,n)},e}()),SQ=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),EQ=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},TQ=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},kQ=function(){function e(){}return e.create=function(t,n){return EQ(this,void 0,void 0,(function(){var i,o,r,s;return TQ(this,(function(a){switch(a.label){case 0:return n.getOption(89).localityBonus&&n.hasModel()?(i=n.getModel(),o=n.getPosition(),t.canComputeWordRanges(i.uri)?[4,(new iJ).provideSelectionRanges(i,[o])]:[2,e.None]):[2,e.None];case 1:return r=a.sent(),r&&0!==r.length&&0!==r[0].length?[4,t.computeWordRanges(i.uri,r[0][0].range)]:[2,e.None];case 2:return s=a.sent(),[2,new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return SQ(t,e),t.prototype.distance=function(e,t){if(!s||!o.equals(n.getPosition()))return 0;if(17===t.kind)return 2<<20;var i="string"===typeof t.label?t.label:t.label.name,a=s[i];if(Vi(a))return 2<<20;for(var l=Ni(a,bn.fromPositions(e),bn.compareRangesUsingStarts),u=l>=0?a[l]:a[Math.max(0,~l-1)],c=r.length,h=0,d=r[0];h<d.length;h++){var p=d[h];if(!bn.containsRange(p.range,u))break;c-=1}return c},t}(e))]}}))}))},e.None=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return SQ(t,e),t.prototype.distance=function(){return 0},t}(e)),e}(),xQ=function(){function e(e,t,n,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=i}return e.shouldAutoTrigger=function(e){if(!e.hasModel())return!1;var t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);var i=t.getWordAtPosition(n);return!!i&&(i.endColumn===n.column&&!!isNaN(Number(i.word)))},e}(),LQ=function(){function e(e,t){var n=this;this._editor=e,this._editorWorker=t,this._toDispose=new Re,this._quickSuggestDelay=10,this._triggerCharacterListener=new Re,this._triggerQuickSuggest=new Ei,this._state=0,this._completionDisposables=new Re,this._onDidCancel=new Ze,this._onDidTrigger=new Ze,this._onDidSuggest=new Ze,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._currentSelection=this._editor.getSelection()||new Cn(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((function(){n._updateTriggerCharacters(),n.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((function(){n._updateTriggerCharacters(),n.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((function(){n._updateTriggerCharacters(),n._updateQuickSuggest()}))),this._toDispose.add(Du.onDidChange((function(){n._updateTriggerCharacters(),n._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((function(e){n._onCursorChange(e)})));var i=!1;this._toDispose.add(this._editor.onDidCompositionStart((function(){i=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((function(){i=!1,n._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((function(){i||n._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}return e.prototype.dispose=function(){Ie(this._triggerCharacterListener),Ie([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()},e.prototype._updateQuickSuggest=function(){this._quickSuggestDelay=this._editor.getOption(67),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)},e.prototype._updateTriggerCharacters=function(){var e=this;if(this._triggerCharacterListener.clear(),!this._editor.getOption(68)&&this._editor.hasModel()&&this._editor.getOption(92)){for(var t=new Map,n=0,i=Du.all(this._editor.getModel());n<i.length;n++)for(var o=i[n],r=0,s=o.triggerCharacters||[];r<s.length;r++){var a=s[r],l=t.get(a);l||(l=new Set,l.add(yJ()),t.set(a,l)),l.add(o)}var u=function(n){if(!n){var i=e._editor.getPosition(),o=e._editor.getModel();n=o.getLineContent(i.lineNumber).substr(0,i.column-1)}var r="";rs(n.charCodeAt(n.length-1))?os(n.charCodeAt(n.length-2))&&(r=n.substr(n.length-2)):r=n.charAt(n.length-1);var s=t.get(r);if(s){var a=e._completionModel?e._completionModel.adopt(s):void 0;e.trigger({auto:!0,shy:!1,triggerCharacter:r},Boolean(e._completionModel),s,a)}};this._triggerCharacterListener.add(this._editor.onDidType(u)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(u))}},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.cancel=function(e){void 0===e&&(e=!1),0!==this._state&&(this._triggerQuickSuggest.cancel(),this._requestToken&&(this._requestToken.cancel(),this._requestToken=void 0),this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))},e.prototype.clear=function(){this._completionDisposables.clear()},e.prototype._updateActiveSuggestSession=function(){0!==this._state&&(this._editor.hasModel()&&Du.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())},e.prototype._onCursorChange=function(e){var t=this;if(this._editor.hasModel()){var n=this._editor.getModel(),i=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(Du.has(n)&&0===this._state){if(!1===this._editor.getOption(66))return;if(!i.containsRange(this._currentSelection)&&!i.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(89).snippetsPreventQuickSuggestions&&aQ.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((function(){if(0===t._state&&xQ.shouldAutoTrigger(t._editor)&&t._editor.hasModel()){var e=t._editor.getModel(),n=t._editor.getPosition(),i=t._editor.getOption(66);if(!1!==i){if(!0===i);else{e.tokenizeIfCheap(n.lineNumber);var o=e.getLineTokens(n.lineNumber),r=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(n.column-1-1,0))),s=i.other&&0===r||i.comments&&1===r||i.strings&&2===r;if(!s)return}t.trigger({auto:!0,shy:!1})}}}),this._quickSuggestDelay)}}},e.prototype._refilterCompletionItems=function(){var e=this;Promise.resolve().then((function(){if(0!==e._state&&e._editor.hasModel()){var t=e._editor.getModel(),n=e._editor.getPosition(),i=new xQ(t,n,2===e._state,!1);e._onNewContext(i)}}))},e.prototype.trigger=function(t,n,i,o){var r=this;if(void 0===n&&(n=!1),this._editor.hasModel()){var s,a=this._editor.getModel(),l=t.auto,u=new xQ(a,this._editor.getPosition(),l,t.shy);this.cancel(n),this._state=l?2:1,this._onDidTrigger.fire({auto:l,shy:t.shy,position:this._editor.getPosition()}),this._context=u,s=t.triggerCharacter?{triggerKind:1,triggerCharacter:t.triggerCharacter}:i&&i.size>0?{triggerKind:2}:{triggerKind:0},this._requestToken=new rt;var c=this._editor.getOption(86),h=1;switch(c){case"top":h=0;break;case"bottom":h=2;break}var d=e._createItemKindFilter(this._editor),p=kQ.create(this._editorWorker,this._editor),f=bJ(a,this._editor.getPosition(),new vJ(h,d,i),s,this._requestToken.token);Promise.all([f,p]).then((function(e){var n=e[0],i=e[1];if(Ie(r._requestToken),0!==r._state&&r._editor.hasModel()){var s=r._editor.getModel();if(Hi(o)){var a=TJ(h);n=n.concat(o).sort(a)}var u=new xQ(s,r._editor.getPosition(),l,t.shy);r._completionModel=new CQ(n,r._context.column,{leadingLineContent:u.leadingLineContent,characterCountDelta:u.column-r._context.column},i,r._editor.getOption(89),r._editor.getOption(86));for(var c=0,d=n;c<d.length;c++){var p=d[c];Le(p.container)&&r._completionDisposables.add(p.container)}r._onNewContext(u)}})).catch(ge)}},e._createItemKindFilter=function(e){var t=new Set,n=e.getOption(86);"none"===n&&t.add(25);var i=e.getOption(89);return i.showMethods||t.add(0),i.showFunctions||t.add(1),i.showConstructors||t.add(2),i.showFields||t.add(3),i.showVariables||t.add(4),i.showClasses||t.add(5),i.showStructs||t.add(6),i.showInterfaces||t.add(7),i.showModules||t.add(8),i.showProperties||t.add(9),i.showEvents||t.add(10),i.showOperators||t.add(11),i.showUnits||t.add(12),i.showValues||t.add(13),i.showConstants||t.add(14),i.showEnums||t.add(15),i.showEnumMembers||t.add(16),i.showKeywords||t.add(17),i.showWords||t.add(18),i.showColors||t.add(19),i.showFiles||t.add(20),i.showReferences||t.add(21),i.showColors||t.add(22),i.showFolders||t.add(23),i.showTypeParameters||t.add(24),i.showSnippets||t.add(25),t},e.prototype._onNewContext=function(e){if(this._context)if(e.lineNumber===this._context.lineNumber){if(e.leadingWord.startColumn<this._context.leadingWord.startColumn)this.cancel();else if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){var t=this._completionModel.incomplete,n=this._completionModel.adopt(t);this.trigger({auto:2===this._state,shy:!1},!0,t,n)}else{var i=this._completionModel.lineContext,o=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(xQ.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=i,o=this._completionModel.items.length>0,o&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:o})}}else this.cancel()},e}(),IQ=(n("0829"),n("9e7e"),n("5cdb"),n("7a99"),n("c88e"),n("ba3c"),Zb("symbolIcon.arrayForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))),OQ=Zb("symbolIcon.booleanForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),DQ=Zb("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},r("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),NQ=Zb("symbolIcon.colorForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),RQ=Zb("symbolIcon.constantForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),AQ=Zb("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},r("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),MQ=Zb("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},r("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),PQ=Zb("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},r("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),FQ=Zb("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},r("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),BQ=Zb("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},r("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),VQ=Zb("symbolIcon.fileForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),HQ=Zb("symbolIcon.folderForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),$Q=Zb("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},r("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),WQ=Zb("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},r("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),UQ=Zb("symbolIcon.keyForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),zQ=Zb("symbolIcon.keywordForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),jQ=Zb("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},r("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),GQ=Zb("symbolIcon.moduleForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),KQ=Zb("symbolIcon.namespaceForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),qQ=Zb("symbolIcon.nullForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),YQ=Zb("symbolIcon.numberForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),XQ=Zb("symbolIcon.objectForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ZQ=Zb("symbolIcon.operatorForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),JQ=Zb("symbolIcon.packageForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),QQ=Zb("symbolIcon.propertyForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),e0=Zb("symbolIcon.referenceForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),t0=Zb("symbolIcon.snippetForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),n0=Zb("symbolIcon.stringForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),i0=Zb("symbolIcon.structForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),o0=Zb("symbolIcon.textForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),r0=Zb("symbolIcon.typeParameterForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),s0=Zb("symbolIcon.unitForeground",{dark:Jb,light:Jb,hc:Jb},r("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),a0=Zb("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},r("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));function l0(e,t,n,i){var o=i===vQ.ROOT_FOLDER?["rootfolder-icon"]:i===vQ.FOLDER?["folder-icon"]:["file-icon"];if(n){var r;if(n.scheme===xi.data){var s=ra.parseMetaData(n);r=s.get(ra.META_DATA_LABEL)}else r=c0(la(n).toLowerCase());if(i===vQ.FOLDER)o.push(r+"-name-folder-icon");else{if(r){o.push(r+"-name-file-icon");for(var a=r.split("."),l=1;l<a.length;l++)o.push(a.slice(l).join(".")+"-ext-file-icon");o.push("ext-file-icon")}var u=u0(e,t,n);u&&o.push(c0(u)+"-lang-file-icon")}}return o}function u0(e,t,n){if(!n)return null;var i=null;if(n.scheme===xi.data){var o=ra.parseMetaData(n),r=o.get(ra.META_DATA_MIME);r&&(i=t.getModeId(r))}else{var s=e.getModel(n);s&&(i=s.getModeId())}return i&&i!==mO?i:t.getModeIdByFilepathOrFirstLine(n)}function c0(e){return e.replace(/\s/g,"\\$&")}w_((function(e,t){var n=e.getColor(IQ);n&&t.addRule(".codicon-symbol-array { color: "+n+" !important; }");var i=e.getColor(OQ);i&&t.addRule(".codicon-symbol-boolean { color: "+i+" !important; }");var o=e.getColor(DQ);o&&t.addRule(".codicon-symbol-class { color: "+o+" !important; }");var r=e.getColor(jQ);r&&t.addRule(".codicon-symbol-method { color: "+r+" !important; }");var s=e.getColor(NQ);s&&t.addRule(".codicon-symbol-color { color: "+s+" !important; }");var a=e.getColor(RQ);a&&t.addRule(".codicon-symbol-constant { color: "+a+" !important; }");var l=e.getColor(AQ);l&&t.addRule(".codicon-symbol-constructor { color: "+l+" !important; }");var u=e.getColor(MQ);u&&t.addRule("\n\t\t\t.codicon-symbol-value,.codicon-symbol-enum { color: "+u+" !important; }");var c=e.getColor(PQ);c&&t.addRule(".codicon-symbol-enum-member { color: "+c+" !important; }");var h=e.getColor(FQ);h&&t.addRule(".codicon-symbol-event { color: "+h+" !important; }");var d=e.getColor(BQ);d&&t.addRule(".codicon-symbol-field { color: "+d+" !important; }");var p=e.getColor(VQ);p&&t.addRule(".codicon-symbol-file { color: "+p+" !important; }");var f=e.getColor(HQ);f&&t.addRule(".codicon-symbol-folder { color: "+f+" !important; }");var g=e.getColor($Q);g&&t.addRule(".codicon-symbol-function { color: "+g+" !important; }");var m=e.getColor(WQ);m&&t.addRule(".codicon-symbol-interface { color: "+m+" !important; }");var _=e.getColor(UQ);_&&t.addRule(".codicon-symbol-key { color: "+_+" !important; }");var v=e.getColor(zQ);v&&t.addRule(".codicon-symbol-keyword { color: "+v+" !important; }");var y=e.getColor(GQ);y&&t.addRule(".codicon-symbol-module { color: "+y+" !important; }");var b=e.getColor(KQ);b&&t.addRule(".codicon-symbol-namespace { color: "+b+" !important; }");var w=e.getColor(qQ);w&&t.addRule(".codicon-symbol-null { color: "+w+" !important; }");var C=e.getColor(YQ);C&&t.addRule(".codicon-symbol-number { color: "+C+" !important; }");var S=e.getColor(XQ);S&&t.addRule(".codicon-symbol-object { color: "+S+" !important; }");var E=e.getColor(ZQ);E&&t.addRule(".codicon-symbol-operator { color: "+E+" !important; }");var T=e.getColor(JQ);T&&t.addRule(".codicon-symbol-package { color: "+T+" !important; }");var k=e.getColor(QQ);k&&t.addRule(".codicon-symbol-property { color: "+k+" !important; }");var x=e.getColor(e0);x&&t.addRule(".codicon-symbol-reference { color: "+x+" !important; }");var L=e.getColor(t0);L&&t.addRule(".codicon-symbol-snippet { color: "+L+" !important; }");var I=e.getColor(n0);I&&t.addRule(".codicon-symbol-string { color: "+I+" !important; }");var O=e.getColor(i0);O&&t.addRule(".codicon-symbol-struct { color: "+O+" !important; }");var D=e.getColor(o0);D&&t.addRule(".codicon-symbol-text { color: "+D+" !important; }");var N=e.getColor(r0);N&&t.addRule(".codicon-symbol-type-parameter { color: "+N+" !important; }");var R=e.getColor(s0);R&&t.addRule(".codicon-symbol-unit { color: "+R+" !important; }");var A=e.getColor(a0);A&&t.addRule(".codicon-symbol-variable { color: "+A+" !important; }")})),function(e){e[e["FILE"]=0]="FILE",e[e["FOLDER"]=1]="FOLDER",e[e["ROOT_FOLDER"]=2]="ROOT_FOLDER"}(vQ||(vQ={}));var h0=function(){return h0=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h0.apply(this,arguments)},d0=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p0=function(e,t){return function(n,i){t(n,i,e)}},f0=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},g0=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},m0=!1,_0=Zb("editorSuggestWidget.background",{dark:$w,light:$w,hc:$w},r("editorSuggestWidgetBackground","Background color of the suggest widget.")),v0=Zb("editorSuggestWidget.border",{dark:Uw,light:Uw,hc:Uw},r("editorSuggestWidgetBorder","Border color of the suggest widget.")),y0=Zb("editorSuggestWidget.foreground",{dark:Hw,light:Hw,hc:Hw},r("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),b0=Zb("editorSuggestWidget.selectedBackground",{dark:_C,light:_C,hc:_C},r("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),w0=Zb("editorSuggestWidget.highlightForeground",{dark:xC,light:xC,hc:xC},r("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),C0=/^(#([\da-f]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))$/i;function S0(e,t){var n="string"===typeof e.completion.label?e.completion.label:e.completion.label.name;return n.match(C0)?(t[0]=n,!0):!("string"!==typeof e.completion.documentation||!e.completion.documentation.match(C0))&&(t[0]=e.completion.documentation,!0)}function E0(e){if(!e)return!1;var t=e.completion;return!!t.documentation||t.detail&&t.detail!==t.label}function T0(e){return"suggest-aria-id:"+e}var k0=function(){function e(e,t,n,i,o,r){this.widget=e,this.editor=t,this.triggerKeybindingLabel=n,this._modelService=i,this._modeService=o,this._themeService=r}return Object.defineProperty(e.prototype,"templateId",{get:function(){return"suggestion"},enumerable:!0,configurable:!0}),e.prototype.renderTemplate=function(e){var t=this,n=Object.create(null);n.disposables=new Re,n.root=e,fo(n.root,"show-file-icons"),n.icon=pr(e,_r(".icon")),n.colorspan=pr(n.icon,_r("span.colorspan"));var i=pr(e,_r(".contents")),o=pr(i,_r(".main"));n.left=pr(o,_r("span.left")),n.right=pr(o,_r("span.right")),n.iconContainer=pr(n.left,_r(".icon-label.codicon")),n.iconLabel=new BG(n.left,{supportHighlights:!0,supportCodicons:!0}),n.disposables.add(n.iconLabel),n.signatureLabel=pr(n.left,_r("span.signature-label")),n.qualifierLabel=pr(n.left,_r("span.qualifier-label")),n.detailsLabel=pr(n.right,_r("span.details-label")),n.readMore=pr(n.right,_r("span.readMore.codicon.codicon-info")),n.readMore.title=r("readMore","Read More...{0}",this.triggerKeybindingLabel);var s=function(){var e=t.editor.getOptions(),i=e.get(34),r=i.fontFamily,s=i.fontFeatureSettings,a=e.get(90)||i.fontSize,l=e.get(91)||i.lineHeight,u=i.fontWeight,c=a+"px",h=l+"px";n.root.style.fontSize=c,n.root.style.fontWeight=u,o.style.fontFamily=r,o.style.fontFeatureSettings=s,o.style.lineHeight=h,n.icon.style.height=h,n.icon.style.width=h,n.readMore.style.height=h,n.readMore.style.width=h};return s(),n.disposables.add($e.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(34)||e.hasChanged(90)||e.hasChanged(91)})).on(s,null)),n},e.prototype.renderElement=function(e,t,n){var i=this,o=n,r=e.completion,s="string"===typeof r.label?r.label:r.label.name;o.root.id=T0(t),o.icon.className="icon "+Su(r.kind),o.colorspan.style.backgroundColor="";var a={labelEscapeNewLines:!0,matches:kR(e.score)},l=[];if(19===r.kind&&S0(e,l))o.icon.className="icon customcolor",o.iconContainer.className="icon hide",o.colorspan.style.backgroundColor=l[0];else if(20===r.kind&&this._themeService.getIconTheme().hasFileIcons){o.icon.className="icon hide",o.iconContainer.className="icon hide";var u=l0(this._modelService,this._modeService,Lt.from({scheme:"fake",path:s}),vQ.FILE),c=l0(this._modelService,this._modeService,Lt.from({scheme:"fake",path:r.detail}),vQ.FILE);a.extraClasses=u.length>c.length?u:c}else 23===r.kind&&this._themeService.getIconTheme().hasFolderIcons?(o.icon.className="icon hide",o.iconContainer.className="icon hide",a.extraClasses=Ki([l0(this._modelService,this._modeService,Lt.from({scheme:"fake",path:s}),vQ.FOLDER),l0(this._modelService,this._modeService,Lt.from({scheme:"fake",path:r.detail}),vQ.FOLDER)])):(o.icon.className="icon hide",o.iconContainer.className="",go(o.iconContainer,"suggest-icon codicon codicon-symbol-"+Su(r.kind)));r.tags&&r.tags.indexOf(1)>=0&&(a.extraClasses=(a.extraClasses||[]).concat(["deprecated"]),a.matches=[]),o.iconLabel.setLabel(s,void 0,a),"string"===typeof r.label?(o.signatureLabel.textContent="",o.qualifierLabel.textContent="",o.detailsLabel.textContent=(r.detail||"").replace(/\n.*$/m,""),mo(o.right,"always-show-details")):(o.signatureLabel.textContent=(r.label.signature||"").replace(/\n.*$/m,""),o.qualifierLabel.textContent=(r.label.qualifier||"").replace(/\n.*$/m,""),o.detailsLabel.textContent=(r.label.type||"").replace(/\n.*$/m,""),fo(o.right,"always-show-details")),E0(e)?(fo(o.right,"can-expand-details"),vr(o.readMore),o.readMore.onmousedown=function(e){e.stopPropagation(),e.preventDefault()},o.readMore.onclick=function(e){e.stopPropagation(),e.preventDefault(),i.widget.toggleDetails()}):(mo(o.right,"can-expand-details"),yr(o.readMore),o.readMore.onmousedown=null,o.readMore.onclick=null)},e.prototype.disposeTemplate=function(e){e.disposables.dispose()},e=d0([p0(3,pu),p0(4,tO),p0(5,p_)],e),e}(),x0=function(){function e(e,t,n,i,o){var s=this;this.widget=t,this.editor=n,this.markdownRenderer=i,this.kbToggleDetails=o,this.borderWidth=1,this.disposables=new Re,this.el=pr(e,_r(".details")),this.disposables.add(De((function(){return e.removeChild(s.el)}))),this.body=_r(".body"),this.scrollbar=new KT(this.body,{}),pr(this.el,this.scrollbar.getDomNode()),this.disposables.add(this.scrollbar),this.header=pr(this.body,_r(".header")),this.close=pr(this.header,_r("span.codicon.codicon-close")),this.close.title=r("readLess","Read less...{0}",this.kbToggleDetails),this.type=pr(this.header,_r("p.type")),this.docs=pr(this.body,_r("p.docs")),this.configureFont(),$e.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((function(e){return e.hasChanged(34)})).on(this.configureFont,this,this.disposables),i.onDidRenderCodeBlock((function(){return s.scrollbar.scanDomNode()}),this,this.disposables)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.el},enumerable:!0,configurable:!0}),e.prototype.renderLoading=function(){this.type.textContent=r("loading","Loading..."),this.docs.textContent=""},e.prototype.renderItem=function(e,t){var n=this;this.renderDisposeable=Ie(this.renderDisposeable);var i=e.completion,o=i.documentation,r=i.detail;if(t){var s="";s+="score: "+e.score[0]+(e.word?", compared '"+(e.completion.filterText&&e.completion.filterText+" (filterText)"||e.completion.label)+"' with '"+e.word+"'":" (no prefix)")+"\n",s+="distance: "+e.distance+", see localityBonus-setting\n",s+="index: "+e.idx+", based on "+(e.completion.sortText&&'sortText: "'+e.completion.sortText+'"'||"label")+"\n",o=(new dq).appendCodeblock("empty",s),r="Provider: "+e.provider._debugDisplayName}if(!t&&!E0(e))return this.type.textContent="",this.docs.textContent="",void fo(this.el,"no-docs");if(mo(this.el,"no-docs"),"string"===typeof o)mo(this.docs,"markdown-docs"),this.docs.textContent=o;else{fo(this.docs,"markdown-docs"),this.docs.innerHTML="";var a=this.markdownRenderer.render(o);this.renderDisposeable=a,this.docs.appendChild(a.element)}r?(this.type.innerText=r,vr(this.type)):(this.type.innerText="",yr(this.type)),this.el.style.height=this.header.offsetHeight+this.docs.offsetHeight+2*this.borderWidth+"px",this.el.style.userSelect="text",this.el.tabIndex=-1,this.close.onmousedown=function(e){e.preventDefault(),e.stopPropagation()},this.close.onclick=function(e){e.preventDefault(),e.stopPropagation(),n.widget.toggleDetails()},this.body.scrollTop=0,this.scrollbar.scanDomNode()},e.prototype.scrollDown=function(e){void 0===e&&(e=8),this.body.scrollTop+=e},e.prototype.scrollUp=function(e){void 0===e&&(e=8),this.body.scrollTop-=e},e.prototype.scrollTop=function(){this.body.scrollTop=0},e.prototype.scrollBottom=function(){this.body.scrollTop=this.body.scrollHeight},e.prototype.pageDown=function(){this.scrollDown(80)},e.prototype.pageUp=function(){this.scrollUp(80)},e.prototype.setBorderWidth=function(e){this.borderWidth=e},e.prototype.configureFont=function(){var e=this.editor.getOptions(),t=e.get(34),n=t.fontFamily,i=e.get(90)||t.fontSize,o=e.get(91)||t.lineHeight,r=t.fontWeight,s=i+"px",a=o+"px";this.el.style.fontSize=s,this.el.style.fontWeight=r,this.el.style.fontFeatureSettings=t.fontFeatureSettings,this.type.style.fontFamily=n,this.close.style.height=a,this.close.style.width=a},e.prototype.dispose=function(){this.disposables.dispose(),this.renderDisposeable=Ie(this.renderDisposeable)},e}(),L0=function(){function e(e,t,n,i,o,s,a,l,u){var c,h,d=this;this.editor=e,this.telemetryService=t,this.keybindingService=n,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.state=null,this.isAuto=!1,this.loadingTimeout=Ae.None,this.currentSuggestionDetails=null,this.ignoreFocusEvents=!1,this.completionModel=null,this.showTimeout=new Ei,this.toDispose=new Re,this.onDidSelectEmitter=new Ze,this.onDidFocusEmitter=new Ze,this.onDidHideEmitter=new Ze,this.onDidShowEmitter=new Ze,this.onDidSelect=this.onDidSelectEmitter.event,this.onDidFocus=this.onDidFocusEmitter.event,this.onDidHide=this.onDidHideEmitter.event,this.onDidShow=this.onDidShowEmitter.event,this.maxWidgetWidth=660,this.listWidth=330,this.firstFocusInCurrentList=!1,this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.explainMode=!1,this._onDetailsKeydown=new Ze,this.onDetailsKeyDown=this._onDetailsKeydown.event;var p=this.toDispose.add(new xY(e,a,l)),f=null!==(h=null===(c=n.lookupKeybinding("toggleSuggestionDetails"))||void 0===c?void 0:c.getLabel())&&void 0!==h?h:"";this.msgDetailsLess=r("detail.less","{0} for less...",f),this.msgDetailMore=r("detail.more","{0} for more...",f),this.isAuto=!1,this.focusedItem=null,this.storageService=s,this.element=_r(".editor-widget.suggest-widget"),this.toDispose.add(bo(this.element,"click",(function(e){e.target===d.element&&d.hideWidget()}))),this.messageElement=pr(this.element,_r(".message")),this.listElement=pr(this.element,_r(".tree"));var g=function(){return vo(d.element,"with-status-bar",!d.editor.getOption(89).hideStatusBar)};g(),this.statusBarElement=pr(this.element,_r(".suggest-status-bar")),this.statusBarLeftSpan=pr(this.statusBarElement,_r("span")),this.statusBarRightSpan=pr(this.statusBarElement,_r("span")),this.setStatusBarLeftText(""),this.setStatusBarRightText(""),this.details=u.createInstance(x0,this.element,this,this.editor,p,f);var m=function(){return vo(d.element,"no-icons",!d.editor.getOption(89).showIcons)};m();var _=u.createInstance(k0,this,this.editor,f);this.list=new xA("SuggestWidget",this.listElement,this,[_],{useShadows:!1,openController:{shouldOpen:function(){return!1}},mouseSupport:!1,accessibilityProvider:{getAriaLabel:function(e){var t="string"===typeof e.completion.label?e.completion.label:e.completion.label.name;if(e.isResolved&&d.expandDocsSettingFromStorage()){var n=e.completion,i=n.documentation,o=n.detail,s=Rr("{0}{1}",o||"",i?"string"===typeof i?i:i.value:"");return r("ariaCurrenttSuggestionReadDetails","Item {0}, docs: {1}",t,s)}return t}}}),this.toDispose.add(rN(this.list,o,{listInactiveFocusBackground:b0,listInactiveFocusOutline:nw})),this.toDispose.add(o.onThemeChange((function(e){return d.onThemeChange(e)}))),this.toDispose.add(e.onDidLayoutChange((function(){return d.onEditorLayoutChange()}))),this.toDispose.add(this.list.onMouseDown((function(e){return d.onListMouseDownOrTap(e)}))),this.toDispose.add(this.list.onTap((function(e){return d.onListMouseDownOrTap(e)}))),this.toDispose.add(this.list.onSelectionChange((function(e){return d.onListSelection(e)}))),this.toDispose.add(this.list.onFocusChange((function(e){return d.onListFocus(e)}))),this.toDispose.add(this.editor.onDidChangeCursorSelection((function(){return d.onCursorSelectionChanged()}))),this.toDispose.add(this.editor.onDidChangeConfiguration((function(e){e.hasChanged(89)&&(g(),m())}))),this.suggestWidgetVisible=mJ.Visible.bindTo(i),this.suggestWidgetMultipleSuggestions=mJ.MultipleSuggestions.bindTo(i),this.editor.addContentWidget(this),this.setState(0),this.onThemeChange(o.getTheme()),this.toDispose.add(So(this.details.element,"keydown",(function(e){d._onDetailsKeydown.fire(e)}))),this.toDispose.add(this.editor.onMouseDown((function(e){return d.onEditorMouseDown(e)})))}return e.prototype.onEditorMouseDown=function(e){this.details.element.contains(e.target.element)?this.details.element.focus():this.element.contains(e.target.element)&&this.editor.focus()},e.prototype.onCursorSelectionChanged=function(){0!==this.state&&this.editor.layoutContentWidget(this)},e.prototype.onEditorLayoutChange=function(){3!==this.state&&5!==this.state||!this.expandDocsSettingFromStorage()||this.expandSideOrBelow()},e.prototype.onListMouseDownOrTap=function(e){"undefined"!==typeof e.element&&"undefined"!==typeof e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this.select(e.element,e.index))},e.prototype.onListSelection=function(e){e.elements.length&&this.select(e.elements[0],e.indexes[0])},e.prototype.select=function(e,t){var n=this.completionModel;n&&(this.onDidSelectEmitter.fire({item:e,index:t,model:n}),this.editor.focus())},e.prototype.onThemeChange=function(e){var t=e.getColor(_0);t&&(this.listElement.style.backgroundColor=t.toString(),this.statusBarElement.style.backgroundColor=t.toString(),this.details.element.style.backgroundColor=t.toString(),this.messageElement.style.backgroundColor=t.toString());var n=e.getColor(v0);n&&(this.listElement.style.borderColor=n.toString(),this.statusBarElement.style.borderColor=n.toString(),this.details.element.style.borderColor=n.toString(),this.messageElement.style.borderColor=n.toString(),this.detailsBorderColor=n.toString());var i=e.getColor(ew);i&&(this.detailsFocusBorderColor=i.toString()),this.details.setBorderWidth("hc"===e.type?2:1)},e.prototype.onListFocus=function(e){var t,n,i=this;if(!this.ignoreFocusEvents){if(!e.elements.length)return this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null,this.focusedItem=null),void this.editor.setAriaOptions({activeDescendant:void 0});if(this.completionModel){var o=e.elements[0],s=e.indexes[0];if(this.firstFocusInCurrentList=!this.focusedItem,o!==this.focusedItem){var a="insert"===this.editor.getOption(89).insertMode,l=null===(t=this.keybindingService.lookupKeybinding("acceptSelectedSuggestion"))||void 0===t?void 0:t.getLabel(),u=null===(n=this.keybindingService.lookupKeybinding("acceptAlternativeSelectedSuggestion"))||void 0===n?void 0:n.getLabel();yn.equals(o.editInsertEnd,o.editReplaceEnd)?this.setStatusBarLeftText(r("accept","{0} to accept",l)):a?this.setStatusBarLeftText(r("insert","{0} to insert, {1} to replace",l,u)):this.setStatusBarLeftText(r("replace","{0} to replace, {1} to insert",l,u)),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.focusedItem=o,this.list.reveal(s),this.currentSuggestionDetails=_i((function(e){return f0(i,void 0,void 0,(function(){var t,n,i=this;return g0(this,(function(r){switch(r.label){case 0:return t=wi((function(){return i.showDetails(!0)}),250),e.onCancellationRequested((function(){return t.dispose()})),[4,o.resolve(e)];case 1:return n=r.sent(),t.dispose(),[2,n]}}))}))})),this.currentSuggestionDetails.then((function(){s>=i.list.length||o!==i.list.element(s)||(i.ignoreFocusEvents=!0,i.list.splice(s,1,[o]),i.list.setFocus([s]),i.ignoreFocusEvents=!1,i.expandDocsSettingFromStorage()?i.showDetails(!1):mo(i.element,"docs-side"),E0(i.focusedItem)?i.expandDocsSettingFromStorage()?i.setStatusBarRightText(i.msgDetailsLess):i.setStatusBarRightText(i.msgDetailMore):i.statusBarRightSpan.innerText="",i.editor.setAriaOptions({activeDescendant:T0(s)}))})).catch(ge)}this.onDidFocusEmitter.fire({item:o,index:s,model:this.completionModel})}}},e.prototype.setState=function(t){if(this.element){var n=this.state!==t;switch(this.state=t,vo(this.element,"frozen",4===t),t){case 0:yr(this.messageElement,this.details.element,this.listElement,this.statusBarElement),this.hide(),this.listHeight=0,n&&this.list.splice(0,this.list.length),this.focusedItem=null;break;case 1:this.messageElement.textContent=e.LOADING_MESSAGE,yr(this.listElement,this.details.element,this.statusBarElement),vr(this.messageElement),mo(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 2:this.messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,yr(this.listElement,this.details.element,this.statusBarElement),vr(this.messageElement),mo(this.element,"docs-side"),this.show(),this.focusedItem=null;break;case 3:yr(this.messageElement),vr(this.listElement,this.statusBarElement),this.show();break;case 4:yr(this.messageElement),vr(this.listElement),this.show();break;case 5:yr(this.messageElement),vr(this.details.element,this.listElement,this.statusBarElement),this.show();break}}},e.prototype.showTriggered=function(e,t){var n=this;0===this.state&&(this.isAuto=!!e,this.isAuto||(this.loadingTimeout=wi((function(){return n.setState(1)}),t)))},e.prototype.showSuggestions=function(e,t,n,i){if(this.preferDocPositionTop=!1,this.docsPositionPreviousWidgetY=null,this.loadingTimeout.dispose(),this.currentSuggestionDetails&&(this.currentSuggestionDetails.cancel(),this.currentSuggestionDetails=null),this.completionModel!==e&&(this.completionModel=e),n&&2!==this.state&&0!==this.state)this.setState(4);else{var o=this.completionModel.items.length,r=0===o;if(this.suggestWidgetMultipleSuggestions.set(o>1),r)i?this.setState(0):this.setState(2),this.completionModel=null;else{if(3!==this.state){var s=this.completionModel.stats;s["wasAutomaticallyTriggered"]=!!i,this.telemetryService.publicLog("suggestWidget",h0({},s))}this.focusedItem=null,this.list.splice(0,this.list.length,this.completionModel.items),n?this.setState(4):this.setState(3),this.list.reveal(t,0),this.list.setFocus([t]),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)}}},e.prototype.selectNextPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageDown(),!0;case 1:return!this.isAuto;default:return this.list.focusNextPage(),!0}},e.prototype.selectNext=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusNext(1,!0),!0}},e.prototype.selectLast=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollBottom(),!0;case 1:return!this.isAuto;default:return this.list.focusLast(),!0}},e.prototype.selectPreviousPage=function(){switch(this.state){case 0:return!1;case 5:return this.details.pageUp(),!0;case 1:return!this.isAuto;default:return this.list.focusPreviousPage(),!0}},e.prototype.selectPrevious=function(){switch(this.state){case 0:return!1;case 1:return!this.isAuto;default:return this.list.focusPrevious(1,!0),!1}},e.prototype.selectFirst=function(){switch(this.state){case 0:return!1;case 5:return this.details.scrollTop(),!0;case 1:return!this.isAuto;default:return this.list.focusFirst(),!0}},e.prototype.getFocusedItem=function(){if(0!==this.state&&2!==this.state&&1!==this.state&&this.completionModel)return{item:this.list.getFocusedElements()[0],index:this.list.getFocus()[0],model:this.completionModel}},e.prototype.toggleDetailsFocus=function(){5===this.state?(this.setState(3),this.detailsBorderColor&&(this.details.element.style.borderColor=this.detailsBorderColor)):3===this.state&&this.expandDocsSettingFromStorage()&&(this.setState(5),this.detailsFocusBorderColor&&(this.details.element.style.borderColor=this.detailsFocusBorderColor)),this.telemetryService.publicLog2("suggestWidget:toggleDetailsFocus")},e.prototype.toggleDetails=function(){if(E0(this.list.getFocusedElements()[0]))if(this.expandDocsSettingFromStorage())this.updateExpandDocsSetting(!1),yr(this.details.element),mo(this.element,"docs-side"),mo(this.element,"docs-below"),this.editor.layoutContentWidget(this),this.setStatusBarRightText(this.msgDetailMore),this.telemetryService.publicLog2("suggestWidget:collapseDetails");else{if(3!==this.state&&5!==this.state&&4!==this.state)return;this.updateExpandDocsSetting(!0),this.showDetails(!1),this.setStatusBarRightText(this.msgDetailsLess),this.telemetryService.publicLog2("suggestWidget:expandDetails")}},e.prototype.showDetails=function(e){e||this.expandSideOrBelow(),vr(this.details.element),this.details.element.style.maxHeight=this.maxWidgetHeight+"px",e?this.details.renderLoading():this.details.renderItem(this.list.getFocusedElements()[0],this.explainMode),this.listElement.style.marginTop="0px",this.editor.layoutContentWidget(this),this.adjustDocsPosition(),this.editor.focus()},e.prototype.toggleExplainMode=function(){this.list.getFocusedElements()[0]&&this.expandDocsSettingFromStorage()&&(this.explainMode=!this.explainMode,this.showDetails(!1))},e.prototype.show=function(){var e=this,t=this.updateListHeight();t!==this.listHeight&&(this.editor.layoutContentWidget(this),this.listHeight=t),this.suggestWidgetVisible.set(!0),this.showTimeout.cancelAndSet((function(){fo(e.element,"visible"),e.onDidShowEmitter.fire(e)}),100)},e.prototype.hide=function(){this.suggestWidgetVisible.reset(),this.suggestWidgetMultipleSuggestions.reset(),mo(this.element,"visible")},e.prototype.hideWidget=function(){this.loadingTimeout.dispose(),this.setState(0),this.onDidHideEmitter.fire(this)},e.prototype.getPosition=function(){if(0===this.state)return null;var e=[2,1];return this.preferDocPositionTop&&(e=[1]),{position:this.editor.getPosition(),preference:e}},e.prototype.getDomNode=function(){return this.element},e.prototype.getId=function(){return e.ID},e.prototype.isFrozen=function(){return 4===this.state},e.prototype.updateListHeight=function(){var e=0;if(2===this.state||1===this.state)e=this.unfocusedHeight;else{var t=this.list.contentHeight/this.unfocusedHeight,n=this.editor.getOption(89).maxVisibleSuggestions;e=Math.min(t,n)*this.unfocusedHeight}return this.element.style.lineHeight=this.unfocusedHeight+"px",this.listElement.style.height=e+"px",this.statusBarElement.style.top=e+"px",this.list.layout(e),e},e.prototype.adjustDocsPosition=function(){if(this.editor.hasModel()){var e=this.editor.getOption(49),t=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),n=Uo(this.editor.getDomNode()),i=n.left+t.left,o=n.top+t.top+t.height,r=Uo(this.element),s=r.left,a=r.top;if(this.docsPositionPreviousWidgetY&&this.docsPositionPreviousWidgetY<a&&!this.preferDocPositionTop)return this.preferDocPositionTop=!0,void this.adjustDocsPosition();this.docsPositionPreviousWidgetY=a,s<i-this.listWidth?fo(this.element,"list-right"):mo(this.element,"list-right"),po(this.element,"docs-side")&&o-e>a&&this.details.element.offsetHeight>this.listElement.offsetHeight&&(this.listElement.style.marginTop=this.details.element.offsetHeight-this.listElement.offsetHeight+"px")}},e.prototype.expandSideOrBelow=function(){if(!E0(this.focusedItem)&&this.firstFocusInCurrentList)return mo(this.element,"docs-side"),void mo(this.element,"docs-below");var e=this.element.style.maxWidth.match(/(\d+)px/);!e||Number(e[1])<this.maxWidgetWidth?(fo(this.element,"docs-below"),mo(this.element,"docs-side")):E0(this.focusedItem)&&(fo(this.element,"docs-side"),mo(this.element,"docs-below"))},Object.defineProperty(e.prototype,"maxWidgetHeight",{get:function(){return this.unfocusedHeight*this.editor.getOption(89).maxVisibleSuggestions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"unfocusedHeight",{get:function(){var e=this.editor.getOptions();return e.get(91)||e.get(34).lineHeight},enumerable:!0,configurable:!0}),e.prototype.getHeight=function(e){return this.unfocusedHeight},e.prototype.getTemplateId=function(e){return"suggestion"},e.prototype.expandDocsSettingFromStorage=function(){return this.storageService.getBoolean("expandSuggestionDocs",0,m0)},e.prototype.updateExpandDocsSetting=function(e){this.storageService.store("expandSuggestionDocs",e,0)},e.prototype.setStatusBarLeftText=function(e){this.statusBarLeftSpan.innerText=e},e.prototype.setStatusBarRightText=function(e){this.statusBarRightSpan.innerText=e},e.prototype.dispose=function(){this.details.dispose(),this.list.dispose(),this.toDispose.dispose(),this.loadingTimeout.dispose(),this.showTimeout.dispose()},e.ID="editor.widget.suggestWidget",e.LOADING_MESSAGE=r("suggestWidget.loading","Loading..."),e.NO_SUGGESTIONS_MESSAGE=r("suggestWidget.noSuggestions","No suggestions."),e=d0([p0(1,vm),p0(2,WI),p0(3,Bf),p0(4,p_),p0(5,VP),p0(6,tO),p0(7,Ja),p0(8,In)],e),e}();w_((function(e,t){var n=e.getColor(w0);n&&t.addRule(".monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: "+n+"; }");var i=e.getColor(y0);i&&t.addRule(".monaco-editor .suggest-widget { color: "+i+"; }");var o=e.getColor(iw);o&&t.addRule(".monaco-editor .suggest-widget a { color: "+o+"; }");var r=e.getColor(ow);r&&t.addRule(".monaco-editor .suggest-widget code { background-color: "+r+"; }")}));var I0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),O0=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},D0=function(e,t){return function(n,i){t(n,i,e)}},N0=function(e){function t(n,i){var o=e.call(this)||this;return o._editor=n,o._enabled=!1,o._ckAtEnd=t.AtEnd.bindTo(i),o._register(o._editor.onDidChangeConfiguration((function(e){return e.hasChanged(94)&&o._update()}))),o._update(),o}return I0(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),Ie(this._selectionListener),this._ckAtEnd.reset()},t.prototype._update=function(){var e=this,t="on"===this._editor.getOption(94);if(this._enabled!==t)if(this._enabled=t,this._enabled){var n=function(){if(e._editor.hasModel()){var t=e._editor.getModel(),n=e._editor.getSelection(),i=t.getWordAtPosition(n.getStartPosition());i?e._ckAtEnd.set(i.endColumn===n.getStartPosition().column):e._ckAtEnd.set(!1)}else e._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(n),n()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)},t.AtEnd=new Ff("atEndOfWord",!1),t=O0([D0(1,Bf)],t),t}(Ae),R0=function(){function e(e,t,n){var i=this;this._disposables=new Re,this._disposables.add(t.onDidShow((function(){return i._onItem(t.getFocusedItem())}))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((function(o){if(i._active&&!t.isFrozen()){var r=o.charCodeAt(o.length-1);i._active.acceptCharacters.has(r)&&e.getOption(0)&&n(i._active.item)}})))}return e.prototype._onItem=function(e){if(e&&Hi(e.item.completion.commitCharacters)){if(!this._active||this._active.item.item!==e.item){for(var t=new bh,n=0,i=e.item.completion.commitCharacters;n<i.length;n++){var o=i[n];o.length>0&&t.add(o.charCodeAt(0))}this._active={acceptCharacters:t,item:e}}}else this.reset()},e.prototype.reset=function(){this._active=void 0},e.prototype.dispose=function(){this._disposables.dispose()},e}(),A0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M0=function(){function e(e){var t=this;this._controller=e,this._disposables=new Re,this._decorations=[],this._disposables.add(e.model.onDidSuggest((function(e){if(!e.shy){var n=t._controller.widget.getValue(),i=n.getFocusedItem();i&&t._highlight(i.item),t._widgetListener||(t._widgetListener=n.onDidFocus((function(e){return t._highlight(e.item)})))}}))),this._disposables.add(e.model.onDidCancel((function(){t._reset()})))}return e.prototype.dispose=function(){this._reset(),this._disposables.dispose(),Ie(this._widgetListener),Ie(this._shiftKeyListener)},e.prototype._reset=function(){this._decorations=this._controller.editor.deltaDecorations(this._decorations,[]),this._shiftKeyListener&&(this._shiftKeyListener.dispose(),this._shiftKeyListener=void 0)},e.prototype._highlight=function(e){var t,n=this;this._currentItem=e;var i=this._controller.editor.getOption(89),o=[];if(i.insertHighlight){this._shiftKeyListener||(this._shiftKeyListener=P0.event((function(){return n._highlight(n._currentItem)})));var r=this._controller.getOverwriteInfo(e,P0.isPressed),s=this._controller.editor.getPosition();if("insert"===i.insertMode&&r.overwriteAfter>0)o=[{range:new bn(s.lineNumber,s.column,s.lineNumber,s.column+r.overwriteAfter),options:{inlineClassName:"suggest-insert-unexpected"}}];else if("replace"===i.insertMode&&0===r.overwriteAfter){var a=null===(t=this._controller.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(s);a&&a.endColumn>s.column&&(o=[{range:new bn(s.lineNumber,s.column,s.lineNumber,a.endColumn),options:{inlineClassName:"suggest-insert-unexpected"}}])}}this._decorations=this._controller.editor.deltaDecorations(this._decorations,o)},e}(),P0=new(function(e){function t(){var t=e.call(this)||this;return t._subscriptions=new Re,t._isPressed=!1,t._subscriptions.add(Zn(document.body,"keydown")((function(e){return t.isPressed=e.shiftKey}))),t._subscriptions.add(Zn(document.body,"keyup")((function(){return t.isPressed=!1}))),t._subscriptions.add(Zn(document.body,"mouseleave")((function(){return t.isPressed=!1}))),t._subscriptions.add(Zn(document.body,"blur")((function(){return t.isPressed=!1}))),t}return A0(t,e),Object.defineProperty(t.prototype,"isPressed",{get:function(){return this._isPressed},set:function(e){this._isPressed!==e&&(this._isPressed=e,this.fire(e))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._subscriptions.dispose(),e.prototype.dispose.call(this)},t}(Ze)),F0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),B0=function(){return B0=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},B0.apply(this,arguments)},V0=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},H0=function(e,t){return function(n,i){t(n,i,e)}},$0=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i},W0=!1,U0=function(){function e(e,t){this._model=e,this._position=t;var n=e.getLineMaxColumn(t.lineNumber);if(n!==t.column){var i=e.getOffsetAt(t),o=e.getPositionAt(i+1);this._marker=e.deltaDecorations([],[{range:bn.fromPositions(t,o),options:{stickiness:1}}])}}return e.prototype.dispose=function(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])},e.prototype.delta=function(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){var t=this._model.getDecorationRange(this._marker[0]),n=this._model.getOffsetAt(t.getStartPosition());return n-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column},e}(),z0=function(){function e(e,t,n,i,o,r){var a=this;this._memoryService=n,this._commandService=i,this._contextKeyService=o,this._instantiationService=r,this._lineSuffix=new Me,this._toDispose=new Re,this.editor=e,this.model=new LQ(this.editor,t),this.widget=this._toDispose.add(new Li((function(){var e=a._instantiationService.createInstance(L0,a.editor);a._toDispose.add(e),a._toDispose.add(e.onDidSelect((function(e){return a._insertSuggestion(e,0)}),a));var t=new R0(a.editor,e,(function(e){return a._insertSuggestion(e,2)}));a._toDispose.add(t),a._toDispose.add(a.model.onDidSuggest((function(e){0===e.completionModel.items.length&&t.reset()})));var n=mJ.MakesTextEdit.bindTo(a._contextKeyService);return a._toDispose.add(e.onDidFocus((function(e){var t=e.item,i=a.editor.getPosition(),o=t.editStart.column,r=i.column,s=!0;if("smart"===a.editor.getOption(1)&&2===a.model.state&&!t.completion.command&&!t.completion.additionalTextEdits&&!(4&t.completion.insertTextRules)&&r-o===t.completion.insertText.length){var l=a.editor.getModel().getValueInRange({startLineNumber:i.lineNumber,startColumn:o,endLineNumber:i.lineNumber,endColumn:r});s=l!==t.completion.insertText}n.set(s)}))),a._toDispose.add(De((function(){return n.reset()}))),a._toDispose.add(e.onDetailsKeyDown((function(e){e.toKeybinding().equals(new ft(!0,!1,!1,!1,33))||s["e"]&&e.toKeybinding().equals(new ft(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||a.editor.focus()}))),e}))),this._alternatives=this._toDispose.add(new Li((function(){return a._toDispose.add(new wQ(a.editor,a._contextKeyService))}))),this._toDispose.add(r.createInstance(N0,e)),this._toDispose.add(this.model.onDidTrigger((function(e){a.widget.getValue().showTriggered(e.auto,e.shy?250:50),a._lineSuffix.value=new U0(a.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((function(e){if(!e.shy){var t=a._memoryService.select(a.editor.getModel(),a.editor.getPosition(),e.completionModel.items);a.widget.getValue().showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((function(e){e.retrigger||a.widget.getValue().hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((function(){W0||(a.model.cancel(),a.model.clear())})));var l=mJ.AcceptSuggestionsOnEnter.bindTo(o),u=function(){var e=a.editor.getOption(1);l.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((function(){return u()}))),u(),this._toDispose.add(new M0(this))}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()},e.prototype._insertSuggestion=function(e,t){var n,i=this;if(!e||!e.item)return this._alternatives.getValue().reset(),this.model.cancel(),void this.model.clear();if(this.editor.hasModel()){var o=this.editor.getModel(),r=o.getAlternativeVersionId(),s=e.item,a=s.completion;1&t||this.editor.pushUndoStop();var l=this.getOverwriteInfo(s,Boolean(8&t));this._memoryService.memorize(o,this.editor.getPosition(),s),Array.isArray(a.additionalTextEdits)&&this.editor.executeEdits("suggestController.additionalTextEdits",a.additionalTextEdits.map((function(e){return lf.replace(bn.lift(e.range),e.text)})));var u=a.insertText;4&a.insertTextRules||(u=WJ.escape(u)),aQ.get(this.editor).insert(u,{overwriteBefore:l.overwriteBefore,overwriteAfter:l.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&a.insertTextRules)}),2&t||this.editor.pushUndoStop(),a.command?a.command.id===j0.id?this.model.trigger({auto:!0,shy:!1},!0):((n=this._commandService).executeCommand.apply(n,$0([a.command.id],a.command.arguments?$0(a.command.arguments):[])).catch(ge).finally((function(){return i.model.clear()})),this.model.cancel()):(this.model.cancel(),this.model.clear()),4&t&&this._alternatives.getValue().set(e,(function(e){while(o.canUndo()){r!==o.getAlternativeVersionId()&&o.undo(),i._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(e.item)}},e.prototype.getOverwriteInfo=function(e,t){Ta(this.editor.hasModel());var n="replace"===this.editor.getOption(89).insertMode;t&&(n=!n);var i=e.position.column-e.editStart.column,o=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,r=this.editor.getPosition().column-e.position.column,s=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:i+r,overwriteAfter:o+s}},e.prototype._alertCompletionItem=function(e){var t=e.completion,n="string"===typeof t.label?t.label:t.label.name;if(Hi(t.additionalTextEdits)){var i=r("arai.alert.snippet","Accepting '{0}' made {1} additional edits",n,t.additionalTextEdits.length);$g(i)}},e.prototype.triggerSuggest=function(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())},e.prototype.triggerSuggestAndAcceptBest=function(e){var t=this;if(this.editor.hasModel()){var n=this.editor.getPosition(),i=function(){n.equals(t.editor.getPosition())&&t._commandService.executeCommand(e.fallback)},o=function(e){if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;var n=t.editor.getPosition(),i=e.editStart.column,o=n.column;if(o-i!==e.completion.insertText.length)return!0;var r=t.editor.getModel().getValueInRange({startLineNumber:n.lineNumber,startColumn:i,endLineNumber:n.lineNumber,endColumn:o});return r!==e.completion.insertText};$e.once(this.model.onDidTrigger)((function(e){var n=[];$e.any(t.model.onDidTrigger,t.model.onDidCancel)((function(){Ie(n),i()}),void 0,n),t.model.onDidSuggest((function(e){var r=e.completionModel;if(Ie(n),0!==r.items.length){var s=t._memoryService.select(t.editor.getModel(),t.editor.getPosition(),r.items),a=r.items[s];o(a)?(t.editor.pushUndoStop(),t._insertSuggestion({index:s,item:a,model:r},7)):i()}else i()}),void 0,n)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(n.lineNumber,0),this.editor.focus()}},e.prototype.acceptSelectedSuggestion=function(e,t){var n=this.widget.getValue().getFocusedItem(),i=0;e&&(i|=4),t&&(i|=8),this._insertSuggestion(n,i)},e.prototype.acceptNextSuggestion=function(){this._alternatives.getValue().next()},e.prototype.acceptPrevSuggestion=function(){this._alternatives.getValue().prev()},e.prototype.cancelSuggestWidget=function(){this.model.cancel(),this.model.clear(),this.widget.getValue().hideWidget()},e.prototype.selectNextSuggestion=function(){this.widget.getValue().selectNext()},e.prototype.selectNextPageSuggestion=function(){this.widget.getValue().selectNextPage()},e.prototype.selectLastSuggestion=function(){this.widget.getValue().selectLast()},e.prototype.selectPrevSuggestion=function(){this.widget.getValue().selectPrevious()},e.prototype.selectPrevPageSuggestion=function(){this.widget.getValue().selectPreviousPage()},e.prototype.selectFirstSuggestion=function(){this.widget.getValue().selectFirst()},e.prototype.toggleSuggestionDetails=function(){this.widget.getValue().toggleDetails()},e.prototype.toggleExplainMode=function(){this.widget.getValue().toggleExplainMode()},e.prototype.toggleSuggestionFocus=function(){this.widget.getValue().toggleDetailsFocus()},e.ID="editor.contrib.suggestController",e=V0([H0(1,rc),H0(2,_Q),H0(3,qa),H0(4,Bf),H0(5,In)],e),e}(),j0=function(e){function t(){return e.call(this,{id:t.id,label:r("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:xf.and(xE.writable,xE.hasCompletionItemProvider),kbOpts:{kbExpr:xE.textInputFocus,primary:2058,mac:{primary:266,secondary:[521]},weight:100}})||this}return F0(t,e),t.prototype.run=function(e,t){var n=z0.get(t);n&&n.triggerSuggest()},t.id="editor.action.triggerSuggest",t}(Cm);Om(z0.ID,z0),Lm(j0);var G0=190,K0=wm.bindToContribution(z0.get);xm(new K0({id:"acceptSelectedSuggestion",precondition:mJ.Visible,handler:function(e){e.acceptSelectedSuggestion(!0,!1)}})),Wf.registerKeybindingRule({id:"acceptSelectedSuggestion",when:xf.and(mJ.Visible,xE.textInputFocus),primary:2,weight:G0}),Wf.registerKeybindingRule({id:"acceptSelectedSuggestion",when:xf.and(mJ.Visible,xE.textInputFocus,mJ.AcceptSuggestionsOnEnter,mJ.MakesTextEdit),primary:3,weight:G0}),xm(new K0({id:"acceptAlternativeSelectedSuggestion",precondition:xf.and(mJ.Visible,xE.textInputFocus),kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:1027,secondary:[1026]},handler:function(e){e.acceptSelectedSuggestion(!1,!0)}})),Ya.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),xm(new K0({id:"hideSuggestWidget",precondition:mJ.Visible,handler:function(e){return e.cancelSuggestWidget()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:9,secondary:[1033]}})),xm(new K0({id:"selectNextSuggestion",precondition:xf.and(mJ.Visible,mJ.MultipleSuggestions),handler:function(e){return e.selectNextSuggestion()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),xm(new K0({id:"selectNextPageSuggestion",precondition:xf.and(mJ.Visible,mJ.MultipleSuggestions),handler:function(e){return e.selectNextPageSuggestion()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:12,secondary:[2060]}})),xm(new K0({id:"selectLastSuggestion",precondition:xf.and(mJ.Visible,mJ.MultipleSuggestions),handler:function(e){return e.selectLastSuggestion()}})),xm(new K0({id:"selectPrevSuggestion",precondition:xf.and(mJ.Visible,mJ.MultipleSuggestions),handler:function(e){return e.selectPrevSuggestion()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),xm(new K0({id:"selectPrevPageSuggestion",precondition:xf.and(mJ.Visible,mJ.MultipleSuggestions),handler:function(e){return e.selectPrevPageSuggestion()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:11,secondary:[2059]}})),xm(new K0({id:"selectFirstSuggestion",precondition:xf.and(mJ.Visible,mJ.MultipleSuggestions),handler:function(e){return e.selectFirstSuggestion()}})),xm(new K0({id:"toggleSuggestionDetails",precondition:mJ.Visible,handler:function(e){return e.toggleSuggestionDetails()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:2058,mac:{primary:266}}})),xm(new K0({id:"toggleExplainMode",precondition:mJ.Visible,handler:function(e){return e.toggleExplainMode()},kbOpts:{weight:100,primary:2133}})),xm(new K0({id:"toggleSuggestionFocus",precondition:mJ.Visible,handler:function(e){return e.toggleSuggestionFocus()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:2570,mac:{primary:778}}})),xm(new K0({id:"insertBestCompletion",precondition:xf.and(xf.equals("config.editor.tabCompletion","on"),N0.AtEnd,mJ.Visible.toNegated(),wQ.OtherSuggestions.toNegated(),aQ.InSnippetMode.toNegated()),handler:function(e,t){e.triggerSuggestAndAcceptBest(ba(t)?B0({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:G0,primary:2}})),xm(new K0({id:"insertNextSuggestion",precondition:xf.and(xf.equals("config.editor.tabCompletion","on"),wQ.OtherSuggestions,mJ.Visible.toNegated(),aQ.InSnippetMode.toNegated()),handler:function(e){return e.acceptNextSuggestion()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:2}})),xm(new K0({id:"insertPrevSuggestion",precondition:xf.and(xf.equals("config.editor.tabCompletion","on"),wQ.OtherSuggestions,mJ.Visible.toNegated(),aQ.InSnippetMode.toNegated()),handler:function(e){return e.acceptPrevSuggestion()},kbOpts:{weight:G0,kbExpr:xE.textInputFocus,primary:1026}}));var q0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y0=function(e){function t(){return e.call(this,{id:"editor.action.forceRetokenize",label:r("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})||this}return q0(t,e),t.prototype.run=function(e,t){if(t.hasModel()){var n=t.getModel();n.resetTokenization();var i=new $h(!0);n.forceTokenization(n.getLineCount()),i.stop(),console.log("tokenization took "+i.elapsed())}},t}(Cm);Lm(Y0);var X0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Z0=function(e){function t(){return e.call(this,{id:t.ID,label:r({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})||this}return X0(t,e),t.prototype.run=function(e,t){var n=Hp.getTabFocusMode(),i=!n;Hp.setTabFocusMode(i),$g(i?r("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):r("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))},t.ID="editor.action.toggleTabFocusMode",t}(Cm);Lm(Z0);var J0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Q0=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},e1=function(e,t){return function(n,i){t(n,i,e)}},t1=Zb("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},r("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),n1=Zb("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},r("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),i1=Zb("editor.wordHighlightBorder",{light:null,dark:null,hc:nw},r("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),o1=Zb("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:nw},r("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),r1=Zb("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},r("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),s1=Zb("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},r("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),a1=new Ff("hasWordHighlights",!1);function l1(e,t,n){var i=Mu.ordered(e);return Ci(i.map((function(i){return function(){return Promise.resolve(i.provideDocumentHighlights(e,t,n)).then(void 0,me)}})),Hi)}var u1=function(){function e(e,t,n){var i=this;this._wordRange=this._getCurrentWordRange(e,t),this.result=_i((function(o){return i._compute(e,t,n,o)}))}return e.prototype._getCurrentWordRange=function(e,t){var n=e.getWordAtPosition(t.getPosition());return n?new bn(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null},e.prototype.isValid=function(e,t,n){for(var i=t.startLineNumber,o=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t),a=Boolean(this._wordRange&&this._wordRange.equalsRange(s)),l=0,u=n.length;!a&&l<u;l++){var c=e.getDecorationRange(n[l]);c&&c.startLineNumber===i&&c.startColumn<=o&&c.endColumn>=r&&(a=!0)}return a},e.prototype.cancel=function(){this.result.cancel()},e}(),c1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return J0(t,e),t.prototype._compute=function(e,t,n,i){return l1(e,t.getPosition(),i).then((function(e){return e||[]}))},t}(u1),h1=function(e){function t(t,n,i){var o=e.call(this,t,n,i)||this;return o._selectionIsEmpty=n.isEmpty(),o}return J0(t,e),t.prototype._compute=function(e,t,n,i){return bi(250,i).then((function(){if(!t.isEmpty())return[];var i=e.getWordAtPosition(t.getPosition());if(!i)return[];var o=e.findMatches(i.word,!0,!1,!0,n,!1);return o.map((function(e){return{range:e.range,kind:_u.Text}}))}))},t.prototype.isValid=function(t,n,i){var o=n.isEmpty();return this._selectionIsEmpty===o&&e.prototype.isValid.call(this,t,n,i)},t}(u1);function d1(e,t,n){return Mu.has(e)?new c1(e,t,n):new h1(e,t,n)}Tm("_executeDocumentHighlights",(function(e,t){return l1(e,t,qe.None)}));var p1=function(){function e(e,t){var n=this;this.toUnhook=new Re,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=a1.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(61),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((function(e){n._ignorePositionChangeEvent||n.occurrencesHighlight&&n._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((function(e){n._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((function(e){var t=n.editor.getOption(61);n.occurrencesHighlight!==t&&(n.occurrencesHighlight=t,n._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}return e.prototype.hasDecorations=function(){return this._decorationIds.length>0},e.prototype.restore=function(){this.occurrencesHighlight&&this._run()},e.prototype._getSortedHighlights=function(){var e=this;return Bi(this._decorationIds.map((function(t){return e.model.getDecorationRange(t)})).sort(bn.compareRangesUsingStarts))},e.prototype.moveNext=function(){var e=this,t=this._getSortedHighlights(),n=zi(t,(function(t){return t.containsPosition(e.editor.getPosition())})),i=(n+1)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o)}finally{this._ignorePositionChangeEvent=!1}},e.prototype.moveBack=function(){var e=this,t=this._getSortedHighlights(),n=zi(t,(function(t){return t.containsPosition(e.editor.getPosition())})),i=(n-1+t.length)%t.length,o=t[i];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(o.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(o)}finally{this._ignorePositionChangeEvent=!1}},e.prototype._removeDecorations=function(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))},e.prototype._stopAll=function(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)},e.prototype._onPositionChanged=function(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()},e.prototype._run=function(){var e=this,t=this.editor.getSelection();if(t.startLineNumber===t.endLineNumber){var n=t.startLineNumber,i=t.startColumn,o=t.endColumn,r=this.model.getWordAtPosition({lineNumber:n,column:i});if(!r||r.startColumn>i||r.endColumn<o)this._stopAll();else{var s=this.workerRequest&&this.workerRequest.isValid(this.model,t,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),s)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();var a=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=d1(this.model,this.editor.getSelection(),this.editor.getOption(96)),this.workerRequest.result.then((function(t){a===e.workerRequestTokenId&&(e.workerRequestCompleted=!0,e.workerRequestValue=t||[],e._beginRenderDecorations())}),ge)}}}else this._stopAll()},e.prototype._beginRenderDecorations=function(){var e=this,t=(new Date).getTime(),n=this.lastCursorPositionChangeTime+250;t>=n?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((function(){e.renderDecorations()}),n-t)},e.prototype.renderDecorations=function(){this.renderDecorationsTimer=-1;for(var t=[],n=0,i=this.workerRequestValue.length;n<i;n++){var o=this.workerRequestValue[n];t.push({range:o.range,options:e._getDecorationOptions(o.kind)})}this._decorationIds=this.editor.deltaDecorations(this._decorationIds,t),this._hasWordHighlights.set(this.hasDecorations())},e._getDecorationOptions=function(e){return e===_u.Write?this._WRITE_OPTIONS:e===_u.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS},e.prototype.dispose=function(){this._stopAll(),this.toUnhook.dispose()},e._WRITE_OPTIONS=Xy.register({stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:f_(s1),position:Il.Center}}),e._TEXT_OPTIONS=Xy.register({stickiness:1,className:"selectionHighlight",overviewRuler:{color:f_(zC),position:Il.Center}}),e._REGULAR_OPTIONS=Xy.register({stickiness:1,className:"wordHighlight",overviewRuler:{color:f_(r1),position:Il.Center}}),e}(),f1=function(e){function t(t,n){var i=e.call(this)||this;i.wordHighligher=null;var o=function(){t.hasModel()&&(i.wordHighligher=new p1(t,n))};return i._register(t.onDidChangeModel((function(e){i.wordHighligher&&(i.wordHighligher.dispose(),i.wordHighligher=null),o()}))),o(),i}return J0(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.saveViewState=function(){return!(!this.wordHighligher||!this.wordHighligher.hasDecorations())},t.prototype.moveNext=function(){this.wordHighligher&&this.wordHighligher.moveNext()},t.prototype.moveBack=function(){this.wordHighligher&&this.wordHighligher.moveBack()},t.prototype.restoreViewState=function(e){this.wordHighligher&&e&&this.wordHighligher.restore()},t.prototype.dispose=function(){this.wordHighligher&&(this.wordHighligher.dispose(),this.wordHighligher=null),e.prototype.dispose.call(this)},t.ID="editor.contrib.wordHighlighter",t=Q0([e1(1,Bf)],t),t}(Ae),g1=function(e){function t(t,n){var i=e.call(this,n)||this;return i._isNext=t,i}return J0(t,e),t.prototype.run=function(e,t){var n=f1.get(t);n&&(this._isNext?n.moveNext():n.moveBack())},t}(Cm),m1=function(e){function t(){return e.call(this,!0,{id:"editor.action.wordHighlight.next",label:r("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:a1,kbOpts:{kbExpr:xE.editorTextFocus,primary:65,weight:100}})||this}return J0(t,e),t}(g1),_1=function(e){function t(){return e.call(this,!1,{id:"editor.action.wordHighlight.prev",label:r("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:a1,kbOpts:{kbExpr:xE.editorTextFocus,primary:1089,weight:100}})||this}return J0(t,e),t}(g1),v1=function(e){function t(){return e.call(this,{id:"editor.action.wordHighlight.trigger",label:r("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:a1.toNegated(),kbOpts:{kbExpr:xE.editorTextFocus,primary:0,weight:100}})||this}return J0(t,e),t.prototype.run=function(e,t,n){var i=f1.get(t);i&&i.restoreViewState(!0)},t}(Cm);Om(f1.ID,f1),Lm(m1),Lm(_1),Lm(v1),w_((function(e,t){var n=e.getColor(qw);n&&(t.addRule(".monaco-editor .focused .selectionHighlight { background-color: "+n+"; }"),t.addRule(".monaco-editor .selectionHighlight { background-color: "+n.transparent(.5)+"; }"));var i=e.getColor(t1);i&&t.addRule(".monaco-editor .wordHighlight { background-color: "+i+"; }");var o=e.getColor(n1);o&&t.addRule(".monaco-editor .wordHighlightStrong { background-color: "+o+"; }");var r=e.getColor(Yw);r&&t.addRule(".monaco-editor .selectionHighlight { border: 1px "+("hc"===e.type?"dotted":"solid")+" "+r+"; box-sizing: border-box; }");var s=e.getColor(i1);s&&t.addRule(".monaco-editor .wordHighlight { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+s+"; box-sizing: border-box; }");var a=e.getColor(o1);a&&t.addRule(".monaco-editor .wordHighlightStrong { border: 1px "+("hc"===e.type?"dashed":"solid")+" "+a+"; box-sizing: border-box; }")}));var y1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),b1=function(e){function t(t){var n=e.call(this,t)||this;return n._inSelectionMode=t.inSelectionMode,n._wordNavigationType=t.wordNavigationType,n}return y1(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this;if(t.hasModel()){var o=Bv(t.getOption(96)),r=t.getModel(),s=t.getSelections(),a=s.map((function(e){var t=new yn(e.positionLineNumber,e.positionColumn),n=i._move(o,r,t,i._wordNavigationType);return i._moveTo(e,n,i._inSelectionMode)}));if(t._getCursors().setStates("moveWordCommand",0,a.map((function(e){return cb.fromModelSelection(e)}))),1===a.length){var l=new yn(a[0].positionLineNumber,a[0].positionColumn);t.revealPosition(l,0)}}},t.prototype._moveTo=function(e,t,n){return n?new Cn(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new Cn(t.lineNumber,t.column,t.lineNumber,t.column)},t}(wm),w1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y1(t,e),t.prototype._move=function(e,t,n,i){return bE.moveWordLeft(e,t,n,i)},t}(b1),C1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y1(t,e),t.prototype._move=function(e,t,n,i){return bE.moveWordRight(e,t,n,i)},t}(b1),S1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:2063,mac:{primary:527},weight:100}})||this}return y1(t,e),t}(w1),E1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})||this}return y1(t,e),t}(w1),T1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0})||this}return y1(t,e),t}(w1),k1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:3087,mac:{primary:1551},weight:100}})||this}return y1(t,e),t}(w1),x1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})||this}return y1(t,e),t}(w1),L1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0})||this}return y1(t,e),t}(w1),I1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0,kbOpts:{kbExpr:xf.and(xE.textInputFocus,nL),win:{primary:2063},weight:101}})||this}return y1(t,e),t.prototype._move=function(t,n,i,o){return e.prototype._move.call(this,Bv(de.wordSeparators.defaultValue),n,i,o)},t}(w1),O1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0,kbOpts:{kbExpr:xf.and(xE.textInputFocus,nL),win:{primary:3087},weight:101}})||this}return y1(t,e),t.prototype._move=function(t,n,i,o){return e.prototype._move.call(this,Bv(de.wordSeparators.defaultValue),n,i,o)},t}(w1),D1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})||this}return y1(t,e),t}(C1),N1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:2065,mac:{primary:529},weight:100}})||this}return y1(t,e),t}(C1),R1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})||this}return y1(t,e),t}(C1),A1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})||this}return y1(t,e),t}(C1),M1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:3089,mac:{primary:1553},weight:100}})||this}return y1(t,e),t}(C1),P1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})||this}return y1(t,e),t}(C1),F1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0,kbOpts:{kbExpr:xf.and(xE.textInputFocus,nL),win:{primary:2065},weight:101}})||this}return y1(t,e),t.prototype._move=function(t,n,i,o){return e.prototype._move.call(this,Bv(de.wordSeparators.defaultValue),n,i,o)},t}(C1),B1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0,kbOpts:{kbExpr:xf.and(xE.textInputFocus,nL),win:{primary:3089},weight:101}})||this}return y1(t,e),t.prototype._move=function(t,n,i,o){return e.prototype._move.call(this,Bv(de.wordSeparators.defaultValue),n,i,o)},t}(C1),V1=function(e){function t(t){var n=e.call(this,t)||this;return n._whitespaceHeuristics=t.whitespaceHeuristics,n._wordNavigationType=t.wordNavigationType,n}return y1(t,e),t.prototype.runEditorCommand=function(e,t,n){var i=this;if(t.hasModel()){var o=Bv(t.getOption(96)),r=t.getModel(),s=t.getSelections(),a=s.map((function(e){var t=i._delete(o,r,e,i._whitespaceHeuristics,i._wordNavigationType);return new hE(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,a),t.pushUndoStop()}},t}(wm),H1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y1(t,e),t.prototype._delete=function(e,t,n,i,o){var r=bE.deleteWordLeft(e,t,n,i,o);return r||new bn(1,1,1,1)},t}(V1),$1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y1(t,e),t.prototype._delete=function(e,t,n,i,o){var r=bE.deleteWordRight(e,t,n,i,o);if(r)return r;var s=t.getLineCount(),a=t.getLineMaxColumn(s);return new bn(s,a,s,a)},t}(V1),W1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:xE.writable})||this}return y1(t,e),t}(H1),U1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:xE.writable})||this}return y1(t,e),t}(H1),z1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:2049,mac:{primary:513},weight:100}})||this}return y1(t,e),t}(H1),j1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:xE.writable})||this}return y1(t,e),t}($1),G1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:xE.writable})||this}return y1(t,e),t}($1),K1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:2068,mac:{primary:532},weight:100}})||this}return y1(t,e),t}($1);xm(new S1),xm(new E1),xm(new T1),xm(new k1),xm(new x1),xm(new L1),xm(new D1),xm(new N1),xm(new R1),xm(new A1),xm(new M1),xm(new P1),xm(new I1),xm(new O1),xm(new F1),xm(new B1),xm(new W1),xm(new U1),xm(new z1),xm(new j1),xm(new G1),xm(new K1);var q1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Y1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:769},weight:100}})||this}return q1(t,e),t.prototype._delete=function(e,t,n,i,o){var r=wE.deleteWordPartLeft(e,t,n,i);return r||new bn(1,1,1,1)},t}(V1),X1=function(e){function t(){return e.call(this,{whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:xE.writable,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:788},weight:100}})||this}return q1(t,e),t.prototype._delete=function(e,t,n,i,o){var r=wE.deleteWordPartRight(e,t,n,i);if(r)return r;var s=t.getLineCount(),a=t.getLineMaxColumn(s);return new bn(s,a,s,a)},t}(V1),Z1=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q1(t,e),t.prototype._move=function(e,t,n,i){return wE.moveWordPartLeft(e,t,n)},t}(b1),J1=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:783},weight:100}})||this}return q1(t,e),t}(Z1);Ya.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");var Q1=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:1807},weight:100}})||this}return q1(t,e),t}(Z1);Ya.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");var e2=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q1(t,e),t.prototype._move=function(e,t,n,i){return wE.moveWordPartRight(e,t,n)},t}(b1),t2=function(e){function t(){return e.call(this,{inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:785},weight:100}})||this}return q1(t,e),t}(e2),n2=function(e){function t(){return e.call(this,{inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:xE.textInputFocus,primary:0,mac:{primary:1809},weight:100}})||this}return q1(t,e),t}(e2);xm(new Y1),xm(new X1),xm(new J1),xm(new Q1),xm(new t2),xm(new n2);n("41a0");var i2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o2=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r2=function(e,t){return function(n,i){t(n,i,e)}},s2=new Ff("accessibilityHelpWidgetVisible",!1),a2=function(e){function t(t,n){var i=e.call(this)||this;return i._editor=t,i._widget=i._register(n.createInstance(u2,i._editor)),i}return i2(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.show=function(){this._widget.show()},t.prototype.hide=function(){this._widget.hide()},t.ID="editor.contrib.accessibilityHelpController",t=o2([r2(1,In)],t),t}(Ae);function l2(e,t){return e&&0!==e.length?1===e.length?t?Rr(sg.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):Rr(sg.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?Rr(sg.multiSelectionRange,e.length,t):e.length>0?Rr(sg.multiSelection,e.length):"":sg.noSelection}var u2=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r._contextKeyService=n,r._keybindingService=i,r._openerService=o,r._editor=t,r._isVisibleKey=s2.bindTo(r._contextKeyService),r._domNode=Am(document.createElement("div")),r._domNode.setClassName("accessibilityHelpWidget"),r._domNode.setDisplay("none"),r._domNode.setAttribute("role","dialog"),r._domNode.setAttribute("aria-hidden","true"),r._contentDomNode=Am(document.createElement("div")),r._contentDomNode.setAttribute("role","document"),r._domNode.appendChild(r._contentDomNode),r._isVisible=!1,r._register(r._editor.onDidLayoutChange((function(){r._isVisible&&r._layout()}))),r._register(So(r._contentDomNode.domNode,"keydown",(function(e){if(r._isVisible&&(e.equals(2083)&&($g(sg.emergencyConfOn),r._editor.updateOptions({accessibilitySupport:"on"}),so(r._contentDomNode.domNode),r._buildContent(),r._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){$g(sg.openingDocs);var t=r._editor.getRawOptions().accessibilityHelpUrl;"undefined"===typeof t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),r._openerService.open(Lt.parse(t)),e.preventDefault(),e.stopPropagation()}}))),r.onblur(r._contentDomNode.domNode,(function(){r.hide()})),r._editor.addOverlayWidget(r),r}return i2(t,e),t.prototype.dispose=function(){this._editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode.domNode},t.prototype.getPosition=function(){return{preference:null}},t.prototype.show=function(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())},t.prototype._descriptionForCommand=function(e,t,n){var i=this._keybindingService.lookupKeybinding(e);return i?Rr(t,i.getAriaLabel()):Rr(n,e)},t.prototype._buildContent=function(){var e=this._editor.getOptions(),t=this._editor.getSelections(),n=0;if(t){var i=this._editor.getModel();i&&t.forEach((function(e){n+=i.getValueLengthInRange(e)}))}var o=l2(t,n);e.get(45)?e.get(68)?o+=sg.readonlyDiffEditor:o+=sg.editableDiffEditor:e.get(68)?o+=sg.readonlyEditor:o+=sg.editableEditor;var r=s["e"]?sg.changeConfigToOnMac:sg.changeConfigToOnWinLinux;switch(e.get(2)){case 0:o+="\n\n - "+r;break;case 2:o+="\n\n - "+sg.auto_on;break;case 1:o+="\n\n - "+sg.auto_off,o+=" "+r;break}e.get(106)?o+="\n\n - "+this._descriptionForCommand(Z0.ID,sg.tabFocusModeOnMsg,sg.tabFocusModeOnMsgNoKb):o+="\n\n - "+this._descriptionForCommand(Z0.ID,sg.tabFocusModeOffMsg,sg.tabFocusModeOffMsgNoKb);var a=s["e"]?sg.openDocMac:sg.openDocWinLinux;o+="\n\n - "+a,o+="\n\n"+sg.outroMsg,this._contentDomNode.domNode.appendChild(tU(o)),this._contentDomNode.domNode.setAttribute("aria-label",o)},t.prototype.hide=function(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,so(this._contentDomNode.domNode),this._editor.focus())},t.prototype._layout=function(){var e=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(t.WIDTH,e.width-40)),i=Math.max(5,Math.min(t.HEIGHT,e.height-40));this._domNode.setWidth(n),this._domNode.setHeight(i);var o=Math.round((e.height-i)/2);this._domNode.setTop(o);var r=Math.round((e.width-n)/2);this._domNode.setLeft(r)},t.ID="editor.contrib.accessibilityHelpWidget",t.WIDTH=500,t.HEIGHT=300,t=o2([r2(1,Bf),r2(2,WI),r2(3,Ja)],t),t}(fT),c2=function(e){function t(){return e.call(this,{id:"editor.action.showAccessibilityHelp",label:sg.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:Hn?2107:571,weight:100}})||this}return i2(t,e),t.prototype.run=function(e,t){var n=a2.get(t);n&&n.show()},t}(Cm);Om(a2.ID,a2),Lm(c2);var h2=wm.bindToContribution(a2.get);xm(new h2({id:"closeAccessibilityHelp",precondition:s2,handler:function(e){return e.hide()},kbOpts:{weight:200,kbExpr:xE.focus,primary:9,secondary:[1033]}})),w_((function(e,t){var n=e.getColor($w);n&&t.addRule(".monaco-editor .accessibilityHelpWidget { background-color: "+n+"; }");var i=e.getColor(Ww);i&&t.addRule(".monaco-editor .accessibilityHelpWidget { color: "+i+"; }");var o=e.getColor(rw);o&&t.addRule(".monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px "+o+"; }");var r=e.getColor(tw);r&&t.addRule(".monaco-editor .accessibilityHelpWidget { border: 2px solid "+r+"; }")}));n("722f");var d2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),p2=function(e){function t(t){var n=e.call(this)||this;return n.editor=t,n.widget=null,qn&&(n._register(t.onDidChangeConfiguration((function(){return n.update()}))),n.update()),n}return d2(t,e),t.prototype.update=function(){var e=!this.editor.getOption(68);!this.widget&&e?this.widget=new f2(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.widget&&(this.widget.dispose(),this.widget=null)},t.ID="editor.contrib.iPadShowKeyboard",t}(Ae),f2=function(e){function t(t){var n=e.call(this)||this;return n.editor=t,n._domNode=document.createElement("textarea"),n._domNode.className="iPadShowKeyboard",n._register(bo(n._domNode,"touchstart",(function(e){n.editor.focus()}))),n._register(bo(n._domNode,"focus",(function(e){n.editor.focus()}))),n.editor.addOverlayWidget(n),n}return d2(t,e),t.prototype.dispose=function(){this.editor.removeOverlayWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t.ID},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{preference:1}},t.ID="editor.contrib.ShowKeyboardWidget",t}(Ae);Om(p2.ID,p2);n("133b");var g2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),m2=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_2=function(e,t){return function(n,i){t(n,i,e)}},v2=function(e){function t(t,n,i){var o=e.call(this)||this;return o._editor=t,o._modeService=i,o._widget=null,o._register(o._editor.onDidChangeModel((function(e){return o.stop()}))),o._register(o._editor.onDidChangeModelLanguage((function(e){return o.stop()}))),o._register(Zu.onDidChange((function(e){return o.stop()}))),o}return g2(t,e),t.get=function(e){return e.getContribution(t.ID)},t.prototype.dispose=function(){this.stop(),e.prototype.dispose.call(this)},t.prototype.launch=function(){this._widget||this._editor.hasModel()&&(this._widget=new C2(this._editor,this._modeService))},t.prototype.stop=function(){this._widget&&(this._widget.dispose(),this._widget=null)},t.ID="editor.contrib.inspectTokens",t=m2([_2(1,$I),_2(2,tO)],t),t}(Ae),y2=function(e){function t(){return e.call(this,{id:"editor.action.inspectTokens",label:ag.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})||this}return g2(t,e),t.prototype.run=function(e,t){var n=v2.get(t);n&&n.launch()},t}(Cm);function b2(e){for(var t="",n=0,i=e.length;n<i;n++){var o=e.charCodeAt(n);switch(o){case 9:t+="&rarr;";break;case 32:t+="&middot;";break;case 60:t+="&lt;";break;case 62:t+="&gt;";break;case 38:t+="&amp;";break;default:t+=String.fromCharCode(o)}}return t}function w2(e){var t=Zu.get(e.language);return t||{getInitialState:function(){return Qu},tokenize:function(t,n,i){return nc(e.language,t,n,i)},tokenize2:function(t,n,i){return ic(e.id,t,n,i)}}}var C2=function(e){function t(t,n){var i=e.call(this)||this;return i.allowEditorOverflow=!0,i._editor=t,i._modeService=n,i._model=i._editor.getModel(),i._domNode=document.createElement("div"),i._domNode.className="tokens-inspect-widget",i._tokenizationSupport=w2(i._model.getLanguageIdentifier()),i._compute(i._editor.getPosition()),i._register(i._editor.onDidChangeCursorPosition((function(e){return i._compute(i._editor.getPosition())}))),i._editor.addContentWidget(i),i}return g2(t,e),t.prototype.dispose=function(){this._editor.removeContentWidget(this),e.prototype.dispose.call(this)},t.prototype.getId=function(){return t._ID},t.prototype._compute=function(e){for(var t=this._getTokensAtLine(e.lineNumber),n=0,i=t.tokens1.length-1;i>=0;i--){var o=t.tokens1[i];if(e.column-1>=o.offset){n=i;break}}var r=0;for(i=t.tokens2.length>>>1;i>=0;i--)if(e.column-1>=t.tokens2[i<<1]){r=i;break}var s="",a=this._model.getLineContent(e.lineNumber),l="";if(n<t.tokens1.length){var u=t.tokens1[n].offset,c=n+1<t.tokens1.length?t.tokens1[n+1].offset:a.length;l=a.substring(u,c)}s+='<h2 class="tm-token">'+b2(l)+'<span class="tm-token-length">('+l.length+" "+(1===l.length?"char":"chars")+")</span></h2>",s+='<hr class="tokens-inspect-separator" style="clear:both"/>';var h=this._decodeMetadata(t.tokens2[1+(r<<1)]);s+='<table class="tm-metadata-table"><tbody>',s+='<tr><td class="tm-metadata-key">language</td><td class="tm-metadata-value">'+Ar(h.languageIdentifier.language)+"</td>",s+='<tr><td class="tm-metadata-key">token type</td><td class="tm-metadata-value">'+this._tokenTypeToString(h.tokenType)+"</td>",s+='<tr><td class="tm-metadata-key">font style</td><td class="tm-metadata-value">'+this._fontStyleToString(h.fontStyle)+"</td>",s+='<tr><td class="tm-metadata-key">foreground</td><td class="tm-metadata-value">'+My.Format.CSS.formatHex(h.foreground)+"</td>",s+='<tr><td class="tm-metadata-key">background</td><td class="tm-metadata-value">'+My.Format.CSS.formatHex(h.background)+"</td>",s+="</tbody></table>",s+='<hr class="tokens-inspect-separator"/>',n<t.tokens1.length&&(s+='<span class="tm-token-type">'+Ar(t.tokens1[n].type)+"</span>"),this._domNode.innerHTML=s,this._editor.layoutContentWidget(this)},t.prototype._decodeMetadata=function(e){var t=Zu.getColorMap(),n=Cu.getLanguageId(e),i=Cu.getTokenType(e),o=Cu.getFontStyle(e),r=Cu.getForeground(e),s=Cu.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(n),tokenType:i,fontStyle:o,foreground:t[r],background:t[s]}},t.prototype._tokenTypeToString=function(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx"}return"??"},t.prototype._fontStyleToString=function(e){var t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t},t.prototype._getTokensAtLine=function(e){var t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),t,0),i=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),t,0);return{startState:t,tokens1:n.tokens,tokens2:i.tokens,endState:n.endState}},t.prototype._getStateBeforeLine=function(e){for(var t=this._tokenizationSupport.getInitialState(),n=1;n<e;n++){var i=this._tokenizationSupport.tokenize(this._model.getLineContent(n),t,0);t=i.endState}return t},t.prototype.getDomNode=function(){return this._domNode},t.prototype.getPosition=function(){return{position:this._editor.getPosition(),preference:[2,1]}},t._ID="editor.contrib.inspectTokensWidget",t}(Ae);Om(v2.ID,v2),Lm(y2),w_((function(e,t){var n=e.getColor(rC);if(n){var i=e.type===m_?2:1;t.addRule(".monaco-editor .tokens-inspect-widget { border: "+i+"px solid "+n+"; }"),t.addRule(".monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: "+n+"; }")}var o=e.getColor(iC);o&&t.addRule(".monaco-editor .tokens-inspect-widget { background-color: "+o+"; }");var r=e.getColor(oC);r&&t.addRule(".monaco-editor .tokens-inspect-widget { color: "+r+"; }")}));n("0bda"),n("abf2");var S2=_r,E2=function(){function e(e,t,n){this.os=t,this.options=n,this.domNode=pr(e,S2(".monaco-keybinding")),this.didEverRender=!1,e.appendChild(this.domNode)}return e.prototype.set=function(t,n){this.didEverRender&&this.keybinding===t&&e.areSame(this.matches,n)||(this.keybinding=t,this.matches=n,this.render())},e.prototype.render=function(){if(so(this.domNode),this.keybinding){var e=this.keybinding.getParts(),t=e[0],n=e[1];t&&this.renderPart(this.domNode,t,this.matches?this.matches.firstPart:null),n&&(pr(this.domNode,S2("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,n,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0},e.prototype.renderPart=function(e,t,n){var i=qf.modifierLabels[this.os];t.ctrlKey&&this.renderKey(e,i.ctrlKey,Boolean(null===n||void 0===n?void 0:n.ctrlKey),i.separator),t.shiftKey&&this.renderKey(e,i.shiftKey,Boolean(null===n||void 0===n?void 0:n.shiftKey),i.separator),t.altKey&&this.renderKey(e,i.altKey,Boolean(null===n||void 0===n?void 0:n.altKey),i.separator),t.metaKey&&this.renderKey(e,i.metaKey,Boolean(null===n||void 0===n?void 0:n.metaKey),i.separator);var o=t.keyLabel;o&&this.renderKey(e,o,Boolean(null===n||void 0===n?void 0:n.keyCode),"")},e.prototype.renderKey=function(e,t,n,i){pr(e,S2("span.monaco-keybinding-key"+(n?".highlight":""),void 0,t)),i&&pr(e,S2("span.monaco-keybinding-key-separator",void 0,i))},e.prototype.renderUnbound=function(e){pr(e,S2("span.monaco-keybinding-key",void 0,r("unbound","Unbound")))},e.areSame=function(e,t){return e===t||!e&&!t||!!e&&!!t&&_l(e.firstPart,t.firstPart)&&_l(e.chordPart,t.chordPart)},e}(),T2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k2=0,x2=function(){function e(e){void 0===e&&(e=[]),this.id=(k2++).toString(),this.labelHighlights=e,this.descriptionHighlights=[]}return e.prototype.getId=function(){return this.id},e.prototype.getLabel=function(){},e.prototype.getLabelOptions=function(){},e.prototype.getAriaLabel=function(){return Bi([this.getLabel(),this.getDescription(),this.getDetail()]).join(", ")},e.prototype.getDetail=function(){},e.prototype.getIcon=function(){},e.prototype.getDescription=function(){},e.prototype.getTooltip=function(){},e.prototype.getDescriptionTooltip=function(){},e.prototype.getKeybinding=function(){},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setHighlights=function(e,t,n){this.labelHighlights=e,this.descriptionHighlights=t,this.detailHighlights=n},e.prototype.getHighlights=function(){return[this.labelHighlights,this.descriptionHighlights,this.detailHighlights]},e.prototype.run=function(e,t){return!1},e}(),L2=function(e){function t(t,n,i){var o=e.call(this)||this;return o.entry=t,o.groupLabel=n,o.withBorder=i,o}return T2(t,e),t.prototype.getGroupLabel=function(){return this.groupLabel},t.prototype.setGroupLabel=function(e){this.groupLabel=e},t.prototype.showBorder=function(){return!!this.withBorder},t.prototype.setShowBorder=function(e){this.withBorder=e},t.prototype.getLabel=function(){return this.entry?this.entry.getLabel():e.prototype.getLabel.call(this)},t.prototype.getLabelOptions=function(){return this.entry?this.entry.getLabelOptions():e.prototype.getLabelOptions.call(this)},t.prototype.getAriaLabel=function(){return this.entry?this.entry.getAriaLabel():e.prototype.getAriaLabel.call(this)},t.prototype.getDetail=function(){return this.entry?this.entry.getDetail():e.prototype.getDetail.call(this)},t.prototype.getIcon=function(){return this.entry?this.entry.getIcon():e.prototype.getIcon.call(this)},t.prototype.getDescription=function(){return this.entry?this.entry.getDescription():e.prototype.getDescription.call(this)},t.prototype.getHighlights=function(){return this.entry?this.entry.getHighlights():e.prototype.getHighlights.call(this)},t.prototype.isHidden=function(){return this.entry?this.entry.isHidden():e.prototype.isHidden.call(this)},t.prototype.setHighlights=function(t,n,i){this.entry?this.entry.setHighlights(t,n,i):e.prototype.setHighlights.call(this,t,n,i)},t.prototype.run=function(t,n){return this.entry?this.entry.run(t,n):e.prototype.run.call(this,t,n)},t}(x2),I2=function(){function e(){}return e.prototype.hasActions=function(e,t){return!1},e.prototype.getActions=function(e,t){return null},e}(),O2="quickOpenEntry",D2="quickOpenEntryGroup",N2=function(){function e(e,t){void 0===e&&(e=new I2),this.actionProvider=e,this.actionRunner=t}return e.prototype.getHeight=function(e){return e.getDetail()?44:22},e.prototype.getTemplateId=function(e){return e instanceof L2?D2:O2},e.prototype.renderTemplate=function(e,t,n){var i=document.createElement("div");fo(i,"sub-content"),t.appendChild(i);var o=_r(".quick-open-row"),r=_r(".quick-open-row"),a=_r(".quick-open-entry",void 0,o,r);i.appendChild(a);var l=document.createElement("span");o.appendChild(l);var u=new BG(o,{supportHighlights:!0,supportDescriptionHighlights:!0,supportCodicons:!0}),c=document.createElement("span");o.appendChild(c),fo(c,"quick-open-entry-keybinding");var h=new E2(c,s["a"]),d=document.createElement("div");r.appendChild(d),fo(d,"quick-open-entry-meta");var p,f=new MG(d,!0);e===D2&&(p=document.createElement("div"),fo(p,"results-group"),t.appendChild(p)),fo(t,"actions");var g=document.createElement("div");fo(g,"primary-action-bar"),t.appendChild(g);var m=new aI(g,{actionRunner:this.actionRunner});return{container:t,entry:a,icon:l,label:u,detail:f,keybinding:h,group:p,actionBar:m}},e.prototype.renderElement=function(e,t,n,i){this.actionProvider.hasActions(null,e)?fo(n.container,"has-actions"):mo(n.container,"has-actions"),n.actionBar.context=e;var o=this.actionProvider.getActions(null,e);if(n.actionBar.isEmpty()&&o&&o.length>0?n.actionBar.push(o,{icon:!0,label:!1}):n.actionBar.isEmpty()||o&&0!==o.length||n.actionBar.clear(),e instanceof L2&&e.getGroupLabel()?fo(n.container,"has-group-label"):mo(n.container,"has-group-label"),e instanceof L2){var r=e,s=n;r.showBorder()?(fo(s.container,"results-group-separator"),i.pickerGroupBorder&&(s.container.style.borderTopColor=i.pickerGroupBorder.toString())):(mo(s.container,"results-group-separator"),s.container.style.borderTopColor="");var a=r.getGroupLabel()||"";s.group&&(s.group.textContent=a,i.pickerGroupForeground&&(s.group.style.color=i.pickerGroupForeground.toString()))}if(e instanceof x2){var l=e.getHighlights(),u=l[0],c=l[1],h=l[2],d=e.getIcon()?"quick-open-entry-icon "+e.getIcon():"";n.icon.className=d;var p=e.getLabelOptions()||Object.create(null);p.matches=u||[],p.title=e.getTooltip(),p.descriptionTitle=e.getDescriptionTooltip()||e.getDescription(),p.descriptionMatches=c||[],n.label.setLabel(e.getLabel()||"",e.getDescription(),p),n.detail.set(e.getDetail(),h),n.keybinding.set(e.getKeybinding())}},e.prototype.disposeTemplate=function(e,t){t.actionBar.dispose(),t.actionBar=null,t.container=null,t.entry=null,t.keybinding=null,t.detail=null,t.group=null,t.icon=null,t.label.dispose(),t.label=null},e}(),R2=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=new I2),this._entries=e,this._dataSource=this,this._renderer=new N2(t),this._filter=this,this._runner=this,this._accessibilityProvider=this}return Object.defineProperty(e.prototype,"entries",{get:function(){return this._entries},set:function(e){this._entries=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataSource",{get:function(){return this._dataSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runner",{get:function(){return this._runner},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accessibilityProvider",{get:function(){return this._accessibilityProvider},enumerable:!0,configurable:!0}),e.prototype.getId=function(e){return e.getId()},e.prototype.getLabel=function(e){return Ma(e.getLabel())},e.prototype.getAriaLabel=function(e){var t=e.getAriaLabel();return t?r("quickOpenAriaLabelEntry","{0}, picker",e.getAriaLabel()):r("quickOpenAriaLabel","picker")},e.prototype.isVisible=function(e){return!e.isHidden()},e.prototype.run=function(e,t,n){return e.run(t,n)},e}(),A2=(n("a87d"),n("52c8"),function(){function e(e){this.modelProvider=La(e.getModel)?e:{getModel:function(){return e}}}return e.prototype.getId=function(e,t){if(!t)return null;var n=this.modelProvider.getModel();return n===t?"__root__":n.dataSource.getId(t)},e.prototype.hasChildren=function(e,t){var n=this.modelProvider.getModel();return!!(n&&n===t&&n.entries.length>0)},e.prototype.getChildren=function(e,t){var n=this.modelProvider.getModel();return Promise.resolve(n===t?n.entries:[])},e.prototype.getParent=function(e,t){return Promise.resolve(null)},e}()),M2=function(){function e(e){this.modelProvider=e}return e.prototype.getAriaLabel=function(e,t){var n=this.modelProvider.getModel();return n.accessibilityProvider?n.accessibilityProvider.getAriaLabel(t):null},e.prototype.getPosInSet=function(e,t){var n=this.modelProvider.getModel(),i=0;if(n.filter)for(var o=0,r=n.entries;o<r.length;o++){var s=r[o];if(n.filter.isVisible(s)&&i++,s===t)break}else i=n.entries.indexOf(t)+1;return String(i)},e.prototype.getSetSize=function(){var e=this.modelProvider.getModel(),t=0;if(e.filter)for(var n=0,i=e.entries;n<i.length;n++){var o=i[n];e.filter.isVisible(o)&&t++}else t=e.entries.length;return String(t)},e}(),P2=function(){function e(e){this.modelProvider=e}return e.prototype.isVisible=function(e,t){var n=this.modelProvider.getModel();return!n.filter||n.filter.isVisible(t)},e}(),F2=function(){function e(e,t){this.modelProvider=e,this.styles=t}return e.prototype.updateStyles=function(e){this.styles=e},e.prototype.getHeight=function(e,t){var n=this.modelProvider.getModel();return n.renderer.getHeight(t)},e.prototype.getTemplateId=function(e,t){var n=this.modelProvider.getModel();return n.renderer.getTemplateId(t)},e.prototype.renderTemplate=function(e,t,n){var i=this.modelProvider.getModel();return i.renderer.renderTemplate(t,n,this.styles)},e.prototype.renderElement=function(e,t,n,i){var o=this.modelProvider.getModel();o.renderer.renderElement(t,n,i,this.styles)},e.prototype.disposeTemplate=function(e,t,n){var i=this.modelProvider.getModel();i.renderer.disposeTemplate(t,n)},e}(),B2=(n("bcc1"),function(){function e(){this._arr=[]}return e.prototype.set=function(e,t){this._arr.push({keybinding:ht(e,s["a"]),callback:t})},e.prototype.dispatch=function(e){for(var t=this._arr.length-1;t>=0;t--){var n=this._arr[t];if(e.toChord().equals(n.keybinding))return n.callback}return null},e}()),V2=function(){function e(e){var t=this;void 0===e&&(e={clickBehavior:0,keyboardSupport:!0,openMode:0}),this.options=e,this.downKeyBindingDispatcher=new B2,this.upKeyBindingDispatcher=new B2,("boolean"!==typeof e.keyboardSupport||e.keyboardSupport)&&(this.downKeyBindingDispatcher.set(16,(function(e,n){return t.onUp(e,n)})),this.downKeyBindingDispatcher.set(18,(function(e,n){return t.onDown(e,n)})),this.downKeyBindingDispatcher.set(15,(function(e,n){return t.onLeft(e,n)})),this.downKeyBindingDispatcher.set(17,(function(e,n){return t.onRight(e,n)})),s["e"]&&(this.downKeyBindingDispatcher.set(2064,(function(e,n){return t.onLeft(e,n)})),this.downKeyBindingDispatcher.set(300,(function(e,n){return t.onDown(e,n)})),this.downKeyBindingDispatcher.set(302,(function(e,n){return t.onUp(e,n)}))),this.downKeyBindingDispatcher.set(11,(function(e,n){return t.onPageUp(e,n)})),this.downKeyBindingDispatcher.set(12,(function(e,n){return t.onPageDown(e,n)})),this.downKeyBindingDispatcher.set(14,(function(e,n){return t.onHome(e,n)})),this.downKeyBindingDispatcher.set(13,(function(e,n){return t.onEnd(e,n)})),this.downKeyBindingDispatcher.set(10,(function(e,n){return t.onSpace(e,n)})),this.downKeyBindingDispatcher.set(9,(function(e,n){return t.onEscape(e,n)})),this.upKeyBindingDispatcher.set(3,this.onEnter.bind(this)),this.upKeyBindingDispatcher.set(2051,this.onEnter.bind(this)))}return e.prototype.onMouseDown=function(e,t,n,i){if(void 0===i&&(i="mouse"),0===this.options.clickBehavior&&(n.leftButton||n.middleButton)){if(n.target){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!1;if(Xo(n.target,"scrollbar","monaco-tree"))return!1;if(Xo(n.target,"monaco-action-bar","row"))return!1}return this.onLeftClick(e,t,n,i)}return!1},e.prototype.onClick=function(e,t,n){var i=s["e"];return i&&n.ctrlKey?(n.preventDefault(),n.stopPropagation(),!1):(!n.target||!n.target.tagName||"input"!==n.target.tagName.toLowerCase())&&((0!==this.options.clickBehavior||!n.leftButton&&!n.middleButton)&&this.onLeftClick(e,t,n))},e.prototype.onLeftClick=function(e,t,n,i){void 0===i&&(i="mouse");var o=n,r={origin:i,originalEvent:n,didClickOnTwistie:this.isClickOnTwistie(o)};if(e.getInput()===t)e.clearFocus(r),e.clearSelection(r);else{var s=n&&o.browserEvent&&"mousedown"===o.browserEvent.type&&1===o.browserEvent.detail;s||n.preventDefault(),n.stopPropagation(),e.domFocus(),e.setSelection([t],r),e.setFocus(t,r),this.shouldToggleExpansion(t,o,i)&&(e.isExpanded(t)?e.collapse(t).then(void 0,ge):e.expand(t).then(void 0,ge))}return!0},e.prototype.shouldToggleExpansion=function(e,t,n){var i="mouse"===n&&2===t.detail;return this.openOnSingleClick||i||this.isClickOnTwistie(t)},Object.defineProperty(e.prototype,"openOnSingleClick",{get:function(){return 0===this.options.openMode},enumerable:!0,configurable:!0}),e.prototype.isClickOnTwistie=function(e){var t=e.target;if(!po(t,"content"))return!1;var n=window.getComputedStyle(t,":before");if("none"===n.backgroundImage||"none"===n.display)return!1;var i=parseInt(n.width)+parseInt(n.paddingRight);return e.browserEvent.offsetX<=i},e.prototype.onContextMenu=function(e,t,n){return n.target&&n.target.tagName&&"input"===n.target.tagName.toLowerCase()||n&&(n.preventDefault(),n.stopPropagation()),!1},e.prototype.onTap=function(e,t,n){var i=n.initialTarget;return(!i||!i.tagName||"input"!==i.tagName.toLowerCase())&&this.onLeftClick(e,t,n,"touch")},e.prototype.onKeyDown=function(e,t){return this.onKey(this.downKeyBindingDispatcher,e,t)},e.prototype.onKeyUp=function(e,t){return this.onKey(this.upKeyBindingDispatcher,e,t)},e.prototype.onKey=function(e,t,n){var i=e.dispatch(n.toKeybinding());return!(!i||!i(t,n))&&(n.preventDefault(),n.stopPropagation(),!0)},e.prototype.onUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPrevious(1,n),e.reveal(e.getFocus()).then(void 0,ge)),!0},e.prototype.onPageUp=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusPreviousPage(n),e.reveal(e.getFocus()).then(void 0,ge)),!0},e.prototype.onDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNext(1,n),e.reveal(e.getFocus()).then(void 0,ge)),!0},e.prototype.onPageDown=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusNextPage(n),e.reveal(e.getFocus()).then(void 0,ge)),!0},e.prototype.onHome=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusFirst(n),e.reveal(e.getFocus()).then(void 0,ge)),!0},e.prototype.onEnd=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?e.clearHighlight(n):(e.focusLast(n),e.reveal(e.getFocus()).then(void 0,ge)),!0},e.prototype.onLeft=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.collapse(i).then((function(t){if(i&&!t)return e.focusParent(n),e.reveal(e.getFocus())})).then(void 0,ge)}return!0},e.prototype.onRight=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())e.clearHighlight(n);else{var i=e.getFocus();e.expand(i).then((function(t){if(i&&!t)return e.focusFirstChild(n),e.reveal(e.getFocus())})).then(void 0,ge)}return!0},e.prototype.onEnter=function(e,t){var n={origin:"keyboard",originalEvent:t};if(e.getHighlight())return!1;var i=e.getFocus();return i&&e.setSelection([i],n),!0},e.prototype.onSpace=function(e,t){if(e.getHighlight())return!1;var n=e.getFocus();return n&&e.toggleExpansion(n),!0},e.prototype.onEscape=function(e,t){var n={origin:"keyboard",originalEvent:t};return e.getHighlight()?(e.clearHighlight(n),!0):e.getSelection().length?(e.clearSelection(n),!0):!!e.getFocus()&&(e.clearFocus(n),!0)},e}(),H2=function(){function e(){}return e.prototype.getDragURI=function(e,t){return null},e.prototype.onDragStart=function(e,t,n){},e.prototype.onDragOver=function(e,t,n,i){return null},e.prototype.drop=function(e,t,n,i){},e}(),$2=function(){function e(){}return e.prototype.isVisible=function(e,t){return!0},e}(),W2=function(){function e(){}return e.prototype.getAriaLabel=function(e,t){return null},e}(),U2=function(){function e(e,t){this.styleElement=e,this.selectorSuffix=t}return e.prototype.style=function(e){var t=this.selectorSuffix?"."+this.selectorSuffix:"",n=[];e.listFocusBackground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { background-color: "+e.listFocusBackground+"; }"),e.listFocusForeground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) { color: "+e.listFocusForeground+"; }"),e.listActiveSelectionBackground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listActiveSelectionBackground+"; }"),e.listActiveSelectionForeground&&n.push(".monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listActiveSelectionForeground+"; }"),e.listFocusAndSelectionBackground&&n.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { background-color: "+e.listFocusAndSelectionBackground+"; }\n\t\t\t"),e.listFocusAndSelectionForeground&&n.push("\n\t\t\t\t.monaco-tree-drag-image,\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused.selected:not(.highlighted) { color: "+e.listFocusAndSelectionForeground+"; }\n\t\t\t"),e.listInactiveSelectionBackground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { background-color: "+e.listInactiveSelectionBackground+"; }"),e.listInactiveSelectionForeground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) { color: "+e.listInactiveSelectionForeground+"; }"),e.listHoverBackground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { background-color: "+e.listHoverBackground+"; }"),e.listHoverForeground&&n.push(".monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused) { color: "+e.listHoverForeground+"; }"),e.listDropBackground&&n.push("\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.drop-target { background-color: "+e.listDropBackground+" !important; color: inherit !important; }\n\t\t\t"),e.listFocusOutline&&n.push("\n\t\t\t\t.monaco-tree-drag-image\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; background: #000; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row \t\t\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px solid transparent; }\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.focused:not(.highlighted) \t\t\t\t\t\t{ border: 1px dotted "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+".focused .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted) \t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.selected:not(.highlighted)  \t\t\t\t\t\t\t{ border: 1px solid "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row:hover:not(.highlighted):not(.selected):not(.focused)  \t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-wrapper.drop-target,\n\t\t\t\t.monaco-tree"+t+" .monaco-tree-rows > .monaco-tree-row.drop-target\t\t\t\t\t\t\t\t\t\t\t\t{ border: 1px dashed "+e.listFocusOutline+"; }\n\t\t\t");var i=n.join("\n");i!==this.styleElement.innerHTML&&(this.styleElement.innerHTML=i)},e}(),z2=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),j2=function(){function e(e){this._onDispose=new Ze,this.onDispose=this._onDispose.event,this._item=e}return Object.defineProperty(e.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._onDispose&&(this._onDispose.fire(),this._onDispose.dispose(),this._onDispose=void 0)},e}(),G2=function(){function e(){this.locks=Object.create({})}return e.prototype.isLocked=function(e){return!!this.locks[e.id]},e.prototype.run=function(e,t){var n,i=this,o=this.getLock(e);return new Promise(o?function(n,r){$e.once(o.onDispose)((function(){return i.run(e,t).then(n,r)}))}:function(o,r){if(e.isDisposed())return r(new Error("Item is disposed."));var s=i.locks[e.id]=new j2(e);return n=t().then((function(t){return delete i.locks[e.id],s.dispose(),t})).then(o,r),n})},e.prototype.getLock=function(e){var t;for(t in this.locks){var n=this.locks[t];if(e.intersects(n.item))return n}return null},e}(),K2=function(){function e(){this._isDisposed=!1,this._onDidRevealItem=new Qe,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new Qe,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new Qe,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new Qe,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new Qe,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new Qe,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new Qe,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new Qe,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new Qe,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new Qe,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new Qe,this.onDidDisposeItem=this._onDidDisposeItem.event,this.items={}}return e.prototype.register=function(e){ul(!this.isRegistered(e.id),"item already registered: "+e.id);var t=Oe(this._onDidRevealItem.add(e.onDidReveal),this._onExpandItem.add(e.onExpand),this._onDidExpandItem.add(e.onDidExpand),this._onCollapseItem.add(e.onCollapse),this._onDidCollapseItem.add(e.onDidCollapse),this._onDidAddTraitItem.add(e.onDidAddTrait),this._onDidRemoveTraitItem.add(e.onDidRemoveTrait),this._onDidRefreshItem.add(e.onDidRefresh),this._onRefreshItemChildren.add(e.onRefreshChildren),this._onDidRefreshItemChildren.add(e.onDidRefreshChildren),this._onDidDisposeItem.add(e.onDidDispose));this.items[e.id]={item:e,disposable:t}},e.prototype.deregister=function(e){ul(this.isRegistered(e.id),"item not registered: "+e.id),this.items[e.id].disposable.dispose(),delete this.items[e.id]},e.prototype.isRegistered=function(e){return this.items.hasOwnProperty(e)},e.prototype.getItem=function(e){var t=this.items[e];return t?t.item:null},e.prototype.dispose=function(){this.items={},this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._isDisposed=!0},e.prototype.isDisposed=function(){return this._isDisposed},e}(),q2=function(){function e(e,t,n,i,o){this._onDidCreate=new Ze,this._onDidReveal=new Ze,this.onDidReveal=this._onDidReveal.event,this._onExpand=new Ze,this.onExpand=this._onExpand.event,this._onDidExpand=new Ze,this.onDidExpand=this._onDidExpand.event,this._onCollapse=new Ze,this.onCollapse=this._onCollapse.event,this._onDidCollapse=new Ze,this.onDidCollapse=this._onDidCollapse.event,this._onDidAddTrait=new Ze,this.onDidAddTrait=this._onDidAddTrait.event,this._onDidRemoveTrait=new Ze,this.onDidRemoveTrait=this._onDidRemoveTrait.event,this._onDidRefresh=new Ze,this.onDidRefresh=this._onDidRefresh.event,this._onRefreshChildren=new Ze,this.onRefreshChildren=this._onRefreshChildren.event,this._onDidRefreshChildren=new Ze,this.onDidRefreshChildren=this._onDidRefreshChildren.event,this._onDidDispose=new Ze,this.onDidDispose=this._onDidDispose.event,this.registry=t,this.context=n,this.lock=i,this.element=o,this.id=e,this.registry.register(this),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.needsChildrenRefresh=!0,this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this.traits={},this.depth=0,this.expanded=!(!this.context.dataSource.shouldAutoexpand||!this.context.dataSource.shouldAutoexpand(this.context.tree,o)),this._onDidCreate.fire(this),this.visible=this._isVisible(),this.height=this._getHeight(),this._isDisposed=!1}return e.prototype.getElement=function(){return this.element},e.prototype.hasChildren=function(){return this.doesHaveChildren},e.prototype.getDepth=function(){return this.depth},e.prototype.isVisible=function(){return this.visible},e.prototype.setVisible=function(e){this.visible=e},e.prototype.isExpanded=function(){return this.expanded},e.prototype._setExpanded=function(e){this.expanded=e},e.prototype.reveal=function(e){void 0===e&&(e=null);var t={item:this,relativeTop:e};this._onDidReveal.fire(t)},e.prototype.expand=function(){var e=this;if(this.isExpanded()||!this.doesHaveChildren||this.lock.isLocked(this))return Promise.resolve(!1);var t=this.lock.run(this,(function(){if(e.isExpanded()||!e.doesHaveChildren)return Promise.resolve(!1);var t,n={item:e};return e._onExpand.fire(n),t=e.needsChildrenRefresh?e.refreshChildren(!1,!0,!0):Promise.resolve(null),t.then((function(){return e._setExpanded(!0),e._onDidExpand.fire(n),!0}))}));return t.then((function(t){return!e.isDisposed()&&(e.context.options.autoExpandSingleChildren&&t&&null!==e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.isVisible()?e.firstChild.expand().then((function(){return!0})):t)}))},e.prototype.collapse=function(e){var t=this;if(void 0===e&&(e=!1),e){var n=Promise.resolve(null);return this.forEachChild((function(e){n=n.then((function(){return e.collapse(!0)}))})),n.then((function(){return t.collapse(!1)}))}return!this.isExpanded()||this.lock.isLocked(this)?Promise.resolve(!1):this.lock.run(this,(function(){var e={item:t};return t._onCollapse.fire(e),t._setExpanded(!1),t._onDidCollapse.fire(e),Promise.resolve(!0)}))},e.prototype.addTrait=function(e){var t={item:this,trait:e};this.traits[e]=!0,this._onDidAddTrait.fire(t)},e.prototype.removeTrait=function(e){var t={item:this,trait:e};delete this.traits[e],this._onDidRemoveTrait.fire(t)},e.prototype.hasTrait=function(e){return this.traits[e]||!1},e.prototype.getAllTraits=function(){var e,t=[];for(e in this.traits)this.traits.hasOwnProperty(e)&&this.traits[e]&&t.push(e);return t},e.prototype.getHeight=function(){return this.height},e.prototype.refreshChildren=function(t,n,i){var o=this;if(void 0===n&&(n=!1),void 0===i&&(i=!1),!i&&!this.isExpanded()){var r=function(e){e.needsChildrenRefresh=!0,e.forEachChild(r)};return r(this),Promise.resolve(this)}this.needsChildrenRefresh=!1;var s=function(){var i,r={item:o,isNested:n};o._onRefreshChildren.fire(r),i=o.doesHaveChildren?o.context.dataSource.getChildren(o.context.tree,o.element):Promise.resolve([]);var s=i.then((function(n){if(o.isDisposed()||o.registry.isDisposed())return Promise.resolve(null);if(!Array.isArray(n))return Promise.reject(new Error("Please return an array of children."));n=n?n.slice(0):[],n=o.sort(n);var i={};while(null!==o.firstChild)i[o.firstChild.id]=o.firstChild,o.removeChild(o.firstChild);for(var r=0,s=n.length;r<s;r++){var a=n[r],l=o.context.dataSource.getId(o.context.tree,a),u=i[l]||new e(l,o.registry,o.context,o.lock,a);u.element=a,t&&(u.needsChildrenRefresh=t),delete i[l],o.addChild(u)}for(var c in i)i.hasOwnProperty(c)&&i[c].dispose();return t?Promise.all(o.mapEachChild((function(e){return e.doRefresh(t,!0)}))):Promise.all(o.mapEachChild((function(e){return e.isExpanded()&&e.needsChildrenRefresh?e.doRefresh(t,!0):(e.updateVisibility(),Promise.resolve(null))})))}));return s.then(void 0,ge).then((function(){return o._onDidRefreshChildren.fire(r)}))};return n?s():this.lock.run(this,s)},e.prototype.doRefresh=function(e,t){return void 0===t&&(t=!1),this.doesHaveChildren=this.context.dataSource.hasChildren(this.context.tree,this.element),this.height=this._getHeight(),this.updateVisibility(),this._onDidRefresh.fire(this),this.refreshChildren(e,t)},e.prototype.updateVisibility=function(){this.setVisible(this._isVisible())},e.prototype.refresh=function(e){return this.doRefresh(e)},e.prototype.getNavigator=function(){return new X2(this)},e.prototype.intersects=function(e){return this.isAncestorOf(e)||e.isAncestorOf(this)},e.prototype.isAncestorOf=function(e){var t=e;while(t){if(t.id===this.id)return!0;t=t.parent}return!1},e.prototype.addChild=function(e,t){void 0===t&&(t=this.lastChild);var n=null===this.firstChild,i=null===t,o=t===this.lastChild;if(n)this.firstChild=this.lastChild=e,e.next=e.previous=null;else if(i){if(!this.firstChild)throw new Error("Invalid tree state");this.firstChild.previous=e,e.next=this.firstChild,e.previous=null,this.firstChild=e}else if(o){if(!this.lastChild)throw new Error("Invalid tree state");this.lastChild.next=e,e.next=null,e.previous=this.lastChild,this.lastChild=e}else{if(e.previous=t,!t)throw new Error("Invalid tree state");if(e.next=t.next,!t.next)throw new Error("Invalid tree state");t.next.previous=e,t.next=e}e.parent=this,e.depth=this.depth+1},e.prototype.removeChild=function(e){var t=this.firstChild===e,n=this.lastChild===e;if(t&&n)this.firstChild=this.lastChild=null;else if(t){if(!e.next)throw new Error("Invalid tree state");e.next.previous=null,this.firstChild=e.next}else if(n){if(!e.previous)throw new Error("Invalid tree state");e.previous.next=null,this.lastChild=e.previous}else{if(!e.next)throw new Error("Invalid tree state");if(e.next.previous=e.previous,!e.previous)throw new Error("Invalid tree state");e.previous.next=e.next}e.parent=null,e.depth=NaN},e.prototype.forEachChild=function(e){var t,n=this.firstChild;while(n)t=n.next,e(n),n=t},e.prototype.mapEachChild=function(e){var t=[];return this.forEachChild((function(n){t.push(e(n))})),t},e.prototype.sort=function(e){var t=this,n=this.context.sorter;return n?e.sort((function(e,i){return n.compare(t.context.tree,e,i)})):e},e.prototype._getHeight=function(){return this.context.renderer?this.context.renderer.getHeight(this.context.tree,this.element):0},e.prototype._isVisible=function(){return!!this.context.filter&&this.context.filter.isVisible(this.context.tree,this.element)},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.dispose=function(){this.forEachChild((function(e){return e.dispose()})),this.parent=null,this.previous=null,this.next=null,this.firstChild=null,this.lastChild=null,this._onDidDispose.fire(this),this.registry.deregister(this),this._onDidCreate.dispose(),this._onDidReveal.dispose(),this._onExpand.dispose(),this._onDidExpand.dispose(),this._onCollapse.dispose(),this._onDidCollapse.dispose(),this._onDidAddTrait.dispose(),this._onDidRemoveTrait.dispose(),this._onDidRefresh.dispose(),this._onRefreshChildren.dispose(),this._onDidRefreshChildren.dispose(),this._onDidDispose.dispose(),this._isDisposed=!0},e}(),Y2=function(e){function t(t,n,i,o,r){return e.call(this,t,n,i,o,r)||this}return z2(t,e),t.prototype.isVisible=function(){return!1},t.prototype.setVisible=function(e){},t.prototype.isExpanded=function(){return!0},t.prototype._setExpanded=function(e){},t.prototype._getHeight=function(){return 0},t.prototype._isVisible=function(){return!1},t}(q2),X2=function(){function e(e,t){void 0===t&&(t=!0),this.item=e,this.start=t?e:null}return e.lastDescendantOf=function(t){return t?t instanceof Y2?e.lastDescendantOf(t.lastChild):t.isVisible()?t.isExpanded()&&null!==t.lastChild?e.lastDescendantOf(t.lastChild):t:e.lastDescendantOf(t.previous):null},e.prototype.current=function(){return this.item||null},e.prototype.next=function(){if(this.item)do{if((this.item instanceof Y2||this.item.isVisible()&&this.item.isExpanded())&&this.item.firstChild)this.item=this.item.firstChild;else if(this.item===this.start)this.item=null;else{while(this.item&&this.item!==this.start&&!this.item.next)this.item=this.item.parent;this.item===this.start&&(this.item=null),this.item=this.item?this.item.next:null}}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.previous=function(){if(this.item)do{var t=e.lastDescendantOf(this.item.previous);t?this.item=t:this.item.parent&&this.item.parent!==this.start&&this.item.parent.isVisible()?this.item=this.item.parent:this.item=null}while(this.item&&!this.item.isVisible());return this.item||null},e.prototype.parent=function(){if(this.item){var e=this.item.parent;e&&e!==this.start&&e.isVisible()?this.item=e:this.item=null}return this.item||null},e.prototype.first=function(){return this.item=this.start,this.next(),this.item||null},e.prototype.last=function(){return e.lastDescendantOf(this.start)},e}(),Z2=function(){function e(e){this.registry=new K2,this.registryDisposable=Ae.None,this._onSetInput=new Ze,this.onSetInput=this._onSetInput.event,this._onDidSetInput=new Ze,this.onDidSetInput=this._onDidSetInput.event,this._onRefresh=new Ze,this.onRefresh=this._onRefresh.event,this._onDidRefresh=new Ze,this.onDidRefresh=this._onDidRefresh.event,this._onDidHighlight=new Ze,this.onDidHighlight=this._onDidHighlight.event,this._onDidSelect=new Ze,this.onDidSelect=this._onDidSelect.event,this._onDidFocus=new Ze,this.onDidFocus=this._onDidFocus.event,this._onDidRevealItem=new tt,this.onDidRevealItem=this._onDidRevealItem.event,this._onExpandItem=new tt,this.onExpandItem=this._onExpandItem.event,this._onDidExpandItem=new tt,this.onDidExpandItem=this._onDidExpandItem.event,this._onCollapseItem=new tt,this.onCollapseItem=this._onCollapseItem.event,this._onDidCollapseItem=new tt,this.onDidCollapseItem=this._onDidCollapseItem.event,this._onDidAddTraitItem=new tt,this.onDidAddTraitItem=this._onDidAddTraitItem.event,this._onDidRemoveTraitItem=new tt,this.onDidRemoveTraitItem=this._onDidRemoveTraitItem.event,this._onDidRefreshItem=new tt,this.onDidRefreshItem=this._onDidRefreshItem.event,this._onRefreshItemChildren=new tt,this.onRefreshItemChildren=this._onRefreshItemChildren.event,this._onDidRefreshItemChildren=new tt,this.onDidRefreshItemChildren=this._onDidRefreshItemChildren.event,this._onDidDisposeItem=new tt,this.context=e,this.input=null,this.traitsToItems={}}return e.prototype.setInput=function(e){var t=this,n={item:this.input};this._onSetInput.fire(n),this.setSelection([]),this.setFocus(),this.setHighlight(),this.lock=new G2,this.input&&this.input.dispose(),this.registry&&(this.registry.dispose(),this.registryDisposable.dispose()),this.registry=new K2,this._onDidRevealItem.input=this.registry.onDidRevealItem,this._onExpandItem.input=this.registry.onExpandItem,this._onDidExpandItem.input=this.registry.onDidExpandItem,this._onCollapseItem.input=this.registry.onCollapseItem,this._onDidCollapseItem.input=this.registry.onDidCollapseItem,this._onDidAddTraitItem.input=this.registry.onDidAddTraitItem,this._onDidRemoveTraitItem.input=this.registry.onDidRemoveTraitItem,this._onDidRefreshItem.input=this.registry.onDidRefreshItem,this._onRefreshItemChildren.input=this.registry.onRefreshItemChildren,this._onDidRefreshItemChildren.input=this.registry.onDidRefreshItemChildren,this._onDidDisposeItem.input=this.registry.onDidDisposeItem,this.registryDisposable=this.registry.onDidDisposeItem((function(e){return e.getAllTraits().forEach((function(n){return delete t.traitsToItems[n][e.id]}))}));var i=this.context.dataSource.getId(this.context.tree,e);return this.input=new Y2(i,this.registry,this.context,this.lock,e),n={item:this.input},this._onDidSetInput.fire(n),this.refresh(this.input)},e.prototype.getInput=function(){return this.input?this.input.getElement():null},e.prototype.refresh=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=!0);var i=this.getItem(e);if(!i)return Promise.resolve(null);var o={item:i,recursive:t};return this._onRefresh.fire(o),i.refresh(t).then((function(){n._onDidRefresh.fire(o)}))},e.prototype.expand=function(e){var t=this.getItem(e);return t?t.expand():Promise.resolve(!1)},e.prototype.collapse=function(e,t){void 0===t&&(t=!1);var n=this.getItem(e);return n?n.collapse(t):Promise.resolve(!1)},e.prototype.toggleExpansion=function(e,t){return void 0===t&&(t=!1),this.isExpanded(e)?this.collapse(e,t):this.expand(e)},e.prototype.isExpanded=function(e){var t=this.getItem(e);return!!t&&t.isExpanded()},e.prototype.reveal=function(e,t){var n=this;return void 0===t&&(t=null),this.resolveUnknownParentChain(e).then((function(e){var t=Promise.resolve(null);return e.forEach((function(e){t=t.then((function(){return n.expand(e)}))})),t})).then((function(){var i=n.getItem(e);if(i)return i.reveal(t)}))},e.prototype.resolveUnknownParentChain=function(e){var t=this;return this.context.dataSource.getParent(this.context.tree,e).then((function(e){return e?t.resolveUnknownParentChain(e).then((function(t){return t.push(e),t})):Promise.resolve([])}))},e.prototype.setHighlight=function(e,t){this.setTraits("highlighted",e?[e]:[]);var n={highlight:this.getHighlight(),payload:t};this._onDidHighlight.fire(n)},e.prototype.getHighlight=function(e){void 0===e&&(e=!1);var t=this.getElementsWithTrait("highlighted",e);return 0===t.length?null:t[0]},e.prototype.setSelection=function(e,t){this.setTraits("selected",e);var n={selection:this.getSelection(),payload:t};this._onDidSelect.fire(n)},e.prototype.getSelection=function(e){return void 0===e&&(e=!1),this.getElementsWithTrait("selected",e)},e.prototype.setFocus=function(e,t){this.setTraits("focused",e?[e]:[]);var n={focus:this.getFocus(),payload:t};this._onDidFocus.fire(n)},e.prototype.getFocus=function(e){void 0===e&&(e=!1);var t=this.getElementsWithTrait("focused",e);return 0===t.length?null:t[0]},e.prototype.focusNext=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,o=this.getNavigator(i,!1),r=0;r<e;r++){if(n=o.next(),!n)break;i=n}this.setFocus(i,t)},e.prototype.focusPrevious=function(e,t){void 0===e&&(e=1);for(var n,i=this.getFocus()||this.input,o=this.getNavigator(i,!1),r=0;r<e;r++){if(n=o.previous(),!n)break;i=n}this.setFocus(i,t)},e.prototype.focusParent=function(e){var t=this.getFocus()||this.input,n=this.getNavigator(t,!1),i=n.parent();i&&this.setFocus(i,e)},e.prototype.focusFirstChild=function(e){var t=this.getItem(this.getFocus()||this.input),n=this.getNavigator(t,!1),i=n.next(),o=n.parent();o===t&&this.setFocus(i,e)},e.prototype.focusFirst=function(e,t){this.focusNth(0,e,t)},e.prototype.focusNth=function(e,t,n){for(var i=this.getParent(n),o=this.getNavigator(i),r=o.first(),s=0;s<e;s++)r=o.next();r&&this.setFocus(r,t)},e.prototype.focusLast=function(e,t){var n,i=this.getParent(t);if(t&&i)n=i.lastChild;else{var o=this.getNavigator(i);n=o.last()}n&&this.setFocus(n,e)},e.prototype.getParent=function(e){if(e){var t=this.getItem(e);if(t&&t.parent)return t.parent}return this.getItem(this.input)},e.prototype.getNavigator=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!0),new X2(this.getItem(e),t)},e.prototype.getItem=function(e){return void 0===e&&(e=null),null===e?this.input:e instanceof q2?e:"string"===typeof e?this.registry.getItem(e):this.registry.getItem(this.context.dataSource.getId(this.context.tree,e))},e.prototype.removeTraits=function(e,t){var n,i,o=this.traitsToItems[e]||{};if(0===t.length){for(i in o)o.hasOwnProperty(i)&&(n=o[i],n.removeTrait(e));delete this.traitsToItems[e]}else for(var r=0,s=t.length;r<s;r++)n=this.getItem(t[r]),n&&(n.removeTrait(e),delete o[n.id])},e.prototype.setTraits=function(e,t){if(0===t.length)this.removeTraits(e,t);else{for(var n={},i=void 0,o=0,r=t.length;o<r;o++)i=this.getItem(t[o]),i&&(n[i.id]=i);var s=this.traitsToItems[e]||{},a=[],l=void 0;for(l in s)s.hasOwnProperty(l)&&(n.hasOwnProperty(l)?delete n[l]:a.push(s[l]));for(o=0,r=a.length;o<r;o++)i=a[o],i.removeTrait(e),delete s[i.id];for(l in n)n.hasOwnProperty(l)&&(i=n[l],i.addTrait(e),s[l]=i);this.traitsToItems[e]=s}},e.prototype.getElementsWithTrait=function(e,t){var n,i=[],o=this.traitsToItems[e]||{};for(n in o)o.hasOwnProperty(n)&&(o[n].isVisible()||t)&&i.push(o[n].getElement());return i},e.prototype.dispose=function(){this.registry.dispose(),this._onSetInput.dispose(),this._onDidSetInput.dispose(),this._onRefresh.dispose(),this._onDidRefresh.dispose(),this._onDidHighlight.dispose(),this._onDidSelect.dispose(),this._onDidFocus.dispose(),this._onDidRevealItem.dispose(),this._onExpandItem.dispose(),this._onDidExpandItem.dispose(),this._onCollapseItem.dispose(),this._onDidCollapseItem.dispose(),this._onDidAddTraitItem.dispose(),this._onDidRemoveTraitItem.dispose(),this._onDidRefreshItem.dispose(),this._onRefreshItemChildren.dispose(),this._onDidRefreshItemChildren.dispose(),this._onDidDisposeItem.dispose()},e}(),J2=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}(),Q2=function(){function e(e){this.elements=e}return e.prototype.update=function(e){},e.prototype.getData=function(){return this.elements},e}(),e4=function(){function e(){this.types=[],this.files=[]}return e.prototype.update=function(e){e.types&&(this.types=[],Array.prototype.push.apply(this.types,e.types)),e.files&&(this.files=[],Array.prototype.push.apply(this.files,e.files),this.files=this.files.filter((function(e){return e.size||e.type})))},e.prototype.getData=function(){return{types:this.types,files:this.files}},e}(),t4=function(){function e(){this.heightMap=[],this.indexes={}}return e.prototype.getContentHeight=function(){var e=this.heightMap[this.heightMap.length-1];return e?e.top+e.height:0},e.prototype.onInsertItems=function(e,t){void 0===t&&(t=null);var n,i,o,r,s=null,a=0;if(null===t)i=0,r=0;else{if(i=this.indexes[t]+1,n=this.heightMap[i-1],!n)return void console.error("view item doesnt exist");r=n.top+n.height}var l=this.heightMap.splice.bind(this.heightMap,i,0),u=[];while(s=e.next())n=this.createViewItem(s),n.top=r+a,this.indexes[s.id]=i++,u.push(n),a+=n.height;for(l.apply(this.heightMap,u),o=i;o<this.heightMap.length;o++)n=this.heightMap[o],n.top+=a,this.indexes[n.model.id]=o;for(o=u.length-1;o>=0;o--)this.onInsertItem(u[o]);for(o=this.heightMap.length-1;o>=i;o--)this.onRefreshItem(this.heightMap[o]);return a},e.prototype.onInsertItem=function(e){},e.prototype.onRemoveItems=function(e){var t,n=null,i=null,o=0,r=0;while(n=e.next()){if(o=this.indexes[n],t=this.heightMap[o],!t)return void console.error("view item doesnt exist");r-=t.height,delete this.indexes[n],this.onRemoveItem(t),null===i&&(i=o)}if(0!==r&&null!==i)for(this.heightMap.splice(i,o-i+1),o=i;o<this.heightMap.length;o++)t=this.heightMap[o],t.top+=r,this.indexes[t.model.id]=o,this.onRefreshItem(t)},e.prototype.onRemoveItem=function(e){},e.prototype.onRefreshItemSet=function(e){var t=this,n=e.sort((function(e,n){return t.indexes[e.id]-t.indexes[n.id]}));this.onRefreshItems(new We(n))},e.prototype.onRefreshItems=function(e){var t,n,i,o=null,r=null,s=0;while(o=e.next()){for(i=this.indexes[o.id];0!==s&&null!==r&&r<i;r++)t=this.heightMap[r],t.top+=s,this.onRefreshItem(t);t=this.heightMap[i],n=o.getHeight(),t.top+=s,s+=n-t.height,t.height=n,this.onRefreshItem(t,!0),r=i+1}if(0!==s&&null!==r)for(;r<this.heightMap.length;r++)t=this.heightMap[r],t.top+=s,this.onRefreshItem(t)},e.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1)},e.prototype.indexAt=function(e){var t,n,i=0,o=this.heightMap.length;while(i<o)if(t=Math.floor((i+o)/2),n=this.heightMap[t],e<n.top)o=t;else{if(!(e>=n.top+n.height))return t;if(i===t)break;i=t}return this.heightMap.length},e.prototype.indexAfter=function(e){return Math.min(this.indexAt(e)+1,this.heightMap.length)},e.prototype.itemAtIndex=function(e){return this.heightMap[e]},e.prototype.itemAfter=function(e){return this.heightMap[this.indexes[e.model.id]+1]||null},e.prototype.createViewItem=function(e){throw new Error("not implemented")},e.prototype.dispose=function(){this.heightMap=[],this.indexes={}},e}(),n4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i4=function(){function e(e,t,n){this._posx=e,this._posy=t,this._target=n}return e.prototype.preventDefault=function(){},e.prototype.stopPropagation=function(){},Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e}(),o4=function(e){function t(t){var n=e.call(this,t.posx,t.posy,t.target)||this;return n.originalEvent=t,n}return n4(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(i4),r4=function(e){function t(t,n,i){var o=e.call(this,t,n,i.target)||this;return o.originalEvent=i,o}return n4(t,e),t.prototype.preventDefault=function(){this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){this.originalEvent.stopPropagation()},t}(i4),s4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function a4(e){try{e.parentElement.removeChild(e)}catch(t){}}var l4=function(){function e(e){this.context=e,this._cache={"":[]}}return e.prototype.alloc=function(e){var t=this.cache(e).pop();if(!t){var n=document.createElement("div");n.className="content";var i=document.createElement("div");i.appendChild(n);var o=null;try{o=this.context.renderer.renderTemplate(this.context.tree,e,n)}catch(r){console.error("Tree usage error: exception while rendering template"),console.error(r)}t={element:i,templateId:e,templateData:o}}return t},e.prototype.release=function(e,t){a4(t.element),this.cache(e).push(t)},e.prototype.cache=function(e){return this._cache[e]||(this._cache[e]=[])},e.prototype.garbageCollect=function(){var e=this;this._cache&&Object.keys(this._cache).forEach((function(t){e._cache[t].forEach((function(n){e.context.renderer.disposeTemplate(e.context.tree,t,n.templateData),n.element=null,n.templateData=null})),delete e._cache[t]}))},e.prototype.dispose=function(){this.garbageCollect(),this._cache=null},e}(),u4=function(){function e(e,t){var n=this;this.width=0,this.needsRender=!1,this.uri=null,this.unbindDragStart=Ae.None,this._draggable=!1,this.context=e,this.model=t,this.id=this.model.id,this.row=null,this.top=0,this.height=t.getHeight(),this._styles={},t.getAllTraits().forEach((function(e){return n._styles[e]=!0})),t.isExpanded()&&this.addClass("expanded")}return Object.defineProperty(e.prototype,"expanded",{set:function(e){e?this.addClass("expanded"):this.removeClass("expanded")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loading",{set:function(e){e?this.addClass("codicon-loading"):this.removeClass("codicon-loading")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable=e,this.render(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropTarget",{set:function(e){e?this.addClass("drop-target"):this.removeClass("drop-target")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.row&&this.row.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"templateId",{get:function(){return this._templateId||(this._templateId=this.context.renderer.getTemplateId&&this.context.renderer.getTemplateId(this.context.tree,this.model.getElement()))},enumerable:!0,configurable:!0}),e.prototype.addClass=function(e){this._styles[e]=!0,this.render(!0)},e.prototype.removeClass=function(e){delete this._styles[e],this.render(!0)},e.prototype.render=function(e){var t=this;if(void 0===e&&(e=!1),this.model&&this.element){var n=["monaco-tree-row"];n.push.apply(n,Object.keys(this._styles)),this.model.hasChildren()&&n.push("has-children"),this.element.className=n.join(" "),this.element.draggable=this.draggable,this.element.style.height=this.height+"px",this.element.setAttribute("role","treeitem");var i=this.context.accessibilityProvider,o=i.getAriaLabel(this.context.tree,this.model.getElement());if(o&&this.element.setAttribute("aria-label",o),i.getPosInSet&&i.getSetSize&&(this.element.setAttribute("aria-setsize",i.getSetSize()),this.element.setAttribute("aria-posinset",i.getPosInSet(this.context.tree,this.model.getElement()))),this.model.hasTrait("focused")){var r=ws(this.model.id);this.element.setAttribute("aria-selected","true"),this.element.setAttribute("id",r)}else this.element.setAttribute("aria-selected","false"),this.element.removeAttribute("id");this.model.hasChildren()?this.element.setAttribute("aria-expanded",String(!!this._styles["expanded"])):this.element.removeAttribute("aria-expanded"),this.element.setAttribute("aria-level",String(this.model.getDepth())),this.context.options.paddingOnRow?this.element.style.paddingLeft=this.context.options.twistiePixels+(this.model.getDepth()-1)*this.context.options.indentPixels+"px":(this.element.style.paddingLeft=(this.model.getDepth()-1)*this.context.options.indentPixels+"px",this.row.element.firstElementChild.style.paddingLeft=this.context.options.twistiePixels+"px");var s=this.context.dnd.getDragURI(this.context.tree,this.model.getElement());if(s!==this.uri&&(this.unbindDragStart&&this.unbindDragStart.dispose(),s?(this.uri=s,this.draggable=!0,this.unbindDragStart=bo(this.element,"dragstart",(function(e){t.onDragStart(e)}))):this.uri=null),!e&&this.element){var a=0;if(this.context.horizontalScrolling){var l=window.getComputedStyle(this.element);a=parseFloat(l.paddingLeft)}this.context.horizontalScrolling&&(this.element.style.width=Un?"-moz-fit-content":"fit-content");try{this.context.renderer.renderElement(this.context.tree,this.model.getElement(),this.templateId,this.row.templateData)}catch(u){console.error("Tree usage error: exception while rendering element"),console.error(u)}this.context.horizontalScrolling&&(this.width=Go(this.element)+a,this.element.style.width="")}}},e.prototype.insertInDOM=function(e,t){if(this.row||(this.row=this.context.cache.alloc(this.templateId),this.element[d4.BINDING]=this),!this.element.parentElement){if(null===t)e.appendChild(this.element);else try{e.insertBefore(this.element,t)}catch(n){console.warn("Failed to locate previous tree element"),e.appendChild(this.element)}this.render()}},e.prototype.removeFromDOM=function(){this.row&&(this.unbindDragStart.dispose(),this.uri=null,this.element[d4.BINDING]=null,this.context.cache.release(this.templateId,this.row),this.row=null)},e.prototype.dispose=function(){this.row=null},e}(),c4=function(e){function t(t,n,i){var o=e.call(this,t,n)||this;return o.row={element:i,templateData:null,templateId:null},o}return s4(t,e),t.prototype.render=function(){if(this.model&&this.element){var e=["monaco-tree-wrapper"];e.push.apply(e,Object.keys(this._styles)),this.model.hasChildren()&&e.push("has-children"),this.element.className=e.join(" ")}},t.prototype.insertInDOM=function(e,t){},t.prototype.removeFromDOM=function(){},t}(u4);function h4(e,t){return!e&&!t||!(!e||!t)&&(e.accept===t.accept&&(e.bubble===t.bubble&&e.effect===t.effect))}var d4=function(e){function t(n,i){var o=e.call(this)||this;o.model=null,o.lastPointerType="",o.lastClickTimeStamp=0,o.contentWidthUpdateDelayer=new yi(50),o.isRefreshing=!1,o.refreshingPreviousChildrenIds={},o.currentDragAndDropData=null,o.currentDropTarget=null,o.currentDropTargets=null,o.currentDropDisposable=Ae.None,o.gestureDisposable=Ae.None,o.dragAndDropScrollInterval=null,o.dragAndDropScrollTimeout=null,o.dragAndDropMouseY=null,o.highlightedItemWasDraggable=!1,o.onHiddenScrollTop=null,o._onDOMFocus=new Ze,o.onDOMFocus=o._onDOMFocus.event,o._onDOMBlur=new Ze,o._onDidScroll=new Ze,t.counter++,o.instance=t.counter;var r="undefined"===typeof n.options.horizontalScrollMode?2:n.options.horizontalScrollMode;o.horizontalScrolling=2!==r,o.context={dataSource:n.dataSource,renderer:n.renderer,controller:n.controller,dnd:n.dnd,filter:n.filter,sorter:n.sorter,tree:n.tree,accessibilityProvider:n.accessibilityProvider,options:n.options,cache:new l4(n),horizontalScrolling:o.horizontalScrolling},o.modelListeners=[],o.viewListeners=[],o.items={},o.domNode=document.createElement("div"),o.domNode.className="monaco-tree no-focused-item monaco-tree-instance-"+o.instance,o.domNode.tabIndex=n.options.preventRootFocus?-1:0,o.styleElement=er(o.domNode),o.treeStyler=n.styler||new U2(o.styleElement,"monaco-tree-instance-"+o.instance),o.domNode.setAttribute("role","tree"),o.context.options.ariaLabel&&o.domNode.setAttribute("aria-label",o.context.options.ariaLabel),o.context.options.alwaysFocused&&fo(o.domNode,"focused"),o.context.options.paddingOnRow||fo(o.domNode,"no-row-padding"),o.wrapper=document.createElement("div"),o.wrapper.className="monaco-tree-wrapper",o.scrollableElement=new jT(o.wrapper,{alwaysConsumeMouseWheel:!0,horizontal:r,vertical:"undefined"!==typeof n.options.verticalScrollMode?n.options.verticalScrollMode:1,useShadows:n.options.useShadows}),o.scrollableElement.onScroll((function(e){o.render(e.scrollTop,e.height,e.scrollLeft,e.width,e.scrollWidth),o._onDidScroll.fire()})),Hn?(o.wrapper.style.msTouchAction="none",o.wrapper.style.msContentZooming="none"):o.gestureDisposable=$m.addTarget(o.wrapper),o.rowsContainer=document.createElement("div"),o.rowsContainer.className="monaco-tree-rows",n.options.showTwistie&&(o.rowsContainer.className+=" show-twisties");var s=dr(o.domNode);return o.viewListeners.push(s.onDidFocus((function(){return o.onFocus()}))),o.viewListeners.push(s.onDidBlur((function(){return o.onBlur()}))),o.viewListeners.push(s),o.viewListeners.push(bo(o.domNode,"keydown",(function(e){return o.onKeyDown(e)}))),o.viewListeners.push(bo(o.domNode,"keyup",(function(e){return o.onKeyUp(e)}))),o.viewListeners.push(bo(o.domNode,"mousedown",(function(e){return o.onMouseDown(e)}))),o.viewListeners.push(bo(o.domNode,"mouseup",(function(e){return o.onMouseUp(e)}))),o.viewListeners.push(bo(o.wrapper,"auxclick",(function(e){e&&1===e.button&&o.onMouseMiddleClick(e)}))),o.viewListeners.push(bo(o.wrapper,"click",(function(e){return o.onClick(e)}))),o.viewListeners.push(bo(o.domNode,"contextmenu",(function(e){return o.onContextMenu(e)}))),o.viewListeners.push(bo(o.wrapper,Bm.Tap,(function(e){return o.onTap(e)}))),o.viewListeners.push(bo(o.wrapper,Bm.Change,(function(e){return o.onTouchChange(e)}))),Hn&&(o.viewListeners.push(bo(o.wrapper,"MSPointerDown",(function(e){return o.onMsPointerDown(e)}))),o.viewListeners.push(bo(o.wrapper,"MSGestureTap",(function(e){return o.onMsGestureTap(e)}))),o.viewListeners.push(Fo(o.wrapper,"MSGestureChange",(function(e){return o.onThrottledMsGestureChange(e)}),(function(e,t){t.stopPropagation(),t.preventDefault();var n={translationY:t.translationY,translationX:t.translationX};return e&&(n.translationY+=e.translationY,n.translationX+=e.translationX),n})))),o.viewListeners.push(bo(window,"dragover",(function(e){return o.onDragOver(e)}))),o.viewListeners.push(bo(o.wrapper,"drop",(function(e){return o.onDrop(e)}))),o.viewListeners.push(bo(window,"dragend",(function(e){return o.onDragEnd(e)}))),o.viewListeners.push(bo(window,"dragleave",(function(e){return o.onDragOver(e)}))),o.wrapper.appendChild(o.rowsContainer),o.domNode.appendChild(o.scrollableElement.getDomNode()),i.appendChild(o.domNode),o.lastRenderTop=0,o.lastRenderHeight=0,o.didJustPressContextMenuKey=!1,o.currentDropTarget=null,o.currentDropTargets=[],o.shouldInvalidateDropReaction=!1,o.dragAndDropScrollInterval=null,o.dragAndDropScrollTimeout=null,o.onRowsChanged(),o.layout(),o.setupMSGesture(),o.applyStyles(n.options),o}return s4(t,e),t.prototype.applyStyles=function(e){this.treeStyler.style(e)},t.prototype.createViewItem=function(e){return new u4(this.context,e)},t.prototype.getHTMLElement=function(){return this.domNode},t.prototype.focus=function(){this.domNode.focus()},t.prototype.isFocused=function(){return document.activeElement===this.domNode},t.prototype.blur=function(){this.domNode.blur()},t.prototype.setupMSGesture=function(){var e=this;window.MSGesture&&(this.msGesture=new MSGesture,setTimeout((function(){return e.msGesture.target=e.wrapper}),100))},t.prototype.isTreeVisible=function(){return null===this.onHiddenScrollTop},t.prototype.layout=function(e,t){this.isTreeVisible()&&(this.viewHeight=e||Ko(this.wrapper),this.scrollHeight=this.getContentHeight(),this.horizontalScrolling&&(this.viewWidth=t||Go(this.wrapper)))},t.prototype.render=function(e,t,n,i,o){var r,s,a=e,l=e+t,u=this.lastRenderTop+this.lastRenderHeight;for(r=this.indexAfter(l)-1,s=this.indexAt(Math.max(u,a));r>=s;r--)this.insertItemInDOM(this.itemAtIndex(r));for(r=Math.min(this.indexAt(this.lastRenderTop),this.indexAfter(l))-1,s=this.indexAt(a);r>=s;r--)this.insertItemInDOM(this.itemAtIndex(r));for(r=this.indexAt(this.lastRenderTop),s=Math.min(this.indexAt(a),this.indexAfter(u));r<s;r++)this.removeItemFromDOM(this.itemAtIndex(r));for(r=Math.max(this.indexAfter(l),this.indexAt(this.lastRenderTop)),s=this.indexAfter(u);r<s;r++)this.removeItemFromDOM(this.itemAtIndex(r));var c=this.itemAtIndex(this.indexAt(a));c&&(this.rowsContainer.style.top=c.top-a+"px"),this.horizontalScrolling&&(this.rowsContainer.style.left=-n+"px",this.rowsContainer.style.width=Math.max(o,i)+"px"),this.lastRenderTop=a,this.lastRenderHeight=l-a},t.prototype.setModel=function(e){this.releaseModel(),this.model=e,this.model.onRefresh(this.onRefreshing,this,this.modelListeners),this.model.onDidRefresh(this.onRefreshed,this,this.modelListeners),this.model.onSetInput(this.onClearingInput,this,this.modelListeners),this.model.onDidSetInput(this.onSetInput,this,this.modelListeners),this.model.onDidFocus(this.onModelFocusChange,this,this.modelListeners),this.model.onRefreshItemChildren(this.onItemChildrenRefreshing,this,this.modelListeners),this.model.onDidRefreshItemChildren(this.onItemChildrenRefreshed,this,this.modelListeners),this.model.onDidRefreshItem(this.onItemRefresh,this,this.modelListeners),this.model.onExpandItem(this.onItemExpanding,this,this.modelListeners),this.model.onDidExpandItem(this.onItemExpanded,this,this.modelListeners),this.model.onCollapseItem(this.onItemCollapsing,this,this.modelListeners),this.model.onDidRevealItem(this.onItemReveal,this,this.modelListeners),this.model.onDidAddTraitItem(this.onItemAddTrait,this,this.modelListeners),this.model.onDidRemoveTraitItem(this.onItemRemoveTrait,this,this.modelListeners)},t.prototype.onRefreshing=function(){this.isRefreshing=!0},t.prototype.onRefreshed=function(){this.isRefreshing=!1,this.onRowsChanged()},t.prototype.onRowsChanged=function(e){void 0===e&&(e=this.scrollTop),this.isRefreshing||(this.scrollTop=e,this.updateScrollWidth())},t.prototype.updateScrollWidth=function(){var e=this;this.horizontalScrolling&&this.contentWidthUpdateDelayer.trigger((function(){for(var t=Object.keys(e.items),n=0,i=0,o=t;i<o.length;i++){var r=o[i];n=Math.max(n,e.items[r].width)}e.scrollWidth=n+10}))},t.prototype.focusNextPage=function(e){var t=this,n=this.indexAt(this.scrollTop+this.viewHeight);n=0===n?0:n-1;var i=this.itemAtIndex(n).model.getElement(),o=this.model.getFocus();if(o!==i)this.model.setFocus(i,e);else{var r=this.scrollTop;this.scrollTop+=this.viewHeight,this.scrollTop!==r&&setTimeout((function(){t.focusNextPage(e)}),0)}},t.prototype.focusPreviousPage=function(e){var t,n=this;t=0===this.scrollTop?this.indexAt(this.scrollTop):this.indexAfter(this.scrollTop-1);var i=this.itemAtIndex(t).model.getElement(),o=this.model.getFocus();if(o!==i)this.model.setFocus(i,e);else{var r=this.scrollTop;this.scrollTop-=this.viewHeight,this.scrollTop!==r&&setTimeout((function(){n.focusPreviousPage(e)}),0)}},Object.defineProperty(t.prototype,"viewHeight",{get:function(){var e=this.scrollableElement.getScrollDimensions();return e.height},set:function(e){this.scrollableElement.setScrollDimensions({height:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollHeight",{set:function(e){e+=this.horizontalScrolling?10:0,this.scrollableElement.setScrollDimensions({scrollHeight:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewWidth",{get:function(){var e=this.scrollableElement.getScrollDimensions();return e.width},set:function(e){this.scrollableElement.setScrollDimensions({width:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollWidth",{set:function(e){this.scrollableElement.setScrollDimensions({scrollWidth:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollTop",{get:function(){var e=this.scrollableElement.getScrollPosition();return e.scrollTop},set:function(e){var t=this.getContentHeight()+(this.horizontalScrolling?10:0);this.scrollableElement.setScrollDimensions({scrollHeight:t}),this.scrollableElement.setScrollPosition({scrollTop:e})},enumerable:!0,configurable:!0}),t.prototype.onClearingInput=function(e){var t=e.item;t&&(this.onRemoveItems(new ze(t.getNavigator(),(function(e){return e&&e.id}))),this.onRowsChanged())},t.prototype.onSetInput=function(e){this.context.cache.garbageCollect(),this.inputItem=new c4(this.context,e.item,this.wrapper)},t.prototype.onItemChildrenRefreshing=function(e){var n=e.item,i=this.items[n.id];if(i&&this.context.options.showLoading&&(i.loadingTimer=setTimeout((function(){i.loadingTimer=0,i.loading=!0}),t.LOADING_DECORATION_DELAY)),!e.isNested){var o=[],r=n.getNavigator(),s=void 0;while(s=r.next())o.push(s.id);this.refreshingPreviousChildrenIds[n.id]=o}},t.prototype.onItemChildrenRefreshed=function(e){var t=this,n=e.item,i=this.items[n.id];if(i&&(i.loadingTimer&&(clearTimeout(i.loadingTimer),i.loadingTimer=0),i.loading=!1),!e.isNested){var o=this.refreshingPreviousChildrenIds[n.id],r=[],s=n.getNavigator(),a=void 0;while(a=s.next())r.push(a);var l=Math.abs(o.length-r.length)>1e3,u=[],c=!1;if(!l){var h=new nh({getElements:function(){return o}},{getElements:function(){return r.map((function(e){return e.id}))}},null);u=h.ComputeDiff(!1).changes,c=u.some((function(e){if(e.modifiedLength>0)for(var n=e.modifiedStart,i=e.modifiedStart+e.modifiedLength;n<i;n++)if(t.items.hasOwnProperty(r[n].id))return!0;return!1}))}if(!l&&!c&&u.length<50)for(var d=0,p=u;d<p.length;d++){var f=p[d];if(f.originalLength>0&&this.onRemoveItems(new We(o,f.originalStart,f.originalStart+f.originalLength)),f.modifiedLength>0){var g=r[f.modifiedStart-1]||n;g=g.getDepth()>0?g:null,this.onInsertItems(new We(r,f.modifiedStart,f.modifiedStart+f.modifiedLength),g?g.id:null)}}else(l||u.length)&&(this.onRemoveItems(new We(o)),this.onInsertItems(new We(r),n.getDepth()>0?n.id:null));(l||u.length)&&this.onRowsChanged()}},t.prototype.onItemRefresh=function(e){this.onItemsRefresh([e])},t.prototype.onItemsRefresh=function(e){var t=this;this.onRefreshItemSet(e.filter((function(e){return t.items.hasOwnProperty(e.id)}))),this.onRowsChanged()},t.prototype.onItemExpanding=function(e){var t=this.items[e.item.id];t&&(t.expanded=!0)},t.prototype.onItemExpanded=function(e){var t=e.item,n=this.items[t.id];if(n){n.expanded=!0;var i=this.onInsertItems(t.getNavigator(),t.id)||0,o=this.scrollTop;n.top+n.height<=this.scrollTop&&(o+=i),this.onRowsChanged(o)}},t.prototype.onItemCollapsing=function(e){var t=e.item,n=this.items[t.id];n&&(n.expanded=!1,this.onRemoveItems(new ze(t.getNavigator(),(function(e){return e&&e.id}))),this.onRowsChanged())},t.prototype.onItemReveal=function(e){var t=e.item,n=e.relativeTop,i=this.items[t.id];if(i)if(null!==n){n=n<0?0:n,n=n>1?1:n;var o=i.height-this.viewHeight;this.scrollTop=o*n+i.top}else{var r=i.top+i.height,s=this.scrollTop+this.viewHeight;i.top<this.scrollTop?this.scrollTop=i.top:r>=s&&(this.scrollTop=r-this.viewHeight)}},t.prototype.onItemAddTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.addClass(n),"highlighted"===n&&(fo(this.domNode,n),i&&(this.highlightedItemWasDraggable=!!i.draggable,i.draggable&&(i.draggable=!1)))},t.prototype.onItemRemoveTrait=function(e){var t=e.item,n=e.trait,i=this.items[t.id];i&&i.removeClass(n),"highlighted"===n&&(mo(this.domNode,n),this.highlightedItemWasDraggable&&(i.draggable=!0),this.highlightedItemWasDraggable=!1)},t.prototype.onModelFocusChange=function(){var e=this.model&&this.model.getFocus();vo(this.domNode,"no-focused-item",!e),e?this.domNode.setAttribute("aria-activedescendant",ws(this.context.dataSource.getId(this.context.tree,e))):this.domNode.removeAttribute("aria-activedescendant")},t.prototype.onInsertItem=function(e){var t=this;e.onDragStart=function(n){t.onDragStart(e,n)},e.needsRender=!0,this.refreshViewItem(e),this.items[e.id]=e},t.prototype.onRefreshItem=function(e,t){void 0===t&&(t=!1),e.needsRender=e.needsRender||t,this.refreshViewItem(e)},t.prototype.onRemoveItem=function(e){this.removeItemFromDOM(e),e.dispose(),delete this.items[e.id]},t.prototype.refreshViewItem=function(e){e.render(),this.shouldBeRendered(e)?this.insertItemInDOM(e):this.removeItemFromDOM(e)},t.prototype.onClick=function(e){if(!this.lastPointerType||"mouse"===this.lastPointerType){var t=new pi(e),n=this.getItemAround(t.target);n&&(Hn&&Date.now()-this.lastClickTimeStamp<300&&(t.detail=2),this.lastClickTimeStamp=Date.now(),this.context.controller.onClick(this.context.tree,n.model.getElement(),t))}},t.prototype.onMouseMiddleClick=function(e){if(this.context.controller.onMouseMiddleClick){var t=new pi(e),n=this.getItemAround(t.target);n&&this.context.controller.onMouseMiddleClick(this.context.tree,n.model.getElement(),t)}},t.prototype.onMouseDown=function(e){if(this.didJustPressContextMenuKey=!1,this.context.controller.onMouseDown&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new pi(e);if(!(t.ctrlKey&&s["f"]&&s["e"])){var n=this.getItemAround(t.target);n&&this.context.controller.onMouseDown(this.context.tree,n.model.getElement(),t)}}},t.prototype.onMouseUp=function(e){if(this.context.controller.onMouseUp&&(!this.lastPointerType||"mouse"===this.lastPointerType)){var t=new pi(e);if(!(t.ctrlKey&&s["f"]&&s["e"])){var n=this.getItemAround(t.target);n&&this.context.controller.onMouseUp(this.context.tree,n.model.getElement(),t)}}},t.prototype.onTap=function(e){var t=this.getItemAround(e.initialTarget);t&&this.context.controller.onTap(this.context.tree,t.model.getElement(),e)},t.prototype.onTouchChange=function(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY},t.prototype.onContextMenu=function(e){var t,n;if(e instanceof KeyboardEvent||this.didJustPressContextMenuKey){this.didJustPressContextMenuKey=!1;var i=new si(e);n=this.model.getFocus();var o=void 0;if(n){var r=this.context.dataSource.getId(this.context.tree,n),s=this.items[r];o=Uo(s.element)}else n=this.model.getInput(),o=Uo(this.inputItem.element);t=new r4(o.left+o.width,o.top,i)}else{var a=new pi(e),l=this.getItemAround(a.target);if(!l)return;n=l.model.getElement(),t=new o4(a)}this.context.controller.onContextMenu(this.context.tree,n,t)},t.prototype.onKeyDown=function(e){var t=new si(e);this.didJustPressContextMenuKey=58===t.keyCode||t.shiftKey&&68===t.keyCode,t.target&&t.target.tagName&&"input"===t.target.tagName.toLowerCase()||(this.didJustPressContextMenuKey&&(t.preventDefault(),t.stopPropagation()),this.context.controller.onKeyDown(this.context.tree,t))},t.prototype.onKeyUp=function(e){this.didJustPressContextMenuKey&&this.onContextMenu(e),this.didJustPressContextMenuKey=!1,this.context.controller.onKeyUp(this.context.tree,new si(e))},t.prototype.onDragStart=function(e,t){if(!this.model.getHighlight()){var n,i=e.model.getElement(),o=this.model.getSelection();if(n=o.indexOf(i)>-1?o:[i],t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setData(QL.RESOURCES,JSON.stringify([e.uri])),t.dataTransfer.setDragImage){var r=void 0;r=this.context.dnd.getDragLabel?this.context.dnd.getDragLabel(this.context.tree,n):String(n.length);var s=document.createElement("div");s.className="monaco-tree-drag-image",s.textContent=r,document.body.appendChild(s),t.dataTransfer.setDragImage(s,-10,-10),setTimeout((function(){return document.body.removeChild(s)}),0)}this.currentDragAndDropData=new J2(n),tI.CurrentDragAndDropData=new Q2(n),this.context.dnd.onDragStart(this.context.tree,this.currentDragAndDropData,new fi(t))}},t.prototype.setupDragAndDropScrollInterval=function(){var e=this,t=Wo(this.wrapper).top;this.dragAndDropScrollInterval||(this.dragAndDropScrollInterval=window.setInterval((function(){if(null!==e.dragAndDropMouseY){var n=e.dragAndDropMouseY-t,i=0,o=e.viewHeight-35;n<35?i=Math.max(-14,.2*(n-35)):n>o&&(i=Math.min(14,.2*(n-o))),e.scrollTop+=i}}),10),this.cancelDragAndDropScrollTimeout(),this.dragAndDropScrollTimeout=window.setTimeout((function(){e.cancelDragAndDropScrollInterval(),e.dragAndDropScrollTimeout=null}),1e3))},t.prototype.cancelDragAndDropScrollInterval=function(){this.dragAndDropScrollInterval&&(window.clearInterval(this.dragAndDropScrollInterval),this.dragAndDropScrollInterval=null),this.cancelDragAndDropScrollTimeout()},t.prototype.cancelDragAndDropScrollTimeout=function(){this.dragAndDropScrollTimeout&&(window.clearTimeout(this.dragAndDropScrollTimeout),this.dragAndDropScrollTimeout=null)},t.prototype.onDragOver=function(e){var t=this;e.preventDefault();var n,i=new fi(e),o=this.getItemAround(i.target);if(!o||0===i.posx&&0===i.posy&&i.browserEvent.type===ar.DRAG_LEAVE)return this.currentDropTarget&&(this.currentDropTargets.forEach((function(e){return e.dropTarget=!1})),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.cancelDragAndDropScrollInterval(),this.currentDropTarget=null,this.currentDropElement=null,this.dragAndDropMouseY=null,!1;if(this.setupDragAndDropScrollInterval(),this.dragAndDropMouseY=i.posy,!this.currentDragAndDropData)if(tI.CurrentDragAndDropData)this.currentDragAndDropData=tI.CurrentDragAndDropData;else{if(!i.dataTransfer.types)return!1;this.currentDragAndDropData=new e4}this.currentDragAndDropData.update(i.browserEvent.dataTransfer);var r,s=o.model;do{if(n=s?s.getElement():this.model.getInput(),r=this.context.dnd.onDragOver(this.context.tree,this.currentDragAndDropData,n,i),!r||1!==r.bubble)break;s=s&&s.parent}while(s);if(!s)return this.currentDropElement=null,!1;var a=r&&r.accept;a?(this.currentDropElement=s.getElement(),i.preventDefault(),i.dataTransfer.dropEffect=0===r.effect?"copy":"move"):this.currentDropElement=null;var l=s.id===this.inputItem.id?this.inputItem:this.items[s.id];if((this.shouldInvalidateDropReaction||this.currentDropTarget!==l||!h4(this.currentDropElementReaction,r))&&(this.shouldInvalidateDropReaction=!1,this.currentDropTarget&&(this.currentDropTargets.forEach((function(e){return e.dropTarget=!1})),this.currentDropTargets=[],this.currentDropDisposable.dispose()),this.currentDropTarget=l,this.currentDropElementReaction=r,a)){if(this.currentDropTarget&&(this.currentDropTarget.dropTarget=!0,this.currentDropTargets.push(this.currentDropTarget)),0===r.bubble){var u=s.getNavigator(),c=void 0;while(c=u.next())o=this.items[c.id],o&&(o.dropTarget=!0,this.currentDropTargets.push(o))}if(r.autoExpand){var h=bi(500);this.currentDropDisposable=De((function(){return h.cancel()})),h.then((function(){return t.context.tree.expand(t.currentDropElement)})).then((function(){return t.shouldInvalidateDropReaction=!0}))}}return!0},t.prototype.onDrop=function(e){if(this.currentDropElement){var t=new fi(e);t.preventDefault(),this.currentDragAndDropData.update(t.browserEvent.dataTransfer),this.context.dnd.drop(this.context.tree,this.currentDragAndDropData,this.currentDropElement,t),this.onDragEnd(e)}this.cancelDragAndDropScrollInterval()},t.prototype.onDragEnd=function(e){this.currentDropTarget&&(this.currentDropTargets.forEach((function(e){return e.dropTarget=!1})),this.currentDropTargets=[]),this.currentDropDisposable.dispose(),this.cancelDragAndDropScrollInterval(),this.currentDragAndDropData=null,tI.CurrentDragAndDropData=void 0,this.currentDropElement=null,this.currentDropTarget=null,this.dragAndDropMouseY=null},t.prototype.onFocus=function(){this.context.options.alwaysFocused||fo(this.domNode,"focused"),this._onDOMFocus.fire()},t.prototype.onBlur=function(){this.context.options.alwaysFocused||mo(this.domNode,"focused"),this.domNode.removeAttribute("aria-activedescendant"),this._onDOMBlur.fire()},t.prototype.onMsPointerDown=function(e){if(this.msGesture){var t=e.pointerType;t!==(e.MSPOINTER_TYPE_MOUSE||"mouse")?t===(e.MSPOINTER_TYPE_TOUCH||"touch")&&(this.lastPointerType="touch",e.stopPropagation(),e.preventDefault(),this.msGesture.addPointer(e.pointerId)):this.lastPointerType="mouse"}},t.prototype.onThrottledMsGestureChange=function(e){this.scrollTop-=e.translationY},t.prototype.onMsGestureTap=function(e){e.initialTarget=document.elementFromPoint(e.clientX,e.clientY),this.onTap(e)},t.prototype.insertItemInDOM=function(e){var t=null,n=this.itemAfter(e);n&&n.element&&(t=n.element),e.insertInDOM(this.rowsContainer,t)},t.prototype.removeItemFromDOM=function(e){e&&e.removeFromDOM()},t.prototype.shouldBeRendered=function(e){return e.top<this.lastRenderTop+this.lastRenderHeight&&e.top+e.height>this.lastRenderTop},t.prototype.getItemAround=function(e){var n=this.inputItem,i=e;do{if(i[t.BINDING]&&(n=i[t.BINDING]),i===this.wrapper||i===this.domNode)return n;if(i===this.scrollableElement.getDomNode()||i===document.body)return}while(i=i.parentElement)},t.prototype.releaseModel=function(){this.model&&(this.modelListeners=Ie(this.modelListeners),this.model=null)},t.prototype.dispose=function(){var t=this;this.scrollableElement.dispose(),this.releaseModel(),this.viewListeners=Ie(this.viewListeners),this._onDOMFocus.dispose(),this._onDOMBlur.dispose(),this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.items&&Object.keys(this.items).forEach((function(e){return t.items[e].removeFromDOM()})),this.context.cache&&this.context.cache.dispose(),this.gestureDisposable.dispose(),e.prototype.dispose.call(this)},t.BINDING="monaco-tree-row",t.LOADING_DECORATION_DELAY=800,t.counter=0,t}(t4),p4=function(){function e(e,t,n){if(void 0===n&&(n={}),this.tree=e,this.configuration=t,this.options=n,!t.dataSource)throw new Error("You must provide a Data Source to the tree.");this.dataSource=t.dataSource,this.renderer=t.renderer,this.controller=t.controller||new V2({clickBehavior:1,keyboardSupport:"boolean"!==typeof n.keyboardSupport||n.keyboardSupport}),this.dnd=t.dnd||new H2,this.filter=t.filter||new $2,this.sorter=t.sorter,this.accessibilityProvider=t.accessibilityProvider||new W2,this.styler=t.styler}return e}(),f4={listFocusBackground:My.fromHex("#073655"),listActiveSelectionBackground:My.fromHex("#0E639C"),listActiveSelectionForeground:My.fromHex("#FFFFFF"),listFocusAndSelectionBackground:My.fromHex("#094771"),listFocusAndSelectionForeground:My.fromHex("#FFFFFF"),listInactiveSelectionBackground:My.fromHex("#3F3F46"),listHoverBackground:My.fromHex("#2A2D2E"),listDropBackground:My.fromHex("#383B3D")},g4=function(){function e(e,t,n){void 0===n&&(n={}),this._onDidChangeFocus=new tt,this.onDidChangeFocus=this._onDidChangeFocus.event,this._onDidChangeSelection=new tt,this.onDidChangeSelection=this._onDidChangeSelection.event,this._onHighlightChange=new tt,this._onDidExpandItem=new tt,this._onDidCollapseItem=new tt,this._onDispose=new Ze,this.onDidDispose=this._onDispose.event,this.container=e,gl(n,f4,!1),n.twistiePixels="number"===typeof n.twistiePixels?n.twistiePixels:32,n.showTwistie=!1!==n.showTwistie,n.indentPixels="number"===typeof n.indentPixels?n.indentPixels:12,n.alwaysFocused=!0===n.alwaysFocused,n.useShadows=!1!==n.useShadows,n.paddingOnRow=!1!==n.paddingOnRow,n.showLoading=!1!==n.showLoading,this.context=new p4(this,t,n),this.model=new Z2(this.context),this.view=new d4(this.context,this.container),this.view.setModel(this.model),this._onDidChangeFocus.input=this.model.onDidFocus,this._onDidChangeSelection.input=this.model.onDidSelect,this._onHighlightChange.input=this.model.onDidHighlight,this._onDidExpandItem.input=this.model.onDidExpandItem,this._onDidCollapseItem.input=this.model.onDidCollapseItem}return e.prototype.style=function(e){this.view.applyStyles(e)},Object.defineProperty(e.prototype,"onDidFocus",{get:function(){return this.view.onDOMFocus},enumerable:!0,configurable:!0}),e.prototype.getHTMLElement=function(){return this.view.getHTMLElement()},e.prototype.layout=function(e,t){this.view.layout(e,t)},e.prototype.domFocus=function(){this.view.focus()},e.prototype.isDOMFocused=function(){return this.view.isFocused()},e.prototype.domBlur=function(){this.view.blur()},e.prototype.setInput=function(e){return this.model.setInput(e)},e.prototype.getInput=function(){return this.model.getInput()},e.prototype.expand=function(e){return this.model.expand(e)},e.prototype.collapse=function(e,t){return void 0===t&&(t=!1),this.model.collapse(e,t)},e.prototype.toggleExpansion=function(e,t){return void 0===t&&(t=!1),this.model.toggleExpansion(e,t)},e.prototype.isExpanded=function(e){return this.model.isExpanded(e)},e.prototype.reveal=function(e,t){return void 0===t&&(t=null),this.model.reveal(e,t)},e.prototype.getHighlight=function(){return this.model.getHighlight()},e.prototype.clearHighlight=function(e){this.model.setHighlight(null,e)},e.prototype.setSelection=function(e,t){this.model.setSelection(e,t)},e.prototype.getSelection=function(){return this.model.getSelection()},e.prototype.clearSelection=function(e){this.model.setSelection([],e)},e.prototype.setFocus=function(e,t){this.model.setFocus(e,t)},e.prototype.getFocus=function(){return this.model.getFocus()},e.prototype.focusNext=function(e,t){this.model.focusNext(e,t)},e.prototype.focusPrevious=function(e,t){this.model.focusPrevious(e,t)},e.prototype.focusParent=function(e){this.model.focusParent(e)},e.prototype.focusFirstChild=function(e){this.model.focusFirstChild(e)},e.prototype.focusFirst=function(e,t){this.model.focusFirst(e,t)},e.prototype.focusNth=function(e,t){this.model.focusNth(e,t)},e.prototype.focusLast=function(e,t){this.model.focusLast(e,t)},e.prototype.focusNextPage=function(e){this.view.focusNextPage(e)},e.prototype.focusPreviousPage=function(e){this.view.focusPreviousPage(e)},e.prototype.clearFocus=function(e){this.model.setFocus(null,e)},e.prototype.dispose=function(){this._onDispose.fire(),this.model.dispose(),this.view.dispose(),this._onDidChangeFocus.dispose(),this._onDidChangeSelection.dispose(),this._onHighlightChange.dispose(),this._onDidExpandItem.dispose(),this._onDidCollapseItem.dispose(),this._onDispose.dispose()},e}(),m4=(n("1f26"),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}()),_4="done",v4="active",y4="infinite",b4="discrete",w4="monaco-progress-container",C4="progress-bit",S4={progressBarBackground:My.fromHex("#0E70C0")},E4=function(e){function t(t,n){var i=e.call(this)||this;return i.options=n||Object.create(null),gl(i.options,S4,!1),i.workedVal=0,i.progressBarBackground=i.options.progressBarBackground,i._register(i.showDelayedScheduler=new ki((function(){return vr(i.element)}),0)),i.create(t),i}return m4(t,e),t.prototype.create=function(e){this.element=document.createElement("div"),fo(this.element,w4),e.appendChild(this.element),this.bit=document.createElement("div"),fo(this.bit,C4),this.element.appendChild(this.bit),this.applyStyles()},t.prototype.off=function(){this.bit.style.width="inherit",this.bit.style.opacity="1",_o(this.element,v4,y4,b4),this.workedVal=0,this.totalWork=void 0},t.prototype.stop=function(){return this.doDone(!1)},t.prototype.doDone=function(e){var t=this;return fo(this.element,_4),po(this.element,y4)?(this.bit.style.opacity="0",e?setTimeout((function(){return t.off()}),200):this.off()):(this.bit.style.width="inherit",e?setTimeout((function(){return t.off()}),200):this.off()),this},t.prototype.hide=function(){yr(this.element),this.showDelayedScheduler.cancel()},t.prototype.style=function(e){this.progressBarBackground=e.progressBarBackground,this.applyStyles()},t.prototype.applyStyles=function(){if(this.bit){var e=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=e}},t}(Ae),T4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),k4=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return T4(t,e),t.prototype.onContextMenu=function(t,n,i){return s["e"]?this.onLeftClick(t,n,i):e.prototype.onContextMenu.call(this,t,n,i)},t}(V2),x4={background:My.fromHex("#1E1E1E"),foreground:My.fromHex("#CCCCCC"),pickerGroupForeground:My.fromHex("#0097FB"),pickerGroupBorder:My.fromHex("#3F3F46"),widgetShadow:My.fromHex("#000000"),progressBarBackground:My.fromHex("#0E70C0")},L4=r("quickOpenAriaLabel","Quick picker. Type to narrow down results."),I4=function(e){function t(t,n,i){var o=e.call(this)||this;return o.isDisposed=!1,o.container=t,o.callbacks=n,o.options=i,o.styles=i||Object.create(null),gl(o.styles,x4,!1),o.model=null,o}return T4(t,e),t.prototype.getModel=function(){return this.model},t.prototype.create=function(){var e=this;this.element=document.createElement("div"),fo(this.element,"monaco-quick-open-widget"),this.container.appendChild(this.element),this._register(bo(this.element,ar.CONTEXT_MENU,(function(e){return lr.stop(e,!0)}))),this._register(bo(this.element,ar.FOCUS,(function(t){return e.gainingFocus()}),!0)),this._register(bo(this.element,ar.BLUR,(function(t){return e.loosingFocus(t)}),!0)),this._register(bo(this.element,ar.KEY_DOWN,(function(t){var n=new si(t);if(9===n.keyCode)lr.stop(t,!0),e.hide(2);else if(2===n.keyCode&&!n.altKey&&!n.ctrlKey&&!n.metaKey){var i=t.currentTarget.querySelectorAll("input, .monaco-tree, .monaco-tree-row.focused .action-label.icon");n.shiftKey&&n.target===i[0]?(lr.stop(t,!0),i[i.length-1].focus()):n.shiftKey||n.target!==i[i.length-1]||(lr.stop(t,!0),i[0].focus())}}))),this.progressBar=this._register(new E4(this.element,{progressBarBackground:this.styles.progressBarBackground})),this.progressBar.hide(),this.inputContainer=document.createElement("div"),fo(this.inputContainer,"quick-open-input"),this.element.appendChild(this.inputContainer),this.inputBox=this._register(new dU(this.inputContainer,void 0,{placeholder:this.options.inputPlaceHolder||"",ariaLabel:L4,inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder})),this.inputElement=this.inputBox.inputElement,this.inputElement.setAttribute("role","combobox"),this.inputElement.setAttribute("aria-haspopup","false"),this.inputElement.setAttribute("aria-autocomplete","list"),this._register(bo(this.inputBox.inputElement,ar.INPUT,(function(t){return e.onType()}))),this._register(bo(this.inputBox.inputElement,ar.KEY_DOWN,(function(t){var n=new si(t),i=e.shouldOpenInBackground(n);if(2!==n.keyCode)if(18===n.keyCode||16===n.keyCode||12===n.keyCode||11===n.keyCode)lr.stop(t,!0),e.navigateInTree(n.keyCode,n.shiftKey),e.inputBox.inputElement.selectionStart===e.inputBox.inputElement.selectionEnd&&(e.inputBox.inputElement.selectionStart=e.inputBox.value.length);else if(3===n.keyCode||i){lr.stop(t,!0);var o=e.tree.getFocus();o&&e.elementSelected(o,t,i?2:1)}}))),this.resultCount=document.createElement("div"),fo(this.resultCount,"quick-open-result-count"),this.resultCount.setAttribute("aria-live","polite"),this.resultCount.setAttribute("aria-atomic","true"),this.element.appendChild(this.resultCount),this.treeContainer=document.createElement("div"),fo(this.treeContainer,"quick-open-tree"),this.element.appendChild(this.treeContainer);var t=this.options.treeCreator||function(e,t,n){return new g4(e,t,n)};return this.tree=this._register(t(this.treeContainer,{dataSource:new A2(this),controller:new k4({clickBehavior:1,keyboardSupport:this.options.keyboardSupport}),renderer:this.renderer=new F2(this,this.styles),filter:new P2(this),accessibilityProvider:new M2(this)},{twistiePixels:11,indentPixels:0,alwaysFocused:!0,verticalScrollMode:3,horizontalScrollMode:2,ariaLabel:r("treeAriaLabel","Quick Picker"),keyboardSupport:this.options.keyboardSupport,preventRootFocus:!1})),this.treeElement=this.tree.getHTMLElement(),this._register(this.tree.onDidChangeFocus((function(t){e.elementFocused(t.focus,t)}))),this._register(this.tree.onDidChangeSelection((function(t){if(t.selection&&t.selection.length>0){var n=t.payload&&t.payload.originalEvent instanceof pi?t.payload.originalEvent:void 0,i=!!n&&e.shouldOpenInBackground(n);e.elementSelected(t.selection[0],t,i?2:1)}}))),this._register(bo(this.treeContainer,ar.KEY_DOWN,(function(t){var n=new si(t);if(e.quickNavigateConfiguration)if(18===n.keyCode||16===n.keyCode||12===n.keyCode||11===n.keyCode)lr.stop(t,!0),e.navigateInTree(n.keyCode);else if(3===n.keyCode){lr.stop(t,!0);var i=e.tree.getFocus();i&&e.elementSelected(i,t)}}))),this._register(bo(this.treeContainer,ar.KEY_UP,(function(t){var n=new si(t),i=n.keyCode;if(e.quickNavigateConfiguration){var o=e.quickNavigateConfiguration.keybindings,r=o.some((function(e){var t=e.getParts(),o=t[0],r=t[1];return!r&&(o.shiftKey&&4===i?!(n.ctrlKey||n.altKey||n.metaKey):!(!o.altKey||6!==i)||(!(!o.ctrlKey||5!==i)||!(!o.metaKey||57!==i)))}));if(r){var s=e.tree.getFocus();s&&e.elementSelected(s,t)}}}))),this.layoutDimensions&&this.layout(this.layoutDimensions),this.applyStyles(),this._register(bo(this.treeContainer,ar.KEY_DOWN,(function(t){var n=new si(t);e.quickNavigateConfiguration||18!==n.keyCode&&16!==n.keyCode&&12!==n.keyCode&&11!==n.keyCode||(lr.stop(t,!0),e.navigateInTree(n.keyCode,n.shiftKey),e.treeElement.focus())}))),this.element},t.prototype.style=function(e){this.styles=e,this.applyStyles()},t.prototype.applyStyles=function(){if(this.element){var e=this.styles.foreground?this.styles.foreground.toString():"",t=this.styles.background?this.styles.background.toString():"",n=this.styles.borderColor?this.styles.borderColor.toString():"",i=this.styles.widgetShadow?this.styles.widgetShadow.toString():"";this.element.style.color=e,this.element.style.backgroundColor=t,this.element.style.borderColor=n,this.element.style.borderWidth=n?"1px":"",this.element.style.borderStyle=n?"solid":"",this.element.style.boxShadow=i?"0 5px 8px "+i:""}this.progressBar&&this.progressBar.style({progressBarBackground:this.styles.progressBarBackground}),this.inputBox&&this.inputBox.style({inputBackground:this.styles.inputBackground,inputForeground:this.styles.inputForeground,inputBorder:this.styles.inputBorder,inputValidationInfoBackground:this.styles.inputValidationInfoBackground,inputValidationInfoForeground:this.styles.inputValidationInfoForeground,inputValidationInfoBorder:this.styles.inputValidationInfoBorder,inputValidationWarningBackground:this.styles.inputValidationWarningBackground,inputValidationWarningForeground:this.styles.inputValidationWarningForeground,inputValidationWarningBorder:this.styles.inputValidationWarningBorder,inputValidationErrorBackground:this.styles.inputValidationErrorBackground,inputValidationErrorForeground:this.styles.inputValidationErrorForeground,inputValidationErrorBorder:this.styles.inputValidationErrorBorder}),this.tree&&!this.options.treeCreator&&this.tree.style(this.styles),this.renderer&&this.renderer.updateStyles(this.styles)},t.prototype.shouldOpenInBackground=function(e){if(e instanceof si){if(17!==e.keyCode)return!1;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return!1;var t=this.inputBox.inputElement;return t.selectionEnd===this.inputBox.value.length&&t.selectionStart===t.selectionEnd}return e.middleButton},t.prototype.onType=function(){var e=this.inputBox.value;this.helpText&&(e?yr(this.helpText):vr(this.helpText)),this.callbacks.onType(e)},t.prototype.navigateInTree=function(e,t){var n=this.tree.getInput(),i=n?n.entries:[],o=this.tree.getFocus();switch(e){case 18:this.tree.focusNext();break;case 16:this.tree.focusPrevious();break;case 12:this.tree.focusNextPage();break;case 11:this.tree.focusPreviousPage();break;case 2:t?this.tree.focusPrevious():this.tree.focusNext();break}var r=this.tree.getFocus();i.length>1&&o===r&&(16===e||2===e&&t?this.tree.focusLast():(18===e||2===e&&!t)&&this.tree.focusFirst()),r=this.tree.getFocus(),r&&this.tree.reveal(r)},t.prototype.elementFocused=function(e,t){if(e&&this.isVisible()){var n=this.treeElement.getAttribute("aria-activedescendant");n?this.inputElement.setAttribute("aria-activedescendant",n):this.inputElement.removeAttribute("aria-activedescendant");var i={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};this.model.runner.run(e,0,i)}},t.prototype.elementSelected=function(e,t,n){var i=!0;if(this.isVisible()){var o=n||1,r={event:t,keymods:this.extractKeyMods(t),quickNavigateConfiguration:this.quickNavigateConfiguration};i=this.model.runner.run(e,o,r)}i&&this.hide(0)},t.prototype.extractKeyMods=function(e){return{ctrlCmd:e&&(e.ctrlKey||e.metaKey||e.payload&&e.payload.originalEvent&&(e.payload.originalEvent.ctrlKey||e.payload.originalEvent.metaKey)),alt:e&&(e.altKey||e.payload&&e.payload.originalEvent&&e.payload.originalEvent.altKey)}},t.prototype.show=function(e,t){this.visible=!0,this.isLoosingFocus=!1,this.quickNavigateConfiguration=t?t.quickNavigateConfiguration:void 0,this.quickNavigateConfiguration?(yr(this.inputContainer),vr(this.element),this.tree.domFocus()):(vr(this.inputContainer),vr(this.element),this.inputBox.focus()),this.helpText&&(this.quickNavigateConfiguration||ya(e)?yr(this.helpText):vr(this.helpText)),ya(e)?this.doShowWithPrefix(e):(t&&t.value&&this.restoreLastInput(t.value),this.doShowWithInput(e,t&&t.autoFocus?t.autoFocus:{})),t&&t.inputSelection&&!this.quickNavigateConfiguration&&this.inputBox.select(t.inputSelection),this.callbacks.onShow&&this.callbacks.onShow()},t.prototype.restoreLastInput=function(e){this.inputBox.value=e,this.inputBox.select(),this.callbacks.onType(e)},t.prototype.doShowWithPrefix=function(e){this.inputBox.value=e,this.callbacks.onType(e)},t.prototype.doShowWithInput=function(e,t){this.setInput(e,t)},t.prototype.setInputAndLayout=function(e,t){var n=this;this.treeContainer.style.height=this.getHeight(e)+"px",this.tree.setInput(null).then((function(){return n.model=e,n.inputElement.setAttribute("aria-haspopup",String(e&&e.entries&&e.entries.length>0)),n.tree.setInput(e)})).then((function(){n.tree.layout();var i=e?e.entries.filter((function(t){return n.isElementVisible(e,t)})):[];n.updateResultCount(i.length),i.length&&n.autoFocus(e,i,t)}))},t.prototype.isElementVisible=function(e,t){return!e.filter||e.filter.isVisible(t)},t.prototype.autoFocus=function(e,t,n){if(void 0===n&&(n={}),n.autoFocusPrefixMatch){for(var i=void 0,o=void 0,r=n.autoFocusPrefixMatch,s=r.toLowerCase(),a=0,l=t;a<l.length;a++){var u=l[a],c=e.dataSource.getLabel(u)||"";if(i||0!==c.indexOf(r)?o||0!==c.toLowerCase().indexOf(s)||(o=u):i=u,i&&o)break}var h=i||o;if(h)return this.tree.setFocus(h),void this.tree.reveal(h,.5)}n.autoFocusFirstEntry?(this.tree.focusFirst(),this.tree.reveal(this.tree.getFocus())):"number"===typeof n.autoFocusIndex?t.length>n.autoFocusIndex&&(this.tree.focusNth(n.autoFocusIndex),this.tree.reveal(this.tree.getFocus())):n.autoFocusSecondEntry?t.length>1&&this.tree.focusNth(1):n.autoFocusLastEntry&&t.length>1&&(this.tree.focusLast(),this.tree.reveal(this.tree.getFocus()))},t.prototype.getHeight=function(e){var n=this,i=e.renderer;if(!e){var o=i.getHeight(null);return this.options.minItemsToShow?this.options.minItemsToShow*o:0}var r,s=0;this.layoutDimensions&&this.layoutDimensions.height&&(r=.4*(this.layoutDimensions.height-50)),(!r||r>t.MAX_ITEMS_HEIGHT)&&(r=t.MAX_ITEMS_HEIGHT);for(var a=e.entries.filter((function(t){return n.isElementVisible(e,t)})),l=this.options.maxItemsToShow||a.length,u=0;u<l&&u<a.length;u++){var c=i.getHeight(a[u]);if(!(s+c<=r))break;s+=c}return s},t.prototype.updateResultCount=function(e){this.resultCount.textContent=r({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results",e)},t.prototype.hide=function(e){this.isVisible()&&(this.visible=!1,yr(this.element),this.element.blur(),this.inputBox.value="",this.tree.setInput(null),this.inputElement.setAttribute("aria-haspopup","false"),this.treeContainer.style.height=(this.options.minItemsToShow?22*this.options.minItemsToShow:0)+"px",this.progressBar.stop().hide(),this.tree.isDOMFocused()?this.tree.domBlur():this.inputBox.hasFocus()&&this.inputBox.blur(),0===e?this.callbacks.onOk():this.callbacks.onCancel(),this.callbacks.onHide&&this.callbacks.onHide(e))},t.prototype.setInput=function(e,t,n){this.isVisible()&&(this.getInput()&&this.onInputChanging(),this.setInputAndLayout(e,t),this.inputBox&&this.inputBox.setAriaLabel(n||L4))},t.prototype.onInputChanging=function(){var e=this;this.inputChangingTimeoutHandle&&(clearTimeout(this.inputChangingTimeoutHandle),this.inputChangingTimeoutHandle=null),fo(this.element,"content-changing"),this.inputChangingTimeoutHandle=setTimeout((function(){mo(e.element,"content-changing")}),500)},t.prototype.getInput=function(){return this.tree.getInput()},t.prototype.isVisible=function(){return this.visible},t.prototype.layout=function(e){this.layoutDimensions=e;var n=Math.min(.62*this.layoutDimensions.width,t.MAX_WIDTH);this.element&&(this.element.style.width=n+"px",this.element.style.marginLeft="-"+n/2+"px",this.inputContainer.style.width=n-12+"px")},t.prototype.gainingFocus=function(){this.isLoosingFocus=!1},t.prototype.loosingFocus=function(e){var t=this;if(this.isVisible()){var n=e.relatedTarget;!this.quickNavigateConfiguration&&Yo(n,this.element)||(this.isLoosingFocus=!0,setTimeout((function(){if(t.isLoosingFocus&&!t.isDisposed){var e=t.callbacks.onFocusLost&&t.callbacks.onFocusLost();e||t.hide(1)}}),0))}},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.isDisposed=!0},t.MAX_WIDTH=600,t.MAX_ITEMS_HEIGHT=440,t}(Ae),O4=function(){function e(e,t,n,i,o,r){this.codeEditor=e,this.themeService=r,this.visible=!1,this.domNode=document.createElement("div"),this.quickOpenWidget=new I4(this.domNode,{onOk:t,onCancel:n,onType:i},{inputPlaceHolder:void 0,inputAriaLabel:o.inputAriaLabel,keyboardSupport:!0}),this.styler=oN(this.quickOpenWidget,this.themeService,{pickerGroupForeground:Jb}),this.quickOpenWidget.create(),this.codeEditor.addOverlayWidget(this)}return e.prototype.setInput=function(e,t){this.quickOpenWidget.setInput(e,t)},e.prototype.getId=function(){return e.ID},e.prototype.getDomNode=function(){return this.domNode},e.prototype.destroy=function(){this.codeEditor.removeOverlayWidget(this),this.quickOpenWidget.dispose(),this.styler.dispose()},e.prototype.show=function(e){this.visible=!0;var t=this.codeEditor.getLayoutInfo();t&&this.quickOpenWidget.layout(new $o(t.width,t.height)),this.quickOpenWidget.show(e),this.codeEditor.layoutOverlayWidget(this)},e.prototype.getPosition=function(){return this.visible?{preference:2}:null},e.ID="editor.contrib.quickOpenEditorWidget",e}(),D4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),N4=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},R4=function(e,t){return function(n,i){t(n,i,e)}},A4=function(){function e(e,t){this.themeService=t,this.widget=null,this.rangeHighlightDecorationId=null,this.lastKnownEditorSelection=null,this.editor=e}return e.get=function(t){return t.getContribution(e.ID)},e.prototype.dispose=function(){this.widget&&(this.widget.destroy(),this.widget=null)},e.prototype.run=function(e){var t=this;this.widget&&(this.widget.destroy(),this.widget=null);var n=function(e){t.clearDecorations(),e&&t.lastKnownEditorSelection&&(t.editor.setSelection(t.lastKnownEditorSelection),t.editor.revealRangeInCenterIfOutsideViewport(t.lastKnownEditorSelection,0)),t.lastKnownEditorSelection=null,document.activeElement!==document.body&&e||t.editor.focus()};this.widget=new O4(this.editor,(function(){return n(!1)}),(function(){return n(!0)}),(function(n){t.widget.setInput(e.getModel(n),e.getAutoFocus(n))}),{inputAriaLabel:e.inputAriaLabel},this.themeService),this.lastKnownEditorSelection||(this.lastKnownEditorSelection=this.editor.getSelection()),this.widget.show("")},e.prototype.decorateLine=function(t,n){var i=[];this.rangeHighlightDecorationId&&(i.push(this.rangeHighlightDecorationId),this.rangeHighlightDecorationId=null);var o=[{range:t,options:e._RANGE_HIGHLIGHT_DECORATION}],r=n.deltaDecorations(i,o);this.rangeHighlightDecorationId=r[0]},e.prototype.clearDecorations=function(){this.rangeHighlightDecorationId&&(this.editor.deltaDecorations([this.rangeHighlightDecorationId],[]),this.rangeHighlightDecorationId=null)},e.ID="editor.controller.quickOpenController",e._RANGE_HIGHLIGHT_DECORATION=Xy.register({className:"rangeHighlight",isWholeLine:!0}),e=N4([R4(1,p_)],e),e}(),M4=function(e){function t(t,n){var i=e.call(this,n)||this;return i._inputAriaLabel=t,i}return D4(t,e),t.prototype.getController=function(e){return A4.get(e)},t.prototype._show=function(e,t){e.run({inputAriaLabel:this._inputAriaLabel,getModel:function(e){return t.getModel(e)},getAutoFocus:function(e){return t.getAutoFocus(e)}})},t}(Cm);Om(A4.ID,A4);var P4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),F4=function(e){function t(t,n,i){var o=e.call(this)||this;return o.editor=n,o.decorator=i,o.parseResult=o.parseInput(t),o}return P4(t,e),t.prototype.parseInput=function(e){var t,n,i=e.split(",").map((function(e){return parseInt(e,10)})).filter((function(e){return!isNaN(e)}));if(t=0===i.length?new yn(-1,-1):1===i.length?new yn(i[0],1):new yn(i[0],i[1]),hp(this.editor))n=this.editor.getModel();else{var o=this.editor.getModel();n=o?o.modified:null}var r,s=!!n&&n.validatePosition(t).equals(t);return r=s?t.column&&t.column>1?Rr(lg.gotoLineLabelValidLineAndColumn,t.lineNumber,t.column):Rr(lg.gotoLineLabelValidLine,t.lineNumber):t.lineNumber<1||t.lineNumber>(n?n.getLineCount():0)?Rr(lg.gotoLineLabelEmptyWithLineLimit,n?n.getLineCount():0):Rr(lg.gotoLineLabelEmptyWithLineAndColumnLimit,n?n.getLineMaxColumn(t.lineNumber):0),{position:t,isValid:s,label:r}},t.prototype.getLabel=function(){return this.parseResult.label},t.prototype.getAriaLabel=function(){var e=this.editor.getPosition(),t=e?e.lineNumber:0;return Rr(lg.gotoLineAriaLabel,t,this.parseResult.label)},t.prototype.run=function(e,t){return 1===e?this.runOpen():this.runPreview()},t.prototype.runOpen=function(){if(!this.parseResult.isValid)return!1;var e=this.toSelection();return this.editor.setSelection(e),this.editor.revealRangeInCenter(e,0),this.editor.focus(),!0},t.prototype.runPreview=function(){if(!this.parseResult.isValid)return this.decorator.clearDecorations(),!1;var e=this.toSelection();return this.editor.revealRangeInCenter(e,0),this.decorator.decorateLine(e,this.editor),!1},t.prototype.toSelection=function(){return new bn(this.parseResult.position.lineNumber,this.parseResult.position.column,this.parseResult.position.lineNumber,this.parseResult.position.column)},t}(x2),B4=function(e){function t(){return e.call(this,lg.gotoLineActionInput,{id:"editor.action.gotoLine",label:lg.gotoLineActionLabel,alias:"Go to Line...",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:2085,mac:{primary:293},weight:100}})||this}return P4(t,e),t.prototype.run=function(e,t){var n=this;this._show(this.getController(t),{getModel:function(e){return new R2([new F4(e,t,n.getController(t))])},getAutoFocus:function(e){return{autoFocusFirstEntry:e.length>0}}})},t}(M4);Lm(B4);var V4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),H4=function(e){function t(t,n,i,o,r){var s=e.call(this)||this;return s.key=t,s.keyAriaLabel=n,s.setHighlights(i),s.action=o,s.editor=r,s}return V4(t,e),t.prototype.getLabel=function(){return this.action.label},t.prototype.getAriaLabel=function(){return this.keyAriaLabel?Rr(ug.ariaLabelEntryWithKey,this.getLabel(),this.keyAriaLabel):Rr(ug.ariaLabelEntry,this.getLabel())},t.prototype.getGroupLabel=function(){return this.key},t.prototype.run=function(e,t){var n=this;return 1===e&&(setTimeout((function(){n.editor.focus();try{var e=n.action.run()||Promise.resolve();e.then(void 0,ge)}catch(t){ge(t)}}),50),!0)},t}(L2),$4=function(e){function t(){return e.call(this,ug.quickCommandActionInput,{id:"editor.action.quickCommand",label:ug.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:xE.focus,primary:Hn?571:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})||this}return V4(t,e),t.prototype.run=function(e,t){var n=this,i=e.get(WI);this._show(this.getController(t),{getModel:function(e){return new R2(n._editorActionsToEntries(i,t,e))},getAutoFocus:function(e){return{autoFocusFirstEntry:!0,autoFocusPrefixMatch:e}}})},t.prototype._sort=function(e,t){var n=(e.getLabel()||"").toLowerCase(),i=(t.getLabel()||"").toLowerCase();return n.localeCompare(i)},t.prototype._editorActionsToEntries=function(e,t,n){for(var i=t.getSupportedActions(),o=[],r=0,s=i;r<s.length;r++){var a=s[r],l=e.lookupKeybinding(a.id);if(a.label){var u=ER(n,a.label);u&&o.push(new H4(l&&l.getLabel()||"",l&&l.getAriaLabel()||"",u,a,t))}}return o=o.sort(this._sort),o},t}(M4);Lm($4);n("42f0");var W4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),U4=function(){function e(){}return e.prototype.remove=function(){this.parent&&delete this.parent.children[this.id]},e.findId=function(e,t){var n;"string"===typeof e?n=t.id+"/"+e:(n=t.id+"/"+e.name,void 0!==t.children[n]&&(n=t.id+"/"+e.name+"_"+e.range.startLineNumber+"_"+e.range.startColumn));for(var i=n,o=0;void 0!==t.children[i];o++)i=n+"_"+o;return i},e.empty=function(e){for(var t in e.children)return!1;return!0},e}(),z4=function(e){function t(t,n,i){var o=e.call(this)||this;return o.id=t,o.parent=n,o.symbol=i,o.children=Object.create(null),o}return W4(t,e),t}(U4),j4=function(e){function t(t,n,i,o){var r=e.call(this)||this;return r.id=t,r.parent=n,r.provider=i,r.providerIndex=o,r.children=Object.create(null),r}return W4(t,e),t}(U4),G4=function(){function e(){this._n=1,this._val=0}return e.prototype.update=function(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this},e}(),K4=function(e){function t(t){var n=e.call(this)||this;return n.textModel=t,n.id="root",n.parent=void 0,n._groups=Object.create(null),n.children=Object.create(null),n.id="root",n.parent=void 0,n}return W4(t,e),t.create=function(e,n){var i=this,o=this._keys.for(e,!0),r=t._requests.get(o);if(!r){var s=new rt;r={promiseCnt:0,source:s,promise:t._create(e,s.token),model:void 0},t._requests.set(o,r);var a=Date.now();r.promise.then((function(){var t=i._keys.for(e,!1),n=i._requestDurations.get(t);n||(n=new G4,i._requestDurations.set(t,n)),n.update(Date.now()-a)}))}return r.model?Promise.resolve(r.model):(r.promiseCnt+=1,n.onCancellationRequested((function(){0===--r.promiseCnt&&(r.source.cancel(),t._requests.delete(o))})),new Promise((function(e,n){r.promise.then((function(t){r.model=t,e(t)}),(function(e){t._requests.delete(o),n(e)}))})))},t._create=function(e,n){var i=new rt(n),o=new t(e),r=Au.ordered(e),s=r.map((function(e,n){var r=U4.findId("provider_"+n,o),s=new j4(r,o,e,n);return Promise.resolve(e.provideDocumentSymbols(o.textModel,i.token)).then((function(e){for(var n=0,i=e||[];n<i.length;n++){var o=i[n];t._makeOutlineElement(o,s)}return s}),(function(e){return me(e),s})).then((function(e){U4.empty(e)?e.remove():o._groups[r]=e}))})),a=Au.onDidChange((function(){var t=Au.ordered(e);Di(t,r)||i.cancel()}));return Promise.all(s).then((function(){return i.token.isCancellationRequested&&!n.isCancellationRequested?t._create(e,n):o._compact()})).finally((function(){a.dispose()}))},t._makeOutlineElement=function(e,n){var i=U4.findId(e,n),o=new z4(i,n,e);if(e.children)for(var r=0,s=e.children;r<s.length;r++){var a=s[r];t._makeOutlineElement(a,o)}n.children[o.id]=o},t.prototype._compact=function(){var e=0;for(var t in this._groups){var n=this._groups[t];void 0===Mp(n.children)?delete this._groups[t]:e+=1}if(1!==e)this.children=this._groups;else{n=Mp(this._groups);for(var t in n.children){var i=n.children[t];i.parent=this,this.children[i.id]=i}}return this},t._requestDurations=new Ga(50,.7),t._requests=new Ga(9,.75),t._keys=new(function(){function e(){this._counter=1,this._data=new WeakMap}return e.prototype.for=function(e,t){return e.id+"/"+(t?e.getVersionId():"")+"/"+this._hash(Au.all(e))},e.prototype._hash=function(e){for(var t="",n=0,i=e;n<i.length;n++){var o=i[n],r=this._data.get(o);"undefined"===typeof r&&(r=this._counter++,this._data.set(o,r)),t+=r}return t},e}()),t}(U4),q4=function(e,t,n,i){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i["throw"](e))}catch(t){r(t)}}function l(e){e.done?n(e.value):o(e.value).then(s,a)}l((i=i.apply(e,t||[])).next())}))},Y4=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(e){return function(t){return l([e,t])}}function l(r){if(n)throw new TypeError("Generator is already executing.");while(s)try{if(n=1,i&&(o=2&r[0]?i["return"]:r[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};function X4(e,t,n){return q4(this,void 0,void 0,(function(){var i,o,r,s,a,l;return Y4(this,(function(u){switch(u.label){case 0:return[4,K4.create(e,n)];case 1:for(i=u.sent(),o=[],r=0,s=Ap(i.children);r<s.length;r++)a=s[r],a instanceof z4?o.push(a.symbol):o.push.apply(o,Ap(a.children).map((function(e){return e.symbol})));return l=[],n.isCancellationRequested?[2,l]:(t?J4(l,o,""):l=o,[2,l.sort(Z4)])}}))}))}function Z4(e,t){return bn.compareRangesUsingStarts(e.range,t.range)}function J4(e,t,n){for(var i=0,o=t;i<o.length;i++){var r=o[i];e.push({kind:r.kind,tags:r.tags,name:r.name,detail:r.detail,containerName:r.containerName||n,range:r.range,selectionRange:r.selectionRange,children:void 0}),r.children&&J4(e,r.children,r.name)}}Ya.registerCommand("_executeDocumentSymbolProvider",(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return q4(this,void 0,void 0,(function(){var n,i,o;return Y4(this,(function(r){switch(r.label){case 0:return n=t[0],Ta(Lt.isUri(n)),i=e.get(pu).getModel(n),i?[2,X4(i,!1,qe.None)]:[4,e.get(sc).createModelReference(n)];case 1:o=r.sent(),r.label=2;case 2:return r.trys.push([2,,4,5]),[4,X4(o.object.textEditorModel,!1,qe.None)];case 3:return[2,r.sent()];case 4:return o.dispose(),[7];case 5:return[2]}}))}))}));var Q4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),e5=":",t5=function(e){function t(t,n,i,o,r,s,a){var l=e.call(this)||this;return l.name=t,l.type=n,l.description=i,l.range=o,l.setHighlights(r),l.editor=s,l.decorator=a,l}return Q4(t,e),t.prototype.getLabel=function(){return this.name},t.prototype.getAriaLabel=function(){return Rr(cg.entryAriaLabel,this.name)},t.prototype.getIcon=function(){return this.type},t.prototype.getDescription=function(){return this.description},t.prototype.getType=function(){return this.type},t.prototype.getRange=function(){return this.range},t.prototype.run=function(e,t){return 1===e?this.runOpen(t):this.runPreview()},t.prototype.runOpen=function(e){var t=this.toSelection();return this.editor.setSelection(t),this.editor.revealRangeInCenter(t,0),this.editor.focus(),!0},t.prototype.runPreview=function(){var e=this.toSelection();return this.editor.revealRangeInCenter(e,0),this.decorator.decorateLine(this.range,this.editor),!1},t.prototype.toSelection=function(){return new bn(this.range.startLineNumber,this.range.startColumn||1,this.range.startLineNumber,this.range.startColumn||1)},t}(L2),n5=function(e){function t(){return e.call(this,cg.quickOutlineActionInput,{id:"editor.action.quickOutline",label:cg.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:xE.hasDocumentSymbolProvider,kbOpts:{kbExpr:xE.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})||this}return Q4(t,e),t.prototype.run=function(e,t){var n=this;if(t.hasModel()){var i=t.getModel();if(Au.has(i))return X4(i,!0,qe.None).then((function(e){0!==e.length&&n._run(t,e)}))}},t.prototype._run=function(e,t){var n=this;this._show(this.getController(e),{getModel:function(i){return new R2(n.toQuickOpenEntries(e,t,i))},getAutoFocus:function(e){return 0===e.indexOf(e5)&&(e=e.substr(e5.length)),{autoFocusPrefixMatch:e,autoFocusFirstEntry:!!e}}})},t.prototype.symbolEntry=function(e,t,n,i,o,r,s){return new t5(e,t,n,bn.lift(i),o,r,s)},t.prototype.toQuickOpenEntries=function(e,t,n){var i=this.getController(e),o=[],r=n;0===n.indexOf(e5)&&(r=r.substr(e5.length));for(var s=0,a=t;s<a.length;s++){var l=a[s],u=Pr(l.name),c=ER(r,u);if(c){var h=void 0;l.containerName&&(h=l.containerName),o.push(this.symbolEntry(u,vu.toCssClassName(l.kind),h,l.range,c,e,i))}}if(n&&(o=0===n.indexOf(e5)?o.sort(this.sortScoped.bind(this,n.toLowerCase())):o.sort(this.sortNormal.bind(this,n.toLowerCase()))),o.length>0&&0===n.indexOf(e5)){for(var d=null,p=null,f=0,g=0;g<o.length;g++){var m=o[g];d!==m.getType()?(p&&p.setGroupLabel(this.typeToLabel(d||"",f)),d=m.getType(),p=m,f=1,m.setShowBorder(g>0)):f++}p&&p.setGroupLabel(this.typeToLabel(d||"",f))}else o.length>0&&o[0].setGroupLabel(Rr(cg._symbols_,o.length));return o},t.prototype.typeToLabel=function(e,t){switch(e){case"module":return Rr(cg._modules_,t);case"class":return Rr(cg._class_,t);case"interface":return Rr(cg._interface_,t);case"method":return Rr(cg._method_,t);case"function":return Rr(cg._function_,t);case"property":return Rr(cg._property_,t);case"variable":return Rr(cg._variable_,t);case"var":return Rr(cg._variable2_,t);case"constructor":return Rr(cg._constructor_,t);case"call":return Rr(cg._call_,t)}return e},t.prototype.sortNormal=function(e,t,n){var i=t.getLabel().toLowerCase(),o=n.getLabel().toLowerCase(),r=i.localeCompare(o);if(0!==r)return r;var s=t.getRange(),a=n.getRange();return s.startLineNumber-a.startLineNumber},t.prototype.sortScoped=function(e,t,n){e=e.substr(e5.length);var i=t.getType(),o=n.getType(),r=i.localeCompare(o);if(0!==r)return r;if(e){var s=t.getLabel().toLowerCase(),a=n.getLabel().toLowerCase(),l=s.localeCompare(a);if(0!==l)return l}var u=t.getRange(),c=n.getRange();return u.startLineNumber-c.startLineNumber},t}(M4);Lm(n5);var i5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o5=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r5=function(e,t){return function(n,i){t(n,i,e)}},s5=function(e){function t(t,n,i,o,r,s,a){return e.call(this,!0,t,n,i,o,r,s,a)||this}return i5(t,e),t=o5([r5(1,Bf),r5(2,Rn),r5(3,ig),r5(4,In),r5(5,VP),r5(6,uf)],t),t}(OK);Om(OK.ID,s5);var a5=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l5=function(e){function t(){var t=e.call(this,{id:"editor.action.toggleHighContrast",label:dg.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0})||this;return t._originalThemeName=null,t}return a5(t,e),t.prototype.run=function(e,t){var n=e.get($I);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getTheme().themeName,n.setTheme("hc-black"))},t}(Cm);Lm(l5)},"8efc":function(e,t,n){},"8f37":function(e,t,n){"use strict";var i={};function o(e){var t,n,o=i[e];if(o)return o;for(o=i[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),o[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}function r(e,t){var n;return"string"!==typeof t&&(t=r.defaultChars),n=o(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,i,o,r,s,a,l,u="";for(t=0,i=e.length;t<i;t+=3)o=parseInt(e.slice(t+1,t+3),16),o<128?u+=n[o]:192===(224&o)&&t+3<i&&(r=parseInt(e.slice(t+4,t+6),16),128===(192&r))?(l=o<<6&1984|63&r,u+=l<128?"��":String.fromCharCode(l),t+=3):224===(240&o)&&t+6<i&&(r=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128===(192&r)&&128===(192&s))?(l=o<<12&61440|r<<6&4032|63&s,u+=l<2048||l>=55296&&l<=57343?"���":String.fromCharCode(l),t+=6):240===(248&o)&&t+9<i&&(r=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128===(192&r)&&128===(192&s)&&128===(192&a))?(l=o<<18&1835008|r<<12&258048|s<<6&4032|63&a,l<65536||l>1114111?u+="����":(l-=65536,u+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),t+=9):u+="�";return u}))}r.defaultChars=";/?:@&=+$,#",r.componentChars="",e.exports=r},"8fd1":function(e,t){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},"8ff2":function(e,t,n){},"90a2":function(e,t,n){"use strict";function i(e,t,n){if("undefined"===typeof window||!("IntersectionObserver"in window))return;const i=t.modifiers||{},r=t.value,{handler:s,options:a}="object"===typeof r?r:{handler:r,options:{}},l=new IntersectionObserver((r=[],a)=>{var l;const u=null===(l=e._observe)||void 0===l?void 0:l[n.context._uid];if(!u)return;const c=r.some(e=>e.isIntersecting);!s||i.quiet&&!u.init||i.once&&!c&&!u.init||s(r,a,c),c&&i.once?o(e,t,n):u.init=!0},a);e._observe=Object(e._observe),e._observe[n.context._uid]={init:!1,observer:l},l.observe(e)}function o(e,t,n){var i;const o=null===(i=e._observe)||void 0===i?void 0:i[n.context._uid];o&&(o.observer.unobserve(e),delete e._observe[n.context._uid])}const r={inserted:i,unbind:o};t["a"]=r},"90d8":function(e,t,n){var i=n("c65b"),o=n("1a2d"),r=n("3a9b"),s=n("ad6d"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||o(e,"flags")||!r(a,e)?t:i(s,e)}},"90e3":function(e,t,n){var i=n("e330"),o=0,r=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+r,36)}},9112:function(e,t,n){var i=n("83ab"),o=n("9bf2"),r=n("5c6c");e.exports=i?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},9152:function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,i,o){var r,s,a=8*o-i-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?o-1:0,d=n?-1:1,p=e[t+h];for(h+=d,r=p&(1<<-c)-1,p>>=-c,c+=a;c>0;r=256*r+e[t+h],h+=d,c-=8);for(s=r&(1<<-c)-1,r>>=-c,c+=i;c>0;s=256*s+e[t+h],h+=d,c-=8);if(0===r)r=1-u;else{if(r===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),r-=u}return(p?-1:1)*s*Math.pow(2,r-i)},t.write=function(e,t,n,i,o,r){var s,a,l,u=8*r-o-1,c=(1<<u)-1,h=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(t*l-1)*Math.pow(2,o),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=f,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+p]=255&s,p+=f,s/=256,u-=8);e[n+p-f]|=128*g}},"922c":function(e,t,n){"use strict";function i(e,t){var n,i,o,r,s,a=[],l=t.length;for(n=0;n<l;n++)o=t[n],126===o.marker&&-1!==o.end&&(r=t[o.end],s=e.tokens[o.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=e.tokens[r.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="","text"===e.tokens[r.token-1].type&&"~"===e.tokens[r.token-1].content&&a.push(r.token-1));while(a.length){n=a.pop(),i=n+1;while(i<e.tokens.length&&"s_close"===e.tokens[i].type)i++;i--,n!==i&&(s=e.tokens[i],e.tokens[i]=e.tokens[n],e.tokens[n]=s)}}e.exports.tokenize=function(e,t){var n,i,o,r,s,a=e.pos,l=e.src.charCodeAt(a);if(t)return!1;if(126!==l)return!1;if(i=e.scanDelims(e.pos,!0),r=i.length,s=String.fromCharCode(l),r<2)return!1;for(r%2&&(o=e.push("text","",0),o.content=s,r--),n=0;n<r;n+=2)o=e.push("text","",0),o.content=s+s,e.delimiters.push({marker:l,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(i(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&i(e,n[t].delimiters)}},"930f":function(e,t,n){},"932d":function(e,t,n){"use strict";var i=n("0068").normalizeReference,o=n("0068").isSpace;e.exports=function(e,t){var n,r,s,a,l,u,c,h,d,p,f,g,m,_="",v=e.pos,y=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,l=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),l<0)return!1;if(c=l+1,c<y&&40===e.src.charCodeAt(c)){for(c++;c<y;c++)if(r=e.src.charCodeAt(c),!o(r)&&10!==r)break;if(c>=y)return!1;for(m=c,d=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),d.ok&&(_=e.md.normalizeLink(d.str),e.md.validateLink(_)?c=d.pos:_=""),m=c;c<y;c++)if(r=e.src.charCodeAt(c),!o(r)&&10!==r)break;if(d=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<y&&m!==c&&d.ok){for(p=d.str,c=d.pos;c<y;c++)if(r=e.src.charCodeAt(c),!o(r)&&10!==r)break}else p="";if(c>=y||41!==e.src.charCodeAt(c))return e.pos=v,!1;c++}else{if("undefined"===typeof e.env.references)return!1;if(c<y&&91===e.src.charCodeAt(c)?(m=c+1,c=e.md.helpers.parseLinkLabel(e,c),c>=0?a=e.src.slice(m,c++):c=l+1):c=l+1,a||(a=e.src.slice(u,l)),h=e.env.references[i(a)],!h)return e.pos=v,!1;_=h.href,p=h.title}return t||(s=e.src.slice(u,l),e.md.inline.parse(s,e.md,e.env,g=[]),f=e.push("image","img",0),f.attrs=n=[["src",_],["alt",""]],f.children=g,f.content=s,p&&n.push(["title",p])),e.pos=c,e.posMax=y,!0}},"94a7":function(e,t,n){},"94ca":function(e,t,n){var i=n("d039"),o=n("1626"),r=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==c||n!=u&&(o(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},"95ed":function(e,t,n){},"96b9":function(e,t,n){},9921:function(e,t,n){"use strict";var i=n("0068").arrayReplaceAt;function o(e){return/^<a[>\s]/i.test(e)}function r(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,s,a,l,u,c,h,d,p,f,g,m,_,v,y,b,w=e.tokens;if(e.md.options.linkify)for(n=0,s=w.length;n<s;n++)if("inline"===w[n].type&&e.md.linkify.pretest(w[n].content))for(a=w[n].children,m=0,t=a.length-1;t>=0;t--)if(u=a[t],"link_close"!==u.type){if("html_inline"===u.type&&(o(u.content)&&m>0&&m--,r(u.content)&&m++),!(m>0)&&"text"===u.type&&e.md.linkify.test(u.content)){for(d=u.content,b=e.md.linkify.match(d),c=[],g=u.level,f=0,h=0;h<b.length;h++)_=b[h].url,v=e.md.normalizeLink(_),e.md.validateLink(v)&&(y=b[h].text,y=b[h].schema?"mailto:"!==b[h].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),p=b[h].index,p>f&&(l=new e.Token("text","",0),l.content=d.slice(f,p),l.level=g,c.push(l)),l=new e.Token("link_open","a",1),l.attrs=[["href",v]],l.level=g++,l.markup="linkify",l.info="auto",c.push(l),l=new e.Token("text","",0),l.content=y,l.level=g,c.push(l),l=new e.Token("link_close","a",-1),l.level=--g,l.markup="linkify",l.info="auto",c.push(l),f=b[h].lastIndex);f<d.length&&(l=new e.Token("text","",0),l.content=d.slice(f),l.level=g,c.push(l)),w[n].children=a=i(a,t,c)}}else{t--;while(a[t].level!==u.level&&"link_open"!==a[t].type)t--}}},"997e":function(e,t){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean},"99d9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return l}));var i=n("b0af"),o=n("80d2");const r=Object(o["h"])("v-card__actions"),s=Object(o["h"])("v-card__subtitle"),a=Object(o["h"])("v-card__text"),l=Object(o["h"])("v-card__title");i["a"]},"9a96":function(e,t,n){"use strict";var i=n("a9ad"),o=n("58df");t["a"]=Object(o["a"])(i["a"]).extend({name:"v-tabs-slider",render(e){return e("div",this.setBackgroundColor(this.color,{staticClass:"v-tabs-slider"}))}})},"9bf2":function(e,t,n){var i=n("83ab"),o=n("0cfb"),r=n("aed9"),s=n("825a"),a=n("a04b"),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";t.f=i?r?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var i=c(e,t);i&&i[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),o)try{return u(e,t,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9c12":function(e,t,n){"use strict";e.exports=function(e,t,n){var i,o,r;if(e.sCount[t]-e.blkIndent<4)return!1;o=i=t+1;while(i<n)if(e.isEmpty(i))i++;else{if(!(e.sCount[i]-e.blkIndent>=4))break;i++,o=i}return e.line=o,r=e.push("code_block","code",0),r.content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",r.map=[t,e.line],!0}},"9c54":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("80d2"),o=n("7e85"),r=n("56a4"),s=n("0789"),a=n("3206"),l=n("58df");const u=Object(l["a"])(Object(a["a"])("stepper","v-stepper-content","v-stepper"));var c=u.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition(){const e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?s["c"]:s["d"]},styles(){return this.isVertical?{height:Object(i["g"])(this.height)}:{}}},watch:{isActive(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter(){let e=0;requestAnimationFrame(()=>{e=this.$refs.wrapper.scrollHeight}),this.height=0,setTimeout(()=>this.isActive&&(this.height=e||"auto"),450)},leave(){this.height=this.$refs.wrapper.clientHeight,setTimeout(()=>this.height=0,10)},toggle(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render(e){const t={staticClass:"v-stepper__content"},n={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);const i=e("div",n,[this.$slots.default]),o=e("div",t,[i]);return e(this.computedTransition,{on:this.$listeners},[o])}});const h=Object(i["h"])("v-stepper__header"),d=Object(i["h"])("v-stepper__items");o["a"],r["a"]},"9d22":function(e,t){!function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n="\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b".replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp("(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+".replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp('(\\b(?:import|module)\\s+)(?:"(?:\\\\(?:\r\n|[^])|[^"\\\\\r\n])*"|<[^<>\r\n]*>|'+"<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>".replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism)},"9d26":function(e,t,n){"use strict";var i=n("132d");t["a"]=i["a"]},"9d65":function(e,t,n){"use strict";var i=n("d9bd"),o=n("2b0e");t["a"]=o["a"].extend().extend({name:"bootable",props:{eager:Boolean},data:()=>({isBooted:!1}),computed:{hasContent(){return this.isBooted||this.eager||this.isActive}},watch:{isActive(){this.isBooted=!0}},created(){"lazy"in this.$attrs&&Object(i["e"])("lazy",this)},methods:{showLazyContent(e){return this.hasContent&&e?e():[this.$createElement()]}}})},"9e7e":function(e,t,n){},a04b:function(e,t,n){var i=n("c04e"),o=n("d9b5");e.exports=function(e){var t=i(e,"string");return o(t)?t:t+""}},a124:function(e,t,n){"use strict";e.exports=function(e){var t,n,i,o=e.tokens;for(n=0,i=o.length;n<i;n++)t=o[n],"inline"===t.type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},a452:function(e,t,n){"use strict";var i=n("2b0e");function o(e="value",t="change"){return i["a"].extend({name:"proxyable",model:{prop:e,event:t},props:{[e]:{required:!1}},data(){return{internalLazyValue:this[e]}},computed:{internalValue:{get(){return this.internalLazyValue},set(e){e!==this.internalLazyValue&&(this.internalLazyValue=e,this.$emit(t,e))}}},watch:{[e](e){this.internalLazyValue=e}}})}const r=o();t["a"]=r},a523:function(e,t,n){"use strict";n("20f6"),n("4b85");var i=n("2b0e");function o(e){return i["a"].extend({name:"v-"+e,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(t,{props:n,data:i,children:o}){i.staticClass=`${e} ${i.staticClass||""}`.trim();const{attrs:r}=i;if(r){i.attrs={};const e=Object.keys(r).filter(e=>{if("slot"===e)return!1;const t=r[e];return e.startsWith("data-")?(i.attrs[e]=t,!1):t||"string"===typeof t});e.length&&(i.staticClass+=" "+e.join(" "))}return n.id&&(i.domProps=i.domProps||{},i.domProps.id=n.id),t(n.tag,i,o)}})}var r=n("d9f7");t["a"]=o("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(e,{props:t,data:n,children:i}){let o;const{attrs:s}=n;return s&&(n.attrs={},o=Object.keys(s).filter(e=>{if("slot"===e)return!1;const t=s[e];return e.startsWith("data-")?(n.attrs[e]=t,!1):t||"string"===typeof t})),t.id&&(n.domProps=n.domProps||{},n.domProps.id=t.id),e(t.tag,Object(r["a"])(n,{staticClass:"container",class:Array({"container--fluid":t.fluid}).concat(o||[])}),i)}})},a640:function(e,t,n){"use strict";var i=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},a7bc:function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},a844:function(e,t,n){"use strict";n("1681"),n("14d9"),n("3c65"),n("4ff9");var i=n("c37a"),o=(n("e9b1"),n("7560")),r=n("58df"),s=Object(r["a"])(o["a"]).extend({name:"v-counter",functional:!0,props:{value:{type:[Number,String],default:""},max:[Number,String]},render(e,t){const{props:n}=t,i=parseInt(n.max,10),r=parseInt(n.value,10),s=i?`${r} / ${i}`:String(n.value),a=i&&r>i;return e("div",{staticClass:"v-counter",class:{"error--text":a,...Object(o["b"])(t)}},s)}}),a=s,l=n("ba87"),u=n("90a2"),c=n("d9bd"),h=n("2b0e");function d(e){return h["a"].extend({name:"intersectable",data:()=>({isIntersecting:!1}),mounted(){u["a"].inserted(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},destroyed(){u["a"].unbind(this.$el,{name:"intersect",value:this.onObserve},this.$vnode)},methods:{onObserve(t,n,i){if(this.isIntersecting=i,i)for(let o=0,r=e.onVisible.length;o<r;o++){const t=this[e.onVisible[o]];"function"!==typeof t?Object(c["c"])(e.onVisible[o]+" method is not available on the instance but referenced in intersectable mixin options"):t()}}}})}var p=n("297c"),f=n("38cb"),g=n("dc22"),m=n("5607"),_=n("dd89"),v=n("80d2");const y=Object(r["a"])(i["a"],d({onVisible:["onResize","tryAutofocus"]}),p["a"]),b=["color","file","time","date","datetime-local","week","month"];var w=y.extend().extend({name:"v-text-field",directives:{resize:g["a"],ripple:m["a"]},inheritAttrs:!1,props:{appendOuterIcon:String,autofocus:Boolean,clearable:Boolean,clearIcon:{type:String,default:"$clear"},counter:[Boolean,Number,String],counterValue:Function,filled:Boolean,flat:Boolean,fullWidth:Boolean,label:String,outlined:Boolean,placeholder:String,prefix:String,prependInnerIcon:String,persistentPlaceholder:Boolean,reverse:Boolean,rounded:Boolean,shaped:Boolean,singleLine:Boolean,solo:Boolean,soloInverted:Boolean,suffix:String,type:{type:String,default:"text"}},data:()=>({badInput:!1,labelWidth:0,prefixWidth:0,prependWidth:0,initialValue:null,isBooted:!1,isClearing:!1}),computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-text-field":!0,"v-text-field--full-width":this.fullWidth,"v-text-field--prefix":this.prefix,"v-text-field--single-line":this.isSingle,"v-text-field--solo":this.isSolo,"v-text-field--solo-inverted":this.soloInverted,"v-text-field--solo-flat":this.flat,"v-text-field--filled":this.filled,"v-text-field--is-booted":this.isBooted,"v-text-field--enclosed":this.isEnclosed,"v-text-field--reverse":this.reverse,"v-text-field--outlined":this.outlined,"v-text-field--placeholder":this.placeholder,"v-text-field--rounded":this.rounded,"v-text-field--shaped":this.shaped}},computedColor(){const e=f["a"].options.computed.computedColor.call(this);return this.soloInverted&&this.isFocused?this.color||"primary":e},computedCounterValue(){return"function"===typeof this.counterValue?this.counterValue(this.internalValue):[...(this.internalValue||"").toString()].length},hasCounter(){return!1!==this.counter&&null!=this.counter},hasDetails(){return i["a"].options.computed.hasDetails.call(this)||this.hasCounter},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit("input",this.lazyValue)}},isDirty(){var e;return(null===(e=this.lazyValue)||void 0===e?void 0:e.toString().length)>0||this.badInput},isEnclosed(){return this.filled||this.isSolo||this.outlined},isLabelActive(){return this.isDirty||b.includes(this.type)},isSingle(){return this.isSolo||this.singleLine||this.fullWidth||this.filled&&!this.hasLabel},isSolo(){return this.solo||this.soloInverted},labelPosition(){let e=this.prefix&&!this.labelValue?this.prefixWidth:0;return this.labelValue&&this.prependWidth&&(e-=this.prependWidth),this.$vuetify.rtl===this.reverse?{left:e,right:"auto"}:{left:"auto",right:e}},showLabel(){return this.hasLabel&&!(this.isSingle&&this.labelValue)},labelValue(){return this.isFocused||this.isLabelActive||this.persistentPlaceholder}},watch:{outlined:"setLabelWidth",label(){this.$nextTick(this.setLabelWidth)},prefix(){this.$nextTick(this.setPrefixWidth)},isFocused:"updateValue",value(e){this.lazyValue=e}},created(){this.$attrs.hasOwnProperty("box")&&Object(c["a"])("box","filled",this),this.$attrs.hasOwnProperty("browser-autocomplete")&&Object(c["a"])("browser-autocomplete","autocomplete",this),this.shaped&&!(this.filled||this.outlined||this.isSolo)&&Object(c["c"])("shaped should be used with either filled or outlined",this)},mounted(){this.$watch(()=>this.labelValue,this.setLabelWidth),this.autofocus&&this.tryAutofocus(),requestAnimationFrame(()=>{this.isBooted=!0,requestAnimationFrame(()=>{this.isIntersecting||this.onResize()})})},methods:{focus(){this.onFocus()},blur(e){window.requestAnimationFrame(()=>{this.$refs.input&&this.$refs.input.blur()})},clearableCallback(){this.$refs.input&&this.$refs.input.focus(),this.$nextTick(()=>this.internalValue=null)},genAppendSlot(){const e=[];return this.$slots["append-outer"]?e.push(this.$slots["append-outer"]):this.appendOuterIcon&&e.push(this.genIcon("appendOuter")),this.genSlot("append","outer",e)},genPrependInnerSlot(){const e=[];return this.$slots["prepend-inner"]?e.push(this.$slots["prepend-inner"]):this.prependInnerIcon&&e.push(this.genIcon("prependInner")),this.genSlot("prepend","inner",e)},genIconSlot(){const e=[];return this.$slots.append?e.push(this.$slots.append):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","inner",e)},genInputSlot(){const e=i["a"].options.methods.genInputSlot.call(this),t=this.genPrependInnerSlot();return t&&(e.children=e.children||[],e.children.unshift(t)),e},genClearIcon(){return this.clearable?this.isDirty?this.genSlot("append","inner",[this.genIcon("clear",this.clearableCallback)]):this.genSlot("append","inner",[this.$createElement("div")]):null},genCounter(){var e,t,n;if(!this.hasCounter)return null;const i=!0===this.counter?this.attrs$.maxlength:this.counter,o={dark:this.dark,light:this.light,max:i,value:this.computedCounterValue};return null!==(n=null===(t=(e=this.$scopedSlots).counter)||void 0===t?void 0:t.call(e,{props:o}))&&void 0!==n?n:this.$createElement(a,{props:o})},genControl(){return i["a"].options.methods.genControl.call(this)},genDefaultSlot(){return[this.genFieldset(),this.genTextFieldSlot(),this.genClearIcon(),this.genIconSlot(),this.genProgress()]},genFieldset(){return this.outlined?this.$createElement("fieldset",{attrs:{"aria-hidden":!0}},[this.genLegend()]):null},genLabel(){if(!this.showLabel)return null;const e={props:{absolute:!0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:!this.isSingle&&(this.isFocused||!!this.validationState),for:this.computedId,left:this.labelPosition.left,light:this.light,right:this.labelPosition.right,value:this.labelValue}};return this.$createElement(l["a"],e,this.$slots.label||this.label)},genLegend(){const e=this.singleLine||!this.labelValue&&!this.isDirty?0:this.labelWidth,t=this.$createElement("span",{domProps:{innerHTML:"&#8203;"},staticClass:"notranslate"});return this.$createElement("legend",{style:{width:this.isSingle?void 0:Object(v["g"])(e)}},[t])},genInput(){const e=Object.assign({},this.listeners$);delete e.change;const{title:t,...n}=this.attrs$;return this.$createElement("input",{style:{},domProps:{value:"number"===this.type&&Object.is(this.lazyValue,-0)?"-0":this.lazyValue},attrs:{...n,autofocus:this.autofocus,disabled:this.isDisabled,id:this.computedId,placeholder:this.persistentPlaceholder||this.isFocused||!this.hasLabel?this.placeholder:void 0,readonly:this.isReadonly,type:this.type},on:Object.assign(e,{blur:this.onBlur,input:this.onInput,focus:this.onFocus,keydown:this.onKeyDown}),ref:"input",directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]})},genMessages(){if(!this.showDetails)return null;const e=i["a"].options.methods.genMessages.call(this),t=this.genCounter();return this.$createElement("div",{staticClass:"v-text-field__details"},[e,t])},genTextFieldSlot(){return this.$createElement("div",{staticClass:"v-text-field__slot"},[this.genLabel(),this.prefix?this.genAffix("prefix"):null,this.genInput(),this.suffix?this.genAffix("suffix"):null])},genAffix(e){return this.$createElement("div",{class:"v-text-field__"+e,ref:e},this[e])},onBlur(e){this.isFocused=!1,e&&this.$nextTick(()=>this.$emit("blur",e))},onClick(){this.isFocused||this.isDisabled||!this.$refs.input||this.$refs.input.focus()},onFocus(e){if(!this.$refs.input)return;const t=Object(_["a"])(this.$el);return t?t.activeElement!==this.$refs.input?this.$refs.input.focus():void(this.isFocused||(this.isFocused=!0,e&&this.$emit("focus",e))):void 0},onInput(e){const t=e.target;this.internalValue=t.value,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){e.keyCode===v["q"].enter&&this.lazyValue!==this.initialValue&&(this.initialValue=this.lazyValue,this.$emit("change",this.initialValue)),this.$emit("keydown",e)},onMouseDown(e){e.target!==this.$refs.input&&(e.preventDefault(),e.stopPropagation()),i["a"].options.methods.onMouseDown.call(this,e)},onMouseUp(e){this.hasMouseDown&&this.focus(),i["a"].options.methods.onMouseUp.call(this,e)},setLabelWidth(){this.outlined&&(this.labelWidth=this.$refs.label?Math.min(.75*this.$refs.label.scrollWidth+6,this.$el.offsetWidth-24):0)},setPrefixWidth(){this.$refs.prefix&&(this.prefixWidth=this.$refs.prefix.offsetWidth)},setPrependWidth(){this.outlined&&this.$refs["prepend-inner"]&&(this.prependWidth=this.$refs["prepend-inner"].offsetWidth)},tryAutofocus(){if(!this.autofocus||"undefined"===typeof document||!this.$refs.input)return!1;const e=Object(_["a"])(this.$el);return!(!e||e.activeElement===this.$refs.input)&&(this.$refs.input.focus(),!0)},updateValue(e){this.hasColor=e,e?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)},onResize(){this.setLabelWidth(),this.setPrefixWidth(),this.setPrependWidth()}}});const C=Object(r["a"])(w);t["a"]=C.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:e=>!isNaN(parseFloat(e))},rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseInt(e,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...w.options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(e){this.$nextTick(()=>{var t;e?this.calculateInputHeight():null===(t=this.$refs.input)||void 0===t||t.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const e=this.$refs.input;if(!e)return;e.style.height="0";const t=e.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(n,t)+"px"},genInput(){const e=w.options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput(e){w.options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},a878:function(e,t,n){},a87d:function(e,t,n){},a884:function(e,t,n){var i,o,r;(function(n,s){o=[],i=s,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(){"use strict";var e=e||{Msg:Object.create(null)};return e.Msg["ADD_COMMENT"]="Add Comment",e.Msg["CANNOT_DELETE_VARIABLE_PROCEDURE"]="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg["CHANGE_VALUE_TITLE"]="Change value:",e.Msg["CLEAN_UP"]="Clean up Blocks",e.Msg["COLLAPSED_WARNINGS_WARNING"]="Collapsed blocks contain warnings.",e.Msg["COLLAPSE_ALL"]="Collapse Blocks",e.Msg["COLLAPSE_BLOCK"]="Collapse Block",e.Msg["COLOUR_BLEND_COLOUR1"]="colour 1",e.Msg["COLOUR_BLEND_COLOUR2"]="colour 2",e.Msg["COLOUR_BLEND_HELPURL"]="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg["COLOUR_BLEND_RATIO"]="ratio",e.Msg["COLOUR_BLEND_TITLE"]="blend",e.Msg["COLOUR_BLEND_TOOLTIP"]="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg["COLOUR_PICKER_HELPURL"]="https://en.wikipedia.org/wiki/Color",e.Msg["COLOUR_PICKER_TOOLTIP"]="Choose a colour from the palette.",e.Msg["COLOUR_RANDOM_HELPURL"]="http://randomcolour.com",e.Msg["COLOUR_RANDOM_TITLE"]="random colour",e.Msg["COLOUR_RANDOM_TOOLTIP"]="Choose a colour at random.",e.Msg["COLOUR_RGB_BLUE"]="blue",e.Msg["COLOUR_RGB_GREEN"]="green",e.Msg["COLOUR_RGB_HELPURL"]="https://www.december.com/html/spec/colorpercompact.html",e.Msg["COLOUR_RGB_RED"]="red",e.Msg["COLOUR_RGB_TITLE"]="colour with",e.Msg["COLOUR_RGB_TOOLTIP"]="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg["CONTROLS_FLOW_STATEMENTS_HELPURL"]="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg["CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK"]="break out of loop",e.Msg["CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE"]="continue with next iteration of loop",e.Msg["CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK"]="Break out of the containing loop.",e.Msg["CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE"]="Skip the rest of this loop, and continue with the next iteration.",e.Msg["CONTROLS_FLOW_STATEMENTS_WARNING"]="Warning: This block may only be used within a loop.",e.Msg["CONTROLS_FOREACH_HELPURL"]="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg["CONTROLS_FOREACH_TITLE"]="for each item %1 in list %2",e.Msg["CONTROLS_FOREACH_TOOLTIP"]="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg["CONTROLS_FOR_HELPURL"]="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg["CONTROLS_FOR_TITLE"]="count with %1 from %2 to %3 by %4",e.Msg["CONTROLS_FOR_TOOLTIP"]="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg["CONTROLS_IF_ELSEIF_TOOLTIP"]="Add a condition to the if block.",e.Msg["CONTROLS_IF_ELSE_TOOLTIP"]="Add a final, catch-all condition to the if block.",e.Msg["CONTROLS_IF_HELPURL"]="https://github.com/google/blockly/wiki/IfElse",e.Msg["CONTROLS_IF_IF_TOOLTIP"]="Add, remove, or reorder sections to reconfigure this if block.",e.Msg["CONTROLS_IF_MSG_ELSE"]="else",e.Msg["CONTROLS_IF_MSG_ELSEIF"]="else if",e.Msg["CONTROLS_IF_MSG_IF"]="if",e.Msg["CONTROLS_IF_TOOLTIP_1"]="If a value is true, then do some statements.",e.Msg["CONTROLS_IF_TOOLTIP_2"]="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg["CONTROLS_IF_TOOLTIP_3"]="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg["CONTROLS_IF_TOOLTIP_4"]="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg["CONTROLS_REPEAT_HELPURL"]="https://en.wikipedia.org/wiki/For_loop",e.Msg["CONTROLS_REPEAT_INPUT_DO"]="do",e.Msg["CONTROLS_REPEAT_TITLE"]="repeat %1 times",e.Msg["CONTROLS_REPEAT_TOOLTIP"]="Do some statements several times.",e.Msg["CONTROLS_WHILEUNTIL_HELPURL"]="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg["CONTROLS_WHILEUNTIL_OPERATOR_UNTIL"]="repeat until",e.Msg["CONTROLS_WHILEUNTIL_OPERATOR_WHILE"]="repeat while",e.Msg["CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL"]="While a value is false, then do some statements.",e.Msg["CONTROLS_WHILEUNTIL_TOOLTIP_WHILE"]="While a value is true, then do some statements.",e.Msg["DELETE_ALL_BLOCKS"]="Delete all %1 blocks?",e.Msg["DELETE_BLOCK"]="Delete Block",e.Msg["DELETE_VARIABLE"]="Delete the '%1' variable",e.Msg["DELETE_VARIABLE_CONFIRMATION"]="Delete %1 uses of the '%2' variable?",e.Msg["DELETE_X_BLOCKS"]="Delete %1 Blocks",e.Msg["DIALOG_CANCEL"]="Cancel",e.Msg["DIALOG_OK"]="OK",e.Msg["DISABLE_BLOCK"]="Disable Block",e.Msg["DUPLICATE_BLOCK"]="Duplicate",e.Msg["DUPLICATE_COMMENT"]="Duplicate Comment",e.Msg["ENABLE_BLOCK"]="Enable Block",e.Msg["EXPAND_ALL"]="Expand Blocks",e.Msg["EXPAND_BLOCK"]="Expand Block",e.Msg["EXTERNAL_INPUTS"]="External Inputs",e.Msg["HELP"]="Help",e.Msg["INLINE_INPUTS"]="Inline Inputs",e.Msg["LISTS_CREATE_EMPTY_HELPURL"]="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg["LISTS_CREATE_EMPTY_TITLE"]="create empty list",e.Msg["LISTS_CREATE_EMPTY_TOOLTIP"]="Returns a list, of length 0, containing no data records",e.Msg["LISTS_CREATE_WITH_CONTAINER_TITLE_ADD"]="list",e.Msg["LISTS_CREATE_WITH_CONTAINER_TOOLTIP"]="Add, remove, or reorder sections to reconfigure this list block.",e.Msg["LISTS_CREATE_WITH_HELPURL"]="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg["LISTS_CREATE_WITH_INPUT_WITH"]="create list with",e.Msg["LISTS_CREATE_WITH_ITEM_TOOLTIP"]="Add an item to the list.",e.Msg["LISTS_CREATE_WITH_TOOLTIP"]="Create a list with any number of items.",e.Msg["LISTS_GET_INDEX_FIRST"]="first",e.Msg["LISTS_GET_INDEX_FROM_END"]="# from end",e.Msg["LISTS_GET_INDEX_FROM_START"]="#",e.Msg["LISTS_GET_INDEX_GET"]="get",e.Msg["LISTS_GET_INDEX_GET_REMOVE"]="get and remove",e.Msg["LISTS_GET_INDEX_LAST"]="last",e.Msg["LISTS_GET_INDEX_RANDOM"]="random",e.Msg["LISTS_GET_INDEX_REMOVE"]="remove",e.Msg["LISTS_GET_INDEX_TAIL"]="",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_FIRST"]="Returns the first item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_FROM"]="Returns the item at the specified position in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_LAST"]="Returns the last item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_RANDOM"]="Returns a random item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST"]="Removes and returns the first item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM"]="Removes and returns the item at the specified position in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST"]="Removes and returns the last item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM"]="Removes and returns a random item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST"]="Removes the first item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM"]="Removes the item at the specified position in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST"]="Removes the last item in a list.",e.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM"]="Removes a random item in a list.",e.Msg["LISTS_GET_SUBLIST_END_FROM_END"]="to # from end",e.Msg["LISTS_GET_SUBLIST_END_FROM_START"]="to #",e.Msg["LISTS_GET_SUBLIST_END_LAST"]="to last",e.Msg["LISTS_GET_SUBLIST_HELPURL"]="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg["LISTS_GET_SUBLIST_START_FIRST"]="get sub-list from first",e.Msg["LISTS_GET_SUBLIST_START_FROM_END"]="get sub-list from # from end",e.Msg["LISTS_GET_SUBLIST_START_FROM_START"]="get sub-list from #",e.Msg["LISTS_GET_SUBLIST_TAIL"]="",e.Msg["LISTS_GET_SUBLIST_TOOLTIP"]="Creates a copy of the specified portion of a list.",e.Msg["LISTS_INDEX_FROM_END_TOOLTIP"]="%1 is the last item.",e.Msg["LISTS_INDEX_FROM_START_TOOLTIP"]="%1 is the first item.",e.Msg["LISTS_INDEX_OF_FIRST"]="find first occurrence of item",e.Msg["LISTS_INDEX_OF_HELPURL"]="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg["LISTS_INDEX_OF_LAST"]="find last occurrence of item",e.Msg["LISTS_INDEX_OF_TOOLTIP"]="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg["LISTS_INLIST"]="in list",e.Msg["LISTS_ISEMPTY_HELPURL"]="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg["LISTS_ISEMPTY_TITLE"]="%1 is empty",e.Msg["LISTS_ISEMPTY_TOOLTIP"]="Returns true if the list is empty.",e.Msg["LISTS_LENGTH_HELPURL"]="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg["LISTS_LENGTH_TITLE"]="length of %1",e.Msg["LISTS_LENGTH_TOOLTIP"]="Returns the length of a list.",e.Msg["LISTS_REPEAT_HELPURL"]="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg["LISTS_REPEAT_TITLE"]="create list with item %1 repeated %2 times",e.Msg["LISTS_REPEAT_TOOLTIP"]="Creates a list consisting of the given value repeated the specified number of times.",e.Msg["LISTS_REVERSE_HELPURL"]="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg["LISTS_REVERSE_MESSAGE0"]="reverse %1",e.Msg["LISTS_REVERSE_TOOLTIP"]="Reverse a copy of a list.",e.Msg["LISTS_SET_INDEX_HELPURL"]="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg["LISTS_SET_INDEX_INPUT_TO"]="as",e.Msg["LISTS_SET_INDEX_INSERT"]="insert at",e.Msg["LISTS_SET_INDEX_SET"]="set",e.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST"]="Inserts the item at the start of a list.",e.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_FROM"]="Inserts the item at the specified position in a list.",e.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_LAST"]="Append the item to the end of a list.",e.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM"]="Inserts the item randomly in a list.",e.Msg["LISTS_SET_INDEX_TOOLTIP_SET_FIRST"]="Sets the first item in a list.",e.Msg["LISTS_SET_INDEX_TOOLTIP_SET_FROM"]="Sets the item at the specified position in a list.",e.Msg["LISTS_SET_INDEX_TOOLTIP_SET_LAST"]="Sets the last item in a list.",e.Msg["LISTS_SET_INDEX_TOOLTIP_SET_RANDOM"]="Sets a random item in a list.",e.Msg["LISTS_SORT_HELPURL"]="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg["LISTS_SORT_ORDER_ASCENDING"]="ascending",e.Msg["LISTS_SORT_ORDER_DESCENDING"]="descending",e.Msg["LISTS_SORT_TITLE"]="sort %1 %2 %3",e.Msg["LISTS_SORT_TOOLTIP"]="Sort a copy of a list.",e.Msg["LISTS_SORT_TYPE_IGNORECASE"]="alphabetic, ignore case",e.Msg["LISTS_SORT_TYPE_NUMERIC"]="numeric",e.Msg["LISTS_SORT_TYPE_TEXT"]="alphabetic",e.Msg["LISTS_SPLIT_HELPURL"]="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg["LISTS_SPLIT_LIST_FROM_TEXT"]="make list from text",e.Msg["LISTS_SPLIT_TEXT_FROM_LIST"]="make text from list",e.Msg["LISTS_SPLIT_TOOLTIP_JOIN"]="Join a list of texts into one text, separated by a delimiter.",e.Msg["LISTS_SPLIT_TOOLTIP_SPLIT"]="Split text into a list of texts, breaking at each delimiter.",e.Msg["LISTS_SPLIT_WITH_DELIMITER"]="with delimiter",e.Msg["LOGIC_BOOLEAN_FALSE"]="false",e.Msg["LOGIC_BOOLEAN_HELPURL"]="https://github.com/google/blockly/wiki/Logic#values",e.Msg["LOGIC_BOOLEAN_TOOLTIP"]="Returns either true or false.",e.Msg["LOGIC_BOOLEAN_TRUE"]="true",e.Msg["LOGIC_COMPARE_HELPURL"]="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg["LOGIC_COMPARE_TOOLTIP_EQ"]="Return true if both inputs equal each other.",e.Msg["LOGIC_COMPARE_TOOLTIP_GT"]="Return true if the first input is greater than the second input.",e.Msg["LOGIC_COMPARE_TOOLTIP_GTE"]="Return true if the first input is greater than or equal to the second input.",e.Msg["LOGIC_COMPARE_TOOLTIP_LT"]="Return true if the first input is smaller than the second input.",e.Msg["LOGIC_COMPARE_TOOLTIP_LTE"]="Return true if the first input is smaller than or equal to the second input.",e.Msg["LOGIC_COMPARE_TOOLTIP_NEQ"]="Return true if both inputs are not equal to each other.",e.Msg["LOGIC_NEGATE_HELPURL"]="https://github.com/google/blockly/wiki/Logic#not",e.Msg["LOGIC_NEGATE_TITLE"]="not %1",e.Msg["LOGIC_NEGATE_TOOLTIP"]="Returns true if the input is false. Returns false if the input is true.",e.Msg["LOGIC_NULL"]="null",e.Msg["LOGIC_NULL_HELPURL"]="https://en.wikipedia.org/wiki/Nullable_type",e.Msg["LOGIC_NULL_TOOLTIP"]="Returns null.",e.Msg["LOGIC_OPERATION_AND"]="and",e.Msg["LOGIC_OPERATION_HELPURL"]="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg["LOGIC_OPERATION_OR"]="or",e.Msg["LOGIC_OPERATION_TOOLTIP_AND"]="Return true if both inputs are true.",e.Msg["LOGIC_OPERATION_TOOLTIP_OR"]="Return true if at least one of the inputs is true.",e.Msg["LOGIC_TERNARY_CONDITION"]="test",e.Msg["LOGIC_TERNARY_HELPURL"]="https://en.wikipedia.org/wiki/%3F:",e.Msg["LOGIC_TERNARY_IF_FALSE"]="if false",e.Msg["LOGIC_TERNARY_IF_TRUE"]="if true",e.Msg["LOGIC_TERNARY_TOOLTIP"]="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg["MATH_ADDITION_SYMBOL"]="+",e.Msg["MATH_ARITHMETIC_HELPURL"]="https://en.wikipedia.org/wiki/Arithmetic",e.Msg["MATH_ARITHMETIC_TOOLTIP_ADD"]="Return the sum of the two numbers.",e.Msg["MATH_ARITHMETIC_TOOLTIP_DIVIDE"]="Return the quotient of the two numbers.",e.Msg["MATH_ARITHMETIC_TOOLTIP_MINUS"]="Return the difference of the two numbers.",e.Msg["MATH_ARITHMETIC_TOOLTIP_MULTIPLY"]="Return the product of the two numbers.",e.Msg["MATH_ARITHMETIC_TOOLTIP_POWER"]="Return the first number raised to the power of the second number.",e.Msg["MATH_ATAN2_HELPURL"]="https://en.wikipedia.org/wiki/Atan2",e.Msg["MATH_ATAN2_TITLE"]="atan2 of X:%1 Y:%2",e.Msg["MATH_ATAN2_TOOLTIP"]="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg["MATH_CHANGE_HELPURL"]="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg["MATH_CHANGE_TITLE"]="change %1 by %2",e.Msg["MATH_CHANGE_TOOLTIP"]="Add a number to variable '%1'.",e.Msg["MATH_CONSTANT_HELPURL"]="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg["MATH_CONSTANT_TOOLTIP"]="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",e.Msg["MATH_CONSTRAIN_HELPURL"]="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg["MATH_CONSTRAIN_TITLE"]="constrain %1 low %2 high %3",e.Msg["MATH_CONSTRAIN_TOOLTIP"]="Constrain a number to be between the specified limits (inclusive).",e.Msg["MATH_DIVISION_SYMBOL"]="÷",e.Msg["MATH_IS_DIVISIBLE_BY"]="is divisible by",e.Msg["MATH_IS_EVEN"]="is even",e.Msg["MATH_IS_NEGATIVE"]="is negative",e.Msg["MATH_IS_ODD"]="is odd",e.Msg["MATH_IS_POSITIVE"]="is positive",e.Msg["MATH_IS_PRIME"]="is prime",e.Msg["MATH_IS_TOOLTIP"]="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg["MATH_IS_WHOLE"]="is whole",e.Msg["MATH_MODULO_HELPURL"]="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg["MATH_MODULO_TITLE"]="remainder of %1 ÷ %2",e.Msg["MATH_MODULO_TOOLTIP"]="Return the remainder from dividing the two numbers.",e.Msg["MATH_MULTIPLICATION_SYMBOL"]="×",e.Msg["MATH_NUMBER_HELPURL"]="https://en.wikipedia.org/wiki/Number",e.Msg["MATH_NUMBER_TOOLTIP"]="A number.",e.Msg["MATH_ONLIST_HELPURL"]="",e.Msg["MATH_ONLIST_OPERATOR_AVERAGE"]="average of list",e.Msg["MATH_ONLIST_OPERATOR_MAX"]="max of list",e.Msg["MATH_ONLIST_OPERATOR_MEDIAN"]="median of list",e.Msg["MATH_ONLIST_OPERATOR_MIN"]="min of list",e.Msg["MATH_ONLIST_OPERATOR_MODE"]="modes of list",e.Msg["MATH_ONLIST_OPERATOR_RANDOM"]="random item of list",e.Msg["MATH_ONLIST_OPERATOR_STD_DEV"]="standard deviation of list",e.Msg["MATH_ONLIST_OPERATOR_SUM"]="sum of list",e.Msg["MATH_ONLIST_TOOLTIP_AVERAGE"]="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg["MATH_ONLIST_TOOLTIP_MAX"]="Return the largest number in the list.",e.Msg["MATH_ONLIST_TOOLTIP_MEDIAN"]="Return the median number in the list.",e.Msg["MATH_ONLIST_TOOLTIP_MIN"]="Return the smallest number in the list.",e.Msg["MATH_ONLIST_TOOLTIP_MODE"]="Return a list of the most common item(s) in the list.",e.Msg["MATH_ONLIST_TOOLTIP_RANDOM"]="Return a random element from the list.",e.Msg["MATH_ONLIST_TOOLTIP_STD_DEV"]="Return the standard deviation of the list.",e.Msg["MATH_ONLIST_TOOLTIP_SUM"]="Return the sum of all the numbers in the list.",e.Msg["MATH_POWER_SYMBOL"]="^",e.Msg["MATH_RANDOM_FLOAT_HELPURL"]="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg["MATH_RANDOM_FLOAT_TITLE_RANDOM"]="random fraction",e.Msg["MATH_RANDOM_FLOAT_TOOLTIP"]="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg["MATH_RANDOM_INT_HELPURL"]="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg["MATH_RANDOM_INT_TITLE"]="random integer from %1 to %2",e.Msg["MATH_RANDOM_INT_TOOLTIP"]="Return a random integer between the two specified limits, inclusive.",e.Msg["MATH_ROUND_HELPURL"]="https://en.wikipedia.org/wiki/Rounding",e.Msg["MATH_ROUND_OPERATOR_ROUND"]="round",e.Msg["MATH_ROUND_OPERATOR_ROUNDDOWN"]="round down",e.Msg["MATH_ROUND_OPERATOR_ROUNDUP"]="round up",e.Msg["MATH_ROUND_TOOLTIP"]="Round a number up or down.",e.Msg["MATH_SINGLE_HELPURL"]="https://en.wikipedia.org/wiki/Square_root",e.Msg["MATH_SINGLE_OP_ABSOLUTE"]="absolute",e.Msg["MATH_SINGLE_OP_ROOT"]="square root",e.Msg["MATH_SINGLE_TOOLTIP_ABS"]="Return the absolute value of a number.",e.Msg["MATH_SINGLE_TOOLTIP_EXP"]="Return e to the power of a number.",e.Msg["MATH_SINGLE_TOOLTIP_LN"]="Return the natural logarithm of a number.",e.Msg["MATH_SINGLE_TOOLTIP_LOG10"]="Return the base 10 logarithm of a number.",e.Msg["MATH_SINGLE_TOOLTIP_NEG"]="Return the negation of a number.",e.Msg["MATH_SINGLE_TOOLTIP_POW10"]="Return 10 to the power of a number.",e.Msg["MATH_SINGLE_TOOLTIP_ROOT"]="Return the square root of a number.",e.Msg["MATH_SUBTRACTION_SYMBOL"]="-",e.Msg["MATH_TRIG_ACOS"]="acos",e.Msg["MATH_TRIG_ASIN"]="asin",e.Msg["MATH_TRIG_ATAN"]="atan",e.Msg["MATH_TRIG_COS"]="cos",e.Msg["MATH_TRIG_HELPURL"]="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg["MATH_TRIG_SIN"]="sin",e.Msg["MATH_TRIG_TAN"]="tan",e.Msg["MATH_TRIG_TOOLTIP_ACOS"]="Return the arccosine of a number.",e.Msg["MATH_TRIG_TOOLTIP_ASIN"]="Return the arcsine of a number.",e.Msg["MATH_TRIG_TOOLTIP_ATAN"]="Return the arctangent of a number.",e.Msg["MATH_TRIG_TOOLTIP_COS"]="Return the cosine of a degree (not radian).",e.Msg["MATH_TRIG_TOOLTIP_SIN"]="Return the sine of a degree (not radian).",e.Msg["MATH_TRIG_TOOLTIP_TAN"]="Return the tangent of a degree (not radian).",e.Msg["NEW_COLOUR_VARIABLE"]="Create colour variable...",e.Msg["NEW_NUMBER_VARIABLE"]="Create number variable...",e.Msg["NEW_STRING_VARIABLE"]="Create string variable...",e.Msg["NEW_VARIABLE"]="Create variable...",e.Msg["NEW_VARIABLE_TITLE"]="New variable name:",e.Msg["NEW_VARIABLE_TYPE_TITLE"]="New variable type:",e.Msg["ORDINAL_NUMBER_SUFFIX"]="",e.Msg["PROCEDURES_ALLOW_STATEMENTS"]="allow statements",e.Msg["PROCEDURES_BEFORE_PARAMS"]="with:",e.Msg["PROCEDURES_CALLNORETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",e.Msg["PROCEDURES_CALLNORETURN_TOOLTIP"]="Run the user-defined function '%1'.",e.Msg["PROCEDURES_CALLRETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",e.Msg["PROCEDURES_CALLRETURN_TOOLTIP"]="Run the user-defined function '%1' and use its output.",e.Msg["PROCEDURES_CALL_BEFORE_PARAMS"]="with:",e.Msg["PROCEDURES_CREATE_DO"]="Create '%1'",e.Msg["PROCEDURES_DEFNORETURN_COMMENT"]="Describe this function...",e.Msg["PROCEDURES_DEFNORETURN_DO"]="",e.Msg["PROCEDURES_DEFNORETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",e.Msg["PROCEDURES_DEFNORETURN_PROCEDURE"]="do something",e.Msg["PROCEDURES_DEFNORETURN_TITLE"]="to",e.Msg["PROCEDURES_DEFNORETURN_TOOLTIP"]="Creates a function with no output.",e.Msg["PROCEDURES_DEFRETURN_HELPURL"]="https://en.wikipedia.org/wiki/Subroutine",e.Msg["PROCEDURES_DEFRETURN_RETURN"]="return",e.Msg["PROCEDURES_DEFRETURN_TOOLTIP"]="Creates a function with an output.",e.Msg["PROCEDURES_DEF_DUPLICATE_WARNING"]="Warning: This function has duplicate parameters.",e.Msg["PROCEDURES_HIGHLIGHT_DEF"]="Highlight function definition",e.Msg["PROCEDURES_IFRETURN_HELPURL"]="http://c2.com/cgi/wiki?GuardClause",e.Msg["PROCEDURES_IFRETURN_TOOLTIP"]="If a value is true, then return a second value.",e.Msg["PROCEDURES_IFRETURN_WARNING"]="Warning: This block may be used only within a function definition.",e.Msg["PROCEDURES_MUTATORARG_TITLE"]="input name:",e.Msg["PROCEDURES_MUTATORARG_TOOLTIP"]="Add an input to the function.",e.Msg["PROCEDURES_MUTATORCONTAINER_TITLE"]="inputs",e.Msg["PROCEDURES_MUTATORCONTAINER_TOOLTIP"]="Add, remove, or reorder inputs to this function.",e.Msg["REDO"]="Redo",e.Msg["REMOVE_COMMENT"]="Remove Comment",e.Msg["RENAME_VARIABLE"]="Rename variable...",e.Msg["RENAME_VARIABLE_TITLE"]="Rename all '%1' variables to:",e.Msg["TEXT_APPEND_HELPURL"]="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg["TEXT_APPEND_TITLE"]="to %1 append text %2",e.Msg["TEXT_APPEND_TOOLTIP"]="Append some text to variable '%1'.",e.Msg["TEXT_CHANGECASE_HELPURL"]="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg["TEXT_CHANGECASE_OPERATOR_LOWERCASE"]="to lower case",e.Msg["TEXT_CHANGECASE_OPERATOR_TITLECASE"]="to Title Case",e.Msg["TEXT_CHANGECASE_OPERATOR_UPPERCASE"]="to UPPER CASE",e.Msg["TEXT_CHANGECASE_TOOLTIP"]="Return a copy of the text in a different case.",e.Msg["TEXT_CHARAT_FIRST"]="get first letter",e.Msg["TEXT_CHARAT_FROM_END"]="get letter # from end",e.Msg["TEXT_CHARAT_FROM_START"]="get letter #",e.Msg["TEXT_CHARAT_HELPURL"]="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg["TEXT_CHARAT_LAST"]="get last letter",e.Msg["TEXT_CHARAT_RANDOM"]="get random letter",e.Msg["TEXT_CHARAT_TAIL"]="",e.Msg["TEXT_CHARAT_TITLE"]="in text %1 %2",e.Msg["TEXT_CHARAT_TOOLTIP"]="Returns the letter at the specified position.",e.Msg["TEXT_COUNT_HELPURL"]="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg["TEXT_COUNT_MESSAGE0"]="count %1 in %2",e.Msg["TEXT_COUNT_TOOLTIP"]="Count how many times some text occurs within some other text.",e.Msg["TEXT_CREATE_JOIN_ITEM_TOOLTIP"]="Add an item to the text.",e.Msg["TEXT_CREATE_JOIN_TITLE_JOIN"]="join",e.Msg["TEXT_CREATE_JOIN_TOOLTIP"]="Add, remove, or reorder sections to reconfigure this text block.",e.Msg["TEXT_GET_SUBSTRING_END_FROM_END"]="to letter # from end",e.Msg["TEXT_GET_SUBSTRING_END_FROM_START"]="to letter #",e.Msg["TEXT_GET_SUBSTRING_END_LAST"]="to last letter",e.Msg["TEXT_GET_SUBSTRING_HELPURL"]="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg["TEXT_GET_SUBSTRING_INPUT_IN_TEXT"]="in text",e.Msg["TEXT_GET_SUBSTRING_START_FIRST"]="get substring from first letter",e.Msg["TEXT_GET_SUBSTRING_START_FROM_END"]="get substring from letter # from end",e.Msg["TEXT_GET_SUBSTRING_START_FROM_START"]="get substring from letter #",e.Msg["TEXT_GET_SUBSTRING_TAIL"]="",e.Msg["TEXT_GET_SUBSTRING_TOOLTIP"]="Returns a specified portion of the text.",e.Msg["TEXT_INDEXOF_HELPURL"]="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg["TEXT_INDEXOF_OPERATOR_FIRST"]="find first occurrence of text",e.Msg["TEXT_INDEXOF_OPERATOR_LAST"]="find last occurrence of text",e.Msg["TEXT_INDEXOF_TITLE"]="in text %1 %2 %3",e.Msg["TEXT_INDEXOF_TOOLTIP"]="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg["TEXT_ISEMPTY_HELPURL"]="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg["TEXT_ISEMPTY_TITLE"]="%1 is empty",e.Msg["TEXT_ISEMPTY_TOOLTIP"]="Returns true if the provided text is empty.",e.Msg["TEXT_JOIN_HELPURL"]="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg["TEXT_JOIN_TITLE_CREATEWITH"]="create text with",e.Msg["TEXT_JOIN_TOOLTIP"]="Create a piece of text by joining together any number of items.",e.Msg["TEXT_LENGTH_HELPURL"]="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg["TEXT_LENGTH_TITLE"]="length of %1",e.Msg["TEXT_LENGTH_TOOLTIP"]="Returns the number of letters (including spaces) in the provided text.",e.Msg["TEXT_PRINT_HELPURL"]="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg["TEXT_PRINT_TITLE"]="print %1",e.Msg["TEXT_PRINT_TOOLTIP"]="Print the specified text, number or other value.",e.Msg["TEXT_PROMPT_HELPURL"]="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg["TEXT_PROMPT_TOOLTIP_NUMBER"]="Prompt for user for a number.",e.Msg["TEXT_PROMPT_TOOLTIP_TEXT"]="Prompt for user for some text.",e.Msg["TEXT_PROMPT_TYPE_NUMBER"]="prompt for number with message",e.Msg["TEXT_PROMPT_TYPE_TEXT"]="prompt for text with message",e.Msg["TEXT_REPLACE_HELPURL"]="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg["TEXT_REPLACE_MESSAGE0"]="replace %1 with %2 in %3",e.Msg["TEXT_REPLACE_TOOLTIP"]="Replace all occurances of some text within some other text.",e.Msg["TEXT_REVERSE_HELPURL"]="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg["TEXT_REVERSE_MESSAGE0"]="reverse %1",e.Msg["TEXT_REVERSE_TOOLTIP"]="Reverses the order of the characters in the text.",e.Msg["TEXT_TEXT_HELPURL"]="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg["TEXT_TEXT_TOOLTIP"]="A letter, word, or line of text.",e.Msg["TEXT_TRIM_HELPURL"]="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg["TEXT_TRIM_OPERATOR_BOTH"]="trim spaces from both sides of",e.Msg["TEXT_TRIM_OPERATOR_LEFT"]="trim spaces from left side of",e.Msg["TEXT_TRIM_OPERATOR_RIGHT"]="trim spaces from right side of",e.Msg["TEXT_TRIM_TOOLTIP"]="Return a copy of the text with spaces removed from one or both ends.",e.Msg["TODAY"]="Today",e.Msg["UNDO"]="Undo",e.Msg["UNNAMED_KEY"]="unnamed",e.Msg["VARIABLES_DEFAULT_NAME"]="item",e.Msg["VARIABLES_GET_CREATE_SET"]="Create 'set %1'",e.Msg["VARIABLES_GET_HELPURL"]="https://github.com/google/blockly/wiki/Variables#get",e.Msg["VARIABLES_GET_TOOLTIP"]="Returns the value of this variable.",e.Msg["VARIABLES_SET"]="set %1 to %2",e.Msg["VARIABLES_SET_CREATE_GET"]="Create 'get %1'",e.Msg["VARIABLES_SET_HELPURL"]="https://github.com/google/blockly/wiki/Variables#set",e.Msg["VARIABLES_SET_TOOLTIP"]="Sets this variable to be equal to the input.",e.Msg["VARIABLE_ALREADY_EXISTS"]="A variable named '%1' already exists.",e.Msg["VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE"]="A variable named '%1' already exists for another type: '%2'.",e.Msg["WORKSPACE_ARIA_LABEL"]="Blockly Workspace",e.Msg["WORKSPACE_COMMENT_DEFAULT_TEXT"]="Say something...",e.Msg["CONTROLS_FOREACH_INPUT_DO"]=e.Msg["CONTROLS_REPEAT_INPUT_DO"],e.Msg["CONTROLS_FOR_INPUT_DO"]=e.Msg["CONTROLS_REPEAT_INPUT_DO"],e.Msg["CONTROLS_IF_ELSEIF_TITLE_ELSEIF"]=e.Msg["CONTROLS_IF_MSG_ELSEIF"],e.Msg["CONTROLS_IF_ELSE_TITLE_ELSE"]=e.Msg["CONTROLS_IF_MSG_ELSE"],e.Msg["CONTROLS_IF_IF_TITLE_IF"]=e.Msg["CONTROLS_IF_MSG_IF"],e.Msg["CONTROLS_IF_MSG_THEN"]=e.Msg["CONTROLS_REPEAT_INPUT_DO"],e.Msg["CONTROLS_WHILEUNTIL_INPUT_DO"]=e.Msg["CONTROLS_REPEAT_INPUT_DO"],e.Msg["LISTS_CREATE_WITH_ITEM_TITLE"]=e.Msg["VARIABLES_DEFAULT_NAME"],e.Msg["LISTS_GET_INDEX_HELPURL"]=e.Msg["LISTS_INDEX_OF_HELPURL"],e.Msg["LISTS_GET_INDEX_INPUT_IN_LIST"]=e.Msg["LISTS_INLIST"],e.Msg["LISTS_GET_SUBLIST_INPUT_IN_LIST"]=e.Msg["LISTS_INLIST"],e.Msg["LISTS_INDEX_OF_INPUT_IN_LIST"]=e.Msg["LISTS_INLIST"],e.Msg["LISTS_SET_INDEX_INPUT_IN_LIST"]=e.Msg["LISTS_INLIST"],e.Msg["MATH_CHANGE_TITLE_ITEM"]=e.Msg["VARIABLES_DEFAULT_NAME"],e.Msg["PROCEDURES_DEFRETURN_COMMENT"]=e.Msg["PROCEDURES_DEFNORETURN_COMMENT"],e.Msg["PROCEDURES_DEFRETURN_DO"]=e.Msg["PROCEDURES_DEFNORETURN_DO"],e.Msg["PROCEDURES_DEFRETURN_PROCEDURE"]=e.Msg["PROCEDURES_DEFNORETURN_PROCEDURE"],e.Msg["PROCEDURES_DEFRETURN_TITLE"]=e.Msg["PROCEDURES_DEFNORETURN_TITLE"],e.Msg["TEXT_APPEND_VARIABLE"]=e.Msg["VARIABLES_DEFAULT_NAME"],e.Msg["TEXT_CREATE_JOIN_ITEM_TITLE_ITEM"]=e.Msg["VARIABLES_DEFAULT_NAME"],e.Msg["MATH_HUE"]="230",e.Msg["LOOPS_HUE"]="120",e.Msg["LISTS_HUE"]="260",e.Msg["LOGIC_HUE"]="210",e.Msg["VARIABLES_HUE"]="330",e.Msg["TEXTS_HUE"]="160",e.Msg["PROCEDURES_HUE"]="290",e.Msg["COLOUR_HUE"]="20",e.Msg["VARIABLES_DYNAMIC_HUE"]="310",e.Msg}))},a915:function(e,t,n){"use strict";var i=n("4883"),o=[["normalize",n("4c26")],["block",n("3408")],["inline",n("a124")],["linkify",n("9921")],["replacements",n("bb4a")],["smartquotes",n("af30")]];function r(){this.ruler=new i;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}r.prototype.process=function(e){var t,n,i;for(i=this.ruler.getRules(""),t=0,n=i.length;t<n;t++)i[t](e)},r.prototype.State=n("7133"),e.exports=r},a9ad:function(e,t,n){"use strict";var i=n("2b0e"),o=n("d9bd"),r=n("7bc6");t["a"]=i["a"].extend({name:"colorable",props:{color:String},methods:{setBackgroundColor(e,t={}){return"string"===typeof t.style?(Object(o["b"])("style must be an object",this),t):"string"===typeof t.class?(Object(o["b"])("class must be an object",this),t):(Object(r["d"])(e)?t.style={...t.style,"background-color":""+e,"border-color":""+e}:e&&(t.class={...t.class,[e]:!0}),t)},setTextColor(e,t={}){if("string"===typeof t.style)return Object(o["b"])("style must be an object",this),t;if("string"===typeof t.class)return Object(o["b"])("class must be an object",this),t;if(Object(r["d"])(e))t.style={...t.style,color:""+e,"caret-color":""+e};else if(e){const[n,i]=e.toString().trim().split(" ",2);t.class={...t.class,[n+"--text"]:!0},i&&(t.class["text--"+i]=!0)}return t}}})},ab36:function(e,t,n){var i=n("861d"),o=n("9112");e.exports=function(e,t){i(t)&&"cause"in t&&o(e,"cause",t.cause)}},abf2:function(e,t,n){},aced:function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},ad6d:function(e,t,n){"use strict";var i=n("825a");e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},aeb0:function(e,t,n){var i=n("9bf2").f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},aed9:function(e,t,n){var i=n("83ab"),o=n("d039");e.exports=i&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},af2b:function(e,t,n){"use strict";var i=n("2b0e");t["a"]=i["a"].extend({name:"sizeable",props:{large:Boolean,small:Boolean,xLarge:Boolean,xSmall:Boolean},computed:{medium(){return Boolean(!this.xSmall&&!this.small&&!this.large&&!this.xLarge)},sizeableClasses(){return{"v-size--x-small":this.xSmall,"v-size--small":this.small,"v-size--default":this.medium,"v-size--large":this.large,"v-size--x-large":this.xLarge}}}})},af30:function(e,t,n){"use strict";var i=n("0068").isWhiteSpace,o=n("0068").isPunctChar,r=n("0068").isMdAsciiPunct,s=/['"]/,a=/['"]/g,l="’";function u(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function c(e,t){var n,s,c,h,d,p,f,g,m,_,v,y,b,w,C,S,E,T,k,x,L;for(k=[],n=0;n<e.length;n++){for(s=e[n],f=e[n].level,E=k.length-1;E>=0;E--)if(k[E].level<=f)break;if(k.length=E+1,"text"===s.type){c=s.content,d=0,p=c.length;e:while(d<p){if(a.lastIndex=d,h=a.exec(c),!h)break;if(C=S=!0,d=h.index+1,T="'"===h[0],m=32,h.index-1>=0)m=c.charCodeAt(h.index-1);else for(E=n-1;E>=0;E--){if("softbreak"===e[E].type||"hardbreak"===e[E].type)break;if(e[E].content){m=e[E].content.charCodeAt(e[E].content.length-1);break}}if(_=32,d<p)_=c.charCodeAt(d);else for(E=n+1;E<e.length;E++){if("softbreak"===e[E].type||"hardbreak"===e[E].type)break;if(e[E].content){_=e[E].content.charCodeAt(0);break}}if(v=r(m)||o(String.fromCharCode(m)),y=r(_)||o(String.fromCharCode(_)),b=i(m),w=i(_),w?C=!1:y&&(b||v||(C=!1)),b?S=!1:v&&(w||y||(S=!1)),34===_&&'"'===h[0]&&m>=48&&m<=57&&(S=C=!1),C&&S&&(C=v,S=y),C||S){if(S)for(E=k.length-1;E>=0;E--){if(g=k[E],k[E].level<f)break;if(g.single===T&&k[E].level===f){g=k[E],T?(x=t.md.options.quotes[2],L=t.md.options.quotes[3]):(x=t.md.options.quotes[0],L=t.md.options.quotes[1]),s.content=u(s.content,h.index,L),e[g.token].content=u(e[g.token].content,g.pos,x),d+=L.length-1,g.token===n&&(d+=x.length-1),c=s.content,p=c.length,k.length=E;continue e}}C?k.push({token:n,pos:h.index,single:T,level:f}):S&&T&&(s.content=u(s.content,h.index,l))}else T&&(s.content=u(s.content,h.index,l))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&s.test(e.tokens[t].content)&&c(e.tokens[t].children,e)}},afdd:function(e,t,n){"use strict";var i=n("8336");t["a"]=i["a"]},b0af:function(e,t,n){"use strict";n("615b");var i=n("10d2"),o=n("297c"),r=n("1c87"),s=n("58df");t["a"]=Object(s["a"])(o["a"],r["a"],i["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...r["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...i["a"].options.computed.classes.call(this)}},styles(){const e={...i["a"].options.computed.styles.call(this)};return this.img&&(e.background=`url("${this.img}") center center / cover no-repeat`),e}},methods:{genProgress(){const e=o["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render(e){const{tag:t,data:n}=this.generateRouteLink();return n.style=this.styles,this.isClickable&&(n.attrs=n.attrs||{},n.attrs.tabindex=0),e(t,this.setBackgroundColor(this.color,n),[this.genProgress(),this.$slots.default])}})},b117:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n("cbc7").source,t.src_Cc=n("a7bc").source,t.src_Z=n("4fc2").source,t.src_P=n("7ca0").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var i="[><｜]";return t.src_pseudo_letter="(?:(?!"+i+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+i+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+i+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+i+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},b223:function(e,t,n){},b329:function(e,t,n){},b42e:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:n)(t)}},b622:function(e,t,n){var i=n("da84"),o=n("5692"),r=n("1a2d"),s=n("90e3"),a=n("04f8"),l=n("fdbf"),u=i.Symbol,c=o("wks"),h=l?u["for"]||u:u&&u.withoutSetter||s;e.exports=function(e){return r(c,e)||(c[e]=a&&r(u,e)?u[e]:h("Symbol."+e)),c[e]}},b639:function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n("1fb5"),o=n("9152"),r=n("e3db");function s(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=u.prototype):(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}return c(this,e,t,n)}function c(e,t,n,i){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,i):"string"===typeof t?f(e,t,n):_(e,t)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t,n,i){return h(t),t<=0?l(e,t):void 0!==n?"string"===typeof i?l(e,t).fill(n,i):l(e,t).fill(n):l(e,t)}function p(e,t){if(h(t),e=l(e,t<0?0:0|v(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t,n){if("string"===typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|b(t,n);e=l(e,i);var o=e.write(t,n);return o!==i&&(e=e.slice(0,o)),e}function g(e,t){var n=t.length<0?0:0|v(t.length);e=l(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function m(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i),u.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=u.prototype):e=g(e,t),e}function _(e,t){if(u.isBuffer(t)){var n=0|v(t.length);return e=l(e,n),0===e.length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||te(t.length)?l(e,0):g(e,t);if("Buffer"===t.type&&r(t.data))return g(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),u.alloc(+e)}function b(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(i)return X(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,n){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";e||(e="utf8");while(1)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return D(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function C(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function S(e,t,n,i,o){if(0===e.length)return-1;if("string"===typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=u.from(t,i)),u.isBuffer(t))return 0===t.length?-1:E(e,t,n,i,o);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,i,o){var r,s=1,a=e.length,l=t.length;if(void 0!==i&&(i=String(i).toLowerCase(),"ucs2"===i||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var c=-1;for(r=n;r<a;r++)if(u(e,r)===u(t,-1===c?0:r-c)){if(-1===c&&(c=r),r-c+1===l)return c*s}else-1!==c&&(r-=r-c),c=-1}else for(n+l>a&&(n=a-l),r=n;r>=0;r--){for(var h=!0,d=0;d<l;d++)if(u(e,r+d)!==u(t,d)){h=!1;break}if(h)return r}return-1}function T(e,t,n,i){n=Number(n)||0;var o=e.length-n;i?(i=Number(i),i>o&&(i=o)):i=o;var r=t.length;if(r%2!==0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var s=0;s<i;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function k(e,t,n,i){return ee(X(t,e.length-n),e,n,i)}function x(e,t,n,i){return ee(Z(t),e,n,i)}function L(e,t,n,i){return x(e,t,n,i)}function I(e,t,n,i){return ee(Q(t),e,n,i)}function O(e,t,n,i){return ee(J(t,e.length-n),e,n,i)}function D(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function N(e,t,n){n=Math.min(e.length,n);var i=[],o=t;while(o<n){var r,s,a,l,u=e[o],c=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:r=e[o+1],128===(192&r)&&(l=(31&u)<<6|63&r,l>127&&(c=l));break;case 3:r=e[o+1],s=e[o+2],128===(192&r)&&128===(192&s)&&(l=(15&u)<<12|(63&r)<<6|63&s,l>2047&&(l<55296||l>57343)&&(c=l));break;case 4:r=e[o+1],s=e[o+2],a=e[o+3],128===(192&r)&&128===(192&s)&&128===(192&a)&&(l=(15&u)<<18|(63&r)<<12|(63&s)<<6|63&a,l>65535&&l<1114112&&(c=l))}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),o+=h}return A(i)}t.Buffer=u,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:s(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return d(null,e,t,n)},u.allocUnsafe=function(e){return p(null,e)},u.allocUnsafeSlow=function(e){return p(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,r=Math.min(n,i);o<r;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)C(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)C(this,t,t+3),C(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)C(this,t,t+7),C(this,t+1,t+6),C(this,t+2,t+5),C(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?N(this,0,e):w.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,i,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var r=o-i,s=n-t,a=Math.min(r,s),l=this.slice(i,o),c=e.slice(t,n),h=0;h<a;++h)if(l[h]!==c[h]){r=l[h],s=c[h];break}return r<s?-1:s<r?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},u.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return L(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function A(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",i=0;while(i<t)n+=String.fromCharCode.apply(String,e.slice(i,i+=R));return n}function M(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(127&e[o]);return i}function P(e,t,n){var i="";n=Math.min(e.length,n);for(var o=t;o<n;++o)i+=String.fromCharCode(e[o]);return i}function F(e,t,n){var i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=t;r<n;++r)o+=Y(e[r]);return o}function B(e,t,n){for(var i=e.slice(t,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function V(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function H(e,t,n,i,o,r){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<r)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function $(e,t,n,i){t<0&&(t=65535+t+1);for(var o=0,r=Math.min(e.length-n,2);o<r;++o)e[n+o]=(t&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function W(e,t,n,i){t<0&&(t=4294967295+t+1);for(var o=0,r=Math.min(e.length-n,4);o<r;++o)e[n+o]=t>>>8*(i?o:3-o)&255}function U(e,t,n,i,o,r){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,i,r){return r||U(e,t,n,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,n,i,23,4),n+4}function j(e,t,n,i,r){return r||U(e,t,n,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,n,i,52,8),n+8}u.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);var i=this[e],o=1,r=0;while(++r<t&&(o*=256))i+=this[e+r]*o;return i},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);var i=this[e+--t],o=1;while(t>0&&(o*=256))i+=this[e+--t]*o;return i},u.prototype.readUInt8=function(e,t){return t||V(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||V(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||V(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||V(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);var i=this[e],o=1,r=0;while(++r<t&&(o*=256))i+=this[e+r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);var i=t,o=1,r=this[e+--i];while(i>0&&(o*=256))r+=this[e+--i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},u.prototype.readInt8=function(e,t){return t||V(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||V(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||V(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||V(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||V(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||V(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||V(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var o=Math.pow(2,8*n)-1;H(this,e,t,n,o,0)}var r=1,s=0;this[t]=255&e;while(++s<n&&(r*=256))this[t+s]=e/r&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t|=0,n|=0,!i){var o=Math.pow(2,8*n)-1;H(this,e,t,n,o,0)}var r=n-1,s=1;this[t+r]=255&e;while(--r>=0&&(s*=256))this[t+r]=e/s&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):W(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):W(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);H(this,e,t,n,o-1,-o)}var r=0,s=1,a=0;this[t]=255&e;while(++r<n&&(s*=256))e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t|=0,!i){var o=Math.pow(2,8*n-1);H(this,e,t,n,o-1,-o)}var r=n-1,s=1,a=0;this[t+r]=255&e;while(--r>=0&&(s*=256))e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):W(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||H(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):W(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o,r=i-n;if(this===e&&n<t&&t<i)for(o=r-1;o>=0;--o)e[o+t]=this[o+n];else if(r<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},u.prototype.fill=function(e,t,n,i){if("string"===typeof e){if("string"===typeof t?(i=t,t=0,n=this.length):"string"===typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!==typeof i)throw new TypeError("encoding must be a string");if("string"===typeof i&&!u.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(r=t;r<n;++r)this[r]=e;else{var s=u.isBuffer(e)?e:X(new u(e,i).toString()),a=s.length;for(r=0;r<n-t;++r)this[r+t]=s[r%a]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function K(e){if(e=q(e).replace(G,""),e.length<2)return"";while(e.length%4!==0)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Y(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var n;t=t||1/0;for(var i=e.length,o=null,r=[],s=0;s<i;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function Z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,i,o,r=[],s=0;s<e.length;++s){if((t-=2)<0)break;n=e.charCodeAt(s),i=n>>8,o=n%256,r.push(o),r.push(i)}return r}function Q(e){return i.toByteArray(K(e))}function ee(e,t,n,i){for(var o=0;o<i;++o){if(o+n>=t.length||o>=e.length)break;t[o+n]=e[o]}return o}function te(e){return e!==e}}).call(this,n("c8ba"))},b7fd:function(e,t,n){var i,o,r;(function(s,a){o=[n("8c1d")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e){
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
"use strict";return e}))},b805:function(e,t,n){},b968:function(e,t,n){},b980:function(e,t,n){var i=n("d039"),o=n("5c6c");e.exports=!i((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},ba3c:function(e,t,n){},ba77:function(e,t,n){},ba87:function(e,t,n){"use strict";n("1b2c");var i=n("a9ad"),o=n("7560"),r=n("58df"),s=n("80d2"),a=Object(r["a"])(o["a"]).extend({name:"v-label",functional:!0,props:{absolute:Boolean,color:{type:String,default:"primary"},disabled:Boolean,focused:Boolean,for:String,left:{type:[Number,String],default:0},right:{type:[Number,String],default:"auto"},value:Boolean},render(e,t){const{children:n,listeners:r,props:a}=t,l={staticClass:"v-label",class:{"v-label--active":a.value,"v-label--is-disabled":a.disabled,...Object(o["b"])(t)},attrs:{for:a.for,"aria-hidden":!a.for},on:r,style:{left:Object(s["g"])(a.left),right:Object(s["g"])(a.right),position:a.absolute?"absolute":"relative"},ref:"label"};return e("label",i["a"].options.methods.setTextColor(a.focused&&a.color,l),n)}});t["a"]=a},baca:function(e,t,n){"use strict";function i(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,t){var n=e.pos;while(n<e.posMax&&!i(e.src.charCodeAt(n)))n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},bb4a:function(e,t,n){"use strict";var i=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/i,r=/\((c|tm|r|p)\)/gi,s={c:"©",r:"®",p:"§",tm:"™"};function a(e,t){return s[t.toLowerCase()]}function l(e){var t,n,i=0;for(t=e.length-1;t>=0;t--)n=e[t],"text"!==n.type||i||(n.content=n.content.replace(r,a)),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}function u(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)n=e[t],"text"!==n.type||o||i.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&l(e.tokens[t].children),i.test(e.tokens[t].content)&&u(e.tokens[t].children))}},bcc1:function(e,t,n){},bd0c:function(e,t,n){},bd68:function(e,t,n){"use strict";e.exports=n("aced")},be0f:function(e,t,n){},bf2b:function(e,t,n){"use strict";e.exports=function(e,t,n,i){var o,r,s,a,l,u,c,h=!1,d=e.bMarks[t]+e.tShift[t],p=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(d+3>p)return!1;if(o=e.src.charCodeAt(d),126!==o&&96!==o)return!1;if(l=d,d=e.skipChars(d,o),r=d-l,r<3)return!1;if(c=e.src.slice(l,d),s=e.src.slice(d,p),96===o&&s.indexOf(String.fromCharCode(o))>=0)return!1;if(i)return!0;for(a=t;;){if(a++,a>=n)break;if(d=l=e.bMarks[a]+e.tShift[a],p=e.eMarks[a],d<p&&e.sCount[a]<e.blkIndent)break;if(e.src.charCodeAt(d)===o&&(!(e.sCount[a]-e.blkIndent>=4)&&(d=e.skipChars(d,o),!(d-l<r)&&(d=e.skipSpaces(d),!(d<p))))){h=!0;break}}return r=e.sCount[t],e.line=a+(h?1:0),u=e.push("fence","code",0),u.info=s,u.content=e.getLines(t+1,a,r,!0),u.markup=c,u.map=[t,e.line],!0}},c04e:function(e,t,n){var i=n("c65b"),o=n("861d"),r=n("d9b5"),s=n("dc4a"),a=n("485a"),l=n("b622"),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!o(e)||r(e))return e;var n,l=s(e,c);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!o(n)||r(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c197:function(e,t,n){(function(t){var n="undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},i=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,i={},o={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof r?new r(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e["__id"]||Object.defineProperty(e,"__id",{value:++n}),e["__id"]},clone:function e(t,n){var i,r;switch(n=n||{},o.util.type(t)){case"Object":if(r=o.util.objId(t),n[r])return n[r];for(var s in i={},n[r]=i,t)t.hasOwnProperty(s)&&(i[s]=e(t[s],n));return i;case"Array":return r=o.util.objId(t),n[r]?n[r]:(i=[],n[r]=i,t.forEach((function(t,o){i[o]=e(t,n)})),i);default:return t}},getLanguage:function(e){while(e){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"===typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(i){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(i.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){var i="no-"+t;while(e){var o=e.classList;if(o.contains(t))return!0;if(o.contains(i))return!1;e=e.parentElement}return!!n}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(e,t){var n=o.util.clone(o.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(e,t,n,i){i=i||o.languages;var r=i[e],s={};for(var a in r)if(r.hasOwnProperty(a)){if(a==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(a)||(s[a]=r[a])}var u=i[e];return i[e]=s,o.languages.DFS(o.languages,(function(t,n){n===u&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,i,r){r=r||{};var s=o.util.objId;for(var a in t)if(t.hasOwnProperty(a)){n.call(t,a,t[a],i||a);var l=t[a],u=o.util.type(l);"Object"!==u||r[s(l)]?"Array"!==u||r[s(l)]||(r[s(l)]=!0,e(l,n,a,r)):(r[s(l)]=!0,e(l,n,null,r))}}},plugins:{},highlightAll:function(e,t){o.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",i),i.elements=Array.prototype.slice.apply(i.container.querySelectorAll(i.selector)),o.hooks.run("before-all-elements-highlight",i);for(var r,s=0;r=i.elements[s++];)o.highlightElement(r,!0===t,i.callback)},highlightElement:function(t,n,i){var r=o.util.getLanguage(t),s=o.languages[r];o.util.setLanguage(t,r);var a=t.parentElement;a&&"pre"===a.nodeName.toLowerCase()&&o.util.setLanguage(a,r);var l=t.textContent,u={element:t,language:r,grammar:s,code:l};function c(e){u.highlightedCode=e,o.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,o.hooks.run("after-highlight",u),o.hooks.run("complete",u),i&&i.call(u.element)}if(o.hooks.run("before-sanity-check",u),a=u.element.parentElement,a&&"pre"===a.nodeName.toLowerCase()&&!a.hasAttribute("tabindex")&&a.setAttribute("tabindex","0"),!u.code)return o.hooks.run("complete",u),void(i&&i.call(u.element));if(o.hooks.run("before-highlight",u),u.grammar)if(n&&e.Worker){var h=new Worker(o.filename);h.onmessage=function(e){c(e.data)},h.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else c(o.highlight(u.code,u.grammar,u.language));else c(o.util.encode(u.code))},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};if(o.hooks.run("before-tokenize",i),!i.grammar)throw new Error('The language "'+i.language+'" has no grammar.');return i.tokens=o.tokenize(i.code,i.grammar),o.hooks.run("after-tokenize",i),r.stringify(o.util.encode(i.tokens),i.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var i in n)t[i]=n[i];delete t.rest}var o=new l;return u(o,o.head,e),a(e,o,t,o.head,0),h(o)},hooks:{all:{},add:function(e,t){var n=o.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=o.hooks.all[e];if(n&&n.length)for(var i,r=0;i=n[r++];)i(t)}},Token:r};function r(e,t,n,i){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length}function s(e,t,n,i){e.lastIndex=t;var o=e.exec(n);if(o&&i&&o[1]){var r=o[1].length;o.index+=r,o[0]=o[0].slice(r)}return o}function a(e,t,n,i,l,h){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var p=n[d];p=Array.isArray(p)?p:[p];for(var f=0;f<p.length;++f){if(h&&h.cause==d+","+f)return;var g=p[f],m=g.inside,_=!!g.lookbehind,v=!!g.greedy,y=g.alias;if(v&&!g.pattern.global){var b=g.pattern.toString().match(/[imsuy]*$/)[0];g.pattern=RegExp(g.pattern.source,b+"g")}for(var w=g.pattern||g,C=i.next,S=l;C!==t.tail;S+=C.value.length,C=C.next){if(h&&S>=h.reach)break;var E=C.value;if(t.length>e.length)return;if(!(E instanceof r)){var T,k=1;if(v){if(T=s(w,S,e,_),!T||T.index>=e.length)break;var x=T.index,L=T.index+T[0].length,I=S;I+=C.value.length;while(x>=I)C=C.next,I+=C.value.length;if(I-=C.value.length,S=I,C.value instanceof r)continue;for(var O=C;O!==t.tail&&(I<L||"string"===typeof O.value);O=O.next)k++,I+=O.value.length;k--,E=e.slice(S,I),T.index-=S}else if(T=s(w,0,E,_),!T)continue;x=T.index;var D=T[0],N=E.slice(0,x),R=E.slice(x+D.length),A=S+E.length;h&&A>h.reach&&(h.reach=A);var M=C.prev;N&&(M=u(t,M,N),S+=N.length),c(t,M,k);var P=new r(d,m?o.tokenize(D,m):D,y,D);if(C=u(t,M,P),R&&u(t,C,R),k>1){var F={cause:d+","+f,reach:A};a(e,t,n,C.prev,S,F),h&&F.reach>h.reach&&(h.reach=F.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function u(e,t,n){var i=t.next,o={value:n,prev:t,next:i};return t.next=o,i.prev=o,e.length++,o}function c(e,t,n){for(var i=t.next,o=0;o<n&&i!==e.tail;o++)i=i.next;t.next=i,i.prev=t,e.length-=o}function h(e){var t=[],n=e.head.next;while(n!==e.tail)t.push(n.value),n=n.next;return t}if(e.Prism=o,r.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var i="";return t.forEach((function(t){i+=e(t,n)})),i}var r={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(r.classes,s):r.classes.push(s)),o.hooks.run("wrap",r);var a="";for(var l in r.attributes)a+=" "+l+'="'+(r.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+r.tag+' class="'+r.classes.join(" ")+'"'+a+">"+r.content+"</"+r.tag+">"},!e.document)return e.addEventListener?(o.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),i=n.language,r=n.code,s=n.immediateClose;e.postMessage(o.highlight(r,o.languages[i],i)),s&&e.close()}),!1),o):o;var d=o.util.currentScript();function p(){o.manual||o.highlightAll()}if(d&&(o.filename=d.src,d.hasAttribute("data-manual")&&(o.manual=!0)),!o.manual){var f=document.readyState;"loading"===f||"interactive"===f&&d&&d.defer?document.addEventListener("DOMContentLoaded",p):window.requestAnimationFrame?window.requestAnimationFrame(p):window.setTimeout(p,16)}return o}(n);
/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */e.exports&&(e.exports=i),"undefined"!==typeof t&&(t.Prism=i),i.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},i.languages.markup["tag"].inside["attr-value"].inside["entity"]=i.languages.markup["entity"],i.languages.markup["doctype"].inside["internal-subset"].inside=i.languages.markup,i.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes["title"]=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(i.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:i.languages[t]},n["cdata"]=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};o["language-"+t]={pattern:/[\s\S]+/,inside:i.languages[t]};var r={};r[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},i.languages.insertBefore("markup","cdata",r)}}),Object.defineProperty(i.languages.markup.tag,"addAttribute",{value:function(e,t){i.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:i.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),i.languages.html=i.languages.markup,i.languages.mathml=i.languages.markup,i.languages.svg=i.languages.markup,i.languages.xml=i.languages.extend("markup",{}),i.languages.ssml=i.languages.xml,i.languages.atom=i.languages.xml,i.languages.rss=i.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css["atrule"].inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(i),i.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},i.languages.javascript=i.languages.extend("clike",{"class-name":[i.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),i.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,i.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:i.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:i.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:i.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:i.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:i.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),i.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:i.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),i.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),i.languages.markup&&(i.languages.markup.tag.addInlined("script","javascript"),i.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),i.languages.js=i.languages.javascript,function(){if("undefined"!==typeof i&&"undefined"!==typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e="Loading…",t=function(e,t){return"✖ Error "+e+" while fetching file: "+t},n="✖ Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},r="data-src-status",s="loading",a="loaded",l="failed",u="pre[data-src]:not(["+r+'="'+a+'"]):not(['+r+'="'+s+'"])';i.hooks.add("before-highlightall",(function(e){e.selector+=", "+u})),i.hooks.add("before-sanity-check",(function(t){var n=t.element;if(n.matches(u)){t.code="",n.setAttribute(r,s);var c=n.appendChild(document.createElement("CODE"));c.textContent=e;var p=n.getAttribute("data-src"),f=t.language;if("none"===f){var g=(/\.(\w+)$/.exec(p)||[,"none"])[1];f=o[g]||g}i.util.setLanguage(c,f),i.util.setLanguage(n,f);var m=i.plugins.autoloader;m&&m.loadLanguages(f),h(p,(function(e){n.setAttribute(r,a);var t=d(n.getAttribute("data-range"));if(t){var o=e.split(/\r\n?|\n/g),s=t[0],l=null==t[1]?o.length:t[1];s<0&&(s+=o.length),s=Math.max(0,Math.min(s-1,o.length)),l<0&&(l+=o.length),l=Math.max(0,Math.min(l,o.length)),e=o.slice(s,l).join("\n"),n.hasAttribute("data-start")||n.setAttribute("data-start",String(s+1))}c.textContent=e,i.highlightElement(c)}),(function(e){n.setAttribute(r,l),c.textContent=e}))}})),i.plugins.fileHighlight={highlight:function(e){for(var t,n=(e||document).querySelectorAll(u),o=0;t=n[o++];)i.highlightElement(t)}};var c=!1;i.fileHighlight=function(){c||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),c=!0),i.plugins.fileHighlight.highlight.apply(this,arguments)}}function h(e,i,o){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?i(r.responseText):r.status>=400?o(t(r.status,r.statusText)):o(n))},r.send(null)}function d(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),i=t[2],o=t[3];return i?o?[n,Number(o)]:[n,void 0]:[n,n]}}}()}).call(this,n("c8ba"))},c2d8:function(e,t,n){"use strict";var i=n("5706").HTML_TAG_RE;function o(e){var t=32|e;return t>=97&&t<=122}e.exports=function(e,t){var n,r,s,a,l=e.pos;return!!e.md.options.html&&(s=e.posMax,!(60!==e.src.charCodeAt(l)||l+2>=s)&&(n=e.src.charCodeAt(l+1),!(33!==n&&63!==n&&47!==n&&!o(n))&&(r=e.src.slice(l).match(i),!!r&&(t||(a=e.push("html_inline","",0),a.content=e.src.slice(l,l+r[0].length)),e.pos+=r[0].length,!0))))}},c317:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a}));var i=n("30db"),o="undefined"===typeof e?{cwd:function(){return"/"},env:Object.create(null),get platform(){return i["h"]?"win32":i["e"]?"darwin":"linux"},nextTick:function(e){return Object(i["i"])(e)}}:e,r=o.cwd,s=o.env,a=o.platform}).call(this,n("4362"))},c37a:function(e,t,n){"use strict";n("14d9"),n("d191");var i=n("9d26"),o=n("ba87"),r=(n("8ff2"),n("a9ad")),s=n("7560"),a=n("58df"),l=n("80d2"),u=Object(a["a"])(r["a"],s["a"]).extend({name:"v-messages",props:{value:{type:Array,default:()=>[]}},methods:{genChildren(){return this.$createElement("transition-group",{staticClass:"v-messages__wrapper",attrs:{name:"message-transition",tag:"div"}},this.value.map(this.genMessage))},genMessage(e,t){return this.$createElement("div",{staticClass:"v-messages__message",key:t},Object(l["m"])(this,"default",{message:e,key:t})||[e])}},render(e){return e("div",this.setTextColor(this.color,{staticClass:"v-messages",class:this.themeClasses}),[this.genChildren()])}}),c=u,h=n("7e2b"),d=n("38cb"),p=n("d9f7");const f=Object(a["a"])(h["a"],d["a"]);var g=f.extend().extend({name:"v-input",inheritAttrs:!1,props:{appendIcon:String,backgroundColor:{type:String,default:""},dense:Boolean,height:[Number,String],hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,id:String,label:String,loading:Boolean,persistentHint:Boolean,prependIcon:String,value:null},data(){return{lazyValue:this.value,hasMouseDown:!1}},computed:{classes(){return{"v-input--has-state":this.hasState,"v-input--hide-details":!this.showDetails,"v-input--is-label-active":this.isLabelActive,"v-input--is-dirty":this.isDirty,"v-input--is-disabled":this.isDisabled,"v-input--is-focused":this.isFocused,"v-input--is-loading":!1!==this.loading&&null!=this.loading,"v-input--is-readonly":this.isReadonly,"v-input--dense":this.dense,"v-input--hide-spin-buttons":this.hideSpinButtons,...this.themeClasses}},computedId(){return this.id||"input-"+this._uid},hasDetails(){return this.messagesToDisplay.length>0},hasHint(){return!this.hasMessages&&!!this.hint&&(this.persistentHint||this.isFocused)},hasLabel(){return!(!this.$slots.label&&!this.label)},internalValue:{get(){return this.lazyValue},set(e){this.lazyValue=e,this.$emit(this.$_modelEvent,e)}},isDirty(){return!!this.lazyValue},isLabelActive(){return this.isDirty},messagesToDisplay(){return this.hasHint?[this.hint]:this.hasMessages?this.validations.map(e=>{if("string"===typeof e)return e;const t=e(this.internalValue);return"string"===typeof t?t:""}).filter(e=>""!==e):[]},showDetails(){return!1===this.hideDetails||"auto"===this.hideDetails&&this.hasDetails}},watch:{value(e){this.lazyValue=e}},beforeCreate(){this.$_modelEvent=this.$options.model&&this.$options.model.event||"input"},methods:{genContent(){return[this.genPrependSlot(),this.genControl(),this.genAppendSlot()]},genControl(){return this.$createElement("div",{staticClass:"v-input__control",attrs:{title:this.attrs$.title}},[this.genInputSlot(),this.genMessages()])},genDefaultSlot(){return[this.genLabel(),this.$slots.default]},genIcon(e,t,n={}){const o=this[e+"Icon"],r="click:"+Object(l["p"])(e),s=!(!this.listeners$[r]&&!t),a=Object(p["a"])({attrs:{"aria-label":s?Object(l["p"])(e).split("-")[0]+" icon":void 0,color:this.validationState,dark:this.dark,disabled:this.isDisabled,light:this.light,tabindex:"clear"===e?-1:void 0},on:s?{click:e=>{e.preventDefault(),e.stopPropagation(),this.$emit(r,e),t&&t(e)},mouseup:e=>{e.preventDefault(),e.stopPropagation()}}:void 0},n);return this.$createElement("div",{staticClass:"v-input__icon",class:e?"v-input__icon--"+Object(l["p"])(e):void 0},[this.$createElement(i["a"],a,o)])},genInputSlot(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor,{staticClass:"v-input__slot",style:{height:Object(l["g"])(this.height)},on:{click:this.onClick,mousedown:this.onMouseDown,mouseup:this.onMouseUp},ref:"input-slot"}),[this.genDefaultSlot()])},genLabel(){return this.hasLabel?this.$createElement(o["a"],{props:{color:this.validationState,dark:this.dark,disabled:this.isDisabled,focused:this.hasState,for:this.computedId,light:this.light}},this.$slots.label||this.label):null},genMessages(){return this.showDetails?this.$createElement(c,{props:{color:this.hasHint?"":this.validationState,dark:this.dark,light:this.light,value:this.messagesToDisplay},attrs:{role:this.hasMessages?"alert":null},scopedSlots:{default:e=>Object(l["m"])(this,"message",e)}}):null},genSlot(e,t,n){if(!n.length)return null;const i=`${e}-${t}`;return this.$createElement("div",{staticClass:"v-input__"+i,ref:i},n)},genPrependSlot(){const e=[];return this.$slots.prepend?e.push(this.$slots.prepend):this.prependIcon&&e.push(this.genIcon("prepend")),this.genSlot("prepend","outer",e)},genAppendSlot(){const e=[];return this.$slots.append?e.push(this.$slots.append):this.appendIcon&&e.push(this.genIcon("append")),this.genSlot("append","outer",e)},onClick(e){this.$emit("click",e)},onMouseDown(e){this.hasMouseDown=!0,this.$emit("mousedown",e)},onMouseUp(e){this.hasMouseDown=!1,this.$emit("mouseup",e)}},render(e){return e("div",this.setTextColor(this.validationState,{staticClass:"v-input",class:this.classes}),this.genContent())}});t["a"]=g},c3f0:function(e,t,n){"use strict";var i=n("80d2");const o=e=>{const{touchstartX:t,touchendX:n,touchstartY:i,touchendY:o}=e,r=.5,s=16;e.offsetX=n-t,e.offsetY=o-i,Math.abs(e.offsetY)<r*Math.abs(e.offsetX)&&(e.left&&n<t-s&&e.left(e),e.right&&n>t+s&&e.right(e)),Math.abs(e.offsetX)<r*Math.abs(e.offsetY)&&(e.up&&o<i-s&&e.up(e),e.down&&o>i+s&&e.down(e))};function r(e,t){const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,t.start&&t.start(Object.assign(e,t))}function s(e,t){const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,t.end&&t.end(Object.assign(e,t)),o(t)}function a(e,t){const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,t.move&&t.move(Object.assign(e,t))}function l(e){const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:e=>r(e,t),touchend:e=>s(e,t),touchmove:e=>a(e,t)}}function u(e,t,n){const o=t.value,r=o.parent?e.parentElement:e,s=o.options||{passive:!0};if(!r)return;const a=l(t.value);r._touchHandlers=Object(r._touchHandlers),r._touchHandlers[n.context._uid]=a,Object(i["r"])(a).forEach(e=>{r.addEventListener(e,a[e],s)})}function c(e,t,n){const o=t.value.parent?e.parentElement:e;if(!o||!o._touchHandlers)return;const r=o._touchHandlers[n.context._uid];Object(i["r"])(r).forEach(e=>{o.removeEventListener(e,r[e])}),delete o._touchHandlers[n.context._uid]}const h={inserted:u,unbind:c};t["a"]=h},c430:function(e,t){e.exports=!1},c464:function(e,t,n){"use strict";var i={};function o(e){var t,n,o=i[e];if(o)return o;for(o=i[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}function r(e,t,n){var i,s,a,l,u,c="";for("string"!==typeof t&&(n=t,t=r.defaultChars),"undefined"===typeof n&&(n=!0),u=o(t),i=0,s=e.length;i<s;i++)if(a=e.charCodeAt(i),n&&37===a&&i+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))c+=e.slice(i,i+3),i+=2;else if(a<128)c+=u[a];else if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&i+1<s&&(l=e.charCodeAt(i+1),l>=56320&&l<=57343)){c+=encodeURIComponent(e[i]+e[i+1]),i++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(e[i]);return c}r.defaultChars=";/?:@&=+$,-_.!~*'()#",r.componentChars="-_.!~*'()",e.exports=r},c532:function(e,t,n){"use strict";(function(e){var i=n("1d2b");const{toString:o}=Object.prototype,{getPrototypeOf:r}=Object,s=(e=>t=>{const n=o.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),a=e=>(e=e.toLowerCase(),t=>s(t)===e),l=e=>t=>typeof t===e,{isArray:u}=Array,c=l("undefined");function h(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const d=a("ArrayBuffer");function p(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer),t}const f=l("string"),g=l("function"),m=l("number"),_=e=>null!==e&&"object"===typeof e,v=e=>!0===e||!1===e,y=e=>{if("object"!==s(e))return!1;const t=r(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b=a("Date"),w=a("File"),C=a("Blob"),S=a("FileList"),E=e=>_(e)&&g(e.pipe),T=e=>{const t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||o.call(e)===t||g(e.toString)&&e.toString()===t)},k=a("URLSearchParams"),x=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function L(e,t,{allOwnKeys:n=!1}={}){if(null===e||"undefined"===typeof e)return;let i,o;if("object"!==typeof e&&(e=[e]),u(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),r=o.length;let s;for(i=0;i<r;i++)s=o[i],t.call(null,e[s],s,e)}}function I(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,o=n.length;while(o-- >0)if(i=n[o],t===i.toLowerCase())return i;return null}const O=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:e)(),D=e=>!c(e)&&e!==O;function N(){const{caseless:e}=D(this)&&this||{},t={},n=(n,i)=>{const o=e&&I(t,i)||i;y(t[o])&&y(n)?t[o]=N(t[o],n):y(n)?t[o]=N({},n):u(n)?t[o]=n.slice():t[o]=n};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&L(arguments[i],n);return t}const R=(e,t,n,{allOwnKeys:o}={})=>(L(t,(t,o)=>{n&&g(t)?e[o]=Object(i["a"])(t,n):e[o]=t},{allOwnKeys:o}),e),A=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),M=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},P=(e,t,n,i)=>{let o,s,a;const l={};if(t=t||{},null==e)return t;do{o=Object.getOwnPropertyNames(e),s=o.length;while(s-- >0)a=o[s],i&&!i(a,e,t)||l[a]||(t[a]=e[a],l[a]=!0);e=!1!==n&&r(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},F=(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},B=e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!m(t))return null;const n=new Array(t);while(t-- >0)n[t]=e[t];return n},V=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&r(Uint8Array)),H=(e,t)=>{const n=e&&e[Symbol.iterator],i=n.call(e);let o;while((o=i.next())&&!o.done){const n=o.value;t.call(e,n[0],n[1])}},$=(e,t)=>{let n;const i=[];while(null!==(n=e.exec(t)))i.push(n);return i},W=a("HTMLFormElement"),U=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),z=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),j=a("RegExp"),G=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};L(n,(n,o)=>{!1!==t(n,o,e)&&(i[o]=n)}),Object.defineProperties(e,i)},K=e=>{G(e,(t,n)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];g(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},q=(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return u(e)?i(e):i(String(e).split(t)),n},Y=()=>{},X=(e,t)=>(e=+e,Number.isFinite(e)?e:t),Z="abcdefghijklmnopqrstuvwxyz",J="0123456789",Q={DIGIT:J,ALPHA:Z,ALPHA_DIGIT:Z+Z.toUpperCase()+J},ee=(e=16,t=Q.ALPHA_DIGIT)=>{let n="";const{length:i}=t;while(e--)n+=t[Math.random()*i|0];return n};function te(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const ne=e=>{const t=new Array(10),n=(e,i)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const o=u(e)?[]:{};return L(e,(e,t)=>{const r=n(e,i+1);!c(r)&&(o[t]=r)}),t[i]=void 0,o}}return e};return n(e,0)};t["a"]={isArray:u,isArrayBuffer:d,isBuffer:h,isFormData:T,isArrayBufferView:p,isString:f,isNumber:m,isBoolean:v,isObject:_,isPlainObject:y,isUndefined:c,isDate:b,isFile:w,isBlob:C,isRegExp:j,isFunction:g,isStream:E,isURLSearchParams:k,isTypedArray:V,isFileList:S,forEach:L,merge:N,extend:R,trim:x,stripBOM:A,inherits:M,toFlatObject:P,kindOf:s,kindOfTest:a,endsWith:F,toArray:B,forEachEntry:H,matchAll:$,isHTMLForm:W,hasOwnProperty:z,hasOwnProp:z,reduceDescriptors:G,freezeMethods:K,toObjectSet:q,toCamelCase:U,noop:Y,toFiniteNumber:X,findKey:I,global:O,isContextDefined:D,ALPHABET:Q,generateString:ee,isSpecCompliantForm:te,toJSONObject:ne}}).call(this,n("c8ba"))},c65b:function(e,t,n){var i=n("40d5"),o=Function.prototype.call;e.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},c671:function(e,t,n){"use strict";var i=n("9d65"),o=n("4e82"),r=n("c3f0"),s=n("80d2"),a=n("58df");const l=Object(a["a"])(i["a"],Object(o["a"])("windowGroup","v-window-item","v-window"));var u=l.extend().extend().extend({name:"v-window-item",directives:{Touch:r["a"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(s["g"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(e){this.inTransition&&this.$nextTick(()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(s["g"])(e.clientHeight))})}},render(e){return e("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}});t["a"]=u.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const e=u.options.methods.genWindowItem.call(this);return e.data.domProps=e.data.domProps||{},e.data.domProps.id=this.id||this.value,e}}})},c6b6:function(e,t,n){var i=n("e330"),o=i({}.toString),r=i("".slice);e.exports=function(e){return r(o(e),8,-1)}},c6cd:function(e,t,n){var i=n("da84"),o=n("6374"),r="__core-js_shared__",s=i[r]||o(r,{});e.exports=s},c84a:function(e,t,n){},c88e:function(e,t,n){},c8a9:function(e,t,n){"use strict";function i(e,t){var n,i,o,r,s,a,l=t.length;for(n=l-1;n>=0;n--)i=t[n],95!==i.marker&&42!==i.marker||-1!==i.end&&(o=t[i.end],a=n>0&&t[n-1].end===i.end+1&&t[n-1].marker===i.marker&&t[n-1].token===i.token-1&&t[i.end+1].token===o.token+1,s=String.fromCharCode(i.marker),r=e.tokens[i.token],r.type=a?"strong_open":"em_open",r.tag=a?"strong":"em",r.nesting=1,r.markup=a?s+s:s,r.content="",r=e.tokens[o.token],r.type=a?"strong_close":"em_close",r.tag=a?"strong":"em",r.nesting=-1,r.markup=a?s+s:s,r.content="",a&&(e.tokens[t[n-1].token].content="",e.tokens[t[i.end+1].token].content="",n--))}e.exports.tokenize=function(e,t){var n,i,o,r=e.pos,s=e.src.charCodeAt(r);if(t)return!1;if(95!==s&&42!==s)return!1;for(i=e.scanDelims(e.pos,42===s),n=0;n<i.length;n++)o=e.push("text","",0),o.content=String.fromCharCode(s),e.delimiters.push({marker:s,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},e.exports.postProcess=function(e){var t,n=e.tokens_meta,o=e.tokens_meta.length;for(i(e,e.delimiters),t=0;t<o;t++)n[t]&&n[t].delimiters&&i(e,n[t].delimiters)}},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},c995:function(e,t,n){"use strict";var i=n("2b0e");t["a"]=i["a"].extend({name:"elevatable",props:{elevation:[Number,String]},computed:{computedElevation(){return this.elevation},elevationClasses(){const e=this.computedElevation;return null==e||isNaN(parseInt(e))?{}:{["elevation-"+this.elevation]:!0}}}})},ca84:function(e,t,n){var i=n("e330"),o=n("1a2d"),r=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),l=i([].push);e.exports=function(e,t){var n,i=r(e),u=0,c=[];for(n in i)!o(a,n)&&o(i,n)&&l(c,n);while(t.length>u)o(i,n=t[u++])&&(~s(c,n)||l(c,n));return c}},caa1:function(e,t,n){},cab5:function(e,t,n){},cb2d:function(e,t,n){var i=n("1626"),o=n("9bf2"),r=n("13d2"),s=n("6374");e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(i(n)&&r(n,u,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cbc7:function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},cc12:function(e,t,n){var i=n("da84"),o=n("861d"),r=i.document,s=o(r)&&o(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},cd0f:function(e,t,n){"use strict";var i=n("0068").normalizeReference,o=n("0068").isSpace;e.exports=function(e,t){var n,r,s,a,l,u,c,h,d,p="",f="",g=e.pos,m=e.posMax,_=e.pos,v=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(l=e.pos+1,a=e.md.helpers.parseLinkLabel(e,e.pos,!0),a<0)return!1;if(u=a+1,u<m&&40===e.src.charCodeAt(u)){for(v=!1,u++;u<m;u++)if(r=e.src.charCodeAt(u),!o(r)&&10!==r)break;if(u>=m)return!1;if(_=u,c=e.md.helpers.parseLinkDestination(e.src,u,e.posMax),c.ok){for(p=e.md.normalizeLink(c.str),e.md.validateLink(p)?u=c.pos:p="",_=u;u<m;u++)if(r=e.src.charCodeAt(u),!o(r)&&10!==r)break;if(c=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<m&&_!==u&&c.ok)for(f=c.str,u=c.pos;u<m;u++)if(r=e.src.charCodeAt(u),!o(r)&&10!==r)break}(u>=m||41!==e.src.charCodeAt(u))&&(v=!0),u++}if(v){if("undefined"===typeof e.env.references)return!1;if(u<m&&91===e.src.charCodeAt(u)?(_=u+1,u=e.md.helpers.parseLinkLabel(e,u),u>=0?s=e.src.slice(_,u++):u=a+1):u=a+1,s||(s=e.src.slice(l,a)),h=e.env.references[i(s)],!h)return e.pos=g,!1;p=h.href,f=h.title}return t||(e.pos=l,e.posMax=a,d=e.push("link_open","a",1),d.attrs=n=[["href",p]],f&&n.push(["title",f]),e.md.inline.tokenize(e),d=e.push("link_close","a",-1)),e.pos=u,e.posMax=m,!0}},cdce:function(e,t,n){var i=n("da84"),o=n("1626"),r=i.WeakMap;e.exports=o(r)&&/native code/.test(String(r))},ce7e:function(e,t,n){"use strict";n("8ce9");var i=n("7560");t["a"]=i["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})},cee4:function(e,t,n){"use strict";var i=n("c532"),o=n("1d2b"),r=n("e467");function s(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function a(e,t){this._pairs=[],e&&Object(r["a"])(e,this,t)}const l=a.prototype;l.append=function(e,t){this._pairs.push([e,t])},l.toString=function(e){const t=e?function(t){return e.call(this,t,s)}:s;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var u=a;function c(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function h(e,t,n){if(!t)return e;const o=n&&n.encode||c,r=n&&n.serialize;let s;if(s=r?r(t,n):i["a"].isURLSearchParams(t)?t.toString():new u(t,n).toString(o),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}class d{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){i["a"].forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var p=d,f=n("7917"),g={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},m="undefined"!==typeof URLSearchParams?URLSearchParams:u,_="undefined"!==typeof FormData?FormData:null;const v=(()=>{let e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)})(),y=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)();var b={isBrowser:!0,classes:{URLSearchParams:m,FormData:_,Blob:Blob},isStandardBrowserEnv:v,isStandardBrowserWebWorkerEnv:y,protocols:["http","https","file","blob","url","data"]};function w(e,t){return Object(r["a"])(e,new b.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,o){return b.isNode&&i["a"].isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function C(e){return i["a"].matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}function S(e){const t={},n=Object.keys(e);let i;const o=n.length;let r;for(i=0;i<o;i++)r=n[i],t[r]=e[r];return t}function E(e){function t(e,n,o,r){let s=e[r++];const a=Number.isFinite(+s),l=r>=e.length;if(s=!s&&i["a"].isArray(o)?o.length:s,l)return i["a"].hasOwnProp(o,s)?o[s]=[o[s],n]:o[s]=n,!a;o[s]&&i["a"].isObject(o[s])||(o[s]=[]);const u=t(e,n,o[s],r);return u&&i["a"].isArray(o[s])&&(o[s]=S(o[s])),!a}if(i["a"].isFormData(e)&&i["a"].isFunction(e.entries)){const n={};return i["a"].forEachEntry(e,(e,i)=>{t(C(e),i,n,0)}),n}return null}var T=E;const k={"Content-Type":void 0};function x(e,t,n){if(i["a"].isString(e))try{return(t||JSON.parse)(e),i["a"].trim(e)}catch(o){if("SyntaxError"!==o.name)throw o}return(n||JSON.stringify)(e)}const L={transitional:g,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",o=n.indexOf("application/json")>-1,s=i["a"].isObject(e);s&&i["a"].isHTMLForm(e)&&(e=new FormData(e));const a=i["a"].isFormData(e);if(a)return o&&o?JSON.stringify(T(e)):e;if(i["a"].isArrayBuffer(e)||i["a"].isBuffer(e)||i["a"].isStream(e)||i["a"].isFile(e)||i["a"].isBlob(e))return e;if(i["a"].isArrayBufferView(e))return e.buffer;if(i["a"].isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return w(e,this.formSerializer).toString();if((l=i["a"].isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Object(r["a"])(l?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||o?(t.setContentType("application/json",!1),x(e)):e}],transformResponse:[function(e){const t=this.transitional||L.transitional,n=t&&t.forcedJSONParsing,o="json"===this.responseType;if(e&&i["a"].isString(e)&&(n&&!this.responseType||o)){const n=t&&t.silentJSONParsing,i=!n&&o;try{return JSON.parse(e)}catch(r){if(i){if("SyntaxError"===r.name)throw f["a"].from(r,f["a"].ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:b.classes.FormData,Blob:b.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i["a"].forEach(["delete","get","head"],(function(e){L.headers[e]={}})),i["a"].forEach(["post","put","patch"],(function(e){L.headers[e]=i["a"].merge(k)}));var I=L;const O=i["a"].toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var D=e=>{const t={};let n,i,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),i=e.substring(o+1).trim(),!n||t[n]&&O[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t};const N=Symbol("internals");function R(e){return e&&String(e).trim().toLowerCase()}function A(e){return!1===e||null==e?e:i["a"].isArray(e)?e.map(A):String(e)}function M(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;while(i=n.exec(e))t[i[1]]=i[2];return t}function P(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function F(e,t,n,o,r){return i["a"].isFunction(o)?o.call(this,t,n):(r&&(t=n),i["a"].isString(t)?i["a"].isString(o)?-1!==t.indexOf(o):i["a"].isRegExp(o)?o.test(t):void 0:void 0)}function B(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function V(e,t){const n=i["a"].toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,o){return this[i].call(this,t,e,n,o)},configurable:!0})})}class H{constructor(e){e&&this.set(e)}set(e,t,n){const o=this;function r(e,t,n){const r=R(t);if(!r)throw new Error("header name must be a non-empty string");const s=i["a"].findKey(o,r);(!s||void 0===o[s]||!0===n||void 0===n&&!1!==o[s])&&(o[s||t]=A(e))}const s=(e,t)=>i["a"].forEach(e,(e,n)=>r(e,n,t));return i["a"].isPlainObject(e)||e instanceof this.constructor?s(e,t):i["a"].isString(e)&&(e=e.trim())&&!P(e)?s(D(e),t):null!=e&&r(t,e,n),this}get(e,t){if(e=R(e),e){const n=i["a"].findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return M(e);if(i["a"].isFunction(t))return t.call(this,e,n);if(i["a"].isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=R(e),e){const n=i["a"].findKey(this,e);return!(!n||void 0===this[n]||t&&!F(this,this[n],n,t))}return!1}delete(e,t){const n=this;let o=!1;function r(e){if(e=R(e),e){const r=i["a"].findKey(n,e);!r||t&&!F(n,n[r],r,t)||(delete n[r],o=!0)}}return i["a"].isArray(e)?e.forEach(r):r(e),o}clear(e){const t=Object.keys(this);let n=t.length,i=!1;while(n--){const o=t[n];e&&!F(this,this[o],o,e,!0)||(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return i["a"].forEach(this,(o,r)=>{const s=i["a"].findKey(n,r);if(s)return t[s]=A(o),void delete t[r];const a=e?B(r):String(r).trim();a!==r&&delete t[r],t[a]=A(o),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return i["a"].forEach(this,(n,o)=>{null!=n&&!1!==n&&(t[o]=e&&i["a"].isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=this[N]=this[N]={accessors:{}},n=t.accessors,o=this.prototype;function r(e){const t=R(e);n[t]||(V(o,e),n[t]=!0)}return i["a"].isArray(e)?e.forEach(r):r(e),this}}H.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),i["a"].freezeMethods(H.prototype),i["a"].freezeMethods(H);var $=H;function W(e,t){const n=this||I,o=t||n,r=$.from(o.headers);let s=o.data;return i["a"].forEach(e,(function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)})),r.normalize(),s}function U(e){return!(!e||!e.__CANCEL__)}function z(e,t,n){f["a"].call(this,null==e?"canceled":e,f["a"].ERR_CANCELED,t,n),this.name="CanceledError"}i["a"].inherits(z,f["a"],{__CANCEL__:!0});var j=z,G=n("4581");function K(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new f["a"]("Request failed with status code "+n.status,[f["a"].ERR_BAD_REQUEST,f["a"].ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var q=b.isStandardBrowserEnv?function(){return{write:function(e,t,n,o,r,s){const a=[];a.push(e+"="+encodeURIComponent(t)),i["a"].isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i["a"].isString(o)&&a.push("path="+o),i["a"].isString(r)&&a.push("domain="+r),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Y(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function X(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Z(e,t){return e&&!Y(t)?X(e,t):t}var J=b.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function o(n){let i=n;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=o(window.location.href),function(e){const t=i["a"].isString(e)?o(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return function(){return!0}}();function Q(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ee(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=i[s];o||(o=l),n[r]=a,i[r]=l;let c=s,h=0;while(c!==r)h+=n[c++],c%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const d=u&&l-u;return d?Math.round(1e3*h/d):void 0}}var te=ee;function ne(e,t){let n=0;const i=te(50,250);return o=>{const r=o.loaded,s=o.lengthComputable?o.total:void 0,a=r-n,l=i(a),u=r<=s;n=r;const c={loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&u?(s-r)/l:void 0,event:o};c[t?"download":"upload"]=!0,e(c)}}const ie="undefined"!==typeof XMLHttpRequest;var oe=ie&&function(e){return new Promise((function(t,n){let o=e.data;const r=$.from(e.headers).normalize(),s=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}i["a"].isFormData(o)&&(b.isStandardBrowserEnv||b.isStandardBrowserWebWorkerEnv)&&r.setContentType(!1);let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const c=Z(e.baseURL,e.url);function d(){if(!u)return;const i=$.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),o=s&&"text"!==s&&"json"!==s?u.response:u.responseText,r={data:o,status:u.status,statusText:u.statusText,headers:i,config:e,request:u};K((function(e){t(e),l()}),(function(e){n(e),l()}),r),u=null}if(u.open(e.method.toUpperCase(),h(c,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new f["a"]("Request aborted",f["a"].ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new f["a"]("Network Error",f["a"].ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const i=e.transitional||g;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f["a"](t,i.clarifyTimeoutError?f["a"].ETIMEDOUT:f["a"].ECONNABORTED,e,u)),u=null},b.isStandardBrowserEnv){const t=(e.withCredentials||J(c))&&e.xsrfCookieName&&q.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===o&&r.setContentType(null),"setRequestHeader"in u&&i["a"].forEach(r.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),i["a"].isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",ne(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",ne(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=t=>{u&&(n(!t||t.type?new j(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=Q(c);p&&-1===b.protocols.indexOf(p)?n(new f["a"]("Unsupported protocol "+p+":",f["a"].ERR_BAD_REQUEST,e)):u.send(o||null)}))};const re={http:G["a"],xhr:oe};i["a"].forEach(re,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});var se={getAdapter:e=>{e=i["a"].isArray(e)?e:[e];const{length:t}=e;let n,o;for(let r=0;r<t;r++)if(n=e[r],o=i["a"].isString(n)?re[n.toLowerCase()]:n)break;if(!o){if(!1===o)throw new f["a"](`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(i["a"].hasOwnProp(re,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`)}if(!i["a"].isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:re};function ae(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new j(null,e)}function le(e){ae(e),e.headers=$.from(e.headers),e.data=W.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=se.getAdapter(e.adapter||I.adapter);return t(e).then((function(t){return ae(e),t.data=W.call(e,e.transformResponse,t),t.headers=$.from(t.headers),t}),(function(t){return U(t)||(ae(e),t&&t.response&&(t.response.data=W.call(e,e.transformResponse,t.response),t.response.headers=$.from(t.response.headers))),Promise.reject(t)}))}const ue=e=>e instanceof $?e.toJSON():e;function ce(e,t){t=t||{};const n={};function o(e,t,n){return i["a"].isPlainObject(e)&&i["a"].isPlainObject(t)?i["a"].merge.call({caseless:n},e,t):i["a"].isPlainObject(t)?i["a"].merge({},t):i["a"].isArray(t)?t.slice():t}function r(e,t,n){return i["a"].isUndefined(t)?i["a"].isUndefined(e)?void 0:o(void 0,e,n):o(e,t,n)}function s(e,t){if(!i["a"].isUndefined(t))return o(void 0,t)}function a(e,t){return i["a"].isUndefined(t)?i["a"].isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function l(n,i,r){return r in t?o(n,i):r in e?o(void 0,n):void 0}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(e,t)=>r(ue(e),ue(t),!0)};return i["a"].forEach(Object.keys(e).concat(Object.keys(t)),(function(o){const s=u[o]||r,a=s(e[o],t[o],o);i["a"].isUndefined(a)&&s!==l||(n[o]=a)})),n}const he="1.3.3",de={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{de[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const pe={};function fe(e,t,n){if("object"!==typeof e)throw new f["a"]("options must be an object",f["a"].ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;while(o-- >0){const r=i[o],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new f["a"]("option "+r+" must be "+n,f["a"].ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new f["a"]("Unknown option "+r,f["a"].ERR_BAD_OPTION)}}de.transitional=function(e,t,n){function i(e,t){return"[Axios v"+he+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,r)=>{if(!1===e)throw new f["a"](i(o," has been removed"+(t?" in "+t:"")),f["a"].ERR_DEPRECATED);return t&&!pe[o]&&(pe[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,r)}};var ge={assertOptions:fe,validators:de};const me=ge.validators;class _e{constructor(e){this.defaults=e,this.interceptors={request:new p,response:new p}}request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=ce(this.defaults,t);const{transitional:n,paramsSerializer:o,headers:r}=t;let s;void 0!==n&&ge.assertOptions(n,{silentJSONParsing:me.transitional(me.boolean),forcedJSONParsing:me.transitional(me.boolean),clarifyTimeoutError:me.transitional(me.boolean)},!1),void 0!==o&&ge.assertOptions(o,{encode:me.function,serialize:me.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),s=r&&i["a"].merge(r.common,r[t.method]),s&&i["a"].forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=$.concat(s,r);const a=[];let l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let h,d=0;if(!l){const e=[le.bind(this),void 0];e.unshift.apply(e,a),e.push.apply(e,u),h=e.length,c=Promise.resolve(t);while(d<h)c=c.then(e[d++],e[d++]);return c}h=a.length;let p=t;d=0;while(d<h){const e=a[d++],t=a[d++];try{p=e(p)}catch(f){t.call(this,f);break}}try{c=le.call(this,p)}catch(f){return Promise.reject(f)}d=0,h=u.length;while(d<h)c=c.then(u[d++],u[d++]);return c}getUri(e){e=ce(this.defaults,e);const t=Z(e.baseURL,e.url);return h(t,e.params,e.paramsSerializer)}}i["a"].forEach(["delete","get","head","options"],(function(e){_e.prototype[e]=function(t,n){return this.request(ce(n||{},{method:e,url:t,data:(n||{}).data}))}})),i["a"].forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,o){return this.request(ce(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}_e.prototype[e]=t(),_e.prototype[e+"Form"]=t(!0)}));var ve=_e;class ye{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;while(t-- >0)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,o){n.reason||(n.reason=new j(e,i,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new ye((function(t){e=t}));return{token:t,cancel:e}}}var be=ye;function we(e){return function(t){return e.apply(null,t)}}function Ce(e){return i["a"].isObject(e)&&!0===e.isAxiosError}const Se={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Se).forEach(([e,t])=>{Se[t]=e});var Ee=Se;function Te(e){const t=new ve(e),n=Object(o["a"])(ve.prototype.request,t);return i["a"].extend(n,ve.prototype,t,{allOwnKeys:!0}),i["a"].extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return Te(ce(e,t))},n}const ke=Te(I);ke.Axios=ve,ke.CanceledError=j,ke.CancelToken=be,ke.isCancel=U,ke.VERSION=he,ke.toFormData=r["a"],ke.AxiosError=f["a"],ke.Cancel=ke.CanceledError,ke.all=function(e){return Promise.all(e)},ke.spread=we,ke.isAxiosError=Ce,ke.mergeConfig=ce,ke.AxiosHeaders=$,ke.formToJSON=e=>T(i["a"].isHTMLForm(e)?new FormData(e):e),ke.HttpStatusCode=Ee,ke.default=ke;t["a"]=ke},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("da84"),o=n("1626"),r=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(i[e]):i[e]&&i[e][t]}},d10f:function(e,t,n){"use strict";var i=n("2b0e");t["a"]=i["a"].extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame(()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0})}})},d191:function(e,t,n){},d1e7:function(e,t,n){"use strict";var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,r=o&&!i.call({1:2},1);t.f=r?function(e){var t=o(this,e);return!!t&&t.enumerable}:i},d2bb:function(e,t,n){var i=n("7282"),o=n("825a"),r=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=i(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(s){}return function(n,i){return o(n),r(i),t?e(n,i):n.__proto__=i,n}}():void 0)},d4cd:function(e,t,n){"use strict";e.exports=n("08ae")},d58f:function(e,t,n){var i=n("59ed"),o=n("7b0b"),r=n("44ad"),s=n("07fa"),a=TypeError,l=function(e){return function(t,n,l,u){i(n);var c=o(t),h=r(c),d=s(c),p=e?d-1:0,f=e?-1:1;if(l<2)while(1){if(p in h){u=h[p],p+=f;break}if(p+=f,e?p<0:d<=p)throw a("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=f)p in h&&(u=n(u,h[p],p,c));return u}};e.exports={left:l(!1),right:l(!0)}},d5d1:function(e,t,n){"use strict";t.Any=n("cbc7"),t.Cc=n("a7bc"),t.Cf=n("6fd1"),t.P=n("7ca0"),t.Z=n("4fc2")},d670:function(e,t,n){"use strict";var i=n("0068").normalizeReference,o=n("0068").isSpace;e.exports=function(e,t,n,r){var s,a,l,u,c,h,d,p,f,g,m,_,v,y,b,w,C=0,S=e.bMarks[t]+e.tShift[t],E=e.eMarks[t],T=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(S))return!1;while(++S<E)if(93===e.src.charCodeAt(S)&&92!==e.src.charCodeAt(S-1)){if(S+1===E)return!1;if(58!==e.src.charCodeAt(S+1))return!1;break}for(u=e.lineMax,b=e.md.block.ruler.getRules("reference"),g=e.parentType,e.parentType="reference";T<u&&!e.isEmpty(T);T++)if(!(e.sCount[T]-e.blkIndent>3)&&!(e.sCount[T]<0)){for(y=!1,h=0,d=b.length;h<d;h++)if(b[h](e,T,u,!0)){y=!0;break}if(y)break}for(v=e.getLines(t,T,e.blkIndent,!1).trim(),E=v.length,S=1;S<E;S++){if(s=v.charCodeAt(S),91===s)return!1;if(93===s){f=S;break}10===s?C++:92===s&&(S++,S<E&&10===v.charCodeAt(S)&&C++)}if(f<0||58!==v.charCodeAt(f+1))return!1;for(S=f+2;S<E;S++)if(s=v.charCodeAt(S),10===s)C++;else if(!o(s))break;if(m=e.md.helpers.parseLinkDestination(v,S,E),!m.ok)return!1;if(c=e.md.normalizeLink(m.str),!e.md.validateLink(c))return!1;for(S=m.pos,C+=m.lines,a=S,l=C,_=S;S<E;S++)if(s=v.charCodeAt(S),10===s)C++;else if(!o(s))break;m=e.md.helpers.parseLinkTitle(v,S,E),S<E&&_!==S&&m.ok?(w=m.str,S=m.pos,C+=m.lines):(w="",S=a,C=l);while(S<E){if(s=v.charCodeAt(S),!o(s))break;S++}if(S<E&&10!==v.charCodeAt(S)&&w){w="",S=a,C=l;while(S<E){if(s=v.charCodeAt(S),!o(s))break;S++}}return!(S<E&&10!==v.charCodeAt(S))&&(p=i(v.slice(1,f)),!!p&&(r||("undefined"===typeof e.env.references&&(e.env.references={}),"undefined"===typeof e.env.references[p]&&(e.env.references[p]={title:w,href:c}),e.parentType=g,e.line=t+C+1),!0))}},d8a6:function(e,t,n){"use strict";e.exports.encode=n("c464"),e.exports.decode=n("8f37"),e.exports.format=n("43e0"),e.exports.parse=n("da5f")},d8c3:function(e,t,n){},d8d9:function(e,t){!function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",i={pattern:RegExp("(^|[^\\w.])"+n+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp("(^|[^\\w.])"+n+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)"),lookbehind:!0,inside:i.inside},{pattern:RegExp("(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)"+n+"[A-Z]\\w*\\b"),lookbehind:!0,inside:i.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp("(\\bimport\\s+)"+n+"(?:[A-Z]\\w*|\\*)(?=\\s*;)"),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp("(\\bimport\\s+static\\s+)"+n+"(?:\\w+|\\*)(?=\\s*;)"),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp("(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?".replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)},d93b:function(e,t,n){},d95f:function(e,t,n){},d9b5:function(e,t,n){var i=n("d066"),o=n("1626"),r=n("3a9b"),s=n("fdbf"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&r(t.prototype,a(e))}},d9bd:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u}));n("14d9");var i=n("f309");function o(e,t,n){if(!i["a"].config.silent){if(n&&(t={_isVue:!0,$parent:n,$options:t}),t){if(t.$_alreadyWarned=t.$_alreadyWarned||[],t.$_alreadyWarned.includes(e))return;t.$_alreadyWarned.push(e)}return"[Vuetify] "+e+(t?p(t):"")}}function r(e,t,n){const i=o(e,t,n);null!=i&&console.warn(i)}function s(e,t,n){const i=o(e,t,n);null!=i&&console.error(i)}function a(e,t,n,i){r(`[UPGRADE] '${e}' is deprecated, use '${t}' instead.`,n,i)}function l(e,t,n,i){s(`[BREAKING] '${e}' has been removed, use '${t}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`,n,i)}function u(e,t,n){r(`[REMOVED] '${e}' has been removed. You can safely omit it.`,t,n)}const c=/(?:^|[-_])(\w)/g,h=e=>e.replace(c,e=>e.toUpperCase()).replace(/[-_]/g,"");function d(e,t){if(e.$root===e)return"<Root>";const n="function"===typeof e&&null!=e.cid?e.options:e._isVue?e.$options||e.constructor.options:e||{};let i=n.name||n._componentTag;const o=n.__file;if(!i&&o){const e=o.match(/([^/\\]+)\.vue$/);i=e&&e[1]}return(i?`<${h(i)}>`:"<Anonymous>")+(o&&!1!==t?" at "+o:"")}function p(e){if(e._isVue&&e.$parent){const t=[];let n=0;while(e){if(t.length>0){const i=t[t.length-1];if(i.constructor===e.constructor){n++,e=e.$parent;continue}n>0&&(t[t.length-1]=[i,n],n=0)}t.push(e),e=e.$parent}return"\n\nfound in\n\n"+t.map((e,t)=>`${0===t?"---\x3e ":" ".repeat(5+2*t)}${Array.isArray(e)?`${d(e[0])}... (${e[1]} recursive calls)`:d(e)}`).join("\n")}return`\n\n(found in ${d(e)})`}},d9e2:function(e,t,n){var i=n("23e7"),o=n("da84"),r=n("2ba4"),s=n("e5cb"),a="WebAssembly",l=o[a],u=7!==Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=s(e,t,u),i({global:!0,constructor:!0,arity:1,forced:u},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=s(a+"."+e,t,u),i({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return r(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return r(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return r(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return r(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return r(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return r(e,this,arguments)}})),c("URIError",(function(e){return function(t){return r(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return r(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return r(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return r(e,this,arguments)}}))},d9f7:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var i=n("80d2");const o={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function r(e){const t={};for(const n of e.split(o.styleList)){let[e,r]=n.split(o.styleProp);e=e.trim(),e&&("string"===typeof r&&(r=r.trim()),t[Object(i["c"])(e)]=r)}return t}function s(){const e={};let t,n=arguments.length;while(n--)for(t of Object.keys(arguments[n]))switch(t){case"class":case"directives":arguments[n][t]&&(e[t]=l(e[t],arguments[n][t]));break;case"style":arguments[n][t]&&(e[t]=a(e[t],arguments[n][t]));break;case"staticClass":if(!arguments[n][t])break;void 0===e[t]&&(e[t]=""),e[t]&&(e[t]+=" "),e[t]+=arguments[n][t].trim();break;case"on":case"nativeOn":arguments[n][t]&&(e[t]=u(e[t],arguments[n][t]));break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":if(!arguments[n][t])break;e[t]||(e[t]={}),e[t]={...arguments[n][t],...e[t]};break;default:e[t]||(e[t]=arguments[n][t])}return e}function a(e,t){return e?t?(e=Object(i["w"])("string"===typeof e?r(e):e),e.concat("string"===typeof t?r(t):t)):e:t}function l(e,t){return t?e&&e?Object(i["w"])(e).concat(t):t:e}function u(...e){if(!e[0])return e[1];if(!e[1])return e[0];const t={};for(let n=2;n--;){const i=e[n];for(const e in i)i[e]&&(t[e]?t[e]=[].concat(i[e],t[e]):t[e]=i[e])}return t}},da5f:function(e,t,n){"use strict";function i(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var o=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r","\n","\t"],l=["{","}","|","\\","^","`"].concat(a),u=["'"].concat(l),c=["%","/","?",";","#"].concat(u),h=["/","?","#"],d=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function _(e,t){if(e&&e instanceof i)return e;var n=new i;return n.parse(e,t),n}i.prototype.parse=function(e,t){var n,i,r,a,l,u=e;if(u=u.trim(),!t&&1===e.split("#").length){var _=s.exec(u);if(_)return this.pathname=_[1],_[2]&&(this.search=_[2]),this}var v=o.exec(u);if(v&&(v=v[0],r=v.toLowerCase(),this.protocol=v,u=u.substr(v.length)),(t||v||u.match(/^\/\/[^@\/]+@[^@\/]+/))&&(l="//"===u.substr(0,2),!l||v&&g[v]||(u=u.substr(2),this.slashes=!0)),!g[v]&&(l||v&&!m[v])){var y,b,w=-1;for(n=0;n<h.length;n++)a=u.indexOf(h[n]),-1!==a&&(-1===w||a<w)&&(w=a);for(b=-1===w?u.lastIndexOf("@"):u.lastIndexOf("@",w),-1!==b&&(y=u.slice(0,b),u=u.slice(b+1),this.auth=y),w=-1,n=0;n<c.length;n++)a=u.indexOf(c[n]),-1!==a&&(-1===w||a<w)&&(w=a);-1===w&&(w=u.length),":"===u[w-1]&&w--;var C=u.slice(0,w);u=u.slice(w),this.parseHost(C),this.hostname=this.hostname||"";var S="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!S){var E=this.hostname.split(/\./);for(n=0,i=E.length;n<i;n++){var T=E[n];if(T&&!T.match(p)){for(var k="",x=0,L=T.length;x<L;x++)T.charCodeAt(x)>127?k+="x":k+=T[x];if(!k.match(p)){var I=E.slice(0,n),O=E.slice(n+1),D=T.match(f);D&&(I.push(D[1]),O.unshift(D[2])),O.length&&(u=O.join(".")+u),this.hostname=I.join(".");break}}}}this.hostname.length>d&&(this.hostname=""),S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var N=u.indexOf("#");-1!==N&&(this.hash=u.substr(N),u=u.slice(0,N));var R=u.indexOf("?");return-1!==R&&(this.search=u.substr(R),u=u.slice(0,R)),u&&(this.pathname=u),m[r]&&this.hostname&&!this.pathname&&(this.pathname=""),this},i.prototype.parseHost=function(e){var t=r.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=_},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dc22:function(e,t,n){"use strict";function i(e,t,n){const i=t.value,o=t.options||{passive:!0};window.addEventListener("resize",i,o),e._onResize=Object(e._onResize),e._onResize[n.context._uid]={callback:i,options:o},t.modifiers&&t.modifiers.quiet||i()}function o(e,t,n){var i;if(!(null===(i=e._onResize)||void 0===i?void 0:i[n.context._uid]))return;const{callback:o,options:r}=e._onResize[n.context._uid];window.removeEventListener("resize",o,r),delete e._onResize[n.context._uid]}const r={inserted:i,unbind:o};t["a"]=r},dc4a:function(e,t,n){var i=n("59ed"),o=n("7234");e.exports=function(e,t){var n=e[t];return o(n)?void 0:i(n)}},dd89:function(e,t,n){"use strict";function i(e){if("function"!==typeof e.getRootNode){while(e.parentNode)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}n.d(t,"a",(function(){return i}))},df56:function(e,t,n){"use strict";e.exports=function(e,t,n){var i,o,r,s,a=-1,l=e.posMax,u=e.pos;e.pos=t+1,i=1;while(e.pos<l){if(r=e.src.charCodeAt(e.pos),93===r&&(i--,0===i)){o=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===r)if(s===e.pos-1)i++;else if(n)return e.pos=u,-1}return o&&(a=e.pos),e.pos=u,a}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var o=e[i];"."===o?e.splice(i,1):".."===o?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e){"string"!==typeof e&&(e+="");var t,n=0,i=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===i&&(o=!1,i=t+1);return-1===i?"":e.slice(n,i)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var s=r>=0?arguments[r]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,i="/"===s.charAt(0))}return t=n(o(t.split("/"),(function(e){return!!e})),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),s="/"===r(e,-1);return e=n(o(e.split("/"),(function(e){return!!e})),!i).join("/"),e||i||(e="."),e&&s&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=i(e.split("/")),r=i(n.split("/")),s=Math.min(o.length,r.length),a=s,l=0;l<s;l++)if(o[l]!==r[l]){a=l;break}var u=[];for(l=a;l<o.length;l++)u.push("..");return u=u.concat(r.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,o=!0,r=e.length-1;r>=1;--r)if(t=e.charCodeAt(r),47===t){if(!o){i=r;break}}else o=!1;return-1===i?n?"/":".":n&&1===i?"/":e.slice(0,i)},t.basename=function(e,t){var n=i(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,i=-1,o=!0,r=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===i&&(o=!1,i=s+1),46===a?-1===t?t=s:1!==r&&(r=1):-1!==t&&(r=-1);else if(!o){n=s+1;break}}return-1===t||-1===i||0===r||1===r&&t===i-1&&t===n+1?"":e.slice(t,i)};var r="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},df86:function(e,t,n){},dfc9:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("2029"),o=function(e,t,n){var i=n,o=0,r=e.length;while(i<t.length){var s=t[i];if(o<=0&&t.slice(i,i+r)===e)return i;"\\"===s?i++:"{"===s?o++:"}"===s&&o--,i++}return-1},r=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},s=/^\\begin{/,a=function(e,t){var n,i=[],a=new RegExp("("+t.map(e=>r(e.left)).join("|")+")");while(1){if(n=e.search(a),-1===n)break;n>0&&(i.push({type:"text",data:e.slice(0,n)}),e=e.slice(n));var l=t.findIndex(t=>e.startsWith(t.left));if(n=o(t[l].right,e,t[l].left.length),-1===n)break;var u=e.slice(0,n+t[l].right.length),c=s.test(u)?u:e.slice(t[l].left.length,n);i.push({type:"math",data:c,rawData:u,display:t[l].display}),e=e.slice(n+t[l].right.length)}return""!==e&&i.push({type:"text",data:e}),i},l=function(e,t){var n=a(e,t.delimiters);if(1===n.length&&"text"===n[0].type)return null;for(var o=document.createDocumentFragment(),r=0;r<n.length;r++)if("text"===n[r].type)o.appendChild(document.createTextNode(n[r].data));else{var s=document.createElement("span"),l=n[r].data;t.displayMode=n[r].display;try{t.preProcess&&(l=t.preProcess(l)),i["a"].render(l,s,t)}catch(u){if(!(u instanceof i["a"].ParseError))throw u;t.errorCallback("KaTeX auto-render: Failed to parse `"+n[r].data+"` with ",u),o.appendChild(document.createTextNode(n[r].rawData));continue}o.appendChild(s)}return o},u=function e(t,n){for(var i=0;i<t.childNodes.length;i++){var o=t.childNodes[i];if(3===o.nodeType){var r=o.textContent,s=o.nextSibling,a=0;while(s&&s.nodeType===Node.TEXT_NODE)r+=s.textContent,s=s.nextSibling,a++;var u=l(r,n);if(u){for(var c=0;c<a;c++)o.nextSibling.remove();i+=u.childNodes.length-1,t.replaceChild(u,o)}else i+=a}else 1===o.nodeType&&function(){var t=" "+o.className+" ",i=-1===n.ignoredTags.indexOf(o.nodeName.toLowerCase())&&n.ignoredClasses.every(e=>-1===t.indexOf(" "+e+" "));i&&e(o,n)}()}},c=function(e,t){if(!e)throw new Error("No element provided to render");var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.delimiters=n.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],n.ignoredTags=n.ignoredTags||["script","noscript","style","textarea","pre","code","option"],n.ignoredClasses=n.ignoredClasses||[],n.errorCallback=n.errorCallback||console.error,n.macros=n.macros||{},u(e,n)}},e1f3:function(e,t,n){"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},e2b8:function(e,t,n){},e330:function(e,t,n){var i=n("40d5"),o=Function.prototype,r=o.call,s=i&&o.bind.bind(r,r);e.exports=i?s:function(e){return function(){return r.apply(e,arguments)}}},e391:function(e,t,n){var i=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:i(e)}},e3db:function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},e431:function(e,t,n){},e467:function(e,t,n){"use strict";(function(e){var i=n("c532"),o=n("7917"),r=n("4581");function s(e){return i["a"].isPlainObject(e)||i["a"].isArray(e)}function a(e){return i["a"].endsWith(e,"[]")?e.slice(0,-2):e}function l(e,t,n){return e?e.concat(t).map((function(e,t){return e=a(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}function u(e){return i["a"].isArray(e)&&!e.some(s)}const c=i["a"].toFlatObject(i["a"],{},null,(function(e){return/^is[A-Z]/.test(e)}));function h(t,n,h){if(!i["a"].isObject(t))throw new TypeError("target must be an object");n=n||new(r["a"]||FormData),h=i["a"].toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!i["a"].isUndefined(t[e])}));const d=h.metaTokens,p=h.visitor||y,f=h.dots,g=h.indexes,m=h.Blob||"undefined"!==typeof Blob&&Blob,_=m&&i["a"].isSpecCompliantForm(n);if(!i["a"].isFunction(p))throw new TypeError("visitor must be a function");function v(t){if(null===t)return"";if(i["a"].isDate(t))return t.toISOString();if(!_&&i["a"].isBlob(t))throw new o["a"]("Blob is not supported. Use a Buffer instead.");return i["a"].isArrayBuffer(t)||i["a"].isTypedArray(t)?_&&"function"===typeof Blob?new Blob([t]):e.from(t):t}function y(e,t,o){let r=e;if(e&&!o&&"object"===typeof e)if(i["a"].endsWith(t,"{}"))t=d?t:t.slice(0,-2),e=JSON.stringify(e);else if(i["a"].isArray(e)&&u(e)||(i["a"].isFileList(e)||i["a"].endsWith(t,"[]"))&&(r=i["a"].toArray(e)))return t=a(t),r.forEach((function(e,o){!i["a"].isUndefined(e)&&null!==e&&n.append(!0===g?l([t],o,f):null===g?t:t+"[]",v(e))})),!1;return!!s(e)||(n.append(l(o,t,f),v(e)),!1)}const b=[],w=Object.assign(c,{defaultVisitor:y,convertValue:v,isVisitable:s});function C(e,t){if(!i["a"].isUndefined(e)){if(-1!==b.indexOf(e))throw Error("Circular reference detected in "+t.join("."));b.push(e),i["a"].forEach(e,(function(e,o){const r=!(i["a"].isUndefined(e)||null===e)&&p.call(n,e,i["a"].isString(o)?o.trim():o,t,w);!0===r&&C(e,t?t.concat(o):[o])})),b.pop()}}if(!i["a"].isObject(t))throw new TypeError("data must be an object");return C(t),n}t["a"]=h}).call(this,n("b639").Buffer)},e4ca:function(e,t,n){"use strict";var i=n("0068").unescapeAll;e.exports=function(e,t,n){var o,r,s=0,a=t,l={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){t++;while(t<n){if(o=e.charCodeAt(t),10===o)return l;if(60===o)return l;if(62===o)return l.pos=t+1,l.str=i(e.slice(a+1,t)),l.ok=!0,l;92===o&&t+1<n?t+=2:t++}return l}r=0;while(t<n){if(o=e.charCodeAt(t),32===o)break;if(o<32||127===o)break;if(92===o&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===o&&(r++,r>32))return l;if(41===o){if(0===r)break;r--}t++}}return a===t||0!==r||(l.str=i(e.slice(a,t)),l.lines=s,l.pos=t,l.ok=!0),l}},e5cb:function(e,t,n){"use strict";var i=n("d066"),o=n("1a2d"),r=n("9112"),s=n("3a9b"),a=n("d2bb"),l=n("e893"),u=n("aeb0"),c=n("7156"),h=n("e391"),d=n("ab36"),p=n("6f19"),f=n("83ab"),g=n("c430");e.exports=function(e,t,n,m){var _="stackTraceLimit",v=m?2:1,y=e.split("."),b=y[y.length-1],w=i.apply(null,y);if(w){var C=w.prototype;if(!g&&o(C,"cause")&&delete C.cause,!n)return w;var S=i("Error"),E=t((function(e,t){var n=h(m?t:e,void 0),i=m?new w(e):new w;return void 0!==n&&r(i,"message",n),p(i,E,i.stack,2),this&&s(C,this)&&c(i,this,E),arguments.length>v&&d(i,arguments[v]),i}));if(E.prototype=C,"Error"!==b?a?a(E,S):l(E,S,{name:!0}):f&&_ in w&&(u(E,w,_),u(E,w,"prepareStackTrace")),l(E,w),!g)try{C.name!==b&&r(C,"name",b),C.constructor=E}catch(T){}return E}}},e5d4:function(e,t,n){var i,o,r;(function(s,a){o=[n("e98f")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e){var t=e.__namespace__,n={};t.module$build$src$core$variables,t.module$build$src$core$utils$string,t.CodeGenerator$$module$build$src$core$generator,t.module$build$src$core$input_types.inputTypes,t.module$build$src$core$names.Names,t.NameType$$module$build$src$core$names;n.javascriptGenerator=new t.CodeGenerator$$module$build$src$core$generator("JavaScript"),n.javascriptGenerator.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(",")),n.javascriptGenerator.ORDER_ATOMIC=0,n.javascriptGenerator.ORDER_NEW=1.1,n.javascriptGenerator.ORDER_MEMBER=1.2,n.javascriptGenerator.ORDER_FUNCTION_CALL=2,n.javascriptGenerator.ORDER_INCREMENT=3,n.javascriptGenerator.ORDER_DECREMENT=3,n.javascriptGenerator.ORDER_BITWISE_NOT=4.1,n.javascriptGenerator.ORDER_UNARY_PLUS=4.2,n.javascriptGenerator.ORDER_UNARY_NEGATION=4.3,n.javascriptGenerator.ORDER_LOGICAL_NOT=4.4,n.javascriptGenerator.ORDER_TYPEOF=4.5,n.javascriptGenerator.ORDER_VOID=4.6,n.javascriptGenerator.ORDER_DELETE=4.7,n.javascriptGenerator.ORDER_AWAIT=4.8,n.javascriptGenerator.ORDER_EXPONENTIATION=5,n.javascriptGenerator.ORDER_MULTIPLICATION=5.1,n.javascriptGenerator.ORDER_DIVISION=5.2,n.javascriptGenerator.ORDER_MODULUS=5.3,n.javascriptGenerator.ORDER_SUBTRACTION=6.1,n.javascriptGenerator.ORDER_ADDITION=6.2,n.javascriptGenerator.ORDER_BITWISE_SHIFT=7,n.javascriptGenerator.ORDER_RELATIONAL=8,n.javascriptGenerator.ORDER_IN=8,n.javascriptGenerator.ORDER_INSTANCEOF=8,n.javascriptGenerator.ORDER_EQUALITY=9,n.javascriptGenerator.ORDER_BITWISE_AND=10,n.javascriptGenerator.ORDER_BITWISE_XOR=11,n.javascriptGenerator.ORDER_BITWISE_OR=12,n.javascriptGenerator.ORDER_LOGICAL_AND=13,n.javascriptGenerator.ORDER_LOGICAL_OR=14,n.javascriptGenerator.ORDER_CONDITIONAL=15,n.javascriptGenerator.ORDER_ASSIGNMENT=16,n.javascriptGenerator.ORDER_YIELD=17,n.javascriptGenerator.ORDER_COMMA=18,n.javascriptGenerator.ORDER_NONE=99,n.javascriptGenerator.ORDER_OVERRIDES=[[n.javascriptGenerator.ORDER_FUNCTION_CALL,n.javascriptGenerator.ORDER_MEMBER],[n.javascriptGenerator.ORDER_FUNCTION_CALL,n.javascriptGenerator.ORDER_FUNCTION_CALL],[n.javascriptGenerator.ORDER_MEMBER,n.javascriptGenerator.ORDER_MEMBER],[n.javascriptGenerator.ORDER_MEMBER,n.javascriptGenerator.ORDER_FUNCTION_CALL],[n.javascriptGenerator.ORDER_LOGICAL_NOT,n.javascriptGenerator.ORDER_LOGICAL_NOT],[n.javascriptGenerator.ORDER_MULTIPLICATION,n.javascriptGenerator.ORDER_MULTIPLICATION],[n.javascriptGenerator.ORDER_ADDITION,n.javascriptGenerator.ORDER_ADDITION],[n.javascriptGenerator.ORDER_LOGICAL_AND,n.javascriptGenerator.ORDER_LOGICAL_AND],[n.javascriptGenerator.ORDER_LOGICAL_OR,n.javascriptGenerator.ORDER_LOGICAL_OR]],n.javascriptGenerator.isInitialized=!1,n.javascriptGenerator.init=function(e){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new t.module$build$src$core$names.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);const n=[];var i=t.module$build$src$core$variables.allDeveloperVariables(e);for(let o=0;o<i.length;o++)n.push(this.nameDB_.getName(i[o],t.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(e=t.module$build$src$core$variables.allUsedVarModels(e),i=0;i<e.length;i++)n.push(this.nameDB_.getName(e[i].getId(),t.NameType$$module$build$src$core$names.VARIABLE));n.length&&(this.definitions_.variables="var "+n.join(", ")+";"),this.isInitialized=!0},n.javascriptGenerator.finish=function(e){const t=Object.values(this.definitions_);return e=Object.getPrototypeOf(this).finish.call(this,e),this.isInitialized=!1,this.nameDB_.reset(),t.join("\n\n")+"\n\n\n"+e},n.javascriptGenerator.scrubNakedValue=function(e){return e+";\n"},n.javascriptGenerator.quote_=function(e){return e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"),"'"+e+"'"},n.javascriptGenerator.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},n.javascriptGenerator.scrub_=function(e,n,i){let o="";if(!e.outputConnection||!e.outputConnection.targetConnection){var r=e.getCommentText();r&&(r=t.module$build$src$core$utils$string.wrap(r,this.COMMENT_WRAP-3),o+=this.prefixLines(r+"\n","// "));for(let n=0;n<e.inputList.length;n++)e.inputList[n].type===t.module$build$src$core$input_types.inputTypes.VALUE&&(r=e.inputList[n].connection.targetBlock())&&(r=this.allNestedComments(r))&&(o+=this.prefixLines(r,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),i=i?"":this.blockToCode(e),o+n+i},n.javascriptGenerator.getAdjusted=function(e,n,i,o,r){i=i||0,r=r||this.ORDER_NONE,e.workspace.options.oneBasedIndex&&i--;const s=e.workspace.options.oneBasedIndex?"1":"0";let a,l=r;return 0<i?a=l=this.ORDER_ADDITION:0>i?a=l=this.ORDER_SUBTRACTION:o&&(a=l=this.ORDER_UNARY_NEGATION),e=this.valueToCode(e,n,l)||s,t.module$build$src$core$utils$string.isNumber(e)?(e=Number(e)+i,o&&(e=-e)):(0<i?e=e+" + "+i:0>i&&(e=e+" - "+-i),o&&(e=i?"-("+e+")":"-"+e),a=Math.floor(a),r=Math.floor(r),a&&r>=a&&(e="("+e+")")),e};t.NameType$$module$build$src$core$names;n.javascriptGenerator.variables_get=function(e){return[n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE),n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.variables_set=function(e){const i=n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0";return n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE)+" = "+i+";\n"};n.javascriptGenerator.variables_get_dynamic=n.javascriptGenerator.variables_get,n.javascriptGenerator.variables_set_dynamic=n.javascriptGenerator.variables_set;t.NameType$$module$build$src$core$names;var i=/^\s*'([^']|\\')*'\s*$/,o=function(e){return i.test(e)?[e,n.javascriptGenerator.ORDER_ATOMIC]:["String("+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},r=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n};n.javascriptGenerator.text=function(e){return[n.javascriptGenerator.quote_(e.getFieldValue("TEXT")),n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.text_multiline=function(e){e=n.javascriptGenerator.multiline_quote_(e.getFieldValue("TEXT"));const t=-1!==e.indexOf("+")?n.javascriptGenerator.ORDER_ADDITION:n.javascriptGenerator.ORDER_ATOMIC;return[e,t]},n.javascriptGenerator.text_join=function(e){switch(e.itemCount_){case 0:return["''",n.javascriptGenerator.ORDER_ATOMIC];case 1:return e=n.javascriptGenerator.valueToCode(e,"ADD0",n.javascriptGenerator.ORDER_NONE)||"''",o(e);case 2:var t=n.javascriptGenerator.valueToCode(e,"ADD0",n.javascriptGenerator.ORDER_NONE)||"''";return e=n.javascriptGenerator.valueToCode(e,"ADD1",n.javascriptGenerator.ORDER_NONE)||"''",[o(t)[0]+" + "+o(e)[0],n.javascriptGenerator.ORDER_ADDITION];default:t=Array(e.itemCount_);for(let i=0;i<e.itemCount_;i++)t[i]=n.javascriptGenerator.valueToCode(e,"ADD"+i,n.javascriptGenerator.ORDER_NONE)||"''";return["["+t.join(",")+"].join('')",n.javascriptGenerator.ORDER_FUNCTION_CALL]}},n.javascriptGenerator.text_append=function(e){const i=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE);return e=n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''",i+" += "+o(e)[0]+";\n"},n.javascriptGenerator.text_length=function(e){return[(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"''")+".length",n.javascriptGenerator.ORDER_MEMBER]},n.javascriptGenerator.text_isEmpty=function(e){return["!"+(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"''")+".length",n.javascriptGenerator.ORDER_LOGICAL_NOT]},n.javascriptGenerator.text_indexOf=function(e){var t="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf";const i=n.javascriptGenerator.valueToCode(e,"FIND",n.javascriptGenerator.ORDER_NONE)||"''";return t=(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"''")+"."+t+"("+i+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.javascriptGenerator.ORDER_ADDITION]:[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_charAt=function(e){const t=e.getFieldValue("WHERE")||"FROM_START",i=n.javascriptGenerator.valueToCode(e,"VALUE","RANDOM"===t?n.javascriptGenerator.ORDER_NONE:n.javascriptGenerator.ORDER_MEMBER)||"''";switch(t){case"FIRST":return[i+".charAt(0)",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"LAST":return[i+".slice(-1)",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"FROM_START":return e=n.javascriptGenerator.getAdjusted(e,"AT"),[i+".charAt("+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"FROM_END":return e=n.javascriptGenerator.getAdjusted(e,"AT",1,!0),[i+".slice("+e+").charAt(0)",n.javascriptGenerator.ORDER_FUNCTION_CALL];case"RANDOM":return[n.javascriptGenerator.provideFunction_("textRandomLetter",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n`)+"("+i+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},n.javascriptGenerator.text_getSubstring=function(e){var t=e.getFieldValue("WHERE1"),i=e.getFieldValue("WHERE2"),o="FROM_END"!==t&&"LAST"!==t&&"FROM_END"!==i&&"LAST"!==i,s=n.javascriptGenerator.valueToCode(e,"STRING",o?n.javascriptGenerator.ORDER_MEMBER:n.javascriptGenerator.ORDER_NONE)||"''";if("FIRST"===t&&"LAST"===i)return[s,n.javascriptGenerator.ORDER_NONE];if(s.match(/^'?\w+'?$/)||o){switch(t){case"FROM_START":t=n.javascriptGenerator.getAdjusted(e,"AT1");break;case"FROM_END":t=n.javascriptGenerator.getAdjusted(e,"AT1",1,!1,n.javascriptGenerator.ORDER_SUBTRACTION),t=s+".length - "+t;break;case"FIRST":t="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(i){case"FROM_START":i=n.javascriptGenerator.getAdjusted(e,"AT2",1);break;case"FROM_END":i=n.javascriptGenerator.getAdjusted(e,"AT2",0,!1,n.javascriptGenerator.ORDER_SUBTRACTION),i=s+".length - "+i;break;case"LAST":i=s+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}s=s+".slice("+t+", "+i+")"}else{o=n.javascriptGenerator.getAdjusted(e,"AT1"),e=n.javascriptGenerator.getAdjusted(e,"AT2");const a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};s=n.javascriptGenerator.provideFunction_("subsequence"+a[t]+a[i],`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===t||"FROM_START"===t?", at1":""}${"FROM_END"===i||"FROM_START"===i?", at2":""}) {\n  var start = ${r("sequence",t,"at1")};\n  var end = ${r("sequence",i,"at2")} + 1;\n  return sequence.slice(start, end);\n}\n`)+"("+s+("FROM_END"===t||"FROM_START"===t?", "+o:"")+("FROM_END"===i||"FROM_START"===i?", "+e:"")+")"}return[s,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_changeCase=function(e){const t={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=n.javascriptGenerator.valueToCode(e,"TEXT",t?n.javascriptGenerator.ORDER_MEMBER:n.javascriptGenerator.ORDER_NONE)||"''",[t?e+t:n.javascriptGenerator.provideFunction_("textToTitleCase",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(str) {\n  return str.replace(/\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n`)+"("+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_trim=function(e){const t={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_MEMBER)||"''")+t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_print=function(e){return"window.alert("+(n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''")+");\n"},n.javascriptGenerator.text_prompt_ext=function(e){let t="window.prompt("+(e.getField("TEXT")?n.javascriptGenerator.quote_(e.getFieldValue("TEXT")):n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''")+")";return"NUMBER"===e.getFieldValue("TYPE")&&(t="Number("+t+")"),[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_prompt=n.javascriptGenerator.text_prompt_ext,n.javascriptGenerator.text_count=function(e){const t=n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''";return e=n.javascriptGenerator.valueToCode(e,"SUB",n.javascriptGenerator.ORDER_NONE)||"''",[n.javascriptGenerator.provideFunction_("textCount",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n`)+"("+t+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_replace=function(e){const t=n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_NONE)||"''",i=n.javascriptGenerator.valueToCode(e,"FROM",n.javascriptGenerator.ORDER_NONE)||"''";return e=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_NONE)||"''",[n.javascriptGenerator.provideFunction_("textReplace",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n                 .replace(/\\x08/g, '\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n`)+"("+t+", "+i+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.text_reverse=function(e){return[(n.javascriptGenerator.valueToCode(e,"TEXT",n.javascriptGenerator.ORDER_MEMBER)||"''")+".split('').reverse().join('')",n.javascriptGenerator.ORDER_FUNCTION_CALL]};t.NameType$$module$build$src$core$names;n.javascriptGenerator.procedures_defreturn=function(e){const i=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("NAME"),t.NameType$$module$build$src$core$names.PROCEDURE);var o="";n.javascriptGenerator.STATEMENT_PREFIX&&(o+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,e)),n.javascriptGenerator.STATEMENT_SUFFIX&&(o+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e)),o&&(o=n.javascriptGenerator.prefixLines(o,n.javascriptGenerator.INDENT));let r="";n.javascriptGenerator.INFINITE_LOOP_TRAP&&(r=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.INFINITE_LOOP_TRAP,e),n.javascriptGenerator.INDENT));const s=n.javascriptGenerator.statementToCode(e,"STACK");let a=n.javascriptGenerator.valueToCode(e,"RETURN",n.javascriptGenerator.ORDER_NONE)||"",l="";s&&a&&(l=o),a&&(a=n.javascriptGenerator.INDENT+"return "+a+";\n");const u=[],c=e.getVars();for(let h=0;h<c.length;h++)u[h]=n.javascriptGenerator.nameDB_.getName(c[h],t.NameType$$module$build$src$core$names.VARIABLE);return o="function "+i+"("+u.join(", ")+") {\n"+o+r+s+l+a+"}",o=n.javascriptGenerator.scrub_(e,o),n.javascriptGenerator.definitions_["%"+i]=o,null},n.javascriptGenerator.procedures_defnoreturn=n.javascriptGenerator.procedures_defreturn,n.javascriptGenerator.procedures_callreturn=function(e){const i=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("NAME"),t.NameType$$module$build$src$core$names.PROCEDURE),o=[],r=e.getVars();for(let t=0;t<r.length;t++)o[t]=n.javascriptGenerator.valueToCode(e,"ARG"+t,n.javascriptGenerator.ORDER_NONE)||"null";return[i+"("+o.join(", ")+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.procedures_callnoreturn=function(e){return n.javascriptGenerator.procedures_callreturn(e)[0]+";\n"},n.javascriptGenerator.procedures_ifreturn=function(e){let t="if ("+(n.javascriptGenerator.valueToCode(e,"CONDITION",n.javascriptGenerator.ORDER_NONE)||"false")+") {\n";return n.javascriptGenerator.STATEMENT_SUFFIX&&(t+=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e),n.javascriptGenerator.INDENT)),e.hasReturnValue_?(e=n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_NONE)||"null",t+=n.javascriptGenerator.INDENT+"return "+e+";\n"):t+=n.javascriptGenerator.INDENT+"return;\n",t+"}\n"};t.NameType$$module$build$src$core$names;n.javascriptGenerator.math_number=function(e){return e=Number(e.getFieldValue("NUM")),[e,0<=e?n.javascriptGenerator.ORDER_ATOMIC:n.javascriptGenerator.ORDER_UNARY_NEGATION]},n.javascriptGenerator.math_arithmetic=function(e){var t={ADD:[" + ",n.javascriptGenerator.ORDER_ADDITION],MINUS:[" - ",n.javascriptGenerator.ORDER_SUBTRACTION],MULTIPLY:[" * ",n.javascriptGenerator.ORDER_MULTIPLICATION],DIVIDE:[" / ",n.javascriptGenerator.ORDER_DIVISION],POWER:[null,n.javascriptGenerator.ORDER_NONE]}[e.getFieldValue("OP")];const i=t[0];t=t[1];const o=n.javascriptGenerator.valueToCode(e,"A",t)||"0";return e=n.javascriptGenerator.valueToCode(e,"B",t)||"0",i?[o+i+e,t]:["Math.pow("+o+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_single=function(e){const t=e.getFieldValue("OP");let i;if("NEG"===t)return e=n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_UNARY_NEGATION)||"0","-"===e[0]&&(e=" "+e),["-"+e,n.javascriptGenerator.ORDER_UNARY_NEGATION];switch(e="SIN"===t||"COS"===t||"TAN"===t?n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_DIVISION)||"0":n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_NONE)||"0",t){case"ABS":i="Math.abs("+e+")";break;case"ROOT":i="Math.sqrt("+e+")";break;case"LN":i="Math.log("+e+")";break;case"EXP":i="Math.exp("+e+")";break;case"POW10":i="Math.pow(10,"+e+")";break;case"ROUND":i="Math.round("+e+")";break;case"ROUNDUP":i="Math.ceil("+e+")";break;case"ROUNDDOWN":i="Math.floor("+e+")";break;case"SIN":i="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":i="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":i="Math.tan("+e+" / 180 * Math.PI)"}if(i)return[i,n.javascriptGenerator.ORDER_FUNCTION_CALL];switch(t){case"LOG10":i="Math.log("+e+") / Math.log(10)";break;case"ASIN":i="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":i="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":i="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+t)}return[i,n.javascriptGenerator.ORDER_DIVISION]},n.javascriptGenerator.math_constant=function(e){return{PI:["Math.PI",n.javascriptGenerator.ORDER_MEMBER],E:["Math.E",n.javascriptGenerator.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",n.javascriptGenerator.ORDER_DIVISION],SQRT2:["Math.SQRT2",n.javascriptGenerator.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",n.javascriptGenerator.ORDER_MEMBER],INFINITY:["Infinity",n.javascriptGenerator.ORDER_ATOMIC]}[e.getFieldValue("CONSTANT")]},n.javascriptGenerator.math_number_property=function(e){var t={EVEN:[" % 2 === 0",n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],ODD:[" % 2 === 1",n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],WHOLE:[" % 1 === 0",n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],POSITIVE:[" > 0",n.javascriptGenerator.ORDER_RELATIONAL,n.javascriptGenerator.ORDER_RELATIONAL],NEGATIVE:[" < 0",n.javascriptGenerator.ORDER_RELATIONAL,n.javascriptGenerator.ORDER_RELATIONAL],DIVISIBLE_BY:[null,n.javascriptGenerator.ORDER_MODULUS,n.javascriptGenerator.ORDER_EQUALITY],PRIME:[null,n.javascriptGenerator.ORDER_NONE,n.javascriptGenerator.ORDER_FUNCTION_CALL]};const i=e.getFieldValue("PROPERTY"),[o,r,s]=t[i];return t=n.javascriptGenerator.valueToCode(e,"NUMBER_TO_CHECK",r)||"0","PRIME"===i?e=n.javascriptGenerator.provideFunction_("mathIsPrime",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n`)+"("+t+")":"DIVISIBLE_BY"===i?(e=n.javascriptGenerator.valueToCode(e,"DIVISOR",n.javascriptGenerator.ORDER_MODULUS)||"0",e=t+" % "+e+" === 0"):e=t+o,[e,s]},n.javascriptGenerator.math_change=function(e){const i=n.javascriptGenerator.valueToCode(e,"DELTA",n.javascriptGenerator.ORDER_ADDITION)||"0";return e=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE),e+" = (typeof "+e+" === 'number' ? "+e+" : 0) + "+i+";\n"},n.javascriptGenerator.math_round=n.javascriptGenerator.math_single,n.javascriptGenerator.math_trig=n.javascriptGenerator.math_single,n.javascriptGenerator.math_on_list=function(e){var t=e.getFieldValue("OP");switch(t){case"SUM":e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]",e="Math.min.apply(null, "+e+")";break;case"MAX":e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]",e="Math.max.apply(null, "+e+")";break;case"AVERAGE":t=n.javascriptGenerator.provideFunction_("mathMean",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n`),e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]",e=t+"("+e+")";break;case"MEDIAN":t=n.javascriptGenerator.provideFunction_("mathMedian",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n`),e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]",e=t+"("+e+")";break;case"MODE":t=n.javascriptGenerator.provideFunction_("mathModes",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n        modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n`),e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]",e=t+"("+e+")";break;case"STD_DEV":t=n.javascriptGenerator.provideFunction_("mathStandardDeviation",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance = variance / n;\n  return Math.sqrt(variance);\n}\n`),e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]",e=t+"("+e+")";break;case"RANDOM":t=n.javascriptGenerator.provideFunction_("mathRandomList",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n`),e=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_NONE)||"[]",e=t+"("+e+")";break;default:throw Error("Unknown operator: "+t)}return[e,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_modulo=function(e){const t=n.javascriptGenerator.valueToCode(e,"DIVIDEND",n.javascriptGenerator.ORDER_MODULUS)||"0";return e=n.javascriptGenerator.valueToCode(e,"DIVISOR",n.javascriptGenerator.ORDER_MODULUS)||"0",[t+" % "+e,n.javascriptGenerator.ORDER_MODULUS]},n.javascriptGenerator.math_constrain=function(e){const t=n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_NONE)||"0",i=n.javascriptGenerator.valueToCode(e,"LOW",n.javascriptGenerator.ORDER_NONE)||"0";return e=n.javascriptGenerator.valueToCode(e,"HIGH",n.javascriptGenerator.ORDER_NONE)||"Infinity",["Math.min(Math.max("+t+", "+i+"), "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_random_int=function(e){const t=n.javascriptGenerator.valueToCode(e,"FROM",n.javascriptGenerator.ORDER_NONE)||"0";return e=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_NONE)||"0",[n.javascriptGenerator.provideFunction_("mathRandomInt",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n`)+"("+t+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_random_float=function(e){return["Math.random()",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.math_atan2=function(e){const t=n.javascriptGenerator.valueToCode(e,"X",n.javascriptGenerator.ORDER_NONE)||"0";return["Math.atan2("+(n.javascriptGenerator.valueToCode(e,"Y",n.javascriptGenerator.ORDER_NONE)||"0")+", "+t+") / Math.PI * 180",n.javascriptGenerator.ORDER_DIVISION]};t.module$build$src$core$utils$string,t.NameType$$module$build$src$core$names;n.javascriptGenerator.controls_repeat_ext=function(e){let i;i=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):n.javascriptGenerator.valueToCode(e,"TIMES",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0";let o=n.javascriptGenerator.statementToCode(e,"DO");o=n.javascriptGenerator.addLoopTrap(o,e),e="";const r=n.javascriptGenerator.nameDB_.getDistinctName("count",t.NameType$$module$build$src$core$names.VARIABLE);let s=i;return i.match(/^\w+$/)||t.module$build$src$core$utils$string.isNumber(i)||(s=n.javascriptGenerator.nameDB_.getDistinctName("repeat_end",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+s+" = "+i+";\n"),e+"for (var "+r+" = 0; "+r+" < "+s+"; "+r+"++) {\n"+o+"}\n"},n.javascriptGenerator.controls_repeat=n.javascriptGenerator.controls_repeat_ext,n.javascriptGenerator.controls_whileUntil=function(e){const t="UNTIL"===e.getFieldValue("MODE");let i=n.javascriptGenerator.valueToCode(e,"BOOL",t?n.javascriptGenerator.ORDER_LOGICAL_NOT:n.javascriptGenerator.ORDER_NONE)||"false",o=n.javascriptGenerator.statementToCode(e,"DO");return o=n.javascriptGenerator.addLoopTrap(o,e),t&&(i="!"+i),"while ("+i+") {\n"+o+"}\n"},n.javascriptGenerator.controls_for=function(e){var i=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE),o=n.javascriptGenerator.valueToCode(e,"FROM",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0",r=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_ASSIGNMENT)||"0";const s=n.javascriptGenerator.valueToCode(e,"BY",n.javascriptGenerator.ORDER_ASSIGNMENT)||"1";let a=n.javascriptGenerator.statementToCode(e,"DO");if(a=n.javascriptGenerator.addLoopTrap(a,e),t.module$build$src$core$utils$string.isNumber(o)&&t.module$build$src$core$utils$string.isNumber(r)&&t.module$build$src$core$utils$string.isNumber(s)){var l=Number(o)<=Number(r);e="for ("+i+" = "+o+"; "+i+(l?" <= ":" >= ")+r+"; "+i,i=Math.abs(Number(s)),e=1===i?e+(l?"++":"--"):e+(l?" += ":" -= ")+i,e+=") {\n"+a+"}\n"}else e="",l=o,o.match(/^\w+$/)||t.module$build$src$core$utils$string.isNumber(o)||(l=n.javascriptGenerator.nameDB_.getDistinctName(i+"_start",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+l+" = "+o+";\n"),o=r,r.match(/^\w+$/)||t.module$build$src$core$utils$string.isNumber(r)||(o=n.javascriptGenerator.nameDB_.getDistinctName(i+"_end",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+o+" = "+r+";\n"),r=n.javascriptGenerator.nameDB_.getDistinctName(i+"_inc",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+r+" = ",e=t.module$build$src$core$utils$string.isNumber(s)?e+(Math.abs(s)+";\n"):e+"Math.abs("+s+");\n",e+="if ("+l+" > "+o+") {\n",e+=n.javascriptGenerator.INDENT+r+" = -"+r+";\n",e=e+"}\nfor ("+i+" = "+l+"; "+r+" >= 0 ? "+i+" <= "+o+" : "+i+" >= "+o+"; "+i+" += "+r+") {\n"+a+"}\n";return e},n.javascriptGenerator.controls_forEach=function(e){const i=n.javascriptGenerator.nameDB_.getName(e.getFieldValue("VAR"),t.NameType$$module$build$src$core$names.VARIABLE);var o=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_ASSIGNMENT)||"[]";let r=n.javascriptGenerator.statementToCode(e,"DO");r=n.javascriptGenerator.addLoopTrap(r,e),e="";let s=o;return o.match(/^\w+$/)||(s=n.javascriptGenerator.nameDB_.getDistinctName(i+"_list",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+s+" = "+o+";\n"),o=n.javascriptGenerator.nameDB_.getDistinctName(i+"_index",t.NameType$$module$build$src$core$names.VARIABLE),r=n.javascriptGenerator.INDENT+i+" = "+s+"["+o+"];\n"+r,e+"for (var "+o+" in "+s+") {\n"+r+"}\n"},n.javascriptGenerator.controls_flow_statements=function(e){let t="";if(n.javascriptGenerator.STATEMENT_PREFIX&&(t+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,e)),n.javascriptGenerator.STATEMENT_SUFFIX&&(t+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e)),n.javascriptGenerator.STATEMENT_PREFIX){const i=e.getSurroundLoop();i&&!i.suppressPrefixSuffix&&(t+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,i))}switch(e.getFieldValue("FLOW")){case"BREAK":return t+"break;\n";case"CONTINUE":return t+"continue;\n"}throw Error("Unknown flow statement.")};n.javascriptGenerator.controls_if=function(e){var t=0;let i="";n.javascriptGenerator.STATEMENT_PREFIX&&(i+=n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_PREFIX,e));do{const o=n.javascriptGenerator.valueToCode(e,"IF"+t,n.javascriptGenerator.ORDER_NONE)||"false";let r=n.javascriptGenerator.statementToCode(e,"DO"+t);n.javascriptGenerator.STATEMENT_SUFFIX&&(r=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e),n.javascriptGenerator.INDENT)+r),i+=(0<t?" else ":"")+"if ("+o+") {\n"+r+"}",t++}while(e.getInput("IF"+t));return(e.getInput("ELSE")||n.javascriptGenerator.STATEMENT_SUFFIX)&&(t=n.javascriptGenerator.statementToCode(e,"ELSE"),n.javascriptGenerator.STATEMENT_SUFFIX&&(t=n.javascriptGenerator.prefixLines(n.javascriptGenerator.injectId(n.javascriptGenerator.STATEMENT_SUFFIX,e),n.javascriptGenerator.INDENT)+t),i+=" else {\n"+t+"}"),i+"\n"},n.javascriptGenerator.controls_ifelse=n.javascriptGenerator.controls_if,n.javascriptGenerator.logic_compare=function(e){const t={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],i="=="===t||"!="===t?n.javascriptGenerator.ORDER_EQUALITY:n.javascriptGenerator.ORDER_RELATIONAL,o=n.javascriptGenerator.valueToCode(e,"A",i)||"0";return e=n.javascriptGenerator.valueToCode(e,"B",i)||"0",[o+" "+t+" "+e,i]},n.javascriptGenerator.logic_operation=function(e){const t="AND"===e.getFieldValue("OP")?"&&":"||",i="&&"===t?n.javascriptGenerator.ORDER_LOGICAL_AND:n.javascriptGenerator.ORDER_LOGICAL_OR;let o=n.javascriptGenerator.valueToCode(e,"A",i);if(e=n.javascriptGenerator.valueToCode(e,"B",i),o||e){const n="&&"===t?"true":"false";o||(o=n),e||(e=n)}else e=o="false";return[o+" "+t+" "+e,i]},n.javascriptGenerator.logic_negate=function(e){const t=n.javascriptGenerator.ORDER_LOGICAL_NOT;return["!"+(n.javascriptGenerator.valueToCode(e,"BOOL",t)||"true"),t]},n.javascriptGenerator.logic_boolean=function(e){return["TRUE"===e.getFieldValue("BOOL")?"true":"false",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.logic_null=function(e){return["null",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.logic_ternary=function(e){const t=n.javascriptGenerator.valueToCode(e,"IF",n.javascriptGenerator.ORDER_CONDITIONAL)||"false",i=n.javascriptGenerator.valueToCode(e,"THEN",n.javascriptGenerator.ORDER_CONDITIONAL)||"null";return e=n.javascriptGenerator.valueToCode(e,"ELSE",n.javascriptGenerator.ORDER_CONDITIONAL)||"null",[t+" ? "+i+" : "+e,n.javascriptGenerator.ORDER_CONDITIONAL]};t.NameType$$module$build$src$core$names;n.javascriptGenerator.lists_create_empty=function(e){return["[]",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.lists_create_with=function(e){const t=Array(e.itemCount_);for(let i=0;i<e.itemCount_;i++)t[i]=n.javascriptGenerator.valueToCode(e,"ADD"+i,n.javascriptGenerator.ORDER_NONE)||"null";return["["+t.join(", ")+"]",n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.lists_repeat=function(e){const t=n.javascriptGenerator.provideFunction_("listsRepeat",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n`),i=n.javascriptGenerator.valueToCode(e,"ITEM",n.javascriptGenerator.ORDER_NONE)||"null";return e=n.javascriptGenerator.valueToCode(e,"NUM",n.javascriptGenerator.ORDER_NONE)||"0",[t+"("+i+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_length=function(e){return[(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"[]")+".length",n.javascriptGenerator.ORDER_MEMBER]},n.javascriptGenerator.lists_isEmpty=function(e){return["!"+(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"[]")+".length",n.javascriptGenerator.ORDER_LOGICAL_NOT]},n.javascriptGenerator.lists_indexOf=function(e){var t="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf";const i=n.javascriptGenerator.valueToCode(e,"FIND",n.javascriptGenerator.ORDER_NONE)||"''";return t=(n.javascriptGenerator.valueToCode(e,"VALUE",n.javascriptGenerator.ORDER_MEMBER)||"[]")+"."+t+"("+i+")",e.workspace.options.oneBasedIndex?[t+" + 1",n.javascriptGenerator.ORDER_ADDITION]:[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_getIndex=function(e){const t=e.getFieldValue("MODE")||"GET",i=e.getFieldValue("WHERE")||"FROM_START";var o=n.javascriptGenerator.valueToCode(e,"VALUE","RANDOM"===i?n.javascriptGenerator.ORDER_NONE:n.javascriptGenerator.ORDER_MEMBER)||"[]";switch(i){case"FIRST":if("GET"===t)return[o+"[0]",n.javascriptGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".shift()",n.javascriptGenerator.ORDER_MEMBER];if("REMOVE"===t)return o+".shift();\n";break;case"LAST":if("GET"===t)return[o+".slice(-1)[0]",n.javascriptGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".pop()",n.javascriptGenerator.ORDER_MEMBER];if("REMOVE"===t)return o+".pop();\n";break;case"FROM_START":if(e=n.javascriptGenerator.getAdjusted(e,"AT"),"GET"===t)return[o+"["+e+"]",n.javascriptGenerator.ORDER_MEMBER];if("GET_REMOVE"===t)return[o+".splice("+e+", 1)[0]",n.javascriptGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".splice("+e+", 1);\n";break;case"FROM_END":if(e=n.javascriptGenerator.getAdjusted(e,"AT",1,!0),"GET"===t)return[o+".slice("+e+")[0]",n.javascriptGenerator.ORDER_FUNCTION_CALL];if("GET_REMOVE"===t)return[o+".splice("+e+", 1)[0]",n.javascriptGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+".splice("+e+", 1);";break;case"RANDOM":if(o=n.javascriptGenerator.provideFunction_("listsGetRandomItem",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n`)+"("+o+", "+("GET"!==t)+")","GET"===t||"GET_REMOVE"===t)return[o,n.javascriptGenerator.ORDER_FUNCTION_CALL];if("REMOVE"===t)return o+";\n"}throw Error("Unhandled combination (lists_getIndex).")},n.javascriptGenerator.lists_setIndex=function(e){function i(){if(o.match(/^\w+$/))return"";const e=n.javascriptGenerator.nameDB_.getDistinctName("tmpList",t.NameType$$module$build$src$core$names.VARIABLE),i="var "+e+" = "+o+";\n";return o=e,i}let o=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_MEMBER)||"[]";const r=e.getFieldValue("MODE")||"GET";var s=e.getFieldValue("WHERE")||"FROM_START";const a=n.javascriptGenerator.valueToCode(e,"TO",n.javascriptGenerator.ORDER_ASSIGNMENT)||"null";switch(s){case"FIRST":if("SET"===r)return o+"[0] = "+a+";\n";if("INSERT"===r)return o+".unshift("+a+");\n";break;case"LAST":if("SET"===r)return i()+(o+"[")+o+".length - 1] = "+a+";\n";if("INSERT"===r)return o+".push("+a+");\n";break;case"FROM_START":if(e=n.javascriptGenerator.getAdjusted(e,"AT"),"SET"===r)return o+"["+e+"] = "+a+";\n";if("INSERT"===r)return o+".splice("+e+", 0, "+a+");\n";break;case"FROM_END":if(e=n.javascriptGenerator.getAdjusted(e,"AT",1,!1,n.javascriptGenerator.ORDER_SUBTRACTION),s=i(),"SET"===r)return s+(o+"[")+o+".length - "+e+"] = "+a+";\n";if("INSERT"===r)return s+(o+".splice(")+o+".length - "+e+", 0, "+a+");\n";break;case"RANDOM":if(e=i(),s=n.javascriptGenerator.nameDB_.getDistinctName("tmpX",t.NameType$$module$build$src$core$names.VARIABLE),e+="var "+s+" = Math.floor(Math.random() * "+o+".length);\n","SET"===r)return e+(o+"[")+s+"] = "+a+";\n";if("INSERT"===r)return e+(o+".splice(")+s+", 0, "+a+");\n"}throw Error("Unhandled combination (lists_setIndex).")};var s=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n};n.javascriptGenerator.lists_getSublist=function(e){var t=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_MEMBER)||"[]",i=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2");if("FIRST"===i&&"LAST"===o)t+=".slice(0)";else if(t.match(/^\w+$/)||"FROM_END"!==i&&"FROM_START"===o){switch(i){case"FROM_START":i=n.javascriptGenerator.getAdjusted(e,"AT1");break;case"FROM_END":i=n.javascriptGenerator.getAdjusted(e,"AT1",1,!1,n.javascriptGenerator.ORDER_SUBTRACTION),i=t+".length - "+i;break;case"FIRST":i="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(o){case"FROM_START":o=n.javascriptGenerator.getAdjusted(e,"AT2",1);break;case"FROM_END":o=n.javascriptGenerator.getAdjusted(e,"AT2",0,!1,n.javascriptGenerator.ORDER_SUBTRACTION),o=t+".length - "+o;break;case"LAST":o=t+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}t=t+".slice("+i+", "+o+")"}else{const r=n.javascriptGenerator.getAdjusted(e,"AT1");e=n.javascriptGenerator.getAdjusted(e,"AT2");const a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};t=n.javascriptGenerator.provideFunction_("subsequence"+a[i]+a[o],`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===i||"FROM_START"===i?", at1":""}${"FROM_END"===o||"FROM_START"===o?", at2":""}) {\n  var start = ${s("sequence",i,"at1")};\n  var end = ${s("sequence",o,"at2")} + 1;\n  return sequence.slice(start, end);\n}\n`)+"("+t+("FROM_END"===i||"FROM_START"===i?", "+r:"")+("FROM_END"===o||"FROM_START"===o?", "+e:"")+")"}return[t,n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_sort=function(e){const t=n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_FUNCTION_CALL)||"[]",i="1"===e.getFieldValue("DIRECTION")?1:-1;e=e.getFieldValue("TYPE");const o=n.javascriptGenerator.provideFunction_("listsGetSortCompare",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return a.toString() > b.toString() ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      `);return[t+".slice().sort("+o+'("'+e+'", '+i+"))",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_split=function(e){let t=n.javascriptGenerator.valueToCode(e,"INPUT",n.javascriptGenerator.ORDER_MEMBER);const i=n.javascriptGenerator.valueToCode(e,"DELIM",n.javascriptGenerator.ORDER_NONE)||"''";if(e=e.getFieldValue("MODE"),"SPLIT"===e)t||(t="''"),e="split";else{if("JOIN"!==e)throw Error("Unknown mode: "+e);t||(t="[]"),e="join"}return[t+"."+e+"("+i+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.lists_reverse=function(e){return[(n.javascriptGenerator.valueToCode(e,"LIST",n.javascriptGenerator.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",n.javascriptGenerator.ORDER_FUNCTION_CALL]};n.javascriptGenerator.colour_picker=function(e){return[n.javascriptGenerator.quote_(e.getFieldValue("COLOUR")),n.javascriptGenerator.ORDER_ATOMIC]},n.javascriptGenerator.colour_random=function(e){return[n.javascriptGenerator.provideFunction_("colourRandom",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}() {\n  var num = Math.floor(Math.random() * Math.pow(2, 24));\n  return '#' + ('00000' + num.toString(16)).substr(-6);\n}\n`)+"()",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.colour_rgb=function(e){const t=n.javascriptGenerator.valueToCode(e,"RED",n.javascriptGenerator.ORDER_NONE)||0,i=n.javascriptGenerator.valueToCode(e,"GREEN",n.javascriptGenerator.ORDER_NONE)||0;return e=n.javascriptGenerator.valueToCode(e,"BLUE",n.javascriptGenerator.ORDER_NONE)||0,[n.javascriptGenerator.provideFunction_("colourRgb",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {\n  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;\n  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;\n  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;\n  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\n  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\n  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`)+"("+t+", "+i+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]},n.javascriptGenerator.colour_blend=function(e){const t=n.javascriptGenerator.valueToCode(e,"COLOUR1",n.javascriptGenerator.ORDER_NONE)||"'#000000'",i=n.javascriptGenerator.valueToCode(e,"COLOUR2",n.javascriptGenerator.ORDER_NONE)||"'#000000'";return e=n.javascriptGenerator.valueToCode(e,"RATIO",n.javascriptGenerator.ORDER_NONE)||.5,[n.javascriptGenerator.provideFunction_("colourBlend",`\nfunction ${n.javascriptGenerator.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {\n  ratio = Math.max(Math.min(Number(ratio), 1), 0);\n  var r1 = parseInt(c1.substring(1, 3), 16);\n  var g1 = parseInt(c1.substring(3, 5), 16);\n  var b1 = parseInt(c1.substring(5, 7), 16);\n  var r2 = parseInt(c2.substring(1, 3), 16);\n  var g2 = parseInt(c2.substring(3, 5), 16);\n  var b2 = parseInt(c2.substring(5, 7), 16);\n  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);\n  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);\n  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);\n  r = ('0' + (r || 0).toString(16)).slice(-2);\n  g = ('0' + (g || 0).toString(16)).slice(-2);\n  b = ('0' + (b || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`)+"("+t+", "+i+", "+e+")",n.javascriptGenerator.ORDER_FUNCTION_CALL]};return n.__namespace__=t,n}))},e750:function(e,t,n){},e762:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return U}));const i="3.7.5",o=i,r="function"===typeof atob,s="function"===typeof btoa,a="function"===typeof e,l="function"===typeof TextDecoder?new TextDecoder:void 0,u="function"===typeof TextEncoder?new TextEncoder:void 0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=Array.prototype.slice.call(c),d=(e=>{let t={};return e.forEach((e,n)=>t[e]=n),t})(h),p=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,f=String.fromCharCode.bind(String),g="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),m=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),_=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),v=e=>{let t,n,i,o,r="";const s=e.length%3;for(let a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=n<<16|i<<8|o,r+=h[t>>18&63]+h[t>>12&63]+h[t>>6&63]+h[63&t]}return s?r.slice(0,s-3)+"===".substring(s):r},y=s?e=>btoa(e):a?t=>e.from(t,"binary").toString("base64"):v,b=a?t=>e.from(t).toString("base64"):e=>{const t=4096;let n=[];for(let i=0,o=e.length;i<o;i+=t)n.push(f.apply(null,e.subarray(i,i+t)));return y(n.join(""))},w=(e,t=!1)=>t?m(b(e)):b(e),C=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?f(192|t>>>6)+f(128|63&t):f(224|t>>>12&15)+f(128|t>>>6&63)+f(128|63&t)}t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return f(240|t>>>18&7)+f(128|t>>>12&63)+f(128|t>>>6&63)+f(128|63&t)},S=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,E=e=>e.replace(S,C),T=a?t=>e.from(t,"utf8").toString("base64"):u?e=>b(u.encode(e)):e=>y(E(e)),k=(e,t=!1)=>t?m(T(e)):T(e),x=e=>k(e,!0),L=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,I=e=>{switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),n=t-65536;return f(55296+(n>>>10))+f(56320+(1023&n));case 3:return f((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return f((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},O=e=>e.replace(L,I),D=e=>{if(e=e.replace(/\s+/g,""),!p.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,i,o="";for(let r=0;r<e.length;)t=d[e.charAt(r++)]<<18|d[e.charAt(r++)]<<12|(n=d[e.charAt(r++)])<<6|(i=d[e.charAt(r++)]),o+=64===n?f(t>>16&255):64===i?f(t>>16&255,t>>8&255):f(t>>16&255,t>>8&255,255&t);return o},N=r?e=>atob(_(e)):a?t=>e.from(t,"base64").toString("binary"):D,R=a?t=>g(e.from(t,"base64")):e=>g(N(e).split("").map(e=>e.charCodeAt(0))),A=e=>R(P(e)),M=a?t=>e.from(t,"base64").toString("utf8"):l?e=>l.decode(R(e)):e=>O(N(e)),P=e=>_(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),F=e=>M(P(e)),B=e=>{if("string"!==typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},V=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),H=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,V(t));e("fromBase64",(function(){return F(this)})),e("toBase64",(function(e){return k(this,e)})),e("toBase64URI",(function(){return k(this,!0)})),e("toBase64URL",(function(){return k(this,!0)})),e("toUint8Array",(function(){return A(this)}))},$=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,V(t));e("toBase64",(function(e){return w(this,e)})),e("toBase64URI",(function(){return w(this,!0)})),e("toBase64URL",(function(){return w(this,!0)}))},W=()=>{H(),$()},U={version:i,VERSION:o,atob:N,atobPolyfill:D,btoa:y,btoaPolyfill:v,fromBase64:F,toBase64:k,encode:k,encodeURI:x,encodeURL:x,utob:E,btou:O,decode:F,isValid:B,fromUint8Array:w,toUint8Array:A,extendString:H,extendUint8Array:$,extendBuiltins:W}}).call(this,n("b639").Buffer)},e80e:function(e,t,n){"use strict";var i=n("0068").isSpace;e.exports=function(e,t,n,o){var r,s,a,l,u,c,h,d,p,f,g,m,_,v,y,b,w,C,S,E,T=e.lineMax,k=e.bMarks[t]+e.tShift[t],x=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(k++))return!1;if(o)return!0;l=p=e.sCount[t]+1,32===e.src.charCodeAt(k)?(k++,l++,p++,r=!1,b=!0):9===e.src.charCodeAt(k)?(b=!0,(e.bsCount[t]+p)%4===3?(k++,l++,p++,r=!1):r=!0):b=!1,f=[e.bMarks[t]],e.bMarks[t]=k;while(k<x){if(s=e.src.charCodeAt(k),!i(s))break;9===s?p+=4-(p+e.bsCount[t]+(r?1:0))%4:p++,k++}for(g=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(b?1:0),c=k>=x,v=[e.sCount[t]],e.sCount[t]=p-l,y=[e.tShift[t]],e.tShift[t]=k-e.bMarks[t],C=e.md.block.ruler.getRules("blockquote"),_=e.parentType,e.parentType="blockquote",d=t+1;d<n;d++){if(E=e.sCount[d]<e.blkIndent,k=e.bMarks[d]+e.tShift[d],x=e.eMarks[d],k>=x)break;if(62!==e.src.charCodeAt(k++)||E){if(c)break;for(w=!1,a=0,u=C.length;a<u;a++)if(C[a](e,d,n,!0)){w=!0;break}if(w){e.lineMax=d,0!==e.blkIndent&&(f.push(e.bMarks[d]),g.push(e.bsCount[d]),y.push(e.tShift[d]),v.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}f.push(e.bMarks[d]),g.push(e.bsCount[d]),y.push(e.tShift[d]),v.push(e.sCount[d]),e.sCount[d]=-1}else{l=p=e.sCount[d]+1,32===e.src.charCodeAt(k)?(k++,l++,p++,r=!1,b=!0):9===e.src.charCodeAt(k)?(b=!0,(e.bsCount[d]+p)%4===3?(k++,l++,p++,r=!1):r=!0):b=!1,f.push(e.bMarks[d]),e.bMarks[d]=k;while(k<x){if(s=e.src.charCodeAt(k),!i(s))break;9===s?p+=4-(p+e.bsCount[d]+(r?1:0))%4:p++,k++}c=k>=x,g.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(b?1:0),v.push(e.sCount[d]),e.sCount[d]=p-l,y.push(e.tShift[d]),e.tShift[d]=k-e.bMarks[d]}}for(m=e.blkIndent,e.blkIndent=0,S=e.push("blockquote_open","blockquote",1),S.markup=">",S.map=h=[t,0],e.md.block.tokenize(e,t,d),S=e.push("blockquote_close","blockquote",-1),S.markup=">",e.lineMax=T,e.parentType=_,h[1]=e.line,a=0;a<y.length;a++)e.bMarks[a+t]=f[a],e.tShift[a+t]=y[a],e.sCount[a+t]=v[a],e.bsCount[a+t]=g[a];return e.blkIndent=m,!0}},e893:function(e,t,n){var i=n("1a2d"),o=n("56ef"),r=n("06cf"),s=n("9bf2");e.exports=function(e,t,n){for(var a=o(t),l=s.f,u=r.f,c=0;c<a.length;c++){var h=a[c];i(e,h)||n&&i(n,h)||l(e,h,u(t,h))}}},e8b5:function(e,t,n){var i=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},e98f:function(e,t,n){(function(n){var i,o,r;(function(n,s){o=[],i=s,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(){var e={},t=function(e,t,n,i){e=e+" was deprecated in "+t+" and will be deleted in "+n+".",i&&(e+="\nUse "+i+" instead."),console.warn(e)},i=function(e,t){o(),Pa=setTimeout((function(){t&&t.handleRightClick(e)}),Na)},o=function(){Pa&&(clearTimeout(Pa),Pa=0)},r=function(){Aa=null},s=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&l(e)},a=function(e){return""+e.pointerId},l=function(e){const t=a(e);return Aa?Aa===t:"pointerdown"===e.type&&(Aa=t,!0)},u=function(e){if(t("setClientFromTouch()","version 9","version 10"),e.type.startsWith("touch")&&e.changedTouches){const t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}},c=function(e){return t("isMouseOrTouchEvent()","version 9","version 10"),e.type.startsWith("touch")||e.type.startsWith("mouse")||e.type.startsWith("pointer")},h=function(e){return t("isTouchEvent()","version 9","version 10"),e.type.startsWith("touch")||e.type.startsWith("pointer")},d=function(e){t("splitEventByTouches()","version 9","version 10");const n=[];if(e.changedTouches)for(let t=0;t<e.changedTouches.length;t++)n[t]={type:e.type,changedTouches:[e.changedTouches[t]],target:e.target,stopPropagation(){e.stopPropagation()},preventDefault(){e.preventDefault()}};else n.push(e);return n},p=function(e,n,i,o,r,a){function l(e){(r||s(e))&&(i?o.call(i,e):o(e))}if(void 0!==a&&t("The opt_noPreventDefault argument of conditionalBind","version 9","version 10"),a=[],n in Ma)for(let t=0;t<Ma[n].length;t++){const i=Ma[n][t];e.addEventListener(i,l,!1),a.push([e,i,l])}else e.addEventListener(n,l,!1),a.push([e,n,l]);return a},f=function(e,t,n,i){function o(e){n?i.call(n,e):i(e)}const r=[];if(t in Ma)for(let s=0;s<Ma[t].length;s++){const n=Ma[t][s];e.addEventListener(n,o,!1),r.push([e,n,o])}else e.addEventListener(t,o,!1),r.push([e,t,o]);return r},g=function(e){const t=e[e.length-1][2];for(;e.length;){const t=e.pop();t[0].removeEventListener(t[1],t[2],!1)}return t},m=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||"true"===e.target.getAttribute("data-is-text-input"))return!0;if(e.target instanceof HTMLInputElement)return e=e.target,"text"===e.type||"number"===e.type||"email"===e.type||"password"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type;if(e.target instanceof HTMLTextAreaElement)return!0}return!1},_=function(e){return!(!e.ctrlKey||!za)||2===e.button},v=function(e,t,n){const i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,n||(n=t.getScreenCTM().inverse()),i.matrixTransform(n)},y=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*Ka,y:e.deltaY*Ka};case 2:return{x:e.deltaX*qa,y:e.deltaY*qa}}},b=function(e){return Xa[e]||null},w=function(){const e=[];for(const t in Xa)e.push(Xa[t]);return e},C=function(e){Xa[e.id]=e},S=function(e){delete Xa[e.id]},E=function(){return Za},T=function(e){Za=e},k=function(){return Ja},x=function(e){Ja=e},L=function(){return Qa},I=function(e){Qa=e},O=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),n=e.getCachedParentSvgSize();var i=t.parentElement;if(i instanceof HTMLElement){var o=i.offsetWidth;i=i.offsetHeight,n.width!==o&&(t.setAttribute("width",o+"px"),e.setCachedParentSvgSize(o,null)),n.height!==i&&(t.setAttribute("height",i+"px"),e.setCachedParentSvgSize(null,i)),e.resize()}},D=function(e,t){const n=Object.create(null),i=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=i.indexOf(e),i.splice(e,i.length-e));for(let o,r=0;o=i[r];r++)n[o.type]?n[o.type]++:n[o.type]=1;return n},N=function(e){return function(){this.jsonInit(e)}},R=function(e){tl.defineBlocksWithJsonArrayInternal(e)},A=function(e){P(M(e))},M=function(e){const t={};for(let n=0;n<e.length;n++){const i=e[n];if(!i){console.warn(`Block definition #${n} in JSON array is ${i}. Skipping`);continue}const o=i.type;o?t[o]={init:N(i)}:console.warn(`Block definition #${n} in JSON array is missing a type attribute. Skipping.`)}return t},P=function(e){for(const t of Object.keys(e)){const n=e[t];t in nl&&console.warn(`Block definiton "${t}" overwrites previous definition.`),nl[t]=n}},F=function(e,t,n){e=document.createElementNS(rl,String(e));for(const i in t)e.setAttribute(i,""+t[i]);return n&&n.appendChild(e),e},B=function(e,t){return t=t.split(" "),!t.every(t=>e.classList.contains(t))&&(e.classList.add(...t),!0)},V=function(e,t){e.classList.remove(...t.split(" "))},H=function(e,t){return t=t.split(" "),!t.every(t=>!e.classList.contains(t))&&(e.classList.remove(...t),!0)},$=function(e,t){return e.classList.contains(t)},W=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},U=function(e,t){const n=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},z=function(e,t){return!!(e.compareDocumentPosition(t)&ol.DOCUMENT_POSITION_CONTAINED_BY)},j=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},G=function(){ul++,ll||(ll=Object.create(null))},K=function(){ul--,ul||(ll=null)},q=function(e){const t=e.textContent+"\n"+e.className.baseVal;let n;if(ll&&(n=ll[t]))return n;try{n=e.getComputedTextLength()}catch(i){return 8*e.textContent.length}return ll&&(ll[t]=n),n},Y=function(e,t,n,i){return X(e,t+"pt",n,i)},X=function(e,t,n,i){const o=e.textContent;var r;return e=o+"\n"+e.className.baseVal,ll&&(r=ll[e])||(cl||(r=document.createElement("canvas"),r.className="blocklyComputeCanvas",document.body.appendChild(r),cl=r.getContext("2d")),cl.font=n+" "+t+" "+i,r=o?cl.measureText(o).width:0,ll&&(ll[e]=r)),r},Z=function(e,t,n,i){const o=document.createElement("span");o.style.font=n+" "+t+" "+i,o.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),t.appendChild(o),t.appendChild(e),document.body.appendChild(t),n={height:0,baseline:0};try{t.style.alignItems="baseline",n.baseline=e.offsetTop-o.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-o.offsetTop}finally{document.body.removeChild(t)}return n},J=function(e){return e*Math.PI/180},Q=function(e){return 180*e/Math.PI},ee=function(e,t,n){if(n<e){const t=n;n=e,e=t}return Math.max(e,Math.min(t,n))},te=function(e){return yl.getSizeInternal(e)},ne=function(e){if("none"!==oe(e,"display"))return ie(e);const t=e.style,n=t.display,i=t.visibility,o=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const r=e.offsetWidth;return e=e.offsetHeight,t.display=n,t.position=o,t.visibility=i,new _l(r,e)},ie=function(e){return new _l(e.offsetWidth,e.offsetHeight)},oe=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},re=function(e,n){return t("Blockly.utils.style.getCascadedStyle","version 9","version 10"),e.currentStyle?e.currentStyle[n]:""},se=function(e){const t=new gl(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new gl(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),t.x=e.left+n.x,t.y=e.top+n.y,t},ae=function(){const e=document.body,t=document.documentElement;return new gl(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},le=function(e){const t=parseFloat(oe(e,"borderLeftWidth")),n=parseFloat(oe(e,"borderRightWidth")),i=parseFloat(oe(e,"borderTopWidth"));return e=parseFloat(oe(e,"borderBottomWidth")),new pl(i,e,t,n)},ue=function(e,t,n){e=ce(e,t,n),t.scrollLeft=e.x,t.scrollTop=e.y},ce=function(e,t,n){var i=se(e),o=se(t),r=le(t);const s=i.x-o.x-r.left;return i=i.y-o.y-r.top,o=ie(e),e=t.clientWidth-o.width,o=t.clientHeight-o.height,r=t.scrollLeft,t=t.scrollTop,n?(r+=s-e/2,t+=i-o/2):(r+=Math.min(s,Math.max(s-e,0)),t+=Math.min(i,Math.max(i-o,0))),new gl(r,t)},he=function(){wl||(wl=document.createElement("div"),wl.className="blocklyDropDownDiv",(L()||document.body).appendChild(wl),Cl=document.createElement("div"),Cl.className="blocklyDropDownContent",wl.appendChild(Cl),Sl=document.createElement("div"),Sl.className="blocklyDropDownArrow",wl.appendChild(Sl),wl.style.opacity="0",wl.style.transition="transform "+Ll+"s, opacity "+Ll+"s",wl.addEventListener("focusin",(function(){B(wl,"blocklyFocused")})),wl.addEventListener("focusout",(function(){H(wl,"blocklyFocused")})))},de=function(e){Rl=e},pe=function(){return Al},fe=function(){return Cl},ge=function(){Cl.textContent="",Cl.style.width=""},me=function(e,t){wl.style.backgroundColor=e,wl.style.borderColor=t},_e=function(e,t,n,i){return we(ye(t),e,n,i)},ve=function(e,t,n){return Ml=!0,we(be(e),e,t,n)},ye=function(e){var t=e.getSvgRoot();const n=e.workspace.scale,i=e.height*n;return e=e.width*n,t=se(t),new pl(t.y,t.y+i,t.x,t.x+e)},be=function(e){return e=e.getScaledBBox(),new pl(e.top,e.bottom,e.left,e.right)},we=function(e,t,n,i){const o=e.left+(e.right-e.left)/2,r=e.bottom;e=e.top,i&&(e+=i),i=t.getSourceBlock();let s=i.workspace;for(;s.options.parentWorkspace;)s=s.options.parentWorkspace;return de(s.getParentSvg().parentNode),Ce(t,i.RTL,o,r,o,e,n)},Ce=function(e,t,n,i,o,r,s){return Al=e,Ol=s||null,wl.style.direction=t?"rtl":"ltr",e=E(),Dl=e.getRenderer().getClassName(),Nl=e.getTheme().getClassName(),Dl&&B(wl,Dl),Nl&&B(wl,Nl),De(n,i,o,r)},Se=function(e,t,n,i){return e=ke(e,n.left,n.right,i.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+xl,arrowX:e.arrowX,arrowY:-(El/2+Tl),arrowAtTop:!0,arrowVisible:!0}},Ee=function(e,t,n,i){return e=ke(e,n.left,n.right,i.width),{initialX:e.divX,initialY:t-i.height,finalX:e.divX,finalY:t-i.height-xl,arrowX:e.arrowX,arrowY:i.height-2*Tl-El/2,arrowAtTop:!1,arrowVisible:!0}},Te=function(e,t,n){return e=ke(e,t.left,t.right,n.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},ke=function(e,t,n,i){return t=ee(t,e-i/2,n-i),e=e-El/2-t,n=kl,e=ee(n,e,i-n-El),{arrowX:e,divX:t}},xe=function(){return!!Al},Le=function(e,t){return Al===e&&(t?Oe():Ie(),!0)},Ie=function(){wl.style.transform="translate(0, 0)",wl.style.opacity="0",Il=setTimeout((function(){Oe()}),1e3*Ll),Ol&&(Ol(),Ol=null)},Oe=function(){xe()&&(Il&&clearTimeout(Il),wl.style.transform="",wl.style.left="",wl.style.top="",wl.style.opacity="0",wl.style.display="none",wl.style.backgroundColor="",wl.style.borderColor="",Ol&&(Ol(),Ol=null),ge(),Al=null,Dl&&(H(wl,Dl),Dl=""),Nl&&(H(wl,Nl),Nl=""),E().markFocused())},De=function(e,t,n,i){e=Pl.getPositionMetrics(e,t,n,i),e.arrowVisible?(Sl.style.display="",Sl.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",Sl.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Sl.style.display="none",t=Math.floor(e.initialX),n=Math.floor(e.initialY),i=Math.floor(e.finalX);const o=Math.floor(e.finalY);return wl.style.left=t+"px",wl.style.top=n+"px",wl.style.display="block",wl.style.opacity="1",wl.style.transform="translate("+(i-t)+"px,"+(o-n)+"px)",!!e.arrowAtTop},Ne=function(){if(Al){var e=Al.getSourceBlock();e=Ml?be(Al):ye(e);const t=e.left+(e.right-e.left)/2;De(t,e.bottom,t,e.top)}else Ie()},Re=function(e,t,n,i){if(!(e instanceof Wl)&&"string"!==typeof e||""===String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!==typeof t||""===t.trim())throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const o=t.toLowerCase();if(!n)throw Error("Can not register a null value");let r=Bl[e],s=Hl[e];if(r||(r=Bl[e]=Object.create(null),s=Hl[e]=Object.create(null)),Ae(e,n),!i&&r[o])throw Error('Name "'+o+'" with type "'+e+'" already registered.');r[o]=n,s[o]=t},Ae=function(e,t){switch(e){case String(Wl.FIELD):if("function"!==typeof t.fromJson)throw Error('Type "'+e+'" must have a fromJson function')}},Me=function(e,t){e=String(e).toLowerCase(),t=t.toLowerCase();const n=Bl[e];n&&n[t]?(delete Bl[e][t],delete Hl[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},Pe=function(e,t,n){e=String(e).toLowerCase(),t=t.toLowerCase();const i=Bl[e];if(!i||!i[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",n)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return i[t]},Fe=function(e,t){return e=String(e).toLowerCase(),t=t.toLowerCase(),!!(e=Bl[e])&&!!e[t]},Be=function(e,t,n){return Pe(e,t,n)},Ve=function(e,t,n){return Pe(e,t,n)},He=function(e,t,n){e=String(e).toLowerCase();var i=Bl[e];if(!i){if(i=`Unable to find [${e}] in the registry.`,n)throw Error(`${i} You must require or register a ${e} plugin.`);return console.warn(i),null}if(!t)return i;e=Hl[e],n=Object.create(null),t=Object.keys(i);for(let o=0;o<t.length;o++){const r=t[o];n[e[r]]=i[r]}return n},$e=function(e,t,n){return t=t.plugins[e.toString()]||$l,"function"===typeof t?t:Be(e,t,n)},We=function(){return"blockly-"+(Gl++).toString(36)},Ue=function(){return jl.genUid()},ze=function(e){eu=e},je=function(){return eu},Ge=function(e){Au.fireInternal(e)},Ke=function(e){Qe()&&(Ru.length||setTimeout(qe,0),Ru.push(e))},qe=function(){const e=Ye(Ru,!0);Ru.length=0;for(let t,n=0;t=e[n];n++){if(!t.workspaceId)continue;const e=b(t.workspaceId);e&&e.fireChangeListener(t)}},Ye=function(e,t){e=e.slice(),t||e.reverse();const n=[],i=Object.create(null);for(let s,a=0;s=e[a];a++)if(!s.isNull()){var o=[s.isUiEvent?uu:s.type,s.blockId,s.workspaceId].join(" "),r=i[o];const e=r?r.event:null;r?s.type===ru&&r.index===a-1?(o=s,e.newParentId=o.newParentId,e.newInputName=o.newInputName,e.newCoordinate=o.newCoordinate,r.index=a):s.type===ou&&s.element===e.element&&s.name===e.name?e.newValue=s.newValue:s.type===vu?(r=s,e.viewTop=r.viewTop,e.viewLeft=r.viewLeft,e.scale=r.scale,e.oldScale=r.oldScale):s.type===du&&e.type===fu||(i[o]={event:s,index:a},n.push(s)):(i[o]={event:s,index:a},n.push(s))}e=n.filter((function(e){return!e.isNull()})),t||e.reverse();for(let s,a=1;s=e[a];a++)s.type===ou&&"mutation"===s.element&&e.unshift(e.splice(a,1)[0]);return e},Xe=function(){for(let e,t=0;e=Ru[t];t++)e.recordUndo=!1},Ze=function(){tu++},Je=function(){tu--},Qe=function(){return 0===tu},et=function(){return Ql},tt=function(e){Au.setGroupInternal(e)},nt=function(e){Ql="boolean"===typeof e?e?Ue():"":e},it=function(e){const t=[];e=e.getDescendants(!1);for(let n,i=0;n=e[i];i++)t[i]=n.id;return t},ot=function(e,t){var n=st(e.type);if(!n)throw Error("Unknown event type.");return rt(n)?n.fromJson(e,t):(n=new n,n.fromJson(e),n.workspaceId=t.id,n)},rt=function(e){return Object.getOwnPropertyDescriptors(e).fromJson&&"function"===typeof e.fromJson},st=function(e){const t=Be(Wl.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},at=function(e){if((e.type===ru||e.type===nu)&&e.workspaceId){var t=b(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const n=eu;try{eu=!1;const i=e.getParent();if(i&&i.isEnabled()){const t=e.getDescendants(!1);for(let e,n=0;e=t[n];n++)e.setEnabled(!0)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do{e.setEnabled(!1),e=e.getNextBlock()}while(e)}finally{eu=n}}}},lt=function(e){({document:Yl=Yl,DOMParser:Xl=Xl,XMLSerializer:Zl=Zl}=e)},ut=function(){return t("Blockly.utils.xml.getDocument","version 9","version 10"),Yl},ct=function(e){t("Blockly.utils.xml.setDocument","version 9","version 10"),Yl=e},ht=function(e){return Yl.createElementNS(Jl,e)},dt=function(e){return Yl.createTextNode(e)},pt=function(e){return(new Xl).parseFromString(e,"text/xml")},ft=function(e){return(new Zl).serializeToString(e)},gt=function(e,t){Bu(e,t)},mt=function(e){Bu=e},_t=function(e,t){$u.confirmInternal(e,t)},vt=function(e,t){Vu(e,t)},yt=function(e){Vu=e},bt=function(e,t,n){Hu(e,t,n)},wt=function(e){Hu=e},Ct=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let n=0;n<e.length;n++){const i=e[n].getVarModels();if(i)for(let e=0;e<i.length;e++){const n=i[e];n.getId()&&t.add(n)}}return Array.from(t.values())},St=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let i,o=0;i=e[o];o++){var n=i.getDeveloperVariables;if(n){n=n();for(let e=0;e<n.length;e++)t.add(n[e])}}return Array.from(t.values())},Et=function(e){let t=[];const n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",(function(e){It(e.getTargetWorkspace())})),t.push(n),e=Tt(e),t.concat(e)},Tt=function(e){e=e.getVariablesOfType("");const t=[];if(0<e.length){var n=e[e.length-1];if(nl.variables_set){var i=ht("block");i.setAttribute("type","variables_set"),i.setAttribute("gap",nl.math_change?"8":"24"),i.appendChild(At(n)),t.push(i)}if(nl.math_change&&(i=ht("block"),i.setAttribute("type","math_change"),i.setAttribute("gap",nl.variables_get?"20":"8"),i.appendChild(At(n)),n=nn('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),i.appendChild(n),t.push(i)),nl.variables_get){e.sort(Ju.compareByName);for(let i,o=0;i=e[o];o++)n=ht("block"),n.setAttribute("type","variables_get"),n.setAttribute("gap","8"),n.appendChild(At(i)),t.push(n)}}return t},kt=function(e){return Zu.generateUniqueNameInternal(e)},xt=function(e){return Lt(Xu.charAt(0),e.getAllVariableNames())},Lt=function(e,t){if(!t.length)return e;const n=Xu;let i="",o=n.indexOf(e);for(;;){let r=!1;for(let n=0;n<t.length;n++)if(t[n].toLowerCase()===e){r=!0;break}if(!r)break;o++,o===n.length&&(o=0,i=""+(Number(i)+1)),e=n.charAt(o)+i}return e},It=function(e,t,n){function i(n){Dt(Pu.NEW_VARIABLE_TITLE,n,(function(n){if(n){const r=Rt(n,e);if(r){let e;r.type===o?e=Pu.VARIABLE_ALREADY_EXISTS.replace("%1",r.name):(e=Pu.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,e=e.replace("%1",r.name).replace("%2",r.type)),gt(e,(function(){i(n)}))}else e.createVariable(n,o),t&&t(n)}else t&&t(null)}))}const o=n||"";i("")},Ot=function(e,t,n){function i(o){const r=Pu.RENAME_VARIABLE_TITLE.replace("%1",t.name);Dt(r,o,(function(o){if(o){var r=Nt(o,t.type,e);r?(r=Pu.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",r.name).replace("%2",r.type),gt(r,(function(){i(o)}))):(e.renameVariableById(t.getId(),o),n&&n(o))}else n&&n(null)}))}i("")},Dt=function(e,t,n){bt(e,t,(function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e===Pu.RENAME_VARIABLE||e===Pu.NEW_VARIABLE)&&(e=null),n(e)}))},Nt=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let i,o=0;i=n[o];o++)if(i.name.toLowerCase()===e&&i.type!==t)return i;return null},Rt=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let n,i=0;n=t[i];i++)if(n.name.toLowerCase()===e)return n;return null},At=function(e){const t=ht("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=dt(e.name),t.appendChild(e),t},Mt=function(e,t,n,i){let o=Pt(e,t,n,i);return o||(o=Ft(e,t,n,i)),o},Pt=function(e,t,n,i){const o=e.getPotentialVariableMap();let r=null;if(t&&(r=e.getVariableById(t),!r&&o&&(r=o.getVariableById(t)),r))return r;if(n){if(void 0===i)throw Error("Tried to look up a variable by name without a type");r=e.getVariable(n,i),!r&&o&&(r=o.getVariable(n,i))}return r},Ft=function(e,t,n,i){const o=e.getPotentialVariableMap();return n||(n=kt(e.isFlyout?e.targetWorkspace:e)),o?o.createVariable(n,i,t):e.createVariable(n,i,t)},Bt=function(e,t){e=e.getAllVariables();const n=[];if(t.length!==e.length)for(let i=0;i<e.length;i++){const o=e[i];-1===t.indexOf(o)&&n.push(o)}return n},Vt=function(e){if(sc)throw Error("CSS already injected");ac+="\n"+e},Ht=function(e,t){sc||(sc=!0,e&&(e=t.replace(/[\\/]$/,""),t=ac.replace(/<<<PATH>>>/g,e),ac="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},$t=function(e){const t=new gl(0,0);var n=e.x&&e.getAttribute("x");const i=e.y&&e.getAttribute("y");return n&&(t.x=parseInt(n)),i&&(t.y=parseInt(i)),(n=(n=e.getAttribute("transform"))&&n.match(hc))&&(t.x+=Number(n[1]),n[3]&&(t.y+=Number(n[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(dc))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},Wt=function(e){let t=0,n=0;for(;e;){const i=$t(e);if(t+=i.x,n+=i.y,-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new gl(t,n)},Ut=function(){return t("Blockly.utils.svgMath.is3dSupported","version 9","version 10"),!0},zt=function(){const e=ae();return new pl(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},jt=function(){const e=document.documentElement,t=window;return new gl(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},Gt=function(e,t){var n=t.x;t=t.y;const i=e.getInjectionDiv().getBoundingClientRect();return n=new gl(n-i.left,t-i.top),t=e.getOriginOffsetInPixels(),gl.difference(n,t).scale(1/e.scale)},Kt=function(e,t){const n=ht("xml");var i=qt(Ct(e));i.hasChildNodes()&&n.appendChild(i),i=e.getTopComments(!0);for(let o=0;o<i.length;o++)n.appendChild(i[o].toXmlWithXY(t));for(e=e.getTopBlocks(!0),i=0;i<e.length;i++)n.appendChild(Yt(e[i],t));return n},qt=function(e){const t=ht("variables");for(let n=0;n<e.length;n++){const i=e[n],o=ht("variable");o.appendChild(dt(i.name)),i.type&&o.setAttribute("type",i.type),o.id=i.getId(),t.appendChild(o)}return t},Yt=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let n=0;e.workspace.RTL&&(n=e.workspace.getWidth()),t=Jt(e,t);const i=e.getRelativeToSurfaceXY();return t.setAttribute("x",Math.round(e.workspace.RTL?n-i.x:i.x)),t.setAttribute("y",Math.round(i.y)),t},Xt=function(e){if(e.isSerializable()){const t=ht("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},Zt=function(e,t){for(let n=0;n<e.inputList.length;n++){const i=e.inputList[n];for(let e=0;e<i.fieldRow.length;e++){const n=Xt(i.fieldRow[e]);n&&t.appendChild(n)}}},Jt=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Jt(t):new DocumentFragment;const n=ht(e.isShadow()?"shadow":"block");if(n.setAttribute("type",e.type),t||n.setAttribute("id",e.id),e.mutationToDom){var i=e.mutationToDom();i&&(i.hasChildNodes()||i.hasAttributes())&&n.appendChild(i)}if(Zt(e,n),i=e.getCommentText()){var o=e.commentModel.size,r=e.commentModel.pinned,s=ht("comment");s.appendChild(dt(i)),s.setAttribute("pinned",r),s.setAttribute("h",o.height),s.setAttribute("w",o.width),n.appendChild(s)}for(e.data&&(i=ht("data"),i.appendChild(dt(e.data)),n.appendChild(i)),i=0;i<e.inputList.length;i++){o=e.inputList[i];var a=void 0;if(r=!0,o.type!==ql.DUMMY){s=o.connection.targetBlock(),o.type===ql.VALUE?a=ht("value"):o.type===ql.STATEMENT&&(a=ht("statement"));const e=o.connection.getShadowDom();!e||s&&s.isShadow()||a.appendChild(Qt(e,t)),s&&(s=Jt(s,t),s.nodeType===ol.ELEMENT_NODE&&(a.appendChild(s),r=!1)),a.setAttribute("name",o.name),r||n.appendChild(a)}}let l;return void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&n.setAttribute("inline",e.inputsInline.toString()),e.isCollapsed()&&n.setAttribute("collapsed","true"),e.isEnabled()||n.setAttribute("disabled","true"),e.isDeletable()||e.isShadow()||n.setAttribute("deletable","false"),e.isMovable()||e.isShadow()||n.setAttribute("movable","false"),e.isEditable()||n.setAttribute("editable","false"),a=e.getNextBlock(),a&&(i=Jt(a,t),i.nodeType===ol.ELEMENT_NODE&&(l=ht("next"),l.appendChild(i),n.appendChild(l))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||a&&a.isShadow()||l.appendChild(Qt(e,t)),n},Qt=function(e,t){let n,i=e=e.cloneNode(!0);for(;i;)if(t&&"shadow"===i.nodeName&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;){let e;n=i,i=i.parentNode,n.nodeType===ol.TEXT_NODE&&""===n.data.trim()&&(null==(e=i)?void 0:e.firstChild)!==n&&W(n)}i&&(n=i,i=i.nextSibling,n.nodeType===ol.TEXT_NODE&&""===n.data.trim()&&W(n))}return e},en=function(e){return ft(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},tn=function(e){e=en(e).split("<");let t="";for(let n=1;n<e.length;n++){const i=e[n];"/"===i[0]&&(t=t.substring(2)),e[n]=t+"<"+i,"/"!==i[0]&&"/>"!==i.slice(-2)&&(t+="  ")}return e=e.join("\n"),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},nn=function(e){const t=pt(e);if(!t||!t.documentElement||t.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return t.documentElement},on=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=rn(e,t),t.setResizesEnabled(!0),e},rn=function(e,t){let n=0;t.RTL&&(n=t.getWidth());const i=[];G();const o=et();o||tt(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let r=!0;try{for(let o,s=0;o=e.childNodes[s];s++){const e=o.nodeName.toLowerCase(),s=o;if("block"===e||"shadow"===e&&!je()){const e=an(s,t);i.push(e.id);const o=s.hasAttribute("x")?parseInt(s.getAttribute("x")):10,a=s.hasAttribute("y")?parseInt(s.getAttribute("y")):10;isNaN(o)||isNaN(a)||e.moveBy(t.RTL?n-o:o,a),r=!1}else{if("shadow"===e)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===e)t.rendered?vc.fromXmlRendered(s,t,n):ec.fromXml(s,t);else if("variables"===e){if(!r)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");ln(s,t),r=!1}}}}finally{o||tt(!1),K()}return t.setResizesEnabled&&t.setResizesEnabled(!0),Ge(new(st(Su))(t)),i},sn=function(e,t){if(!t.getBlocksBoundingBox)return rn(e,t);var n=t.getBlocksBoundingBox();if(e=rn(e,t),n&&n.top!==n.bottom){var i=n.bottom;n=t.RTL?n.right:n.left;var o=1/0;let r=-1/0,s=1/0;for(let n=0;n<e.length;n++){const i=t.getBlockById(e[n]).getRelativeToSurfaceXY();i.y<s&&(s=i.y),i.x<o&&(o=i.x),i.x>r&&(r=i.x)}for(i=i-s+10,n=t.RTL?n-r:n-o,o=0;o<e.length;o++)t.getBlockById(e[o]).moveBy(n,i)}return e},an=function(e,t){Ze();var n=t.getAllVariables();let i;try{if(i=_n(e,t),t.rendered){const e=i,n=i.getDescendants(!1);e.setConnectionTracking(!1);for(let t=n.length-1;0<=t;t--)n[t].initSvg();for(let t=n.length-1;0<=t;t--)n[t].render(!1);setTimeout((function(){e.disposed||e.setConnectionTracking(!0)}),1),e.updateDisabled(),t.resizeContents()}else{const e=i.getDescendants(!1);for(let t=e.length-1;0<=t;t--)e[t].initModel()}}finally{Je()}if(Qe()){for(e=Bt(t,n),t=0;t<e.length;t++)n=e[t],Ge(new(st(su))(n));Ge(new(st(nu))(i))}return i},ln=function(e,t){for(let n=0;n<e.children.length;n++){const i=e.children[n],o=i.getAttribute("type"),r=i.getAttribute("id");t.createVariable(i.textContent,o,r)}},un=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let n=0;n<e.children.length;n++){const i=e.children[n];if(i.nodeType!==ol.TEXT_NODE)switch(i.nodeName.toLowerCase()){case"mutation":t.mutation.push(i);break;case"comment":t.comment.push(i);break;case"data":t.data.push(i);break;case"title":case"field":t.field.push(i);break;case"value":case"statement":t.input.push(i);break;case"next":t.next.push(i);break;default:console.warn("Ignoring unknown tag: "+i.nodeName)}}return t},cn=function(e,t){let n=!1;for(let i=0;i<e.length;i++){const o=e[i];t.domToMutation&&(t.domToMutation(o),t.initSvg&&(n=!0))}return n},hn=function(e,t){for(let i=0;i<e.length;i++){var n=e[i];const o=n.textContent,r="true"===n.getAttribute("pinned"),s=parseInt(n.getAttribute("w"));if(n=parseInt(n.getAttribute("h")),t.setCommentText(o),t.commentModel.pinned=r,isNaN(s)||isNaN(n)||(t.commentModel.size=new _l(s,n)),r&&t.getCommentIcon&&!t.isInFlyout){const e=t;setTimeout((function(){e.getCommentIcon().setVisible(!0)}),1)}}},dn=function(e,t){for(let n=0;n<e.length;n++)t.data=e[n].textContent},pn=function(e,t){for(let n=0;n<e.length;n++){const i=e[n],o=i.getAttribute("name");vn(t,o,i)}},fn=function(e){const t={childBlockElement:null,childShadowElement:null};for(let n=0;n<e.childNodes.length;n++){const i=e.childNodes[n];i.nodeType===ol.ELEMENT_NODE&&("block"===i.nodeName.toLowerCase()?t.childBlockElement=i:"shadow"===i.nodeName.toLowerCase()&&(t.childShadowElement=i))}return t},gn=function(e,t,n,i){for(let r=0;r<e.length;r++){var o=e[r];const s=o.getAttribute("name"),a=n.getInput(s);if(!a){console.warn("Ignoring non-existent input "+s+" in block "+i);break}if(o=fn(o),o.childBlockElement){if(!a.connection)throw TypeError("Input connection does not exist.");_n(o.childBlockElement,t,a.connection,!1)}if(o.childShadowElement){let e;null==(e=a.connection)||e.setShadowDom(o.childShadowElement)}}},mn=function(e,t,n){for(let i=0;i<e.length;i++){const o=fn(e[i]);if(o.childBlockElement){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");_n(o.childBlockElement,t,n.nextConnection,!0)}o.childShadowElement&&n.nextConnection&&n.nextConnection.setShadowDom(o.childShadowElement)}},_n=function(e,t,n,i){const o=e.getAttribute("type");if(!o)throw TypeError("Block type unspecified: "+e.outerHTML);var r=e.getAttribute("id");r=t.newBlock(o,r);const s=un(e),a=cn(s.mutation,r);if(hn(s.comment,r),dn(s.data,r),n)if(i){if(!r.previousConnection)throw TypeError("Next block does not have previous statement.");n.connect(r.previousConnection)}else if(r.outputConnection)n.connect(r.outputConnection);else{if(!r.previousConnection)throw TypeError("Child block does not have output or previous statement.");n.connect(r.previousConnection)}if(pn(s.field,r),gn(s.input,t,r,o),mn(s.next,t,r),a&&r.initSvg(),(t=e.getAttribute("inline"))&&r.setInputsInline("true"===t),(t=e.getAttribute("disabled"))&&r.setEnabled("true"!==t&&"disabled"!==t),(t=e.getAttribute("deletable"))&&r.setDeletable("true"===t),(t=e.getAttribute("movable"))&&r.setMovable("true"===t),(t=e.getAttribute("editable"))&&r.setEditable("true"===t),(t=e.getAttribute("collapsed"))&&r.setCollapsed("true"===t),"shadow"===e.nodeName.toLowerCase()){for(e=r.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(r.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");r.setShadow(!0)}return r},vn=function(e,t,n){const i=e.getField(t);i?i.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},yn=function(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if("next"===n.nodeName.toLowerCase()){e.removeChild(n);break}}},bn=function(e,n){return t("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),e.startsWith(n)},wn=function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},Cn=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;let n,i=0;for(t=t||wn(e),n=0;n<t;n++){for(var o=e[0][n],r=1;r<e.length;r++)if(o!==e[r][n])return i;" "===o&&(i=n+1)}for(o=1;o<e.length;o++)if((r=e[o][n])&&" "!==r)return i;return t},Sn=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;let n,i=0;for(t=t||wn(e),n=0;n<t;n++){for(var o=e[0].substr(-n-1,1),r=1;r<e.length;r++)if(o!==e[r].substr(-n-1,1))return i;" "===o&&(i=n+1)}for(o=1;o<e.length;o++)if((r=e[o].charAt(e[o].length-n-1))&&" "!==r)return i;return t},En=function(e,t){e=e.split("\n");for(let n=0;n<e.length;n++)e[n]=Tn(e[n],t);return e.join("\n")},Tn=function(e,t){if(e.length<=t)return e;const n=e.trim().split(/\s+/);for(var i=0;i<n.length;i++)n[i].length>t&&(t=n[i].length);var o=-1/0;let r,s=1;do{i=o,r=e,e=[],o=n.length/s;let a=1;for(let t=0;t<n.length-1;t++)a<(t+1.5)/o?(a++,e[t]=!0):e[t]=!1;e=xn(n,e,t),o=kn(n,e,t),e=Ln(n,e),s++}while(o>i);return r},kn=function(e,t,n){const i=[0],o=[];for(var r=0;r<e.length;r++)i[i.length-1]+=e[r].length,!0===t[r]?(i.push(0),o.push(e[r].charAt(e[r].length-1))):!1===t[r]&&i[i.length-1]++;for(e=Math.max(...i),t=0,r=0;r<i.length;r++)t-=2*Math.pow(Math.abs(n-i[r]),1.5),t-=Math.pow(e-i[r],1.5),-1!==".?!".indexOf(o[r])?t+=n/3:-1!==",;)]}".indexOf(o[r])&&(t+=n/4);return 1<i.length&&i[i.length-1]<=i[i.length-2]&&(t+=.5),t},xn=function(e,t,n){let i,o=kn(e,t,n);for(let r=0;r<t.length-1;r++){if(t[r]===t[r+1])continue;const s=[].concat(t);s[r]=!s[r],s[r+1]=!s[r+1];const a=kn(e,s,n);a>o&&(o=a,i=s)}return i?xn(e,i,n):t},Ln=function(e,t){const n=[];for(let i=0;i<e.length;i++)n.push(e[i]),void 0!==t[i]&&n.push(t[i]?"\n":" ");return n.join("")},In=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},On=function(e){kc=e},Dn=function(){return kc},Nn=function(){return xc},Rn=function(){return $c},An=function(e){if(e=Mn(e)){for(e=e.tooltip;"function"===typeof e;)e=e();if("string"!==typeof e)throw Error("Tooltip function must return a string.");return e}return""},Mn=function(e){for(;e&&e.tooltip;){if("string"===typeof e.tooltip||"function"===typeof e.tooltip)return e;e=e.tooltip}return null},Pn=function(){$c||($c=document.createElement("div"),$c.className="blocklyTooltipDiv",(L()||document.body).appendChild($c))},Fn=function(e){e.mouseOverWrapper_=f(e,"pointerover",null,Vn),e.mouseOutWrapper_=f(e,"pointerout",null,Hn),e.addEventListener("pointermove",$n,!1)},Bn=function(e){e&&(g(e.mouseOverWrapper_),g(e.mouseOutWrapper_),e.removeEventListener("pointermove",$n))},Vn=function(e){Lc||(e=Mn(e.currentTarget),Ac!==e&&(Un(),Mc=null,Ac=e),clearTimeout(Oc))},Hn=function(e){Lc||(Oc=setTimeout((function(){Mc=Ac=null,Un()}),1),clearTimeout(Dc))},$n=function(e){if(Ac&&Ac.tooltip&&!Lc)if(xc){const t=Nc-e.pageX;e=Rc-e.pageY,Math.sqrt(t*t+e*e)>Bc&&Un()}else Mc!==Ac&&(clearTimeout(Dc),Nc=e.pageX,Rc=e.pageY,Dc=setTimeout(Yn,Vc))},Wn=function(){Mc=Ac=null,Un()},Un=function(){xc&&(xc=!1,$c&&($c.style.display="none")),Dc&&clearTimeout(Dc)},zn=function(){Un(),Lc=!0},jn=function(){Lc=!1},Gn=function(){$c&&Ac&&("function"===typeof kc?kc($c,Ac):Kn())},Kn=function(){var e=An(Ac);e=En(e,Ic),e=e.split("\n");for(let t=0;t<e.length;t++){const n=document.createElement("div");n.appendChild(document.createTextNode(e[t])),$c.appendChild(n)}},qn=function(e){const t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;let i=Nc;i=e?i-(Pc+$c.offsetWidth):i+Pc;let o=Rc+Fc;return o+$c.offsetHeight>n+window.scrollY&&(o-=$c.offsetHeight+2*Fc),e?i=Math.max(Hc-window.scrollX,i):i+$c.offsetWidth>t+window.scrollX-2*Hc&&(i=t-$c.offsetWidth-2*Hc),{x:i,y:o}},Yn=function(){if(!Lc&&(Mc=Ac,$c)){$c.textContent="",Gn();var e=Ac.RTL;$c.style.direction=e?"rtl":"ltr",$c.style.display="block",xc=!0;var{x:t,y:n}=qn(e);$c.style.left=t+"px",$c.style.top=n+"px"}},Xn=function(){return Uc},Zn=function(e){Uc=e},Jn=function(){return zc},Qn=function(e){zc=e},ei=function(e){e=String(e).toLowerCase().trim();var t=jc[e];if(t)return t;if(t="0x"===e.substring(0,2)?"#"+e.substring(2):e,t="#"===t[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(t))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),t=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=t&&256>t&&0<=n&&256>n)?ti(e,t,n):null},ti=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},ni=function(e){return e=ei(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,255&e]):[0,0,0]},ii=function(e,t,n){let i=0,o=0,r=0;if(0===t)r=o=i=n;else{const s=Math.floor(e/60),a=e/60-s;e=n*(1-t);const l=n*(1-t*a);switch(t=n*(1-t*(1-a)),s){case 1:i=l,o=n,r=e;break;case 2:i=e,o=n,r=t;break;case 3:i=e,o=l,r=n;break;case 4:i=t,o=e,r=n;break;case 5:i=n,o=e,r=l;break;case 6:case 0:i=n,o=t,r=e}}return ti(Math.floor(i),Math.floor(o),Math.floor(r))},oi=function(e,t,n){return e=ei(e),e?(t=ei(t),t?(e=ni(e),t=ni(t),ti(Math.round(t[0]+n*(e[0]-t[0])),Math.round(t[1]+n*(e[1]-t[1])),Math.round(t[2]+n*(e[2]-t[2])))):null):null},ri=function(e){return ii(e,Uc,255*zc)},si=function(e,t){const n=[];var i=e.split("");i.push("");var o=0;e=[];let r=null;for(let l=0;l<i.length;l++){var s=i[l];if(0===o)"%"===s?((o=e.join(""))&&n.push(o),e.length=0,o=1):e.push(s);else if(1===o)"%"===s?(e.push(s),o=0):t&&"0"<=s&&"9">=s?(o=2,r=s,(s=e.join(""))&&n.push(s),e.length=0):"{"===s?o=3:(e.push("%",s),o=0);else if(2===o)if("0"<=s&&"9">=s)r+=s;else{var a=void 0;n.push(parseInt(null!=(a=r)?a:"",10)),l--,o=0}else 3===o&&(""===s?(e.splice(0,0,"%{"),l--,o=0):"}"!==s?e.push(s):(o=e.join(""),/[A-Z]\w*/i.test(o)?(s=o.toUpperCase(),(s=s.startsWith("BKY_")?s.substring(4):null)&&s in Pu?(o=Pu[s],"string"===typeof o?Array.prototype.push.apply(n,si(o,t)):t?n.push(String(o)):n.push(o)):n.push("%{"+o+"}")):n.push("%{"+o+"}"),o=e.length=0))}for((t=e.join(""))&&n.push(t),a=[],e.length=0,i=0;i<n.length;i++)"string"===typeof n[i]?e.push(n[i]):((t=e.join(""))&&a.push(t),e.length=0,a.push(n[i]));return(t=e.join(""))&&a.push(t),e.length=0,a},ai=function(e){return si(e,!0)},li=function(e){return"string"!==typeof e?e:(e=si(e,!1),e.length?String(e[0]):"")},ui=function(e){let t=!0;const n=Pu,i=e.match(/%{BKY_[A-Z]\w*}/gi);if(i)for(let o=0;o<i.length;o++){const r=i[o].toUpperCase();void 0===n[r.slice(6,-1)]&&(console.warn("No message string for "+i[o]+" in "+e),t=!1)}return t},ci=function(e){const t="string"===typeof e?li(e):e;var n=Number(t);if(!isNaN(n)&&0<=n&&360>=n)return{hue:n,hex:ii(n,Xn(),255*Jn())};if(n=ei(t))return{hue:null,hex:n};throw n='Invalid colour: "'+t+'"',e!==t&&(n+=' (from "'+e+'")'),Error(n)},hi=function(){return Xc},di=function(e){Xc=e},pi=function(){Xc||(Xc=document.createElement("div"),Xc.className="blocklyWidgetDiv",(L()||document.body).appendChild(Xc))},fi=function(e,t,n){gi(),Zc=e,Jc=n,(e=Xc)&&(e.style.direction=t?"rtl":"ltr",e.style.display="block",t=E(),Qc=t.getRenderer().getClassName(),eh=t.getTheme().getClassName(),Qc&&B(e,Qc),eh&&B(e,eh))},gi=function(){if(mi()){Zc=null;var e=Xc;e&&(e.style.display="none",e.style.left="",e.style.top="",Jc&&Jc(),Jc=null,e.textContent="",Qc&&(H(e,Qc),Qc=""),eh&&(H(e,eh),eh=""),E().markFocused())}},mi=function(){return!!Zc},_i=function(e){Zc===e&&gi()},vi=function(e,t,n){Xc.style.left=e+"px",Xc.style.top=t+"px",Xc.style.height=n+"px"},yi=function(e,t,n,i){const o=wi(e,t,n);e=bi(e,t,n,i),0>o?vi(e,0,n.height+o):vi(e,o,n.height)},bi=function(e,t,n,i){return i?Math.min(Math.max(t.right-n.width,e.left),e.right-n.width):Math.max(Math.min(t.left,e.right-n.width),e.left)},wi=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},Ci=function(e,t){Re(Wl.FIELD,e,t)},Si=function(e){Me(Wl.FIELD,e)},Ei=function(e){return rh.fromJsonInternal(e)},Ti=function(e){const t=Ve(Wl.FIELD,e.type);if(t){if("function"!==typeof t.fromJson)throw new TypeError("returned Field was not a IRegistrableField");return t.fromJson(e)}return console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null},ki=function(e,t){e.setAttribute(ch,t)},xi=function(e,t,n){Array.isArray(n)&&(n=n.join(" ")),e.setAttribute(uh+t,""+n)},Li=function(e){return e!==nh.SKIP_SETUP},Ii=function(e){let t=!1;const n=e.map(([e,n])=>"string"===typeof e?[li(e),n]:(t=!0,[null!==e.alt?Object.assign({},e,{alt:li(e.alt)}):Object.assign({},e),n]));if(t||2>e.length)return{options:n};var i=n.map(([e])=>e),o=wn(i);e=Cn(i,o);const r=Sn(i,o);return!e&&!r||o<=e+r?{options:n}:(o=e?i[0].substring(0,e-1):void 0,i=r?i[0].substr(1-r):void 0,{options:Oi(n,e,r),prefix:o,suffix:i})},Oi=function(e,t,n){return e.map(([e,i])=>[e.substring(t,e.length-n),i])},Di=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)?"string"!==typeof i[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+i[1]+" in: ",i)):i[0]&&"string"!==typeof i[0]&&"string"!==typeof i[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+i[0]+" in: ",i)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",i))}if(t)throw TypeError("Found invalid FieldDropdown options.")},Ni=function(e,n){t("Blockly.utils.object.inherits","version 9","version 10"),e.superClass_=n.prototype,Object.setPrototypeOf(e,n),e.prototype=Object.create(n.prototype),e.prototype.constructor=e},Ri=function(e,n){t("Blockly.utils.object.mixin","May 2022","May 2023","Object.assign");for(const t in n)e[t]=n[t]},Ai=function(e,t){for(const n in t)e[n]=null!==t[n]&&"object"===typeof t[n]?Ai(e[n]||Object.create(null),t[n]):t[n];return e},Mi=function(e){return t("Blockly.utils.object.values","version 9","version 10","Object.values"),Object.values(e)},Pi=function(e){return e?((e instanceof Element||"string"===typeof e)&&(e=ji(e),e=Wi(e)),Fi(e),e):null},Fi=function(e){const t=e.kind;if(e=e.contents,t&&t!==$h&&t!==Hh)throw Error("Invalid toolbox kind "+t+". Please supply either "+$h+" or "+Hh);if(!e)throw Error("Toolbox must have a contents attribute.")},Bi=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:Ui(e):[]},Vi=function(e){return Wh.hasCategoriesInternal(e)},Hi=function(e){if(!e)return!1;const t=e.kind;return t?t===Hh:!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length},$i=function(e){return!(!e||!e.contents)&&!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length},Wi=function(e){const t={contents:Ui(e)};return e instanceof Node&&zi(e,t),t},Ui=function(e){const t=[];let n=e.childNodes;n||(n=e);for(let i,o=0;i=n[o];o++){if(!i.tagName)continue;e={};const n=i.tagName.toUpperCase();e.kind=n,"BLOCK"===n?e.blockxml=i:i.childNodes&&0<i.childNodes.length&&(e.contents=Ui(i)),zi(i,e),t.push(e)}return t},zi=function(e,t){for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n];-1<i.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[i.nodeName.replace("css-","")]=i.value):t[i.nodeName]=i.value}},ji=function(e){let t=null;if(e)if("string"===typeof e){if(t=nn(e),"xml"!==t.nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},Gi=function(e,t){if("string"!==typeof e||""===e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(Kh[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!==typeof t)throw Error('Error: Extension "'+e+'" must be a function');Kh[e]=t},Ki=function(e,t){if(!t||"object"!==typeof t)throw Error('Error: Mixin "'+e+'" must be a object');Gi(e,(function(){this.mixin(t)}))},qi=function(t,n,i,o){const r='Error when registering mutator "'+t+'": ';io(r,n);const s=to(n,r);if(i&&"function"!==typeof i)throw Error(r+'Extension "'+t+'" is not a function');Gi(t,(function(){s&&this.setMutator(new e.Mutator$$module$build$src$core$mutator(o||[],this)),this.mixin(n),i&&i.apply(this)}))},Yi=function(e){Xi(e)?delete Kh[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Xi=function(e){return!!Kh[e]},Zi=function(e,t,n){const i=Kh[e];if("function"!==typeof i)throw Error('Error: Extension "'+e+'" not found.');let o;if(n?Ji(e,t):o=oo(t),i.apply(t),n)io('Error after applying mutator "'+e+'": ',t);else if(!ro(o,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},Ji=function(e,t){if(oo(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Qi=function(e,t){return no(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},eo=function(e,t){return no(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},to=function(e,t){return no(e.compose,e.decompose,t+" compose/decompose")},no=function(e,t,n){if(e&&t){if("function"!==typeof e||"function"!==typeof t)throw Error(n+" must be a function");return!0}if(!e&&!t)return!1;throw Error(n+"Must have both or neither functions")},io=function(e,t){const n=Qi(t,e),i=eo(t,e);if(!n&&!i)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");to(t,e)},oo=function(e){const t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.saveExtraState&&t.push(e.saveExtraState),void 0!==e.loadExtraState&&t.push(e.loadExtraState),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},ro=function(e,t){if(t=oo(t),t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0},so=function(e){if("object"!==typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)e();else{const t=setInterval((function(){"complete"===document.readyState&&(clearInterval(t),e())}),10)}},ao=function(e,t){const n=[];return"object"===typeof document&&so((function(){for(const e in t)ui(t[e])})),function(){this.type&&-1===n.indexOf(this.type)&&(lo(this,e,t),n.push(this.type)),this.setTooltip(function(){var i=String(this.getFieldValue(e));let o=t[i];return null===o?-1===n.indexOf(this.type)&&(i="No tooltip mapping for value "+i+" of field "+e,null!==this.type&&(i+=" of block type "+this.type),console.warn(i+".")):o=li(o),o}.bind(this))}},lo=function(e,t,n){var i=e.getField(t);if(i instanceof vh&&!i.isOptionListDynamic()){i=i.getOptions();for(let o=0;o<i.length;o++){const r=i[o][1];null===n[r]&&console.warn("No tooltip mapping for value "+r+" of field "+t+" of block type "+e.type)}}},uo=function(e,t){return"object"===typeof document&&so((function(){ui(e)})),function(){this.setTooltip(function(){const n=this.getField(t);return li(e).replace("%1",n?n.getText():"")}.bind(this))}},co=function(){const e=this.tooltip;this.setTooltip(function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}.bind(this))},ho=function(e,t){return t=e.indexOf(t),-1!==t&&(e.splice(t,1),!0)},po=function(e,t){return" "+e+","+t+" "},fo=function(e,t){return" "+e+t.join("")},go=function(e,t){return" M "+e+","+t+" "},mo=function(e,t){return" m "+e+","+t+" "},_o=function(e,t){return" l "+e+","+t+" "},vo=function(e){return" l"+e.join("")},yo=function(e,t){return" "+e+" "+t+" "},bo=function(e,t,n,i){return e+" "+n+" "+n+" "+t+i},wo=function(e){return t("Blockly.utils.getRelativeXY","December 2021","December 2022","Blockly.utils.svgMath.getRelativeXY"),$t(e)},Co=function(e){return t("Blockly.utils.getInjectionDivXY_","December 2021","December 2022","Blockly.utils.svgMath.getInjectionDivXY"),Wt(e)},So=function(e){return t("Blockly.utils.tokenizeInterpolation","December 2021","December 2022","Blockly.utils.parsing.tokenizeInterpolation"),ai(e)},Eo=function(e){return t("Blockly.utils.replaceMessageReferences","December 2021","December 2022","Blockly.utils.parsing.replaceMessageReferences"),li(e)},To=function(e){return t("Blockly.utils.checkMessageReferences","December 2021","December 2022","Blockly.utils.parsing.checkMessageReferences"),ui(e)},ko=function(){return t("Blockly.utils.is3dSupported","December 2021","December 2022","Blockly.utils.svgMath.is3dSupported"),Ut()},xo=function(){return t("Blockly.utils.getViewportBBox","December 2021","December 2022","Blockly.utils.svgMath.getViewportBBox"),zt()},Lo=function(e,n){return t("Blockly.utils.arrayRemove","December 2021","December 2022","Blockly.array.removeElem"),ho(e,n)},Io=function(){return t("Blockly.utils.getDocumentScroll","December 2021","December 2022","Blockly.utils.svgMath.getDocumentScroll"),jt()},Oo=function(e,n){return t("Blockly.utils.getBlockTypeCounts","December 2021","December 2022","Blockly.common.getBlockTypeCounts"),D(e,n)},Do=function(e,n){return t("Blockly.utils.screenToWsCoordinates","December 2021","December 2022","Blockly.utils.svgMath.screenToWsCoordinates"),Gt(e,n)},No=function(e){return t("Blockly.utils.parseBlockColour","December 2021","December 2022","Blockly.utils.parsing.parseBlockColour"),ci(e)},Ro=function(e){t("Blockly.utils.runAfterPageLoad","December 2021","December 2022"),so(e)},Ao=function(e,t){Re(Wl.SERIALIZER,e,t)},Mo=function(e){Me(Wl.SERIALIZER,e)},Po=function(e,{addCoordinates:t=!1,addInputBlocks:n=!0,addNextBlocks:i=!0,doFullSerialization:o=!0}={}){if(e.isInsertionMarker())return null;const r={type:e.type,id:e.id};return t&&Bo(e,r),Fo(e,r),Vo(e,r),Ho(e,r),$o(e,r,o),n&&Wo(e,r,o),i&&Uo(e,r,o),r},Fo=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},Bo=function(e,t){const n=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(n.RTL?n.getWidth()-e.x:e.x),t.y=Math.round(e.y)},Vo=function(e,t){e.saveExtraState?(e=e.saveExtraState(),null!==e&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),null!==e&&(t.extraState=en(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Ho=function(e,t){e.getCommentText()&&(t.icons={comment:{text:e.getCommentText(),pinned:e.commentModel.pinned,height:Math.round(e.commentModel.size.height),width:Math.round(e.commentModel.size.width)}})},$o=function(e,t,n){const i=Object.create(null);for(let o=0;o<e.inputList.length;o++){const t=e.inputList[o];for(let e=0;e<t.fieldRow.length;e++){const o=t.fieldRow[e];o.isSerializable()&&(i[o.name]=o.saveState(n))}}Object.keys(i).length&&(t.fields=i)},Wo=function(e,t,n){const i=Object.create(null);for(let o=0;o<e.inputList.length;o++){const t=e.inputList[o];if(t.type===ql.DUMMY)continue;const r=zo(t.connection,n);r&&(i[t.name]=r)}Object.keys(i).length&&(t.inputs=i)},Uo=function(e,t,n){e.nextConnection&&(e=zo(e.nextConnection,n))&&(t.next=e)},zo=function(e,t){const n=e.getShadowState(!0);if(e=e.targetBlock(),!n&&!e)return null;const i=Object.create(null);return n&&(i.shadow=n),e&&!e.isShadow()&&(i.block=Po(e,{doFullSerialization:t})),i},jo=function(e,t,{recordUndo:n=!1}={}){return Go(e,t,{recordUndo:n})},Go=function(e,t,{parentConnection:n,isShadow:i=!1,recordUndo:o=!1}={}){const r=je();ze(o),(o=et())||tt(!0),Ze();const s=Ko(e,t,{parentConnection:n,isShadow:i});return Je(),Ge(new(st(nu))(s)),tt(o),ze(r),t.rendered&&setTimeout(()=>{s.disposed||s.setConnectionTracking(!0)},1),s},Ko=function(e,t,{parentConnection:n,isShadow:i=!1}={}){if(!e.type)throw new od(e);const o=t.newBlock(e.type,e.id);return o.setShadow(i),qo(o,e),Yo(o,e),Xo(o,e),Zo(n,o,e),Jo(o,e),Qo(o,e),er(o,e),tr(o,e),ir(o,t.rendered),o},qo=function(e,t){let n=void 0===t.x?0:t.x;t=void 0===t.y?0:t.y;const i=e.workspace;n=i.RTL?i.getWidth()-n:n,e.moveBy(n,t)},Yo=function(e,t){t.collapsed&&e.setCollapsed(!0),!1===t.enabled&&e.setEnabled(!1),void 0!==t.inline&&e.setInputsInline(t.inline),void 0!==t.data&&(e.data=t.data)},Xo=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(nn(t.extraState)))},Zo=function(e,t,n){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new ad(n);if(e.type===ql.VALUE){var i=t.outputConnection;if(!i)throw new rd("output",t,n)}else if(i=t.previousConnection,!i)throw new rd("previous",t,n);if(!e.connect(i)){const o=t.workspace.connectionChecker;throw new sd(o.getErrorMessage(o.canConnectWithReason(i,e,!1),i,e),e.type===ql.VALUE?"output connection":"previous connection",t,n)}}},Jo=function(e,t){t.icons&&(t=t.icons.comment)&&(e.setCommentText(t.text),"pinned"in t&&(e.commentModel.pinned=t.pinned),"width"in t&&"height"in t&&(e.commentModel.size=new _l(t.width,t.height)),t.pinned&&e.rendered&&!e.isInFlyout&&setTimeout(()=>e.getCommentIcon().setVisible(!0),1))},Qo=function(e,t){if(t.fields){var n=Object.keys(t.fields);for(let i=0;i<n.length;i++){const o=n[i],r=t.fields[o],s=e.getField(o);s?s.loadState(r):console.warn(`Ignoring non-existant field ${o} in block ${e.type}`)}}},er=function(e,t){if(t.inputs){var n=Object.keys(t.inputs);for(let i=0;i<n.length;i++){const o=n[i],r=e.getInput(o);if(!r||!r.connection)throw new rd(o,e,t);nr(r.connection,t.inputs[o])}}},tr=function(e,t){if(t.next){if(!e.nextConnection)throw new rd("next",e,t);nr(e.nextConnection,t.next)}},nr=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&Ko(t.block,e.getSourceBlock().workspace,{parentConnection:e})},ir=function(e,t){if(t)for(e.setConnectionTracking(!1),e.initSvg(),e.render(!1),e=e.getIcons(),t=0;t<e.length;t++)e[t].computeIconLocation();else e.initModel()},or=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},rr=function(e,t){let n=null;t=t.outputConnection;const i=t.getConnectionChecker();for(let o,r=0;o=e.inputList[r];r++){const e=o.connection;if(e&&i.canConnect(t,e,!1)){if(n)return null;n=e}}return n},sr=function(e,t){let n;for(;n=rr(e,t);)if(e=n.targetBlock(),!e||e.isShadow())return n;return null},ar=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},lr=function(e){const t=e.workspace;var n=e.getSvgRoot();t.getAudioManager().play("delete");const i=t.getSvgXY(n);n=n.cloneNode(!0),n.setAttribute("transform","translate("+i.x+","+i.y+")"),t.getParentSvg().appendChild(n),ur(n,{x:i.x,y:i.y,width:e.width,height:e.height},t.RTL,new Date,t.scale)},ur=function(e,t,n,i,o){const r=((new Date).getTime()-i.getTime())/150;1<r?W(e):(e.setAttribute("transform","translate("+(t.x+(n?-1:1)*t.width*o/2*r)+","+(t.y+t.height*o*r)+") scale("+(1-r)*o+")"),setTimeout(ur,10,e,t,n,i,o))},cr=function(e){const t=e.workspace,n=t.scale;if(t.getAudioManager().play("click"),!(1>n)){var i=t.getSvgXY(e.getSvgRoot());e.outputConnection?(i.x+=(e.RTL?3:-3)*n,i.y+=13*n):e.previousConnection&&(i.x+=(e.RTL?-23:23)*n,i.y+=3*n),e=F(uc.CIRCLE,{cx:i.x,cy:i.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg()),hr(e,new Date,n)}},hr=function(e,t,n){const i=((new Date).getTime()-t.getTime())/150;1<i?W(e):(e.setAttribute("r",(25*i*n).toString()),e.style.opacity=(1-i).toString(),Rd=setTimeout(hr,10,e,t,n))},dr=function(e){if(fr(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),Ad=e.getSvgRoot(),pr(Ad,t,new Date)}},pr=function(e,t,n){const i=((new Date).getTime()-n.getTime())/200;let o="";1>=i&&(o=`skewX(${Math.round(Math.sin(i*Math.PI*3)*(1-i)*t)})`,Rd=setTimeout(pr,10,e,t,n)),e.skew_=o,e.setAttribute("transform",e.translate_+e.skew_)},fr=function(){if(Ad){Rd&&clearTimeout(Rd);const e=Ad;e.skew_="",e.setAttribute("transform",e.translate_),Ad=null}},gr=function(e){Wd.copyInternal(e)},mr=function(e){$d=e.toCopyData()},_r=function(){if(!$d)return null;let e=$d.source;return e.isFlyout&&(e=e.targetWorkspace),$d.typeCounts&&e.isCapacityAvailable($d.typeCounts)?e.paste($d.saveInfo):null},vr=function(e){return Wd.duplicateInternal(e)},yr=function(e){const t=$d;let n,i,o;return gr(e),e=null!=(o=null==(n=e.toCopyData())||null==(i=n.source)?void 0:i.paste($d.saveInfo))?o:null,$d=t,e},br=function(){return Bd},wr=function(e){Bd=e},Cr=function(e,t,n){if(fi(Vd,n,Lr),t.length){var i=Sr(t,n);Hd=i,Er(i,e,n),setTimeout((function(){i.focus()}),1),Bd=null}else xr()},Sr=function(e,t){const n=new fh;n.setRole(ah.MENU);for(let i=0;i<e.length;i++){const o=e[i],r=new mh(o.text);r.setRightToLeft(t),r.setRole(ah.MENUITEM),n.addChild(r),r.setEnabled(o.enabled),o.enabled&&r.onAction((function(){xr(),o.callback(o.scope)}),{})}return n},Er=function(e,t,n){const i=zt();t=new pl(t.clientY+i.top,t.clientY+i.top,t.clientX+i.left,t.clientX+i.left),Tr(e);const o=e.getSize();n&&(t.left+=o.width,t.right+=o.width,i.left+=o.width,i.right+=o.width),yi(i,t,o,n),e.focus()},Tr=function(e){var t=hi();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),B(t,"blocklyContextMenu"),p(t,"contextmenu",null,kr),e.focus()},kr=function(e){e.preventDefault(),e.stopPropagation()},xr=function(){_i(Vd),Bd=null},Lr=function(){Hd&&(Hd.dispose(),Hd=null)},Ir=function(t,n){return()=>{let i;Ze();try{i=an(n,t.workspace);const o=t.getRelativeToSurfaceXY();o.x=t.RTL?o.x-e.config$$module$build$src$core$config.snapRadius:o.x+e.config$$module$build$src$core$config.snapRadius,o.y+=2*e.config$$module$build$src$core$config.snapRadius,i.moveBy(o.x,o.y)}finally{Je()}Qe()&&!i.isShadow()&&Ge(new(st(nu))(i)),i.select()}},Or=function(e){return{text:Pu.REMOVE_COMMENT,enabled:!0,callback:function(){tt(!0),e.dispose(),tt(!1)}}},Dr=function(e){return{text:Pu.DUPLICATE_COMMENT,enabled:!0,callback:function(){vr(e)}}},Nr=function(e,t){const n={enabled:!0};return n.text=Pu.ADD_COMMENT,n.callback=function(){const n=new vc(e,Pu.WORKSPACE_COMMENT_DEFAULT_TEXT,vc.DEFAULT_SIZE,vc.DEFAULT_SIZE);var i=e.getInjectionDiv().getBoundingClientRect();i=new gl(t.clientX-i.left,t.clientY-i.top);const o=e.getOriginOffsetInPixels();i=gl.difference(i,o),i.scale(1/e.scale),n.moveBy(i.x,i.y),e.rendered&&(n.initSvg(),n.render(),n.select())},n},Rr=function(e,t,n,i,o,r){const s=r.scrollbar&&r.scrollbar.canScrollVertically();return e.horizontal===vp.LEFT?(n=o.absoluteMetrics.left+n,s&&r.RTL&&(n+=Eh.scrollbarThickness)):(n=o.absoluteMetrics.left+o.viewMetrics.width-t.width-n,s&&!r.RTL&&(n-=Eh.scrollbarThickness)),e.vertical===_p.TOP?e=o.absoluteMetrics.top+i:(e=o.absoluteMetrics.top+o.viewMetrics.height-t.height-i,r.scrollbar&&r.scrollbar.canScrollHorizontally()&&(e-=Eh.scrollbarThickness)),new pl(e,e+t.height,n,n+t.width)},Ar=function(e,t){return{horizontal:t.toolboxMetrics.position===Vh.LEFT||e.horizontalLayout&&!e.RTL?vp.RIGHT:vp.LEFT,vertical:t.toolboxMetrics.position===Vh.BOTTOM?_p.TOP:_p.BOTTOM}},Mr=function(e,t,n,i){const o=e.left,r=e.right-e.left,s=e.bottom-e.top;for(let a=0;a<i.length;a++){const l=i[a];e.intersects(l)&&(e=n===yp.UP?l.top-s-t:l.bottom+t,e=new pl(e,e+s,o,o+r),a=-1)}return e},Pr=function(){mf.registry.register({name:_f.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[hh.ESC]})},Fr=function(){mf.registry.register({name:_f.DELETE,preconditionFn(e){const t=k();return!e.options.readOnly&&null!=t&&t.isDeletable()},callback(e,t){return t.preventDefault(),!ff.inProgress()&&(k().checkAndDelete(),!0)},keyCodes:[hh.DELETE,hh.BACKSPACE]})},Br=function(){const e=mf.registry.createSerializedKey(hh.C,[hh.CTRL]),t=mf.registry.createSerializedKey(hh.C,[hh.ALT]),n=mf.registry.createSerializedKey(hh.C,[hh.META]);mf.registry.register({name:_f.COPY,preconditionFn(e){const t=k();return!e.options.readOnly&&!ff.inProgress()&&null!=t&&t.isDeletable()&&t.isMovable()},callback(e,t){return t.preventDefault(),e.hideChaff(),gr(k()),!0},keyCodes:[e,t,n]})},Vr=function(){const e=mf.registry.createSerializedKey(hh.X,[hh.CTRL]),t=mf.registry.createSerializedKey(hh.X,[hh.ALT]),n=mf.registry.createSerializedKey(hh.X,[hh.META]);mf.registry.register({name:_f.CUT,preconditionFn(e){const t=k();return!e.options.readOnly&&!ff.inProgress()&&null!=t&&t instanceof pp&&t.isDeletable()&&t.isMovable()&&!t.workspace.isFlyout},callback(){const e=k();return!!e&&(gr(e),e.checkAndDelete(),!0)},keyCodes:[e,t,n]})},Hr=function(){const e=mf.registry.createSerializedKey(hh.V,[hh.CTRL]),t=mf.registry.createSerializedKey(hh.V,[hh.ALT]),n=mf.registry.createSerializedKey(hh.V,[hh.META]);mf.registry.register({name:_f.PASTE,preconditionFn(e){return!e.options.readOnly&&!ff.inProgress()},callback(){return!!_r()},keyCodes:[e,t,n]})},$r=function(){const e=mf.registry.createSerializedKey(hh.Z,[hh.CTRL]),t=mf.registry.createSerializedKey(hh.Z,[hh.ALT]),n=mf.registry.createSerializedKey(hh.Z,[hh.META]);mf.registry.register({name:_f.UNDO,preconditionFn(e){return!e.options.readOnly&&!ff.inProgress()},callback(e){return e.hideChaff(),e.undo(!1),!0},keyCodes:[e,t,n]})},Wr=function(){const e=mf.registry.createSerializedKey(hh.Z,[hh.SHIFT,hh.CTRL]),t=mf.registry.createSerializedKey(hh.Z,[hh.SHIFT,hh.ALT]),n=mf.registry.createSerializedKey(hh.Z,[hh.SHIFT,hh.META]),i=mf.registry.createSerializedKey(hh.Y,[hh.CTRL]);mf.registry.register({name:_f.REDO,preconditionFn(e){return!ff.inProgress()&&!e.options.readOnly},callback(e){return e.hideChaff(),e.undo(!0),!0},keyCodes:[e,t,n,i]})},Ur=function(){Pr(),Fr(),Br(),Vr(),Hr(),$r(),Wr()},zr=function(e){return void 0!==e.startPublishing&&void 0!==e.stopPublishing},jr=function(e){return void 0!==e.doProcedureUpdate},Gr=function(e){for(const t of e.getAllBlocks(!1))jr(t)&&t.doProcedureUpdate()},Kr=function(e){const t=e.getBlocksByType("procedures_defnoreturn",!1).map((function(e){return e.getProcedureDef()}));return e=e.getBlocksByType("procedures_defreturn",!1).map((function(e){return e.getProcedureDef()})),t.sort(qr),e.sort(qr),[t,e]},qr=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},Yr=function(e,t){if(t.isInFlyout)return e;for(e=e||Pu.UNNAMED_KEY||"unnamed";!Xr(e,t.workspace,t);){const t=e.match(/^(.*?)(\d+)$/);e=t?t[1]+(parseInt(t[2])+1):e+"2"}return e},Xr=function(e,t,n){return!Zr(e,t,n)},Zr=function(e,t,n){t=t.getAllBlocks(!1);for(let o=0;o<t.length;o++)if(t[o]!==n){var i=t[o];if(i.getProcedureDef&&(i=i.getProcedureDef(),Lf.equals(i[0],e)))return!0}return!1},Jr=function(e){var t=this.getSourceBlock();if(!t)throw new ih;e=e.trim();const n=Yr(e,t),i=this.getValue();if(i!==e&&i!==n)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const o=e[t];o.renameProcedure&&o.renameProcedure(i,n)}return n},Qr=function(e){function t(e,t){for(let o=0;o<e.length;o++){var i=e[o][0];const r=e[o][1],s=ht("block");s.setAttribute("type",t),s.setAttribute("gap","16");const a=ht("mutation");for(a.setAttribute("name",i),s.appendChild(a),i=0;i<r.length;i++){const e=ht("arg");e.setAttribute("name",r[i]),a.appendChild(e)}n.push(s)}}const n=[];if(nl.procedures_defnoreturn){var i=ht("block");i.setAttribute("type","procedures_defnoreturn"),i.setAttribute("gap","16");var o=ht("field");o.setAttribute("name","NAME"),o.appendChild(dt(Pu.PROCEDURES_DEFNORETURN_PROCEDURE)),i.appendChild(o),n.push(i)}return nl.procedures_defreturn&&(i=ht("block"),i.setAttribute("type","procedures_defreturn"),i.setAttribute("gap","16"),o=ht("field"),o.setAttribute("name","NAME"),o.appendChild(dt(Pu.PROCEDURES_DEFRETURN_PROCEDURE)),i.appendChild(o),n.push(i)),nl.procedures_ifreturn&&(i=ht("block"),i.setAttribute("type","procedures_ifreturn"),i.setAttribute("gap","16"),n.push(i)),n.length&&n[n.length-1].setAttribute("gap","24"),e=Kr(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),n},es=function(e){var t=[],n=e.getBlocksByType("procedures_mutatorarg",!1);for(let r,s=0;r=n[s];s++)t.push(r.getFieldValue("NAME"));n=ht("xml");const i=ht("block");i.setAttribute("type","procedures_mutatorarg");const o=ht("field");o.setAttribute("name","NAME"),t=Lt(Ff,t),t=dt(t),o.appendChild(t),i.appendChild(o),n.appendChild(i),e.updateToolbox(n)},ts=function(e){if(e.type===fu&&"mutator"===e.bubbleType&&e.isOpen&&e.blockId){e=b(e.workspaceId).getBlockById(e.blockId);var t=e.type;"procedures_defnoreturn"!==t&&"procedures_defreturn"!==t||(e=e.mutator.getWorkspace(),es(e),e.addChangeListener(ns))}},ns=function(e){e.type!==nu&&e.type!==iu&&e.type!==ou||(e=b(e.workspaceId),es(e))},is=function(e,t){const n=[];t=t.getAllBlocks(!1);for(let o=0;o<t.length;o++){var i=t[o];i.getProcedureCall&&(i=i.getProcedureCall())&&Lf.equals(i,e)&&n.push(t[o])}return n},os=function(e){const t=je();var n=e.getProcedureDef()[0];const i=e.mutationToDom(!0);e=is(n,e.workspace);for(let r,s=0;r=e[s];s++){n=(n=r.mutationToDom())&&en(n),r.domToMutation&&r.domToMutation(i);var o=r.mutationToDom();o=o&&en(o),n!==o&&(ze(!1),Ge(new(st(ou))(r,"mutation",null,n,o)),ze(t))}},rs=function(e,t){t=t.getAllBlocks(!1);for(let i=0;i<t.length;i++){var n=t[i];if(n.getProcedureDef&&(n=n.getProcedureDef())&&Lf.equals(n[0],e))return t[i]}return null},ss=function(e){return e.isDynamic},as=function(){return Rg},ls=function(){t("Blockly.blockRendering.debug.startDebugger()","version 8","version 10","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),Rg=!0},us=function(){t("Blockly.blockRendering.debug.stopDebugger()","version 8","version 10","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),Rg=!1},cs=function(e,t){Re(Wl.RENDERER,e,t)},hs=function(e){Me(Wl.RENDERER,e)},ds=function(){t("Blockly.blockRendering.stopDebugger()","September 2021","September 2022","the debug renderer in @blockly/dev-tools (See https://www.npmjs.com/package/@blockly/dev-tools.)"),us()},ps=function(e,t,n){return e=new(Be(Wl.RENDERER,e))(e),e.init(t,n),e},fs=function(e){It(e.getTargetWorkspace(),void 0,"String")},gs=function(e){It(e.getTargetWorkspace(),void 0,"Number")},ms=function(e){It(e.getTargetWorkspace(),void 0,"Colour")},_s=function(e){let t=[],n=document.createElement("button");return n.setAttribute("text",Pu.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(n),n=document.createElement("button"),n.setAttribute("text",Pu.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(n),n=document.createElement("button"),n.setAttribute("text",Pu.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(n),e.registerButtonCallback("CREATE_VARIABLE_STRING",fs),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",gs),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",ms),e=vs(e),t.concat(e)},vs=function(e){e=e.getAllVariables();const t=[];if(0<e.length){if(nl.variables_set_dynamic){var n=e[e.length-1];const i=ht("block");i.setAttribute("type","variables_set_dynamic"),i.setAttribute("gap","24"),i.appendChild(At(n)),t.push(i)}if(nl.variables_get_dynamic){e.sort(Ju.compareByName);for(let i,o=0;i=e[o];o++)n=ht("block"),n.setAttribute("type","variables_get_dynamic"),n.setAttribute("gap","8"),n.appendChild(At(i)),t.push(n)}}return t},ys=function(e){e.resizeContents()},bs=function(e){const t=Object.create(null),n=He(Wl.SERIALIZER,!0);for(const i in n){let o;const r=null==(o=n[i])?void 0:o.save(e);r&&(t[i]=r)}return t},ws=function(e,t,{recordUndo:n=!1}={}){var i=He(Wl.SERIALIZER,!0);if(i){i=Object.entries(i).sort((e,t)=>t[1].priority-e[1].priority);var o=je();ze(n),(n=et())||tt(!0),G(),t instanceof Sm&&t.setResizesEnabled(!1);for(const[,e]of i.reverse()){let n;null==(n=e)||n.clear(t)}for(let[n,o]of i.reverse())if(e[n]){let i;null==(i=o)||i.load(e[n],t)}t instanceof Sm&&t.setResizesEnabled(!0),K(),Ge(new(st(Su))(t)),tt(n),ze(o)}},Cs=function(e){const t={id:e.getId(),name:e.getName(),returnTypes:e.getReturnTypes()};return e.getParameters().length?(t.parameters=e.getParameters().map(e=>Ss(e)),t):t},Ss=function(e){const t={id:e.getId(),name:e.getName()};return e.getTypes().length?(t.types=e.getTypes(),t):t},Es=function(e,t,n,i){if(e=new e(i,n.name,n.id).setReturnTypes(n.returnTypes),!n.parameters)return e;for(const[o,r]of n.parameters.entries())e.insertParameter(Ts(t,r,i),o);return e},Ts=function(e,t,n){return e=new e(n,t.name,t.id),t.types&&e.setTypes(t.types),e},ks=function(e,t,n){const i=n.getBoundingRectangle(),o=i.right-i.left,r=ee(t.top,i.top,t.top+t.height-(i.bottom-i.top))-i.top;let s=t.left;return t=t.left+t.width-o,e.RTL?s=Math.min(t,s):t=Math.max(s,t),!(!(e=ee(s,i.left,t)-i.left)&&!r)&&(n.moveBy(e,r),!0)},xs=function(e){return t=>{var n,i=e.getMetricsManager();if(i.hasFixedEdges()&&!e.isDragging())if(-1!==Nu.indexOf(null!=(n=t.type)?n:"")){n=i.getScrollMetrics(!0);const o=Ls(e,t);o&&(i=et(),tt(t.group),ks(e,n,o)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==i&&tt(i))}else t.type===vu&&t.scale&&t.oldScale&&t.scale>t.oldScale&&Is(e)}},Ls=function(e,t){let n=null;switch(t.type){case nu:case ru:(n=e.getBlockById(t.blockId))&&(n=n.getRootBlock());break;case yu:case Cu:n=e.getCommentById(t.commentId)}return n},Is=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var n=e.getTopBoundedElements();for(let i,o=0;i=n[o];o++)ks(e,t,i)}},Os=function(e,t){if("string"===typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e||!z(document,e))throw Error("Error: container is not in current document.");t=new jh(t||{});const n=document.createElement("div");n.className="injectionDiv",n.tabIndex=0,xi(n,lh.LABEL,Pu.WORKSPACE_ARIA_LABEL),e.appendChild(n),e=Ds(n,t);const i=new B_(n),o=new P_(n),r=Ns(e,t,i,o);return Rs(r),T(r),O(r),n.addEventListener("focusin",(function(){T(r)})),r},Ds=function(e,t){e.setAttribute("dir","LTR"),Ht(t.hasCss,t.pathToMedia),e=F(uc.SVG,{xmlns:rl,"xmlns:html":sl,"xmlns:xlink":al,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const n=F(uc.DEFS,{},e),i=String(Math.random()).substring(2);return t.gridPattern=kf.createDom(i,t.gridOptions,n),e},Ns=function(e,t,n,i){t.parentWorkspace=null,t=new Sm(t,n,i),n=t.options,t.scale=n.zoomOptions.startScale,e.appendChild(t.createDom("blocklyMainBackground")),i=t.getInjectionDiv();var o=t.getRenderer().getClassName();return o&&B(i,o),(o=t.getTheme().getClassName())&&B(i,o),!n.hasCategories&&n.languageTree&&(i=t.addFlyout(uc.SVG),U(i,e)),n.hasTrashcan&&t.addTrashcan(),n.zoomOptions&&n.zoomOptions.controls&&t.addZoomControls(),t.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),t.translate(0,0),t.addChangeListener(xs(t)),O(t),pi(),he(),Pn(),t},Rs=function(e){const t=e.options;var n=e.getParentSvg();if(p(n.parentNode,"contextmenu",null,(function(e){m(e)||e.preventDefault()})),n=p(window,"resize",null,(function(){e.hideChaff(!0),O(e),Is(e)})),e.setResizeHandlerWrapper(n),Ms(),t.languageTree){n=e.getToolbox();const i=e.getFlyout(!0);n?n.init():i&&(i.init(e),i.show(t.languageTree),"function"===typeof i.scrollToStart&&i.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new $_(e,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.horizontal,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&Ps(t.pathToMedia,e)},As=function(e){const t=E();t&&!(m(e)||t.rendered&&!t.isVisible())&&mf.registry.onKeyDown(t,e)},Ms=function(){U_||(p(document,"scroll",null,(function(){const e=w();for(let t,n=0;t=e[n];n++)t instanceof Sm&&t.updateInverseScreenCTM()})),p(document,"keydown",null,As),f(document,"touchend",null,o),f(document,"touchcancel",null,o),Wa&&p(window,"orientationchange",document,(function(){O(E())}))),U_=!0},Ps=function(e,t){function n(){for(;o.length;)g(o.pop());i.preload()}const i=t.getAudioManager();i.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),i.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),i.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const o=[];o.push(p(document,"pointermove",null,n,!0)),o.push(p(document,"touchstart",null,n,!0))},Fs=function(e,t,n){if(e=e.getProcedureMap().get(t),!e)throw Error("Cannot rename the parameter of a procedure that does not exist in the procedure map");return e.getParameters().find(e=>e.getId()===n)},Bs=function(){zd.registry.register({displayText(){return Pu.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:zd.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Vs=function(){zd.registry.register({displayText(){return Pu.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:zd.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},Hs=function(){zd.registry.register({displayText(){return Pu.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:zd.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},$s=function(e,t){function n(t){o--,t.setCollapsed(e),0===o&&tt(!1)}let i=0,o=0;tt(!0);for(let r=0;r<t.length;r++){let e=t[r];for(;e;)o++,setTimeout(n.bind(null,e),i),e=e.getNextBlock(),i+=10}},Ws=function(){zd.registry.register({displayText(){return Pu.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){$s(!0,e.workspace.getTopBlocks(!0))},scopeType:zd.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},Us=function(){zd.registry.register({displayText(){return Pu.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){$s(!1,e.workspace.getTopBlocks(!0))},scopeType:zd.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},zs=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let n=0;n<e.length;n++)zs(e[n],t)}},js=function(e){const t=[];e=e.getTopBlocks(!0);for(let n=0;n<e.length;n++)zs(e[n],t);return t},Gs=function(e,t){tt(t);const n=e.shift();n&&(n.isDeadOrDying()?Gs(e,t):(n.dispose(!1,!0),setTimeout(Gs,10,e,t))),tt(!1)},Ks=function(){zd.registry.register({displayText(e){return e.workspace?(e=js(e.workspace).length,1===e?Pu.DELETE_BLOCK:Pu.DELETE_X_BLOCKS.replace("%1",String(e))):""},preconditionFn(e){return e.workspace&&0<js(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=js(e.workspace),n=Ue();2>t.length?Gs(t,n):_t(Pu.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),(function(e){e&&Gs(t,n)}))}},scopeType:zd.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},qs=function(){Bs(),Vs(),Hs(),Ws(),Us(),Ks()},Ys=function(){zd.registry.register({displayText(){return Pu.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){e.block&&vr(e.block)},scopeType:zd.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Xs=function(){zd.registry.register({displayText(e){return e.block.getCommentIcon()?Pu.REMOVE_COMMENT:Pu.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:zd.ScopeType.BLOCK,id:"blockComment",weight:2})},Zs=function(){zd.registry.register({displayText(e){return e.block.getInputsInline()?Pu.EXTERNAL_INPUTS:Pu.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed())for(let t=1;t<e.inputList.length;t++)if(e.inputList[t-1].type!==ql.STATEMENT&&e.inputList[t].type!==ql.STATEMENT)return"enabled";return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:zd.ScopeType.BLOCK,id:"blockInline",weight:3})},Js=function(){zd.registry.register({displayText(e){return e.block.isCollapsed()?Pu.EXPAND_BLOCK:Pu.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:zd.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},Qs=function(){zd.registry.register({displayText(e){return e.block.isEnabled()?Pu.DISABLE_BLOCK:Pu.ENABLE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback(e){e=e.block;const t=et();t||tt(!0),e.setEnabled(!e.isEnabled()),t||tt(!1)},scopeType:zd.ScopeType.BLOCK,id:"blockDisable",weight:5})},ea=function(){zd.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),1===e?Pu.DELETE_BLOCK:Pu.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:zd.ScopeType.BLOCK,id:"blockDelete",weight:6})},ta=function(){zd.registry.register({displayText(){return Pu.HELP},preconditionFn(e){return e=e.block,("function"===typeof e.helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:zd.ScopeType.BLOCK,id:"blockHelp",weight:7})},na=function(){Ys(),Xs(),Zs(),Js(),Qs(),ea(),ta()},ia=function(){qs(),na()},oa=function(e){const t=[];e=e.getDescendants(!1);for(let n,i=0;n=e[i];i++){const e=n.getIcons();for(let n=0;n<e.length;n++){const i={location:e[n].getIconLocation(),icon:e[n]};t.push(i)}}return t},ra=function(e){E().hideChaff(e)},sa=function(e){t("Blockly.resizeSvgContents","December 2021","December 2022","Blockly.WorkspaceSvg.resizeSvgContents"),ys(e)},aa=function(e){t("Blockly.copy","December 2021","December 2022","Blockly.clipboard.copy"),gr(e)},la=function(){return t("Blockly.paste","December 2021","December 2022","Blockly.clipboard.paste"),!!_r()},ua=function(e){t("Blockly.duplicate","December 2021","December 2022","Blockly.clipboard.duplicate"),vr(e)},ca=function(e){return t("Blockly.isNumber","December 2021","December 2022","Blockly.utils.string.isNumber"),In(e)},ha=function(e){return t("Blockly.hueToHex","December 2021","December 2022","Blockly.utils.colour.hueToHex"),ri(e)},da=function(e,n,i,o){return t("Blockly.bindEvent_","December 2021","December 2022","Blockly.browserEvents.bind"),f(e,n,i,o)},pa=function(e){return t("Blockly.unbindEvent_","December 2021","December 2022","Blockly.browserEvents.unbind"),g(e)},fa=function(e,n,i,o,r,s){return t("Blockly.bindEventWithChecks_","December 2021","December 2022","Blockly.browserEvents.conditionalBind"),p(e,n,i,o,r)},ga=ga||{};ga.scope={},ga.ASSUME_ES5=!1,ga.ASSUME_NO_NATIVE_MAP=!1,ga.ASSUME_NO_NATIVE_SET=!1,ga.SIMPLE_FROUND_POLYFILL=!1,ga.ISOLATE_POLYFILLS=!1,ga.FORCE_POLYFILL_PROMISE=!1,ga.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,ga.defineProperty=ga.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},ga.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n&&n];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")},ga.global=ga.getGlobal(this),ga.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x"),ga.TRUST_ES6_POLYFILLS=!ga.ISOLATE_POLYFILLS||ga.IS_SYMBOL_NATIVE,ga.polyfills={},ga.propertyToPolyfillSymbol={},ga.POLYFILL_PREFIX="$jscp$";ga.polyfill=function(e,t,n,i){t&&(ga.ISOLATE_POLYFILLS?ga.polyfillIsolated(e,t,n,i):ga.polyfillUnisolated(e,t,n,i))},ga.polyfillUnisolated=function(e,t,n,i){for(n=ga.global,e=e.split("."),i=0;i<e.length-1;i++){var o=e[i];if(!(o in n))return;n=n[o]}e=e[e.length-1],i=n[e],t=t(i),t!=i&&null!=t&&ga.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},ga.polyfillIsolated=function(e,t,n,i){var o=e.split(".");e=1===o.length,i=o[0],i=!e&&i in ga.polyfills?ga.polyfills:ga.global;for(var r=0;r<o.length-1;r++){var s=o[r];if(!(s in i))return;i=i[s]}o=o[o.length-1],n=ga.IS_SYMBOL_NATIVE&&"es6"===n?i[o]:null,t=t(n),null!=t&&(e?ga.defineProperty(ga.polyfills,o,{configurable:!0,writable:!0,value:t}):t!==n&&(void 0===ga.propertyToPolyfillSymbol[o]&&(n=1e9*Math.random()>>>0,ga.propertyToPolyfillSymbol[o]=ga.IS_SYMBOL_NATIVE?ga.global.Symbol(o):ga.POLYFILL_PREFIX+n+"$"+o),ga.defineProperty(i,ga.propertyToPolyfillSymbol[o],{configurable:!0,writable:!0,value:t})))},ga.polyfill("globalThis",(function(e){return e||ga.global}),"es_2020","es3"),ga.polyfill("Object.getOwnPropertyDescriptors",(function(e){return e||function(e){for(var t={},n=Reflect.ownKeys(e),i=0;i<n.length;i++)t[n[i]]=Object.getOwnPropertyDescriptor(e,n[i]);return t}}),"es8","es5"),ga.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},ga.arrayIterator=function(e){return{next:ga.arrayIteratorImpl(e)}},ga.initSymbol=function(){},ga.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},ga.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,i=!1,o={next:function(){if(!i&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return i=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o},ga.polyfill("Array.prototype.values",(function(e){return e||function(){return ga.iteratorFromArray(this,(function(e,t){return t}))}}),"es8","es3"),ga.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ga.polyfill("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)ga.owns(e,t)&&n.push(e[t]);return n}}),"es8","es3"),ga.polyfill("Array.prototype.flat",(function(e){return e||function(e){e=void 0===e?1:e;for(var t=[],n=0;n<this.length;n++){var i=this[n];Array.isArray(i)&&0<e?(i=Array.prototype.flat.call(i,e-1),t.push.apply(t,i)):t.push(i)}return t}}),"es9","es5"),ga.polyfill("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)ga.owns(e,t)&&n.push([t,e[t]]);return n}}),"es8","es3");var ma=globalThis,_a=function(e){window.goog&&window.goog.declareModuleId&&window.goog.declareModuleId.call(this,e)},va={};va.declareModuleId=_a,va.global=ma;var ya=!0,ba=ba||{};ba.global=globalThis||root,ba.define=function(e,t){return t},ba.DEBUG=!1,ba.DISALLOW_TEST_ONLY_CODE=ya&&!ba.DEBUG,ba.provide=function(e){},ba.module=function(e){},ba.module.get=function(e){},ba.module.declareLegacyNamespace=function(){},ba.setTestOnly=function(e){if(ba.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},ba.require=function(e){},ba.requireType=function(e){};var wa={};wa.warn=t;var Ca,Sa,Ea,Ta,ka,xa,La,Ia,Oa,Da,Na=750,Ra="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Aa=null,Ma={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},Pa=0,Fa={};Fa.TOUCH_ENABLED=Ra,Fa.TOUCH_MAP=Ma,Fa.checkTouchIdentifier=l,Fa.clearTouchIdentifier=r,Fa.getTouchIdentifierFromEvent=a,Fa.isMouseOrTouchEvent=c,Fa.isTouchEvent=h,Fa.longStart=i,Fa.longStop=o,Fa.setClientFromTouch=u,Fa.shouldHandleEvent=s,Fa.splitEventByTouches=d,function(e){function t(e){return-1!==n.indexOf(e.toUpperCase())}Ca=e;const n=Ca.toUpperCase();Sa=t("JavaFX"),Ea=t("WebKit"),Ta=t("Gecko")&&!Ea,ka=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,xa=t("iPad")||t("Macintosh")&&0<e,La=t("iPhone")&&!xa,Ia=t("Macintosh"),Oa=xa||ka&&!t("Mobile")||t("Silk"),Da=!Oa&&(La||ka)}(globalThis.navigator&&globalThis.navigator.userAgent||"");var Ba=Ca,Va=Sa,Ha=Ta,$a=ka,Wa=xa,Ua=La,za=Ia,ja=Da,Ga={};Ga.ANDROID=$a,Ga.GECKO=Ha,Ga.IPAD=Wa,Ga.IPHONE=Ua,Ga.JavaFx=Va,Ga.MAC=za,Ga.MOBILE=ja,Ga.raw=Ba;var Ka=40,qa=125,Ya={};Ya.bind=f,Ya.conditionalBind=p,Ya.getScrollDeltaPixels=y,Ya.isRightButton=_,Ya.isTargetInput=m,Ya.mouseToSvg=v,Ya.unbind=g;var Xa,Za,Ja,Qa,el,tl,nl=Object.create(null),il={};il.Blocks=nl,Xa=Object.create(null),Ja=null,el=[],tl={defineBlocksWithJsonArrayInternal:A},e.module$build$src$core$common={},e.module$build$src$core$common.TEST_ONLY=tl,e.module$build$src$core$common.createBlockDefinitionsFromJsonArray=M,e.module$build$src$core$common.defineBlocks=P,e.module$build$src$core$common.defineBlocksWithJsonArray=R,e.module$build$src$core$common.draggingConnections=el,e.module$build$src$core$common.getAllWorkspaces=w,e.module$build$src$core$common.getBlockTypeCounts=D,e.module$build$src$core$common.getMainWorkspace=E,e.module$build$src$core$common.getParentContainer=L,e.module$build$src$core$common.getSelected=k,e.module$build$src$core$common.getWorkspaceById=b,e.module$build$src$core$common.registerWorkspace=C,e.module$build$src$core$common.setMainWorkspace=T,e.module$build$src$core$common.setParentContainer=I,e.module$build$src$core$common.setSelected=x,e.module$build$src$core$common.svgResize=O,e.module$build$src$core$common.unregisterWorkpace=S;var ol,rl="http://www.w3.org/2000/svg",sl="http://www.w3.org/1999/xhtml",al="http://www.w3.org/1999/xlink";(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_POSITION_CONTAINED_BY=16]="DOCUMENT_POSITION_CONTAINED_BY"})(ol||(ol={}));var ll=null,ul=0,cl=null,hl={};hl.HTML_NS=sl,hl.NodeType=ol,hl.SVG_NS=rl,hl.XLINK_NS=al,hl.addClass=B,hl.containsNode=z,hl.createSvgElement=F,hl.getFastTextWidth=Y,hl.getFastTextWidthWithSizeString=X,hl.getTextWidth=q,hl.hasClass=$,hl.insertAfter=U,hl.measureFontMetrics=Z,hl.removeClass=H,hl.removeClasses=V,hl.removeNode=W,hl.setCssTransform=j,hl.startTextWidthCache=G,hl.stopTextWidthCache=K;var dl={};dl.clamp=ee,dl.toDegrees=Q,dl.toRadians=J;var pl=class{constructor(e,t,n,i){this.top=e,this.bottom=t,this.left=n,this.right=i}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},fl={};fl.Rect=pl;var gl=class{constructor(e,t){this.x=e,this.y=t}clone(){return new gl(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}static distance(e,t){const n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new gl(e.x-t.x,e.y-t.y)}static sum(e,t){return new gl(e.x+t.x,e.y+t.y)}},ml={};ml.Coordinate=gl;var _l=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t||!(!e||!t)&&(e.width===t.width&&e.height===t.height)}},vl={};vl.Size=_l;var yl={getSizeInternal:ne},bl={};bl.TEST_ONLY=yl,bl.getBorderBox=le,bl.getCascadedStyle=re,bl.getComputedStyle=oe,bl.getContainerOffsetToScrollInto=ce,bl.getPageOffset=se,bl.getSize=te,bl.getViewportPageOffset=ae,bl.scrollIntoContainerView=ue;var wl,Cl,Sl,El=16,Tl=1,kl=12,xl=16,Ll=.25,Il=null,Ol=null,Dl="",Nl="",Rl=null,Al=null,Ml=null,Pl={getBoundsInfo:function(){const e=se(Rl),t=te(Rl);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,n,i){const o=Pl.getBoundsInfo(),r=te(wl);return t+r.height<o.bottom?Se(e,t,o,r):i-r.height>o.top?Ee(n,i,o,r):t+r.height<document.documentElement.clientHeight?Se(e,t,o,r):i-r.height>document.documentElement.clientTop?Ee(n,i,o,r):Te(e,o,r)}},Fl={};Fl.ANIMATION_TIME=Ll,Fl.ARROW_HORIZONTAL_PADDING=kl,Fl.ARROW_SIZE=El,Fl.BORDER_SIZE=Tl,Fl.PADDING_Y=xl,Fl.TEST_ONLY=Pl,Fl.clearContent=ge,Fl.createDom=he,Fl.getContentDiv=fe,Fl.getOwner=pe,Fl.getPositionX=ke,Fl.hide=Ie,Fl.hideIfOwner=Le,Fl.hideWithoutAnimation=Oe,Fl.isVisible=xe,Fl.repositionForWindowResize=Ne,Fl.setBoundsElement=de,Fl.setColour=me,Fl.show=Ce,Fl.showPositionedByBlock=_e,Fl.showPositionedByField=ve;var Bl=Object.create(null),Vl={typeMap:Bl},Hl=Object.create(null),$l="default",Wl=class{constructor(e){this.name=e}toString(){return this.name}};Wl.CONNECTION_CHECKER=new Wl("connectionChecker"),Wl.CURSOR=new Wl("cursor"),Wl.EVENT=new Wl("event"),Wl.FIELD=new Wl("field"),Wl.RENDERER=new Wl("renderer"),Wl.TOOLBOX=new Wl("toolbox"),Wl.THEME=new Wl("theme"),Wl.TOOLBOX_ITEM=new Wl("toolboxItem"),Wl.FLYOUTS_VERTICAL_TOOLBOX=new Wl("flyoutsVerticalToolbox"),Wl.FLYOUTS_HORIZONTAL_TOOLBOX=new Wl("flyoutsHorizontalToolbox"),Wl.METRICS_MANAGER=new Wl("metricsManager"),Wl.BLOCK_DRAGGER=new Wl("blockDragger"),Wl.SERIALIZER=new Wl("serializer");var Ul={};Ul.DEFAULT=$l,Ul.TEST_ONLY=Vl,Ul.Type=Wl,Ul.getAllItems=He,Ul.getClass=Be,Ul.getClassFromOptions=$e,Ul.getObject=Ve,Ul.hasItem=Fe,Ul.register=Re,Ul.unregister=Me;var zl="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",jl={genUid:()=>{const e=zl.length,t=[];for(let n=0;20>n;n++)t[n]=zl.charAt(Math.random()*e);return t.join("")}},Gl=0,Kl={};Kl.TEST_ONLY=jl,Kl.genUid=Ue,Kl.getNextUniqueId=We;var ql,Yl,Xl,Zl,Jl,Ql="",eu=!0,tu=0,nu="create",iu="delete",ou="change",ru="move",su="var_create",au="var_delete",lu="var_rename",uu="ui",cu="drag",hu="selected",du="click",pu="marker_move",fu="bubble_open",gu="trashcan_open",mu="toolbox_item_select",_u="theme_change",vu="viewport_change",yu="comment_create",bu="comment_delete",wu="comment_change",Cu="comment_move",Su="finished_loading",Eu="procedure_create",Tu="procedure_delete",ku="procedure_rename",xu="procedure_enable",Lu="procedure_change_return",Iu="procedure_parameter_create",Ou="procedure_parameter_delete",Du="procedure_parameter_rename",Nu=[nu,ru,yu,Cu],Ru=[],Au={FIRE_QUEUE:Ru,fireNow:qe,fireInternal:Ke,setGroupInternal:nt},Mu={};Mu.BLOCK_CHANGE=ou,Mu.BLOCK_CREATE=nu,Mu.BLOCK_DELETE=iu,Mu.BLOCK_DRAG=cu,Mu.BLOCK_MOVE=ru,Mu.BUBBLE_OPEN=fu,Mu.BUMP_EVENTS=Nu,Mu.CHANGE=ou,Mu.CLICK=du,Mu.COMMENT_CHANGE=wu,Mu.COMMENT_CREATE=yu,Mu.COMMENT_DELETE=bu,Mu.COMMENT_MOVE=Cu,Mu.CREATE=nu,Mu.DELETE=iu,Mu.FINISHED_LOADING=Su,Mu.MARKER_MOVE=pu,Mu.MOVE=ru,Mu.PROCEDURE_CHANGE_RETURN=Lu,Mu.PROCEDURE_CREATE=Eu,Mu.PROCEDURE_DELETE=Tu,Mu.PROCEDURE_ENABLE=xu,Mu.PROCEDURE_PARAMETER_CREATE=Iu,Mu.PROCEDURE_PARAMETER_DELETE=Ou,Mu.PROCEDURE_PARAMETER_RENAME=Du,Mu.PROCEDURE_RENAME=ku,Mu.SELECTED=hu,Mu.TEST_ONLY=Au,Mu.THEME_CHANGE=_u,Mu.TOOLBOX_ITEM_SELECT=mu,Mu.TRASHCAN_OPEN=gu,Mu.UI=uu,Mu.VAR_CREATE=su,Mu.VAR_DELETE=au,Mu.VAR_RENAME=lu,Mu.VIEWPORT_CHANGE=vu,Mu.clearPendingUndo=Xe,Mu.disable=Ze,Mu.disableOrphans=at,Mu.enable=Je,Mu.filter=Ye,Mu.fire=Ge,Mu.fromJson=ot,Mu.get=st,Mu.getDescendantIds=it,Mu.getGroup=et,Mu.getRecordUndo=je,Mu.isEnabled=Qe,Mu.setGroup=tt,Mu.setRecordUndo=ze,function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY"}(ql||(ql={})),e.module$build$src$core$input_types={},e.module$build$src$core$input_types.inputTypes=ql,({document:Yl,DOMParser:Xl,XMLSerializer:Zl}=globalThis),Jl="https://developers.google.com/blockly/xml",e.module$build$src$core$utils$xml={},e.module$build$src$core$utils$xml.NAME_SPACE=Jl,e.module$build$src$core$utils$xml.createElement=ht,e.module$build$src$core$utils$xml.createTextNode=dt,e.module$build$src$core$utils$xml.domToText=ft,e.module$build$src$core$utils$xml.getDocument=ut,e.module$build$src$core$utils$xml.injectDependencies=lt,e.module$build$src$core$utils$xml.setDocument=ct,e.module$build$src$core$utils$xml.textToDomDocument=pt;var Pu,Fu,Bu=function(e,t){window.alert(e),t&&t()},Vu=function(e,t){t(window.confirm(e))},Hu=function(e,t,n){n(window.prompt(e,t))},$u={confirmInternal:vt},Wu={};Wu.TEST_ONLY=$u,Wu.alert=gt,Wu.confirm=_t,Wu.prompt=bt,Wu.setAlert=mt,Wu.setConfirm=yt,Wu.setPrompt=wt,Pu=Object.create(null),Fu=function(e){Object.keys(e).forEach((function(t){Pu[t]=e[t]}))},e.module$build$src$core$msg={},e.module$build$src$core$msg.Msg=Pu,e.module$build$src$core$msg.setLocale=Fu;var Uu=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=et(),this.recordUndo=je()}toJson(){return{type:this.type,group:this.group}}fromJson(e){this.isBlank=!1,this.group=e.group||""}static fromJson(e,n,i){return t("Blockly.Events.Abstract.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),i.isBlank=!1,i.group=e.group||"",i.workspaceId=n.id,i}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=b(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},zu={};zu.Abstract=Uu;var ju=class extends Uu{constructor(e){super(),this.isBlank="undefined"===typeof e,e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}fromJson(e){t("Blockly.Events.VarBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varId=e.varId}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new ju),t.varId=e.varId,t}},Gu={};Gu.VarBase=ju;var Ku=class extends ju{constructor(e){super(e),this.type=su,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(!this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}fromJson(e){t("Blockly.Events.VarCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varType=e.varType,this.varName=e.varName}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Ku),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};Re(Wl.EVENT,su,Ku);var qu={};qu.VarCreate=Ku;var Yu,Xu,Zu,Ju=class{constructor(e,t,n,i){this.workspace=e,this.name=t,this.type=n||"",this.id_=i||Ue()}getId(){return this.id_}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},Qu={};Qu.VariableModel=Ju,Yu="VARIABLE",Xu="ijkmnopqrstuvwxyzabcdefgh",Zu={generateUniqueNameInternal:xt},e.module$build$src$core$variables={},e.module$build$src$core$variables.CATEGORY_NAME=Yu,e.module$build$src$core$variables.TEST_ONLY=Zu,e.module$build$src$core$variables.VAR_LETTER_OPTIONS=Xu,e.module$build$src$core$variables.allDeveloperVariables=St,e.module$build$src$core$variables.allUsedVarModels=Ct,e.module$build$src$core$variables.createVariableButtonHandler=It,e.module$build$src$core$variables.flyoutCategory=Et,e.module$build$src$core$variables.flyoutCategoryBlocks=Tt,e.module$build$src$core$variables.generateUniqueName=kt,e.module$build$src$core$variables.generateUniqueNameFromOptions=Lt,e.module$build$src$core$variables.generateVariableFieldDom=At,e.module$build$src$core$variables.getAddedVariables=Bt,e.module$build$src$core$variables.getOrCreateVariablePackage=Mt,e.module$build$src$core$variables.getVariable=Pt,e.module$build$src$core$variables.nameUsedWithAnyType=Rt,e.module$build$src$core$variables.promptName=Dt,e.module$build$src$core$variables.renameVariable=Ot;var ec=class{constructor(e,t,n,i,o){this.workspace=e,this.editable_=this.movable_=this.deletable_=!0,this.disposed_=!1,this.isComment=!0,this.id=o&&!e.getCommentById(o)?o:Ue(),e.addTopComment(this),this.xy_=new gl(0,0),this.height_=n,this.width_=i,this.RTL=e.RTL,this.content_=t,ec.fireCreateEvent(this)}dispose(){this.disposed_||(Qe()&&Ge(new(st(bu))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}getHeight(){return this.height_}setHeight(e){this.height_=e}getWidth(){return this.width_}setWidth(e){this.width_=e}getXY(){return new gl(this.xy_.x,this.xy_.y)}moveBy(e,t){const n=new(st(Cu))(this);this.xy_.translate(e,t),n.recordNew(),Ge(n)}isDeletable(){return this.deletable_&&!(this.workspace&&this.workspace.options.readOnly)}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!(this.workspace&&this.workspace.options.readOnly)}setMovable(e){this.movable_=e}isEditable(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)}setEditable(e){this.editable_=e}getContent(){return this.content_}setContent(e){this.content_!==e&&(Ge(new(st(wu))(this,this.content_,e)),this.content_=e)}toXmlWithXY(e){return e=this.toXml(e),e.setAttribute("x",""+Math.round(this.xy_.x)),e.setAttribute("y",""+Math.round(this.xy_.y)),e.setAttribute("h",""+this.height_),e.setAttribute("w",""+this.width_),e}toXml(e){const t=ht("comment");return e||(t.id=this.id),t.textContent=this.getContent(),t}static fireCreateEvent(e){if(Qe()){const t=et();t||tt(!0);try{Ge(new(st(yu))(e))}finally{t||tt(!1)}}}static fromXml(e,t){var n=ec.parseAttributes(e);return t=new ec(t,n.content,n.h,n.w,n.id),n=e.getAttribute("x"),e=e.getAttribute("y"),n=n?parseInt(n,10):NaN,e=e?parseInt(e,10):NaN,isNaN(n)||isNaN(e)||t.moveBy(n,e),ec.fireCreateEvent(t),t}static parseAttributes(e){const t=e.getAttribute("h"),n=e.getAttribute("w"),i=e.getAttribute("x"),o=e.getAttribute("y"),r=e.getAttribute("id");if(!r)throw Error("No ID present in XML comment definition.");let s;return{id:r,h:t?parseInt(t):100,w:n?parseInt(n):100,x:i?parseInt(i):NaN,y:o?parseInt(o):NaN,content:null!=(s=e.textContent)?s:""}}},tc={};tc.WorkspaceComment=ec;var nc=class extends Uu{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.isUiEvent=!0,this.isBlank="undefined"===typeof e,this.workspaceId=e||""}},ic={};ic.UiBase=nc;var oc=class extends nc{constructor(e,t,n){super(n),this.type=hu,this.oldElementId=null!=e?e:void 0,this.newElementId=null!=t?t:void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}fromJson(e){t("Blockly.Events.Selected.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new oc),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};Re(Wl.EVENT,hu,oc);var rc={};rc.Selected=oc;var sc=!1,ac='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n}\n\n.blocklyNonSelectable {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyWsDragSurface {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n/* Added as a separate rule with multiple classes to make it more specific\n   than a bootstrap rule that selects svg:root. See issue #1275 for context.\n*/\n.blocklyWsDragSurface.blocklyOverflowVisible {\n  overflow: visible;\n}\n\n.blocklyBlockDragSurface {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 50;  /* Display below toolbox, but above everything else. */\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  /* @todo: spec for maximum height. */\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n}\n\n.blocklyDropDownButton {\n  display: inline-block;\n  float: left;\n  padding: 0;\n  margin: 4px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid;\n  transition: box-shadow .1s;\n  cursor: pointer;\n}\n\n.blocklyArrowTop {\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyArrowBottom {\n  border-bottom: 1px solid;\n  border-right: 1px solid;\n  border-bottom-right-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyResizeSE {\n  cursor: se-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeSW {\n  cursor: sw-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeLine {\n  stroke: #515A5A;\n  stroke-width: 1;\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  /* backup for browsers (e.g. IE11) that don\'t support grab */\n  cursor: url("<<<PATH>>>/handopen.cur"), auto;\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n.blocklyDragging {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Change the cursor on the whole drag surface in case the mouse gets\n   ahead of block during a drag. This way the cursor is still a closed hand.\n  */\n.blocklyBlockDragSurface .blocklyDraggable {\n  /* backup for browsers (e.g. IE11) that don\'t support grabbing */\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabled>.blocklyPath {\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyMultilineText {\n  font-family: monospace;\n}\n\n.blocklyNonEditableText>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n/*\n  Don\'t allow users to select text.  It gets annoying when trying to\n  drag a block and selected text moves instead.\n*/\n.blocklySvg text,\n.blocklyBlockDragSurface text {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  cursor: inherit;\n}\n\n.blocklyHidden {\n  display: none;\n}\n\n.blocklyFieldDropdown:not(.blocklyHidden) {\n  display: block;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Edge and IE introduce a close icon when the input value is longer than a\n   certain length. This affects our sizing calculations of the text input.\n   Hiding the close icon to avoid that. */\n.blocklyHtmlInput::-ms-clear {\n  display: none;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  position: relative;  /* Compatibility with gapi, reset from goog-menu */\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n',lc={};lc.inject=Ht,lc.register=Vt;var uc=class{constructor(e){this.tagName=e}toString(){return this.tagName}};uc.ANIMATE=new uc("animate"),uc.CIRCLE=new uc("circle"),uc.CLIPPATH=new uc("clipPath"),uc.DEFS=new uc("defs"),uc.FECOMPOSITE=new uc("feComposite"),uc.FECOMPONENTTRANSFER=new uc("feComponentTransfer"),uc.FEFLOOD=new uc("feFlood"),uc.FEFUNCA=new uc("feFuncA"),uc.FEGAUSSIANBLUR=new uc("feGaussianBlur"),uc.FEPOINTLIGHT=new uc("fePointLight"),uc.FESPECULARLIGHTING=new uc("feSpecularLighting"),uc.FILTER=new uc("filter"),uc.FOREIGNOBJECT=new uc("foreignObject"),uc.G=new uc("g"),uc.IMAGE=new uc("image"),uc.LINE=new uc("line"),uc.PATH=new uc("path"),uc.PATTERN=new uc("pattern"),uc.POLYGON=new uc("polygon"),uc.RECT=new uc("rect"),uc.SVG=new uc("svg"),uc.TEXT=new uc("text"),uc.TSPAN=new uc("tspan");var cc={};cc.Svg=uc;var hc=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,dc=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,pc={XY_REGEX:hc,XY_STYLE_REGEX:dc},fc={};fc.TEST_ONLY=pc,fc.getDocumentScroll=jt,fc.getInjectionDivXY=Wt,fc.getRelativeXY=$t,fc.getViewportBBox=zt,fc.is3dSupported=Ut,fc.screenToWsCoordinates=Gt;var gc=8,mc=3,_c=2,vc=class extends ec{constructor(e,t,n,i,o){super(e,t,n,i,o),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.eventsInit_=!1,this.deleteIconBorder_=this.deleteGroup_=this.resizeGroup_=this.foreignObject_=this.svgHandleTarget_=this.svgRectTarget_=this.textarea_=null,this.rendered_=this.autoLayout_=this.focused_=!1,this.svgGroup_=F(uc.G,{class:"blocklyComment"}),this.svgGroup_.translate_="",this.workspace=e,this.svgRect_=F(uc.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:mc,ry:mc}),this.svgGroup_.appendChild(this.svgRect_),this.useDragSurface_=!!e.getBlockDragSurface(),this.render()}dispose(){this.disposed_||(k()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Qe()&&Ge(new(st(bu))(this)),W(this.svgGroup_),this.disposeInternal_(),Ze(),super.dispose(),Je())}initSvg(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit_||(p(this.svgRectTarget_,"pointerdown",this,this.pathMouseDown_),p(this.svgHandleTarget_,"pointerdown",this,this.pathMouseDown_)),this.eventsInit_=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea_&&this.textarea_.select()}pathMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}select(){if(k()!==this){var e=null;if(k()){e=k().id,Ze();try{k().unselect()}finally{Je()}}e=new(st(hu))(e,this.id,this.workspace.id),Ge(e),x(this),this.addSelect()}}unselect(){if(k()===this){var e=new(st(hu))(this.id,null,this.workspace.id);Ge(e),x(null),this.removeSelect(),this.blurFocus()}}addSelect(){B(this.svgGroup_,"blocklySelected"),this.setFocus()}removeSelect(){B(this.svgGroup_,"blocklySelected"),this.blurFocus()}addFocus(){B(this.svgGroup_,"blocklyFocused")}removeFocus(){H(this.svgGroup_,"blocklyFocused")}getRelativeToSurfaceXY(){let e=0,t=0;const n=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null;let i=this.getSvgRoot();if(i)do{var o=$t(i);e+=o.x,t+=o.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===i&&(o=this.workspace.getBlockDragSurface().getSurfaceTranslation(),e+=o.x,t+=o.y),i=i.parentNode}while(i&&i!==this.workspace.getBubbleCanvas()&&i!==n);return this.xy_=new gl(e,t)}moveBy(e,t){const n=new(st(Cu))(this),i=this.getRelativeToSurfaceXY();this.translate(i.x+e,i.y+t),this.xy_=new gl(i.x+e,i.y+t),n.recordNew(),Ge(n),this.workspace.resizeContents()}translate(e,t){this.xy_=new gl(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveToDragSurface(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),this.workspace.getBlockDragSurface().setBlocksAndShow(this.getSvgRoot())}}moveDuringDrag(e,t){e?e.translateSurface(t.x,t.y):(this.svgGroup_.translate_="translate("+t.x+","+t.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))}moveTo(e,t){this.translate(e,t)}clearTransformAttributes_(){this.getSvgRoot().removeAttribute("transform")}getBoundingRectangle(){var e=this.getRelativeToSurfaceXY();const t=this.getHeightWidth(),n=e.y,i=e.y+t.height;let o;return this.RTL?(o=e.x-t.width,e=e.x):(o=e.x,e=e.x+t.width),new pl(n,i,o,e)}updateMovable(){this.isMovable()?B(this.svgGroup_,"blocklyDraggable"):H(this.svgGroup_,"blocklyDraggable")}setMovable(e){super.setMovable(e),this.updateMovable()}setEditable(e){super.setEditable(e),this.textarea_&&(this.textarea_.readOnly=!e)}setDragging(e){e?(e=this.getSvgRoot(),e.translate_="",e.skew_="",B(this.svgGroup_,"blocklyDragging")):H(this.svgGroup_,"blocklyDragging")}getSvgRoot(){return this.svgGroup_}getContent(){return this.textarea_?this.textarea_.value:this.content_}setContent(e){super.setContent(e),this.textarea_&&(this.textarea_.value=e)}setDeleteStyle(e){e?B(this.svgGroup_,"blocklyDraggingDelete"):H(this.svgGroup_,"blocklyDraggingDelete")}setAutoLayout(e){}toXmlWithXY(e){let t=0;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);const n=this.getRelativeToSurfaceXY();return e.setAttribute("x",Math.round(this.workspace.RTL?t-n.x:n.x)),e.setAttribute("y",Math.round(n.y)),e.setAttribute("h",this.getHeight()),e.setAttribute("w",this.getWidth()),e}toCopyData(){return{saveInfo:this.toXmlWithXY(),source:this.workspace,typeCounts:null}}getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()}}render(){if(!this.rendered_){var e=this.getHeightWidth();this.createEditor_(),this.svgGroup_.appendChild(this.foreignObject_),this.svgHandleTarget_=F(uc.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup_.appendChild(this.svgHandleTarget_),this.svgRectTarget_=F(uc.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:mc,ry:mc}),this.svgGroup_.appendChild(this.svgRectTarget_),this.addResizeDom_(),this.isDeletable()&&this.addDeleteDom_(),this.setSize_(e.width,e.height),this.textarea_.value=this.content_,this.rendered_=!0,this.resizeGroup_&&p(this.resizeGroup_,"pointerdown",this,this.resizeMouseDown_),this.isDeletable()&&(p(this.deleteGroup_,"pointerdown",this,this.deleteMouseDown_),p(this.deleteGroup_,"pointerout",this,this.deleteMouseOut_),p(this.deleteGroup_,"pointerup",this,this.deleteMouseUp_))}}createEditor_(){this.foreignObject_=F(uc.FOREIGNOBJECT,{x:0,y:vc.TOP_OFFSET,class:"blocklyCommentForeignObject"});const e=document.createElementNS(sl,"body");e.setAttribute("xmlns",sl),e.className="blocklyMinimalBody";const t=document.createElementNS(sl,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea_=t,this.foreignObject_.appendChild(e),p(t,"wheel",this,(function(e){e.stopPropagation()})),p(t,"change",this,(function(e){this.setContent(t.value)})),this.foreignObject_}addResizeDom_(){this.resizeGroup_=F(uc.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup_),F(uc.POLYGON,{points:"0,x x,x x,0".replace(/x/g,gc.toString())},this.resizeGroup_),F(uc.LINE,{class:"blocklyResizeLine",x1:gc/3,y1:gc-1,x2:gc-1,y2:gc/3},this.resizeGroup_),F(uc.LINE,{class:"blocklyResizeLine",x1:2*gc/3,y1:gc-1,x2:gc-1,y2:2*gc/3},this.resizeGroup_)}addDeleteDom_(){this.deleteGroup_=F(uc.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup_),this.deleteIconBorder_=F(uc.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup_),F(uc.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup_),F(uc.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup_)}resizeMouseDown_(e){this.unbindDragEvents_(),_(e)||(this.workspace.startDrag(e,new gl(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper_=p(document,"pointerup",this,this.resizeMouseUp_),this.onMouseMoveWrapper_=p(document,"pointermove",this,this.resizeMouseMove_),this.workspace.hideChaff()),e.stopPropagation()}deleteMouseDown_(e){this.deleteIconBorder_&&B(this.deleteIconBorder_,"blocklyDeleteIconHighlighted"),e.stopPropagation()}deleteMouseOut_(e){this.deleteIconBorder_&&H(this.deleteIconBorder_,"blocklyDeleteIconHighlighted")}deleteMouseUp_(e){this.dispose(),e.stopPropagation()}unbindDragEvents_(){this.onMouseUpWrapper_&&(g(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(g(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}resizeMouseUp_(e){r(),this.unbindDragEvents_()}resizeMouseMove_(e){this.autoLayout_=!1,e=this.workspace.moveDrag(e),this.setSize_(this.RTL?-e.x:e.x,e.y)}resizeComment_(){const e=this.getHeightWidth(),t=vc.TOP_OFFSET,n=2*_c;this.foreignObject_.setAttribute("width",e.width),this.foreignObject_.setAttribute("height",(e.height-t).toString()),this.RTL&&this.foreignObject_.setAttribute("x",(-e.width).toString()),this.textarea_.style.width=e.width-n+"px",this.textarea_.style.height=e.height-n-t+"px"}setSize_(e,t){e=Math.max(e,45),t=Math.max(t,20+vc.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width",e),this.svgRect_.setAttribute("height",t),this.svgRectTarget_.setAttribute("width",e),this.svgRectTarget_.setAttribute("height",t),this.svgHandleTarget_.setAttribute("width",e),this.svgHandleTarget_.setAttribute("height",vc.TOP_OFFSET),this.RTL&&(this.svgRect_.setAttribute("transform","scale(-1 1)"),this.svgRectTarget_.setAttribute("transform","scale(-1 1)")),this.resizeGroup_&&(this.RTL?(this.resizeGroup_.setAttribute("transform","translate("+(-e+gc)+","+(t-gc)+") scale(-1 1)"),this.deleteGroup_.setAttribute("transform","translate("+(-e+gc)+","+-gc+") scale(-1 1)")):(this.resizeGroup_.setAttribute("transform","translate("+(e-gc)+","+(t-gc)+")"),this.deleteGroup_.setAttribute("transform","translate("+(e-gc)+","+-gc+")"))),this.resizeComment_()}disposeInternal_(){this.svgHandleTarget_=this.svgRectTarget_=this.foreignObject_=this.textarea_=null,this.disposed_=!0}setFocus(){this.focused_=!0,setTimeout(()=>{this.disposed_||(this.textarea_.focus(),this.addFocus(),this.svgRectTarget_&&B(this.svgRectTarget_,"blocklyCommentTargetFocused"),this.svgHandleTarget_&&B(this.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))},0)}blurFocus(){this.focused_=!1,setTimeout(()=>{this.disposed_||(this.textarea_.blur(),this.removeFocus(),this.svgRectTarget_&&H(this.svgRectTarget_,"blocklyCommentTargetFocused"),this.svgHandleTarget_&&H(this.svgHandleTarget_,"blocklyCommentHandleTargetFocused"))},0)}static fromXmlRendered(e,t,n){let i;Ze();try{const o=ec.parseAttributes(e);if(i=new vc(t,o.content,o.h,o.w,o.id),t.rendered&&(i.initSvg(!0),i.render()),!isNaN(o.x)&&!isNaN(o.y))if(t.RTL){const e=n||t.getWidth();i.moveBy(e-o.x,o.y)}else i.moveBy(o.x,o.y)}finally{Je()}return ec.fireCreateEvent(i),i}};vc.DEFAULT_SIZE=100,vc.TOP_OFFSET=10,Vt("\n.blocklyCommentForeignObject {\n  position: relative;\n  z-index: 0;\n}\n\n.blocklyCommentRect {\n  fill: #E7DE8E;\n  stroke: #bcA903;\n  stroke-width: 1px;\n}\n\n.blocklyCommentTarget {\n  fill: transparent;\n  stroke: #bcA903;\n}\n\n.blocklyCommentTargetFocused {\n  fill: none;\n}\n\n.blocklyCommentHandleTarget {\n  fill: none;\n}\n\n.blocklyCommentHandleTargetFocused {\n  fill: transparent;\n}\n\n.blocklyFocused>.blocklyCommentRect {\n  fill: #B9B272;\n  stroke: #B9B272;\n}\n\n.blocklySelected>.blocklyCommentTarget {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCommentDeleteIcon {\n  cursor: pointer;\n  fill: #000;\n  display: none;\n}\n\n.blocklySelected > .blocklyCommentDeleteIcon {\n  display: block;\n}\n\n.blocklyDeleteIconShape {\n  fill: #000;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\n  stroke: #fc3;\n}\n");var yc={};yc.WorkspaceCommentSvg=vc,e.module$build$src$core$xml={},e.module$build$src$core$xml.appendDomToWorkspace=sn,e.module$build$src$core$xml.blockToDom=Jt,e.module$build$src$core$xml.blockToDomWithXY=Yt,e.module$build$src$core$xml.clearWorkspaceAndLoadFromXml=on,e.module$build$src$core$xml.deleteNext=yn,e.module$build$src$core$xml.domToBlock=an,e.module$build$src$core$xml.domToPrettyText=tn,e.module$build$src$core$xml.domToText=en,e.module$build$src$core$xml.domToVariables=ln,e.module$build$src$core$xml.domToWorkspace=rn,e.module$build$src$core$xml.textToDom=nn,e.module$build$src$core$xml.variablesToDom=qt,e.module$build$src$core$xml.workspaceToDom=Kt;var bc=class extends Uu{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}fromJson(e){t("Blockly.Events.BlockBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.blockId=e.blockId}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new bc),t.blockId=e.blockId,t}},wc={};wc.BlockBase=bc;var Cc=class extends bc{constructor(e,t,n,i,o){super(e),this.type=ou,e&&(this.element=t,this.name=n||void 0,this.oldValue=i,this.newValue=o)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}fromJson(e){t("Blockly.Events.BlockChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Cc),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");switch(t.mutator&&t.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":const n=Cc.getExtraBlockState_(t);t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(nn(e||"<mutation/>")),Ge(new Cc(t,"mutation",null,n,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState())?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?en(e):""}};Re(Wl.EVENT,ou,Cc);var Sc={};Sc.BlockChange=Cc;var Ec=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(!t)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");t.dispose(),this.markers.delete(e)}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t,n=0;t=e[n];n++)this.unregisterMarker(t);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};Ec.LOCAL_MARKER="local_marker_1";var Tc={};Tc.MarkerManager=Ec,e.module$build$src$core$utils$string={},e.module$build$src$core$utils$string.commonWordPrefix=Cn,e.module$build$src$core$utils$string.commonWordSuffix=Sn,e.module$build$src$core$utils$string.isNumber=In,e.module$build$src$core$utils$string.shortestStringLength=wn,e.module$build$src$core$utils$string.startsWith=bn,e.module$build$src$core$utils$string.wrap=En;var kc=void 0,xc=!1,Lc=!1,Ic=50,Oc=0,Dc=0,Nc=0,Rc=0,Ac=null,Mc=null,Pc=0,Fc=10,Bc=10,Vc=750,Hc=5,$c=null,Wc={};Wc.HOVER_MS=Vc,Wc.LIMIT=Ic,Wc.MARGINS=Hc,Wc.OFFSET_X=Pc,Wc.OFFSET_Y=Fc,Wc.RADIUS_OK=Bc,Wc.bindMouseEvents=Fn,Wc.block=zn,Wc.createDom=Pn,Wc.dispose=Wn,Wc.getCustomTooltip=Dn,Wc.getDiv=Rn,Wc.getTooltipOfObject=An,Wc.hide=Un,Wc.isVisible=Nn,Wc.setCustomTooltip=On,Wc.unbindMouseEvents=Bn,Wc.unblock=jn;var Uc=.45,zc=.65,jc={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Gc={};Gc.blend=oi,Gc.getHsvSaturation=Xn,Gc.getHsvValue=Jn,Gc.hexToRgb=ni,Gc.hsvToHex=ii,Gc.hueToHex=ri,Gc.names=jc,Gc.parse=ei,Gc.rgbToHex=ti,Gc.setHsvSaturation=Zn,Gc.setHsvValue=Qn;var Kc={};Kc.checkMessageReferences=ui,Kc.parseBlockColour=ci,Kc.replaceMessageReferences=li,Kc.tokenizeInterpolation=ai;var qc=class{},Yc={};Yc.Sentinel=qc;var Xc,Zc=null,Jc=null,Qc="",eh="",th={};th.createDom=pi,th.getDiv=hi,th.hide=gi,th.hideIfOwner=_i,th.isVisible=mi,th.positionWithAnchor=yi,th.show=fi,th.testOnly_setDiv=di;var nh=class{constructor(e,t,n){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new _l(0,0),e!==nh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(li(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=F(uc.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}createBorderRect_(){this.borderRect_=F(uc.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=F(uc.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Fn(e),this.mouseDownWrapper_=p(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(nh),null!==e?e:this.getValue()}loadState(e){this.loadLegacyState(nh,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=ht("field"),e.setAttribute("name",this.name||""),en(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml&&(this.fromXml(nn(t)),!0)}dispose(){Le(this),_i(this),Bn(this.getClickTarget_()),this.mouseDownWrapper_&&g(this.mouseDownWrapper_),W(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(B(e,"blocklyEditableText"),H(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(B(e,"blocklyNonEditableText"),H(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==nh.prototype.showEditor_}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}updateSize_(e){const t=this.getConstants();e=void 0!==e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let n=2*e,i=t.FIELD_TEXT_HEIGHT,o=0;this.textElement_&&(o=Y(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),n+=o),this.borderRect_&&(i=Math.max(i,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=i,this.size_.width=n,this.positionTextElement_(e,o),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var n,i=this.getConstants(),o=this.size_.height/2;this.textElement_.setAttribute("x",""+(null!=(n=this.getSourceBlock())&&n.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",""+(i.FIELD_TEXT_BASELINE_CENTER?o:o-i.FIELD_TEXT_HEIGHT/2+i.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",""+this.size_.width),this.borderRect_.setAttribute("height",""+this.size_.height),this.borderRect_.setAttribute("rx",""+this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",""+this.getConstants().FIELD_BORDER_RECT_RADIUS))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(this.render_(),0!==this.size_.width&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new _l(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new ih;if(this.borderRect_){var n=this.borderRect_.getBoundingClientRect();e=se(this.borderRect_),t=n.width,n=n.height}else{n=this.sourceBlock_.getHeightWidth();const i=t.workspace.scale;e=this.getAbsoluteXY_(),t=(n.width+1)*i,n=(n.height+1)*i,Ha?(e.x+=1.5*i,e.y+=1.5*i):(e.x-=.5*i,e.y-=.5*i)}return new pl(e.y,e.y+n,e.x,e.x+t)}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,nh.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):nh.NBSP}getText(){const e=this.getText_();return String(null!==e?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())}setValue(e){if(null!==e){var t=this.doClassValidation_(e);if(e=this.processValidation_(e,t),!(e instanceof Error)){if((t=this.getValidator())&&(t=t.call(this,e),e=this.processValidation_(e,t),e instanceof Error))return;if(t=this.sourceBlock_,!t||!t.disposed){var n=this.getValue();n===e?this.doValueUpdate_(e):(this.doValueUpdate_(e),t&&Qe()&&Ge(new(st(ou))(t,"field",this.name||null,n,e)),this.isDirty_&&this.forceRerender())}}}}processValidation_(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)}getValue(){return this.value_}doClassValidation_(e){return null===e||void 0===e?null:e}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||""===e||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return An(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return se(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new ih;const n=t.inputList;for(let i=0;i<t.inputList.length;i++){const t=n[i],o=t.fieldRow;for(let n=0;n<o.length;n++)if(o[n]===this){e=t;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new ih;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(Ec.LOCAL_MARKER).draw()}};nh.NBSP=" ",nh.SKIP_SETUP=new qc;var ih=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},oh={};oh.Field=nh,oh.UnattachedFieldError=ih;var rh={fromJsonInternal:Ti},sh={};sh.TEST_ONLY=rh,sh.fromJson=Ei,sh.register=Ci,sh.unregister=Si;var ah,lh,uh="aria-",ch="role";(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(ah||(ah={})),function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"}(lh||(lh={}));var hh,dh={};dh.Role=ah,dh.State=lh,dh.setRole=ki,dh.setState=xi,function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"}(hh||(hh={}));var ph={};ph.KeyCodes=hh;var fh=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&ki(t,this.roleName),this.element=t;for(let n,i=0;n=this.menuItems[i];i++)t.appendChild(n.createDom());return this.mouseOverHandler=p(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=p(t,"pointerdown",this,this.handleClick,!0),this.mouseEnterHandler=p(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=p(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=p(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),B(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),H(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(g(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(g(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(g(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(g(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(g(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e,t=0;e=this.menuItems[t];t++)e.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem"))for(let t,n=0;t=this.menuItems[n];n++)if(t.getElement()===e)return t;e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;t&&(t.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement(),ue(e.getElement(),t),xi(t,lh.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){let n;for(e+=t;n=this.menuItems[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&"number"===typeof e.clientX){const n=new gl(e.clientX,e.clientY);if(1>gl.distance(t,n))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.keyCode){case hh.ENTER:case hh.SPACE:t&&t.performAction();break;case hh.UP:this.highlightPrevious();break;case hh.DOWN:this.highlightNext();break;case hh.PAGE_UP:case hh.HOME:this.highlightFirst();break;case hh.PAGE_DOWN:case hh.END:this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=te(e);return t.height=e.scrollHeight,t}},gh={};gh.Menu=fh;var mh=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=We(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var n=document.createElement("div");n.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(n)}return n=this.content,"string"===typeof this.content&&(n=document.createTextNode(this.content)),t.appendChild(n),e.appendChild(t),this.roleName&&ki(e,this.roleName),xi(e,lh.SELECTED,this.checkable&&this.checked||!1),xi(e,lh.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return null!=(e=this.opt_value)?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(B(t,"blocklyMenuItemHighlight"),B(t,"goog-menuitem-highlight")):(H(t,"blocklyMenuItemHighlight"),H(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},_h={};_h.MenuItem=mh;var vh=class extends nh{constructor(e,t,n){super(nh.SKIP_SETUP),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions_=null,Li(e)&&(Array.isArray(e)?(Di(e),e=Ii(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption_=this.getOptions(!1)[0],n&&this.configure_(n),this.setValue(this.selectedOption_[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(vh,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=F(uc.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&B(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!(null!=(e=this.getSourceBlock())&&e.isShadow())}createTextArrow_(){let e,t;this.arrow_=F(uc.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(null!=(e=this.getSourceBlock())&&e.RTL?vh.ARROW_CHAR+" ":" "+vh.ARROW_CHAR)),null!=(t=this.getSourceBlock())&&t.RTL?this.getTextElement().insertBefore(this.arrow_,this.textContent_):this.getTextElement().appendChild(this.arrow_)}createSVGArrow_(){this.svgArrow_=F(uc.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(al,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new ih;this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"===typeof e.clientX?new gl(e.clientX,e.clientY):null,ge(),e=this.menu_.render(fe()),B(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(e=t.isShadow()?t.getParent().getColour():t.getColour(),t=t.isShadow()?t.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,me(e,t)),ve(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()}dropdownCreate_(){const e=this.getSourceBlock();if(!e)throw new ih;const t=new fh;t.setRole(ah.LISTBOX),this.menu_=t;const n=this.getOptions(!1);this.selectedMenuItem_=null;for(let o=0;o<n.length;o++){const[r,s]=n[o];if("object"===typeof r){var i=new Image(r.width,r.height);i.src=r.src,i.alt=r.alt||""}else i=r;i=new mh(i,s),i.setRole(ah.OPTION),i.setRightToLeft(e.RTL),i.setCheckable(!0),t.addChild(i),i.setChecked(s===this.value_),s===this.value_&&(this.selectedMenuItem_=i),i.onAction(this.handleMenuActionEvent_,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()}handleMenuActionEvent_(e){Le(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return"function"===typeof this.menuGenerator_}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:(e&&this.generatedOptions_||(this.generatedOptions_=this.menuGenerator_(),Di(this.generatedOptions_)),this.generatedOptions_)}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t,n=0;t=e[n];n++)t[1]===this.value_&&(this.selectedOption_=t)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=e.colourSecondary:this.arrow_.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement_.style.display="none";const e=this.selectedOption_&&this.selectedOption_[0];e&&"object"===typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()}renderSelectedImage_(e){const t=this.getSourceBlock();if(!t)throw new ih;this.imageElement_.style.display="",this.imageElement_.setAttributeNS(al,"xlink:href",e.src),this.imageElement_.setAttribute("height",""+e.height),this.imageElement_.setAttribute("width",""+e.width);const n=Number(e.height);e=Number(e.width);var i=!!this.borderRect_;const o=Math.max(i?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+bh);let r;i=i?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,r=this.svgArrow_?this.positionSVGArrow_(e+i,o/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Y(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+r+2*i,this.size_.height=o;let s=0;t.RTL?this.imageElement_.setAttribute("x",(i+r).toString()):(s=e+r,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",i.toString())),this.imageElement_.setAttribute("y",(o/2-n/2).toString()),this.positionTextElement_(s+i,e+r)}renderSelectedText_(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();B(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const n=Y(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let i=0;this.svgArrow_&&(i=this.positionSVGArrow_(n+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=n+i+2*t,this.size_.height=e,this.positionTextElement_(t,n)}positionSVGArrow_(e,t){if(!this.svgArrow_)return 0;const n=this.getSourceBlock();if(!n)throw new ih;const i=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,o=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(n.RTL?i:e+o)+","+t+")"),r+o}getText_(){if(!this.selectedOption_)return null;const e=this.selectedOption_[0];return"object"===typeof e?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};vh.CHECKMARK_OVERHANG=25,vh.MAX_MENU_HEIGHT_VH=.45,vh.ARROW_CHAR="▾";var yh=5,bh=2*yh;Ci("field_dropdown",vh),e.module$build$src$core$field_dropdown={},e.module$build$src$core$field_dropdown.FieldDropdown=vh;var wh,Ch=class extends nc{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=fu,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=n)}toJson(){const e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}fromJson(e){t("Blockly.Events.BubbleOpen.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Ch),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}};(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(wh||(wh={})),Re(Wl.EVENT,fu,Ch);var Sh={};Sh.BubbleOpen=Ch,Sh.BubbleType=wh;var Eh=class{constructor(e,t,n,i,o){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new gl(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new gl(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=n||!1,this.margin=void 0!==o?o:Eh.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),i&&(e+=" "+i),this.outerSvg=F(uc.SVG,{class:e}),i=F(uc.G,{},this.outerSvg),this.svgBackground=F(uc.RECT,{class:"blocklyScrollbarBackground"},i),e=Math.floor((Eh.scrollbarThickness-5)/2),this.svgHandle=F(uc.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},i),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),U(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=p(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=p(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Eh.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),g(this.onMouseDownBarWrapper_),g(this.onMouseDownHandleWrapper_),W(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,j(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){(e||(e=this.workspace.getMetrics(),e))&&(this.oldHostMetrics&&Eh.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics()))}requiresViewResize(e){return!this.oldHostMetrics||(this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop)}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=Eh.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=Eh.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Eh.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=Eh.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Eh.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){const t=e!==this.isVisible();if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),r(),this.cleanUp(),_(e))e.stopPropagation();else{var t=v(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var n=Wt(this.svgHandle);n=this.horizontal?n.x:n.y;var i=this.handlePosition,o=.95*this.handleLength;t<=n?i-=o:t>=n+this.handleLength&&(i+=o),this.setHandlePosition(this.constrainHandlePosition(i)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),_(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.workspace.setupDragSurface(),this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=p(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=p(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){this.workspace.resetDragSurface(),r(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(g(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(g(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||void 0===t)&&this.updateMetrics()}setOrigin(e,t){this.origin=new gl(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};Eh.scrollbarThickness=Ra?25:15,Eh.DEFAULT_SCROLLBAR_MARGIN=.5;var Th={};Th.Scrollbar=Eh;var kh=class{constructor(e,t,n,i,o,r){this.resizeGroup=this.bubbleBack=this.bubbleArrow=this.bubbleGroup=null,this.height=this.width=this.relativeTop=this.relativeLeft=0,this.autoLayout=!0,this.onMouseDownResizeWrapper=this.onMouseDownBubbleWrapper=this.moveCallback=this.resizeCallback=null,this.rendered=this.disposed=!1,this.workspace_=e,this.content_=t,this.shape_=n,n=kh.ARROW_ANGLE,this.workspace_.RTL&&(n=-n),this.arrowRadians=J(n),e.getBubbleCanvas().appendChild(this.createDom(t,!(!o||!r))),this.setAnchorLocation(i),o&&r||(e=this.content_.getBBox(),o=e.width+2*kh.BORDER_WIDTH,r=e.height+2*kh.BORDER_WIDTH),this.setBubbleSize(o,r),this.positionBubble(),this.renderArrow(),this.rendered=!0}createDom(e,t){this.bubbleGroup=F(uc.G,{});var n={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return Va&&(n={}),n=F(uc.G,n,this.bubbleGroup),this.bubbleArrow=F(uc.PATH,{},n),this.bubbleBack=F(uc.RECT,{class:"blocklyDraggable",x:0,y:0,rx:kh.BORDER_WIDTH,ry:kh.BORDER_WIDTH},n),t?(this.resizeGroup=F(uc.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup),t=2*kh.BORDER_WIDTH,F(uc.POLYGON,{points:"0,x x,x x,0".replace(/x/g,t.toString())},this.resizeGroup),F(uc.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup),F(uc.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup)):this.resizeGroup=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper=p(this.bubbleBack,"pointerdown",this,this.bubbleMouseDown),this.resizeGroup&&(this.onMouseDownResizeWrapper=p(this.resizeGroup,"pointerdown",this,this.resizeMouseDown))),this.bubbleGroup.appendChild(e),this.bubbleGroup}getSvgRoot(){return this.bubbleGroup}setSvgId(e){let t;null==(t=this.bubbleGroup)||t.setAttribute("data-block-id",e)}bubbleMouseDown(e){const t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){}isDeletable(){return!1}setDeleteStyle(e){}resizeMouseDown(e){this.promote(),kh.unbindDragEvents(),_(e)||(this.workspace_.startDrag(e,new gl(this.workspace_.RTL?-this.width:this.width,this.height)),kh.onMouseUpWrapper=p(document,"pointerup",this,kh.bubbleMouseUp),kh.onMouseMoveWrapper=p(document,"pointermove",this,this.resizeMouseMove),this.workspace_.hideChaff()),e.stopPropagation()}resizeMouseMove(e){this.autoLayout=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble()}registerResizeEvent(e){this.resizeCallback=e}registerMoveEvent(e){this.moveCallback=e}promote(){let e;const t=null==(e=this.bubbleGroup)?void 0:e.parentNode;return!((null==t?void 0:t.lastChild)===this.bubbleGroup||!this.bubbleGroup)&&(null==t||t.appendChild(this.bubbleGroup),!0)}setAnchorLocation(e){this.anchorXY=e,this.rendered&&this.positionBubble()}layoutBubble(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),t=this.getOptimalRelativeLeft(e),n=this.getOptimalRelativeTop(e),i=this.shape_.getBBox();const o={x:t,y:-this.height-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},r={x:-this.width-30,y:n};n={x:i.width,y:n};var s={x:t,y:i.height};t=i.width<i.height?n:s,i=i.width<i.height?s:n,n=this.getOverlap(o,e),s=this.getOverlap(r,e);const a=this.getOverlap(t,e);e=this.getOverlap(i,e),e=Math.max(n,s,a,e),n===e?(this.relativeLeft=o.x,this.relativeTop=o.y):s===e?(this.relativeLeft=r.x,this.relativeTop=r.y):a===e?(this.relativeLeft=t.x,this.relativeTop=t.y):(this.relativeLeft=i.x,this.relativeTop=i.y)}getOverlap(e,t){var n=this.workspace_.RTL?this.anchorXY.x-e.x-this.width:e.x+this.anchorXY.x;return e=e.y+this.anchorXY.y,Math.max(0,Math.min(1,(Math.min(n+this.width,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.height,t.top+t.height)-Math.max(e,t.top))/(this.width*this.height)))}getOptimalRelativeLeft(e){let t=-this.width/4;if(this.width>e.width)return t;if(this.workspace_.RTL){var n=this.anchorXY.x-t,i=e.left+e.width;e=e.left+Eh.scrollbarThickness/this.workspace_.scale,n-this.width<e?t=-(e-this.anchorXY.x+this.width):n>i&&(t=-(i-this.anchorXY.x))}else{n=t+this.anchorXY.x,i=n+this.width;const o=e.left;e=e.left+e.width-Eh.scrollbarThickness/this.workspace_.scale,n<o?t=o-this.anchorXY.x:i>e&&(t=e-this.anchorXY.x-this.width)}return t}getOptimalRelativeTop(e){let t=-this.height/4;if(this.height>e.height)return t;const n=this.anchorXY.y+t,i=n+this.height,o=e.top;e=e.top+e.height-Eh.scrollbarThickness/this.workspace_.scale;const r=this.anchorXY.y;return n<o?t=o-r:i>e&&(t=e-r-this.height),t}positionBubble(){let e=this.anchorXY.x;e=this.workspace_.RTL?e-(this.relativeLeft+this.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchorXY.y)}moveTo(e,t){let n;null==(n=this.bubbleGroup)||n.setAttribute("transform","translate("+e+","+t+")")}setDragging(e){!e&&this.moveCallback&&this.moveCallback()}getBubbleSize(){return new _l(this.width,this.height)}setBubbleSize(e,t){const n=2*kh.BORDER_WIDTH;let i,o;e=Math.max(e,n+45),t=Math.max(t,n+20),this.width=e,this.height=t,null==(i=this.bubbleBack)||i.setAttribute("width",e.toString()),null==(o=this.bubbleBack)||o.setAttribute("height",t.toString()),this.resizeGroup&&(this.workspace_.RTL?this.resizeGroup.setAttribute("transform","translate("+2*kh.BORDER_WIDTH+","+(t-n)+") scale(-1 1)"):this.resizeGroup.setAttribute("transform","translate("+(e-n)+","+(t-n)+")")),this.autoLayout&&this.layoutBubble(),this.positionBubble(),this.renderArrow(),this.resizeCallback&&this.resizeCallback()}renderArrow(){const e=[];var t=this.width/2,n=this.height/2,i=-this.relativeLeft,o=-this.relativeTop;if(t===i&&n===o)e.push("M "+t+","+n);else{o-=n,i-=t,this.workspace_.RTL&&(i*=-1);var r=Math.sqrt(o*o+i*i),s=Math.acos(i/r);0>o&&(s=2*Math.PI-s);var a=s+Math.PI/2;a>2*Math.PI&&(a-=2*Math.PI);var l=Math.sin(a);const c=Math.cos(a);var u=this.getBubbleSize();a=(u.width+u.height)/kh.ARROW_THICKNESS,a=Math.min(a,u.width,u.height)/4,u=1-kh.ANCHOR_RADIUS/r,i=t+u*i,o=n+u*o,u=t+a*c;const h=n+a*l;t-=a*c,n-=a*l,l=s+this.arrowRadians,l>2*Math.PI&&(l-=2*Math.PI),s=Math.sin(l)*r/kh.ARROW_BEND,r=Math.cos(l)*r/kh.ARROW_BEND,e.push("M"+u+","+h),e.push("C"+(u+r)+","+(h+s)+" "+i+","+o+" "+i+","+o),e.push("C"+i+","+o+" "+(t+r)+","+(n+s)+" "+t+","+n)}let c;e.push("z"),null==(c=this.bubbleArrow)||c.setAttribute("d",e.join(" "))}setColour(e){let t,n;null==(t=this.bubbleBack)||t.setAttribute("fill",e),null==(n=this.bubbleArrow)||n.setAttribute("fill",e)}dispose(){this.onMouseDownBubbleWrapper&&g(this.onMouseDownBubbleWrapper),this.onMouseDownResizeWrapper&&g(this.onMouseDownResizeWrapper),kh.unbindDragEvents(),W(this.bubbleGroup),this.disposed=!0}moveDuringDrag(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft=this.workspace_.RTL?this.anchorXY.x-t.x-this.width:t.x-this.anchorXY.x,this.relativeTop=t.y-this.anchorXY.y,this.renderArrow()}getRelativeToSurfaceXY(){return new gl(this.workspace_.RTL?-this.relativeLeft+this.anchorXY.x-this.width:this.anchorXY.x+this.relativeLeft,this.anchorXY.y+this.relativeTop)}setAutoLayout(e){this.autoLayout=e}static unbindDragEvents(){kh.onMouseUpWrapper&&(g(kh.onMouseUpWrapper),kh.onMouseUpWrapper=null),kh.onMouseMoveWrapper&&(g(kh.onMouseMoveWrapper),kh.onMouseMoveWrapper=null)}static bubbleMouseUp(e){r(),kh.unbindDragEvents()}static textToDom(e){const t=F(uc.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:kh.BORDER_WIDTH});e=e.split("\n");for(let n=0;n<e.length;n++){const i=F(uc.TSPAN,{dy:"1em",x:kh.BORDER_WIDTH},t),o=document.createTextNode(e[n]);i.appendChild(o)}return t}static createNonEditableBubble(e,t,n){if(n=new kh(t.workspace,e,t.pathObject.svgPath,n,null,null),n.setSvgId(t.id),t.RTL){t=e.getBBox().width;for(let n,i=0;n=e.childNodes[i];i++)n.setAttribute("text-anchor","end"),n.setAttribute("x",(t+kh.BORDER_WIDTH).toString())}return n}};kh.BORDER_WIDTH=6,kh.ARROW_THICKNESS=5,kh.ARROW_ANGLE=20,kh.ARROW_BEND=4,kh.ANCHOR_RADIUS=8,kh.onMouseUpWrapper=null,kh.onMouseMoveWrapper=null;var xh,Lh,Ih={};Ih.Bubble=kh,xh=28,e.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:xh,connectingSnapRadius:xh,currentConnectionPreference:8,bumpDelay:250},Lh={},Lh.config=e.config$$module$build$src$core$config;var Oh=class{constructor(e){this.iconGroup_=null,this.collapseHidden=!0,this.SIZE=17,this.iconXY_=this.bubble_=null,e||t("Calling the Icon constructor with a null block","version 9","version 10","a non-null block"),this.block_=e}createIcon(){this.iconGroup_||(this.iconGroup_=F(uc.G,{class:"blocklyIconGroup"}),this.getBlock().isInFlyout&&B(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.getBlock().getSvgRoot().appendChild(this.iconGroup_),p(this.iconGroup_,"pointerup",this,this.iconClick_),this.updateEditable())}dispose(){W(this.iconGroup_),this.setVisible(!1)}updateEditable(){}isVisible(){return!!this.bubble_}iconClick_(e){this.getBlock().workspace.isDragging()||this.getBlock().isInFlyout||_(e)||this.setVisible(!this.isVisible())}applyColour(){this.bubble_&&this.isVisible()&&this.bubble_.setColour(this.getBlock().style.colourPrimary)}setIconLocation(e){this.iconXY_=e,this.bubble_&&this.isVisible()&&this.bubble_.setAnchorLocation(e)}computeIconLocation(){var e=this.getBlock().getRelativeToSurfaceXY();const t=$t(this.iconGroup_);e=new gl(e.x+t.x+this.SIZE/2,e.y+t.y+this.SIZE/2),gl.equals(this.getIconLocation(),e)||this.setIconLocation(e)}getIconLocation(){return this.iconXY_}getCorrectedSize(){return new _l(this.SIZE,this.SIZE-2)}drawIcon_(e){}setVisible(e){}getBlock(){if(!this.block_)throw Error("Block is not set for this icon.");return this.block_}},Dh={};Dh.Icon=Oh;var Nh={};Nh.deepMerge=Ai,Nh.inherits=Ni,Nh.mixin=Ri,Nh.values=Mi;var Rh=class{constructor(e,t,n,i){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=n||Object.create(null),this.componentStyles=i||Object.create(null),this.fontStyle=Object.create(null),Re(Wl.THEME,e,this)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){return(e=this.componentStyles[e])&&"string"===typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const n=new Rh(e);let i=t.base;if(i){if("string"===typeof i){let e;i=null!=(e=Ve(Wl.THEME,i))?e:void 0}i instanceof Rh&&(Ai(n,i),n.name=e)}return Ai(n.blockStyles,t.blockStyles),Ai(n.categoryStyles,t.categoryStyles),Ai(n.componentStyles,t.componentStyles),Ai(n.fontStyle,t.fontStyle),null!==t.startHats&&(n.startHats=t.startHats),n}},Ah={};Ah.Theme=Rh;var Mh={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},Ph={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Fh=new Rh("classic",Mh,Ph),Bh={};Bh.Classic=Fh;var Vh,Hh="categoryToolbox",$h="flyoutToolbox";(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Vh||(Vh={}));var Wh={hasCategoriesInternal:Hi},Uh={};Uh.Position=Vh,Uh.TEST_ONLY=Wh,Uh.convertFlyoutDefToJsonArray=Bi,Uh.convertToolboxDefToJson=Pi,Uh.hasCategories=Vi,Uh.isCategoryCollapsible=$i,Uh.parseToolboxTree=ji;var zh,jh=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let n=null,i=!1;var o=!1,r=!1,s=!1,a=!1,l=!1;const u=!!e.readOnly;var c;u||(n=Pi(null!=(c=e.toolbox)?c:null),i=Vi(n),o=e.trashcan,o=void 0===o?i:o,r=e.collapse,r=void 0===r?i:r,s=e.comments,s=void 0===s?i:s,a=e.disable,a=void 0===a?i:a,l=e.sounds,l=void 0===l||l);c=e.maxTrashcanContents,o?void 0===c&&(c=32):c=0;const h=!!e.rtl;let d=e.horizontalLayout;void 0===d&&(d=!1);var p="end"!==e.toolboxPosition;p=d?p?Vh.TOP:Vh.BOTTOM:p===h?Vh.RIGHT:Vh.LEFT;let f=e.css;void 0===f&&(f=!0);let g="https://blockly-demo.appspot.com/static/media/";e.media?g=e.media.endsWith("/")?e.media:e.media+"/":"path"in e&&(t("path","Nov 2014","Jul 2023","media"),g=e.path+"media/");const m=e.oneBasedIndex,_=e.renderer||"geras",v=e.plugins||{};let y,b,w,C=e.modalInputs;void 0===C&&(C=!0),this.RTL=h,this.oneBasedIndex=void 0===m||m,this.collapse=r,this.comments=s,this.disable=a,this.readOnly=u,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=null!=(y=e.maxInstances)?y:null,this.modalInputs=C,this.pathToMedia=g,this.hasCategories=i,this.moveOptions=jh.parseMoveOptions_(e,i),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=o,this.maxTrashcanContents=c,this.hasSounds=l,this.hasCss=f,this.horizontalLayout=d,this.languageTree=n,this.gridOptions=jh.parseGridOptions_(e),this.zoomOptions=jh.parseZoomOptions_(e),this.toolboxPosition=p,this.theme=jh.parseThemeOptions_(e),this.renderer=_,this.rendererOverrides=null!=(b=e.rendererOverrides)?b:null,this.parentWorkspace=null!=(w=e.parentWorkspace)?w:null,this.plugins=v}static parseMoveOptions_(e,t){const n=e.move||{},i={};return void 0===n.scrollbars&&void 0===e.scrollbars?i.scrollbars=t:"object"===typeof n.scrollbars?(i.scrollbars={horizontal:!!n.scrollbars.horizontal,vertical:!!n.scrollbars.vertical},i.scrollbars.horizontal&&i.scrollbars.vertical?i.scrollbars=!0:i.scrollbars.horizontal||i.scrollbars.vertical||(i.scrollbars=!1)):i.scrollbars=!!n.scrollbars||!!e.scrollbars,i.wheel=i.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"===typeof i.scrollbars,i.drag=!!i.scrollbars&&(void 0===n.drag||!!n.drag),i}static parseZoomOptions_(e){e=e.zoom||{};const t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions_(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions_(e){return e=e.theme||Fh,"string"===typeof e?Ve(Wl.THEME,e):e instanceof Rh?e:Rh.defineTheme(e.name||"builtin"+We(),e)}},Gh={};Gh.Options=jh,e.Mutator$$module$build$src$core$mutator=class extends Oh{constructor(e,n){n||t("Calling the Mutator constructor without passing the block it is attached to","version 9","version 10","the constructor by passing the list of subblocks and the block instance to attach the mutator to"),super(null!=n?n:null),this.workspace_=null,this.workspaceHeight=this.workspaceWidth=0,this.updateWorkspacePid=this.sourceListener=this.rootBlock=this.svgDialog=null,this.quarkNames=e}setBlock(e){this.block_=e}getWorkspace(){return this.workspace_}drawIcon_(e){F(uc.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),F(uc.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),F(uc.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)}iconClick_(e){this.getBlock().isEditable()&&super.iconClick_(e)}createEditor(){if(this.svgDialog=F(uc.SVG,{x:kh.BORDER_WIDTH,y:kh.BORDER_WIDTH}),this.quarkNames.length){var e=ht("xml");for(let n,i=0;n=this.quarkNames[i];i++){var t=ht("block");t.setAttribute("type",n),e.appendChild(t)}}else e=null;var n=this.getBlock();return t=new jh({disable:!1,parentWorkspace:n.workspace,media:n.workspace.options.pathToMedia,rtl:n.RTL,horizontalLayout:!1,renderer:n.workspace.options.renderer,rendererOverrides:n.workspace.options.rendererOverrides}),t.toolboxPosition=n.RTL?Vh.RIGHT:Vh.LEFT,(n=!!e)&&(t.languageTree=Pi(e)),this.workspace_=this.newWorkspaceSvg(t),this.workspace_.internalIsMutator=!0,this.workspace_.addChangeListener(at),e=n?this.workspace_.addFlyout(uc.G):null,t=this.workspace_.createDom("blocklyMutatorBackground"),e&&t.insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog.appendChild(t),this.svgDialog}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}updateEditable(){super.updateEditable(),this.getBlock().isInFlyout||(this.getBlock().isEditable()?this.iconGroup_&&H(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&B(this.iconGroup_,"blocklyIconGroupReadonly")))}resizeBubble(){if(this.workspace_){var e=2*kh.BORDER_WIDTH,t=this.workspace_.getCanvas(),n=t.getBBox(),i=n.width+n.x,o=n.height+3*e,r=this.workspace_.getFlyout();if(r){const e=r.getWorkspace().getMetricsManager().getScrollMetrics();o=Math.max(o,e.height+20),i+=r.getWidth()}(r=this.getBlock().RTL)&&(i=-n.x),i+=3*e,(Math.abs(this.workspaceWidth-i)>e||Math.abs(this.workspaceHeight-o)>e)&&(this.workspaceWidth=i,this.workspaceHeight=o,this.bubble_.setBubbleSize(i+e,o+e),this.svgDialog.setAttribute("width",""+i),this.svgDialog.setAttribute("height",""+o),this.workspace_.setCachedParentSvgSize(i,o)),r&&t.setAttribute("transform",`translate(${this.workspaceWidth}, 0)`),this.workspace_.resize()}}onBubbleMove(){this.workspace_&&this.workspace_.recordDragTargets()}setVisible(e){if(e!==this.isVisible()){var t=this.getBlock();if(Ge(new(st(fu))(t,e,"mutator")),e){this.bubble_=new kh(t.workspace,this.createEditor(),t.pathObject.svgPath,this.iconXY_,null,null),e=this.workspace_,this.bubble_.setSvgId(t.id),this.bubble_.registerMoveEvent(this.onBubbleMove.bind(this));var n=e.options.languageTree,i=e.getFlyout();n&&(i.init(e),i.show(n)),this.rootBlock=t.decompose(e),n=this.rootBlock.getDescendants(!1);for(let e,t=0;e=n[t];t++)e.render();if(this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1),i?(n=2*i.CORNER_RADIUS,i=this.rootBlock.RTL?i.getWidth()+n:n):i=n=16,t.RTL&&(i=-i),this.rootBlock.moveBy(i,n),t.saveConnections){const e=this.rootBlock;t.saveConnections(e),this.sourceListener=()=>{const t=this.getBlock();t.saveConnections&&t.saveConnections(e)},t.workspace.addChangeListener(this.sourceListener)}this.resizeBubble(),e.addChangeListener(this.workspaceChanged.bind(this)),this.updateWorkspace(),this.applyColour()}else this.svgDialog=null,this.workspace_.dispose(),this.rootBlock=this.workspace_=null,null==(i=this.bubble_)||i.dispose(),this.bubble_=null,this.workspaceHeight=this.workspaceWidth=0,this.sourceListener&&(t.workspace.removeChangeListener(this.sourceListener),this.sourceListener=null)}}workspaceChanged(e){this.shouldIgnoreMutatorEvent_(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.updateWorkspace()},0))}shouldIgnoreMutatorEvent_(e){return e.isUiEvent||e.type===nu||e.type===ou&&"disabled"===e.element}updateWorkspace(){if(!this.workspace_.isDragging()){var t=this.workspace_.getTopBlocks(!1);for(let e,o=0;e=t[o];o++){var n=e.getRelativeToSurfaceXY();if(20>n.y&&e.moveBy(0,20-n.y),e.RTL){var i=-20;const t=this.workspace_.getFlyout();t&&(i-=t.getWidth()),n.x>i&&e.moveBy(i-n.x,0)}else 20>n.x&&e.moveBy(20-n.x,0)}}if(this.rootBlock&&this.rootBlock.workspace===this.workspace_){(t=et())||tt(!0);const o=this.getBlock();if(n=Cc.getExtraBlockState_(o),i=o.rendered,o.rendered=!1,o.compose(this.rootBlock),o.rendered=i,o.initSvg(),o.rendered&&o.render(),i=Cc.getExtraBlockState_(o),n!==i){Ge(new(st(ou))(o,"mutation",null,n,i));const t=et();setTimeout((function(){const e=et();tt(t),o.bumpNeighbours(),tt(e)}),e.config$$module$build$src$core$config.bumpDelay)}this.workspace_.isDragging()||setTimeout(()=>this.resizeBubble(),0),tt(t)}}dispose(){this.getBlock().mutator=null,super.dispose()}updateBlockStyle(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){const t=e.getAllBlocks(!1);for(let e,n=0;e=t[n];n++)e.setStyle(e.getStyleName());if(e=e.getFlyout()){e=e.getWorkspace().getAllBlocks(!1);for(let t,n=0;t=e[n];n++)t.setStyle(t.getStyleName())}}}static reconnect(e,t,n){if(!e||!e.getSourceBlock().workspace)return!1;n=t.getInput(n).connection;const i=e.targetBlock();return!(i&&i!==t||!n||n.targetConnection===e)&&(n.isConnected()&&n.disconnect(),n.connect(e),!0)}static findParentWs(e){let t=null;if(e&&e.options){const n=e.options.parentWorkspace;e.isFlyout?n&&n.options&&(t=n.options.parentWorkspace):n&&(t=n)}return t}},zh={},zh.Mutator=e.Mutator$$module$build$src$core$mutator;var Kh=Object.create(null),qh={allExtensions:Kh};Gi("parent_tooltip_when_inline",co),e.module$build$src$core$extensions={},e.module$build$src$core$extensions.TEST_ONLY=qh,e.module$build$src$core$extensions.apply=Zi,e.module$build$src$core$extensions.buildTooltipForDropdown=ao,e.module$build$src$core$extensions.buildTooltipWithFieldText=uo,e.module$build$src$core$extensions.isRegistered=Xi,e.module$build$src$core$extensions.register=Gi,e.module$build$src$core$extensions.registerMixin=Ki,e.module$build$src$core$extensions.registerMutator=qi,e.module$build$src$core$extensions.runAfterPageLoad=so,e.module$build$src$core$extensions.unregister=Yi;var Yh={};Yh.removeElem=ho;var Xh={};Xh.arc=bo,Xh.curve=fo,Xh.line=vo,Xh.lineOnAxis=yo,Xh.lineTo=_o,Xh.moveBy=mo,Xh.moveTo=go,Xh.point=po;var Zh={};Zh.Coordinate=gl,Zh.KeyCodes=hh,Zh.Rect=pl,Zh.Size=_l,Zh.Svg=uc,Zh.aria=dh,Zh.array=Yh,Zh.arrayRemove=Lo,Zh.browserEvents=Ya,Zh.checkMessageReferences=To,Zh.colour=Gc,Zh.deprecation=wa,Zh.dom=hl,Zh.extensions=e.module$build$src$core$extensions,Zh.getBlockTypeCounts=Oo,Zh.getDocumentScroll=Io,Zh.getInjectionDivXY_=Co,Zh.getRelativeXY=wo,Zh.getViewportBBox=xo,Zh.idGenerator=Kl,Zh.is3dSupported=ko,Zh.math=dl,Zh.object=Nh,Zh.parseBlockColour=No,Zh.parsing=Kc,Zh.replaceMessageReferences=Eo,Zh.runAfterPageLoad=Ro,Zh.screenToWsCoordinates=Do,Zh.string=e.module$build$src$core$utils$string,Zh.style=bl,Zh.svgMath=fc,Zh.svgPaths=Xh,Zh.tokenizeInterpolation=So,Zh.toolbox=Uh,Zh.userAgent=Ga,Zh.xml=e.module$build$src$core$utils$xml;var Jh=class extends nc{constructor(e,t){super(t),this.type=gu,this.isOpen=e}toJson(){const e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}fromJson(e){t("Blockly.Events.TrashcanOpen.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isOpen=e.isOpen}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Jh),t.isOpen=e.isOpen,t}};Re(Wl.EVENT,gu,Jh);var Qh={};Qh.TrashcanOpen=Jh;var ed=class{constructor(e){this.name_=e}toString(){return this.name_}};ed.POSITIONABLE=new ed("positionable"),ed.DRAG_TARGET=new ed("drag_target"),ed.DELETE_AREA=new ed("delete_area"),ed.AUTOHIDEABLE=new ed("autohideable");var td=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const n=e.component.id;var i;if(!t&&this.componentData.has(n))throw Error('Plugin "'+n+'" with capabilities "'+(null==(i=this.componentData.get(n))?void 0:i.capabilities)+'" already added.');for(this.componentData.set(n,e),t=[],i=0;i<e.capabilities.length;i++){const o=String(e.capabilities[i]).toLowerCase();if(t.push(o),this.capabilityToComponentIds.has(o)){let e;null==(e=this.capabilityToComponentIds.get(o))||e.push(n)}else this.capabilityToComponentIds.set(o,[n])}this.componentData.get(n).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let n=0;n<t.capabilities.length;n++){const i=String(t.capabilities[n]).toLowerCase();ho(this.capabilityToComponentIds.get(i),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');var n,i;this.hasCapability(e,t)?console.warn('Plugin "'+e+'already has capability "'+t+'"'):(t=String(t).toLowerCase(),null==(n=this.componentData.get(e))||n.capabilities.push(t),null==(i=this.capabilityToComponentIds.get(t))||i.push(e))}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=String(t).toLowerCase(),ho(this.componentData.get(e).capabilities,t),ho(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')}hasCapability(e,t){return t=String(t).toLowerCase(),this.componentData.has(e)&&-1!==this.componentData.get(e).capabilities.indexOf(t)}getComponent(e){let t;return null==(t=this.componentData.get(e))?void 0:t.component}getComponents(e,t){if(e=String(e).toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const n=[];if(t){const t=[];e.forEach(e=>{t.push(this.componentData.get(e))}),t.sort((function(e,t){return e.weight-t.weight})),t.forEach((function(e){n.push(e.component)}))}else e.forEach(e=>{n.push(this.componentData.get(e).component)});return n}};td.Capability=ed;var nd={};nd.ComponentManager=td;var id=class extends Error{},od=class extends id{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},rd=class extends id{constructor(e,t,n){super(`The block ${t.toDevString()} is missing a(n) ${e}\nconnection`),this.block=t,this.state=n}},sd=class extends id{constructor(e,t,n,i){super(`The block ${n.toDevString()} could not connect its\n${t} to its parent, because: ${e}`),this.childBlock=n,this.childState=i}},ad=class extends id{constructor(e){super("Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"),this.state=e}},ld={};ld.BadConnectionCheck=sd,ld.DeserializationError=id,ld.MissingBlockType=od,ld.MissingConnection=rd,ld.RealChildOfShadow=ad;var ud=100,cd=75,hd=50,dd={};dd.BLOCKS=hd,dd.PROCEDURES=cd,dd.VARIABLES=ud;var pd={};pd.register=Ao,pd.unregister=Mo;var fd=class{constructor(){this.priority=hd}save(e){const t=[];for(const n of e.getTopBlocks(!1))(e=Po(n,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const n of e)jo(n,t,{recordUndo:je()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Ao("blocks",new fd);var gd={};gd.BlockSerializer=fd,gd.append=jo,gd.appendInternal=Go,gd.save=Po;var md=class extends bc{constructor(e){super(e),this.type=nu,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=Yt(e),this.ids=it(e),this.json=Po(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=en(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){t("Blockly.Events.BlockCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.xml=nn(e.xml),this.ids=e.ids,this.json=e.json,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new md),t.xml=nn(e.xml),t.ids=e.ids,t.json=e.json,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(e)jo(this.json,t);else for(e=0;e<this.ids.length;e++){const n=this.ids[e],i=t.getBlockById(n);i?i.dispose(!1):n===this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}};Re(Wl.EVENT,nu,md);var _d={};_d.BlockCreate=md;var vd=class extends bc{constructor(e){if(super(e),this.type=iu,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=Yt(e),this.ids=it(e),this.wasShadow=e.isShadow(),this.oldJson=Po(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(void 0===this.wasShadow)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=en(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){t("Blockly.Events.BlockDelete.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldXml=nn(e.oldXml),this.ids=e.ids,this.wasShadow=e.wasShadow||"shadow"===this.oldXml.tagName.toLowerCase(),this.oldJson=e.oldJson,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new vd),t.oldXml=nn(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||"shadow"===t.oldXml.tagName.toLowerCase(),t.oldJson=e.oldJson,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const n=this.ids[e],i=t.getBlockById(n);i?i.dispose(!1):n===this.blockId&&console.warn("Can't delete non-existent block: "+n)}else jo(this.oldJson,t)}};Re(Wl.EVENT,iu,vd);var yd,bd={};bd.BlockDelete=vd,function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"}(yd||(yd={})),e.module$build$src$core$connection_type={},e.module$build$src$core$connection_type.ConnectionType=yd;var wd=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom_=this.check_=null,this.y=this.x=0,this.shadowState_=null,this.sourceBlock_=e}connect_(e){const t=yd.INPUT_VALUE,n=this.getSourceBlock();var i=e.getSourceBlock();let o,r;if(e.isConnected()&&e.disconnect(),this.isConnected()){const e=this.stashShadowState_(),t=this.targetBlock();t.isShadow()?t.dispose(!1):(this.disconnect(),o=t),this.applyShadowState_(e)}Qe()&&(r=new(st(ru))(i)),or(this,e),i.setParent(n),r&&(r.recordNew(),Ge(r)),o&&(e=this.type===t?o.outputConnection:o.previousConnection,(i=wd.getConnectionForOrphanedConnection(i,e))?e.connect(i):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.setShadowStateInternal_();const e=this.targetBlock();e&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===yd.INPUT_VALUE||this.type===yd.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=et();t||tt(!0),this.isSuperior()?this.connect_(e):e.connect_(this),t||tt(!1)}return this.isConnected()}disconnect(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!==this)throw Error("Target connection not connected to source connection.");let t,n;this.isSuperior()?(t=this.sourceBlock_,n=e.getSourceBlock(),e=this):(t=e.getSourceBlock(),n=this.sourceBlock_);const i=et();i||tt(!0),this.disconnectInternal_(t,n),n.isShadow()||e.respawnShadow_(),i||tt(!1)}disconnectInternal_(e,t){let n;Qe()&&(n=new(st(ru))(t)),(e=this.targetConnection)&&(e.targetConnection=null),this.targetConnection=null,t.setParent(null),n&&(n.recordNew(),Ge(n))}respawnShadow_(){this.createShadowBlock_(!0)}targetBlock(){if(this.isConnected()){let e,t;return null!=(t=null==(e=this.targetConnection)?void 0:e.getSourceBlock())?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this}getCheck(){return this.check_}setShadowDom(e){this.setShadowStateInternal_({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Jt(this.targetBlock()):this.shadowDom_}setShadowState(e){this.setShadowStateInternal_({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?Po(this.targetBlock()):this.shadowState_}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let n,i=0;n=e.inputList[i];i++)if(n.connection===this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()}stashShadowState_(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState_=this.shadowDom_=null,{shadowDom:e,shadowState:t}}applyShadowState_({shadowDom:e,shadowState:t}){this.shadowDom_=e,this.shadowState_=t}setShadowStateInternal_({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom_=e,this.shadowState_=t,(e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock())):(e=this.createShadowBlock_(!1),this.serializeShadow_(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow_(this.targetBlock()))}createShadowBlock_(e){var t=this.getSourceBlock();const n=this.getShadowState(),i=this.getShadowDom();if(t.isDeadOrDying()||!n&&!i)return null;if(n)return Go(n,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(i){if(t=an(i,t.workspace),e)if(this.type===yd.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else{if(this.type!==yd.NEXT_STATEMENT)throw Error("Cannot connect a shadow block to a previous/output connection");if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}return t}return null}serializeShadow_(e){e&&(this.shadowDom_=Jt(e),this.shadowState_=Po(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===yd.OUTPUT_VALUE)return sr(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const n=t.getConnectionChecker();return e&&n.canConnect(t,e,!1)?e:null}};wd.CAN_CONNECT=0,wd.REASON_SELF_CONNECTION=1,wd.REASON_WRONG_TYPE=2,wd.REASON_TARGET_NULL=3,wd.REASON_CHECKS_FAILED=4,wd.REASON_DIFFERENT_WORKSPACES=5,wd.REASON_SHADOW_PARENT=6,wd.REASON_DRAG_CHECKS_FAILED=7,wd.REASON_PREVIOUS_AND_OUTPUT=8;var Cd={};Cd.Connection=wd;var Sd="_TEMP_COLLAPSED_INPUT",Ed="_TEMP_COLLAPSED_FIELD",Td={};Td.COLLAPSED_FIELD_NAME=Ed,Td.COLLAPSED_INPUT_NAME=Sd,e.FieldLabel$$module$build$src$core$field_label=class extends nh{constructor(e,t,n){super(nh.SKIP_SETUP),this.class_=null,this.EDITABLE=!1,e!==nh.SKIP_SETUP&&(n?this.configure_(n):this.class_=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class_=e.class)}initView(){this.createTextElement_(),this.class_&&B(this.getTextElement(),this.class_)}doClassValidation_(e){return null===e||void 0===e?null:String(e)}setClass(e){this.textElement_&&(this.class_&&H(this.textElement_,this.class_),e&&B(this.textElement_,e)),this.class_=e}static fromJson(e){return new this(li(e.text),void 0,e)}},Ci("field_label",e.FieldLabel$$module$build$src$core$field_label),e.FieldLabel$$module$build$src$core$field_label.prototype.DEFAULT_VALUE="";var kd={};kd.FieldLabel=e.FieldLabel$$module$build$src$core$field_label;var xd,Ld=class{constructor(t,n,i,o){if(this.type=t,this.name=n,this.connection=o,this.fieldRow=[],this.align=e.Align$$module$build$src$core$input.LEFT,this.visible=!0,t!==ql.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.sourceBlock=i}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return t||""===t&&n?("string"===typeof t&&(t=Ei({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(t.init(),t.applyColour()),t.name=n,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.render(),this.sourceBlock.bumpNeighbours()),e):e}removeField(e,t){for(let n,i=0;n=this.fieldRow[i];i++)if(n.name===e)return n.dispose(),this.fieldRow.splice(i,1),this.sourceBlock.rendered&&(this.sourceBlock.render(),this.sourceBlock.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let i,o=0;i=this.fieldRow[o];o++)i.setVisible(e);if(this.connection){var n=this.connection;e?t=n.startTrackingAll():n.stopTrackingAll(),(n=n.targetBlock())&&(n.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e,t=0;e=this.fieldRow[t];t++)e.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.render(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){if(this.sourceBlock.workspace.rendered)for(let e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()}dispose(){for(let e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose()}};(function(e){e=e.Align||(e.Align={}),e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(Ld||(Ld={})),e.Align$$module$build$src$core$input=Ld.Align,xd={},xd.Align=e.Align$$module$build$src$core$input,xd.Input=Ld;var Id=class{constructor(e,t,n){if(this.wsCoordinate_=null,!t)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=Id.isConnectionType_(e),this.location_=t,this.processParams_(n||null)}processParams_(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)}getLocation(){return this.location_}getType(){return this.type_}getWsCoordinate(){return this.wsCoordinate_}isConnection(){return this.isConnection_}findNextForInput_(){var e=this.location_.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const n=t.inputList[e],i=n.fieldRow;for(let e=0;e<i.length;e++){const t=i[e];if(t.isClickable()||Id.NAVIGATE_ALL_FIELDS)return Id.createFieldNode(t)}if(n.connection)return Id.createInputNode(n)}return null}findNextForField_(){var e=this.location_,t=e.getParentInput();const n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var i=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;i<n.inputList.length;i++){t=n.inputList[i];const o=t.fieldRow;for(;e<o.length;){if(o[e].isClickable()||Id.NAVIGATE_ALL_FIELDS)return Id.createFieldNode(o[e]);e++}if(e=0,t.connection)return Id.createInputNode(t)}return null}findPrevForInput_(){const e=this.location_.getParentInput(),t=e.getSourceBlock();for(var n=t.inputList.indexOf(e);0<=n;n--){var i=t.inputList[n];if(i.connection&&i!==e)return Id.createInputNode(i);i=i.fieldRow;for(let e=i.length-1;0<=e;e--){const t=i[e];if(t.isClickable()||Id.NAVIGATE_ALL_FIELDS)return Id.createFieldNode(t)}}return null}findPrevForField_(){var e=this.location_;const t=e.getParentInput(),n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var i=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=i;i--){var o=n.inputList[i];if(o.connection&&o!==t)return Id.createInputNode(o);for(o=o.fieldRow;-1<e;){if(o[e].isClickable()||Id.NAVIGATE_ALL_FIELDS)return Id.createFieldNode(o[e]);e--}0<=i-1&&(e=n.inputList[i-1].fieldRow.length-1)}return null}navigateBetweenStacks_(e){var t=this.getLocation();if(t.getSourceBlock){var n=t.getSourceBlock();n&&(t=n)}if(!t||t.isDeadOrDying())return null;n=t.getRootBlock(),t=n.workspace.getTopBlocks(!0);for(let i=0;i<t.length;i++)if(n.id===t[i].id)return e=i+(e?1:-1),-1===e||e===t.length?null:Id.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}findTopASTNodeForBlock_(e){const t=ar(e);return t?Id.createConnectionNode(t):Id.createBlockNode(e)}getOutAstNodeForBlock_(e){if(!e)return null;e=e.getTopStackBlock();const t=ar(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?Id.createInputNode(t.targetConnection.getParentInput()):Id.createStackNode(e)}findFirstFieldOrInput_(e){e=e.inputList;for(let t=0;t<e.length;t++){const n=e[t],i=n.fieldRow;for(let e=0;e<i.length;e++){const t=i[e];if(t.isClickable()||Id.NAVIGATE_ALL_FIELDS)return Id.createFieldNode(t)}if(n.connection)return Id.createInputNode(n)}return null}getSourceBlock(){return this.getType()===Id.types.BLOCK||this.getType()===Id.types.STACK?this.getLocation():this.getType()===Id.types.WORKSPACE?null:this.getLocation().getSourceBlock()}next(){switch(this.type_){case Id.types.STACK:return this.navigateBetweenStacks_(!0);case Id.types.OUTPUT:return Id.createBlockNode(this.location_.getSourceBlock());case Id.types.FIELD:return this.findNextForField_();case Id.types.INPUT:return this.findNextForInput_();case Id.types.BLOCK:return Id.createConnectionNode(this.location_.nextConnection);case Id.types.PREVIOUS:return Id.createBlockNode(this.location_.getSourceBlock());case Id.types.NEXT:return Id.createConnectionNode(this.location_.targetConnection)}return null}in(){switch(this.type_){case Id.types.WORKSPACE:const e=this.location_.getTopBlocks(!0);if(0<e.length)return Id.createStackNode(e[0]);break;case Id.types.STACK:return this.findTopASTNodeForBlock_(this.location_);case Id.types.BLOCK:return this.findFirstFieldOrInput_(this.location_);case Id.types.INPUT:return Id.createConnectionNode(this.location_.targetConnection)}return null}prev(){switch(this.type_){case Id.types.STACK:return this.navigateBetweenStacks_(!1);case Id.types.FIELD:return this.findPrevForField_();case Id.types.INPUT:return this.findPrevForInput_();case Id.types.BLOCK:var e=ar(this.location_);return Id.createConnectionNode(e);case Id.types.PREVIOUS:if((e=this.location_.targetConnection)&&!e.getParentInput())return Id.createConnectionNode(e);break;case Id.types.NEXT:return Id.createBlockNode(this.location_.getSourceBlock())}return null}out(){switch(this.type_){case Id.types.STACK:var e=this.location_,t=e.getRelativeToSurfaceXY();return t=new gl(t.x,t.y+Id.DEFAULT_OFFSET_Y),Id.createWorkspaceNode(e.workspace,t);case Id.types.OUTPUT:return e=this.location_,(t=e.targetConnection)?Id.createConnectionNode(t):Id.createStackNode(e.getSourceBlock());case Id.types.FIELD:if(e=this.location_.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return Id.createBlockNode(e);case Id.types.INPUT:return Id.createBlockNode(this.location_.getSourceBlock());case Id.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case Id.types.PREVIOUS:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock());case Id.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null}static isConnectionType_(e){switch(e){case Id.types.PREVIOUS:case Id.types.NEXT:case Id.types.INPUT:case Id.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new Id(Id.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===yd.INPUT_VALUE||t===yd.NEXT_STATEMENT&&e.getParentInput()?Id.createInputNode(e.getParentInput()):t===yd.NEXT_STATEMENT?new Id(Id.types.NEXT,e):t===yd.OUTPUT_VALUE?new Id(Id.types.OUTPUT,e):t===yd.PREVIOUS_STATEMENT?new Id(Id.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new Id(Id.types.INPUT,e.connection):null}static createBlockNode(e){return e?new Id(Id.types.BLOCK,e):null}static createStackNode(e){return e?new Id(Id.types.STACK,e):null}static createWorkspaceNode(e,t){return t&&e?new Id(Id.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=ar(e);return t?Id.createConnectionNode(t):Id.createBlockNode(e)}};Id.NAVIGATE_ALL_FIELDS=!1,Id.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace"}(Id||(Id={}));var Od={};Od.ASTNode=Id;var Dd=class{constructor(e,t,n){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.loadExtraState=this.saveExtraState=this.domToMutation=this.mutationToDom=this.destroy=this.init=void 0,this.suppressPrefixSuffix=!1,this.decompose=this.compose=this.getDeveloperVariables=void 0,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.disposing=!1,this.comment=null,this.isInsertionMarker_=!1,this.hat=void 0,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=e,this.id=n&&!e.getBlockById(n)?n:Ue(),e.setBlockById(this.id,this),this.commentModel={text:null,pinned:!1,size:new _l(160,80)},this.xy_=new gl(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,n=nl[t],!n||"object"!==typeof n)throw TypeError("Invalid block definition for type: "+t);Object.assign(this,n)}e.addTopBlock(this),e.addTypedBlock(this),new.target===Dd&&this.doInit_()}doInit_(){const e=et();e||tt(!0);const t=je();try{"function"===typeof this.init&&(ze(!1),this.init(),ze(t)),Qe()&&Ge(new(st(nu))(this))}finally{e||tt(!1),ze(t)}this.inputsInlineDefault=this.inputsInline,"function"===typeof this.onchange&&this.setOnChange(this.onchange)}dispose(e){if(!this.isDeadOrDying()){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),Qe()&&Ge(new(st(iu))(this)),Ze();try{this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0;for(let t=this.childBlocks_.length-1;0<=t;t--)this.childBlocks_[t].dispose(!1);for(let t,n=0;t=this.inputList[n];n++)t.dispose();this.inputList.length=0;const e=this.getConnections_(!0);for(let t,n=0;t=e[n];n++)t.dispose()}finally{Je(),"function"===typeof this.destroy&&this.destroy(),this.disposed=!0}}}isDeadOrDying(){return this.disposing||this.disposed}initModel(){for(let e,t=0;e=this.inputList[t];t++)for(let n,i=0;n=e.fieldRow[i];i++)n.initModel&&n.initModel()}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,null==e||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):null==e||e.onFailedConnect(t))}getOnlyValueConnection_(){let e=null;for(let t=0;t<this.inputList.length;t++){const n=this.inputList[t].connection;if(n&&n.type===yd.INPUT_VALUE&&n.targetConnection){if(e)return null;e=n}}return e}unplugFromStack_(e){let t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());const n=this.getNextBlock();e&&n&&!n.isShadow()&&(e=this.nextConnection.targetConnection,null==e||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e))}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()===e)return t;return null}getSurroundParent(){let e,t=this;do{if(e=t,t=t.getParent(),!t)return null}while(t.getNextBlock()===e);return t}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getFirstStatementConnection(){for(let e,t=0;e=this.inputList[t];t++)if(e.connection&&e.connection.type===yd.NEXT_STATEMENT)return e.connection;return null}getRootBlock(){let e,t=this;do{e=t,t=e.parentBlock_}while(t);return e}getTopStackBlock(){let e,t=this;do{e=t.getPreviousBlock()}while(e&&e.getNextBlock()===t&&(t=e));return t}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let n,i=0;n=this.inputList[i];i++)if(n.connection){var t=n.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),n=!!t;if(n&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!n&&e)throw Error("Block not connected to new parent.");if(n&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?ho(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],n=this.getChildren(e);for(let i,o=0;i=n[o];o++)t.push(...i.getDescendants(e));return t}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}setMovable(e){this.movable_=e}isDuplicatable(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(D(this,!0))}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}setEditable(e){this.editable_=e;for(let t,n=0;t=this.inputList[n];n++)for(let e,i=0;e=t.fieldRow[i];i++)e.updateEditable()}isDisposed(){return this.disposed}getMatchingConnection(e,t){const n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!==e.length)throw Error("Connection lists did not match in length.");for(let i=0;i<e.length;i++)if(e[i]===t)return n[i];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return An(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=ci(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&"function"!==typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if("string"!==typeof e)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(let t,n=0;t=this.inputList[n];n++)for(let i,o=0;i=t.fieldRow[o];o++)if(i.name===e)return i;return null}getVars(){const e=[];for(let t,n=0;t=this.inputList[n];n++)for(let i,o=0;i=t.fieldRow[o];o++)i.referencesVariables()&&e.push(i.getValue());return e}getVarModels(){const e=[];for(let t,n=0;t=this.inputList[n];n++)for(let i,o=0;i=t.fieldRow[o];o++)if(i.referencesVariables()){const t=this.workspace.getVariableById(i.getValue());t&&e.push(t)}return e}updateVarName(e){for(let t,n=0;t=this.inputList[n];n++)for(let i,o=0;i=t.fieldRow[o];o++)i.referencesVariables()&&e.getId()===i.getValue()&&i.refreshVariableName()}renameVarById(e,t){for(let n,i=0;n=this.inputList[i];i++)for(let o,r=0;o=n.fieldRow[r];r++)o.referencesVariables()&&e===o.getValue()&&o.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)}setPreviousStatement(e,t){if(e)void 0===t&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(yd.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)void 0===t&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(yd.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)void 0===t&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(yd.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(Ge(new(st(ou))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(void 0!==this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type===ql.DUMMY&&this.inputList[e].type===ql.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type===ql.VALUE&&this.inputList[e].type===ql.DUMMY)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return!this.disabled}setEnabled(e){if(this.isEnabled()!==e){const t=this.disabled;this.disabled=!e,Ge(new(st(ou))(this,"disabled",null,t,!e))}}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(Ge(new(st(ou))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){function n(e){let t=e.getCheck();return!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),!!t&&(-1!==t.indexOf("Boolean")||-1!==t.indexOf("Number"))}function i(){let e,t;s&&s.getType()===(null==(e=a)?void 0:e.getType())&&s.getLocation()===(null==(t=a)?void 0:t.getLocation())&&(s=null)}var o=[];t=t||"?";const r=Id.NAVIGATE_ALL_FIELDS;Id.NAVIGATE_ALL_FIELDS=!0;let s=Id.createBlockNode(this);const a=s;for(;s;){switch(s.getType()){case Id.types.INPUT:var l=s.getLocation();s.in()?n(l)&&o.push("("):o.push(t);break;case Id.types.FIELD:l=s.getLocation(),l.name!==Ed&&o.push(l.getText())}if(l=s,s=l.in()||l.next(),!s){for(s=l.out(),i();s&&!s.next();)s=s.out(),i(),s&&s.getType()===Id.types.INPUT&&n(s.getLocation())&&o.push(")");s&&(s=s.next())}}for(Id.NAVIGATE_ALL_FIELDS=r,t=2;t<o.length;t++)"("===o[t-2]&&")"===o[t]&&(o[t-2]=o[t-1],o.splice(t-1,2));return o=o.reduce((function(e,t){return e+("("===e.substr(-1)||")"===t?"":" ")+t}),""),o=o.trim()||"???",e&&o.length>e&&(o=o.substring(0,e-3)+"..."),o}appendValueInput(e){return this.appendInput_(ql.VALUE,e)}appendStatementInput(e){return this.appendInput_(ql.STATEMENT,e)}appendDummyInput(e){return this.appendInput_(ql.DUMMY,e||"")}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t);for(var n=0;void 0!==e["message"+n];)this.interpolate_(e["message"+n],e["args"+n]||[],e["lastDummyAlign"+n],t),n++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(n=li(e.tooltip),this.setTooltip(n)),void 0!==e.enableContextMenu&&(this.contextMenu=!!e.enableContextMenu),void 0!==e.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),void 0!==e.helpUrl&&(n=li(e.helpUrl),this.setHelpUrl(n)),"string"===typeof e.extensions&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&Zi(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)Zi(e[t],this,!1)}jsonInitColour_(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle_(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(void 0!==t&&"boolean"!==typeof t)throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const n in e)void 0!==this[n]&&t.push(n);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate_(e,t,n,i){e=ai(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,n),n=[];for(let o,r=0;o=t[r];r++)if(this.isInputKeyword_(o.type)){if(e=this.inputFromJson_(o,i)){for(let t,i=0;t=n[i];i++)e.appendField(t[0],t[1]);n.length=0}}else(e=this.fieldFromJson_(o))&&n.push([e,o.name])}validateTokens_(e,t){const n=[];let i=0;for(let o=0;o<e.length;o++){const r=e[o];if("number"===typeof r){if(1>r||r>t)throw Error('Block "'+this.type+'": Message index %'+r+" out of range.");if(n[r])throw Error('Block "'+this.type+'": Message index %'+r+" duplicated.");n[r]=!0,i++}}if(i!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments_(e,t,n){const i=[];for(let o=0;o<e.length;o++){let n=e[o];"number"===typeof n&&(n=t[n-1]),("string"!==typeof n||(n=this.stringToFieldJson_(n),n))&&i.push(n)}return(e=i.length)&&!this.isInputKeyword_(i[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),i.push(e)),i}fieldFromJson_(e){const t=Ei(e);return!t&&e.alt?"string"===typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t}inputFromJson_(t,n){var i={LEFT:e.Align$$module$build$src$core$input.LEFT,RIGHT:e.Align$$module$build$src$core$input.RIGHT,CENTRE:e.Align$$module$build$src$core$input.CENTRE,CENTER:e.Align$$module$build$src$core$input.CENTRE};let o=null;switch(t.type){case"input_value":o=this.appendValueInput(t.name);break;case"input_statement":o=this.appendStatementInput(t.name);break;case"input_dummy":o=this.appendDummyInput(t.name)}return o?(t.check&&o.setCheck(t.check),t.align&&(i=i[t.align.toUpperCase()],void 0===i?console.warn(n+"Illegal align value: ",t.align):o.setAlign(i)),o):null}isInputKeyword_(e){return"input_value"===e||"input_statement"===e||"input_dummy"===e}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}appendInput_(e,t){let n=null;return e!==ql.VALUE&&e!==ql.STATEMENT||(n=this.makeConnection_(e)),e===ql.STATEMENT&&this.statementInputCount++,e=new Ld(e,t,this,n),this.inputList.push(e),e}moveInputBefore(e,t){if(e!==t){var n=-1,i=t?-1:this.inputList.length;for(let o,r=0;o=this.inputList[r];r++)if(o.name===e){if(n=r,-1!==i)break}else if(t&&o.name===t&&(i=r,-1!==n))break;if(-1===n)throw Error('Named input "'+e+'" not found.');if(-1===i)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(n,i)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)}removeInput(e,t){for(let n,i=0;n=this.inputList[i];i++)if(n.name===e)return n.type===ql.STATEMENT&&this.statementInputCount--,n.dispose(),this.inputList.splice(i,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t,n=0;t=this.inputList[n];n++)if(t.name===e)return t;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){return this.commentModel.text}setCommentText(e){this.commentModel.text!==e&&(Ge(new(st(ou))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)}setWarningText(e,t){}setMutator(e){}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,t){if(this.parentBlock_)throw Error("Block has parent.");const n=new(st(ru))(this);this.xy_.translate(e,t),n.recordNew(),Ge(n)}makeConnection_(e){return new wd(this,e)}allInputsFilled(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(let n,i=0;n=this.inputList[i];i++)if(n.connection){var t=n.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return!(t=this.getNextBlock())||t.allInputsFilled(e)}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};Dd.COLLAPSED_INPUT_NAME=Sd,Dd.COLLAPSED_FIELD_NAME=Ed;var Nd={};Nd.Block=Dd;var Rd=null,Ad=null,Md={};Md.connectionUiEffect=cr,Md.disconnectUiEffect=dr,Md.disconnectUiStop=fr,Md.disposeUiEffect=lr;var Pd=class extends Oh{constructor(e){let t;super(e),this.cachedText="",this.paragraphElement_=this.textarea_=this.foreignObject=this.onInputWrapper=this.onChangeWrapper=this.onWheelWrapper=this.onMouseUpWrapper=null,this.model=e.commentModel,this.model.text=null!=(t=this.model.text)?t:"",this.createIcon()}drawIcon_(e){F(uc.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),F(uc.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),F(uc.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)}createEditor(){this.foreignObject=F(uc.FOREIGNOBJECT,{x:kh.BORDER_WIDTH,y:kh.BORDER_WIDTH});const e=document.createElementNS(sl,"body");e.setAttribute("xmlns",sl),e.className="blocklyMinimalBody";const t=this.textarea_=document.createElementNS(sl,"textarea");let n;return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.getBlock().RTL?"RTL":"LTR"),t.value=null!=(n=this.model.text)?n:"",this.resizeTextarea(),e.appendChild(t),this.foreignObject.appendChild(e),this.onMouseUpWrapper=p(t,"focus",this,this.startEdit,!0),this.onWheelWrapper=p(t,"wheel",this,(function(e){e.stopPropagation()})),this.onChangeWrapper=p(t,"change",this,(function(e){this.cachedText!==this.model.text&&Ge(new(st(ou))(this.getBlock(),"comment",null,this.cachedText,this.model.text))})),this.onInputWrapper=p(t,"input",this,(function(e){this.model.text=t.value})),setTimeout(t.focus.bind(t),0),this.foreignObject}updateEditable(){super.updateEditable(),this.isVisible()&&(this.disposeBubble(),this.createBubble())}onBubbleResize(){this.isVisible()&&this.bubble_&&(this.model.size=this.bubble_.getBubbleSize(),this.resizeTextarea())}resizeTextarea(){if(this.textarea_&&this.foreignObject){var e=this.model.size,t=2*kh.BORDER_WIDTH,n=e.width-t;e=e.height-t,this.foreignObject.setAttribute("width",""+n),this.foreignObject.setAttribute("height",""+e),this.textarea_.style.width=n-4+"px",this.textarea_.style.height=e-4+"px"}}setVisible(e){e!==this.isVisible()&&(Ge(new(st(fu))(this.getBlock(),e,"comment")),(this.model.pinned=e)?this.createBubble():this.disposeBubble())}createBubble(){this.getBlock().isEditable()?this.createEditableBubble():this.createNonEditableBubble()}createEditableBubble(){const e=this.getBlock();this.bubble_=new kh(e.workspace,this.createEditor(),e.pathObject.svgPath,this.iconXY_,this.model.size.width,this.model.size.height),this.bubble_.setSvgId(e.id),this.bubble_.registerResizeEvent(this.onBubbleResize.bind(this)),this.applyColour()}createNonEditableBubble(){let e;this.paragraphElement_=kh.textToDom(null!=(e=this.model.text)?e:""),this.bubble_=kh.createNonEditableBubble(this.paragraphElement_,this.getBlock(),this.iconXY_),this.applyColour()}disposeBubble(){this.onMouseUpWrapper&&(g(this.onMouseUpWrapper),this.onMouseUpWrapper=null),this.onWheelWrapper&&(g(this.onWheelWrapper),this.onWheelWrapper=null),this.onChangeWrapper&&(g(this.onChangeWrapper),this.onChangeWrapper=null),this.onInputWrapper&&(g(this.onInputWrapper),this.onInputWrapper=null),this.bubble_&&(this.bubble_.dispose(),this.bubble_=null),this.paragraphElement_=this.foreignObject=this.textarea_=null}startEdit(e){let t;null!=(t=this.bubble_)&&t.promote()&&this.textarea_.focus(),this.cachedText=this.model.text}getBubbleSize(){return this.model.size}setBubbleSize(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model.size.width=e,this.model.size.height=t)}updateText(){if(this.textarea_){let e;this.textarea_.value=null!=(e=this.model.text)?e:""}else this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model.text)}dispose(){this.getBlock().comment=null,super.dispose()}};Vt("\n.blocklyCommentTextarea {\n  background-color: #fef49c;\n  border: 0;\n  display: block;\n  margin: 0;\n  outline: 0;\n  padding: 3px;\n  resize: none;\n  text-overflow: hidden;\n}\n");var Fd={};Fd.Comment=Pd;var Bd,Vd,Hd,$d=null,Wd={duplicateInternal:yr,copyInternal:mr},Ud={};Ud.TEST_ONLY=Wd,Ud.copy=gr,Ud.duplicate=vr,Ud.paste=_r,Bd=null,Vd={},Hd=null,e.module$build$src$core$contextmenu={},e.module$build$src$core$contextmenu.callbackFactory=Ir,e.module$build$src$core$contextmenu.commentDeleteOption=Or,e.module$build$src$core$contextmenu.commentDuplicateOption=Dr,e.module$build$src$core$contextmenu.dispose=Lr,e.module$build$src$core$contextmenu.getCurrentBlock=br,e.module$build$src$core$contextmenu.hide=xr,e.module$build$src$core$contextmenu.setCurrentBlock=wr,e.module$build$src$core$contextmenu.show=Cr,e.module$build$src$core$contextmenu.workspaceCommentOption=Nr;var zd=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let t;return null!=(t=this.registry_.get(e))?t:null}getContextMenuOptions(e,t){const n=[];for(const o of this.registry_.values())if(e===o.scopeType){var i=o.preconditionFn(t);"hidden"!==i&&(i={text:"function"===typeof o.displayText?o.displayText(t):o.displayText,enabled:"enabled"===i,callback:o.callback,scope:t,weight:o.weight},n.push(i))}return n.sort((function(e,t){return e.weight-t.weight})),n}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",e.registry=new e})(zd||(zd={}));var jd=zd.ScopeType,Gd={};Gd.ContextMenuRegistry=zd,Gd.ScopeType=jd;var Kd=30,qd=!0,Yd=[];Yd[yd.INPUT_VALUE]=yd.OUTPUT_VALUE,Yd[yd.OUTPUT_VALUE]=yd.INPUT_VALUE,Yd[yd.NEXT_STATEMENT]=yd.PREVIOUS_STATEMENT,Yd[yd.PREVIOUS_STATEMENT]=yd.NEXT_STATEMENT;var Xd="RENAME_VARIABLE_ID",Zd="DELETE_VARIABLE_ID",Jd={};Jd.COLLAPSE_CHARS=Kd,Jd.DELETE_VARIABLE_ID=Zd,Jd.DRAG_STACK=qd,Jd.OPPOSITE_TYPE=Yd,Jd.RENAME_VARIABLE_ID=Xd;var Qd=class{constructor(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"}setDrawer(e){this.drawer_=e}getDrawer(){return this.drawer_}getCurNode(){return this.curNode_}setCurNode(e){const t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)}draw(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)}hide(){this.drawer_&&this.drawer_.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},ep={};ep.Marker=Qd;var tp=class extends Qd{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===Id.types.NEXT||e.getType()===Id.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;let t,n;return e.getType()!==Id.types.PREVIOUS&&e.getType()!==Id.types.OUTPUT||(e=e.next()),(e=null!=(n=null==(t=e)?void 0:t.in())?n:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===Id.types.NEXT||e.getType()===Id.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===Id.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};Re(Wl.CURSOR,$l,tp);var np={};np.Cursor=tp;var ip=class extends tp{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):(e=this.findSiblingOrParent_(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)}getPreviousNode_(e,t){if(!e)return null;let n=e.prev();return n=n?this.getRightMostChild_(n):e.out(),t(n)?n:n?this.getPreviousNode_(n,t):null}validNode_(e){let t=!1;return e=e&&e.getType(),e!==Id.types.OUTPUT&&e!==Id.types.INPUT&&e!==Id.types.FIELD&&e!==Id.types.NEXT&&e!==Id.types.PREVIOUS&&e!==Id.types.WORKSPACE||(t=!0),t}findSiblingOrParent_(e){if(!e)return null;const t=e.next();return t||this.findSiblingOrParent_(e.out())}getRightMostChild_(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild_(e)}};ip.registrationName="basicCursor",Re(Wl.CURSOR,ip.registrationName,ip);var op={};op.BasicCursor=ip;var rp=class extends ip{validNode_(e){let t=!1;const n=e&&e.getType();return e&&(e=e.getLocation(),n===Id.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},sp={};sp.TabNavigateCursor=rp;var ap=10,lp=class extends wd{constructor(e,t){super(e,t),this.targetConnection=this.highlightPath=null,this.db_=e.workspace.connectionDBList[t],this.dbOpposite_=e.workspace.connectionDBList[Yd[t]],this.offsetInBlock_=new gl(0,0),this.trackedState_=lp.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState_===lp.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(t){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var i=!1;if(!n.isMovable()){if(n=t.getSourceBlock().getRootBlock(),!n.isMovable())return;t=this,i=!0}var o=k()==n;o||n.addSelect();var r=t.x+e.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*ap)-this.x,s=t.y+e.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*ap)-this.y;i&&(s=-s),n.RTL&&(r=t.x-e.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*ap)-this.x),n.moveBy(r,s),o||n.removeSelect()}}}moveTo(e,t){this.trackedState_===lp.TrackedState.WILL_TRACK?(this.db_.addConnection(this,t),this.trackedState_=lp.TrackedState.TRACKED):this.trackedState_===lp.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,t)),this.x=e,this.y=t}moveBy(e,t){this.moveTo(this.x+e,this.y+t)}moveToOffset(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)}setOffsetInBlock(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t}getOffsetInBlock(){return this.offsetInBlock_}tighten(){const e=this.targetConnection.x-this.x,t=this.targetConnection.y-this.y;if(0!==e||0!==t){const i=this.targetBlock();var n=i.getSvgRoot();if(!n)throw Error("block is not rendered.");n=$t(n),i.getSvgRoot().setAttribute("transform","translate("+(n.x-e)+","+(n.y-t)+")"),i.moveConnections(-e,-t)}}closest(e,t){return this.dbOpposite_.searchForClosest(this,e,t)}highlight(){if(!this.highlightPath){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),t=e.shapeFor(this);this.type===yd.INPUT_VALUE||this.type===yd.OUTPUT_VALUE?(e=e.TAB_OFFSET_FROM_TOP,t=mo(0,-e)+yo("v",e)+t.pathDown+yo("v",e)):(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS,t=mo(-e,0)+yo("h",e)+t.pathLeft+yo("h",e)),e=this.sourceBlock_.getRelativeToSurfaceXY(),this.highlightPath=F(uc.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())}}unhighlight(){this.highlightPath&&(W(this.highlightPath),this.highlightPath=null)}setTracking(e){e&&this.trackedState_===lp.TrackedState.TRACKED||!e&&this.trackedState_===lp.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=lp.TrackedState.TRACKED):(this.trackedState_===lp.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=lp.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const n=this.targetBlock().getDescendants(!1);for(let i=0;i<n.length;i++){var e=n[i],t=e.getConnections_(!0);for(let e=0;e<t.length;e++)t[e].setTracking(!1);for(e=e.getIcons(),t=0;t<e.length;t++)e[t].setVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==yd.INPUT_VALUE&&this.type!==yd.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let n;t.isCollapsed()?(n=[],t.outputConnection&&n.push(t.outputConnection),t.nextConnection&&n.push(t.nextConnection),t.previousConnection&&n.push(t.previousConnection)):n=t.getConnections_(!0);for(let t=0;t<n.length;t++)e.push(...n[t].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(t){const n=this.getSourceBlock();if(je()){const i=et();setTimeout(function(){n.isDisposed()||n.getParent()||(tt(i),this.bumpAwayFrom(t),tt(!1))}.bind(this),e.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal_(e,t){super.disconnectInternal_(e,t),e.rendered&&e.render(),t.rendered&&(t.updateDisabled(),t.render(),t.getSvgRoot().style.display="block")}respawnShadow_(){super.respawnShadow_();var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),e=this.getSourceBlock(),e.rendered&&e.render())}neighbours(e){return this.dbOpposite_.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock();const n=t.rendered,i=e.rendered;n&&t.updateDisabled(),i&&e.updateDisabled(),n&&i&&(this.type===yd.NEXT_STATEMENT||this.type===yd.PREVIOUS_STATEMENT?e.render():t.render()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(lp||(lp={}));var up=lp.TrackedState,cp={};cp.RenderedConnection=lp,cp.TrackedState=up;var hp=class extends Oh{constructor(e){super(e),this.paragraphElement=null,this.collapseHidden=!1,this.createIcon(),this.text=Object.create(null)}drawIcon_(e){F(uc.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),F(uc.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),F(uc.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)}setVisible(e){e!==this.isVisible()&&(Ge(new(st(fu))(this.getBlock(),e,"warning")),e?this.createBubble():this.disposeBubble())}createBubble(){this.paragraphElement=kh.textToDom(this.getText()),this.bubble_=kh.createNonEditableBubble(this.paragraphElement,this.getBlock(),this.iconXY_),this.applyColour()}disposeBubble(){this.bubble_&&(this.bubble_.dispose(),this.bubble_=null),this.paragraphElement=null}setText(e,t){this.text[t]!==e&&(e?this.text[t]=e:delete this.text[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))}getText(){const e=[];for(const t in this.text)e.push(this.text[t]);return e.join("\n")}dispose(){this.getBlock().warning=null,super.dispose()}},dp={};dp.Warning=hp;var pp=class extends Dd{constructor(e,t,n){super(e,t,n),this.renderingDebugger=null,this.width=this.height=0,this.warningTextDb=new Map,this.warning=this.commentIcon_=this.mutator=null,this.eventsInit_=this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.decompose=this.decompose,this.compose=this.compose,this.saveConnections=this.saveConnections,this.customContextMenu=this.customContextMenu,this.svgGroup_=F(uc.G,{}),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.useDragSurface_=!!e.getBlockDragSurface(),e=this.pathObject.svgPath,e.tooltip=this,Fn(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(let t,n=0;t=this.inputList[n];n++)t.init();var e=this.getIcons();for(let t=0;t<e.length;t++)e[t].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||p(e,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(k()!==this){var e=null;if(k()){e=k().id,Ze();try{k().unselect()}finally{Je()}}e=new(st(hu))(e,this.id,this.workspace.id),Ge(e),x(this),this.addSelect()}}unselect(){if(k()===this){var e=new(st(hu))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,Ge(e),x(null),this.removeSelect()}}getIcons(){const e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e}setParent(e){const t=this.parentBlock_;if(e!==t){G(),super.setParent(e),K();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var i=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(n),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-i.x,e.y-i.y)):t&&(this.workspace.getCanvas().appendChild(n),this.translate(i.x,i.y)),this.applyColour()}}}getRelativeToSurfaceXY(){let e=0,t=0;const n=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null;let i=this.getSvgRoot();if(i)do{var o=$t(i);e+=o.x,t+=o.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()===i&&(o=this.workspace.getBlockDragSurface().getSurfaceTranslation(),e+=o.x,t+=o.y),i=i.parentNode}while(i&&i!==this.workspace.getCanvas()&&i!==n);return new gl(e,t)}moveBy(e,t){if(this.parentBlock_)throw Error("Block has parent.");const n=Qe();let i=null;n&&(i=new(st(ru))(this));const o=this.getRelativeToSurfaceXY();this.translate(o.x+e,o.y+t),this.moveConnections(e,t),n&&i&&(i.recordNew(),Ge(i)),this.workspace.resizeContents()}translate(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveToDragSurface(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}}moveTo(e){const t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)}moveOffDragSurface(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))}moveDuringDrag(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))}clearTransformAttributes_(){this.getSvgRoot().removeAttribute("transform")}snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,i=this.getRelativeToSurfaceXY();e=Math.round(Math.round((i.x-n)/t)*t+n-i.x),t=Math.round(Math.round((i.y-n)/t)*t+n-i.y),(e||t)&&this.moveBy(e,t)}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();let n,i;return this.RTL?(n=e.x-t.width,i=e.x):(n=e.x,i=e.x+t.width),new pl(e.y,e.y+t.height,n,i)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e,t=0;e=this.inputList[t];t++)e.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),e?this.rendered&&this.render():this.updateCollapsed_())}updateCollapsed_(){var t=this.isCollapsed();const n=Sd,i=Ed;for(let e,r=0;e=this.inputList[r];r++)e.name!==n&&e.setVisible(!t);if(t){t=this.getIcons();for(let e,n=0;e=t[n];n++)e.setVisible(!1);t=this.toString(Kd);var o=this.getField(i);o?o.setValue(t):(this.getInput(n)||this.appendDummyInput(n)).appendField(new e.FieldLabel$$module$build$src$core$field_label(t),i)}else this.updateDisabled(),this.removeInput(n)}tab(e,t){const n=new rp;n.setCurNode(Id.createFieldNode(e)),e=n.getCurNode(),t?n.next():n.prev(),(t=n.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e="function"===typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=zd.registry.getContextMenuOptions(zd.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(Cr(e,t,this.RTL),wr(this))}moveConnections(e,t){if(this.rendered){for(var n=this.getConnections_(!1),i=0;i<n.length;i++)n[i].moveBy(e,t);for(n=this.getIcons(),i=0;i<n.length;i++)n[i].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections(e,t)}}setDragging(e){if(e){var t=this.getSvgRoot();t.translate_="",t.skew_="",el.push(...this.getConnections_(!0)),B(this.svgGroup_,"blocklyDragging")}else el.length=0,H(this.svgGroup_,"blocklyDragging");for(t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,t){if(!this.isDeadOrDying()){Wn(),Bn(this.pathObject.svgPath),G();var n=this.workspace;for(var i of(k()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),br()===this&&xr(),t&&this.rendered&&(this.unplug(e),lr(this)),this.rendered=!1,this.warningTextDb.values()))clearTimeout(i);for(this.warningTextDb.clear(),t=this.getIcons(),i=0;i<t.length;i++)t[i].dispose();k()===this&&x(null),super.dispose(!!e),W(this.svgGroup_),n.resizeContents(),this.svgGroup_=null,K()}}checkAndDelete(){this.workspace.isFlyout||(tt(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),tt(!1))}toCopyData(){return this.isInsertionMarker_?null:{saveInfo:Po(this,{addCoordinates:!0,addNextBlocks:!1}),source:this.workspace,typeCounts:D(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let t,n=0;t=this.inputList[n];n++)for(let e,i=0;e=t.fieldRow[i];i++)e.applyColour()}updateDisabled(){const e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(let t,n=0;t=e[n];n++)t.rendered&&t.updateDisabled()}getCommentIcon(){return this.commentIcon_}setCommentText(e){this.commentModel.text!==e&&(super.setCommentText(e),e=null!==e,!!this.commentIcon_===e?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new Pd(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))}setWarningText(e,t){const n=t||"";if(n)this.warningTextDb.has(n)&&(clearTimeout(this.warningTextDb.get(n)),this.warningTextDb.delete(n));else{for(var i of this.warningTextDb.values())clearTimeout(i);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(n,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(n),this.setWarningText(e,n))},100));else{if(this.isInFlyout&&(e=null),t=!1,"string"===typeof e){i=this.getSurroundParent();let o=null;for(;i;)i.isCollapsed()&&(o=i),i=i.getSurroundParent();o&&o.setWarningText(Pu.COLLAPSED_WARNINGS_WARNING,pp.COLLAPSED_WARNING_ID),this.warning||(this.warning=new hp(this),t=!0),this.warning.setText(e,n)}else this.warning&&!n?(this.warning.dispose(),t=!0):this.warning&&(t=this.warning.getText(),this.warning.setText("",n),(i=this.warning.getText())||this.warning.dispose(),t=t!==i);t&&this.rendered&&(this.render(),this.bumpNeighbours())}}setMutator(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())}setEnabled(e){this.isEnabled()!==e&&(super.setEnabled(e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}setHighlighted(e){this.rendered&&this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()}bringToFront(){let e=this;do{const t=e.getSvgRoot(),n=t.parentNode,i=n.childNodes;i[i.length-1]!==t&&n.appendChild(t),e=e.getParent()}while(e)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}setNextStatement(e,t){super.setNextStatement(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}setOutput(e,t){super.setOutput(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}setInputsInline(e){super.setInputsInline(e),this.rendered&&(this.render(),this.bumpNeighbours())}removeInput(e,t){return e=super.removeInput(e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.rendered&&(this.render(),this.bumpNeighbours())}appendInput_(e,t){return e=super.appendInput_(e,t),this.rendered&&(this.render(),this.bumpNeighbours()),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}}getConnections_(e){const t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_))for(let n,i=0;n=this.inputList[i];i++)n.connection&&t.push(n.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new lp(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){this.getRootBlock().bumpNeighboursInternal()}bumpNeighboursInternal(){const t=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||t.isInFlyout))for(const n of this.getConnections_(!1)){if(n.isSuperior()){let e;null==(e=n.targetBlock())||e.bumpNeighboursInternal()}for(const i of n.neighbours(e.config$$module$build$src$core$config.snapRadius))i.getSourceBlock().getRootBlock()!==t&&(n.isConnected()&&i.isConnected()||(n.isSuperior()?i.bumpAwayFrom(n):n.bumpAwayFrom(i)))}}scheduleSnapAndBump(){const t=et();setTimeout(()=>{tt(t),this.snapToGrid(),tt(!1)},e.config$$module$build$src$core$config.bumpDelay/2),setTimeout(()=>{tt(t),this.bumpNeighbours(),tt(!1)},e.config$$module$build$src$core$config.bumpDelay)}positionNearConnection(e,t){e.type!==yd.NEXT_STATEMENT&&e.type!==yd.INPUT_VALUE||this.moveBy(t.x-e.x,t.y-e.y)}getFirstStatementConnection(){return super.getFirstStatementConnection()}getChildren(e){return super.getChildren(e)}render(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,G(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){const e=this.getParent();e?e.render(!0):this.workspace.resizeContents()}K(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Ec.LOCAL_MARKER).draw()}updateConnectionLocations_(){const e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(let t=0;t<this.inputList.length;t++){const n=this.inputList[t].connection;n&&(n.moveToOffset(e),n.isConnected()&&n.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var n=this.getNextBlock();if(n){n=n.getHeightWidth();const i=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-i,t=Math.max(t,n.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}};pp.INLINE=-1,pp.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var fp={};fp.BlockSvg=pp;var gp=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},mp={};mp.DragTarget=gp;var _p,vp,yp,bp=class extends gp{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e,t){return e instanceof pp?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},wp={};wp.DeleteArea=bp,function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(_p||(_p={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(vp||(vp={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(yp||(yp={}));var Cp={};Cp.bumpDirection=yp,Cp.bumpPositionRect=Mr,Cp.getCornerOppositeToolbox=Ar,Cp.getStartPositionRect=Rr,Cp.horizontalPosition=vp,Cp.verticalPosition=_p;var Sp={width:96,height:124,url:"sprites.png"},Ep={};Ep.SPRITE=Sp;var Tp=class extends bp{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents_=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness_=0,this.lidTask_=this.svgLid_=this.svgGroup_=null,this.top_=this.left_=this.lidOpen_=0,this.initialized_=!1,0>=this.workspace.options.maxTrashcanContents||(e=new jh({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Vh.TOP?Vh.BOTTOM:Vh.TOP,this.flyout=new($e(Wl.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Vh.RIGHT?Vh.LEFT:Vh.RIGHT,this.flyout=new($e(Wl.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete_.bind(this)))}createDom(){let e;this.svgGroup_=F(uc.G,{class:"blocklyTrash"});const t=String(Math.random()).substring(2);e=F(uc.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_),F(uc.RECT,{width:kp,height:xp,y:Lp},e);const n=F(uc.IMAGE,{width:Sp.width,x:-Np,height:Sp.height,y:-Rp,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return n.setAttributeNS(al,"xlink:href",this.workspace.options.pathToMedia+Sp.url),e=F(uc.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),F(uc.RECT,{width:kp,height:Lp},e),this.svgLid_=F(uc.IMAGE,{width:Sp.width,x:-Np,height:Sp.height,y:-Rp,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(al,"xlink:href",this.workspace.options.pathToMedia+Sp.url),f(this.svgGroup_,"pointerdown",this,this.blockMouseDownWhenOpenable_),f(this.svgGroup_,"pointerup",this,this.click),f(n,"pointerover",this,this.mouseOver_),f(n,"pointerout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_}init(){0<this.workspace.options.maxTrashcanContents&&(U(this.flyout.createDom(uc.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[td.Capability.AUTOHIDEABLE,td.Capability.DELETE_AREA,td.Capability.DRAG_TARGET,td.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(W(this.svgGroup_),this.svgGroup_=null),this.svgLid_=null,this.lidTask_&&clearTimeout(this.lidTask_)}hasContents_(){return!!this.contents_.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents_.map((function(e){return JSON.parse(e)})),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let n;null==(n=this.flyout)||n.show(e),t.cursor=""},10),this.fireUiEvent_(!0)}}closeFlyout(){var e;this.contentsIsOpen()&&(null==(e=this.flyout)||e.hide(),this.fireUiEvent_(!1),this.workspace.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())}position(e,t){if(this.initialized_){var n,i=Ar(this.workspace,e);e=Rr(i,new _l(kp,xp+Lp),Op,Ip,e,this.workspace),t=Mr(e,Ip,i.vertical===_p.TOP?yp.DOWN:yp.UP,t),this.top_=t.top,this.left_=t.left,null==(n=this.svgGroup_)||n.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}getBoundingRectangle(){return new pl(this.top_,this.top_+xp+Lp,this.left_,this.left_+kp)}getClientRect(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect();const t=e.top+Rp-Dp;return e=e.left+Np-Dp,new pl(t,t+Lp+xp+2*Dp,e,e+kp+2*Dp)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask_&&clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())}animateLid_(){const e=Pp;var t=1/(e+1);this.lidOpen_+=this.isLidOpen?t:-t,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*Vp),t=Fp+this.lidOpen_*(Bp-Fp),this.svgGroup_&&(this.svgGroup_.style.opacity=t.toString()),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),Mp/e))}setLidAngle_(e){const t=this.workspace.toolboxPosition===Vh.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let n;null==(n=this.svgLid_)||n.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:kp-4)+","+(Lp-2)+")")}setMinOpenness_(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*Vp)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents_()&&this.openFlyout()}fireUiEvent_(e){e=new(st(gu))(e,this.workspace.id),Ge(e)}blockMouseDownWhenOpenable_(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()}mouseOver_(){this.hasContents_()&&this.setLidOpen(!0)}mouseOut_(){this.setLidOpen(!1)}onDelete_(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==iu||e.type!==iu||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson_(e.oldJson)),-1===this.contents_.indexOf(e)){for(this.contents_.unshift(e);this.contents_.length>this.workspace.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(Ap)}}}cleanBlockJson_(e){function t(e){if(e){if(delete e.id,delete e.x,delete e.y,delete e.enabled,e.icons&&e.icons.comment){var n=e.icons.comment;delete n.height,delete n.width,delete n.pinned}for(var i in n=e.inputs,n){var o=n[i];const e=o.block;o=o.shadow,e&&t(e),o&&t(o)}e.next&&(i=e.next,e=i.block,i=i.shadow,e&&t(e),i&&t(i))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},kp=47,xp=44,Lp=16,Ip=20,Op=20,Dp=10,Np=0,Rp=32,Ap=.1,Mp=80,Pp=4,Fp=.4,Bp=.8,Vp=45,Hp={};Hp.Trashcan=Tp;var $p=class extends nc{constructor(e,t,n){super(n),this.type=mu,this.oldItem=null!=e?e:void 0,this.newItem=null!=t?t:void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}fromJson(e){t("Blockly.Events.ToolboxItemSelect.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldItem=e.oldItem,this.newItem=e.newItem}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new $p),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};Re(Wl.EVENT,mu,$p);var Wp={};Wp.ToolboxItemSelect=$p;var Up=class{constructor(e,t,n){this.id_=e.toolboxitemid||We(),this.level_=(this.parent_=n||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},zp={};zp.ToolboxItem=Up;var jp=class extends Up{constructor(e,t,n){super(e,t,n),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),"true"===this.toolboxItemDef_.hidden&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(n)}}parseCategoryDef_(e){this.name_="name"in e?li(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),ki(this.htmlDiv_,ah.TREEITEM),xi(this.htmlDiv_,lh.SELECTED,!1),xi(this.htmlDiv_,lh.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),ki(this.iconDom_,ah.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&xi(this.htmlDiv_,lh.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&B(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&B(e,t),t=jp.nestedPadding*this.getLevel()+"px",this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&B(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&B(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&B(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=jp.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle_(t);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(e=li(e),null==e||""===e)return"";var t=Number(e);return isNaN(t)?(t=ei(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):ri(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&V(e,t),(t=this.cssConfig_.openicon)&&B(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&V(e,t),(t=this.cssConfig_.closedicon)&&B(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const e=this.parseColour_(jp.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||e,t&&B(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&H(this.rowDiv_,t);xi(this.htmlDiv_,lh.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",""+e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_="string"===typeof e?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Bi(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){W(this.htmlDiv_)}};jp.registrationName="category",jp.nestedPadding=19,jp.borderWidth=8,jp.defaultBackgroundColour="#57e",Vt('\n.blocklyTreeRow:not(.blocklyTreeSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyTreeRow {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyTreeIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyTreeIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyTreeIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyTreeLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyTreeLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyTreeSelected .blocklyTreeLabel {\n  color: #fff;\n}\n'),Re(Wl.TOOLBOX_ITEM,jp.registrationName,jp);var Gp={};Gp.ToolboxCategory=jp;var Kp=class extends Up{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&B(e,t),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){W(this.htmlDiv_)}};Kp.registrationName="sep",Vt('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n'),Re(Wl.TOOLBOX_ITEM,Kp.registrationName,Kp);var qp={};qp.ToolboxSeparator=Kp;var Yp=class extends jp{constructor(e,t,n){super(e,t,n),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){const t=e.contents;let n=!0;if(e.custom)this.flyoutItems_=e.custom;else if(t)for(e=0;e<t.length;e++){const i=t[e];!Fe(Wl.TOOLBOX_ITEM,i.kind)||i.kind.toLowerCase()===Kp.registrationName&&n?(this.flyoutItems_.push(i),n=!0):(this.createToolboxItem_(i),n=!1)}}createToolboxItem_(e){let t=e.kind;"CATEGORY"===t.toUpperCase()&&$i(e)&&(t=Yp.registrationName),e=new(Be(Wl.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded("true"===this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),ki(this.subcategoriesDiv_,ah.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&B(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");var n=this.cssConfig_.contents;for(n&&B(t,n),n=0;n<e.length;n++){const i=e[n];i.init();const o=i.getDiv();if(t.appendChild(o),i.getClickTarget){let e;null==(e=i.getClickTarget())||e.setAttribute("id",i.getId())}}return t}setExpanded(e){this.expanded_!==e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),xi(this.htmlDiv_,lh.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let n=0;n<t.length;n++)t[n].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};Yp.registrationName="collapsibleCategory",Re(Wl.TOOLBOX_ITEM,Yp.registrationName,Yp);var Xp={};Xp.CollapsibleToolboxCategory=Yp;var Zp=class extends bp{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),U(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[td.Capability.AUTOHIDEABLE,td.Capability.DELETE_AREA,td.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,ki(this.contentsDiv_,ah.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),B(e,"blocklyToolboxDiv"),B(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return B(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=p(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=p(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(_(e)||e.target===this.HtmlDiv)E().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),E().hideChaff(!0)}r()}onKeyDown_(e){let t=!1;switch(e.keyCode){case hh.DOWN:t=this.selectNext_();break;case hh.UP:t=this.selectPrevious_();break;case hh.LEFT:t=this.selectParent_();break;case hh.RIGHT:t=this.selectChild_();break;case hh.ENTER:case hh.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}if(!t&&this.selectedItem_){const n=this.selectedItem_;n.onKeyDown&&(t=n.onKeyDown(e))}t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new jh({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?$e(Wl.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):$e(Wl.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let t=0;t<this.contents_.length;t++){const e=this.contents_[t];e&&e.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let n=0;n<e.length;n++)this.createToolboxItem_(e[n],t);this.contentsDiv_.appendChild(t)}createToolboxItem_(e,t){var n=e.kind;"CATEGORY"===n.toUpperCase()&&$i(e)&&(n=Yp.registrationName),(n=Be(Wl.TOOLBOX_ITEM,n.toLowerCase()))&&(e=new n(e,this),e.init(),this.addToolboxItem_(e),(n=e.getDiv())&&t.appendChild(n),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&B(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&H(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,n=t+e.height,i=e.left;return e=i+e.width,this.toolboxPosition===Vh.TOP?new pl(-1e7,n,-1e7,1e7):this.toolboxPosition===Vh.BOTTOM?new pl(t,1e7,-1e7,1e7):this.toolboxPosition===Vh.LEFT?new pl(-1e7,1e7,-1e7,e):new pl(-1e7,1e7,i,1e7)}wouldDelete(e,t){return e instanceof pp?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Vh.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Vh.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Vh.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===Vh.TOP?e.scrollY+t.height:e.scrollY),O(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!e.isSelectable()||(this.shouldDeselectItem_(t,e)&&null!==t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!==e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))}shouldDeselectItem_(e,t){return null!==e&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return null!==t&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),xi(this.contentsDiv_,lh.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),xi(this.contentsDiv_,lh.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,t){const n=e&&e.getName();let i=t&&t.getName();e===t&&(i=null),e=new(st(mu))(n,i,this.workspace_.id),Ge(e)}selectParent_(){return!!this.selectedItem_&&(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):!(!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable())&&(this.setSelectedItem(this.selectedItem_.getParent()),!0))}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)g(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),W(this.HtmlDiv)}};Vt('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolboxDiv {\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxContents {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxContents:focus {\n  outline: none;\n}\n'),Re(Wl.TOOLBOX,$l,Zp);var Jp={};Jp.Toolbox=Zp;var Qp={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},ef={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},tf=new Rh("zelos",Qp,ef),nf={};nf.Zelos=tf;var of={};of.Classic=Fh,of.Zelos=tf;var rf,sf=class extends nc{constructor(e,t,n){t=e?e.workspace.id:t,null===t&&(t=void 0),super(t),this.type=du,this.blockId=e?e.id:void 0,this.targetType=n}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}fromJson(e){t("Blockly.Events.Click.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.targetType=e.targetType,this.blockId=e.blockId}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new sf),t.targetType=e.targetType,t.blockId=e.blockId,t}};(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(rf||(rf={})),Re(Wl.EVENT,du,sf);var af={};af.Click=sf,af.ClickTarget=rf;var lf=class{constructor(e,t){this.bubble=e,this.workspace=t,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY(),this.dragSurface_=t.getBlockDragSurface()}startBubbleDrag(){et()||tt(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout(!1),this.dragSurface_&&(this.bubble.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.bubble.getSvgRoot())),this.bubble.setDragging&&this.bubble.setDragging(!0)}dragBubble(e,t){t=this.pixelsToWorkspaceUnits_(t),t=gl.sum(this.startXY_,t),this.bubble.moveDuringDrag(this.dragSurface_,t),t=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}shouldDelete_(e){return!(!e||!this.workspace.getComponentManager().hasCapability(e.id,td.Capability.DELETE_AREA))&&e.wouldDelete(this.bubble,!1)}updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}endBubbleDrag(e,t){this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=gl.sum(this.startXY_,e)),this.bubble.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.bubble.dispose()):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace.getBubbleCanvas()),this.bubble.setDragging&&this.bubble.setDragging(!1),this.fireMoveEvent_()),this.workspace.setResizesEnabled(!0),tt(!1)}fireMoveEvent_(){if(this.bubble instanceof vc){const e=new(st(Cu))(this.bubble);e.setOldCoordinate(this.startXY_),e.recordNew(),Ge(e)}}pixelsToWorkspaceUnits_(e){return e=new gl(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}},uf={};uf.BubbleDragger=lf;var cf=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new gl(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){k()&&k().unselect(),this.workspace.setupDragSurface()}endDrag(e){this.drag(e),this.workspace.resetDragSurface()}drag(e){if(e=gl.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace.scroll(this.workspace.scrollX,e.y)}}},hf={};hf.WorkspaceDragger=cf;var df=5,pf=6,ff=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY_=new gl(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.hasExceededDragRadius_=!1,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isMultiTouch_=this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.cachedPoints=new Map,this.startDistance_=this.previousScale_=0,this.currentDropdownOwner=this.isPinchZoomEnabled_=this.onStartWrapper_=null,this.mostRecentEvent_=e,this.currentDragDeltaXY_=new gl(0,0),this.healStack_=!qd}dispose(){r(),jn(),this.creatorWorkspace.clearGesture(),this.onMoveWrapper_&&g(this.onMoveWrapper_),this.onUpWrapper_&&g(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.onStartWrapper_&&g(this.onStartWrapper_)}updateFromEvent_(e){const t=new gl(e.clientX,e.clientY);this.updateDragDelta_(t)&&(this.updateIsDragging_(),o()),this.mostRecentEvent_=e}updateDragDelta_(t){return this.currentDragDeltaXY_=gl.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=gl.magnitude(this.currentDragDeltaXY_)>(this.flyout_?e.config$$module$build$src$core$config.flyoutDragRadius:e.config$$module$build$src$core$config.dragRadius))}updateIsDraggingFromFlyout_(){let e;if(!this.targetBlock_||null==(e=this.flyout_)||!e.isBlockCreatable(this.targetBlock_))return!1;if(!this.flyout_.targetWorkspace)throw Error("Cannot update dragging from the flyout because the ' +\n          'flyout's target workspace is undefined");return!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),et()||tt(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0)}updateIsDraggingBubble_(){return!!this.startBubble_&&(this.startDraggingBubble_(),!0)}updateIsDraggingBlock_(){if(!this.targetBlock_)return!1;if(this.flyout_){if(this.updateIsDraggingFromFlyout_())return this.startDraggingBlock_(),!0}else if(this.targetBlock_.isMovable())return this.startDraggingBlock_(),!0;return!1}updateIsDraggingWorkspace_(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new cf(this.startWorkspace_),this.workspaceDragger_.startDrag())}updateIsDragging_(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()}startDraggingBlock_(){this.blockDragger_=new($e(Wl.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)}startDraggingBubble_(){if(!this.startBubble_)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger_=new lf(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,m(e)?this.cancel():(this.hasStarted_=!0,fr(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=pe(),this.startWorkspace_.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,zn(),this.targetBlock_&&this.targetBlock_.select(),_(e)?this.handleRightClick(e):("pointerdown"===e.type.toLowerCase()&&"mouse"!==e.pointerType&&i(e,this),this.mouseDownXY_=new gl(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.onStartWrapper_=p(document,"pointerdown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=p(document,"pointermove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=p(document,"pointerup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&o())}handleMove(e){this.isDragging()&&s(e)||!this.isMultiTouch()?(this.updateFromEvent_(e),this.workspaceDragger_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.bubbleDragger_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),o())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!s(e))return;if(this.updateFromEvent_(e),o(),this.isEnding_)return void console.log("Trying to end a gesture recursively.");this.isEnding_=!0,this.bubbleDragger_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.endDrag(e,this.currentDragDeltaXY_):this.workspaceDragger_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e)}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=a(e);this.cachedPoints.set(t,this.getTouchPoint(e));var n=Array.from(this.cachedPoints.keys());2===n.length&&(t=this.cachedPoints.get(n[0]),n=this.cachedPoints.get(n[1]),this.startDistance_=gl.distance(t,n),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const t=a(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled_&&2===this.cachedPoints.size?this.handlePinch_(e):this.handleMove(e)}handlePinch_(e){var t=Array.from(this.cachedPoints.keys()),n=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),n=gl.distance(n,t)/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){if(t=n-this.previousScale_,t=0<t?t*df:t*pf,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const i=this.startWorkspace_,o=v(e,i.getParentSvg(),i.getInverseScreenCTM());i.zoom(o.x,o.y,t)}this.previousScale_=n,e.preventDefault()}handleTouchEnd(e){e=a(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale_=0)}getTouchPoint(e){return this.startWorkspace_?new gl(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(o(),this.bubbleDragger_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.blockDragger_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.workspaceDragger_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())}handleRightClick(e){this.targetBlock_?(this.bringBlockToFront_(),this.targetBlock_.workspace.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e)}fireWorkspaceClick_(e){Ge(new(st(du))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e}handleBubbleStart(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e}doBubbleClick_(){this.startBubble_ instanceof vc&&(this.startBubble_.setFocus(),this.startBubble_.select())}doFieldClick_(){if(!this.startField_)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField_&&this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()}doBlockClick_(){if(this.flyout_&&this.flyout_.autoClose){if(!this.targetBlock_)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock_.isEnabled()&&(et()||tt(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");const e=new(st(du))(this.startBlock_,this.startWorkspace_.id,"block");Ge(e)}this.bringBlockToFront_(),tt(!1)}doWorkspaceClick_(e){e=this.creatorWorkspace,k()&&k().unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)}bringBlockToFront_(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()}setStartField(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)}setStartBubble(e){this.startBubble_||(this.startBubble_=e)}setStartBlock(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))}setTargetBlock_(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e}setStartWorkspace_(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout_(e){this.flyout_||(this.flyout_=e)}isBubbleClick_(){return!!this.startBubble_&&!this.hasExceededDragRadius_}isBlockClick_(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()}isFieldClick_(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)}isWorkspaceClick_(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_}isDragging(){return!!this.workspaceDragger_||!!this.blockDragger_||!!this.bubbleDragger_}hasStarted(){return this.hasStarted_}getInsertionMarkers(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]}getCurrentDragger(){let e,t;return null!=(t=null!=(e=this.blockDragger_)?e:this.workspaceDragger_)?t:this.bubbleDragger_}static inProgress(){const e=w();for(let t,n=0;t=e[n];n++)if(t.currentGesture_)return!0;return!1}},gf={};gf.Gesture=ff;var mf=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(t=e.keyCodes)&&0<t.length)for(let n=0;n<t.length;n++)this.addKeyMapping(t[n],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,n){e=String(e);const i=this.keyMap.get(e);if(i&&!n)throw Error(`Shortcut named "${t}" collides with shortcuts "${i}"`);i&&n?i.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,n){const i=this.keyMap.get(e);if(!i)return n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const o=i.indexOf(t);return-1<o?(i.splice(o,1),0===i.length&&this.keyMap.delete(e),!0):(n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,n]of this.keyMap)e[t]=n;return e}getRegistry(){const e=Object.create(null);for(const[t,n]of this.shortcuts)e[t]=n;return Ai(Object.create(null),e)}onKeyDown(e,t){var n=this.serializeKeyEvent_(t);if(n=this.getShortcutNamesByKeyCode(n),!n)return!1;for(let i,o=0;i=n[o];o++){const n=this.shortcuts.get(i);let o,r;if(null==(o=n)||!o.preconditionFn||null!=(r=n)&&r.preconditionFn(e)){let i,o;if(null!=(i=n)&&i.callback&&null!=(o=n)&&o.callback(e,t,n))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[n,i]of this.keyMap)-1<i.indexOf(e)&&t.push(n);return t}serializeKeyEvent_(e){let t="";for(const n in mf.modifierKeys)e.getModifierState(n)&&(""!==t&&(t+="+"),t+=n);return""!==t&&e.keyCode?t=t+"+"+e.keyCode:e.keyCode&&(t=e.keyCode.toString()),t}checkModifiers_(e){for(let t,n=0;t=e[n];n++)if(!(t in mf.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let n="";if(t){this.checkModifiers_(t);for(const e in mf.modifierKeys)-1<t.indexOf(mf.modifierKeys[e])&&(""!==n&&(n+="+"),n+=e)}return""!==n&&e?n=n+"+"+e:e&&(n=e.toString()),n}};mf.registry=new mf,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(mf||(mf={}));var _f,vf={};vf.ShortcutRegistry=mf,function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"}(_f||(_f={})),Ur();var yf={};yf.names=_f,yf.registerCopy=Br,yf.registerCut=Vr,yf.registerDefaultShortcuts=Ur,yf.registerDelete=Fr,yf.registerEscape=Pr,yf.registerPaste=Hr,yf.registerRedo=Wr,yf.registerUndo=$r;var bf=class extends nc{constructor(e,t){super(t),this.type=_u,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}fromJson(e){t("Blockly.Events.ThemeChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.themeName=e.themeName}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new bf),t.themeName=e.themeName,t}};Re(Wl.EVENT,_u,bf);var wf={};wf.ThemeChange=bf;var Cf=class extends nc{constructor(e,t,n,i,o){super(i),this.type=vu,this.viewTop=e,this.viewLeft=t,this.scale=n,this.oldScale=o}toJson(){const e=super.toJson();if(void 0===this.viewTop)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.viewLeft)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.scale)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.oldScale)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}fromJson(e){t("Blockly.Events.Viewport.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Cf),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};Re(Wl.EVENT,vu,Cf);var Sf={};Sf.ViewportChange=Cf;var Ef=class{constructor(e){this.connectionChecker=e,this.connections_=[]}addConnection(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)}findIndexOfConnection_(e,t){if(!this.connections_.length)return-1;const n=this.calculateIndexForYPos_(t);if(n>=this.connections_.length)return-1;t=e.y;let i=n;for(;0<=i&&this.connections_[i].y===t;){if(this.connections_[i]===e)return i;i--}for(i=n;i<this.connections_.length&&this.connections_[i].y===t;){if(this.connections_[i]===e)return i;i++}return-1}calculateIndexForYPos_(e){if(!this.connections_.length)return 0;let t=0,n=this.connections_.length;for(;t<n;){const i=Math.floor((t+n)/2);if(this.connections_[i].y<e)t=i+1;else{if(!(this.connections_[i].y>e)){t=i;break}n=i}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection_(e,t),-1===e)throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)}getNeighbours(e,t){function n(e){const n=o-i[e].x,s=r-i[e].y;return Math.sqrt(n*n+s*s)<=t&&l.push(i[e]),s<t}const i=this.connections_,o=e.x,r=e.y;e=0;let s=i.length-2,a=s;for(;e<a;)i[a].y<r?e=a:s=a,a=Math.floor((e+s)/2);const l=[];if(s=e=a,i.length){for(;0<=e&&n(e);)e--;do{s++}while(s<i.length&&n(s))}return l}isInYRange_(e,t,n){return Math.abs(this.connections_[e].y-t)<=n}searchForClosest(e,t,n){if(!this.connections_.length)return{connection:null,radius:t};const i=e.y,o=e.x;e.x=o+n.x,e.y=i+n.y;var r=this.calculateIndexForYPos_(e.y);n=null;let s,a=t,l=r-1;for(;0<=l&&this.isInYRange_(l,e.y,t);)s=this.connections_[l],this.connectionChecker.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),l--;for(;r<this.connections_.length&&this.isInYRange_(r,e.y,t);)s=this.connections_[r],this.connectionChecker.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),r++;return e.x=o,e.y=i,{connection:n,radius:a}}static init(e){const t=[];return t[yd.INPUT_VALUE]=new Ef(e),t[yd.OUTPUT_VALUE]=new Ef(e),t[yd.NEXT_STATEMENT]=new Ef(e),t[yd.PREVIOUS_STATEMENT]=new Ef(e),t}},Tf={};Tf.ConnectionDB=Ef;var kf=class{constructor(e,t){let n,i,o;this.pattern=e,this.spacing=null!=(n=t.spacing)?n:0,this.length=null!=(i=t.length)?i:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling,this.snapToGrid=null!=(o=t.snap)&&o}shouldSnap(){return this.snapToGrid}getSpacing(){return this.spacing}getPatternId(){return this.pattern.id}update(e){var t=this.spacing*e||100;this.pattern.setAttribute("width",t.toString()),this.pattern.setAttribute("height",t.toString()),t=Math.floor(this.spacing/2)+.5;let n=t-this.length/2,i=t+this.length/2;t*=e,n*=e,i*=e,this.setLineAttributes(this.line1,e,n,i,t,t),this.setLineAttributes(this.line2,e,t,t,n,i)}setLineAttributes(e,t,n,i,o,r){e&&(e.setAttribute("stroke-width",t.toString()),e.setAttribute("x1",n.toString()),e.setAttribute("y1",o.toString()),e.setAttribute("x2",i.toString()),e.setAttribute("y2",r.toString()))}moveTo(e,t){this.pattern.setAttribute("x",e.toString()),this.pattern.setAttribute("y",t.toString())}static createDom(e,t,n){let i,o;if(e=F(uc.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<(null!=(i=t.length)?i:1)&&0<(null!=(o=t.spacing)?o:0)){let n;F(uc.LINE,{stroke:t.colour},e),null!=(n=t.length)&&n&&F(uc.LINE,{stroke:t.colour},e)}else F(uc.LINE,{},e);return e}},xf={};xf.Grid=kf;var Lf=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap_=null,this.variablePrefix_=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap_=null}setVariableMap(e){this.variableMap_=e}getNameForUserVariable_(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)}populateVariables(t){t=Ct(t);for(let n=0;n<t.length;n++)this.getName(t[n].getId(),e.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(t,n){let i=t;n===e.NameType$$module$build$src$core$names.VARIABLE&&(t=this.getNameForUserVariable_(t))&&(i=t),t=i.toLowerCase();const o=n===e.NameType$$module$build$src$core$names.VARIABLE||n===e.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix_:"";this.db.has(n)||this.db.set(n,new Map);const r=this.db.get(n);return r.has(t)?o+r.get(t):(n=this.getDistinctName(i,n),r.set(t,n.substr(o.length)),n)}getUserNames(e){let t;return(e=null==(t=this.db.get(e))?void 0:t.keys())?Array.from(e):[]}getDistinctName(t,n){t=this.safeName_(t);let i="";for(;this.dbReverse.has(t+i)||this.reservedWords.has(t+i);)i=i?i+1:2;return t+=i,this.dbReverse.add(t),(n===e.NameType$$module$build$src$core$names.VARIABLE||n===e.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix_:"")+t}safeName_(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=="0123456789".indexOf(e[0])&&(e="my_"+e)):e=Pu.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}};(function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"})(Lf||(Lf={})),e.NameType$$module$build$src$core$names=Lf.NameType,Lf.DEVELOPER_VARIABLE_TYPE=e.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,e.module$build$src$core$names={},e.module$build$src$core$names.NameType=e.NameType$$module$build$src$core$names,e.module$build$src$core$names.Names=Lf;var If={};If.isObservable=zr;var Of={};Of.isProcedureBlock=jr;var Df={};Df.triggerProceduresUpdate=Gr;var Nf=class extends Map{constructor(e){super(),this.workspace=e}set(e,t){return this.get(e)===t||(super.set(e,t),Ge(new(st(Eu))(this.workspace,t)),zr(t)&&t.startPublishing()),this}delete(e){const t=this.get(e);return e=super.delete(e),e?(Gr(this.workspace),Ge(new(st(Tu))(this.workspace,t)),zr(t)&&t.stopPublishing(),e):e}clear(){if(this.size){for(const e of this.keys()){const t=this.get(e);super.delete(e),Ge(new(st(Tu))(this.workspace,t))}Gr(this.workspace)}}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},Rf={};Rf.ObservableProcedureMap=Nf;var Af=class{constructor(e,t,n){this.workspace=e,this.parameters=[],this.returnTypes=null,this.enabled=!0,this.shouldFireEvents=!1,this.id=null!=n?n:Ue(),this.name=t}setName(e){if(e===this.name)return this;const t=this.name;return this.name=e,Gr(this.workspace),this.shouldFireEvents&&Ge(new(st(ku))(this.workspace,this,t)),this}insertParameter(e,t){return this.parameters[t]&&this.parameters[t].getId()===e.getId()||(this.parameters.splice(t,0,e),e.setProcedureModel(this),zr(e)&&(this.shouldFireEvents?e.startPublishing():e.stopPublishing()),Gr(this.workspace),this.shouldFireEvents&&Ge(new(st(Iu))(this.workspace,this,e,t))),this}deleteParameter(e){if(!this.parameters[e])return this;const t=this.parameters[e];return this.parameters.splice(e,1),Gr(this.workspace),zr(t)&&t.stopPublishing(),this.shouldFireEvents&&Ge(new(st(Ou))(this.workspace,this,t,e)),this}setReturnTypes(e){if(e&&e.length)throw Error("The built-in ProcedureModel does not support typing. You need to implement your own custom ProcedureModel.");if(!!e===!!this.returnTypes)return this;const t=this.returnTypes;return this.returnTypes=e,Gr(this.workspace),this.shouldFireEvents&&Ge(new(st(Lu))(this.workspace,this,t)),this}setEnabled(e){return e===this.enabled||(this.enabled=e,Gr(this.workspace),this.shouldFireEvents&&Ge(new(st(xu))(this.workspace,this))),this}getId(){return this.id}getName(){return this.name}getParameter(e){return this.parameters[e]}getParameters(){return[...this.parameters]}getReturnTypes(){return this.returnTypes}getEnabled(){return this.enabled}startPublishing(){this.shouldFireEvents=!0;for(const e of this.parameters)zr(e)&&e.startPublishing()}stopPublishing(){this.shouldFireEvents=!1;for(const e of this.parameters)zr(e)&&e.stopPublishing()}},Mf={};Mf.ObservableProcedureModel=Af;var Pf,Ff,Bf=class{constructor(e,t,n){let i;this.workspace=e,this.shouldFireEvents=!1,this.procedureModel=null,this.id=null!=n?n:Ue(),this.variable=null!=(i=this.workspace.getVariable(t))?i:e.createVariable(t)}setName(e){if(e===this.variable.name)return this;const t=this.variable.name;let n;return this.variable=null!=(n=this.workspace.getVariable(e))?n:this.workspace.createVariable(e),Gr(this.workspace),this.shouldFireEvents&&Ge(new(st(Du))(this.workspace,this.procedureModel,this,t)),this}setTypes(e){throw Error("The built-in ParameterModel does not support typing. You need to implement your own custom ParameterModel.")}getName(){return this.variable.name}getTypes(){return[]}getId(){return this.id}getVariableModel(){return this.variable}startPublishing(){this.shouldFireEvents=!0}stopPublishing(){this.shouldFireEvents=!1}setProcedureModel(e){return this.procedureModel=e,this}},Vf={};Vf.ObservableParameterModel=Bf,Pf="PROCEDURE",Ff="x",e.module$build$src$core$procedures={},e.module$build$src$core$procedures.CATEGORY_NAME=Pf,e.module$build$src$core$procedures.DEFAULT_ARG=Ff,e.module$build$src$core$procedures.ObservableParameterModel=Bf,e.module$build$src$core$procedures.ObservableProcedureMap=Nf,e.module$build$src$core$procedures.ObservableProcedureModel=Af,e.module$build$src$core$procedures.allProcedures=Kr,e.module$build$src$core$procedures.findLegalName=Yr,e.module$build$src$core$procedures.flyoutCategory=Qr,e.module$build$src$core$procedures.getCallers=is,e.module$build$src$core$procedures.getDefinition=rs,e.module$build$src$core$procedures.isNameUsed=Zr,e.module$build$src$core$procedures.mutateCallers=os,e.module$build$src$core$procedures.mutatorOpenListener=ts,e.module$build$src$core$procedures.rename=Jr;var Hf=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},$f=new Hf,Wf={};Wf.Types=$f;var Uf=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=$f.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},zf={};zf.Measurable=Uf;var jf=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=$f.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if($f.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if($f.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if($f.isSpacer(t))return t}return null}},Gf={};Gf.Row=jf;var Kf=class extends jf{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=$f.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let i=0;i<this.elements.length;i++){const o=this.elements[i];t+=o.width,$f.isSpacer(o)||($f.isNextConnection(o)?n=Math.max(n,o.height):e=Math.max(e,o.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.descenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},qf={};qf.BottomRow=Kf;var Yf=class extends Uf{constructor(e,t){super(e),this.connectionModel=t,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.type|=$f.CONNECTION}},Xf={};Xf.Connection=Yf;var Zf=class extends Yf{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=$f.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},Jf={};Jf.InputConnection=Zf;var Qf=class extends Zf{constructor(e,t){super(e,t),this.height=0,this.type|=$f.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},eg={};eg.ExternalValueInput=Qf;var tg=class extends Uf{constructor(e,t,n){super(e),this.field=t,this.parentInput=n,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=$f.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},ng={};ng.Field=tg;var ig=class extends Uf{constructor(e){super(e),this.type|=$f.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},og={};og.Hat=ig;var rg=class extends Uf{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.isVisible=t.isVisible(),this.type|=$f.ICON,e=t.getCorrectedSize(),this.height=e.height,this.width=e.width}},sg={};sg.Icon=rg;var ag=class extends Uf{constructor(e,t){super(e),this.type=this.type|$f.SPACER|$f.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},lg={};lg.InRowSpacer=ag;var ug=class extends Zf{constructor(e,t){super(e,t),this.type|=$f.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},cg={};cg.InlineInput=ug;var hg=class extends Zf{constructor(e,t){super(e,t),this.type|=$f.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},dg={};dg.StatementInput=hg;var pg=class extends jf{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=$f.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const n=this.elements[t];this.width+=n.width,$f.isInput(n)&&n instanceof Zf&&($f.isStatementInput(n)&&n instanceof hg?e+=n.connectedBlockWidth:$f.isExternalInput(n)&&n instanceof Qf&&0!==n.connectedBlockWidth&&(e+=n.connectedBlockWidth-n.connectionWidth)),$f.isSpacer(n)||(this.height=Math.max(this.height,n.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},fg={};fg.InputRow=pg;var gg=class extends Uf{constructor(e){super(e),this.type|=$f.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},mg={};mg.JaggedEdge=gg;var _g=class extends Yf{constructor(e,t){super(e,t),this.type|=$f.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},vg={};vg.NextConnection=_g;var yg=class extends Yf{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=$f.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},bg={};bg.OutputConnection=yg;var wg=class extends Yf{constructor(e,t){super(e,t),this.type|=$f.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Cg={};Cg.PreviousConnection=wg;var Sg=class extends Uf{constructor(e,t){super(e),this.type=(t&&"left"!==t?$f.RIGHT_ROUND_CORNER:$f.LEFT_ROUND_CORNER)|$f.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},Eg={};Eg.RoundCorner=Sg;var Tg=class extends jf{constructor(e,t,n){super(e),this.height=t,this.width=n,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|$f.SPACER|$f.BETWEEN_ROW_SPACER,this.elements=[new ag(this.constants_,n)]}measure(){}},kg={};kg.SpacerRow=Tg;var xg=class extends Uf{constructor(e,t){super(e),this.type=(t&&"left"!==t?$f.RIGHT_SQUARE_CORNER:$f.LEFT_SQUARE_CORNER)|$f.CORNER,this.width=this.height=this.constants_.NO_PADDING}},Lg={};Lg.SquareCorner=xg;var Ig=class extends jf{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=$f.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()===e}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let i=0;i<this.elements.length;i++){const o=this.elements[i];t+=o.width,$f.isSpacer(o)||($f.isHat(o)&&o instanceof ig?n=Math.max(n,o.ascenderHeight):e=Math.max(e,o.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.capline=this.ascenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},Og={};Og.TopRow=Ig;var Dg=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs_=null,this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=mo(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const n in t)this.blockStyles[n]=this.validatedBlockStyle_(t[n]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=void 0!==e.startHats?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=Z("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&0===e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=ci(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?ci(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?ci(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return oi("#fff",e,.6)||e}generateTertiaryColour_(e){return oi("#fff",e,.3)||e}dispose(){this.embossFilter_&&W(this.embossFilter_),this.disabledPattern_&&W(this.disabledPattern_),this.debugFilter_&&W(this.debugFilter_),this.cssNode_=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,n=vo([po(t,e/4),po(2*-t,e/2),po(t,e/4)]);return{height:e,width:t,path:n}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,n=fo("c",[po(30,-e),po(70,-e),po(t,0)]);return{height:e,width:t,path:n}}makePuzzleTab(){function e(e){e=e?-1:1;const i=-e;var o=n/2;const r=o+2.5,s=o+.5,a=po(-t,e*o);return o=po(t,e*o),fo("c",[po(0,e*r),po(-t,i*s),a])+fo("s",[po(t,2.5*i),o])}const t=this.TAB_WIDTH,n=this.TAB_HEIGHT,i=e(!0),o=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:n,pathDown:o,pathUp:i}}makeNotch(){function e(e){return vo([po(e*i,n),po(3*e,0),po(e*i,-n)])}const t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,i=(t-3)/2,o=e(1),r=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:o,pathRight:r}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=bo("a","0 0,0",e,po(-e,e)),n=bo("a","0 0,0",e,po(e,e));return{width:e,height:e,pathTop:t,pathBottom:n}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=mo(0,e)+bo("a","0 0,1",e,po(e,-e)),n=bo("a","0 0,1",e,po(e,e)),i=bo("a","0 0,1",e,po(-e,-e)),o=bo("a","0 0,1",e,po(-e,e));return{topLeft:t,topRight:n,bottomRight:o,bottomLeft:i,rightHeight:e}}shapeFor(e){switch(e.type){case yd.INPUT_VALUE:case yd.OUTPUT_VALUE:return this.PUZZLE_TAB;case yd.PREVIOUS_STATEMENT:case yd.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,n){this.injectCSS_(t,n),this.defs_=F(uc.DEFS,{},e),e=F(uc.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs_),F(uc.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=F(uc.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),F(uc.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),F(uc.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),F(uc.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter_=e,e=F(uc.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs_),F(uc.RECT,{width:10,height:10,fill:"#aaa"},e),F(uc.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern_=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter_){const e=F(uc.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs_),t=F(uc.FECOMPONENTTRANSFER,{result:"outBlur"},e);F(uc.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),F(uc.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),F(uc.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);const n=t.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=n:(t=document.createElement("style"),t.id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)}getCSS_(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {",`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {",`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {",`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {",`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Ng={};Ng.ConstantProvider=Dg,Ng.isDynamicShape=ss;var Rg=!1,Ag={};Ag.isDebuggerEnabled=as,Ag.startDebugger=ls,Ag.stopDebugger=us;var Mg=class{constructor(e){this.constants=e,this.debugElements_=[],this.svgRoot_=null,this.randomColour_=""}clearElems(){for(let e=0;e<this.debugElements_.length;e++)W(this.debugElements_[e]);this.debugElements_=[]}drawSpacerRow(e,t,n){if(Mg.config.rowSpacers){var i=Math.abs(e.height),o=0>e.height;o&&(t-=i),this.debugElements_.push(F(uc.RECT,{class:"rowSpacerRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:t,width:e.width,height:i,stroke:o?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}}drawSpacerElem(e,t,n){if(Mg.config.elemSpacers){t=Math.abs(e.width);var i=0>e.width,o=i?e.xPos-t:e.xPos;n&&(o=-(o+t)),this.debugElements_.push(F(uc.RECT,{class:"elemSpacerRect blockRenderDebug",x:o,y:e.centerline-e.height/2,width:t,height:e.height,stroke:"pink",fill:i?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}}drawRenderedElem(t,n){if(Mg.config.elems){let i=t.xPos;n&&(i=-(i+t.width)),n=t.centerline-t.height/2,this.debugElements_.push(F(uc.RECT,{class:"rowRenderingRect blockRenderDebug",x:i,y:n,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),$f.isField(t)&&t instanceof tg&&t.field instanceof e.FieldLabel$$module$build$src$core$field_label&&this.debugElements_.push(F(uc.RECT,{class:"rowRenderingRect blockRenderDebug",x:i,y:n+this.constants.FIELD_TEXT_BASELINE,width:t.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}$f.isInput(t)&&t instanceof Zf&&Mg.config.connections&&this.drawConnection(t.connectionModel)}drawConnection(e){if(Mg.config.connections){var t="",n=0,i="";e.type===yd.INPUT_VALUE?(n=4,t="magenta",i="none"):e.type===yd.OUTPUT_VALUE?(n=2,i=t="magenta"):e.type===yd.NEXT_STATEMENT?(n=4,t="goldenrod",i="none"):e.type===yd.PREVIOUS_STATEMENT&&(n=2,i=t="goldenrod"),this.debugElements_.push(F(uc.CIRCLE,{class:"blockRenderDebug",cx:e.getOffsetInBlock().x,cy:e.getOffsetInBlock().y,r:n,fill:i,stroke:t},this.svgRoot_))}}drawRenderedRow(e,t,n){Mg.config.rows&&(this.debugElements_.push(F(uc.RECT,{class:"elemRenderingRect blockRenderDebug",x:n?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),$f.isTopOrBottomRow(e)||Mg.config.connectedBlockBounds&&this.debugElements_.push(F(uc.RECT,{class:"connectedBlockWidth blockRenderDebug",x:n?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}drawRowWithElements(e,t,n){for(let i=0;i<e.elements.length;i++){const t=e.elements[i];t?$f.isSpacer(t)?this.drawSpacerElem(t,e.height,n):this.drawRenderedElem(t,n):console.warn("A row has an undefined or null element.",e,t)}this.drawRenderedRow(e,t,n)}drawBoundingBox(e){if(Mg.config.blockBounds){var t=e.RTL?-e.width:0;this.debugElements_.push(F(uc.RECT,{class:"blockBoundingBox blockRenderDebug",x:t,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),Mg.config.connectedBlockBounds&&(t=e.RTL?-e.widthWithChildren:0,this.debugElements_.push(F(uc.RECT,{class:"blockRenderDebug",x:t,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}}drawDebug(e,t){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);let n=0;for(let i=0;i<t.rows.length;i++){const e=t.rows[i];$f.isBetweenRowSpacer(e)?this.drawSpacerRow(e,n,t.RTL):this.drawRowWithElements(e,n,t.RTL),n+=e.height}e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),t.rightSide&&this.drawRenderedElem(t.rightSide,t.RTL),this.drawBoundingBox(t),this.drawRender(e.pathObject.svgPath)}drawRender(e){Mg.config.render&&(e.setAttribute("filter","url(#"+this.constants.debugFilterId+")"),setTimeout((function(){e.setAttribute("filter","")}),100))}};Mg.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0};var Pg={};Pg.Debug=Mg;var Fg=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){if(this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),as()){let e;null==(e=this.block_.renderingDebugger)||e.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}hideHiddenIcons_(){for(let e,t=0;e=this.info_.hiddenIcons[t];t++){let t;null==(t=e.icon.iconGroup_)||t.setAttribute("display","none")}}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=mo(e.xPos,this.info_.startY);for(let n,i=0;n=t[i];i++)$f.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:$f.isRightRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:$f.isPreviousConnection(n)&&n instanceof Yf?this.outlinePath_+=n.shape.pathLeft:$f.isHat(n)?this.outlinePath_+=this.constants_.START_HAT.path:$f.isSpacer(n)&&(this.outlinePath_+=yo("h",n.width));this.outlinePath_+=yo("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+yo("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const n=ss(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=yo("H",t.xPos+t.width)+n+yo("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var n=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+yo("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var i=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=yo("H",n)+t+yo("v",i)+this.constants_.INSIDE_CORNERS.pathBottom+yo("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=yo("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let n=0,i="";for(let o,r=t.length-1;o=t[r];r--)$f.isNextConnection(o)&&o instanceof Yf?i+=o.shape.pathRight:$f.isLeftSquareCorner(o)?i+=yo("H",e.xPos):$f.isLeftRoundedCorner(o)?i+=this.constants_.OUTSIDE_CORNERS.bottomLeft:$f.isRightRoundedCorner(o)?(i+=this.constants_.OUTSIDE_CORNERS.bottomRight,n=this.constants_.OUTSIDE_CORNERS.rightHeight):$f.isSpacer(o)&&(i+=yo("h",-1*o.width));this.outlinePath_+=yo("V",e.baseline-n),this.outlinePath_+=i}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=ss(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=yo("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e,t=0;e=this.info_.rows[t];t++)for(let n,i=0;n=e.elements[i];i++)$f.isInlineInput(n)?this.drawInlineInput_(n):($f.isIcon(n)||$f.isField(n))&&this.layoutField_(n)}layoutField_(e){const t=$f.isField(e)?e.field.getSvgRoot():e.icon.iconGroup_,n=e.centerline-e.height/2;let i=e.xPos,o="";this.info_.RTL&&(i=-(i+e.width),e.flipRtl&&(i+=e.width,o="scale(-1 1)")),$f.isIcon(e)?(t.setAttribute("display","block"),t.setAttribute("transform","translate("+i+","+n+")"),e.icon.computeIconLocation()):t.setAttribute("transform","translate("+i+","+n+")"+o),this.info_.isInsertionMarker&&t.setAttribute("display","none")}drawInlineInput_(e){const t=e.width,n=e.height,i=e.connectionOffsetY,o=e.connectionHeight+i;this.inlinePath_+=go(e.xPos+e.connectionWidth,e.centerline-n/2)+yo("v",i)+e.shape.pathDown+yo("v",n-o)+yo("h",t-e.connectionWidth)+yo("v",-n)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(null!=t&&t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}},Bg={};Bg.Drawer=Fg;var Vg=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new yg(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new Ig(this.constants_),this.bottomRow=new Kf(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new pg(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let n,i=0;n=t[i];i++){const t=new rg(this.constants_,n);this.isCollapsed&&n.collapseHidden?this.hiddenIcons.push(t):e.elements.push(t)}t=void 0;for(let n,i=0;n=this.block_.inputList[i];i++)if(n.isVisible()){this.shouldStartNewRow_(n,t)&&(this.rows.push(e),e=new pg(this.constants_),this.inputRows.push(e));for(let t,i=0;t=n.fieldRow[i];i++)e.elements.push(new tg(this.constants_,t,n));this.addInput_(n,e),t=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new gg(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let n=this.topRow.hasLeftSquareCorner(this.block_)?xg:Sg;this.topRow.elements.push(new n(this.constants_)),t?(e=new ig(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new wg(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type===ql.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,n=this.topRow.hasRightSquareCorner(this.block_)?xg:Sg,this.topRow.elements.push(new n(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===ql.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new xg(this.constants_)):this.bottomRow.elements.push(new Sg(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new _g(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new xg(this.constants_,"right")):this.bottomRow.elements.push(new Sg(this.constants_,"right"))}addInput_(e,t){this.isInline&&e.type===ql.VALUE?(t.elements.push(new ug(this.constants_,e)),t.hasInlineInput=!0):e.type===ql.STATEMENT?(t.elements.push(new hg(this.constants_,e)),t.hasStatement=!0):e.type===ql.VALUE?(t.elements.push(new Qf(this.constants_,e)),t.hasExternalInput=!0):e.type===ql.DUMMY&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),null===t.align&&(t.align=e.align)}shouldStartNewRow_(e,t){return!!t&&(e.type===ql.STATEMENT||t.type===ql.STATEMENT||(e.type===ql.VALUE||e.type===ql.DUMMY)&&!this.isInline)}addElemSpacing_(){for(let e,t=0;e=this.rows[t];t++){const t=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new ag(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let n=0;n<t.length-1;n++){e.elements.push(t[n]);const i=this.getInRowSpacing_(t[n],t[n+1]);e.elements.push(new ag(this.constants_,i))}e.elements.push(t[t.length-1]),e.endsWithElemSpacer()&&e.elements.push(new ag(this.constants_,this.getInRowSpacing_(t[t.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&$f.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&$f.isInput(e)&&!t){if($f.isExternalInput(e))return this.constants_.NO_PADDING;if($f.isInlineInput(e))return this.constants_.LARGE_PADDING;if($f.isStatementInput(e))return this.constants_.NO_PADDING}return e&&$f.isLeftSquareCorner(e)&&t&&($f.isPreviousConnection(t)||$f.isNextConnection(t))?t.notchOffset:e&&$f.isLeftRoundedCorner(e)&&t&&($f.isPreviousConnection(t)||$f.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,n=0;for(let o,r=0;o=this.rows[r];r++){if(o.measure(),t=Math.max(t,o.width),o.hasStatement){var i=o.getLastInput();let t,n;i=o.width-(null!=(n=null==(t=i)?void 0:t.width)?n:0),e=Math.max(e,i)}n=Math.max(n,o.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let o,r=0;o=this.rows[r];r++)o.hasStatement&&(o.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,n),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t,n=0;t=this.rows[n];n++)if(t.hasStatement)this.alignStatementRow_(t);else{var e=t.width;e=this.getDesiredRowWidth_(t)-e,0<e&&this.addAlignmentPadding_(t,e),$f.isTopOrBottomRow(t)&&(t.widthWithConnectedBlocks=t.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(t,n){const i=t.getFirstSpacer(),o=t.getLastSpacer();if((t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=n),t.align===e.Align$$module$build$src$core$input.LEFT&&o)o.width+=n;else if(t.align===e.Align$$module$build$src$core$input.CENTRE&&i&&o)i.width+=n/2,o.width+=n/2;else if(t.align===e.Align$$module$build$src$core$input.RIGHT&&i)i.width+=n;else{if(!o)return;o.width+=n}t.width+=n}alignStatementRow_(e){const t=e.getLastInput();if(t){var n=e.width-t.width,i=this.statementEdge;n=i-n,0<n&&this.addAlignmentPadding_(e,n),n=e.width,i=this.getDesiredRowWidth_(e),t.width+=i-n,t.height=Math.max(t.height,e.height),e.width+=i-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var n=this.getSpacerRowHeight_(e,t);const i=this.getSpacerRowWidth_(e,t);return n=new Tg(this.constants_,n,i),e.hasStatement&&(n.followsStatement=!0),t.hasStatement&&(n.precedesStatement=!0),n}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return $f.isSpacer(t)?e.yPos+t.height/2:$f.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,$f.isNextConnection(t)?e+t.height/2:e-t.height/2):$f.isTopRow(e)?$f.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let n,i=0;n=e.elements[i];i++)$f.isSpacer(n)&&(n.height=e.height),n.xPos=t,n.centerline=this.getElemCenterline_(e,n),t+=n.width}finalize_(){let e=0,t=0;for(let n,i=0;n=this.rows[i];i++)n.yPos=t,n.xPos=this.startX,t+=n.height,e=Math.max(e,n.widthWithConnectedBlocks),this.recordElemPositions_(n);if(this.outputConnection&&this.block_.nextConnection){const t=this.block_.nextConnection.targetBlock();t&&(e=Math.max(e,t.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}},Hg={};Hg.RenderInfo=Vg;var $g=class extends nc{constructor(e,t,n,i){let o=e?e.workspace.id:void 0;i&&i.getType()===Id.types.WORKSPACE&&(o=i.getLocation().id),super(o),this.type=pu,this.blockId=null==e?void 0:e.id,this.oldNode=n||void 0,this.newNode=i,this.isCursor=t}toJson(){const e=super.toJson();if(void 0===this.isCursor)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}fromJson(e){t("Blockly.Events.MarkerMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new $g),t.isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};Re(Wl.EVENT,pu,$g);var Wg={};Wg.MarkerMove=$g;var Ug="blocklyCursor",zg="blocklyMarker",jg=.75,Gg=class{constructor(e,t,n){this.workspace=e,this.marker=n,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent_=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return"cursor"===this.marker.type}createDom(){const e=this.isCursor()?Ug:zg;return this.svgGroup_=F(uc.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),e=this.currentMarkerSvg.childNodes[0],void 0!==e&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===Id.types.BLOCK?this.showWithBlock_(e):e.getType()===Id.types.OUTPUT?this.showWithOutput_(e):t===yd.INPUT_VALUE?this.showWithInput_(e):t===yd.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===Id.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===Id.types.FIELD?this.showWithField_(e):e.getType()===Id.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===Id.types.STACK&&this.showWithStack_(e)}showWithBlockPrevOutput_(e){e=e.getSourceBlock();const t=e.width;var n=e.height,i=n*jg;const o=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(n=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,o,i,n)):e.outputConnection?(i=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,n,i)):this.positionBlock_(t,o,i),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput_(e)}showWithPrevious_(e){this.showWithBlockPrevOutput_(e)}showWithOutput_(e){this.showWithBlockPrevOutput_(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const t=e.getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let n=0;t=t.getOffsetInBlock().y;const i=e.getHeightWidth().width;this.workspace.RTL&&(n=-i),this.positionLine_(n,t,i),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var t=e.getHeightWidth();const n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const i=-this.constants_.CURSOR_STACK_PADDING/2,o=-this.constants_.CURSOR_STACK_PADDING/2;let r=i;this.workspace.RTL&&(r=-(n+i)),this.positionRect_(r,o,n,t),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,n){if(e=mo(-t,n)+yo("V",-t)+yo("H",e+2*t)+yo("V",n),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,n=e.getOffsetInBlock().y;e=go(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+n+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,n){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",""+e),this.markerSvgLine_.setAttribute("y",""+t),this.markerSvgLine_.setAttribute("width",""+n),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,n){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=mo(e,0)+yo("h",-(e-n.width))+yo("v",this.constants_.TAB_OFFSET_FROM_TOP)+n.pathDown+yo("V",t)+yo("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,n,i){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=mo(-t,n)+yo("V",-t)+yo("H",this.constants_.NOTCH_OFFSET_LEFT)+i.pathLeft+yo("H",e+2*t)+yo("V",n),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,n,i){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",""+e),this.markerSvgRect_.setAttribute("y",""+t),this.markerSvgRect_.setAttribute("width",""+n),this.markerSvgRect_.setAttribute("height",""+i),this.currentMarkerSvg=this.markerSvgRect_}flipRtl_(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent_(e,t){const n=t.getSourceBlock();e=new(st(pu))(n,this.isCursor(),e,t),Ge(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=F(uc.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=F(uc.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=F(uc.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=F(uc.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=F(uc.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const e=this.getBlinkProperties_();F(uc.ANIMATE,e,this.markerSvgLine_),F(uc.ANIMATE,e,this.markerInput_),F(uc.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&W(this.svgGroup_)}},Kg={};Kg.MarkerSvg=Gg;var qg=class{constructor(e,t,n){this.markerSvg=this.cursorSvg=null,this.constants=n,this.style=t,this.svgRoot=e,this.svgPath=F(uc.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?B(this.svgRoot,e):H(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}},Yg={};Yg.PathObject=qg;var Xg="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",Zg=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,x(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections()}dispose(){this.availableConnections.length=0,Ze();try{this.firstMarker&&this.firstMarker.dispose(),this.lastMarker&&this.lastMarker.dispose()}finally{Je()}}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){Ze(),this.hidePreview(),Je();var{local:e,closest:t}=this.activeCandidate;if(e.connect(t),this.topBlock.rendered){const n=e.isSuperior()?t:e;cr(n.getSourceBlock()),this.topBlock.getRootBlock().bringToFront()}}}update(e,t){const n=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!n,t))||this.shouldUpdatePreviews(n,e))&&(Ze(),this.maybeHidePreview(n),this.maybeShowPreview(n),Je())}createMarkerBlock(e){var t=e.type;let n;Ze();try{if(n=this.workspace.newBlock(t),n.setInsertionMarker(!0),e.saveExtraState){var i=e.saveExtraState();i&&n.loadExtraState&&n.loadExtraState(i)}else if(e.mutationToDom){const t=e.mutationToDom();t&&n.domToMutation&&n.domToMutation(t)}for(t=0;t<e.inputList.length;t++){const o=e.inputList[t];if(o.name===Sd)continue;const r=n.inputList[t];if(!r)throw Error(Xg.replace("%1","an input"));for(i=0;i<o.fieldRow.length;i++){const e=o.fieldRow[i],t=r.fieldRow[i];if(!t)throw Error(Xg.replace("%1","a field"));t.setValue(e.getValue())}}n.setCollapsed(e.isCollapsed()),n.setInputsInline(e.getInputsInline()),n.initSvg(),n.getSvgRoot().setAttribute("visibility","hidden")}finally{Je()}return n}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);if(t&&t!==this.topBlock.nextConnection){if(e.push(t),this.lastOnStack=t,this.lastMarker){Ze();try{this.lastMarker.dispose()}finally{Je()}}this.lastMarker=this.createMarkerBlock(t.getSourceBlock())}return e}shouldUpdatePreviews(t,n){if(!t)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:i,closest:o}=this.activeCandidate;if(o===t.closest&&i===t.local)return!1;const r=i.x+n.x-o.x;return n=i.y+n.y-o.y,t.radius<Math.sqrt(r*r+n*n)-e.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),n=null;for(let i=0;i<this.availableConnections.length;i++){const o=this.availableConnections[i],r=o.closest(t,e);r.connection&&(n={closest:r.connection,local:o,radius:r.radius},t=r.radius)}return n}getStartRadius(){return this.activeCandidate?e.config$$module$build$src$core$config.connectingSnapRadius:e.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return!(!t||!this.workspace.getComponentManager().hasCapability(t.id,td.Capability.DELETE_AREA))&&t.wouldDelete(this.topBlock,e)}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t,n=e.closest;n===(null==(t=this.activeCandidate)?void 0:t.closest)||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case Zg.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case Zg.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case Zg.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(e){if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}}else this.hidePreview();this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=null==(e=this.activeCandidate)?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:n}=e;let i,o=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");try{i=o.getMatchingConnection(t.getSourceBlock(),t)}catch(r){if(this.firstMarker=this.createMarkerBlock(this.topBlock),o=e?this.lastMarker:this.firstMarker,!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");i=o.getMatchingConnection(t.getSourceBlock(),t)}if(!i)throw Error("Cannot show the insertion marker because there is no associated connection");if(i===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");o.render(),o.rendered=!0,o.getSvgRoot().setAttribute("visibility","visible"),i&&n&&o.positionNearConnection(i,n),n&&i.connect(n),this.markerConnection=i}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,t=e.getSourceBlock(),n=t.previousConnection,i=t.outputConnection,o=e===t.nextConnection;if(i=e.type===yd.INPUT_VALUE&&!(i&&i.targetConnection),o&&(!n||!n.targetConnection)||i?e.targetBlock().unplug(!1):e.type!==yd.NEXT_STATEMENT||o?t.unplug(!0):((o=e.targetConnection)&&o.getSourceBlock().unplug(!1),n=n?n.targetConnection:null,t.unplug(!0),n&&o&&n.connect(o)),e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=t.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(Zg||(Zg={}));var Jg=Zg.PREVIEW_TYPE,Qg={};Qg.InsertionMarkerManager=Zg,Qg.PreviewType=Jg;var em=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const n=this.getConstants();n.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=n.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new Dg}makeRenderInfo_(e){return new Vg(this,e)}makeDrawer_(e,t){return new Fg(e,t)}makeDebugger_(){return new Mg(this.getConstants())}makeMarkerDrawer(e,t){return new Gg(e,this.getConstants(),t)}makePathObject(e,t){return new qg(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,n){return!!wd.getConnectionForOrphanedConnection(e,n===yd.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,n){return t.type===yd.OUTPUT_VALUE||t.type===yd.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(n,e.targetBlock(),t.type)?Zg.PREVIEW_TYPE.INSERTION_MARKER:Zg.PREVIEW_TYPE.REPLACEMENT_FADE:Zg.PREVIEW_TYPE.INSERTION_MARKER}render(e){as()&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},tm={};tm.Renderer=em;var nm={};nm.BottomRow=Kf,nm.Connection=Yf,nm.ConstantProvider=Dg,nm.Debug=Mg,nm.Drawer=Fg,nm.ExternalValueInput=Qf,nm.Field=tg,nm.Hat=ig,nm.Icon=rg,nm.InRowSpacer=ag,nm.InlineInput=ug,nm.InputConnection=Zf,nm.InputRow=pg,nm.JaggedEdge=gg,nm.MarkerSvg=Gg,nm.Measurable=Uf,nm.NextConnection=_g,nm.OutputConnection=yg,nm.PathObject=qg,nm.PreviousConnection=wg,nm.RenderInfo=Vg,nm.Renderer=em,nm.RoundCorner=Sg,nm.Row=jf,nm.SpacerRow=Tg,nm.SquareCorner=xg,nm.StatementInput=hg,nm.TopRow=Ig,nm.Types=$f,nm.init=ps,nm.register=cs,nm.stopDebugger=ds,nm.unregister=hs;var im=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&H(e,t),(t=this.theme.getClassName())&&B(e,t));for(let n,i=0;n=this.subscribedWorkspaces_[i];i++)n.refreshTheme();for(const[n,i]of this.componentDB)for(const o of i){e=o.element,t=o.propertyName;const i=this.theme&&this.theme.getComponentStyle(n);e.style[t]=i||""}for(const n of this.subscribedWorkspaces_)n.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!ho(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,n){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:n}),t=this.theme&&this.theme.getComponentStyle(t),e.style[n]=t||""}unsubscribe(e){if(e)for(const[t,n]of this.componentDB){for(let t=n.length-1;0<=t;t--)n[t].element===e&&n.splice(t,1);n.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces_=this.theme=this.owner_=null,this.componentDB.clear()}},om={};om.ThemeManager=im;var rm="VARIABLE_DYNAMIC",sm={};sm.CATEGORY_NAME=rm,sm.flyoutCategory=_s,sm.flyoutCategoryBlocks=vs,sm.onCreateVariableButtonClick_Colour=ms,sm.onCreateVariableButtonClick_Number=gs,sm.onCreateVariableButtonClick_String=fs;var am=class{canConnect(e,t,n,i){return this.canConnectWithReason(e,t,n,i)===wd.CAN_CONNECT}canConnectWithReason(e,t,n,i){const o=this.doSafetyChecks(e,t);return o!==wd.CAN_CONNECT?o:this.doTypeChecks(e,t)?n&&!this.doDragChecks(e,t,i||0)?wd.REASON_DRAG_CHECKS_FAILED:wd.CAN_CONNECT:wd.REASON_CHECKS_FAILED}getErrorMessage(e,t,n){switch(e){case wd.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case wd.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case wd.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case wd.REASON_TARGET_NULL:return"Target connection is null.";case wd.REASON_CHECKS_FAILED:return"Connection checks failed. "+t+" expected "+t.getCheck()+", found "+n.getCheck();case wd.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case wd.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case wd.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return wd.REASON_TARGET_NULL;let n,i,o;return e.isSuperior()?(n=e.getSourceBlock(),i=t.getSourceBlock(),o=t):(i=e.getSourceBlock(),n=t.getSourceBlock(),o=e,e=t),n===i?wd.REASON_SELF_CONNECTION:o.type!==Yd[e.type]?wd.REASON_WRONG_TYPE:n.workspace!==i.workspace?wd.REASON_DIFFERENT_WORKSPACES:n.isShadow()&&!i.isShadow()?wd.REASON_SHADOW_PARENT:o.type===yd.OUTPUT_VALUE&&i.previousConnection&&i.previousConnection.isConnected()||o.type===yd.PREVIOUS_STATEMENT&&i.outputConnection&&i.outputConnection.isConnected()?wd.REASON_PREVIOUS_AND_OUTPUT:wd.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}doDragChecks(e,t,n){if(e.distanceFrom(t)>n||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case yd.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case yd.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case yd.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case yd.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection)return!1;break;default:return!1}return-1===el.indexOf(t)}canConnectToPrevious_(e,t){return!e.targetConnection&&-1===el.indexOf(t)&&(!t.targetConnection||(e=t.targetBlock(),!!e.isInsertionMarker()&&!e.getPreviousBlock()))}};Re(Wl.CONNECTION_CHECKER,$l,am);var lm={};lm.ConnectionChecker=am;var um=class extends ju{constructor(e){super(e),this.type=au,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(!this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}fromJson(e){t("Blockly.Events.VarDelete.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.varType=e.varType,this.varName=e.varName}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new um),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};Re(Wl.EVENT,au,um);var cm={};cm.VarDelete=um;var hm=class extends ju{constructor(e,t){super(e),this.type=lu,e&&(this.oldName=e.name,this.newName="undefined"===typeof t?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}fromJson(e){t("Blockly.Events.VarRename.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldName=e.oldName,this.newName=e.newName}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new hm),t.oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};Re(Wl.EVENT,lu,hm);var dm={};dm.VarRename=hm;var pm=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){this.variableMap.clear()}renameVariable(e,t){if(e.name!==t){var n=this.getVariable(t,e.type),i=this.workspace.getAllBlocks(!1);tt(!0);try{n&&n.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,n,i):this.renameVariableAndUses_(e,t,i)}finally{tt(!1)}}}renameVariableById(e,t){const n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)}renameVariableAndUses_(e,t,n){for(Ge(new(st(lu))(e,t)),e.name=t,t=0;t<n.length;t++)n[t].updateVarName(e)}renameVariableWithConflict_(e,t,n,i){const o=e.type;for(t!==n.name&&this.renameVariableAndUses_(n,t,i),t=0;t<i.length;t++)i[t].renameVarById(e.getId(),n.getId());Ge(new(st(au))(e)),ho(this.variableMap.get(o),e)}createVariable(e,t,n){var i=this.getVariable(e,t);if(i){if(n&&i.getId()!==n)throw Error('Variable "'+e+'" is already in use and its id is "'+i.getId()+'" which conflicts with the passed in id, "'+n+'".');return i}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return i=n||Ue(),t=t||"",i=new Ju(this.workspace,e,t,i),e=this.variableMap.get(t)||[],e.push(i),this.variableMap.delete(t),this.variableMap.set(t,e),Ge(new(st(su))(i)),i}deleteVariable(e){const t=e.getId(),n=this.variableMap.get(e.type);if(n)for(let i=0;i<n.length;i++)if(n[i].getId()===t){n.splice(i,1),Ge(new(st(au))(e));break}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var n=t.name;const i=this.getVariableUsesById(e);for(let t,o=0;t=i[o];o++)if("procedures_defnoreturn"===t.type||"procedures_defreturn"===t.type)return e=String(t.getFieldValue("NAME")),n=Pu.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",n).replace("%2",e),void gt(n);1<i.length?(n=Pu.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(i.length)).replace("%2",n),_t(n,e=>{e&&t&&this.deleteVariableInternal(t,i)})):this.deleteVariableInternal(t,i)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const n=et();n||tt(!0);try{for(let e=0;e<t.length;e++)t[e].dispose(!0);this.deleteVariable(e)}finally{n||tt(!1)}}getVariable(e,t){if(t=this.variableMap.get(t||""))for(let n,i=0;n=t[i];i++)if(Lf.equals(n.name,e))return n;return null}getVariableById(e){for(const[,t]of this.variableMap)for(const n of t)if(n.getId()===e)return n;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const n of e.getPotentialVariableMap().variableMap.keys())t.add(n);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const t=[],n=this.workspace.getAllBlocks(!1);for(let i=0;i<n.length;i++){const o=n[i].getVarModels();if(o)for(let r=0;r<o.length;r++)o[r].getId()===e&&t.push(n[i])}return t}},fm={};fm.VariableMap=pm;var gm=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new Nf(this),this.potentialVariableMap=null,this.id=Ue(),C(this),this.options=e||new jh({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new($e(Wl.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new pm(this)}dispose(){this.listeners.length=0,this.clear(),S(this)}sortObjects_(e,t){return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+gm.prototype.sortObjects_.offset*e.x-(t.y+gm.prototype.sortObjects_.offset*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!ho(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e){const t=[].concat(this.topBlocks);return e&&1<t.length&&(this.sortObjects_.offset=Math.sin(J(gm.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){ho(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&(this.sortObjects_.offset=Math.sin(J(gm.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e.filter((function(e){return!e.isInsertionMarker()}))):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!ho(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e){const t=[].concat(this.topComments);return e&&1<t.length&&(this.sortObjects_.offset=Math.sin(J(gm.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t}getAllBlocks(e){if(e){var t=this.getTopBlocks(!0);e=[];for(let n=0;n<t.length;n++)e.push(...t[n].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter((function(e){return!e.isInsertionMarker()}))}clear(){this.isClearing=!0;try{const e=et();for(e||tt(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();e||tt(!1),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,n){return this.variableMap.createVariable(e,t,n)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const n in e){if(e[n]>this.remainingCapacityOfType(n))return!1;t+=e[n]}return!(t>this.remainingCapacity())}hasBlockLimits(){return 1/0!==this.options.maxBlocks||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_;const i=t.pop();if(i){for(var o=[i];t.length&&i.group&&i.group===t[t.length-1].group;)o.push(t.pop());for(t=0;t<o.length;t++)n.push(o[t]);o=Ye(o,e),ze(!1);try{for(n=0;n<o.length;n++)o[n].run(e)}finally{ze(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Xe()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){ho(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return null!=(t=this.commentDB.get(e))?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let n=0;n<t.length;n++)if(!t[n].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new pm(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}static getById(e){return b(e)}static getAll(){return w()}};gm.SCAN_ANGLE=3;var mm={};mm.Workspace=gm;var _m=100,vm=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var n=new globalThis.Audio}catch(o){return}for(let t=0;t<e.length;t++){const o=e[t],r=o.match(/\.(\w+)$/);if(r&&n.canPlayType("audio/"+r[1])){var i=new globalThis.Audio(o);break}}i&&this.sounds.set(t,i)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(void 0!==t?t.then(e.pause).catch((function(){})):e.pause(),Wa||Ua)break}}play(e,t){var n=this.sounds.get(e);n?(e=new Date,null!==this.lastSound_&&e.getTime()-this.lastSound_.getTime()<_m||(this.lastSound_=e,n=Wa||$a?n:n.cloneNode(),n.volume=void 0===t?1:t,n.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}},ym={};ym.WorkspaceAudio=vm;var bm=class{constructor(e){this.workspace=e,this.id="zoomControls",this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=this.onZoomOutWrapper=this.onZoomInWrapper=this.onZoomResetWrapper=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=F(uc.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[td.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&W(this.svgGroup),this.onZoomResetWrapper&&g(this.onZoomResetWrapper),this.onZoomInWrapper&&g(this.onZoomInWrapper),this.onZoomOutWrapper&&g(this.onZoomOutWrapper)}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new pl(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var n,i=Ar(this.workspace,e),o=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(o+=this.LARGE_SPACING+this.HEIGHT),e=Rr(i,new _l(this.WIDTH,o),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),i=i.vertical,t=Mr(e,this.MARGIN_VERTICAL,i===_p.TOP?yp.DOWN:yp.UP,t),i===_p.TOP){var r,s=this.SMALL_SPACING+this.HEIGHT;null==(r=this.zoomInGroup)||r.setAttribute("transform","translate(0, "+s+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(s+this.LARGE_SPACING+this.HEIGHT)+")")}else{let e;r=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0,null==(e=this.zoomInGroup)||e.setAttribute("transform","translate(0, "+r+")"),r=r+this.SMALL_SPACING+this.HEIGHT,null==(s=this.zoomOutGroup)||s.setAttribute("transform","translate(0, "+r+")")}this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=F(uc.G,{class:"blocklyZoom"},this.svgGroup);const t=F(uc.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);F(uc.RECT,{width:32,height:32},t),F(uc.IMAGE,{width:Sp.width,height:Sp.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(al,"xlink:href",this.workspace.options.pathToMedia+Sp.url),this.onZoomOutWrapper=p(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1))}createZoomInSvg(e){this.zoomInGroup=F(uc.G,{class:"blocklyZoom"},this.svgGroup);const t=F(uc.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);F(uc.RECT,{width:32,height:32},t),F(uc.IMAGE,{width:Sp.width,height:Sp.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(al,"xlink:href",this.workspace.options.pathToMedia+Sp.url),this.onZoomInWrapper=p(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),r(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=F(uc.G,{class:"blocklyZoom"},this.svgGroup);const t=F(uc.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);F(uc.RECT,{width:32,height:32},t),F(uc.IMAGE,{width:Sp.width,height:Sp.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(al,"xlink:href",this.workspace.options.pathToMedia+Sp.url),this.onZoomResetWrapper=p(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),r(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(st(du))(null,this.workspace.id,"zoom_controls");Ge(e)}};Vt("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var wm={};wm.ZoomControls=bm;var Cm=20,Sm=class extends gm{constructor(t,n,i){let o;super(t),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.workspaceDragSurface=this.blockDragSurface=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.isDragSurfaceActive=!1,this.inverseScreenCTM=this.targetWorkspace=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=null,this.metricsManager=new($e(Wl.METRICS_MANAGER,t,!0))(this),this.getMetrics=t.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=t.setMetrics||Sm.setTopLevelWorkspaceMetrics_,this.componentManager=new td,this.connectionDBList=Ef.init(this.connectionChecker),n&&(this.blockDragSurface=n),i&&(this.workspaceDragSurface=i),this.useWorkspaceDragSurface=!!this.workspaceDragSurface,this.audioManager=new vm(t.parentWorkspace),this.grid=this.options.gridPattern?new kf(this.options.gridPattern,t.gridOptions):null,this.markerManager=new Ec(this),e.module$build$src$core$variables&&Et&&this.registerToolboxCategoryCallback(Yu,Et),sm&&_s&&this.registerToolboxCategoryCallback(rm,_s),e.module$build$src$core$procedures&&Qr&&(this.registerToolboxCategoryCallback(Pf,Qr),this.addChangeListener(ts)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new im(this,this.options.theme||Fh),this.themeManager_.subscribeWorkspace(this),this.renderer=ps(this.options.renderer||"geras",this.getTheme(),null!=(o=this.options.rendererOverrides)?o:void 0),this.cachedParentSvgSize=new _l(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Fh),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(e){return!!e.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(st(_u))(this.getTheme().name,this.id);Ge(e)}updateBlockStyles_(e){for(let t,n=0;t=e[n];n++){const e=t.getStyleName();if(e){const n=t;n.setStyle(e),n.mutator&&n.mutator.updateBlockStyle()}}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let t=0,n=0,i=1;(z(this.getCanvas(),e)||z(this.getBubbleCanvas(),e))&&(i=this.scale);do{const o=$t(e);e!==this.getCanvas()&&e!==this.getBubbleCanvas()||(i=1),t+=o.x*i,n+=o.y*i,e=e.parentNode}while(e&&e!==this.getParentSvg());return new gl(t,n)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new _l(e.width,e.height)}getOriginOffsetInPixels(){return Wt(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if(-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getBlockCanvas(){return this.svgBlockCanvas_}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e){return this.svgGroup_=F(uc.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=F(uc.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"===e&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=F(uc.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=F(uc.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(p(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),document.body.addEventListener("wheel",(function(){})),p(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new($e(Wl.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=$e(Wl.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&W(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&W(e.parentNode)}this.resizeHandlerWrapper&&(g(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null)}addTrashcan(){this.trashcan=Sm.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new bm(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new jh({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new($e(Wl.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new($e(Wl.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(td.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),n=[];for(let i,o=0;i=e[o];o++){i.position(t,n);const e=i.getBoundingRectangle();e&&n.push(e)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=jt();gl.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getCanvas(){return this.svgBlockCanvas_}setCachedParentSvgSize(e,t){const n=this.getParentSvg();null!=e&&(this.cachedParentSvgSize.width=e,n.setAttribute("data-cached-width",e.toString())),null!=t&&(this.cachedParentSvgSize.height=t,n.setAttribute("data-cached-height",t.toString()))}getBubbleCanvas(){return this.svgBubbleCanvas_}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if("svg"===e.tagName){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(Qe()){var e=this.scale,t=-this.scrollY,n=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(n-this.oldLeft))){var i=new(st(vu))(t,n,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=n,Ge(i)}}}translate(e,t){var n;this.useWorkspaceDragSurface&&this.isDragSurfaceActive?null==(n=this.workspaceDragSurface)||n.translateSurface(e,t):(n="translate("+e+","+t+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n));this.blockDragSurface&&this.blockDragSurface.translateAndScaleGroup(e,t,this.scale),this.grid&&this.grid.moveTo(e,t),this.maybeFireViewportChangeEvent()}resetDragSurface(){if(this.useWorkspaceDragSurface){this.isDragSurfaceActive=!1;var e=this.workspaceDragSurface.getSurfaceTranslation();this.workspaceDragSurface.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}}setupDragSurface(){if(this.useWorkspaceDragSurface&&!this.isDragSurfaceActive){this.isDragSurfaceActive=!0;var e,t,n=this.svgBlockCanvas_.previousSibling,i=parseInt(null!=(e=this.getParentSvg().getAttribute("width"))?e:"0");e=parseInt(null!=(t=this.getParentSvg().getAttribute("height"))?t:"0"),t=$t(this.getCanvas()),this.workspaceDragSurface.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),n,i,e,this.scale),this.workspaceDragSurface.translateSurface(t.x,t.y)}}getBlockDragSurface(){return this.blockDragSurface}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){e=this.getAllBlocks(!1);for(let t=e.length-1;0<=t;t--)e[t].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else this.hideChaff(!0)}render(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager.updateMarkers()}highlightBlock(e,t){if(void 0===t){for(let e,t=0;e=this.highlightedBlocks[t];t++)e.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=void 0===t||t)?-1===this.highlightedBlocks.indexOf(e)&&this.highlightedBlocks.push(e):ho(this.highlightedBlocks,e),e.setHighlighted(t))}paste(e){if(!this.rendered||!e.type&&!e.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();const t=et();return t||tt(!0),e=e.type?this.pasteBlock_(null,e):"comment"===e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null),tt(t),e}pasteBlock_(t,n){let i;Ze();try{let o=0,r=0;if(t){let e,n;i=an(t,this),o=parseInt(null!=(e=t.getAttribute("x"))?e:"0"),this.RTL&&(o=-o),r=parseInt(null!=(n=t.getAttribute("y"))?n:"0")}else n&&(i=jo(n,this),o=n.x||10,this.RTL&&(o=this.getWidth()-o),r=n.y||10);if(!isNaN(o)&&!isNaN(r)){let t;do{t=!1;const n=this.getAllBlocks(!1);for(let e,i=0;e=n[i];i++){const n=e.getRelativeToSurfaceXY();if(1>=Math.abs(o-n.x)&&1>=Math.abs(r-n.y)){t=!0;break}}if(!t){const n=i.getConnections_(!1);for(let i,s=0;i=n[s];s++)if(i.closest(e.config$$module$build$src$core$config.snapRadius,new gl(o,r)).connection){t=!0;break}}t&&(o=this.RTL?o-e.config$$module$build$src$core$config.snapRadius:o+e.config$$module$build$src$core$config.snapRadius,r+=2*e.config$$module$build$src$core$config.snapRadius)}while(t);i.moveTo(new gl(o,r))}}finally{Je()}return Qe()&&!i.isShadow()&&Ge(new(st(nu))(i)),i.select(),i}pasteWorkspaceComment_(e){let t;Ze();try{t=vc.fromXmlRendered(e,this);let n,i,o=parseInt(null!=(n=e.getAttribute("x"))?n:"0"),r=parseInt(null!=(i=e.getAttribute("y"))?i:"0");isNaN(o)||isNaN(r)||(this.RTL&&(o=-o),t.moveBy(o+50,r+50))}finally{Je()}return Qe()&&ec.fireCreateEvent(t),t.select(),t}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,n){return e=super.createVariable(e,t,n),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(td.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t,n=0;t=e[n];n++){const e=t.getClientRect();e&&this.dragTargetAreas.push({component:t,clientRect:e})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t,n=0;t=this.dragTargetAreas[n];n++)if(t.clientRect.contains(e.clientX,e.clientY))return t.component;return null}onMouseDown_(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){e=v(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,this.dragDeltaXY=gl.difference(t,e)}moveDrag(e){return e=v(e,this.getParentSvg(),this.getInverseScreenCTM()),e.x/=this.scale,e.y/=this.scale,gl.sum(this.dragDeltaXY,e)}isDragging(){return null!==this.currentGesture_&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(ff.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||n){var i=y(e);if(za)var o=e.metaKey;t&&(e.ctrlKey||o||!n)?(i=-i.y/50,t=v(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,i)):(t=this.scrollX-i.x,n=this.scrollY-i.y,e.shiftKey&&!i.x&&(t=this.scrollX-i.y,n=this.scrollY),this.scroll(t,n)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new pl(0,0,0,0);const t=e[0].getBoundingRectangle();for(let i=1;i<e.length;i++){var n=e[i];n.isInsertionMarker&&n.isInsertionMarker()||(n=n.getBoundingRectangle(),n.top<t.top&&(t.top=n.top),n.bottom>t.bottom&&(t.bottom=n.bottom),n.left<t.left&&(t.left=n.left),n.right>t.right&&(t.right=n.right))}return t}cleanUp(){this.setResizesEnabled(!1),tt(!0);const e=this.getTopBlocks(!0);let t=0;for(let n,i=0;n=e[i];i++){if(!n.isMovable())continue;const e=n.getRelativeToSurfaceXY();n.moveBy(-e.x,t-e.y),n.snapToGrid(),t=n.getRelativeToSurfaceXY().y+n.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}tt(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=zd.registry.getContextMenuOptions(zd.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),Cr(e,t,this.RTL)}}updateToolbox(e){if(e=Pi(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Vi(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(T(this),this.setBrowserFocus())}setBrowserFocus(){document.activeElement&&document.activeElement instanceof HTMLElement&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentElement.setActive()}catch(t){this.getParentSvg().parentElement.focus({preventScroll:!0})}}}zoom(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);const i=this.scale*n;if(this.scale!==i){i>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:i<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var o=this.getCanvas().getCTM(),r=this.getParentSvg().createSVGPoint();r.x=e,r.y=t,r=r.matrixTransform(o.inverse()),e=r.x,t=r.y,o=o.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=o.e,this.scrollY=o.f,this.setScale(i)}}zoomCenter(e){var t=this.getMetrics();let n;this.flyout?(n=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(n=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(n,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var n=this.getBlocksBoundingBox(),i=2*Cm,o=n.right-n.left+i;if(n=n.bottom-n.top+i,o){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),n+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),o+=this.flyout.getWidth()/this.scale)),t/=o,e/=n,Ze();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{Je()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){B(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),B(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}endCanvasTransition(){H(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),H(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var t=e.getRelativeToSurfaceXY(),n=e.getHeightWidth(),i=this.scale;e=(t.x+(this.RTL?-1:1)*n.width/2)*i,t=(t.y+n.height/2)*i,n=this.getMetrics(),this.scroll(-(e-n.viewWidth/2),-(t-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const n=this.getMetrics();e=Math.min(e,-n.scrollLeft),t=Math.min(t,-n.scrollTop);const i=n.scrollTop+Math.max(0,n.scrollHeight-n.viewHeight);e=Math.max(e,-(n.scrollLeft+Math.max(0,n.scrollWidth-n.viewWidth))),t=Math.max(t,-i),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+n.scrollLeft),-(t+n.scrollTop),!1),e+=n.absoluteLeft,t+=n.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e){return super.getAllBlocks(e)}getTopBlocks(e){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){ho(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if("function"!==typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return null!=(t=this.flyoutButtonCallbacks.get(e))?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if("function"!==typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t="pointerdown"===e.type,n=this.currentGesture_;return n?t&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:t?this.currentGesture_=new ff(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e){Un(),gi(),Oe();const t=!!e;this.getComponentManager().getComponents(td.Capability.AUTOHIDEABLE,!0).forEach(e=>e.autoHide(t))}static setTopLevelWorkspaceMetrics_(e){const t=this.getMetrics();"number"===typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"===typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},Em={};Em.WorkspaceSvg=Sm,Em.resizeSvgContents=ys;var Tm={};Tm.load=ws,Tm.save=bs;var km=class{constructor(){this.priority=ud}save(e){const t=[];for(const n of e.getAllVariables())e={name:n.name,id:n.getId()},n.type&&(e.type=n.type),t.push(e);return t.length?t:null}load(e,t){for(const n of e)t.createVariable(n.name,n.type,n.id)}clear(e){e.getVariableMap().clear()}};Ao("variables",new km);var xm={};xm.VariableSerializer=km;var Lm=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=cd}save(e){return e.getProcedureMap().getProcedures().map(e=>Cs(e))}load(e,t){const n=t.getProcedureMap();for(const i of e)n.add(Es(this.procedureModelClass,this.parameterModelClass,i,t))}clear(e){e.getProcedureMap().clear()}},Im=new Lm(Af,Bf),Om={};Om.ProcedureSerializer=Lm,Om.loadParameter=Ts,Om.loadProcedure=Es,Om.observableProcedureSerializer=Im,Om.saveParameter=Ss,Om.saveProcedure=Cs;var Dm={blocks:gd,exceptions:ld,priorities:dd,procedures:Om,registry:pd,variables:xm,workspaces:Tm},Nm=class extends Dg{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter_=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter_&&W(this.selectedGlowFilter_),this.replacementGlowFilter_&&W(this.replacementGlowFilter_)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,n=fo("c",[po(25,-e),po(71,-e),po(t,0)]);return{height:e,width:t,path:n}}makeHexagonal(){function e(e,n,i){var o=e/2;return o=o>t?t:o,i=i?-1:1,e=(n?-1:1)*e/2,_o(-i*o,e)+_o(i*o,e)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(e){return e/=2,e>t?t:e},height(e){return e},connectionOffsetY(e){return e/2},connectionOffsetX(e){return-e},pathDown(t){return e(t,!1,!1)},pathUp(t){return e(t,!0,!1)},pathRightDown(t){return e(t,!1,!0)},pathRightUp(t){return e(t,!1,!0)}}}makeRounded(){function e(e,t,i){const o=e>n?e-n:0;return e=(e>n?n:e)/2,bo("a","0 0,1",e,po((t?-1:1)*e,(t?-1:1)*e))+yo("v",(i?1:-1)*o)+bo("a","0 0,1",e,po((t?1:-1)*e,(t?-1:1)*e))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width(e){return e/=2,e>t?t:e},height(e){return e},connectionOffsetY(e){return e/2},connectionOffsetX(e){return-e},pathDown(t){return e(t,!1,!1)},pathUp(t){return e(t,!0,!1)},pathRightDown(t){return e(t,!1,!0)},pathRightUp(t){return e(t,!1,!0)}}}makeSquared(){function e(e,n,i){return e-=2*t,bo("a","0 0,1",t,po((n?-1:1)*t,(n?-1:1)*t))+yo("v",(i?1:-1)*e)+bo("a","0 0,1",t,po((n?1:-1)*t,(n?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(e){return t},height(e){return e},connectionOffsetY(e){return e/2},connectionOffsetX(e){return-e},pathDown(t){return e(t,!1,!1)},pathUp(t){return e(t,!0,!1)},pathRightDown(t){return e(t,!1,!0)},pathRightUp(t){return e(t,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case yd.INPUT_VALUE:case yd.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),null!==e)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&-1!==t.indexOf("Boolean")?this.HEXAGONAL:(t&&-1!==t.indexOf("Number")||t&&t.indexOf("String"),this.ROUNDED);case yd.PREVIOUS_STATEMENT:case yd.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(e){return fo("c",[po(e*o/2,0),po(e*o*3/4,s/2),po(e*o,s)])+vo([po(e*o,r)])+fo("c",[po(e*o/4,s/2),po(e*o/2,s),po(e*o,s)])+yo("h",e*i)+fo("c",[po(e*o/2,0),po(e*o*3/4,-s/2),po(e*o,-s)])+vo([po(e*o,-r)])+fo("c",[po(e*o/4,-s/2),po(e*o/2,-s),po(e*o,-s)])}const t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,i=t/3,o=i/3,r=n/2,s=r/2,a=e(1),l=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:a,pathRight:l}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=bo("a","0 0,0",e,po(-e,e)),n=bo("a","0 0,1",e,po(-e,e)),i=bo("a","0 0,0",e,po(e,e)),o=bo("a","0 0,1",e,po(e,e));return{width:e,height:e,pathTop:t,pathBottom:i,rightWidth:e,rightHeight:e,pathTopRight:n,pathBottomRight:o}}generateSecondaryColour_(e){return oi("#000",e,.15)||e}generateTertiaryColour_(e){return oi("#000",e,.25)||e}createDom(e,t,n){super.createDom(e,t,n),e=F(uc.DEFS,{},e),t=F(uc.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),F(uc.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),n=F(uc.FECOMPONENTTRANSFER,{result:"outBlur"},t),F(uc.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),F(uc.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),F(uc.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter_=t,e=F(uc.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),F(uc.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=F(uc.FECOMPONENTTRANSFER,{result:"outBlur"},e),F(uc.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),F(uc.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),F(uc.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),F(uc.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e}getCSS_(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {",`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {",`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {",`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {",`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {",`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",e+" .blocklyDisabled > .blocklyOutlinePath {",`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",e+" .blocklyInsertionMarker>.blocklyPath {",`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},Rm={};Rm.ConstantProvider=Nm;var Am=class extends Fg{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;if(e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),as()){let e,t;null==(e=this.block_)||null==(t=e.renderingDebugger)||t.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height))if($f.isSpacer(e)&&(e.precedesStatement||e.followsStatement)){var t=this.constants_.INSIDE_CORNERS.rightHeight;t=e.height-(e.precedesStatement?t:0),this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<t?yo("V",e.yPos+t):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=yo("V",e.yPos+e.height)}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=mo(e.xPos,this.info_.startY),this.outlinePath_+=yo("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=yo("V",e.baseline),this.outlinePath_+=yo("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var n=e.width-2*e.connectionWidth;e=go(e.xPos+e.connectionWidth,e.centerline-e.height/2)+yo("h",n)+e.shape.pathRightDown(e.height)+yo("h",-n)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(t,e)}}drawStatementInput_(e){var t=e.getLastInput();const n=t.xPos+t.notchOffset+t.shape.width,i=t.shape.pathRight+yo("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,o=e.height-2*this.constants_.INSIDE_CORNERS.height;t=this.constants_.INSIDE_CORNERS.pathBottom+yo("h",t.notchOffset-this.constants_.INSIDE_CORNERS.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=yo("H",n)+i+yo("v",o)+t+yo("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}},Mm={};Mm.Drawer=Am,e.FieldImage$$module$build$src$core$field_image=class extends nh{constructor(t,n,i,o,r,s,a){if(super(nh.SKIP_SETUP),this.imageElement_=this.clickHandler_=null,this.flipRtl_=this.isDirty_=this.EDITABLE=!1,this.altText_="",i=Number(li(i)),n=Number(li(n)),isNaN(i)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=i||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new _l(n,i+e.FieldImage$$module$build$src$core$field_image.Y_PADDING),this.imageHeight_=i,"function"===typeof r&&(this.clickHandler_=r),t!==nh.SKIP_SETUP&&(a?this.configure_(a):(this.flipRtl_=!!s,this.altText_=li(o)||""),this.setValue(li(t)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl_=e.flipRtl),e.alt&&(this.altText_=li(e.alt))}initView(){this.imageElement_=F(uc.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(al,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return"string"!==typeof e?null:e}doValueUpdate_(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(al,"xlink:href",String(this.value_))}getFlipRtl(){return this.flipRtl_}setAlt(e){e!==this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))}showEditor_(){this.clickHandler_&&this.clickHandler_(this)}setOnClickHandler(e){this.clickHandler_=e}getText_(){return this.altText_}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}},e.FieldImage$$module$build$src$core$field_image.Y_PADDING=1,Ci("field_image",e.FieldImage$$module$build$src$core$field_image),e.FieldImage$$module$build$src$core$field_image.prototype.DEFAULT_VALUE="";var Pm={};Pm.FieldImage=e.FieldImage$$module$build$src$core$field_image;var Fm=class extends nh{constructor(e,t,n){super(nh.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==nh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),void 0!==e.spellcheck&&(this.spellcheck_=e.spellcheck)}initView(){const e=this.getSourceBlock();if(!e)throw new ih;if(this.getConstants().FULL_BLOCK_FIELDS){let t=0,n=0;for(let i,o=0;i=e.inputList[o];o++){for(let e=0;i.fieldRow[e];e++)t++;i.connection&&n++}this.fullBlockClickTarget_=1>=t&&e.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()}doClassValidation_(e){return null===e||void 0===e?null:String(e)}doValueInvalid_(e){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&Qe()&&Ge(new(st(ou))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){if(this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS){var e=this.sourceBlock_;this.borderRect_?this.borderRect_.setAttribute("stroke",e.style.colourTertiary):e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)}}render_(){if(super.render_(),this.isBeingEdited_){this.resizeEditor_();const e=this.htmlInput_;this.isTextValid_?(H(e,"blocklyInvalidInput"),xi(e,lh.INVALID,!1)):(B(e,"blocklyInvalidInput"),xi(e,lh.INVALID,!0))}}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t){this.workspace_=this.sourceBlock_.workspace,e=t||!1,!e&&this.workspace_.options.modalInputs&&(ja||$a||Wa)?this.showPromptEditor_():this.showInlineEditor_(e)}showPromptEditor_(){bt(Pu.CHANGE_VALUE_TITLE,this.getText(),e=>{null!==e&&this.setValue(this.getValueFromEditorText_(e))})}showInlineEditor_(e){const t=this.getSourceBlock();if(!t)throw new ih;fi(this,t.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new ih;tt(!0);const t=hi();var n=this.getClickTarget_();if(!n)throw Error("A click target has not been set.");B(n,"editing"),n=document.createElement("input"),n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);const i=this.workspace_.getScale();var o=this.getConstants().FIELD_TEXT_FONTSIZE*i+"pt";return t.style.fontSize=o,n.style.fontSize=o,o=Fm.BORDERRADIUS*i+"px",this.fullBlockClickTarget_&&(o=this.getScaledBBox(),o=(o.bottom-o.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,n.style.border=1*i+"px solid "+e,t.style.borderRadius=o,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*i+"px")),n.style.borderRadius=o,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.setAttribute("data-untyped-default-value",this.value_),this.resizeEditor_(),this.bindInputEvents_(n),n}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),tt(!1),this.unbindInputEvents_();var e=hi().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");H(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=p(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=p(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(g(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(g(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){e.keyCode===hh.ENTER?(gi(),Oe()):e.keyCode===hh.ESC?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value")),gi(),Oe()):e.keyCode===hh.TAB&&(gi(),Oe(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){this.setValue(this.getValueFromEditorText_(this.htmlInput_.value))}setEditorValue_(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new ih;const t=hi(),n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px",e=new gl(e.RTL?n.right-t.offsetWidth:n.left,n.top),t.style.left=e.x+"px",t.style.top=e.y+"px"}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return String(e)}getValueFromEditorText_(e){return e}};Fm.BORDERRADIUS=4;var Bm={};Bm.FieldInput=Fm,e.FieldTextInput$$module$build$src$core$field_textinput=class extends Fm{constructor(e,t,n){super(e,t,n)}static fromJson(e){return new this(li(e.text),void 0,e)}},Ci("field_input",e.FieldTextInput$$module$build$src$core$field_textinput),e.FieldTextInput$$module$build$src$core$field_textinput.prototype.DEFAULT_VALUE="";var Vm={};Vm.FieldTextInput=e.FieldTextInput$$module$build$src$core$field_textinput;var Hm=class extends Kf{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},$m={};$m.BottomRow=Hm;var Wm=class extends hg{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},Um={};Um.StatementInput=Wm;var zm=class extends Uf{constructor(e){super(e),this.width=this.height=0,this.type|=$f.getType("RIGHT_CONNECTION")}},jm={};jm.RightConnectionShape=zm;var Gm=class extends Ig{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},Km={};Km.TopRow=Gm;var qm=class extends Vg{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new Gm(this.constants_),this.bottomRow=new Hm(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new zm(this.constants_):null,this.rightAlignedDummyInputs_=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return!!t&&(e.type===ql.STATEMENT||t.type===ql.STATEMENT||(e.type===ql.VALUE||e.type===ql.DUMMY)&&(!this.isInline||this.isMultiRow))}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&$f.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&$f.isLeftRoundedCorner(e)&&t&&($f.isPreviousConnection(t)||$f.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&$f.isLeftSquareCorner(e)&&t&&$f.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if($f.isTopRow(e)&&$f.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const n=$f.isInputRow(e)&&e.hasStatement,i=$f.isInputRow(t)&&t.hasStatement;return i||n?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),i&&n?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):$f.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):$f.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const n=this.width-this.startX;return $f.isInputRow(e)&&e.hasStatement||$f.isInputRow(t)&&t.hasStatement?Math.max(n,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):n}getElemCenterline_(e,t){if(e.hasStatement&&!$f.isSpacer(t)&&!$f.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if($f.isInlineInput(t)&&t instanceof Zf){const n=t.connectedBlock;if(n&&n.outputConnection&&n.nextConnection)return e.yPos+n.height/2}return super.getElemCenterline_(e,t)}addInput_(t,n){if(t.type===ql.DUMMY&&n.hasDummyInput&&n.align===e.Align$$module$build$src$core$input.LEFT&&t.align===e.Align$$module$build$src$core$input.RIGHT)this.rightAlignedDummyInputs_.set(n,t);else if(t.type===ql.STATEMENT)return n.elements.push(new Wm(this.constants_,t)),n.hasStatement=!0,void(null===n.align&&(n.align=t.align));super.addInput_(t,n)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs_.get(e)){let n;for(let t=0;t<e.elements.length;t++){const i=e.elements[t];if($f.isSpacer(i)&&(n=i),$f.isField(i)&&i instanceof tg&&i.parentInput===this.rightAlignedDummyInputs_.get(e))break}if(n)return n.width+=t,void(e.width+=t)}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let n=t;for(let r=2;r<this.rows.length-1;r+=2){var i=this.rows[r-1];const s=this.rows[r];var o=this.rows[r+1];if(i=2===r?!!this.topRow.hasPreviousConnection:!!i.followsStatement,o=r+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!o.precedesStatement,$f.isInputRow(s)&&s.hasStatement){let e,i;s.measure(),n=s.width-(null!=(i=null==(e=s.getLastInput())?void 0:e.width)?i:0)+t}else if(i&&(2===r||o)&&$f.isInputRow(s)&&!s.hasStatement){o=s.xPos,i=null;for(let t=0;t<s.elements.length;t++){const r=s.elements[t];$f.isSpacer(r)&&(i=r),i&&($f.isField(r)||$f.isInput(r))&&o<n&&!($f.isField(r)&&r instanceof tg&&(r.field instanceof e.FieldLabel$$module$build$src$core$field_label||r.field instanceof e.FieldImage$$module$build$src$core$field_image))&&(i.width+=n-o),o+=r.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,n=0;n<this.rows.length;n++){const e=this.rows[n];e.yPos=t,t+=e.height}this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(n),n=e.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var n=this.rows[t];if(!$f.isInputRow(n))continue;e=n.elements[n.elements.length-2];let i=this.getNegativeSpacing_(n.elements[1]),o=this.getNegativeSpacing_(e);e=i+o;const r=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<r&&(e=this.width-r,i=e/2,o=e/2),n.elements.unshift(new ag(this.constants_,-i)),n.elements.push(new ag(this.constants_,-o))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)n=this.rows[t],$f.isTopOrBottomRow(n)&&(n.elements[1].width-=e),n.width-=e,n.widthWithConnectedBlocks-=e}}getNegativeSpacing_(t){if(!t||!this.outputConnection)return 0;const n=this.outputConnection.width;var i=this.outputConnection.shape.type;const o=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(i){case o.SHAPES.ROUND:return i=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,i=this.height/2>i?i:this.height/2,n-i*(1-Math.sin(Math.acos((i-this.constants_.SMALL_PADDING)/i)));default:return 0}if($f.isInlineInput(t)&&t instanceof Zf){const e=t.connectedBlock;return t=e?e.pathObject.outputShapeType:t.shape.type,null==t||e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||i===o.SHAPES.HEXAGONAL&&i!==t?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[i][t]}return $f.isField(t)&&t instanceof tg?i===o.SHAPES.ROUND&&t.field instanceof e.FieldTextInput$$module$build$src$core$field_textinput?n-2.75*o.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[i][0]:$f.isIcon(t)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let o=2;o<this.rows.length-1;o+=2){const r=this.rows[o-1],s=this.rows[o],a=this.rows[o+1];var t=2===o,n=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!a.precedesStatement;if(t?this.topRow.hasPreviousConnection:r.followsStatement){var i=s.elements[1];if(i=3===s.elements.length&&i instanceof tg&&(i.field instanceof e.FieldLabel$$module$build$src$core$field_label||i.field instanceof e.FieldImage$$module$build$src$core$field_image),!t&&i)r.height-=this.constants_.SMALL_PADDING,a.height-=this.constants_.SMALL_PADDING,s.height-=this.constants_.MEDIUM_PADDING;else if(t||n){if(n){for(t=!1,n=0;n<s.elements.length;n++)if(i=s.elements[n],i instanceof Zf&&$f.isInlineInput(i)&&i.connectedBlock&&!i.connectedBlock.isShadow()&&40<=i.connectedBlock.getHeightWidth().height){t=!0;break}t&&(r.height-=this.constants_.SMALL_PADDING,a.height-=this.constants_.SMALL_PADDING)}}else r.height+=this.constants_.SMALL_PADDING}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},Ym={};Ym.RenderInfo=qm;var Xm=class extends Gg{constructor(e,t,n){super(e,t,n),this.markerCircle_=null}showWithInputOutput_(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput_(e)}showWithInput_(e){this.showWithInputOutput_(e)}showWithBlock_(e){e=e.getLocation();const t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle_(e,t){let n,i;null==(n=this.markerCircle_)||n.setAttribute("cx",e.toString()),null==(i=this.markerCircle_)||i.setAttribute("cy",t.toString()),this.currentMarkerSvg=this.markerCircle_}hide(){super.hide(),this.markerCircle_&&(this.markerCircle_.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle_=F(uc.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const e=this.getBlinkProperties_();F(uc.ANIMATE,e,this.markerCircle_)}return this.markerSvg_}applyColour_(e){let t,n;if(super.applyColour_(e),null==(t=this.markerCircle_)||t.setAttribute("fill",this.colour_),null==(n=this.markerCircle_)||n.setAttribute("stroke",this.colour_),this.isCursor()){let t;e=this.colour_+";transparent;transparent;",null==(t=this.markerCircle_)||t.firstElementChild.setAttribute("values",e)}}},Zm={};Zm.MarkerSvg=Xm;var Jm=class extends qg{constructor(e,t,n){super(e,t,n),this.svgPathSelected_=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=n}setPath(e){super.setPath(e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const n of this.outlines.values())n.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath_(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath_(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath_(e){return this.outlines.has(e)||this.outlines.set(e,F(uc.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath_(e){let t,n;null==(t=this.outlines.get(e))||null==(n=t.parentNode)||n.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},Qm={};Qm.PathObject=Jm;var e_=class extends em{constructor(e){super(e)}makeConstants_(){return new Nm}makeRenderInfo_(e){return new qm(this,e)}makeDrawer_(e,t){return new Am(e,t)}makeMarkerDrawer(e,t){return new Xm(e,this.getConstants(),t)}makePathObject(e,t){return new Jm(e,t,this.getConstants())}getConstants(){return this.constants_}shouldHighlightConnection(e){return e.type!==yd.INPUT_VALUE&&e.type!==yd.OUTPUT_VALUE}getConnectionPreviewMethod(e,t,n){return t.type===yd.OUTPUT_VALUE?e.isConnected()?Zg.PREVIEW_TYPE.REPLACEMENT_FADE:Zg.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,n)}};cs("zelos",e_);var t_={};t_.Renderer=e_;var n_={};n_.BottomRow=Hm,n_.ConstantProvider=Nm,n_.Drawer=Am,n_.MarkerSvg=Xm,n_.PathObject=Jm,n_.RenderInfo=qm,n_.Renderer=e_,n_.RightConnectionShape=zm,n_.StatementInput=Wm,n_.TopRow=Gm;var i_=class extends Vg{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const i=this.rows[t];var n=i.elements;if(i.elements=[],i.startsWithElemSpacer()&&i.elements.push(new ag(this.constants_,this.getInRowSpacing_(null,n[0]))),n.length){for(let e=0;e<n.length-1;e++){i.elements.push(n[e]);const t=this.getInRowSpacing_(n[e],n[e+1]);i.elements.push(new ag(this.constants_,t))}i.elements.push(n[n.length-1]),i.endsWithElemSpacer()&&(n=this.getInRowSpacing_(n[n.length-1],null),e&&i.hasDummyInput&&(n+=this.constants_.TAB_WIDTH),i.elements.push(new ag(this.constants_,n)))}}}getInRowSpacing_(e,t){if(!e)return t&&$f.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&$f.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&$f.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!$f.isInput(e)&&!t)return $f.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:$f.isIcon(e)?2*this.constants_.LARGE_PADDING+1:$f.isHat(e)?this.constants_.NO_PADDING:$f.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:$f.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:$f.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if($f.isInput(e)&&!t){if($f.isExternalInput(e))return this.constants_.NO_PADDING;if($f.isInlineInput(e))return this.constants_.LARGE_PADDING;if($f.isStatementInput(e))return this.constants_.NO_PADDING}if(!$f.isInput(e)&&t&&$f.isInput(t)){if($f.isField(e)&&e.isEditable){if($f.isInlineInput(t)||$f.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if($f.isInlineInput(t)||$f.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if($f.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if($f.isIcon(e)&&t&&!$f.isInput(t))return this.constants_.LARGE_PADDING;if($f.isInlineInput(e)&&t&&$f.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if($f.isLeftSquareCorner(e)&&t){if($f.isHat(t))return this.constants_.NO_PADDING;if($f.isPreviousConnection(t)||$f.isNextConnection(t))return t.notchOffset}return $f.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:$f.isField(e)&&t&&$f.isField(t)&&e.isEditable===t.isEditable||t&&$f.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return $f.isTopRow(e)&&$f.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:$f.isTopRow(e)||$f.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if($f.isSpacer(t))return e.yPos+t.height/2;if($f.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,$f.isNextConnection(t)?e+t.height/2:e-t.height/2;if($f.isTopRow(e))return $f.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return $f.isField(t)&&e.hasStatement?n+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):n+e.height/2}finalize_(){let e=0,t=0;for(var n=0;n<this.rows.length;n++){const o=this.rows[n];o.yPos=t,o.xPos=this.startX,t+=o.height,e=Math.max(e,o.widthWithConnectedBlocks);var i=t-this.topRow.ascenderHeight;o===this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,t+=i),this.recordElemPositions_(o)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},o_={};o_.RenderInfo=i_;var r_=class extends em{constructor(e){super(e)}makeRenderInfo_(e){return new i_(this,e)}};cs("thrasos",r_);var s_={};s_.Renderer=r_;var a_={};a_.RenderInfo=i_,a_.Renderer=r_;var l_=class extends Dg{constructor(){super()}},u_={};u_.ConstantProvider=l_;var c_=class extends Fg{constructor(e,t){super(e,t)}},h_={};h_.Drawer=c_;var d_=class extends Vg{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}},p_={};p_.RenderInfo=d_;var f_=class extends em{constructor(e){super(e)}makeConstants_(){return new l_}makeRenderInfo_(e){return new d_(this,e)}makeDrawer_(e,t){return new c_(e,t)}};cs("minimalist",f_);var g_={};g_.Renderer=f_;var m_={};m_.ConstantProvider=l_,m_.Drawer=c_,m_.RenderInfo=d_,m_.Renderer=f_;var __=class extends Dg{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {",`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},v_={};v_.ConstantProvider=__;var y_=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+"\n"+this.inlineSteps_}drawTopCorner(e){this.steps_+=mo(e.xPos,this.info_.startY);for(let t,n=0;t=e.elements[n];n++)$f.isLeftSquareCorner(t)?this.steps_+=this.highlightConstants_.START_POINT:$f.isLeftRoundedCorner(t)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):$f.isPreviousConnection(t)?this.steps_+=this.notchPaths_.pathLeft:$f.isHat(t)?this.steps_+=this.startPaths_.path(this.RTL_):$f.isSpacer(t)&&0!==t.width&&(this.steps_+=yo("H",t.xPos+t.width-this.highlightOffset_));this.steps_+=yo("H",e.xPos+e.width-this.highlightOffset_)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+yo("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const n=e.height-t.connectionHeight;this.steps_+=go(t.xPos+t.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+yo("v",n)}else this.steps_+=go(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const n=e.height-2*this.insideCornerPaths_.height;this.steps_+=go(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+yo("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+_o(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=go(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+_o(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset_;e instanceof Tg&&e.followsStatement&&(this.steps_+=yo("H",t)),this.RTL_&&(this.steps_+=yo("H",t),e.height>this.highlightOffset_&&(this.steps_+=yo("V",e.yPos+e.height-this.highlightOffset_)))}drawBottomRow(e){if(this.RTL_)this.steps_+=yo("V",e.baseline-this.highlightOffset_);else{const t=this.info_.bottomRow.elements[0];$f.isLeftSquareCorner(t)?this.steps_+=go(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):$f.isLeftRoundedCorner(t)&&(this.steps_+=go(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=go(this.info_.startX,e):(this.steps_+=go(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=yo("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,$f.isLeftRoundedCorner(e.elements[0])?this.steps_+=yo("V",this.outsideCornerPaths_.height):this.steps_+=yo("V",e.capline+this.highlightOffset_))}drawInlineInput(e){const t=this.highlightOffset_,n=e.xPos+e.connectionWidth;var i=e.centerline-e.height/2;const o=e.width-e.connectionWidth,r=i+t;this.RTL_?(i=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=go(n-t,r)+yo("v",i)+this.puzzleTabPaths_.pathDown(this.RTL_)+yo("v",e)+yo("h",o)):this.inlineSteps_+=go(e.xPos+e.width+t,r)+yo("v",e.height)+yo("h",-o)+go(n,i+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},b_={};b_.Highlighter=y_;var w_=class extends Fg{constructor(e,t){super(e,t),this.highlighter_=new y_(t)}draw(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();const e=this.block_.pathObject;if(e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),as()){let e,t;null==(e=this.block_)||null==(t=e.renderingDebugger)||t.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=yo("H",e.xPos+e.width)+yo("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(null!=t&&t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},C_={};C_.Drawer=w_;var S_=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=mo(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e+t)-t,i=mo(n,n)+bo("a","0 0,0",e,po(-n-t,e-n)),o=bo("a","0 0,0",e+t,po(e+t,e+t)),r=mo(n,-n)+bo("a","0 0,0",e+t,po(e-n,n+t));return{width:e+t,height:e,pathTop(e){return e?i:""},pathBottom(e){return e?o:r}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e-t)+t,i=mo(n,n)+bo("a","0 0,1",e-t,po(e-n,-n+t)),o=mo(t,e)+bo("a","0 0,1",e-t,po(e,-e+t)),r=-n,s=mo(n,r)+bo("a","0 0,1",e-t,po(-n+t,-r-e));return{height:e,topLeft(e){return e?i:o},bottomLeft(){return s}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,n=mo(-2,3.4-t)+_o(-.45*e,-2.1),i=yo("v",2.5)+mo(.97*-e,2.5)+fo("q",[po(.05*-e,10),po(.3*e,9.5)])+mo(.67*e,-1.9)+yo("v",2.5),o=yo("v",-1.5)+mo(-.92*e,-.5)+fo("q",[po(-.19*e,-5.5),po(0,-11)])+mo(.92*e,1),r=mo(-5,t-.7)+_o(.46*e,-2.1);return{width:e,height:t,pathUp(e){return e?n:o},pathDown(e){return e?i:r}}}makeNotch(){return{pathLeft:yo("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:_o(5.1,2.6)+mo(-10.2,6.8)+_o(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=mo(25,-8.7)+fo("c",[po(29.7,-6.2),po(57.2,-.5),po(75,8.7)]),n=fo("c",[po(17.8,-9.2),po(45.3,-14.9),po(75,-8.7)])+go(100.5,e+.5);return{path(e){return e?t:n}}}},E_={};E_.HighlightConstantProvider=S_;var T_=class extends ug{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},k_={};k_.InlineInput=T_;var x_=class extends hg{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},L_={};L_.StatementInput=x_;var I_=class extends Vg{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type===ql.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e.type===ql.VALUE?(t.elements.push(new T_(this.constants_,e)),t.hasInlineInput=!0):e.type===ql.STATEMENT?(t.elements.push(new x_(this.constants_,e)),t.hasStatement=!0):e.type===ql.VALUE?(t.elements.push(new Qf(this.constants_,e)),t.hasExternalInput=!0):e.type===ql.DUMMY&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||null!==t.align||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let n,i=0;n=this.rows[i];i++)n.hasExternalInput&&(e=!0);for(let n,i=0;n=this.rows[i];i++){var t=n.elements;if(n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new ag(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let e=0;e<t.length-1;e++){n.elements.push(t[e]);const i=this.getInRowSpacing_(t[e],t[e+1]);n.elements.push(new ag(this.constants_,i))}n.elements.push(t[t.length-1]),n.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&n.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),n.elements.push(new ag(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&$f.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&$f.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&$f.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!$f.isInput(e)&&(!t||$f.isStatementInput(t)))return $f.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:$f.isIcon(e)?2*this.constants_.LARGE_PADDING+1:$f.isHat(e)?this.constants_.NO_PADDING:$f.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:$f.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:$f.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if($f.isInput(e)&&!t){if($f.isExternalInput(e))return this.constants_.NO_PADDING;if($f.isInlineInput(e))return this.constants_.LARGE_PADDING;if($f.isStatementInput(e))return this.constants_.NO_PADDING}if(!$f.isInput(e)&&t&&$f.isInput(t)){if($f.isField(e)&&e.isEditable){if($f.isInlineInput(t)||$f.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if($f.isInlineInput(t)||$f.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if($f.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if($f.isIcon(e)&&t&&!$f.isInput(t))return this.constants_.LARGE_PADDING;if($f.isInlineInput(e)&&t&&$f.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if($f.isLeftSquareCorner(e)&&t){if($f.isHat(t))return this.constants_.NO_PADDING;if($f.isPreviousConnection(t))return t.notchOffset;if($f.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if($f.isLeftRoundedCorner(e)&&t){if($f.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if($f.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return $f.isField(e)&&t&&$f.isField(t)&&e.isEditable===t.isEditable||t&&$f.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return $f.isTopRow(e)&&$f.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:$f.isTopRow(e)||$f.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if($f.isSpacer(t))return e.yPos+t.height/2;if($f.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,$f.isNextConnection(t)?e+t.height/2:e-t.height/2;if($f.isTopRow(e))return $f.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return $f.isField(t)||$f.isIcon(t)?(n+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=$f.isInlineInput(t)?n+t.height/2:n+e.height/2,n}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,n=null;for(let i,o=this.rows.length-1;i=this.rows[o];o--)t.set(i,e),$f.isInputRow(i)&&(i.hasStatement&&this.alignStatementRow_(i),n&&n.hasStatement&&i.width<n.width?t.set(i,n.width):e=i.width,n=i);e=0;for(let i,o=0;i=this.rows[o];o++)i.hasStatement?e=this.getDesiredRowWidth_(i):$f.isSpacer(i)?i.width=Math.max(e,t.get(i)):(n=i.width,e=Math.max(e,t.get(i))-n,0<e&&this.addAlignmentPadding_(i,e),e=i.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let i,o=0;i=this.rows[o];o++){i.yPos=t,i.xPos=this.startX,t+=i.height,e=Math.max(e,i.widthWithConnectedBlocks);var n=t-this.topRow.ascenderHeight;i===this.bottomRow&&n<this.constants_.MIN_BLOCK_HEIGHT&&(n=this.constants_.MIN_BLOCK_HEIGHT-n,this.bottomRow.height+=n,t+=n),this.recordElemPositions_(i)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},O_={};O_.RenderInfo=I_;var D_=class extends qg{constructor(e,t,n){super(e,t,n),this.constants=n,this.colourDark="#000000",this.svgPathDark=F(uc.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=F(uc.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=oi("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},N_={};N_.PathObject=D_;var R_=class extends em{constructor(e){super(e),this.highlightConstants_=null}init(e,t){super.init(e,t),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new __}makeRenderInfo_(e){return new I_(this,e)}makeDrawer_(e,t){return new w_(e,t)}makePathObject(e,t){return new D_(e,t,this.getConstants())}makeHighlightConstants_(){return new S_(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants_)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants_}};cs("geras",R_);var A_={};A_.Renderer=R_;var M_={};M_.ConstantProvider=__,M_.Drawer=w_,M_.HighlightConstantProvider=S_,M_.Highlighter=y_,M_.InlineInput=T_,M_.PathObject=D_,M_.RenderInfo=I_,M_.Renderer=R_,M_.StatementInput=x_;var P_=class{constructor(e){this.container=e,this.previousSibling=null,this.createDom()}createDom(){this.SVG||(this.SVG=F(uc.SVG,{xmlns:rl,"xmlns:html":sl,"xmlns:xlink":al,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"}),this.container.appendChild(this.SVG))}translateSurface(e,t){e=Math.round(e),t=Math.round(t),this.SVG.style.display="block",j(this.SVG,"translate3d("+e+"px, "+t+"px, 0)")}getSurfaceTranslation(){return $t(this.SVG)}clearAndHide(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");const t=this.SVG.childNodes[0],n=this.SVG.childNodes[1];if(!t||!n||!t.classList.contains("blocklyBlockCanvas")&&n.classList.contains("blocklyBubbleCanvas"))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!==this.previousSibling?U(t,this.previousSibling):e.insertBefore(t,e.firstChild),U(n,t),this.SVG.style.display="none",this.SVG.childNodes.length)throw Error("Drag surface was not cleared.");j(this.SVG,""),this.previousSibling=null}setContentsAndShow(e,t,n,i,o,r){if(this.SVG.childNodes.length)throw Error("Already dragging a block.");this.previousSibling=n,e.setAttribute("transform","translate(0, 0) scale("+r+")"),t.setAttribute("transform","translate(0, 0) scale("+r+")"),this.SVG.setAttribute("width",String(i)),this.SVG.setAttribute("height",String(o)),this.SVG.appendChild(e),this.SVG.appendChild(t),this.SVG.style.display="block"}},F_={};F_.WorkspaceDragSurfaceSvg=P_;var B_=class{constructor(e){this.container=e,this.scale=1,this.surfaceXY=new gl(0,0),this.childSurfaceXY=new gl(0,0),this.svg=F(uc.SVG,{xmlns:rl,"xmlns:html":sl,"xmlns:xlink":al,version:"1.1",class:"blocklyBlockDragSurface"},this.container),this.dragGroup=F(uc.G,{},this.svg)}createDom(){t("BlockDragSurfaceSvg createDom","June 2022","June 2023")}setBlocksAndShow(e){if(this.dragGroup.childNodes.length)throw Error("Already dragging a block.");this.dragGroup.appendChild(e),this.svg.style.display="block",this.surfaceXY=new gl(0,0)}translateAndScaleGroup(e,t,n){this.scale=n,e=Math.round(e),t=Math.round(t),this.childSurfaceXY.x=e,this.childSurfaceXY.y=t,this.dragGroup.setAttribute("transform","translate("+e+","+t+") scale("+n+")")}translateSurfaceInternal_(){const e=Math.round(this.surfaceXY.x),t=Math.round(this.surfaceXY.y);this.svg.style.display="block",j(this.svg,"translate3d("+e+"px, "+t+"px, 0)")}translateBy(e,t){this.surfaceXY=new gl(this.surfaceXY.x+e,this.surfaceXY.y+t),this.translateSurfaceInternal_()}translateSurface(e,t){this.surfaceXY=new gl(e*this.scale,t*this.scale),this.translateSurfaceInternal_()}getSurfaceTranslation(){const e=$t(this.svg);return new gl(e.x/this.scale,e.y/this.scale)}getGroup(){return this.dragGroup}getSvgRoot(){return this.svg}getCurrentBlock(){return this.dragGroup.firstChild}getWsTranslation(){return this.childSurfaceXY.clone()}clearAndHide(e){const t=this.getCurrentBlock();if(t&&(e?e.appendChild(t):this.dragGroup.removeChild(t)),this.svg.style.display="none",this.dragGroup.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY=new gl(0,0)}},V_={};V_.BlockDragSurfaceSvg=B_;var H_={};H_.bumpIntoBounds=ks,H_.bumpIntoBoundsHandler=xs,H_.bumpTopObjectsIntoBounds=Is;var $_=class{constructor(e,t,n,i,o){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,t=void 0===t||t,n=void 0===n||n;const r=t&&n;t&&(this.hScroll=new Eh(e,!0,r,i,o)),n&&(this.vScroll=new Eh(e,!1,r,i,o)),r&&(this.corner_=F(uc.RECT,{height:Eh.scrollbarThickness,width:Eh.scrollbarThickness,class:"blocklyScrollbarBackground"}),U(this.corner_,e.getBubbleCanvas()))}dispose(){W(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,n=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(n=!0)):n=t=!0,t||n){try{Ze(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&n&&this.vScroll.resize(e)}finally{Je()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let e;null==(e=this.corner_)||e.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let e;null==(e=this.corner_)||e.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},W_={};W_.ScrollbarPair=$_;var U_=!1,z_={};z_.inject=Os,e.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=E());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let n,i=0;n=e[i];i++){let e=this.blockToCode(n);Array.isArray(e)&&(e=e[0]),e&&(n.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,n)+e),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,n))),t.push(e))}return t=t.join("\n"),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,"\n"),t.replace(/[ \t]+\n/g,"\n")}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let n=0;n<e.length;n++){const i=e[n].getCommentText();i&&t.push(i)}return t.length&&t.push(""),t.join("\n")}blockToCode(e,t){if(!1===this.isInitialized&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!==typeof n)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(n=n.call(e,e),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"===typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)}valueToCode(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var i=e.getInputTargetBlock(t);if(!i)return"";if(t=this.blockToCode(i),""===t)return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: "+i.type);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+i.type);if(!e)return"";i=!1;var o=Math.floor(n);const r=Math.floor(t);if(o<=r&&(o!==r||0!==o&&99!==o))for(i=!0,o=0;o<this.ORDER_OVERRIDES.length;o++)if(this.ORDER_OVERRIDES[o][0]===n&&this.ORDER_OVERRIDES[o][1]===t){i=!1;break}return i&&(e="("+e+")"),e}statementToCode(e,t){if(e=e.getInputTargetBlock(t),t=this.blockToCode(e),"string"!==typeof t)throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(t,n){if(!this.definitions_[t]){const i=this.nameDB_.getDistinctName(t,e.NameType$$module$build$src$core$names.PROCEDURE);let o;for(this.functionNames_[t]=i,Array.isArray(n)&&(n=n.join("\n")),n=n.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);o!==n;)o=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[t]=n}return this.functionNames_[t]}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,n){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Object.defineProperties(e.CodeGenerator$$module$build$src$core$generator.prototype,{variableDB_:{get(){return t("variableDB_","version 9","version 10","nameDB_"),this.nameDB_},set(e){t("variableDB_","version 9","version 10","nameDB_"),this.nameDB_=e}}});var j_={};j_.CodeGenerator=e.CodeGenerator$$module$build$src$core$generator;var G_=class{constructor(e,t,n,i){this.workspace=e,this.targetWorkspace=t,this.isLabel_=i,this.onMouseUpWrapper_=null,this.height=this.width=0,this.svgText_=this.svgGroup_=null,this.text_=n.text,this.position_=new gl(0,0),this.callbackKey_=n.callbackKey||n.callbackkey,this.cssClass_=n["web-class"]||null,this.info=n}createDom(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";let t;this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=F(uc.G,{class:e},this.workspace.getCanvas()),this.isLabel_||(t=F(uc.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_)),e=F(uc.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);const n=F(uc.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);var i=li(this.text_);this.workspace.RTL&&(i+="‏"),n.textContent=i,this.isLabel_&&(this.svgText_=n,this.workspace.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));const o=oe(n,"fontSize"),r=oe(n,"fontWeight"),s=oe(n,"fontFamily");if(this.width=X(n,o,r,s),i=Z(i,o,r,s),this.height=i.height,!this.isLabel_){let e,n;this.width+=2*G_.TEXT_MARGIN_X,this.height+=2*G_.TEXT_MARGIN_Y,null==(e=t)||e.setAttribute("width",this.width.toString()),null==(n=t)||n.setAttribute("height",this.height.toString())}return e.setAttribute("width",this.width.toString()),e.setAttribute("height",this.height.toString()),n.setAttribute("x",(this.width/2).toString()),n.setAttribute("y",(this.height/2-i.height/2+i.baseline).toString()),this.updateTransform_(),this.onMouseUpWrapper_=p(this.svgGroup_,"pointerup",this,this.onMouseUp_),this.svgGroup_}show(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")}updateTransform_(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")}moveTo(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()}isLabel(){return this.isLabel_}getPosition(){return this.position_}getButtonText(){return this.text_}getTargetWorkspace(){return this.targetWorkspace}dispose(){this.onMouseUpWrapper_&&g(this.onMouseUpWrapper_),this.svgGroup_&&W(this.svgGroup_),this.svgText_&&this.workspace.getThemeManager().unsubscribe(this.svgText_)}onMouseUp_(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace.getButtonCallback(this.callbackKey_)?this.isLabel_||(e=this.targetWorkspace.getButtonCallback(this.callbackKey_))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)}};G_.TEXT_MARGIN_X=5,G_.TEXT_MARGIN_Y=2,Vt("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var K_={};K_.FlyoutButton=G_;var q_=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,n=0;return e&&(t=e.getWidth(),n=e.getHeight()),new _l(t,n)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0;const t=this.getToolboxMetrics(),n=this.getFlyoutMetrics(!0),i=!!this.workspace_.getToolbox(),o=!!this.workspace_.getFlyout(!0);var r=i?t.position:n.position,s=r===Vh.LEFT;return r=r===Vh.TOP,i&&s?e=t.width:o&&s&&(e=n.width),s=0,i&&r?s=t.height:o&&r&&(s=n.height),{top:s,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),n=this.getToolboxMetrics(),i=this.getFlyoutMetrics(!0),o=this.workspace_.getToolbox()?n.position:i.position;return this.workspace_.getToolbox()?o===Vh.TOP||o===Vh.BOTTOM?t.height-=n.height:o!==Vh.LEFT&&o!==Vh.RIGHT||(t.width-=n.width):this.workspace_.getFlyout(!0)&&(o===Vh.TOP||o===Vh.BOTTOM?t.height-=i.height:o!==Vh.LEFT&&o!==Vh.RIGHT||(t.width-=i.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const i={};return n||(i.top=e.top,i.bottom=e.top+e.height),t||(i.left=e.left,i.right=e.left+e.width),i}getPaddedContent_(e,t){const n=t.top+t.height,i=t.left+t.width,o=e.width;e=e.height;const r=o/2,s=e/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-r,i-o),right:Math.max(i+r,t.left+o)}}getScrollMetrics(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var i=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,i),i=void 0!==n.top?n.top:t.top;const o=void 0!==n.left?n.left:t.left;return{top:i/e,left:o/e,width:((void 0!==n.right?n.right:t.right)-o)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-i)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),i=this.getAbsoluteMetrics(),o=this.getViewMetrics(),r=this.getContentMetrics(),s=this.getScrollMetrics(!1,o,r);return{contentHeight:r.height,contentWidth:r.width,contentTop:r.top,contentLeft:r.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:o.height,viewWidth:o.width,viewTop:o.top,viewLeft:o.left,absoluteTop:i.top,absoluteLeft:i.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};Re(Wl.METRICS_MANAGER,$l,q_);var Y_={};Y_.MetricsManager=q_;var X_,Z_=class extends q_{constructor(e,t){super(e),this.flyout_=t}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}}},J_={};J_.FlyoutMetricsManager=Z_,function(e){e.BLOCK="block",e.BUTTON="button"}(X_||(X_={}));var Q_=class extends bp{constructor(e){super(),this.horizontalLayout=!1,this.eventWrappers_=[],this.filterWrapper_=this.reflowWrapper_=null,this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.recycledBlocks_=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible_=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Sm(e),this.workspace_.setMetricsManager(new Z_(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=Ue(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=F(e,{class:"blocklyFlyout",style:"display: none"}),this.svgBackground_=F(uc.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new $_(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,p(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,p(this.svgBackground_,"pointerdown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[td.Capability.DELETE_AREA,td.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),g(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&(W(this.svgGroup_),this.svgGroup_=null),this.svgBackground_=null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}isVisible(){return this.isVisible_}setVisible(e){const t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())}setContainerVisible(e){const t=e!==this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()}updateDisplay_(){let e,t;e=!!this.containerVisible_&&this.isVisible(),this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none"),null==(t=this.workspace_.scrollbar)||t.setContainerVisible(e)}positionAt_(e,t,n,i){let o,r,s;if(null==(o=this.svgGroup_)||o.setAttribute("width",e.toString()),null==(r=this.svgGroup_)||r.setAttribute("height",t.toString()),this.workspace_.setCachedParentSvgSize(e,t),"svg"===(null==(s=this.svgGroup_)?void 0:s.tagName))j(this.svgGroup_,"translate("+n+"px,"+i+"px)");else{let e;null==(e=this.svgGroup_)||e.setAttribute("transform","translate("+n+","+i+")")}(e=this.workspace_.scrollbar)&&(e.setOrigin(n,i),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(let e,t=0;e=this.listeners_[t];t++)g(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"===typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=Bi(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(p(this.svgBackground_,"pointerover",this,(function(){const e=this.workspace_.getTopBlocks(!1);for(let t,n=0;t=e[n];n++)t.removeSelect()}))),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_),this.emptyRecycledBlocks_()}createFlyoutInfo_(e){const t=[],n=[];this.permanentlyDisabled_.length=0;const i=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(let r,s=0;r=e[s];s++){if("custom"in r){var o=this.getDynamicCategoryContents_(r.custom);o=Bi(o),e.splice.apply(e,[s,1,...o]),r=e[s]}switch(r.kind.toUpperCase()){case"BLOCK":o=r;const e=this.createFlyoutBlock_(o);t.push({type:X_.BLOCK,block:e}),this.addBlockGap_(o,n,i);break;case"SEP":this.addSeparatorGap_(r,n,i);break;case"LABEL":o=this.createButton_(r,!0),t.push({type:X_.BUTTON,button:o}),n.push(i);break;case"BUTTON":o=this.createButton_(r,!1),t.push({type:X_.BUTTON,button:o}),n.push(i)}}return{contents:t,gaps:n}}getDynamicCategoryContents_(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),"function"!==typeof e)throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton_(e,t){return new G_(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock_(e){let t;return e.blockxml?(e="string"===typeof e.blockxml?nn(e.blockxml):e.blockxml,(t=this.getRecycledBlock_(e.getAttribute("type")))||(t=an(e,this.workspace_))):(t=this.getRecycledBlock_(e.type),t||(void 0===e.enabled&&(e.enabled="true"!==e.disabled&&!0!==e.disabled),t=jo(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled_.push(t),t}getRecycledBlock_(e){let t=-1;for(let n=0;n<this.recycledBlocks_.length;n++)if(this.recycledBlocks_[n].type===e){t=n;break}return-1===t?void 0:this.recycledBlocks_.splice(t,1)[0]}addBlockGap_(e,t,n){let i;e.gap?i=parseInt(e.gap.toString()):e.blockxml&&(e="string"===typeof e.blockxml?nn(e.blockxml):e.blockxml,i=parseInt(e.getAttribute("gap"))),t.push(!i||isNaN(i)?n:i)}addSeparatorGap_(e,t,n){e=parseInt(e.gap.toString()),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)}clearOldBlocks_(){var e=this.workspace_.getTopBlocks(!1);for(let n,i=0;n=e[i];i++)this.blockIsRecyclable_(n)?this.recycleBlock_(n):n.dispose(!1,!1);for(e=0;e<this.mats_.length;e++){const t=this.mats_[e];t&&(Bn(t),W(t))}this.mats_.length=0;for(let n,i=0;n=this.buttons_[i];i++)n.dispose();let t;this.buttons_.length=0,null==(t=this.workspace_.getPotentialVariableMap())||t.clear()}emptyRecycledBlocks_(){for(let e=0;e<this.recycledBlocks_.length;e++)this.recycledBlocks_[e].dispose();this.recycledBlocks_=[]}blockIsRecyclable_(e){return!1}recycleBlock_(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks_.push(e)}addBlockListeners_(e,t,n){this.listeners_.push(p(e,"pointerdown",null,this.blockMouseDown_(t))),this.listeners_.push(p(n,"pointerdown",null,this.blockMouseDown_(t))),this.listeners_.push(f(e,"pointerenter",t,t.addSelect)),this.listeners_.push(f(e,"pointerleave",t,t.removeSelect)),this.listeners_.push(f(n,"pointerenter",t,t.addSelect)),this.listeners_.push(f(n,"pointerleave",t,t.removeSelect))}blockMouseDown_(e){return t=>{const n=this.targetWorkspace.getGesture(t);n&&(n.setStartBlock(e),n.handleFlyoutStart(t,this))}}onMouseDown_(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;Ze();var n=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock_(e)}finally{Je()}if(this.targetWorkspace.hideChaff(),e=Bt(this.targetWorkspace,n),Qe()){for(tt(!0),n=0;n<e.length;n++){const t=e[n];Ge(new(st(su))(t))}Ge(new(st(nu))(t))}return this.autoClose?this.hide():this.filterForCapacity_(),t}initFlyoutButton_(e,t,n){const i=e.createDom();e.moveTo(t,n),e.show(),this.listeners_.push(p(i,"pointerdown",this,this.onMouseDown_)),this.buttons_.push(e)}createRect_(e,t,n,i,o){return t=F(uc.RECT,{"fill-opacity":0,x:t,y:n,height:i.height,width:i.width}),t.tooltip=e,Fn(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats_[o]=t}moveRectToBlock_(e,t){const n=t.getHeightWidth();e.setAttribute("width",n.width.toString()),e.setAttribute("height",n.height.toString()),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",t.y.toString()),e.setAttribute("x",(this.RTL?t.x-n.width:t.x).toString())}filterForCapacity_(){const e=this.workspace_.getTopBlocks(!1);for(let t,n=0;t=e[n];n++)if(-1===this.permanentlyDisabled_.indexOf(t)){const e=this.targetWorkspace.isCapacityAvailable(D(t));for(;t;)t.setEnabled(e),t=t.getNextBlock()}}reflow(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)}isScrollable(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()}placeNewBlock_(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");const n=Po(e);return t.setResizesEnabled(!1),t=jo(n,t),this.positionNewBlock_(e,t),t}positionNewBlock_(e,t){const n=this.targetWorkspace;var i=n.getOriginOffsetInPixels(),o=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),o=gl.sum(o,e),i=gl.difference(o,i),i.scale(1/n.scale),t.moveTo(new gl(i.x,i.y))}};Q_.FlyoutItemType=X_;var ev={};ev.Flyout=Q_;var tv=class extends Q_{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),i=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"===typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-i.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),n=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Vh.LEFT?e.width:n.width-this.width_:this.toolboxPosition_===Vh.LEFT?0:n.width:this.toolboxPosition_===Vh.LEFT?0:n.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath_(e,t){const n=this.toolboxPosition_===Vh.RIGHT;var i=e+this.CORNER_RADIUS;i=["M "+(n?i:0)+",0"],i.push("h",n?-e:e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",Math.max(0,t)),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",n?e:-e),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setY(0)}wheel_(e){var t=y(e);if(t.y){const e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics();let i;t=e.getViewMetrics().top-n.top+t.y,null==(i=this.workspace_.scrollbar)||i.setY(t),gi(),Oe()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN;const i=this.RTL?n:n+this.tabWidth_;for(let a,l=0;a=e[l];l++)if("block"===a.type){var o=a.block,r=o.getDescendants(!1);for(let t,n=0;t=r[n];n++)t.isInFlyout=!0;o.render(),r=o.getSvgRoot();const e=o.getHeightWidth();var s=o.outputConnection?i-this.tabWidth_:i;o.moveBy(s,n),s=this.createRect_(o,this.RTL?s-e.width:s,n,e,l),this.addBlockListeners_(r,o,s),n+=e.height+t[l]}else"button"===a.type&&(o=a.button,this.initFlyoutButton_(o,i,n),n+=o.height+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Vh.LEFT?new pl(-1e9,1e9,-1e9,t+e.width):new pl(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let i,o=0;i=t[o];o++){var n=i.getHeightWidth().width;i.outputConnection&&(n-=this.tabWidth_),e=Math.max(e,n)}for(let i,o=0;i=this.buttons_[o];o++)e=Math.max(e,i.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=Eh.scrollbarThickness,this.width_!==e){for(let i,o=0;i=t[o];o++){if(this.RTL){n=i.getRelativeToSurfaceXY().x;let t=e/this.workspace_.scale-this.MARGIN;i.outputConnection||(t-=this.tabWidth_),i.moveBy(t-n,0)}this.rectMap_.has(i)&&this.moveRectToBlock_(this.rectMap_.get(i),i)}if(this.RTL)for(let n,i=0;n=this.buttons_[i];i++)t=n.getPosition().y,n.moveTo(e/this.workspace_.scale-n.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==Vh.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.recordDragTargets()}}};tv.registryName="verticalFlyout",Re(Wl.FLYOUTS_VERTICAL_TOOLBOX,$l,tv);var nv={};nv.VerticalFlyout=tv;var iv=class extends Q_{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),i=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"===typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-i.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),n=e.getViewMetrics();e=e.getToolboxMetrics();const i=this.toolboxPosition_===Vh.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?i?e.height:n.height-this.height_:i?0:n.height:i?0:n.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath_(e,t){const n=this.toolboxPosition_===Vh.TOP,i=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(i.push("h",e+2*this.CORNER_RADIUS),i.push("v",t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",-e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),i.push("h",e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",t),i.push("h",-e-2*this.CORNER_RADIUS)),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setX(this.RTL?1/0:0)}wheel_(e){var t=y(e);if(t=t.x||t.y){const e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics();let i;t=e.getViewMetrics().left-n.left+t,null==(i=this.workspace_.scrollbar)||i.setX(t),gi(),Oe()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const n=this.MARGIN;let i=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(let a,l=0;a=e[l];l++)if("block"===a.type){var o=a.block,r=o.getDescendants(!1);for(let t,n=0;t=r[n];n++)t.isInFlyout=!0;o.render(),r=o.getSvgRoot();const e=o.getHeightWidth();var s=o.outputConnection?this.tabWidth_:0;s=this.RTL?i+e.width:i-s,o.moveBy(s,n),s=this.createRect_(o,s,n,e,l),i+=e.width+t[l],this.addBlockListeners_(r,o,s)}else"button"===a.type&&(o=a.button,this.initFlyoutButton_(o,i,n),i+=o.width+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Vh.TOP?new pl(-1e9,t+e.height,-1e9,1e9):new pl(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let i,o=0;i=t[o];o++)e=Math.max(e,i.getHeightWidth().height);const n=this.buttons_;for(let i,o=0;i=n[o];o++)e=Math.max(e,i.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=Eh.scrollbarThickness,this.height_!==e){for(let e,n=0;e=t[n];n++)this.rectMap_.has(e)&&this.moveRectToBlock_(this.rectMap_.get(e),e);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==Vh.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.recordDragTargets()}}};Re(Wl.FLYOUTS_HORIZONTAL_TOOLBOX,$l,iv);var ov={};ov.HorizontalFlyout=iv;var rv=class extends vh{constructor(e,t,n,i,o){super(nh.SKIP_SETUP),this.defaultType_="",this.variableTypes=[],this.variable_=null,this.SERIALIZABLE=!0,this.menuGenerator_=rv.dropdownCreate,this.defaultVariableName="string"===typeof e?e:"",this.size_=new _l(0,0),e!==nh.SKIP_SETUP&&(o?this.configure_(o):this.setTypes_(n,i),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes_(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new ih;this.variable_||(e=Mt(e.workspace,null,this.defaultVariableName,this.defaultType_),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new ih;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==e.type)}fromXml(e){var t=this.getSourceBlock();if(!t)throw new ih;const n=e.getAttribute("id"),i=e.textContent,o=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=Mt(t.workspace,n,i,o),null!==o&&o!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+en(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e}saveState(e){var t=this.saveLegacyState(rv);return null!==t||(this.initModel(),t={id:this.variable_.getId()},e&&(t.name=this.variable_.name,t.type=this.variable_.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new ih;this.loadLegacyState(rv,e)||(e=Mt(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable_?this.variable_.getId():null}getText(){return this.variable_?this.variable_.name:""}getVariable(){return this.variable_}getValidator(){return this.variable_?this.validator_:null}doClassValidation_(e){if(null===e)return null;var t=this.getSourceBlock();if(!t)throw new ih;return t=Pt(t.workspace,e),t?(t=t.type,this.typeIsAllowed_(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new ih;this.variable_=Pt(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed_(e){const t=this.getVariableTypes_();if(!t)return!0;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}getVariableTypes_(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],0===e.length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes_(e,t){if(t=t||"",null===e||void 0===e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");{let n=!1;for(let i=0;i<e.length;i++)e[i]===t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}}this.defaultType_=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===Xd)return void Ot(this.sourceBlock_.workspace,this.variable_);if(e===Zd)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(li(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var n=this.getVariableTypes_(),i=0;i<n.length;i++){const e=this.sourceBlock_.workspace.getVariablesOfType(n[i]);t=t.concat(e)}for(t.sort(Ju.compareByName),n=[],i=0;i<t.length;i++)n[i]=[t[i].name,t[i].getId()];return n.push([Pu.RENAME_VARIABLE,Xd]),Pu.DELETE_VARIABLE&&n.push([Pu.DELETE_VARIABLE.replace("%1",e),Zd]),n}};Ci("field_variable",rv);var sv={};sv.FieldVariable=rv;var av=class extends Fm{constructor(e,t,n,i,o,r){super(nh.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,this.SERIALIZABLE=!0,this.spellcheck_=!1,e!==nh.SKIP_SETUP&&(r?this.configure_(r):this.setConstraints(t,n,i),this.setValue(e),o&&this.setValidator(o))}configure_(e){super.configure_(e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)}setConstraints(e,t,n){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(n),this.setValue(this.getValue())}setMin(e){this.setMinInternal_(e),this.setValue(this.getValue())}setMinInternal_(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal_(e),this.setValue(this.getValue())}setMaxInternal_(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())}setPrecisionInternal_(e){this.precision_=Number(e)||0;let t=String(this.precision_);-1!==t.indexOf("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const n=t.indexOf(".");this.decimalPlaces_=-1===n?e?0:null:t.length-n-1}getPrecision(){return this.precision_}doClassValidation_(e){return null===e?null:(e=String(e),e=e.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!==this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e))}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&xi(e,lh.VALUEMIN,this.min_),1/0>this.max_&&xi(e,lh.VALUEMAX,this.max_),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Ci("field_number",av),av.prototype.DEFAULT_VALUE=0;var lv={};lv.FieldNumber=av;var uv=class extends e.FieldTextInput$$module$build$src$core$field_textinput{constructor(e,t,n){super(nh.SKIP_SETUP),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1,e!==nh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.maxLines&&this.setMaxLines(e.maxLines)}toXml(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e}fromXml(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))}saveState(){const e=this.saveLegacyState(uv);return null!==e?e:this.getValue()}loadState(e){this.loadLegacyState(nh,e)||this.setValue(e)}initView(){this.createBorderRect_(),this.textGroup_=F(uc.G,{class:"blocklyEditableText"},this.fieldGroup_)}getDisplayText_(){const e=this.getSourceBlock();if(!e)throw new ih;let t=this.getText();if(!t)return nh.NBSP;const n=t.split("\n");t="";const i=this.isOverflowedY_?this.maxLines_:n.length;for(let o=0;o<i;o++){let e=n[o];e.length>this.maxDisplayLength?e=e.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&o===i-1&&(e=e.substring(0,e.length-3)+"..."),e=e.replace(/\s/g,nh.NBSP),t+=e,o!==i-1&&(t+="\n")}return e.RTL&&(t+="‏"),t}doValueUpdate_(e){super.doValueUpdate_(e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_}render_(){var e,t=this.getSourceBlock();if(!t)throw new ih;for(;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");let n=0;for(let i=0;i<e.length;i++){const t=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;F(uc.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[i])),n+=t}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?B(e,"blocklyHtmlTextAreaInputOverflowedY"):H(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(t.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),t=this.htmlInput_,this.isTextValid_?(H(t,"blocklyInvalidInput"),xi(t,lh.INVALID,!1)):(B(t,"blocklyInvalidInput"),xi(t,lh.INVALID,!0)))}updateSize_(){var e=this.textGroup_.childNodes;const t=this.getConstants().FIELD_TEXT_FONTSIZE,n=this.getConstants().FIELD_TEXT_FONTWEIGHT,i=this.getConstants().FIELD_TEXT_FONTFAMILY;let o=0,r=0;for(var s=0;s<e.length;s++){var a=Y(e[s],t,n,i);a>o&&(o=a),r+=this.getConstants().FIELD_TEXT_HEIGHT+(0<s?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(e=this.value_.split("\n"),s=F(uc.TEXT,{class:"blocklyText blocklyMultilineText"}),a=0;a<e.length;a++){e[a].length>this.maxDisplayLength&&(e[a]=e[a].substring(0,this.maxDisplayLength)),s.textContent=e[a];const r=Y(s,t,n,i);r>o&&(o=r)}o+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(r+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",o),this.borderRect_.setAttribute("height",r)),this.size_.width=o,this.size_.height=r,this.positionBorderRect_()}showEditor_(e,t){super.showEditor_(e,t),this.forceRerender()}widgetCreate_(){const t=hi(),n=this.workspace_.getScale(),i=document.createElement("textarea");i.className="blocklyHtmlInput blocklyHtmlTextAreaInput",i.setAttribute("spellcheck",this.spellcheck_);var o=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";t.style.fontSize=o,i.style.fontSize=o,i.style.borderRadius=e.FieldTextInput$$module$build$src$core$field_textinput.BORDERRADIUS*n+"px",o=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;const r=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return i.style.padding=r+"px "+o+"px "+r+"px "+o+"px",o=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,i.style.lineHeight=o*n+"px",t.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.setAttribute("data-untyped-default-value",this.value_),i.setAttribute("data-old-value",""),Ha?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(i),i}setMaxLines(e){"number"===typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())}getMaxLines(){return this.maxLines_}onHtmlInputKeyDown_(e){e.keyCode!==hh.ENTER&&super.onHtmlInputKeyDown_(e)}static fromJson(e){return new this(li(e.text),void 0,e)}};Vt("\n.blocklyHtmlTextAreaInput {\n  font-family: monospace;\n  resize: none;\n  overflow: hidden;\n  height: 100%;\n  text-align: left;\n}\n\n.blocklyHtmlTextAreaInputOverflowedY {\n  overflow-y: scroll;\n}\n"),Ci("field_multilinetext",uv);var cv={};cv.FieldMultilineInput=uv;var hv=class extends e.FieldLabel$$module$build$src$core$field_label{constructor(e,t,n){super(String(null!=e?e:""),t,n),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(li(e.text),void 0,e)}};Ci("field_label_serializable",hv);var dv={};dv.FieldLabelSerializable=hv;var pv=class extends nh{constructor(e,t,n){super(nh.SKIP_SETUP),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles_=this.colours_=null,this.columns_=0,e!==nh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.colourOptions&&(this.colours_=e.colourOptions),e.colourTitles&&(this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)}initView(){this.size_=new _l(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof pp&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()):(this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1")}applyColour(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof pp&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())}doClassValidation_(e){return"string"!==typeof e?null:ei(e)}doValueUpdate_(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_ instanceof pp&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))}getText(){let e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e}setColours(e,t){return this.colours_=e,t&&(this.titles_=t),this}setColumns(e){return this.columns_=e,this}showEditor_(){this.dropdownCreate_(),fe().appendChild(this.picker_),ve(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})}onClick_(e){e=(e=e.target)&&e.getAttribute("data-colour"),null!==e&&(this.setValue(e),Le(this))}onKeyDown_(e){var t=!1;e.keyCode===hh.UP?(this.moveHighlightBy_(0,-1),t=!0):e.keyCode===hh.DOWN?(this.moveHighlightBy_(0,1),t=!0):e.keyCode===hh.LEFT?(this.moveHighlightBy_(-1,0),t=!0):e.keyCode===hh.RIGHT?(this.moveHighlightBy_(1,0),t=!0):e.keyCode===hh.ENTER&&((t=this.getHighlighted_())&&(t=t&&t.getAttribute("data-colour"),null!==t&&this.setValue(t)),Oe(),t=!0),t&&e.stopPropagation()}moveHighlightBy_(e,t){if(this.highlightedIndex_){var n=this.colours_||pv.COLOURS,i=this.columns_||pv.COLUMNS,o=this.highlightedIndex_%i,r=Math.floor(this.highlightedIndex_/i);o+=e,r+=t,0>e?0>o&&0<r?(o=i-1,r--):0>o&&(o=0):0<e?o>i-1&&r<Math.floor(n.length/i)-1?(o=0,r++):o>i-1&&o--:0>t?0>r&&(r=0):0<t&&r>Math.floor(n.length/i)-1&&(r=Math.floor(n.length/i)-1),this.setHighlightedCell_(this.picker_.childNodes[r].childNodes[o],r*i+o)}}onMouseMove_(e){const t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,t)}onMouseEnter_(){this.picker_.focus({preventScroll:!0})}onMouseLeave_(){this.picker_.blur();const e=this.getHighlighted_();e&&H(e,"blocklyColourHighlighted")}getHighlighted_(){if(!this.highlightedIndex_)return null;const e=this.columns_||pv.COLUMNS,t=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return t?t.childNodes[this.highlightedIndex_%e]:null}setHighlightedCell_(e,t){const n=this.getHighlighted_();n&&H(n,"blocklyColourHighlighted"),B(e,"blocklyColourHighlighted"),this.highlightedIndex_=t,xi(this.picker_,lh.ACTIVEDESCENDANT,e.getAttribute("id"))}dropdownCreate_(){const e=this.columns_||pv.COLUMNS,t=this.colours_||pv.COLOURS,n=this.titles_||pv.TITLES,i=this.getValue(),o=document.createElement("table");let r;o.className="blocklyColourTable",o.tabIndex=0,o.dir="ltr",ki(o,ah.GRID),xi(o,lh.EXPANDED,!0),xi(o,lh.ROWCOUNT,Math.floor(t.length/e)),xi(o,lh.COLCOUNT,e);for(let s=0;s<t.length;s++){0===s%e&&(r=document.createElement("tr"),ki(r,ah.ROW),o.appendChild(r));const a=document.createElement("td");r.appendChild(a),a.setAttribute("data-colour",t[s]),a.title=n[s]||t[s],a.id=We(),a.setAttribute("data-index",s),ki(a,ah.GRIDCELL),xi(a,lh.LABEL,t[s]),xi(a,lh.SELECTED,t[s]===i),a.style.backgroundColor=t[s],t[s]===i&&(a.className="blocklyColourSelected",this.highlightedIndex_=s)}this.onClickWrapper_=p(o,"pointerdown",this,this.onClick_,!0),this.onMouseMoveWrapper_=p(o,"pointermove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=p(o,"pointerenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=p(o,"pointerleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=p(o,"keydown",this,this.onKeyDown_),this.picker_=o}dropdownDispose_(){this.onClickWrapper_&&(g(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(g(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(g(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(g(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(g(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null}static fromJson(e){return new this(e.colour,void 0,e)}};pv.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),pv.TITLES=[],pv.COLUMNS=7,pv.prototype.DEFAULT_VALUE=pv.COLOURS[0],Vt("\n.blocklyColourTable {\n  border-collapse: collapse;\n  display: block;\n  outline: none;\n  padding: 1px;\n}\n\n.blocklyColourTable>tr>td {\n  border: .5px solid #888;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-block;\n  height: 20px;\n  padding: 0;\n  width: 20px;\n}\n\n.blocklyColourTable>tr>td.blocklyColourHighlighted {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);\n  position: relative;\n}\n\n.blocklyColourSelected, .blocklyColourSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n"),Ci("field_colour",pv);var fv={};fv.FieldColour=pv,e.FieldCheckbox$$module$build$src$core$field_checkbox=class extends nh{constructor(t,n,i){super(nh.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.checkChar_=e.FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR,t!==nh.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(t),n&&this.setValidator(n))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)}saveState(){const t=this.saveLegacyState(e.FieldCheckbox$$module$build$src$core$field_checkbox);return null!==t?t:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();B(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar_}setCheckCharacter(t){this.checkChar_=t||e.FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return"string"===typeof e?"TRUE"===e:!!e}static fromJson(e){return new this(e.checked,void 0,e)}},e.FieldCheckbox$$module$build$src$core$field_checkbox.CHECK_CHAR="✓",Ci("field_checkbox",e.FieldCheckbox$$module$build$src$core$field_checkbox),e.FieldCheckbox$$module$build$src$core$field_checkbox.prototype.DEFAULT_VALUE=!1;var gv={};gv.FieldCheckbox=e.FieldCheckbox$$module$build$src$core$field_checkbox;var mv,_v=class extends Fm{constructor(e,t,n){super(nh.SKIP_SETUP),this.clockwise_=_v.CLOCKWISE,this.offset_=_v.OFFSET,this.wrap_=_v.WRAP,this.round_=_v.ROUND,this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.symbol_=this.line_=this.gauge_=this.editor_=null,this.SERIALIZABLE=!0,e!==nh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){switch(super.configure_(e),e.mode){case mv.COMPASS:this.clockwise_=!0,this.offset_=90;break;case mv.PROTRACTOR:this.clockwise_=!1,this.offset_=0}e.clockwise&&(this.clockwise_=e.clockwise),e.offset&&(this.offset_=e.offset),e.wrap&&(this.wrap_=e.wrap),e.round&&(this.round_=e.round)}initView(){super.initView(),this.symbol_=F(uc.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("°")),this.getTextElement().appendChild(this.symbol_)}render_(){super.render_(),this.updateGraph_()}showEditor_(e){super.showEditor_(e,ja||$a||Wa),this.dropdownCreate_(),fe().appendChild(this.editor_),this.sourceBlock_ instanceof pp&&me(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),ve(this,this.dropdownDispose_.bind(this)),this.updateGraph_()}dropdownCreate_(){const e=F(uc.SVG,{xmlns:rl,"xmlns:html":sl,"xmlns:xlink":al,version:"1.1",height:2*_v.HALF+"px",width:2*_v.HALF+"px",style:"touch-action: none"}),t=F(uc.CIRCLE,{cx:_v.HALF,cy:_v.HALF,r:_v.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=F(uc.PATH,{class:"blocklyAngleGauge"},e),this.line_=F(uc.LINE,{x1:_v.HALF,y1:_v.HALF,class:"blocklyAngleLine"},e);for(let n=0;360>n;n+=15)F(uc.LINE,{x1:_v.HALF+_v.RADIUS,y1:_v.HALF,x2:_v.HALF+_v.RADIUS-(0===n%45?10:5),y2:_v.HALF,class:"blocklyAngleMarks",transform:"rotate("+n+","+_v.HALF+","+_v.HALF+")"},e);this.clickWrapper_=p(e,"click",this,this.hide_),this.clickSurfaceWrapper_=p(t,"pointerdown",this,this.onMouseMove_,!0),this.moveSurfaceWrapper_=p(t,"pointermove",this,this.onMouseMove_,!0),this.editor_=e}dropdownDispose_(){this.clickWrapper_&&(g(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(g(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(g(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null}hide_(){Le(this),gi()}onMouseMove_(e){var t=this.gauge_.ownerSVGElement.getBoundingClientRect();const n=e.clientX-t.left-_v.HALF;e=e.clientY-t.top-_v.HALF,t=Math.atan(-e/n),isNaN(t)||(t=Q(t),0>n?t+=180:0<e&&(t+=360),t=this.clockwise_?this.offset_+360-t:360-(this.offset_-t),this.displayMouseOrKeyboardValue_(t))}displayMouseOrKeyboardValue_(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),e=this.wrapValue_(e),e!==this.value_&&this.setEditorValue_(e)}updateGraph_(){if(this.gauge_){var e=Number(this.getText())+this.offset_,t=J(e%360);e=["M ",_v.HALF,",",_v.HALF];var n=_v.HALF,i=_v.HALF;if(!isNaN(t)){const o=Number(this.clockwise_),r=J(this.offset_),s=Math.cos(r)*_v.RADIUS,a=Math.sin(r)*-_v.RADIUS;o&&(t=2*r-t),n+=Math.cos(t)*_v.RADIUS,i-=Math.sin(t)*_v.RADIUS,t=Math.abs(Math.floor((t-r)/Math.PI)%2),o&&(t=1-t),e.push(" l ",s,",",a," A ",_v.RADIUS,",",_v.RADIUS," 0 ",t," ",o," ",n,",",i," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",n),this.line_.setAttribute("y2",i)}}onHtmlInputKeyDown_(e){super.onHtmlInputKeyDown_(e);var t=this.getSourceBlock();if(!t)throw new ih;let n;e.keyCode===hh.LEFT?n=t.RTL?1:-1:e.keyCode===hh.RIGHT?n=t.RTL?-1:1:e.keyCode===hh.DOWN?n=-1:e.keyCode===hh.UP&&(n=1),n&&(t=this.getValue(),this.displayMouseOrKeyboardValue_(t+n*this.round_),e.preventDefault(),e.stopPropagation())}doClassValidation_(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)}wrapValue_(e){return e%=360,0>e&&(e+=360),e>this.wrap_&&(e-=360),e}static fromJson(e){return new this(e.angle,void 0,e)}};_v.ROUND=15,_v.HALF=50,_v.CLOCKWISE=!1,_v.OFFSET=0,_v.WRAP=360,_v.RADIUS=_v.HALF-1,Vt("\n.blocklyAngleCircle {\n  stroke: #444;\n  stroke-width: 1;\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyAngleMarks {\n  stroke: #444;\n  stroke-width: 1;\n}\n\n.blocklyAngleGauge {\n  fill: #f88;\n  fill-opacity: .8;\n  pointer-events: none;\n}\n\n.blocklyAngleLine {\n  stroke: #f00;\n  stroke-width: 2;\n  stroke-linecap: round;\n  pointer-events: none;\n}\n"),Ci("field_angle",_v),_v.prototype.DEFAULT_VALUE=0,function(e){e.COMPASS="compass",e.PROTRACTOR="protractor"}(mv||(mv={}));var vv={};vv.FieldAngle=_v,vv.Mode=mv;var yv=class extends bc{constructor(e){super(e),this.type=ru,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=Math.round(this.oldCoordinate.x)+", "+Math.round(this.oldCoordinate.y)),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+", "+Math.round(this.newCoordinate.y)),this.recordUndo||(e.recordUndo=this.recordUndo),e}fromJson(e){if(t("Blockly.Events.BlockMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldParentId=e.oldParentId,this.oldInputName=e.oldInputName,e.oldCoordinate){var n=e.oldCoordinate.split(",");this.oldCoordinate=new gl(Number(n[0]),Number(n[1]))}this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(n=e.newCoordinate.split(","),this.newCoordinate=new gl(Number(n[0]),Number(n[1]))),void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new yv),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(n=e.oldCoordinate.split(","),t.oldCoordinate=new gl(Number(n[0]),Number(n[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(n=e.newCoordinate.split(","),t.newCoordinate=new gl(Number(n[0]),Number(n[1]))),void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const n=t.getParent();return n?(e.parentId=n.id,(t=n.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&gl.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var n=t.getBlockById(this.blockId);if(n){var i=e?this.newParentId:this.oldParentId,o=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,i){var r=t.getBlockById(i);if(!r)return void console.warn("Can't connect to non-existent block: "+i)}if(n.getParent()&&n.unplug(),e)o=n.getRelativeToSurfaceXY(),n.moveBy(e.x-o.x,e.y-o.y);else{let e;t=n.outputConnection,(!t||n.previousConnection&&n.previousConnection.isConnected())&&(t=n.previousConnection),n=t.type,o?(n=r.getInput(o))&&(e=n.connection):n===yd.PREVIOUS_STATEMENT&&(e=r.nextConnection),e?t.connect(e):console.warn("Can't connect to non-existent input: "+o)}}else console.warn("Can't move non-existent block: "+this.blockId)}};Re(Wl.EVENT,ru,yv);var bv={};bv.BlockMove=yv;var wv=class extends Uu{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=et(),this.recordUndo=je())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}fromJson(e){t("Blockly.Events.CommentBase.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.commentId=e.commentId}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new wv),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){var n=e.getEventWorkspace_();if(t){if(t=ht("xml"),!e.xml)throw Error("Ecountered a comment event without proper xml");t.appendChild(e.xml),rn(t,n)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(n=n.getCommentById(e.commentId))?n.dispose():console.warn("Can't uncreate non-existent comment: "+e.commentId)}}},Cv={};Cv.CommentBase=wv;var Sv=class extends wv{constructor(e,t,n){super(e),this.type=wu,e&&(this.oldContents_="undefined"===typeof t?"":t,this.newContents_="undefined"===typeof n?"":n)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}fromJson(e){t("Blockly.Events.CommentChange.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.oldContents_=e.oldContents,this.newContents_=e.newContents}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Sv),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var n=e?this.newContents_:this.oldContents_;if(!n){if(e)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson")}t.setContent(n)}else console.warn("Can't change non-existent comment: "+this.commentId)}};Re(Wl.EVENT,wu,Sv);var Ev={};Ev.CommentChange=Sv;var Tv=class extends wv{constructor(e){super(e),this.type=yu,e&&(this.xml=e.toXmlWithXY())}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=en(this.xml),e}fromJson(e){t("Blockly.Events.CommentCreate.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.xml=nn(e.xml)}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Tv),t.xml=nn(e.xml),t}run(e){wv.CommentCreateDeleteHelper(this,e)}};Re(Wl.EVENT,yu,Tv);var kv={};kv.CommentCreate=Tv;var xv=class extends wv{constructor(e){super(e),this.type=bu,e&&(this.xml=e.toXmlWithXY())}run(e){wv.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=en(this.xml),e}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new xv),t.xml=nn(e.xml),t}};Re(Wl.EVENT,bu,xv);var Lv={};Lv.CommentDelete=xv;var Iv=class extends wv{constructor(e){super(e),this.type=Cu,e&&(this.comment_=e,this.oldCoordinate_=e.getXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getXY()}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=Math.round(this.oldCoordinate_.x)+", "+Math.round(this.oldCoordinate_.y),e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}fromJson(e){t("Blockly.Events.CommentMove.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e);let n=e.oldCoordinate.split(",");this.oldCoordinate_=new gl(Number(n[0]),Number(n[1])),n=e.newCoordinate.split(","),this.newCoordinate_=new gl(Number(n[0]),Number(n[1]))}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Iv),n=e.oldCoordinate.split(","),t.oldCoordinate_=new gl(Number(n[0]),Number(n[1])),n=e.newCoordinate.split(","),t.newCoordinate_=new gl(Number(n[0]),Number(n[1])),t}isNull(){return gl.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var n=t.getXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}};Re(Wl.EVENT,Cu,Iv);var Ov={};Ov.CommentMove=Iv;var Dv=class extends Uu{constructor(e,t){super(),this.model=t,this.isBlank=!1,this.workspaceId=e.id}toJson(){const e=super.toJson();return e.procedureId=this.model.getId(),e}},Nv={};Nv.ProcedureBase=Dv;var Rv=class extends Dv{constructor(e,t,n){super(e,t),this.oldTypes=n,this.type=Lu,this.newTypes=t.getReturnTypes()}run(e){const t=this.getEventWorkspace_().getProcedureMap().get(this.model.getId());if(!t)throw Error("Cannot change the type of a procedure that does not exist in the procedure map");e?t.setReturnTypes(this.newTypes):t.setReturnTypes(this.oldTypes)}toJson(){const e=super.toJson();return e.oldTypes=this.oldTypes,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure change return event because the target procedure does not exist");return new Rv(t,n,e.oldTypes)}};Re(Wl.EVENT,Lu,Rv);var Av={};Av.ProcedureChangeReturn=Rv;var Mv=class extends Dv{constructor(e,t){super(e,t),this.type=Eu}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap(),i=n.get(this.model.getId());e?i||n.add(new Af(t,this.model.getName(),this.model.getId())):i&&n.delete(this.model.getId())}toJson(){const e=super.toJson();return e.model=Cs(this.model),e}static fromJson(e,t){return new Mv(t,Es(Af,Bf,e.model,t))}};Re(Wl.EVENT,Eu,Mv);var Pv={};Pv.ProcedureCreate=Mv;var Fv=class extends Dv{constructor(e,t){super(e,t),this.type=Tu}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap(),i=n.get(this.model.getId());e?i&&n.delete(this.model.getId()):i||n.add(new Af(t,this.model.getName(),this.model.getId()))}toJson(){return super.toJson()}static fromJson(e,t){if(e=t.getProcedureMap().get(e.procedureId),!e)throw Error("Cannot deserialize procedure delete event because the target procedure does not exist");return new Fv(t,e)}};Re(Wl.EVENT,Tu,Fv);var Bv={};Bv.ProcedureDelete=Fv;var Vv=class extends Dv{constructor(e,t){super(e,t),this.type=xu,this.oldState=!t.getEnabled(),this.newState=t.getEnabled()}run(e){const t=this.getEventWorkspace_().getProcedureMap().get(this.model.getId());if(!t)throw Error("Cannot change the enabled state of a procedure that does not exist in the procedure map");e?t.setEnabled(this.newState):t.setEnabled(this.oldState)}toJson(){return super.toJson()}static fromJson(e,t){if(e=t.getProcedureMap().get(e.procedureId),!e)throw Error("Cannot deserialize procedure enable event because the target procedure does not exist");return new Vv(t,e)}};Re(Wl.EVENT,xu,Vv);var Hv={};Hv.ProcedureEnable=Vv;var $v=class extends Dv{constructor(e,t,n){super(e,t),this.oldName=n,this.type=ku,this.newName=t.getName()}run(e){const t=this.getEventWorkspace_().getProcedureMap().get(this.model.getId());if(!t)throw Error("Cannot change the type of a procedure that does not exist in the procedure map");e?t.setName(this.newName):t.setName(this.oldName)}toJson(){const e=super.toJson();return e.oldName=this.oldName,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure rename event because the target procedure does not exist");return new $v(t,n,e.oldName)}};Re(Wl.EVENT,ku,$v);var Wv={};Wv.ProcedureRename=$v;var Uv=class extends Dv{constructor(e,t,n){super(e,t),this.parameter=n}toJson(){const e=super.toJson();return e.parameterId=this.model.getId(),e}},zv={};zv.ProcedureParameterBase=Uv;var jv=class extends Uv{constructor(e,t,n,i){super(e,t,n),this.index=i,this.type=Iu}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap().get(this.model.getId());if(!n)throw Error("Cannot add a parameter to a procedure that does not exist in the procedure map");const i=n.getParameter(this.index);e?this.parameterMatches(i)||n.insertParameter(new Bf(t,this.parameter.getName(),this.parameter.getId()),this.index):this.parameterMatches(i)&&n.deleteParameter(this.index)}parameterMatches(e){return e&&e.getId()===this.parameter.getId()}toJson(){const e=super.toJson();return e.parameter=Ss(this.parameter),e.index=this.index,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize parameter create event because the target procedure does not exist");return new jv(t,n,Ts(Bf,e.parameter,t),e.index)}};Re(Wl.EVENT,Iu,jv);var Gv={};Gv.ProcedureParameterCreate=jv;var Kv=class extends Uv{constructor(e,t,n,i){super(e,t,n),this.index=i,this.type=Ou}run(e){const t=this.getEventWorkspace_(),n=t.getProcedureMap().get(this.model.getId());if(!n)throw Error("Cannot add a parameter to a procedure that does not exist in the procedure map");const i=n.getParameter(this.index);e?this.parameterMatches(i)&&n.deleteParameter(this.index):this.parameterMatches(i)||n.insertParameter(new Bf(t,this.parameter.getName(),this.parameter.getId()),this.index)}parameterMatches(e){return e&&e.getId()===this.parameter.getId()}toJson(){const e=super.toJson();return e.index=this.index,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure delete event because the target procedure does not exist");const i=n.getParameter(e.index);return new Kv(t,n,i,e.index)}};Re(Wl.EVENT,Ou,Kv);var qv={};qv.ProcedureParameterDelete=Kv;var Yv=class extends Uv{constructor(e,t,n,i){super(e,t,n),this.oldName=i,this.type=Du,this.newName=n.getName()}run(e){const t=Fs(this.getEventWorkspace_(),this.model.getId(),this.parameter.getId());if(!t)throw Error("Cannot rename a parameter that does not exist in the procedure map");e?t.setName(this.newName):t.setName(this.oldName)}toJson(){const e=super.toJson();return e.oldName=this.oldName,e}static fromJson(e,t){const n=t.getProcedureMap().get(e.procedureId);if(!n)throw Error("Cannot deserialize procedure delete event because the target procedure does not exist");const i=Fs(t,e.procedureId,e.parameterId);if(!i)throw Error("Cannot deserialize parameter rename event because the target parameter does not exist");return new Yv(t,n,i,e.oldName)}};Re(Wl.EVENT,Du,Yv);var Xv={};Xv.ProcedureParameterRename=Yv;var Zv=class extends nc{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=cu,e&&(this.blockId=e.id,this.isStart=t,this.blocks=n)}toJson(){const e=super.toJson();if(void 0===this.isStart)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(void 0===this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}fromJson(e){t("Blockly.Events.BlockDrag.prototype.fromJson","version 9","version 10","Blockly.Events.fromJson"),super.fromJson(e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Zv),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};Re(Wl.EVENT,cu,Zv);var Jv={};Jv.BlockDrag=Zv;var Qv=class extends nc{constructor(e,t,n,i){super(e?e.workspace.id:void 0),this.type=uu,this.blockId=e?e.id:null,this.element="undefined"===typeof t?"":t,this.oldValue="undefined"===typeof n?"":n,this.newValue="undefined"===typeof i?"":i}toJson(){const e=super.toJson();return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e}fromJson(e){super.fromJson(e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId}};Re(Wl.EVENT,uu,Qv);var ey={};ey.Ui=Qv;var ty=class extends Uu{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=Su,this.isBlank=!!e,e&&(this.workspaceId=e.id)}toJson(){const e=super.toJson();if(!this.workspaceId)throw Error("The workspace ID is undefined. Either pass a workspace to the constructor, or call fromJson");return e.workspaceId=this.workspaceId,e}fromJson(e){super.fromJson(e),this.workspaceId=e.workspaceId}};Re(Wl.EVENT,Su,ty);var ny={};ny.FinishedLoading=ty,e.module$build$src$core$events$events={},e.module$build$src$core$events$events.Abstract=Uu,e.module$build$src$core$events$events.BLOCK_CHANGE=ou,e.module$build$src$core$events$events.BLOCK_CREATE=nu,e.module$build$src$core$events$events.BLOCK_DELETE=iu,e.module$build$src$core$events$events.BLOCK_DRAG=cu,e.module$build$src$core$events$events.BLOCK_MOVE=ru,e.module$build$src$core$events$events.BUBBLE_OPEN=fu,e.module$build$src$core$events$events.BUMP_EVENTS=Nu,e.module$build$src$core$events$events.BlockBase=bc,e.module$build$src$core$events$events.BlockChange=Cc,e.module$build$src$core$events$events.BlockCreate=md,e.module$build$src$core$events$events.BlockDelete=vd,e.module$build$src$core$events$events.BlockDrag=Zv,e.module$build$src$core$events$events.BlockMove=yv,e.module$build$src$core$events$events.BubbleOpen=Ch,e.module$build$src$core$events$events.BubbleType=wh,e.module$build$src$core$events$events.CHANGE=ou,e.module$build$src$core$events$events.CLICK=du,e.module$build$src$core$events$events.COMMENT_CHANGE=wu,e.module$build$src$core$events$events.COMMENT_CREATE=yu,e.module$build$src$core$events$events.COMMENT_DELETE=bu,e.module$build$src$core$events$events.COMMENT_MOVE=Cu,e.module$build$src$core$events$events.CREATE=nu,e.module$build$src$core$events$events.Click=sf,e.module$build$src$core$events$events.ClickTarget=rf,e.module$build$src$core$events$events.CommentBase=wv,e.module$build$src$core$events$events.CommentChange=Sv,e.module$build$src$core$events$events.CommentCreate=Tv,e.module$build$src$core$events$events.CommentDelete=xv,e.module$build$src$core$events$events.CommentMove=Iv,e.module$build$src$core$events$events.DELETE=iu,e.module$build$src$core$events$events.FINISHED_LOADING=Su,e.module$build$src$core$events$events.FinishedLoading=ty,e.module$build$src$core$events$events.MARKER_MOVE=pu,e.module$build$src$core$events$events.MOVE=ru,e.module$build$src$core$events$events.MarkerMove=$g,e.module$build$src$core$events$events.ProcedureBase=Dv,e.module$build$src$core$events$events.ProcedureChangeReturn=Rv,e.module$build$src$core$events$events.ProcedureCreate=Mv,e.module$build$src$core$events$events.ProcedureDelete=Fv,e.module$build$src$core$events$events.ProcedureEnable=Vv,e.module$build$src$core$events$events.ProcedureParameterBase=Uv,e.module$build$src$core$events$events.ProcedureParameterCreate=jv,e.module$build$src$core$events$events.ProcedureParameterDelete=Kv,e.module$build$src$core$events$events.ProcedureParameterRename=Yv,e.module$build$src$core$events$events.ProcedureRename=$v,e.module$build$src$core$events$events.SELECTED=hu,e.module$build$src$core$events$events.Selected=oc,e.module$build$src$core$events$events.THEME_CHANGE=_u,e.module$build$src$core$events$events.TOOLBOX_ITEM_SELECT=mu,e.module$build$src$core$events$events.TRASHCAN_OPEN=gu,e.module$build$src$core$events$events.ThemeChange=bf,e.module$build$src$core$events$events.ToolboxItemSelect=$p,e.module$build$src$core$events$events.TrashcanOpen=Jh,e.module$build$src$core$events$events.UI=uu,e.module$build$src$core$events$events.Ui=Qv,e.module$build$src$core$events$events.UiBase=nc,e.module$build$src$core$events$events.VAR_CREATE=su,e.module$build$src$core$events$events.VAR_DELETE=au,e.module$build$src$core$events$events.VAR_RENAME=lu,e.module$build$src$core$events$events.VIEWPORT_CHANGE=vu,e.module$build$src$core$events$events.VarBase=ju,e.module$build$src$core$events$events.VarCreate=Ku,e.module$build$src$core$events$events.VarDelete=um,e.module$build$src$core$events$events.VarRename=hm,e.module$build$src$core$events$events.ViewportChange=Cf,e.module$build$src$core$events$events.clearPendingUndo=Xe,e.module$build$src$core$events$events.disable=Ze,e.module$build$src$core$events$events.disableOrphans=at,e.module$build$src$core$events$events.enable=Je,e.module$build$src$core$events$events.filter=Ye,e.module$build$src$core$events$events.fire=Ge,e.module$build$src$core$events$events.fromJson=ot,e.module$build$src$core$events$events.get=st,e.module$build$src$core$events$events.getDescendantIds=it,e.module$build$src$core$events$events.getGroup=et,e.module$build$src$core$events$events.getRecordUndo=je,e.module$build$src$core$events$events.isEnabled=Qe,e.module$build$src$core$events$events.setGroup=tt,e.module$build$src$core$events$events.setRecordUndo=ze,ia();var iy={};iy.registerCleanup=Hs,iy.registerCollapse=Ws,iy.registerCollapseExpandBlock=Js,iy.registerComment=Xs,iy.registerDefaultOptions=ia,iy.registerDelete=ea,iy.registerDeleteAll=Ks,iy.registerDisable=Qs,iy.registerDuplicate=Ys,iy.registerExpand=Us,iy.registerHelp=ta,iy.registerInline=Zs,iy.registerRedo=Vs,iy.registerUndo=Bs;var oy=class{constructor(e,t){this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.draggingBlock_=e,this.draggedConnectionManager_=new Zg(this.draggingBlock_),this.workspace_=t,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=oa(e)}dispose(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()}startDrag(e,t){et()||tt(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),G(),this.workspace_.setResizesEnabled(!1),fr(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()}shouldDisconnect_(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}disconnectBlock_(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=gl.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),dr(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()}fireDragStartEvent_(){const e=new(st(cu))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));Ge(e)}drag(e,t){t=this.pixelsToWorkspaceUnits_(t);var n=gl.sum(this.startXY_,t);this.draggingBlock_.moveDuringDrag(n),this.dragIcons_(t),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),this.draggedConnectionManager_.update(t,this.dragTarget_),e=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock,e!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)}endDrag(e,t){this.drag(e,t),this.dragIconData_=[],this.fireDragEndEvent_(),K(),fr(),e=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)?t=this.startXY_:(t=this.getNewLocationAfterDrag_(t),e=t.delta,t=t.newLocation),this.draggingBlock_.moveOffDragSurface(t),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),e?this.updateBlockAfterMove_(e):ks(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),tt(!1)}getNewLocationAfterDrag_(e){e=this.pixelsToWorkspaceUnits_(e);const t=gl.sum(this.startXY_,e);return{delta:e,newLocation:t}}maybeDeleteBlock_(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),el.length=0,!0)}updateBlockAfterMove_(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()}fireDragEndEvent_(){const e=new(st(cu))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));Ge(e)}updateToolboxStyle_(e){const t=this.workspace_.getToolbox();if(t){const n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"===typeof t.removeStyle?t.removeStyle(n):e||"function"!==typeof t.addStyle||t.addStyle(n)}}fireMoveEvent_(){const e=new(st(ru))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),Ge(e)}updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}pixelsToWorkspaceUnits_(e){return e=new gl(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e}dragIcons_(e){for(let t=0;t<this.dragIconData_.length;t++){const n=this.dragIconData_[t];n.icon.setIconLocation(gl.sum(n.location,e))}}getInsertionMarkers(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]}};Re(Wl.BLOCK_DRAGGER,$l,oy);var ry={};ry.BlockDragger=oy;var sy="9.2.1",ay=e.Align$$module$build$src$core$input.LEFT,ly=e.Align$$module$build$src$core$input.CENTRE,uy=e.Align$$module$build$src$core$input.RIGHT,cy=yd.INPUT_VALUE,hy=yd.OUTPUT_VALUE,dy=yd.NEXT_STATEMENT,py=yd.PREVIOUS_STATEMENT,fy=ql.DUMMY,gy=Vh.TOP,my=Vh.BOTTOM,_y=Vh.LEFT,vy=Vh.RIGHT;gm.prototype.newBlock=function(e,t){return new Dd(this,e,t)},Sm.prototype.newBlock=function(e,t){return new pp(this,e,t)},Sm.newTrashcan=function(e){return new Tp(e)},vc.prototype.showContextMenu=function(e){if(!this.workspace.options.readOnly){var t=[];this.isDeletable()&&this.isMovable()&&(t.push(Dr(this)),t.push(Or(this))),Cr(e,t,this.RTL)}},e.Mutator$$module$build$src$core$mutator.prototype.newWorkspaceSvg=function(e){return new Sm(e)},Lf.prototype.populateProcedures=function(e){e=Kr(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],Lf.NameType.PROCEDURE)};var yy=yd,by={};by.ALIGN_CENTRE=ly,by.ALIGN_LEFT=ay,by.ALIGN_RIGHT=uy,by.ASTNode=Id,by.BasicCursor=ip,by.Block=Dd,by.BlockDragSurfaceSvg=B_,by.BlockDragger=oy,by.BlockSvg=pp,by.Blocks=nl,by.Bubble=kh,by.BubbleDragger=lf,by.COLLAPSED_FIELD_NAME=Ed,by.COLLAPSED_INPUT_NAME=Sd,by.COLLAPSE_CHARS=Kd,by.CodeGenerator=e.CodeGenerator$$module$build$src$core$generator,by.CollapsibleToolboxCategory=Yp,by.Comment=Pd,by.ComponentManager=td,by.Connection=wd,by.ConnectionChecker=am,by.ConnectionDB=Ef,by.ConnectionType=yd,by.ContextMenu=e.module$build$src$core$contextmenu,by.ContextMenuItems=iy,by.ContextMenuRegistry=zd,by.Css=lc,by.Cursor=tp,by.DELETE_VARIABLE_ID=Zd,by.DRAG_STACK=qd,by.DUMMY_INPUT=fy,by.DeleteArea=bp,by.DragTarget=gp,by.DropDownDiv=Fl,by.Events=e.module$build$src$core$events$events,by.Extensions=e.module$build$src$core$extensions,by.Field=nh,by.FieldAngle=_v,by.FieldCheckbox=e.FieldCheckbox$$module$build$src$core$field_checkbox,by.FieldColour=pv,by.FieldDropdown=vh,by.FieldImage=e.FieldImage$$module$build$src$core$field_image,by.FieldLabel=e.FieldLabel$$module$build$src$core$field_label,by.FieldLabelSerializable=hv,by.FieldMultilineInput=uv,by.FieldNumber=av,by.FieldTextInput=e.FieldTextInput$$module$build$src$core$field_textinput,by.FieldVariable=rv,by.Flyout=Q_,by.FlyoutButton=G_,by.FlyoutMetricsManager=Z_,by.Generator=e.CodeGenerator$$module$build$src$core$generator,by.Gesture=ff,by.Grid=kf,by.HorizontalFlyout=iv,by.INPUT_VALUE=cy,by.Icon=Oh,by.Input=Ld,by.InsertionMarkerManager=Zg,by.Marker=Qd,by.MarkerManager=Ec,by.Menu=fh,by.MenuItem=mh,by.MetricsManager=q_,by.Msg=Pu,by.Mutator=e.Mutator$$module$build$src$core$mutator,by.NEXT_STATEMENT=dy,by.Names=Lf,by.OPPOSITE_TYPE=Yd,by.OUTPUT_VALUE=hy,by.Options=jh,by.PREVIOUS_STATEMENT=py,by.PROCEDURE_CATEGORY_NAME=Pf,by.Procedures=e.module$build$src$core$procedures,by.RENAME_VARIABLE_ID=Xd,by.RenderedConnection=lp,by.Scrollbar=Eh,by.ScrollbarPair=$_,by.ShortcutItems=yf,by.ShortcutRegistry=mf,by.TOOLBOX_AT_BOTTOM=my,by.TOOLBOX_AT_LEFT=_y,by.TOOLBOX_AT_RIGHT=vy,by.TOOLBOX_AT_TOP=gy,by.TabNavigateCursor=rp,by.Theme=Rh,by.ThemeManager=im,by.Themes=of,by.Toolbox=Zp,by.ToolboxCategory=jp,by.ToolboxItem=Up,by.ToolboxSeparator=Kp,by.Tooltip=Wc,by.Touch=Fa,by.TouchGesture=ff,by.Trashcan=Tp,by.VARIABLE_CATEGORY_NAME=Yu,by.VARIABLE_DYNAMIC_CATEGORY_NAME=rm,by.VERSION=sy,by.VariableMap=pm,by.VariableModel=Ju,by.Variables=e.module$build$src$core$variables,by.VariablesDynamic=sm,by.VerticalFlyout=tv,by.Warning=hp,by.WidgetDiv=th,by.Workspace=gm,by.WorkspaceAudio=vm,by.WorkspaceComment=ec,by.WorkspaceCommentSvg=vc,by.WorkspaceDragSurfaceSvg=P_,by.WorkspaceDragger=cf,by.WorkspaceSvg=Sm,by.Xml=e.module$build$src$core$xml,by.ZoomControls=bm,by.bindEventWithChecks_=fa,by.bindEvent_=da,by.blockAnimations=Md,by.blockRendering=nm,by.browserEvents=Ya,by.bumpObjects=H_,by.clipboard=Ud,by.common=e.module$build$src$core$common,by.config=e.config$$module$build$src$core$config,by.connectionTypes=yy,by.constants=Td,by.copy=aa,by.defineBlocksWithJsonArray=R,by.dialog=Wu,by.duplicate=ua,by.fieldRegistry=sh,by.geras=M_,by.getMainWorkspace=E,by.getSelected=k,by.hideChaff=ra,by.hueToHex=ha,by.inject=Os,by.inputTypes=ql,by.isNumber=ca,by.minimalist=m_,by.paste=la,by.procedures=e.module$build$src$core$procedures,by.registry=Ul,by.resizeSvgContents=sa,by.serialization=Dm,by.setLocale=Fu,by.setParentContainer=I,by.svgResize=O,by.thrasos=a_,by.uiPosition=Cp,by.unbindEvent_=pa,by.utils=Zh,by.zelos=n_;e.module$build$src$core$contextmenu,e.module$build$src$core$events$events,e.module$build$src$core$msg,e.module$build$src$core$common;return Object.defineProperties(by,{alert:{set:function(e){wa.warn("Blockly.alert","December 2021","December 2022"),Wu.setAlert(e)},get:function(){return wa.warn("Blockly.alert","December 2021","December 2022","Blockly.dialog.alert()"),Wu.alert}},confirm:{set:function(e){wa.warn("Blockly.confirm","December 2021","December 2022"),Wu.setConfirm(e)},get:function(){return wa.warn("Blockly.confirm","December 2021","December 2022","Blockly.dialog.confirm()"),Wu.confirm}},mainWorkspace:{set:function(t){wa.warn("Blockly.mainWorkspace","version 9","version 10","Blockly.getMainWorkspace"),e.module$build$src$core$common.setMainWorkspace(t)},get:function(){return wa.warn("Blockly.mainWorkspace","version 9","version 10","Blockly.getMainWorkspace"),e.module$build$src$core$common.getMainWorkspace()}},prompt:{set:function(e){wa.warn("Blockly.prompt","December 2021","December 2022"),Wu.setPrompt(e)},get:function(){return wa.warn("Blockly.prompt","December 2021","December 2022","Blockly.dialog.prompt()"),Wu.prompt}},selected:{get:function(){return wa.warn("Blockly.selected","version 9","version 10","Blockly.getSelected"),e.module$build$src$core$common.getSelected()},set:function(t){wa.warn("Blockly.selected","version 9","version 10","Blockly.getSelected"),e.module$build$src$core$common.setSelected(t)}},HSV_SATURATION:{get:function(){return Gc.getHsvSaturation()},set:function(e){Gc.setHsvSaturation(e)}},HSV_VALUE:{get:function(){return Gc.getHsvValue()},set:function(e){Gc.setHsvValue(e)}}}),Object.defineProperties(e.module$build$src$core$contextmenu,{currentBlock:{get:function(){return wa.warn("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.getCurrentBlock()"),e.module$build$src$core$contextmenu.getCurrentBlock()},set:function(t){wa.warn("Blockly.ContextMenu.currentBlock","September 2021","September 2022","Blockly.Tooltip.setCurrentBlock(block)"),e.module$build$src$core$contextmenu.setCurrentBlock(t)}}}),Object.defineProperties(e.module$build$src$core$events$events,{recordUndo:{get:function(){return wa.warn("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.getRecordUndo()"),Mu.getRecordUndo()},set:function(e){wa.warn("Blockly.Events.recordUndo","September 2021","September 2022","Blockly.Events.setRecordUndo()"),Mu.setRecordUndo(e)}}}),Object.defineProperties(Wc,{visible:{get:function(){return wa.warn("Blockly.Tooltip.visible","September 2021","September 2022","Blockly.Tooltip.isVisible()"),Wc.isVisible()}},DIV:{get:function(){return wa.warn("Blockly.Tooltip.DIV","September 2021","September 2022","Blockly.Tooltip.getDiv()"),Wc.getDiv()}}}),Object.defineProperties(th,{DIV:{get:function(){return wa.warn("Blockly.WidgetDiv.DIV","September 2021","September 2022","Blockly.WidgetDiv.getDiv()"),th.getDiv()}}}),"Blockly"in globalThis||(globalThis.Blockly={Msg:e.module$build$src$core$msg}),by.__namespace__=e,by}))}).call(this,n("c8ba"))},e9b1:function(e,t,n){},eb68:function(e,t,n){},ec29:function(e,t,n){},ef37:function(e,t,n){},f004:function(e,t,n){},f14e:function(e,t){Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json},f20b:function(e,t,n){},f2e7:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var i=n("2b0e");function o(e="value",t="input"){return i["a"].extend({name:"toggleable",model:{prop:e,event:t},props:{[e]:{required:!1}},data(){return{isActive:!!this[e]}},watch:{[e](e){this.isActive=!!e},isActive(n){!!n!==this[e]&&this.$emit(t,n)}}})}const r=o();t["a"]=r},f309:function(e,t,n){"use strict";n.d(t,"a",(function(){return fe}));var i={};n.r(i),n.d(i,"linear",(function(){return f})),n.d(i,"easeInQuad",(function(){return g})),n.d(i,"easeOutQuad",(function(){return m})),n.d(i,"easeInOutQuad",(function(){return _})),n.d(i,"easeInCubic",(function(){return v})),n.d(i,"easeOutCubic",(function(){return y})),n.d(i,"easeInOutCubic",(function(){return b})),n.d(i,"easeInQuart",(function(){return w})),n.d(i,"easeOutQuart",(function(){return C})),n.d(i,"easeInOutQuart",(function(){return S})),n.d(i,"easeInQuint",(function(){return E})),n.d(i,"easeOutQuint",(function(){return T})),n.d(i,"easeInOutQuint",(function(){return k}));n("14d9");var o=n("2b0e"),r=n("d9bd");function s(e,t={}){if(s.installed)return;s.installed=!0,o["a"]!==e&&Object(r["b"])("Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this");const n=t.components||{},i=t.directives||{};for(const o in i){const t=i[o];e.directive(o,t)}(function t(n){if(n){for(const i in n){const o=n[i];o&&!t(o.$_vuetify_subcomponents)&&e.component(i,o)}return!0}return!1})(n),e.$_vuetify_installed||(e.$_vuetify_installed=!0,e.mixin({beforeCreate(){const t=this.$options;t.vuetify?(t.vuetify.init(this,this.$ssrContext),this.$vuetify=e.observable(t.vuetify.framework)):this.$vuetify=t.parent&&t.parent.$vuetify||this},beforeMount(){this.$options.vuetify&&this.$el&&this.$el.hasAttribute("data-server-rendered")&&(this.$vuetify.isHydrating=!0,this.$vuetify.breakpoint.update(!0))},mounted(){this.$options.vuetify&&this.$vuetify.isHydrating&&(this.$vuetify.isHydrating=!1,this.$vuetify.breakpoint.update())}}))}n("95ed");var a={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},datePicker:{itemsSelected:"{0} selected",nextMonthAriaLabel:"Next month",nextYearAriaLabel:"Next year",prevMonthAriaLabel:"Previous month",prevYearAriaLabel:"Previous year"},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{wrapper:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Goto Page {0}",currentPage:"Current Page, Page {0}"}},rating:{ariaLabel:{icon:"Rating {0} of {1}"}}};const l={breakpoint:{mobileBreakpoint:1264,scrollBarWidth:16,thresholds:{xs:600,sm:960,md:1280,lg:1920}},icons:{iconfont:"mdi",values:{}},lang:{current:"en",locales:{en:a},t:void 0},rtl:!1,theme:{dark:!1,default:"light",disable:!1,options:{cspNonce:void 0,customProperties:void 0,minifyTheme:void 0,themeCache:void 0,variations:!0},themes:{light:{primary:"#1976D2",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},dark:{primary:"#2196F3",secondary:"#424242",accent:"#FF4081",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}}}};var u=n("80d2");class c{constructor(){this.framework={}}init(e,t){}}class h extends c{constructor(e,t){super();const n=Object(u["s"])({},l),{userPreset:i}=t,{preset:o={},...s}=i;null!=o.preset&&Object(r["c"])("Global presets do not support the **preset** option, it can be safely omitted"),t.preset=Object(u["s"])(Object(u["s"])(n,o),s)}}h.property="presets";n("13d5");class d extends c{constructor(){super(...arguments),this.bar=0,this.top=0,this.left=0,this.insetFooter=0,this.right=0,this.bottom=0,this.footer=0,this.application={bar:{},top:{},left:{},insetFooter:{},right:{},bottom:{},footer:{}}}register(e,t,n){this.application[t][e]=n,this.update(t)}unregister(e,t){null!=this.application[t][e]&&(delete this.application[t][e],this.update(t))}update(e){this[e]=Object.values(this.application[e]).reduce((e,t)=>e+t,0)}}d.property="application";class p extends c{constructor(e){super(),this.xs=!1,this.sm=!1,this.md=!1,this.lg=!1,this.xl=!1,this.xsOnly=!1,this.smOnly=!1,this.smAndDown=!1,this.smAndUp=!1,this.mdOnly=!1,this.mdAndDown=!1,this.mdAndUp=!1,this.lgOnly=!1,this.lgAndDown=!1,this.lgAndUp=!1,this.xlOnly=!1,this.name="xs",this.height=0,this.width=0,this.mobile=!0,this.resizeTimeout=0;const{mobileBreakpoint:t,scrollBarWidth:n,thresholds:i}=e[p.property];this.mobileBreakpoint=t,this.scrollBarWidth=n,this.thresholds=i}init(){this.update(),"undefined"!==typeof window&&window.addEventListener("resize",this.onResize.bind(this),{passive:!0})}update(e=!1){const t=e?0:this.getClientHeight(),n=e?0:this.getClientWidth(),i=n<this.thresholds.xs,o=n<this.thresholds.sm&&!i,r=n<this.thresholds.md-this.scrollBarWidth&&!(o||i),s=n<this.thresholds.lg-this.scrollBarWidth&&!(r||o||i),a=n>=this.thresholds.lg-this.scrollBarWidth;switch(this.height=t,this.width=n,this.xs=i,this.sm=o,this.md=r,this.lg=s,this.xl=a,this.xsOnly=i,this.smOnly=o,this.smAndDown=(i||o)&&!(r||s||a),this.smAndUp=!i&&(o||r||s||a),this.mdOnly=r,this.mdAndDown=(i||o||r)&&!(s||a),this.mdAndUp=!(i||o)&&(r||s||a),this.lgOnly=s,this.lgAndDown=(i||o||r||s)&&!a,this.lgAndUp=!(i||o||r)&&(s||a),this.xlOnly=a,!0){case i:this.name="xs";break;case o:this.name="sm";break;case r:this.name="md";break;case s:this.name="lg";break;default:this.name="xl";break}if("number"===typeof this.mobileBreakpoint)return void(this.mobile=n<parseInt(this.mobileBreakpoint,10));const l={xs:0,sm:1,md:2,lg:3,xl:4},u=l[this.name],c=l[this.mobileBreakpoint];this.mobile=u<=c}onResize(){clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.update.bind(this),200)}getClientWidth(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}getClientHeight(){return"undefined"===typeof document?0:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}p.property="breakpoint";n("d9e2");const f=e=>e,g=e=>e**2,m=e=>e*(2-e),_=e=>e<.5?2*e**2:(4-2*e)*e-1,v=e=>e**3,y=e=>--e**3+1,b=e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,w=e=>e**4,C=e=>1- --e**4,S=e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,E=e=>e**5,T=e=>1+--e**5,k=e=>e<.5?16*e**5:1+16*--e**5;function x(e){if("number"===typeof e)return e;let t=O(e);if(!t)throw"string"===typeof e?new Error(`Target element "${e}" not found.`):new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${I(e)} instead.`);let n=0;while(t)n+=t.offsetTop,t=t.offsetParent;return n}function L(e){const t=O(e);if(t)return t;throw"string"===typeof e?new Error(`Container element "${e}" not found.`):new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${I(e)} instead.`)}function I(e){return null==e?e:e.constructor.name}function O(e){return"string"===typeof e?document.querySelector(e):e&&e._isVue?e.$el:e instanceof HTMLElement?e:null}function D(e,t={}){const n={container:document.scrollingElement||document.body||document.documentElement,duration:500,offset:0,easing:"easeInOutCubic",appOffset:!0,...t},o=L(n.container);if(n.appOffset&&D.framework.application){const e=o.classList.contains("v-navigation-drawer"),t=o.classList.contains("v-navigation-drawer--clipped"),{bar:i,top:r}=D.framework.application;n.offset+=i,e&&!t||(n.offset+=r)}const r=performance.now();let s;s="number"===typeof e?x(e)-n.offset:x(e)-x(o)-n.offset;const a=o.scrollTop;if(s===a)return Promise.resolve(s);const l="function"===typeof n.easing?n.easing:i[n.easing];if(!l)throw new TypeError(`Easing function "${n.easing}" not found.`);return new Promise(e=>requestAnimationFrame((function t(i){const u=i-r,c=Math.abs(n.duration?Math.min(u/n.duration,1):1);o.scrollTop=Math.floor(a+(s-a)*l(c));const h=o===document.body?document.documentElement.clientHeight:o.clientHeight,d=h+o.scrollTop>=o.scrollHeight;if(1===c||s>o.scrollTop&&d)return e(s);requestAnimationFrame(t)})))}D.framework={},D.init=()=>{};class N extends c{constructor(){return super(),D}}N.property="goTo";const R={complete:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",cancel:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",close:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",delete:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",clear:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",success:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41 10.59L10 14.17L17.59 6.58L19 8L10 17Z",info:"M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2ZM13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",warning:"M13,13H11V7H13M13,17H11V15H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",error:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z",prev:"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",next:"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",checkboxOn:"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",checkboxOff:"M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z",checkboxIndeterminate:"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z",delimiter:"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",sort:"M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z",expand:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",menu:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",subgroup:"M7,10L12,15L17,10H7Z",dropdown:"M7,10L12,15L17,10H7Z",radioOn:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z",radioOff:"M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",ratingEmpty:"M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",ratingFull:"M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z",ratingHalf:"M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z",loading:"M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12",first:"M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z",last:"M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z",unfold:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",file:"M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z",plus:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",minus:"M19,13H5V11H19V13Z"};var A=R;const M={complete:"check",cancel:"cancel",close:"close",delete:"cancel",clear:"clear",success:"check_circle",info:"info",warning:"priority_high",error:"warning",prev:"chevron_left",next:"chevron_right",checkboxOn:"check_box",checkboxOff:"check_box_outline_blank",checkboxIndeterminate:"indeterminate_check_box",delimiter:"fiber_manual_record",sort:"arrow_upward",expand:"keyboard_arrow_down",menu:"menu",subgroup:"arrow_drop_down",dropdown:"arrow_drop_down",radioOn:"radio_button_checked",radioOff:"radio_button_unchecked",edit:"edit",ratingEmpty:"star_border",ratingFull:"star",ratingHalf:"star_half",loading:"cached",first:"first_page",last:"last_page",unfold:"unfold_more",file:"attach_file",plus:"add",minus:"remove"};var P=M;const F={complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-exclamation",error:"mdi-alert",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sort:"mdi-arrow-up",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus"};var B=F;const V={complete:"fas fa-check",cancel:"fas fa-times-circle",close:"fas fa-times",delete:"fas fa-times-circle",clear:"fas fa-times-circle",success:"fas fa-check-circle",info:"fas fa-info-circle",warning:"fas fa-exclamation",error:"fas fa-exclamation-triangle",prev:"fas fa-chevron-left",next:"fas fa-chevron-right",checkboxOn:"fas fa-check-square",checkboxOff:"far fa-square",checkboxIndeterminate:"fas fa-minus-square",delimiter:"fas fa-circle",sort:"fas fa-sort-up",expand:"fas fa-chevron-down",menu:"fas fa-bars",subgroup:"fas fa-caret-down",dropdown:"fas fa-caret-down",radioOn:"far fa-dot-circle",radioOff:"far fa-circle",edit:"fas fa-edit",ratingEmpty:"far fa-star",ratingFull:"fas fa-star",ratingHalf:"fas fa-star-half",loading:"fas fa-sync",first:"fas fa-step-backward",last:"fas fa-step-forward",unfold:"fas fa-arrows-alt-v",file:"fas fa-paperclip",plus:"fas fa-plus",minus:"fas fa-minus"};var H=V;const $={complete:"fa fa-check",cancel:"fa fa-times-circle",close:"fa fa-times",delete:"fa fa-times-circle",clear:"fa fa-times-circle",success:"fa fa-check-circle",info:"fa fa-info-circle",warning:"fa fa-exclamation",error:"fa fa-exclamation-triangle",prev:"fa fa-chevron-left",next:"fa fa-chevron-right",checkboxOn:"fa fa-check-square",checkboxOff:"fa fa-square-o",checkboxIndeterminate:"fa fa-minus-square",delimiter:"fa fa-circle",sort:"fa fa-sort-up",expand:"fa fa-chevron-down",menu:"fa fa-bars",subgroup:"fa fa-caret-down",dropdown:"fa fa-caret-down",radioOn:"fa fa-dot-circle-o",radioOff:"fa fa-circle-o",edit:"fa fa-pencil",ratingEmpty:"fa fa-star-o",ratingFull:"fa fa-star",ratingHalf:"fa fa-star-half-o",loading:"fa fa-refresh",first:"fa fa-step-backward",last:"fa fa-step-forward",unfold:"fa fa-angle-double-down",file:"fa fa-paperclip",plus:"fa fa-plus",minus:"fa fa-minus"};var W=$;function U(e,t){const n={};for(const i in t)n[i]={component:e,props:{icon:t[i].split(" fa-")}};return n}var z=U("font-awesome-icon",H),j=Object.freeze({mdiSvg:A,md:P,mdi:B,fa:H,fa4:W,faSvg:z});class G extends c{constructor(e){super();const{iconfont:t,values:n,component:i}=e[G.property];this.component=i,this.iconfont=t,this.values=Object(u["s"])(j[t],n)}}G.property="icons";const K="$vuetify.",q=Symbol("Lang fallback");function Y(e,t,n=!1,i){const o=t.replace(K,"");let s=Object(u["l"])(e,o,q);return s===q&&(n?(Object(r["b"])(`Translation key "${o}" not found in fallback`),s=t):(Object(r["c"])(`Translation key "${o}" not found, falling back to default`),s=Y(i,t,!0,i))),s}class X extends c{constructor(e){super(),this.defaultLocale="en";const{current:t,locales:n,t:i}=e[X.property];this.current=t,this.locales=n,this.translator=i||this.defaultTranslator}currentLocale(e){const t=this.locales[this.current],n=this.locales[this.defaultLocale];return Y(t,e,!1,n)}t(e,...t){return e.startsWith(K)?this.translator(e,...t):this.replace(e,t)}defaultTranslator(e,...t){return this.replace(this.currentLocale(e),t)}replace(e,t){return e.replace(/\{(\d+)\}/g,(e,n)=>String(t[+n]))}}X.property="lang";var Z=n("7bc6"),J=n("8da5");const Q=.20689655172413793,ee=e=>e>Q**3?Math.cbrt(e):e/(3*Q**2)+4/29,te=e=>e>Q?e**3:3*Q**2*(e-4/29);function ne(e){const t=ee,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function ie(e){const t=te,n=(e[0]+16)/116;return[.95047*t(n+e[1]/500),t(n),1.08883*t(n-e[2]/200)]}function oe(e,t=!1,n=!0){const{anchor:i,...o}=e,r=Object.keys(o),s={};for(let a=0;a<r.length;++a){const i=r[a],o=e[i];null!=o&&(n?t?("base"===i||i.startsWith("lighten")||i.startsWith("darken"))&&(s[i]=Object(Z["a"])(o)):s[i]="object"===typeof o?oe(o,!0,n):ce(i,Object(Z["b"])(o)):s[i]={base:Object(Z["c"])(Object(Z["b"])(o))})}return t||(s.anchor=i||s.base||s.primary.base),s}const re=(e,t)=>`\n.v-application .${e} {\n  background-color: ${t} !important;\n  border-color: ${t} !important;\n}\n.v-application .${e}--text {\n  color: ${t} !important;\n  caret-color: ${t} !important;\n}`,se=(e,t,n)=>{const[i,o]=t.split(/(\d)/,2);return`\n.v-application .${e}.${i}-${o} {\n  background-color: ${n} !important;\n  border-color: ${n} !important;\n}\n.v-application .${e}--text.text--${i}-${o} {\n  color: ${n} !important;\n  caret-color: ${n} !important;\n}`},ae=(e,t="base")=>`--v-${e}-${t}`,le=(e,t="base")=>`var(${ae(e,t)})`;function ue(e,t=!1){const{anchor:n,...i}=e,o=Object.keys(i);if(!o.length)return"";let r="",s="";const a=t?le("anchor"):n;s+=`.v-application a { color: ${a}; }`,t&&(r+=`  ${ae("anchor")}: ${n};\n`);for(let l=0;l<o.length;++l){const n=o[l],i=e[n];s+=re(n,t?le(n):i.base),t&&(r+=`  ${ae(n)}: ${i.base};\n`);const a=Object(u["r"])(i);for(let e=0;e<a.length;++e){const o=a[e],l=i[o];"base"!==o&&(s+=se(n,o,t?le(n,o):l),t&&(r+=`  ${ae(n,o)}: ${l};\n`))}}return t&&(r=`:root {\n${r}}\n\n`),r+s}function ce(e,t){const n={base:Object(Z["c"])(t)};for(let i=5;i>0;--i)n["lighten"+i]=Object(Z["c"])(he(t,i));for(let i=1;i<=4;++i)n["darken"+i]=Object(Z["c"])(de(t,i));return n}function he(e,t){const n=ne(J["b"](e));return n[0]=n[0]+10*t,J["a"](ie(n))}function de(e,t){const n=ne(J["b"](e));return n[0]=n[0]-10*t,J["a"](ie(n))}class pe extends c{constructor(e){super(),this.disabled=!1,this.isDark=null,this.unwatch=null,this.vueMeta=null;const{dark:t,disable:n,options:i,themes:o}=e[pe.property];this.dark=Boolean(t),this.defaults=this.themes=o,this.options=i,n?this.disabled=!0:this.themes={dark:this.fillVariant(o.dark,!0),light:this.fillVariant(o.light,!1)}}set css(e){this.vueMeta?this.isVueMeta23&&this.applyVueMeta23():this.checkOrCreateStyleElement()&&(this.styleEl.innerHTML=e)}set dark(e){const t=this.isDark;this.isDark=e,null!=t&&this.applyTheme()}get dark(){return Boolean(this.isDark)}applyTheme(){if(this.disabled)return this.clearCss();this.css=this.generatedStyles}clearCss(){this.css=""}init(e,t){this.disabled||(e.$meta?this.initVueMeta(e):t&&this.initSSR(t),this.initTheme(e))}setTheme(e,t){this.themes[e]=Object.assign(this.themes[e],t),this.applyTheme()}resetThemes(){this.themes.light=Object.assign({},this.defaults.light),this.themes.dark=Object.assign({},this.defaults.dark),this.applyTheme()}checkOrCreateStyleElement(){return this.styleEl=document.getElementById("vuetify-theme-stylesheet"),!!this.styleEl||(this.genStyleElement(),Boolean(this.styleEl))}fillVariant(e={},t){const n=this.themes[t?"dark":"light"];return Object.assign({},n,e)}genStyleElement(){"undefined"!==typeof document&&(this.styleEl=document.createElement("style"),this.styleEl.type="text/css",this.styleEl.id="vuetify-theme-stylesheet",this.options.cspNonce&&this.styleEl.setAttribute("nonce",this.options.cspNonce),document.head.appendChild(this.styleEl))}initVueMeta(e){if(this.vueMeta=e.$meta(),this.isVueMeta23)return void e.$nextTick(()=>{this.applyVueMeta23()});const t="function"===typeof this.vueMeta.getOptions?this.vueMeta.getOptions().keyName:"metaInfo",n=e.$options[t]||{};e.$options[t]=()=>{n.style=n.style||[];const e=n.style.find(e=>"vuetify-theme-stylesheet"===e.id);return e?e.cssText=this.generatedStyles:n.style.push({cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:(this.options||{}).cspNonce}),n}}applyVueMeta23(){const{set:e}=this.vueMeta.addApp("vuetify");e({style:[{cssText:this.generatedStyles,type:"text/css",id:"vuetify-theme-stylesheet",nonce:this.options.cspNonce}]})}initSSR(e){const t=this.options.cspNonce?` nonce="${this.options.cspNonce}"`:"";e.head=e.head||"",e.head+=`<style type="text/css" id="vuetify-theme-stylesheet"${t}>${this.generatedStyles}</style>`}initTheme(e){"undefined"!==typeof document&&(this.unwatch&&(this.unwatch(),this.unwatch=null),e.$once("hook:created",()=>{const t=o["a"].observable({themes:this.themes});this.unwatch=e.$watch(()=>t.themes,()=>this.applyTheme(),{deep:!0})}),this.applyTheme())}get currentTheme(){const e=this.dark?"dark":"light";return this.themes[e]}get generatedStyles(){const e=this.parsedTheme,t=this.options||{};let n;return null!=t.themeCache&&(n=t.themeCache.get(e),null!=n)||(n=ue(e,t.customProperties),null!=t.minifyTheme&&(n=t.minifyTheme(n)),null!=t.themeCache&&t.themeCache.set(e,n)),n}get parsedTheme(){return oe(this.currentTheme||{},void 0,Object(u["k"])(this.options,["variations"],!0))}get isVueMeta23(){return"function"===typeof this.vueMeta.addApp}}pe.property="theme";class fe{constructor(e={}){this.framework={isHydrating:!1},this.installed=[],this.preset={},this.userPreset={},this.userPreset=e,this.use(h),this.use(d),this.use(p),this.use(N),this.use(G),this.use(X),this.use(pe)}init(e,t){this.installed.forEach(n=>{const i=this.framework[n];i.framework=this.framework,i.init(e,t)}),this.framework.rtl=Boolean(this.preset.rtl)}use(e){const t=e.property;this.installed.includes(t)||(this.framework[t]=new e(this.preset,this),this.installed.push(t))}}fe.install=s,fe.installed=!1,fe.version="2.6.14",fe.config={silent:!1}},f5df:function(e,t,n){var i=n("00ee"),o=n("1626"),r=n("c6b6"),s=n("b622"),a=s("toStringTag"),l=Object,u="Arguments"==r(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=l(e),a))?n:u?r(t):"Object"==(i=r(t))&&o(t.callee)?"Arguments":i}},f6c4:function(e,t,n){"use strict";n("bd0c");var i=n("d10f");t["a"]=i["a"].extend({name:"v-main",props:{tag:{type:String,default:"main"}},computed:{styles(){const{bar:e,top:t,right:n,footer:i,insetFooter:o,bottom:r,left:s}=this.$vuetify.application;return{paddingTop:t+e+"px",paddingRight:n+"px",paddingBottom:i+o+r+"px",paddingLeft:s+"px"}}},render(e){const t={staticClass:"v-main",style:this.styles,ref:"main"};return e(this.tag,t,[e("div",{staticClass:"v-main__wrap"},this.$slots.default)])}})},f772:function(e,t,n){var i=n("5692"),o=n("90e3"),r=i("keys");e.exports=function(e){return r[e]||(r[e]=o(e))}},fbcd:function(e,t,n){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function r(e){return"[object String]"===o(e)}function s(e){return"[object Object]"===o(e)}function a(e){return"[object RegExp]"===o(e)}function l(e){return"[object Function]"===o(e)}function u(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function h(e){return Object.keys(e||{}).reduce((function(e,t){return e||c.hasOwnProperty(t)}),!1)}var d={"http:":{validate:function(e,t,n){var i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},p="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",f="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function g(e){e.__index__=-1,e.__text_cache__=""}function m(e){return function(t,n){var i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}function _(){return function(e,t){t.normalize(e)}}function v(e){var t=e.re=n("b117")(e.__opts__),i=e.__tlds__.slice();function o(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||i.push(p),i.push(t.src_xn),t.src_tlds=i.join("|"),t.email_fuzzy=RegExp(o(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(o(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(o(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(o(t.tpl_host_fuzzy_test),"i");var c=[];function h(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var i={validate:null,link:null};if(e.__compiled__[t]=i,s(n))return a(n.validate)?i.validate=m(n.validate):l(n.validate)?i.validate=n.validate:h(t,n),void(l(n.normalize)?i.normalize=n.normalize:n.normalize?h(t,n):i.normalize=_());r(n)?c.push(t):h(t,n)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:_()};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(u).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),g(e)}function y(e,t){var n=e.__index__,i=e.__last_index__,o=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=o,this.text=o,this.url=o}function b(e,t){var n=new y(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function w(e,t){if(!(this instanceof w))return new w(e,t);t||h(e)&&(t=e,e={}),this.__opts__=i({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i({},d,e),this.__compiled__={},this.__tlds__=f,this.__tlds_replaced__=!1,this.re={},v(this)}w.prototype.add=function(e,t){return this.__schemas__[e]=t,v(this),this},w.prototype.set=function(e){return this.__opts__=i(this.__opts__,e),this},w.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,i,o,r,s,a,l,u;if(this.re.schema_test.test(e)){a=this.re.schema_search,a.lastIndex=0;while(null!==(t=a.exec(e)))if(o=this.testSchemaAt(e,t[2],a.lastIndex),o){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(r=n.index+n[1].length,(this.__index__<0||r<this.__index__)&&(this.__schema__="",this.__index__=r,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(r=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||r<this.__index__||r===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=r,this.__last_index__=s))),this.__index__>=0},w.prototype.pretest=function(e){return this.re.pretest.test(e)},w.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},w.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(b(this,t)),t=this.__last_index__);var i=t?e.slice(t):e;while(this.test(i))n.push(b(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},w.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),v(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,v(this),this)},w.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},w.prototype.onCompile=function(){},e.exports=w},fc06:function(e,t,n){var i,o,r;(function(s,a){o=[n("b7fd"),n("e5d4")],i=a,r="function"===typeof i?i.apply(t,o):i,void 0===r||(e.exports=r)})(0,(function(e,t){
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
return t}))},fc6a:function(e,t,n){var i=n("44ad"),o=n("1d80");e.exports=function(e){return i(o(e))}},fdbf:function(e,t,n){var i=n("04f8");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdfe:function(e,t,n){"use strict";var i=n("0068").isSpace;e.exports=function(e,t,n,o){var r,s,a,l,u=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(r=e.src.charCodeAt(u++),42!==r&&45!==r&&95!==r)return!1;s=1;while(u<c){if(a=e.src.charCodeAt(u++),a!==r&&!i(a))return!1;a===r&&s++}return!(s<3)&&(o||(e.line=t+1,l=e.push("hr","hr",0),l.map=[t,e.line],l.markup=Array(s+1).join(String.fromCharCode(r))),!0)}},fe57:function(e,t,n){"use strict";n("14d9"),n("1bfb"),n("608c");var i=n("9d26"),o=n("0789"),r=n("604c"),s=n("d9bd"),a=n("2b0e"),l=a["a"].extend({name:"mobile",props:{mobileBreakpoint:{type:[Number,String],default(){return this.$vuetify?this.$vuetify.breakpoint.mobileBreakpoint:void 0},validator:e=>!isNaN(Number(e))||["xs","sm","md","lg","xl"].includes(String(e))}},computed:{isMobile(){const{mobile:e,width:t,name:n,mobileBreakpoint:i}=this.$vuetify.breakpoint;if(i===this.mobileBreakpoint)return e;const o=parseInt(this.mobileBreakpoint,10),r=!isNaN(o);return r?t<o:n===this.mobileBreakpoint}},created(){this.$attrs.hasOwnProperty("mobile-break-point")&&Object(s["d"])("mobile-break-point","mobile-breakpoint",this)}}),u=n("dc22"),c=n("c3f0"),h=n("58df"),d=n("80d2");function p(e){const t=.501,n=Math.abs(e);return Math.sign(e)*(n/((1/t-2)*(1-n)+1))}function f(e,t,n,i){const o=e.clientWidth,r=n?t.content-e.offsetLeft-o:e.offsetLeft;n&&(i=-i);const s=t.wrapper+i,a=o+r,l=.4*o;return r<=i?i=Math.max(r-l,0):s<=a&&(i=Math.min(i-(s-a-l),t.content-t.wrapper)),n?-i:i}function g(e,t,n){const{offsetLeft:i,clientWidth:o}=e;if(n){const e=t.content-i-o/2-t.wrapper/2;return-Math.min(t.content-t.wrapper,Math.max(0,e))}{const e=i+o/2-t.wrapper/2;return Math.min(t.content-t.wrapper,Math.max(0,e))}}const m=Object(h["a"])(r["a"],l).extend({name:"base-slide-group",directives:{Resize:u["a"],Touch:c["a"]},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["always","desktop","mobile"].includes(e)}},data:()=>({isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}),computed:{canTouch(){return"undefined"!==typeof window},__cachedNext(){return this.genTransition("next")},__cachedPrev(){return this.genTransition("prev")},classes(){return{...r["a"].options.computed.classes.call(this),"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing}},hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext(){if(!this.hasAffixes)return!1;const{content:e,wrapper:t}=this.widths;return e>Math.abs(this.scrollOffset)+t},hasPrev(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset(e){this.$vuetify.rtl&&(e=-e);let t=e<=0?p(-e):e>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+p(this.widths.content-this.widths.wrapper-e):-e;this.$vuetify.rtl&&(t=-t),this.$refs.content.style.transform=`translateX(${t}px)`}},mounted(){if("undefined"!==typeof ResizeObserver){const e=new ResizeObserver(()=>{this.onResize()});e.observe(this.$el),e.observe(this.$refs.content),this.$on("hook:destroyed",()=>{e.disconnect()})}else{let e=0;this.$on("hook:beforeUpdate",()=>{var t;e=((null===(t=this.$refs.content)||void 0===t?void 0:t.children)||[]).length}),this.$on("hook:updated",()=>{var t;e!==((null===(t=this.$refs.content)||void 0===t?void 0:t.children)||[]).length&&this.setWidths()})}},methods:{onScroll(){this.$refs.wrapper.scrollLeft=0},onFocusin(e){if(this.isOverflowing)for(const t of Object(d["f"])(e))for(const e of this.items)if(e.$el===t)return void(this.scrollOffset=f(e.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))},genNext(){const e=this.$scopedSlots.next?this.$scopedSlots.next({}):this.$slots.next||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:()=>this.onAffixClick("next")},key:"next"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},this.$slots.default)},genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon(e){let t=e;this.$vuetify.rtl&&"prev"===e?t="next":this.$vuetify.rtl&&"next"===e&&(t="prev");const n=`${e[0].toUpperCase()}${e.slice(1)}`,o=this["has"+n];return this.showArrows||o?this.$createElement(i["a"],{props:{disabled:!o}},this[t+"Icon"]):null},genPrev(){const e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):this.$slots.prev||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:()=>this.onAffixClick("prev")},key:"prev"},[e])},genTransition(e){return this.$createElement(o["a"],[this.genIcon(e)])},genWrapper(){return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:e=>this.overflowCheck(e,this.onTouchStart),move:e=>this.overflowCheck(e,this.onTouchMove),end:e=>this.overflowCheck(e,this.onTouchEnd)}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset(e,t,n,i){const o=n?-1:1,r=o*i+("prev"===e?-1:1)*t.wrapper;return o*Math.max(Math.min(r,t.content-t.wrapper),0)},onAffixClick(e){this.$emit("click:"+e),this.scrollTo(e)},onResize(){this._isDestroyed||this.setWidths()},onTouchStart(e){const{content:t}=this.$refs;this.startX=this.scrollOffset+e.touchstartX,t.style.setProperty("transition","none"),t.style.setProperty("willChange","transform")},onTouchMove(e){if(this.canTouch){if(!this.isSwiping){const t=e.touchmoveX-e.touchstartX,n=e.touchmoveY-e.touchstartY;this.isSwipingHorizontal=Math.abs(t)>Math.abs(n),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-e.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd(){if(!this.canTouch)return;const{content:e,wrapper:t}=this.$refs,n=e.clientWidth-t.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-n&&(this.scrollOffset=-n):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=n&&(this.scrollOffset=n),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")},overflowCheck(e,t){e.stopPropagation(),this.isOverflowing&&t(e)},scrollIntoView(){if(!this.selectedItem&&this.items.length){const e=this.items[this.items.length-1].$el.getBoundingClientRect(),t=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&t.right<e.right||!this.$vuetify.rtl&&t.left>e.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=g(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=f(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo(e){this.scrollOffset=this.calculateNewOffset(e,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths(){window.requestAnimationFrame(()=>{if(this._isDestroyed)return;const{content:e,wrapper:t}=this.$refs;this.widths={content:e?e.clientWidth:0,wrapper:t?t.clientWidth:0},this.isOverflowing=this.widths.wrapper+1<this.widths.content,this.scrollIntoView()})}},render(e){return e("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});m.extend({name:"v-slide-group",provide(){return{slideGroup:this}}});var _=n("7560"),v=n("d10f"),y=Object(h["a"])(m,v["a"],_["a"]).extend({name:"v-tabs-bar",provide(){return{tabsBar:this}},computed:{classes(){return{...m.options.computed.classes.call(this),"v-tabs-bar":!0,"v-tabs-bar--is-mobile":this.isMobile,"v-tabs-bar--show-arrows":this.showArrows,...this.themeClasses}}},watch:{items:"callSlider",internalValue:"callSlider",$route:"onRouteChange"},methods:{callSlider(){this.isBooted&&this.$emit("call:slider")},genContent(){const e=m.options.methods.genContent.call(this);return e.data=e.data||{},e.data.staticClass+=" v-tabs-bar__content",e},onRouteChange(e,t){if(this.mandatory)return;const n=this.items,i=e.path,o=t.path;let r=!1,s=!1;for(const a of n)if(a.to===o?s=!0:a.to===i&&(r=!0),r&&s)break;!r&&s&&(this.internalValue=void 0)}},render(e){const t=m.options.render.call(this,e);return t.data.attrs={role:"tablist"},t}}),b=(n("13b3"),n("afdd")),w=r["a"].extend({name:"v-window",directives:{Touch:c["a"]},provide(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...r["a"].options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const e=this.vertical?"y":"x",t=this.internalReverse?!this.isReverse:this.isReverse,n=t?"-reverse":"";return`v-window-${e}${n}-transition`},hasActiveItems(){return Boolean(this.items.find(e=>!e.disabled))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex((e,t)=>this.internalValue===this.getValue(e,t))},internalReverse(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex(e,t){this.isReverse=this.updateReverse(e,t)}},mounted(){window.requestAnimationFrame(()=>this.isBooted=!0)},methods:{genDefaultSlot(){return this.$slots.default},genContainer(){const e=[this.genDefaultSlot()];return this.showArrows&&e.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},e)},genIcon(e,t,n){var o,r,s;const a={click:e=>{e.stopPropagation(),this.changedByDelimiters=!0,n()}},l={"aria-label":this.$vuetify.lang.t("$vuetify.carousel."+e)},u=null!==(s=null===(r=(o=this.$scopedSlots)[e])||void 0===r?void 0:r.call(o,{on:a,attrs:l}))&&void 0!==s?s:[this.$createElement(b["a"],{props:{icon:!0},attrs:l,on:a},[this.$createElement(i["a"],{props:{large:!0}},t)])];return this.$createElement("div",{staticClass:"v-window__"+e},u)},genControlIcons(){const e=[],t=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&t&&"string"===typeof t){const n=this.genIcon("prev",t,this.prev);n&&e.push(n)}const n=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&n&&"string"===typeof n){const t=this.genIcon("next",n,this.next);t&&e.push(t)}return e},getNextIndex(e){const t=(e+1)%this.items.length,n=this.items[t];return n.disabled?this.getNextIndex(t):t},getPrevIndex(e){const t=(e+this.items.length-1)%this.items.length,n=this.items[t];return n.disabled?this.getPrevIndex(t):t},next(){if(!this.hasActiveItems||!this.hasNext)return;const e=this.getNextIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)},prev(){if(!this.hasActiveItems||!this.hasPrev)return;const e=this.getPrevIndex(this.internalIndex),t=this.items[e];this.internalValue=this.getValue(t,e)},updateReverse(e,t){const n=this.items.length,i=n-1;return n<=2?e<t:e===i&&0===t||(0!==e||t!==i)&&e<t}},render(e){const t={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const e=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:e=>{e.stopPropagation()},start:e=>{e.stopPropagation()}};t.directives.push({name:"touch",value:e})}return e("div",t,[this.genContainer()])}}),C=w.extend({name:"v-tabs-items",props:{mandatory:{type:Boolean,default:!1}},computed:{classes(){return{...w.options.computed.classes.call(this),"v-tabs-items":!0}},isDark(){return this.rootIsDark}},methods:{getValue(e,t){return e.id||r["a"].options.methods.getValue.call(this,e,t)}}}),S=n("9a96"),E=n("a9ad"),T=n("a452");const k=Object(h["a"])(E["a"],T["a"],_["a"]);t["a"]=k.extend().extend({name:"v-tabs",directives:{Resize:u["a"]},props:{activeClass:{type:String,default:""},alignWithTitle:Boolean,backgroundColor:String,centerActive:Boolean,centered:Boolean,fixedTabs:Boolean,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,iconsAndText:Boolean,mobileBreakpoint:[String,Number],nextIcon:{type:String,default:"$next"},optional:Boolean,prevIcon:{type:String,default:"$prev"},right:Boolean,showArrows:[Boolean,String],sliderColor:String,sliderSize:{type:[Number,String],default:2},vertical:Boolean},data(){return{resizeTimeout:0,slider:{height:null,left:null,right:null,top:null,width:null},transitionTime:300}},computed:{classes(){return{"v-tabs--align-with-title":this.alignWithTitle,"v-tabs--centered":this.centered,"v-tabs--fixed-tabs":this.fixedTabs,"v-tabs--grow":this.grow,"v-tabs--icons-and-text":this.iconsAndText,"v-tabs--right":this.right,"v-tabs--vertical":this.vertical,...this.themeClasses}},isReversed(){return this.$vuetify.rtl&&this.vertical},sliderStyles(){return{height:Object(d["g"])(this.slider.height),left:this.isReversed?void 0:Object(d["g"])(this.slider.left),right:this.isReversed?Object(d["g"])(this.slider.right):void 0,top:this.vertical?Object(d["g"])(this.slider.top):void 0,transition:null!=this.slider.left?null:"none",width:Object(d["g"])(this.slider.width)}},computedColor(){return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"}},watch:{alignWithTitle:"callSlider",centered:"callSlider",centerActive:"callSlider",fixedTabs:"callSlider",grow:"callSlider",iconsAndText:"callSlider",right:"callSlider",showArrows:"callSlider",vertical:"callSlider","$vuetify.application.left":"onResize","$vuetify.application.right":"onResize","$vuetify.rtl":"onResize"},mounted(){if("undefined"!==typeof ResizeObserver){const e=new ResizeObserver(()=>{this.onResize()});e.observe(this.$el),this.$on("hook:destroyed",()=>{e.disconnect()})}this.$nextTick(()=>{window.setTimeout(this.callSlider,30)})},methods:{callSlider(){return!this.hideSlider&&this.$refs.items&&this.$refs.items.selectedItems.length?(this.$nextTick(()=>{const e=this.$refs.items.selectedItems[0];if(!e||!e.$el)return this.slider.width=0,void(this.slider.left=0);const t=e.$el;this.slider={height:this.vertical?t.scrollHeight:Number(this.sliderSize),left:this.vertical?0:t.offsetLeft,right:this.vertical?0:t.offsetLeft+t.offsetWidth,top:t.offsetTop,width:this.vertical?Number(this.sliderSize):t.scrollWidth}}),!0):(this.slider.width=0,!1)},genBar(e,t){const n={style:{height:Object(d["g"])(this.height)},props:{activeClass:this.activeClass,centerActive:this.centerActive,dark:this.dark,light:this.light,mandatory:!this.optional,mobileBreakpoint:this.mobileBreakpoint,nextIcon:this.nextIcon,prevIcon:this.prevIcon,showArrows:this.showArrows,value:this.internalValue},on:{"call:slider":this.callSlider,change:e=>{this.internalValue=e}},ref:"items"};return this.setTextColor(this.computedColor,n),this.setBackgroundColor(this.backgroundColor,n),this.$createElement(y,n,[this.genSlider(t),e])},genItems(e,t){return e||(t.length?this.$createElement(C,{props:{value:this.internalValue},on:{change:e=>{this.internalValue=e}}},t):null)},genSlider(e){return this.hideSlider?null:(e||(e=this.$createElement(S["a"],{props:{color:this.sliderColor}})),this.$createElement("div",{staticClass:"v-tabs-slider-wrapper",style:this.sliderStyles},[e]))},onResize(){this._isDestroyed||(clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.callSlider,0))},parseNodes(){let e=null,t=null;const n=[],i=[],o=this.$slots.default||[],r=o.length;for(let s=0;s<r;s++){const r=o[s];if(r.componentOptions)switch(r.componentOptions.Ctor.options.name){case"v-tabs-slider":t=r;break;case"v-tabs-items":e=r;break;case"v-tab-item":n.push(r);break;default:i.push(r)}else i.push(r)}return{tab:i,slider:t,items:e,item:n}}},render(e){const{tab:t,slider:n,items:i,item:o}=this.parseNodes();return e("div",{staticClass:"v-tabs",class:this.classes,directives:[{name:"resize",modifiers:{quiet:!0},value:this.onResize}]},[this.genBar(t,n),this.genItems(i,o)])}})},fe6c:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var i=n("2b0e"),o=n("80d2");const r={absolute:Boolean,bottom:Boolean,fixed:Boolean,left:Boolean,right:Boolean,top:Boolean};function s(e=[]){return i["a"].extend({name:"positionable",props:e.length?Object(o["j"])(r,e):r})}t["a"]=s()},fe86:function(e,t,n){}}]);
//# sourceMappingURL=chunk-vendors.92a556b9.js.map