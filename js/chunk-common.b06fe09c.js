(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"035b":function(e,t,n){},"0bb8":function(e,t,n){"use strict";n("8aa2")},"0e4f":function(e,t,n){"use strict";n("23c9")},1497:function(e,t,n){"use strict";n("ff11")},"1d17":function(e,t,n){},"23c9":function(e,t,n){},"24fc":function(e,t,n){"use strict";n.d(t,"d",(function(){return $t})),n.d(t,"b",(function(){return Ut})),n.d(t,"c",(function(){return Nt}));var s=n("0798"),a=n("8336"),o=n("132d"),r=n("490a"),i=n("2db4"),l=n("2fa4"),u=n("71a3"),c=n("fe57"),p=n("9a96"),d=n("8654"),h=n("71d9"),m=n("2a7f"),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-container"},[t("div",{staticClass:"question-main"},[t("div",{staticClass:"flex-grow-1"},[t("BlocklyWorkspace",{ref:"workspace",attrs:{question:e.question,focused:e.focused,inputAnswer:e.inputAnswer,varnames:e.varnames},on:{code:e.codeChange}})],1),t("div",{staticClass:"instructions"},[t("div",{staticClass:"instruction-div scroll-y"},[t("MarkdownDisplay",{staticClass:"instruction-text",attrs:{source:e.question.description}})],1),t(h["a"],{staticClass:"run-bar",attrs:{flat:"",dense:""}},[t(l["a"]),t(m["a"],[e.running?e._e():t(a["a"],{staticClass:"run-toolbar-el",on:{click:function(t){return t.stopPropagation(),e.runTraceCode()}}},[t(o["a"],[e._v("mdi-play")]),e._v(" Test ")],1),e.running?t(a["a"],{staticClass:"run-toolbar-el",on:{click:function(t){return t.stopPropagation(),e.stopTraceCode()}}},[t(o["a"],[e._v("mdi-stop")]),e._v(" Stop ")],1):e._e(),t(a["a"],{staticClass:"run-toolbar-el",attrs:{disabled:e.running||null==e.testCases},on:{click:function(t){return t.stopPropagation(),e.submitCode()}}},[t(o["a"],[e._v("mdi-send")]),e._v(" Run ")],1),e.running?t("div",{staticClass:"running-indicator run-toolbar-el"},[t("div",[t(r["a"],{attrs:{indeterminate:!0}}),t("span",[e._v("Running...")])],1)]):e._e()],1),t(l["a"])],1)],1)]),t("div",{staticClass:"question-io"},[t(i["a"],{attrs:{centered:""},scopedSlots:e._u([{key:"action",fn:function({attrs:n}){return[t(a["a"],e._b({attrs:{color:"primary",text:""},on:{click:function(t){e.copyBar=!1}}},"v-btn",n,!1),[e._v(" OK ")])]}}]),model:{value:e.copyBar,callback:function(t){e.copyBar=t},expression:"copyBar"}},[e._v(" The answer code was copied to the clipboard ")]),t(c["a"],{staticClass:"question-iotabs",attrs:{"background-color":"secondary",dark:""},model:{value:e.ioTab,callback:function(t){e.ioTab=t},expression:"ioTab"}},[t(p["a"],{attrs:{color:"white"}}),t(u["a"],[e._v("Example")]),t(u["a"],[e._v("Example Result")]),t(u["a"],[e._v("Code")]),t(u["a"],[e._v("Answer")])],1),t("div",{staticClass:"question-iocontent"},[0==e.ioTab?t("div",{staticClass:"iotab"},[t("h4",[e._v("In this tab you can find the input and output for an example testcase")]),t("div",{staticClass:"example"},[t("div",{staticClass:"exampleInput"},[t("h4",[e._v("Example Input")]),t("EnvironmentDisplay",{attrs:{data:e.question.exampleInput}})],1),t("div",{staticClass:"exampleOutput"},[t("h4",[e._v("Example Output")]),t("EnvironmentDisplay",{attrs:{data:e.question.exampleOutput}})],1)])]):e._e(),1==e.ioTab?t("div",{staticClass:"iotab"},[e.traceError?t("div",[t("h4",[e._v("Error while running")]),t(s["a"],{staticClass:"small-alert",attrs:{type:"error"}},[e._v(" The following error occurred while your program was tested: "),t("br"),e._v(" "+e._s(e.traceError)+" ")])],1):e._e(),e.traceOutput?t("div",[e.compareFailed?t(s["a"],{staticClass:"small-alert",attrs:{type:"error"}},[e._v(" One or more output variables do not have the expected outcome for the example test case. "),t("br"),e._v(" This indicates there is a mistake in your program. ")]):e.compareSuccess?t(s["a"],{staticClass:"small-alert",attrs:{type:"info",icon:"mdi-check"}},[e._v(" The output variables have the correct values for the example test case. "),t("br"),e._v(" This does not guarantee your program is correct for all test cases. "),t("br"),e._v(" It is your responsibility to make sure the program is correct for all test cases. ")]):e._e(),t("h4",[e._v("Your program produced the following output:")]),t("EnvironmentDisplay",{attrs:{data:e.traceOutput,reference:e.question.exampleOutput,compare:e.compareResult}})],1):e._e(),e.traceOutput||e.traceError?e._e():t("div",[t("h4",[e._v("This tab will contain the output of your program after you test it.")])])]):e._e(),2==e.ioTab?t("div",{staticClass:"iotab"},[e.code.display?[t("h4",[e._v("This is the generated JavaScript code of your program:")]),t("pre",{staticClass:"code"},[t("code",{staticClass:"code"},[e._v(e._s(e.code.display))])])]:t("h4",[e._v("This tab will contain the Javascript code generated from your program.")])],2):e._e(),3==e.ioTab?t("div",{staticClass:"iotab"},[0==e.testOutput.length?t("span",[e._v("After you run your code, the answer code appears here")]):e._e(),e.outputErrors?t(s["a"],{staticClass:"small-alert",attrs:{type:"error"}},[e._v(" Your program produced an error for at least one testcase. "),t("br"),e._v(" This indicates your program is likely "),t("strong",[e._v("incorrect")]),e._v(". ")]):e.compareFailed?t(s["a"],{staticClass:"small-alert",attrs:{type:"error"}},[e._v(" The example test case is incorrect. "),t("br"),e._v(" This means your answer code is likely "),t("strong",[e._v("incorrect")]),e._v(". ")]):e.outputMissing?t(s["a"],{staticClass:"small-alert",attrs:{type:"warning"}},[e._v(" One of the output variables was missing (undefined) for at least one testcase."),t("br"),e._v(" This indicates your program is likely "),t("strong",[e._v("incorrect")]),e._v(". ")]):e._e(),e.testOutput.length>0?t("div",[t("h4",[e._v("The following answer code was computed. Click "),t(o["a"],{on:{click:e.copyAnswerCode}},[e._v("mdi-content-copy")]),e._v(" to copy it to the clipboard")],1),t(d["a"],{staticClass:"answercode-box",attrs:{readonly:"",solo:"",dense:"",value:e.answerCode},scopedSlots:e._u([{key:"prepend-inner",fn:function(){return[t(o["a"],{on:{click:e.copyAnswerCode}},[e._v("mdi-content-copy")])]},proxy:!0}],null,!1,4158389514)})],1):e._e(),e.testOutput.length>0?[t("div",{ref:"outputs"},[t("h4",[e._v("The answer code is based on the following output of your program.")]),e._m(0),t("ul",e._l(e.outputDisplay,(function(n){return t("li",{key:"test-"+n.index},[t("span",[e._v("With the following inputs:")]),e._l(n.input,(function(s,a){return t("span",{key:"test-input-"+n.index+"-"+a,staticClass:"blockly-inputvalue"},[e._v(" "+e._s(a)+" = "+e._s(JSON.stringify(s))+" ")])})),n.output.error?e._e():t("span",[t("span",[e._v(" your program produced the following outputs:")]),e._l(n.output.data,(function(s,a){return t("span",{key:"test-output-"+n.index+"-"+a,staticClass:"blockly-outputvalue"},[e._v(" "+e._s(a)+" = "+e._s(JSON.stringify(s))+" ")])}))],2),n.output.error?t("span",[t("span",[e._v(" your program produced the following error:")]),t("span",{staticClass:"blockly-outputerror"},[e._v(e._s(n.output.data))])]):e._e()],2)})),0)])]:e._e()],2):e._e()])],1)])},v=[function(){var e=this,t=e._self._c;return t("p",[e._v("It is "),t("strong",[e._v("your responsibility")]),e._v(" to make sure that your output is correct for "),t("strong",[e._v("all testcases")]),e._v(".")])}],b=(n("14d9"),n("22a9")),y=n("3c2e"),g=n("4f0f"),_=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.hasFocus,expression:"hasFocus"}],staticClass:"blockly",attrs:{id:e.divId}})},w=[],k=n("54ca"),C=n("fc06");const x="\n.blocklyToolboxDiv {background: rgba(0, 0, 0, 0.05);}.blocklyMainBackground {stroke:none !important;}.blocklyTreeLabel, .blocklyText, .blocklyHtmlInput {font-family:'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace !important;}.blocklyText { font-size:1rem !important;}.rtl .blocklyText {text-align:right;} .blocklyTreeLabel { font-size:1.25rem !important;} .blocklyCheckbox {fill: #ff3030 !important;text-shadow: 0px 0px 6px #f00;font-size: 17pt !important;}";function T(e,t="returnOutput"){let n=t+"({\n";for(const s of Object.keys(e))n+=s+",\n";return n+="})",n}function O(e){let t="";for(const n of Object.keys(e))t+="let "+n+" = ",t+=JSON.stringify(e[n]),t+=";\n";return t}function q(e){e.highlightBlock("");const t=document.getElementById("blockly-renderer-style-geras-classic").innerText+document.getElementById("blockly-common-style").innerText+x,n=e.svgBlockCanvas_.cloneNode(!0);n.removeAttribute("transform");const s=document.getElementsByClassName("blocklyBlockCanvas")[0],a=s.getBBox(),o=(new XMLSerializer).serializeToString(n),r=`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="${a.width}" height="${a.height}" viewBox="${a.x} ${a.y} ${a.width} ${a.height}">\n        <rect width="100%" height="100%" fill="white"></rect>\n        ${o}</svg>\n    `;return{svg:r,style:t}}const E="\nonmessage = function(msg) {\n    const payload = msg.data;\n    const script = payload.script;\n    const id = payload.id;\n    try {\n        const f = new Function(script);\n        const data = f();\n        postMessage(JSON.stringify({error: false, id, data}));\n    }\n    catch(err) {\n        postMessage(JSON.stringify({error: true, id, data: ''+err}));\n    }\n};\n",S=URL.createObjectURL(new Blob([E],{type:"text/javascript"}));async function R(e){const t=new Worker(S),n=new Array(e.length),s=new Array(e.length),a=new Array(e.length);for(let r=0;r<e.length;r++){const e=new Promise(e=>{a[r]=e});s[r]=e}t.onmessage=e=>{const t=JSON.parse(e.data);n[t.id]=t,a[t.id]()};let o=0;for(const r of e)t.postMessage({script:r,id:o++});return new Promise(e=>{Promise.all(s).then(()=>{t.terminate(),e(n)})})}async function A(e){const t=new Worker(S),n=new Promise((e,n)=>{t.onmessage=s=>{s.error?n(s.data):e(s.data),t.terminate()}});return t.postMessage({script:e,id:0}),n}const j="\nfunction highlightBlock(block) {\n  postMessage({type: 'highlight', block});\n}\nfunction runFinished(result) {\n  postMessage({type: 'finish', result});\n}\nfunction runError(err) {\n  postMessage({type: 'error', error: err});\n}\nasync function sleep(ms) {\n  await new Promise(r => setTimeout(r, ms));;\n}\n";function D(e,t,n,s){const a=j+"$step_count=0;\nasync function run() {\ntry {\n"+e+"}\ncatch (err) {\n   runError(err);\n}};\nrun();",o=URL.createObjectURL(new Blob([a],{type:"text/javascript"})),r=new Worker(o);return r.onmessage=e=>{const a=e.data.type;"highlight"==a?t(e.data.block):"finish"==a?(n(e.data.result),r.terminate()):"error"==a&&(s(e.data.error),r.terminate())},r}function M(e,t=0,n=!1){if("number"==typeof e)return e.toFixed(t);if(!n&&"string"==typeof e){var s=e.toLowerCase();return s=s.replace(/\s+/g,""),s=s.replace(/"/g,""),s}if(Array.isArray(e)){for(var a=[],o=0;o<e.length;o++)a.push(M(e[o]));return"["+a.join(",")+"]"}return e}function $(e,t,n,s,a,o){const r=k["Xml"].workspaceToDom(e),i=k["Xml"].domToText(r),{svg:l,style:u}=q(e);var c='<!doctype html>\n<html><head><meta charset="utf8" />';return c+="<style>"+u+"</style>",c+="</head><body>\n",c+='<div>\n<h3>Blockly Program used to generate answerCode "'+t+'"</h3>\n',c+=l,c+="</div>",(a||o)&&(c+="\n<div><h3>Problems</h3>\n<ul>\n",a&&(c+="<li>The output for the example testcase is incorrect</li>\n"),o&&(c+="<li>The outputs contain <em>undefined</em> values.</li>\n"),c+="</ul>\n</div>"),c+="\n<div id='answer-log'>",c+=n,c+='</div><div style="display: none">\n',c+=k["Xml"].domToText(k["Xml"].workspaceToDom(e)),c+="\n</div>\n",c+="<div>\n<h3>Blockly Generated Javascript Code</h3>\n<pre><code>\n",c+=new Option(s).innerHTML,c+="\n</code></pre>\n</div>\n",c+='\n<div>\n<h3>Raw Blockly Workspace</h3>\n<textarea cols="100" rows="10" readonly="true">\n',c+=new Option(i).innerHTML,c+="\n</textarea>\n</div>\n",c+="</body>\n</html>",c}n("4b03");var U=n("2f62");const N=5e4,I=150;var L={name:"BlocklyWorkspace",props:["question","focused","inputAnswer","varnames"],mounted(){if(this.workspace=k["inject"](this.divId,{toolbox:this.question.toolbox,sounds:!1,media:"."}),this.inputAnswer&&this.inputAnswer.xml){const e=k["Xml"].textToDom(this.inputAnswer.xml);k["Xml"].domToWorkspace(e,this.workspace)}this.workspace.addChangeListener(this.workspaceChanged),this.updateVarnames()},data:()=>({workspace:null,workspaceXML:"",displayCode:"",testingCode:"",tracingCode:"",runningTrace:!1,traceWorker:null}),methods:{workspaceChanged(){this.$nextTick(()=>{const e=k["Xml"].workspaceToDom(this.workspace),t=k["Xml"].domToText(e),n={display:this.getDisplayCode(),trace:this.getTracingCode(),test:this.getTestingCode(),svg:this.getSVG(),xml:t};this.$emit("code",n)})},getTestingCode(){C["javascriptGenerator"].STATEMENT_PREFIX="if ($step_count++ > "+this.maxSteps+') throw "Too many steps. Check for infinite loops.";';let e=C["javascriptGenerator"].workspaceToCode(this.workspace);return e="var $step_count = 0;"+e,C["javascriptGenerator"].STATEMENT_PREFIX="",e},getDisplayCode(){let e=C["javascriptGenerator"].workspaceToCode(this.workspace);return this.preCode+e},getTracingCode(){C["javascriptGenerator"].STATEMENT_PREFIX="await sleep("+I+");if ($step_count++ > "+this.maxSteps+') throw "Too many steps. Check for infinite loops.";highlightBlock(%1);\n';let e=C["javascriptGenerator"].workspaceToCode(this.workspace);return e=e.substring(e.indexOf("\n")+1).trim()+"\n",e=e.replace(/\s+function\s+/g,"\nasync function "),C["javascriptGenerator"].STATEMENT_PREFIX="",this.preCode+e+"\nhighlightBlock('');\n"+T(this.question.exampleOutput,"runFinished")},getSVG(){return q(this.workspace)},highlight(e){this.workspace.highlightBlock(e)},clearTrace(){this.workspace.highlightBlock("")},updateVarnames(){if(this.workspace&&this.varnames&&0==this.workspace.getAllBlocks().length){const e=new Set(this.workspace.getAllVariableNames());for(const t of this.varnames)e.has(t)||(this.workspace.createVariable(t),e.add(t))}},getWorkspace(){return this.workspace}},computed:{...Object(U["c"])(["hasFocus"]),maxSteps(){return this.question.maxSteps?this.question.maxSteps:N},divId(){return"blocklyDiv-"+this.question.uuid},preCode(){let e="/*Defining input variables*/\n";return e+=O(this.question.exampleInput),e+="\n",e+="/*Code generated from blocks*/\n",e}},watch:{focused(){this.$nextTick(()=>{k["svgResize"](this.workspace),k["resizeContents"](this.workspace),this.workspace.resize(),this.workspace.resizeContents()})},varnames(){this.updateVarnames()}}},P=L,B=(n("e15e"),n("2877")),F=Object(B["a"])(P,_,w,!1,null,"e328cf9a",null),V=F.exports,J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"displayEnv"},[e.data?t("ul",e._l(Object.entries(e.data),(function([n,s]){return t("li",{key:n},[t("div",{staticClass:"variable"},[e.compare?[e.compare[n]?t(o["a"],{attrs:{color:"success"}},[e._v("mdi-check")]):t(o["a"],{attrs:{color:"error"}},[e._v("mdi-alert-circle")])]:e._e(),e._v(" A variable with name "),t("code",{staticClass:"varname"},[e._v(e._s(n))]),e._v(" which holds "),t("ValueDisplay",{attrs:{data:s}}),e.compare&&!e.compare[n]?[e._v(" but for which the expected value is "),t("ValueDisplay",{attrs:{data:e.reference[n]}})]:e._e()],2)])})),0):e._e()])},z=[],X=function(){var e=this,t=e._self._c;return t("span",{staticClass:"value-display"},[void 0===e.data||null===e.data?[t("span",{staticClass:"missing-value"},[e._v("no value")])]:"string"==typeof e.data?[e._v(' the string "'),t("span",{staticClass:"string-value"},[e._v(e._s(e.data))]),e._v('" ')]:"number"==typeof e.data?[e._v(" the number "),t("span",{staticClass:"number-value"},[e._v(e._s(e.data))])]:"boolean"==typeof e.data?[e._v(" the boolean "),t("span",{staticClass:"boolean-value"},[e._v(e._s(e.data))])]:Array.isArray(e.data)?[e._v(" the list "),t("table",{staticClass:"array-value"},[t("tr",[t("th",{staticClass:"array-value-header",attrs:{scope:"row"}},[e._v("Position")]),e._l(e.data,(function(n,s){return t("td",{key:"pos-"+s,staticClass:"array-value-index"},[e._v(" "+e._s(s)+" ")])}))],2),t("tr",[t("th",{staticClass:"array-value-header",attrs:{scope:"row"}},[e._v("Value")]),e._l(e.data,(function(e,n){return t("td",{key:"value-"+n,staticClass:"array-value-entry"},[t("ValueDisplay",{attrs:{data:e}})],1)}))],2)])]:"function"==typeof e.data?[e._v(" a function ")]:[e._v(" an object "),t("table",{staticClass:"object-value"},[t("tr",[t("th",{staticClass:"object-value-header",attrs:{scope:"row"}},[e._v("Property")]),e._l(Object.keys(e.data),(function(n){return t("td",{key:"prop-"+n,staticClass:"object-value-key"},[e._v(" "+e._s(n)+" ")])}))],2),t("tr",[t("th",{staticClass:"object-value-header",attrs:{scope:"row"}},[e._v("Value")]),e._l(Object.entries(e.data),(function([e,n]){return t("td",{key:"value-"+e,staticClass:"object-value-entry"},[t("ValueDisplay",{attrs:{data:n}})],1)}))],2)])]],2)},Y=[],W={name:"ValueDisplay",props:["data"],components:{ValueDisplay:void 0}},H=W,G=(n("aa14"),Object(B["a"])(H,X,Y,!1,null,"02bf67ac",null)),Q=G.exports,K={name:"EnvironmentDisplay",props:["data","reference","compare"],components:{ValueDisplay:Q}},Z=K,ee=(n("aa42"),Object(B["a"])(Z,J,z,!1,null,"1aa1a4ae",null)),te=ee.exports;function ne(e,t,n,s=!1){if(e&&!t||!e&&t)return!1;if(null==e&&null==t)return!0;if(void 0==e&&void 0==t)return!0;if(void 0==e||null==e||null==t||void 0==t)return!1;if(s)if("number"==typeof e&&"string"==typeof t)try{t=parseFloat(t)}catch{return!1}else if("string"==typeof e&&"number"==typeof t)try{e=parseFloat(e)}catch{return!1}if(typeof e!=typeof t)return!1;if(Array.isArray(e)!=Array.isArray(t))return!1;if("string"==typeof e||"boolean"==typeof e)return e==t;if("number"==typeof e)return e.toFixed(n)==t.toFixed(n);if(Array.isArray(e)){if(e.length!=t.length)return!1;for(const[n,s]of e.entries())if(!ne(s,t[n]))return!1;return!0}if(Object.keys(e).length!=Object.keys(t).length)return!1;for(const[a,o]of Object.entries(e)){if(!(a in t))return!1;if(!ne(o,t[a],n,s))return!1}for(const a in t)if(!(a in e))return!1;return!0}var se={name:"BlocklyQuestion",props:["question","focused","inputAnswer"],components:{MarkdownDisplay:g["a"],BlocklyWorkspace:V,EnvironmentDisplay:te},data:()=>({ioTab:null,code:{},testOutput:[],dirty:!0,worker:null,traceOutput:null,traceError:null,testCases:null,copyBar:!1}),created(){this.inputAnswer&&(this.dirty=this.inputAnswer.dirty,this.testOutput=this.inputAnswer.output),this.question&&this.refreshTestcases()},methods:{codeChange(e){this.code=e},runTraceCode(e){if(!this.worker){this.traceOutput=null,this.traceError=null,this.ioTab=2;const t=(e?this.getTestCode():this.code.trace)||"";if(t)if(e)A(t).then(e=>{const t=JSON.parse(e);t.error?this.traceError=t.data:this.traceOutput=t.data});else{const e=this.$refs.workspace.highlight,n=this.finishTrace,s=this.errorTrace;this.worker=D(t,e,n,s)}else this.traceOutput=null,this.traceError="Can not run an empty program",this.ioTab=1}},stopTraceCode(){this.worker&&(this.worker.terminate(),this.worker=null)},finishTrace(e){this.traceOutput=e,this.ioTab=1,this.stopTraceCode()},errorTrace(e){this.traceError=e,this.ioTab=1,this.stopTraceCode()},getTestCode(e=this.question.exampleInput,t,n){const s=this.code.test||"";t||(t=s.substring(s.indexOf("\n")+1).trim()+"\n"),n||(n=s.substring(0,s.indexOf("\n")).trim()+"\n\n");let a=Object.entries(e).map(([e,t])=>e+"="+JSON.stringify(t)).join(";\n")+";\n";return a+=n,a+=t,a+=this.outputCode,a},submitCode(){this.testOutput=[],this.runTraceCode(!0),this.dirty=!0;const e=this.code.test||"",t=e.substring(e.indexOf("\n")+1).trim()+"\n",n=e.substring(0,e.indexOf("\n")).trim()+"\n\n",s=[];for(const a of this.testCases){const e=this.getTestCode(a,t,n);s.push(e)}R(s).then(e=>{this.testOutput=e,this.dirty=!1,this.ioTab=3})},refreshTestcases(){const e=this.question.testCaseScript+";return getTestCases();";A(e).then(e=>{const t=JSON.parse(e);!t.error&&Array.isArray(t.data)?t.data.length>0&&ne(t.data[0],this.question.exampleInput,1e-6)?this.testCases=t.data:this.testCases=[this.question.exampleInput,...t.data]:console.log("Error while generating testCases: "+t.data)})},copyAnswerCode(){Object(y["b"])(this.answerCode),this.copyBar=!0},generateFile(){const e=this.$refs.workspace.getWorkspace(),t=this.$refs.outputs?this.$refs.outputs.innerHTML:"";return $(e,this.answerCode,t,this.code.display,this.compareFailed,this.outputMissing)}},computed:{outputOrder(){const e=[];for(const t of Object.keys(this.question.exampleOutput))e.push(t);return e.sort(),e},outputCode(){let e="const $resultObj = {};\n";for(const t of Object.keys(this.question.exampleOutput))e+="$resultObj."+t+" = "+t+";\n";return e+="return $resultObj;",e},outputDisplay(){const e=[];if(!this.testCases||!this.testOutput||0==this.testOutput.length)return e;for(let t=0;t<this.testCases.length;t++){let n={error:!0,data:"Program was not executed"};if(t in this.testOutput){n=this.testOutput[t];for(const e of this.outputOrder)n.data[e]&&(n.data[e]=M(n.data[e],this.decimals,this.question.strictStrings))}e.push({index:t,input:this.testCases[t],output:n})}return e},outputErrors(){if(this.testOutput)for(const e of this.testOutput)if(e.error)return!0;return!1},outputMissing(){if(this.testOutput)for(const e of this.testOutput)if(!e.error)for(const t of this.outputOrder)if("undefined"==typeof e.data[t])return!0;return!1},answerCode(){const e=[];for(const s of this.outputDisplay)for(const t of this.outputOrder)e.push(t+"="+s.output.data[t]);const t=e.join("|");let n=b(t);if(this.question.hashReps&&this.question.hashReps>1)for(let s=1;s<this.question.hashReps;s++)n=b(n+"|"+t);return this.question.hashLength&&(n=n.substring(0,this.question.hashLength)),this.question.hashPrefix&&(n=this.question.hashPrefix+n),n},fullAnswer(){return{dirty:this.dirty,shortAnswer:this.answerCode,xml:this.code.xml,svg:this.code.svg,output:this.testOutput}},running(){return null!=this.worker},decimals(){return void 0!==this.question.decimals?this.question.decimals:1},varnames(){if(this.question){const{exampleInput:e,exampleOutput:t}=this.question;return[...Object.keys(e),...Object.keys(t)]}return[]},compareResult(){if(this.traceOutput){const e={};for(const[t,n]of Object.entries(this.question.exampleOutput))e[t]=ne(n,this.traceOutput[t],this.decimals);return e}return null},compareFailed(){return!!(this.compareResult&&Object.keys(this.compareResult).length>0)&&Object.values(this.compareResult).some(e=>!e)},compareSuccess(){return!!(this.compareResult&&Object.keys(this.compareResult).length>0)&&Object.values(this.compareResult).every(e=>e)}},watch:{fullAnswer(){this.$emit("input",this.fullAnswer)},question(){this.refreshTestcases()}}},ae=se,oe=(n("302b"),n("0bb8"),Object(B["a"])(ae,f,v,!1,null,"21fd9e5b",null)),re=oe.exports,ie=n("ac7c"),le=n("62ad"),ue=n("a523"),ce=n("4bd4"),pe=n("0fd9"),de=n("ba0d"),he=function(){var e=this,t=e._self._c;return t(ce["a"],{attrs:{model:"valid"}},[t(ue["a"],[t(pe["a"],[t(le["a"],{staticClass:"editPanel",attrs:{cols:"6"}},[t("h4",[e._v("Example Input")]),e.inputError?t(s["a"],{attrs:{type:"error"}},[e._v("Unable to parse JSON. Question not updated. Fix this!"),t("br"),e._v(e._s(e.inputError))]):t(s["a"],{attrs:{type:"success"}},[e._v("JSON succesfully parsed")]),t("codemirror",{ref:"editor1",staticClass:"small-editor",attrs:{value:e.exampleInputStr,options:e.jsonOptions},on:{input:e.updateInput}})],1),t(le["a"],{staticClass:"editPanel",attrs:{cols:"6"}},[t("h4",[e._v("Example Goal")]),e.outputError?t(s["a"],{attrs:{type:"error"}},[e._v("Unabled to parse JSON. Question not updated. Fix this!"),t("br"),e._v(e._s(e.outputError))]):t(s["a"],{attrs:{type:"success"}},[e._v("JSON succesfully parsed")]),t("codemirror",{ref:"editor2",staticClass:"small-editor",attrs:{value:e.exampleOutputStr,options:e.jsonOptions},on:{input:e.updateOutput}})],1)],1),t(pe["a"],[t(le["a"],{staticClass:"editPanel",attrs:{cols:"6"}},[t("h4",[e._v("Testcase Script")]),t("codemirror",{ref:"editor3",staticClass:"editor",attrs:{value:e.value.testCaseScript,options:e.jsOptions},on:{input:e.updateTestCases}})],1),t(le["a"],{staticClass:"editPanel",attrs:{cols:"6"}},[t("h4",[e._v("Toolbox XML")]),t("codemirror",{ref:"editor4",staticClass:"editor",attrs:{value:e.value.toolbox,options:e.xmlOptions},on:{input:e.updateToolbox}})],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t("h4",[e._v("Answer code settings")]),t(de["a"],{attrs:{min:"0",step:"1",max:"8",ticks:"","thumb-label":"",label:"Number of decimals to compare in numbers "+e.value.decimals},model:{value:e.value.decimals,callback:function(t){e.$set(e.value,"decimals",e._n(t))},expression:"value.decimals"}}),t(ie["a"],{attrs:{label:"Perform strict comparison of strings (correct spacing and case are required)"},model:{value:e.value.strictString,callback:function(t){e.$set(e.value,"strictString",t)},expression:"value.strictString"}}),t(d["a"],{staticClass:"short-field",attrs:{label:"Answer code prefix"},on:{input:e.updateHashLength},model:{value:e.value.hashPrefix,callback:function(t){e.$set(e.value,"hashPrefix",t)},expression:"value.hashPrefix"}}),t(d["a"],{staticClass:"short-field",attrs:{label:"Answer code repetitions",min:"1",type:"number"},on:{input:e.updateHashReps},model:{value:e.value.hashReps,callback:function(t){e.$set(e.value,"hashReps",t)},expression:"value.hashReps"}}),t(d["a"],{staticClass:"short-field",attrs:{label:"Answer code length",min:"1",type:"number"},on:{input:e.updateHashLength},model:{value:e.value.hashLength,callback:function(t){e.$set(e.value,"hashLength",t)},expression:"value.hashLength"}})],1)],1)],1)],1)},me=[],fe=n("8f94"),ve=(n("a7be"),n("f9d4"),n("d5e0"),{name:"EditBlocklyQuestion",props:["value","focused"],components:{codemirror:fe["codemirror"]},data:()=>({inputError:null,outputError:null,loaded:!1,exampleInputStr:null,exampleOutputStr:null,updating:!1,jsonOptions:{tabSize:4,mode:"application/json",lineNumbers:!0,line:!0,lineWrapping:!0},xmlOptions:{tabSize:4,mode:"application/xml",lineNumbers:!0,line:!0,lineWrapping:!0},jsOptions:{tabSize:4,mode:"application/javascript",lineNumbers:!0,line:!0,lineWrapping:!0}}),created(){this.loaded=!0,this.exampleInputStr=JSON.stringify(this.value.exampleInput,null,"\t"),this.exampleOutputStr=JSON.stringify(this.value.exampleOutput,null,"\t")},methods:{valueChanged(){this.$emit("input",this.value)},updateInput(e){this.inputError=null;try{this.value.exampleInput=JSON.parse(e),this.updating=!0,this.$nextTick(()=>{this.updating=!1}),this.$emit("input",this.value)}catch(t){this.inputError=t.message}},updateOutput(e){this.outputError=null;try{this.value.exampleOutput=JSON.parse(e),this.updating=!0,this.$nextTick(()=>{this.updating=!1}),this.$emit("input",this.value)}catch(t){this.outputError=t.message}},stringifyIO(){this.updating||(this.value.exampleInput&&(this.exampleInputStr=JSON.stringify(this.value.exampleInput,null,3)),this.value.exampleOutput&&(this.exampleOutputStr=JSON.stringify(this.value.exampleOutput,null,3)))},updateTestCases(e){this.value.testCaseScript=e,this.$emit("input",this.value)},updateToolbox(e){this.value.toolbox=e,this.$emit("input",this.value)},updateHashReps(e){this.value.hashReps=e,this.$emit("input",this.value)},updateHashLength(e){this.value.hashLength=e,this.$emit("input",this.value)},updateHashPrefix(e){this.value.hashPrefix=e,this.$emit("input",this.value)},refreshAll(){this.$refs.editor1.refresh(),this.$refs.editor2.refresh(),this.$refs.editor3.refresh(),this.$refs.editor4.refresh()}},watch:{focused(){this.$nextTick(this.refreshAll)},value:{deep:!0,handler(){this.stringifyIO()}}}}),be=ve,ye=(n("87c0"),Object(B["a"])(be,he,me,!1,null,"32668a7f",null)),ge=ye.exports;function _e(e){return{...e,exampleInput:{cost:8},exampleOutput:{output:4},toolbox:'<xml id="toolbox" style="display: none">\n    <category id="catLogic" colour="210" name="Logic">\n      <block type="controls_if"></block>\n      <block type="logic_compare"></block>\n      <block type="logic_operation"></block>\n      <block type="logic_negate"></block>\n      <block type="logic_boolean"></block>\n      <block type="logic_null"></block>\n      <block type="logic_ternary"></block>\n    </category>\n    <category id="catLoops" colour="120" name="Loops">\n      <block type="controls_repeat_ext">\n        <value name="TIMES">\n          <shadow type="math_number">\n            <field name="NUM">10</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="controls_whileUntil"></block>\n      <block type="controls_for">\n        <value name="FROM">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n        <value name="TO">\n          <shadow type="math_number">\n            <field name="NUM">10</field>\n          </shadow>\n        </value>\n        <value name="BY">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="controls_forEach"></block>\n      <block type="controls_flow_statements"></block>\n    </category>\n    <category id="catMath" colour="230" name="Math">\n      <block type="math_number"></block>\n      <block type="math_arithmetic">\n        <value name="A">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n        <value name="B">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_single">\n        <value name="NUM">\n          <shadow type="math_number">\n            <field name="NUM">9</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_trig">\n        <value name="NUM">\n          <shadow type="math_number">\n            <field name="NUM">45</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_constant"></block>\n      <block type="math_number_property">\n        <value name="NUMBER_TO_CHECK">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_change">\n        <value name="DELTA">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_round">\n        <value name="NUM">\n          <shadow type="math_number">\n            <field name="NUM">3.1</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_modulo">\n        <value name="DIVIDEND">\n          <shadow type="math_number">\n            <field name="NUM">64</field>\n          </shadow>\n        </value>\n        <value name="DIVISOR">\n          <shadow type="math_number">\n            <field name="NUM">10</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_constrain">\n        <value name="VALUE">\n          <shadow type="math_number">\n            <field name="NUM">50</field>\n          </shadow>\n        </value>\n        <value name="LOW">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n        <value name="HIGH">\n          <shadow type="math_number">\n            <field name="NUM">100</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_random_int">\n        <value name="FROM">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n        <value name="TO">\n          <shadow type="math_number">\n            <field name="NUM">100</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n    </category>\n    <category id="catText" colour="160" name="Text">\n      <block type="text"></block>\n      <block type="text_join"></block>\n      <block type="text_append">\n        <value name="TEXT">\n          <shadow type="text"></shadow>\n        </value>\n      </block>\n      <block type="text_length">\n        <value name="VALUE">\n          <shadow type="text">\n            <field name="TEXT">abc</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="text_isEmpty">\n        <value name="VALUE">\n          <shadow type="text">\n            <field name="TEXT"></field>\n          </shadow>\n        </value>\n      </block>\n      <block type="text_indexOf">\n        <value name="VALUE">\n          <block type="variables_get">\n            <field name="VAR">text</field>\n          </block>\n        </value>\n        <value name="FIND">\n          <shadow type="text">\n            <field name="TEXT">abc</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="text_charAt">\n        <value name="VALUE">\n          <block type="variables_get">\n            <field name="VAR">text</field>\n          </block>\n        </value>\n      </block>\n      <block type="text_getSubstring">\n        <value name="STRING">\n          <block type="variables_get">\n            <field name="VAR">text</field>\n          </block>\n        </value>\n      </block>\n      <block type="text_changeCase">\n        <value name="TEXT">\n          <shadow type="text">\n            <field name="TEXT">abc</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="text_trim">\n        <value name="TEXT">\n          <shadow type="text">\n            <field name="TEXT">abc</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="text_print">\n        <value name="TEXT">\n          <shadow type="text">\n            <field name="TEXT">abc</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="text_prompt_ext">\n        <value name="TEXT">\n          <shadow type="text">\n            <field name="TEXT">abc</field>\n          </shadow>\n        </value>\n      </block>\n    </category>\n    <category id="catLists" colour="260" name="Lists">\n      <block type="lists_create_with">\n        <mutation items="0"></mutation>\n      </block>\n      <block type="lists_create_with"></block>\n      <block type="lists_repeat">\n        <value name="NUM">\n          <shadow type="math_number">\n            <field name="NUM">5</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="lists_length"></block>\n      <block type="lists_isEmpty"></block>\n      <block type="lists_getIndex">\n        <value name="VALUE">\n          <block type="variables_get">\n            <field name="VAR">list</field>\n          </block>\n        </value>\n      </block>\n      <block type="lists_setIndex">\n        <value name="LIST">\n          <block type="variables_get">\n            <field name="VAR">list</field>\n          </block>\n        </value>\n      </block>\n      <block type="lists_getSublist">\n        <value name="LIST">\n          <block type="variables_get">\n            <field name="VAR">list</field>\n          </block>\n        </value>\n      </block>\n      <block type="lists_split">\n        <value name="DELIM">\n          <shadow type="text">\n            <field name="TEXT">,</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="lists_sort"></block>\n    </category>\n    <category id="catColour" colour="20" name="Color">\n      <block type="colour_picker"></block>\n      <block type="colour_random"></block>\n      <block type="colour_rgb">\n        <value name="RED">\n          <shadow type="math_number">\n            <field name="NUM">100</field>\n          </shadow>\n        </value>\n        <value name="GREEN">\n          <shadow type="math_number">\n            <field name="NUM">50</field>\n          </shadow>\n        </value>\n        <value name="BLUE">\n          <shadow type="math_number">\n            <field name="NUM">0</field>\n          </shadow>\n        </value>\n      </block>\n      <block type="colour_blend">\n        <value name="COLOUR1">\n          <shadow type="colour_picker">\n            <field name="COLOUR">#ff0000</field>\n          </shadow>\n        </value>\n        <value name="COLOUR2">\n          <shadow type="colour_picker">\n            <field name="COLOUR">#3333ff</field>\n          </shadow>\n        </value>\n        <value name="RATIO">\n          <shadow type="math_number">\n            <field name="NUM">0.5</field>\n          </shadow>\n        </value>\n      </block>\n    </category>\n    <sep></sep>\n    <category id="catVariables" colour="330" custom="VARIABLE" name="Variables"></category>\n    <category id="catFunctions" colour="290" custom="PROCEDURE" name="Functions"></category>\n  </xml>',testCaseScript:"function getTestCases() {\n        const cases = [];\n        for (let i=-20; i <= 20; i+=2) {\n           cases.push({cost: i});\n        }\n        return cases;\n}",decimals:1,strictStrings:!1,hashReps:1,hashLength:10,hashPrefix:"x"}}function we(e,t,n){return new Promise((t,s)=>{try{const s=e.exportConfig;if("file"==s.type){const e=n.generateFile();t({type:"file",filename:s.filename,contentType:"text",content:e})}}catch(a){s(a)}})}var ke={description:"Visual programming exercise based on the Google Blockly toolkit",view:re,edit:ge,initialize:_e,exportAnswer:we,defaultExtension:".html"},Ce=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-container"},[t("div",{staticClass:"question-editor"},[t("MonacoEditor",{ref:"editor",staticClass:"editor",attrs:{language:e.question.lang,options:e.editorOptions},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),t("div",{staticClass:"rhs"},[t("div",{staticClass:"question-instruction"},[t("MarkdownDisplay",{staticClass:"question-text",attrs:{source:e.question.description}})],1),t("div",{staticClass:"question-toolbar"},[e.question.runUrl&&!e.perusal?t(a["a"],{on:{click:function(t){return t.stopPropagation(),e.$refs.runDialog.openRunDialog()}}},[t(o["a"],[e._v("mdi-play")]),e._v(" Run ")],1):e._e(),e.perusal?e._e():t(a["a"],{on:{click:function(t){return t.stopPropagation(),e.$refs.resetDialog.show()}}},[t(o["a"],[e._v("mdi-replay")]),e._v(" Reset ")],1),e.question.referenceUrl?t(a["a"],{attrs:{href:e.question.referenceUrl,target:"_blank"}},[t(o["a"],[e._v("mdi-book-open")]),e._v(" References ")],1):e._e()],1)]),t("EditorRunDialog",{ref:"runDialog",attrs:{code:e.code,question:e.question}}),t("ConfirmDialog",{ref:"resetDialog",attrs:{title:"Reset your code",type:"warning",text:"This will delete your current work on this question and reset the code to the default. Use CTRL+Z to undo your last edits.",confirm:()=>this.code=this.question.defaultAnswer,width:"60em"}})],1)},xe=[],Te=n("059c"),Oe=n("b0af"),qe=n("99d9"),Ee=n("169a"),Se=n("ce7e"),Re=n("67b6"),Ae=n("43a6"),je=n("7e85"),De=n("9c54"),Me=n("56a4"),$e=n("c671"),Ue=n("a844"),Ne=function(){var e=this,t=e._self._c;return t(Ee["a"],{attrs:{width:"80em",scrollable:"",persistent:""},model:{value:e.runDialog,callback:function(t){e.runDialog=t},expression:"runDialog"}},[t(Oe["a"],[t(qe["c"],{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" Run your code ")]),t(qe["b"],[t(je["a"],{model:{value:e.runStep,callback:function(t){e.runStep=t},expression:"runStep"}},[t(De["a"],[t(Me["a"],{attrs:{step:"1"}},[e._v("Choose input type")]),t(Se["a"]),t(Me["a"],{attrs:{step:"2"}},[e._v("Define program input")]),t(Se["a"]),t(Me["a"],{attrs:{step:"3"}},[e._v("Compiling and Running Your Program")]),t(Se["a"]),t(Me["a"],{attrs:{step:"4"}},[e._v("Result and Output")])],1)],1),t("br"),t(ue["a"],[1==e.runStep?t("div",[e.question.allowCustomTest&&e.question.testCases.length>0?t("div",[t("div",[e._v("Select the kind of input that will be send to your program during execution:")]),t("br"),t(Ae["a"],{model:{value:e.performCustom,callback:function(t){e.performCustom=t},expression:"performCustom"}},[t(Re["a"],{attrs:{label:"Select a predefined test case",value:!1}}),t(Re["a"],{attrs:{label:"Define your own input in a textfield",value:!0}})],1)],1):e.question.allowCustomTest?t("div",[e._v(" Your program can only be executed with custom input. ")]):e.question.testCases.length>0?t("div",[e._v(" Your program can only be executed with predefined testcases. ")]):t("div",[e._v(" This question does not allow you to define any input. ")])]):e._e(),2==e.runStep?t("div",[e.runPredefined?t("div",[t("div",[e._v("Select the standard input that will be send to your program during execution:")]),t("br"),t(c["a"],{model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[e._l(e.question.testCases.length,(function(n){return t(u["a"],{key:"tab-"+n},[e._v("Testcase "+e._s(n))])})),e._l(e.question.testCases.length,(function(n){return t($e["a"],{key:"tab-item-"+n},[t("div",[e._v("Your code will be executed with the following input")]),t("br"),t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.question.testCases[n-1]))])])])}))],2)],1):e.runCustom?t("div",[t("div",[e._v("Provide the standard input that will be send to your program during execution:")]),t("br"),t(Ue["a"],{staticClass:"input-textarea",attrs:{placeholder:"Type your input here",rows:5},model:{value:e.customInput,callback:function(t){e.customInput=t},expression:"customInput"}})],1):t("div",[e._v(" Your program will be executed without any input. ")])]):e._e(),3==e.runStep?t("div",[t("div",[e._v("Compiling and running your program")]),t(r["a"],{attrs:{indeterminate:""}}),e.timeoutPopup?t(s["a"],{attrs:{type:"warning"}},[e._v(" This seems to take rather long. Try restarting the run action, and if the problem persists contact support. ")]):e._e()],1):e._e(),4==e.runStep?t("div",[e.runError?t("div",[t(s["a"],{attrs:{type:"error"}},[e._v(" An unexpected error occurred while running your code. "),t("br"),e._v(" "+e._s(e.runError.name)+" : "+e._s(e.runError.message)+". "),t("br"),e._v(" Try again and contact support if the problem persists. ")])],1):e.emptyResponse?t("div",[t(s["a"],{attrs:{type:"error"}},[e._v(" The result of the execution was empty. "),t("br"),e._v(" This should not happen. "),t("br"),e._v(" Try again and if the problem persists, contact support. ")])],1):e.output.compile?t("div",[0!=e.output.compile.exitCode?t(s["a"],{attrs:{type:"error"}},[e._v(" Your code did not compile succesfully. Please review the following error output. ")]):e.output.compile.stdOut.length?t(s["a"],{attrs:{type:"warning"}},[e._v(" Your code compiled succesfully, but there were warnings. Please review them. ")]):t(s["a"],{attrs:{type:"info"}},[e._v(" Your code compiled succesfully. ")]),t("div",[e.output.compile.stdOut?t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.output.compile.stdOut))])]):e._e()])],1):e._e(),e.output.run?t("div",[e.output.run.timeout?t(s["a"],{attrs:{type:"error"}},[e._v(" Your program exceeded the time limit of "+e._s(e.output.run.timeLimit)+" seconds. Make sure there are no infinite loops in your code. ")]):0!=e.output.run.exitCode||e.output.run.stdErr?t(s["a"],{attrs:{type:"warning"}},[e._v(" Your program finished execution, but did not exit normally. Review the error output if available. ")]):t(s["a"],{attrs:{type:"success"}},[e._v(" Your program finished exectution normally. ")]),e.output.run.stdErr?t("div",[e._v(" The following errors were reported while running your code: "),t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.output.run.stdErr))])]),t(Se["a"])],1):e._e(),t("div",[e._v("The output of your code was as follows:")]),t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.output.run.stdOut))])])],1):e._e()]):e._e()])],1),t(Se["a"]),t(qe["a"],[t(l["a"]),1==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.next()}}},[e._v("Next")]):e._e(),3==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.cancel(!0)}}},[e._v("Restart")]):e._e(),3==e.runStep?t(a["a"],{attrs:{color:"error"},on:{click:function(t){return e.cancel(!1)}}},[e._v("Cancel")]):e._e(),4==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.openRunDialog()}}},[e._v("Restart")]):e._e(),2==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.run()}}},[e._v("Run")]):e._e(),2==e.runStep?t(a["a"],{attrs:{color:"error"},on:{click:function(t){return e.back()}}},[e._v("Back")]):e._e(),t(a["a"],{attrs:{disabled:e.running,color:"secondary"},on:{click:function(t){e.runDialog=!1}}},[e._v("Close")])],1)],1)],1)},Ie=[],Le=n("cee4");const Pe=15e3;var Be={name:"EditorRunDialog",props:["question","code"],data:()=>({runDialog:!1,runStep:1,runError:null,currentTab:0,running:!1,output:"",customInput:"",emptyResponse:!1,performCustom:!1,cancelToken:null,timeout:null,timeoutPopup:!1,currentId:0}),methods:{post:function(e){return Le["a"].post(this.question.runUrl,JSON.stringify(e))},openRunDialog(){this.runError=null,this.output="",this.runStep=1,this.running=!1,this.runDialog=!0,this.cancelToken=null,this.stopTimeout(),this.currentId++},back(){this.runStep-=1},next(){this.runStep+=1},stopTimeout(){this.timeoutPopup=!1,this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},triggerTimeout(){this.timeoutPopup=!0},runSuccesful(e,t){this.currentId==t&&(this.emptyResponse=0===Object.keys(e).length&&e.constructor===Object,this.running=!1,this.output=e,this.runStep=4),this.stopTimeout()},runWithError(e,t){this.currentId==t&&(this.running=!1,this.runStep=4,this.runError=e)},run(){this.runStep=3,this.running=!0,this.output="";let e={mainClass:this.question.mainClass,sources:[{filename:this.question.filename,content:this.code}],stdIn:this.getInput(),token:this.question.runToken};const t=this.currentId;this.post(e).then(e=>{this.runSuccesful(e.data,t)}).catch(e=>{this.runWithError(e,t)}),this.timeout=setTimeout(this.triggerTimeout,Pe)},cancel(e){this.stopTimeout(),this.cancelToken&&(this.cancelToken.cancel("The request was cancelled by the user"),this.cancelToken=null),e?this.openRunDialog():this.runDialog=!1},getInput(){return this.question.allowCustomTest||0!=this.question.testCases.length?this.runCustom?this.customInput:this.question.testCases[this.currentTab]:""}},computed:{runCustom(){return this.question.allowCustomTest&&(0==this.question.testCases.length||this.performCustom)},runPredefined(){return this.question.testCases.length>0&&(!this.question.allowCustomTest||!this.performCustom)}}},Fe=Be,Ve=(n("0e4f"),Object(B["a"])(Fe,Ne,Ie,!1,null,"d3a69d76",null)),Je=Ve.exports,ze=n("84a8"),Xe={name:"CodingQuestion",props:["question","focused","inputAnswer"],components:{MonacoEditor:Te["a"],MarkdownDisplay:g["a"],EditorRunDialog:Je,ConfirmDialog:ze["a"]},methods:{resize(){const e=this.$refs.editor.getEditor();e.layout({width:0,height:0}),e.layout()}},watch:{code(e,t){e!=t&&this.$emit("input",e)},focused(e){e&&this.resize()},perusal(e){this.editorOptions.readOnly=e}},created(){this.inputAnswer?this.code=this.inputAnswer:this.question.defaultCode?this.code=this.question.defaultCode:this.question.defaultAnswer&&(this.code=this.question.defaultAnswer),window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},data:()=>({code:"",editorOptionsBase:{scrollBeyondLastLine:!1,minimap:{enabled:!1}}}),computed:{editorOptions(){return{...this.editorOptionsBase,readOnly:this.perusal}},...Object(U["c"])(["perusal"])}},Ye=Xe,We=(n("f82a"),n("1497"),Object(B["a"])(Ye,Ce,xe,!1,null,"dd0caabc",null)),He=We.exports,Ge=n("b974"),Qe=n("e0c7"),Ke=function(){var e=this,t=e._self._c;return t(ce["a"],{attrs:{model:"valid"}},[t(ue["a"],[t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(Ge["a"],{attrs:{label:"Language",items:e.languages,required:""},on:{input:e.valueChanged},model:{value:e.value.lang,callback:function(t){e.$set(e.value,"lang",t)},expression:"value.lang"}})],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Filename",required:""},on:{input:e.valueChanged},model:{value:e.value.filename,callback:function(t){e.$set(e.value,"filename",t)},expression:"value.filename"}})],1),t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Reference URL"},on:{input:e.valueChanged},model:{value:e.value.referenceUrl,callback:function(t){e.$set(e.value,"referenceUrl",t)},expression:"value.referenceUrl"}})],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"12"}},[t(Ue["a"],{attrs:{rows:"6",label:"Default answer",required:""},on:{input:e.valueChanged},model:{value:e.value.defaultAnswer,callback:function(t){e.$set(e.value,"defaultAnswer",t)},expression:"value.defaultAnswer"}})],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"12"}},[t(Qe["a"],[e._v("Runtime Configuration")]),t(Se["a"])],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Runner URL"},on:{input:e.valueChanged},model:{value:e.value.runUrl,callback:function(t){e.$set(e.value,"runUrl",t)},expression:"value.runUrl"}})],1),t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Runner Token"},on:{input:e.valueChanged},model:{value:e.value.runToken,callback:function(t){e.$set(e.value,"runToken",t)},expression:"value.runToken"}})],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(Ue["a"],{attrs:{rows:"6",label:"Testcases (as json)",value:e.testCasesString,required:""},on:{input:e.updateTestCases}})],1),t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Main class",required:""},on:{input:e.valueChanged},model:{value:e.value.mainClass,callback:function(t){e.$set(e.value,"mainClass",t)},expression:"value.mainClass"}}),t("br"),t(Ge["a"],{attrs:{label:"Allow custom test?",items:[!0,!1]},on:{input:e.valueChanged},model:{value:e.value.allowCustomTest,callback:function(t){e.$set(e.value,"allowCustomTest",t)},expression:"value.allowCustomTest"}})],1)],1)],1)],1)},Ze=[];const et=["c","cpp","csharp","css","html","java","javascript","julia","kotlin","markdown","pascal","python","r","ruby","rust","scala","sql","typescript","xml"];var tt={name:"EditCodingQuestion",props:["value","focused"],data:()=>({languages:et}),methods:{valueChanged(){this.$emit("input",this.value)},updateTestCases(e){try{this.value.testCases=JSON.parse(e),this.$emit("input",this.value)}catch(t){}}},computed:{testCasesString(){return JSON.stringify(this.value.testCases)}}},nt=tt,st=(n("6f60"),n("b717"),Object(B["a"])(nt,Ke,Ze,!1,null,"226fefe0",null)),at=st.exports;function ot(e){return{...e,lang:"java",filename:"Main.java",mainClass:"Main",defaultAnswer:"import java.util.Scanner;\n\npublic class Main {\n\n\tpublic static void main(String [] args) {\n\n\t}\n}\n",runUrl:"",runToken:"",testCases:[],allowCustomTest:!0,referenceUrl:"https://docs.oracle.com/javase/8/docs/api/index.html"}}function rt(e,t){return new Promise((n,s)=>{try{const s=e.exportConfig;"file"==s.type&&n({type:"file",filename:s.filename,contentType:"text",content:t})}catch(a){s(a)}})}var it={description:"Single file coding exercise with the Monaco Editor",view:He,edit:at,initialize:ot,exportAnswer:rt,defaultExtension:".java"},lt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-container"},[t("div",{staticClass:"question-editor"},[t(c["a"],{staticClass:"question-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},e._l(e.question.files,(function(n,s){return t(u["a"],{key:"file-"+s,staticClass:"question-tab"},[e._v(" "+e._s(n.filename)+" "),n.readOnly?t(o["a"],{attrs:{dense:""}},[e._v("mdi-lock-outline")]):e._e()],1)})),1),e._l(e.question.files,(function(n,s){return t("MonacoEditor",{directives:[{name:"show",rawName:"v-show",value:e.currentTab==s,expression:"currentTab == index"}],key:"file-editor"+s,ref:"editor",refInFor:!0,staticClass:"editor",attrs:{language:e.question.lang,options:e.editorOptions[s]},on:{change:e.codeChanged},model:{value:e.code[n.filename],callback:function(t){e.$set(e.code,n.filename,t)},expression:"code[file.filename]"}})}))],2),t("div",{staticClass:"rhs"},[t("div",{staticClass:"question-instruction"},[t("MarkdownDisplay",{staticClass:"question-text",attrs:{source:e.question.description}})],1),t("div",{staticClass:"question-toolbar"},[e.question.runUrl?t(a["a"],{on:{click:function(t){return t.stopPropagation(),e.$refs.runDialog.openRunDialog()}}},[t(o["a"],[e._v("mdi-play")]),e._v(" Run ")],1):e._e(),e.perusal?e._e():t(a["a"],{on:{click:function(t){return t.stopPropagation(),e.$refs.resetDialog.show()}}},[t(o["a"],[e._v("mdi-replay")]),e._v(" Reset ")],1),e.question.referenceUrl?t(a["a"],{attrs:{href:e.question.referenceUrl,target:"_blank"}},[t(o["a"],[e._v("mdi-book-open")]),e._v(" References ")],1):e._e()],1)]),t("EditorMultiRunDialog",{ref:"runDialog",attrs:{code:e.code,question:e.question}}),t("ConfirmDialog",{ref:"resetDialog",attrs:{title:"Reset your code",type:"warning",text:"This will delete your current work on (one or all files of) this question and reset the code to the default. Use CTRL+Z if you only want to undo your last edits.",buttons:e.resetButtons,width:"60em"}})],1)},ut=[],ct=function(){var e=this,t=e._self._c;return t(Ee["a"],{attrs:{width:"80em",scrollable:"",persistent:""},model:{value:e.runDialog,callback:function(t){e.runDialog=t},expression:"runDialog"}},[t(Oe["a"],[t(qe["c"],{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" Run your code ")]),t(qe["b"],[t(je["a"],{model:{value:e.runStep,callback:function(t){e.runStep=t},expression:"runStep"}},[t(De["a"],[t(Me["a"],{attrs:{step:"1"}},[e._v("Choose input type")]),t(Se["a"]),t(Me["a"],{attrs:{step:"2"}},[e._v("Define program input")]),t(Se["a"]),t(Me["a"],{attrs:{step:"3"}},[e._v("Compiling and Running Your Program")]),t(Se["a"]),t(Me["a"],{attrs:{step:"4"}},[e._v("Result and Output")])],1)],1),t("br"),t(ue["a"],[1==e.runStep?t("div",[e.question.allowCustomTest&&e.question.testCases.length>0?t("div",[t("div",[e._v("Select the kind of input that will be send to your program during execution:")]),t("br"),t(Ae["a"],{model:{value:e.performCustom,callback:function(t){e.performCustom=t},expression:"performCustom"}},[t(Re["a"],{attrs:{label:"Select a predefined test case",value:!1}}),t(Re["a"],{attrs:{label:"Define your own input in a textfield",value:!0}})],1)],1):e.question.allowCustomTest?t("div",[e._v(" Your program can only be executed with custom input. ")]):e.question.testCases.length>0?t("div",[e._v(" Your program can only be executed with predefined testcases. ")]):t("div",[e._v(" This question does not allow you to define any input. ")])]):e._e(),2==e.runStep?t("div",[e.runPredefined?t("div",[t("div",[e._v("Select the standard input that will be send to your program during execution:")]),t("br"),t(c["a"],{model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[e._l(e.question.testCases.length,(function(n){return t(u["a"],{key:"tab-"+n},[e._v("Testcase "+e._s(n))])})),e._l(e.question.testCases.length,(function(n){return t($e["a"],{key:"tab-item-"+n},[t("div",[e._v("Your code will be executed with the following input")]),t("br"),t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.question.testCases[n-1]))])])])}))],2)],1):e.runCustom?t("div",[t("div",[e._v("Provide the standard input that will be send to your program during execution:")]),t("br"),t(Ue["a"],{staticClass:"input-textarea",attrs:{placeholder:"Type your input here",rows:5},model:{value:e.customInput,callback:function(t){e.customInput=t},expression:"customInput"}})],1):t("div",[e._v(" Your program will be executed without any input. ")])]):e._e(),3==e.runStep?t("div",[t("div",[e._v("Compiling and running your program")]),t(r["a"],{attrs:{indeterminate:""}}),e.timeoutPopup?t(s["a"],{attrs:{type:"warning"}},[e._v(" This seems to take rather long. Try restarting the run action, and if the problem persists contact support. ")]):e._e()],1):e._e(),4==e.runStep?t("div",[e.runError?t("div",[t(s["a"],{attrs:{type:"error"}},[e._v(" An unexpected error occurred while running your code. "),t("br"),e._v(" "+e._s(e.runError.name)+" : "+e._s(e.runError.message)+". "),t("br"),e._v(" Try again and contact support if the problem persists. ")])],1):e.emptyResponse?t("div",[t(s["a"],{attrs:{type:"error"}},[e._v(" The result of the execution was empty. "),t("br"),e._v(" This should not happen. "),t("br"),e._v(" Try again and if the problem persists, contact support. ")])],1):e.output.compile?t("div",[0!=e.output.compile.exitCode?t(s["a"],{attrs:{type:"error"}},[e._v(" Your code did not compile succesfully. Please review the following error output. ")]):e.output.compile.stdOut.length?t(s["a"],{attrs:{type:"warning"}},[e._v(" Your code compiled succesfully, but there were warnings. Please review them. ")]):t(s["a"],{attrs:{type:"info"}},[e._v(" Your code compiled succesfully. ")]),t("div",[e.output.compile.stdOut?t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.output.compile.stdOut))])]):e._e()])],1):e._e(),e.output.run?t("div",[e.output.run.timeout?t(s["a"],{attrs:{type:"error"}},[e._v(" Your program exceeded the time limit of "+e._s(e.output.run.timeLimit)+" seconds. Make sure there are no infinite loops in your code. ")]):0!=e.output.run.exitCode||e.output.run.stdErr?t(s["a"],{attrs:{type:"warning"}},[e._v(" Your program finished execution, but did not exit normally. Review the error output if available. ")]):t(s["a"],{attrs:{type:"success"}},[e._v(" Your program finished exectution normally. ")]),e.output.run.stdErr?t("div",[e._v(" The following errors were reported while running your code: "),t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.output.run.stdErr))])]),t(Se["a"])],1):e._e(),t("div",[e._v("The output of your code was as follows:")]),t("code",{staticClass:"pre-output"},[t("pre",[e._v(e._s(e.output.run.stdOut))])])],1):e._e()]):e._e()])],1),t(Se["a"]),t(qe["a"],[t(l["a"]),1==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.next()}}},[e._v("Next")]):e._e(),3==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.cancel(!0)}}},[e._v("Restart")]):e._e(),3==e.runStep?t(a["a"],{attrs:{color:"error"},on:{click:function(t){return e.cancel(!1)}}},[e._v("Cancel")]):e._e(),4==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.openRunDialog()}}},[e._v("Restart")]):e._e(),2==e.runStep?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.run()}}},[e._v("Run")]):e._e(),2==e.runStep?t(a["a"],{attrs:{color:"error"},on:{click:function(t){return e.back()}}},[e._v("Back")]):e._e(),t(a["a"],{attrs:{disabled:e.running,color:"secondary"},on:{click:function(t){e.runDialog=!1}}},[e._v("Close")])],1)],1)],1)},pt=[];const dt=15e3;var ht={name:"EditorMultiRunDialog",props:["question","code"],data:()=>({runDialog:!1,runStep:1,runError:null,currentTab:0,running:!1,output:"",customInput:"",emptyResponse:!1,performCustom:!1,cancelToken:null,timeout:null,timeoutPopup:!1,currentId:0}),methods:{post:function(e){return Le["a"].post(this.question.runUrl,JSON.stringify(e))},openRunDialog(){this.runError=null,this.output="",this.runStep=1,this.runDialog=!0,this.cancelToken=null,this.stopTimeout(),this.currentId++,this.running=!1},next(){this.runStep+=1},back(){this.runStep-=1},stopTimeout(){this.timeoutPopup=!1,this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},triggerTimeout(){this.timeoutPopup=!0},runSuccesful(e,t){this.currentId==t&&(this.emptyResponse=0===Object.keys(e).length&&e.constructor===Object,this.running=!1,this.output=e,this.runStep=4),this.stopTimeout()},runWithError(e,t){this.currentId==t&&(this.running=!1,this.runStep=4,this.runError=e)},run(){this.runStep=3,this.running=!0,this.output="",console.log(this.question.files),console.log(this.code);let e={mainClass:this.question.mainClass,sources:this.question.files.map(e=>({filename:e.filename,content:this.code[e.filename]})),stdIn:this.getInput(),token:this.question.runToken};const t=this.currentId;this.post(e).then(e=>{this.runSuccesful(e.data,t)}).catch(e=>{this.runWithError(e,t)}),this.timeout=setTimeout(this.triggerTimeout,dt)},cancel(e){this.stopTimeout(),this.cancelToken&&(this.cancelToken.cancel("The request was cancelled by the user"),this.cancelToken=null),e?this.openRunDialog():this.runDialog=!1},getInput(){return this.question.allowCustomTest||0!=this.question.testCases.length?this.runCustom?this.customInput:this.question.testCases[this.currentTab]:""}},computed:{runCustom(){return this.question.allowCustomTest&&(0==this.question.testCases.length||this.performCustom)},runPredefined(){return this.question.testCases.length>0&&(!this.question.allowCustomTest||!this.performCustom)}}},mt=ht,ft=(n("5fb5"),Object(B["a"])(mt,ct,pt,!1,null,"50945bb4",null)),vt=ft.exports,bt={name:"MultiCodingQuestion",props:["question","focused","inputAnswer"],components:{MonacoEditor:Te["a"],MarkdownDisplay:g["a"],EditorMultiRunDialog:vt,ConfirmDialog:ze["a"]},methods:{resize(){const e=this.$refs.editor[this.currentTab].getEditor();e.layout({width:0,height:0}),e.layout()},codeChanged(){this.$emit("input",{...this.code})},reset(e){if(e){const e=this.question.files[this.currentTab];this.$set(this.code,e.filename,e.content)}else this.question.files.forEach(e=>this.$set(this.code,e.filename,e.content))}},watch:{focused(e){e&&this.resize()},currentTab(){this.$nextTick(this.resize)}},created(){if(this.inputAnswer)this.code=this.inputAnswer;else{const e={};for(let t of this.question.files)e[t.filename]=t.content;this.code=e}window.addEventListener("resize",this.resize)},destroyed(){window.removeEventListener("resize",this.resize)},data:()=>({currentTab:0,code:[],editorOptionsBase:{scrollBeyondLastLine:!1,minimap:{enabled:!1}}}),computed:{editorOptions(){return this.question.files.map(e=>({...this.editorOptionsBase,readOnly:this.perusal||e.readOnly}))},resetButtons(){return[{label:"Yes (Current File Only)",action:()=>this.reset(!0),color:"primary"},{label:"Yes (All Files)",action:()=>this.reset(),color:"primary"}]},...Object(U["c"])(["perusal"])}},yt=bt,gt=(n("7ca5"),n("2e28"),Object(B["a"])(yt,lt,ut,!1,null,"69a95c3f",null)),_t=gt.exports,wt=n("b73d"),kt=function(){var e=this,t=e._self._c;return t(ce["a"],{attrs:{model:"valid"}},[t(ue["a"],[t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(Ge["a"],{attrs:{label:"Language",items:e.languages,required:""},on:{input:e.valueChanged},model:{value:e.value.lang,callback:function(t){e.$set(e.value,"lang",t)},expression:"value.lang"}})],1)],1),t(pe["a"],{attrs:{cols:"12"}},[t(le["a"],{attrs:{cols:"12"}},[t(Qe["a"],[e._v("Files")]),t(Se["a"])],1)],1),t(pe["a"],e._l(e.value.files,(function(n,s){return t(le["a"],{key:"file-"+s},[t(Oe["a"],{staticStyle:{"min-width":"35em"}},[t(qe["b"],[t(d["a"],{attrs:{label:"Filename",required:""},on:{input:e.valueChanged},model:{value:n.filename,callback:function(t){e.$set(n,"filename",t)},expression:"file.filename"}}),t(Ue["a"],{attrs:{label:"Default contents",required:""},on:{input:e.valueChanged},model:{value:n.content,callback:function(t){e.$set(n,"content",t)},expression:"file.content"}})],1),t(qe["a"],[t(a["a"],{attrs:{color:"error"},on:{click:function(t){return e.removeFile(s)}}},[t(o["a"],[e._v("mdi-delete")]),e._v(" Delete File")],1),t(wt["a"],{staticStyle:{"margin-left":"1em"},attrs:{inset:"",dense:"","append-icon":n.readOnly?"mdi-lock-outline":"mdi-pencil",label:n.readOnly?"Read-Only":"Editable"},model:{value:n.readOnly,callback:function(t){e.$set(n,"readOnly",t)},expression:"file.readOnly"}})],1)],1)],1)})),1),t(le["a"],{attrs:{cols:"6"}},[t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.addFile()}}},[e._v("Add File")])],1),t(pe["a"],{attrs:{cols:"12"}},[t(le["a"],{attrs:{cols:"12"}},[t(Qe["a"],[e._v("Documentation")]),t(Se["a"])],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Reference URL"},on:{input:e.valueChanged},model:{value:e.value.referenceUrl,callback:function(t){e.$set(e.value,"referenceUrl",t)},expression:"value.referenceUrl"}})],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"12"}},[t(Qe["a"],[e._v("Runtime Configuration")]),t(Se["a"])],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Runner URL"},on:{input:e.valueChanged},model:{value:e.value.runUrl,callback:function(t){e.$set(e.value,"runUrl",t)},expression:"value.runUrl"}})],1),t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Runner Token"},on:{input:e.valueChanged},model:{value:e.value.runToken,callback:function(t){e.$set(e.value,"runToken",t)},expression:"value.runToken"}})],1)],1),t(pe["a"],[t(le["a"],{attrs:{cols:"6"}},[t(Ue["a"],{attrs:{rows:"6",label:"Testcases (as json)",value:e.testCasesString,required:""},on:{input:e.updateTestCases}})],1),t(le["a"],{attrs:{cols:"6"}},[t(d["a"],{attrs:{label:"Main class",required:""},on:{input:e.valueChanged},model:{value:e.value.mainClass,callback:function(t){e.$set(e.value,"mainClass",t)},expression:"value.mainClass"}}),t("br"),t(Ge["a"],{attrs:{label:"Allow custom test?",items:[!0,!1]},on:{input:e.valueChanged},model:{value:e.value.allowCustomTest,callback:function(t){e.$set(e.value,"allowCustomTest",t)},expression:"value.allowCustomTest"}})],1)],1)],1)],1)},Ct=[];const xt=["c","cpp","csharp","css","html","java","javascript","julia","kotlin","markdown","pascal","python","r","ruby","rust","scala","sql","typescript","xml"],Tt=()=>({lang:"java",files:[{filename:"Main.java",content:"public class Main { \n \n }"}],mainClass:"Main",runUrl:"",runToken:"",testCases:[],allowCustomTest:!0,referenceUrl:"https://docs.oracle.com/javase/8/docs/api/index.html"});var Ot={name:"EditMultiCodingQuestion",props:["value","focused"],created(){this.injectValues()},data:()=>({languages:xt}),methods:{injectValues(){const e=Object.keys(this.value);for(let[t,n]of Object.entries(Tt()))e.includes(t)||(this.value[t]=n)},addFile(){this.value.files.push({filename:"",content:""}),this.$emit("input",this.value)},removeFile(e){this.value.files.splice(e,1),this.$emit("input",this.value)},valueChanged(){this.$emit("input",this.value)},updateTestCases(e){try{this.value.testCases=JSON.parse(e),this.$emit("input",this.value)}catch(t){}}},computed:{testCasesString(){return JSON.stringify(this.value.testCases)}}},qt=Ot,Et=(n("dcdf"),n("86c2"),Object(B["a"])(qt,kt,Ct,!1,null,"57f95be3",null)),St=Et.exports,Rt=n("c4e3"),At=n.n(Rt);function jt(e){return{...e,lang:"java",files:[{filename:"Main.java",content:"public class Main { \n \n }"}],mainClass:"Main",runUrl:"",runToken:"",testCases:[],allowCustomTest:!0,referenceUrl:"https://docs.oracle.com/javase/8/docs/api/index.html"}}function Dt(e,t){const n=[],s=new At.a;for(const a of e.files){const e=a.filename,n=t&&t[e]?t[e]:a.content;s.file(e,n)}return Promise.all(n).then(()=>s.generateAsync({type:"blob"})).then(t=>({filename:e.exportConfig.filename,contentType:"blob",content:t}))}var Mt={description:"Multiple files coding exercise with the Monaco Editor",view:_t,edit:St,initialize:jt,exportAnswer:Dt,defaultExtension:".zip"};const $t={blockly:ke,coding:it,multicoding:Mt};function Ut(e,t,n){return new Promise((s,a)=>{try{const o=e.exportConfig;if("code"==o.type){const e=t.shortAnswer;s({type:"code",content:e})}else if("json"==o.type){const e=JSON.stringify(t);s({type:"file",filename:o.filename,contentType:"text",content:e})}else"file"==o.type&&$t[e.type].exportAnswer(e,t,n).then(e=>s(e)).catch(e=>a(e))}catch(o){a(o)}})}function Nt(e){return e.exportConfig&&"json"==e.exportConfig?".answer.json":$t[e.type].defaultExtension}t["a"]=$t},"2e28":function(e,t,n){"use strict";n("579d")},"302b":function(e,t,n){"use strict";n("d81b")},"3c2e":function(e,t,n){"use strict";function s(e){const t=document.createElement("div");t.innerHTML=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const s=window.getSelection();s.removeAllRanges(),s.addRange(n);try{document.execCommand("copy")}catch(a){console.log("Failed to copy the contents to the clipboard",a)}s.removeAllRanges(),document.body.removeChild(t)}function a(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{const n=document.createElement("textarea");n.value=e,n.style.display="none",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy")}catch(t){console.log("Failed to copy the contents to the clipboard",t)}document.body.removeChild(n)}}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}))},"3cdc":function(e,t,n){},"402c":function(e,t,n){"use strict";var s=n("2b0e"),a=n("f309");s["a"].use(a["a"]),t["a"]=new a["a"]({})},4360:function(e,t,n){"use strict";n("14d9");var s=n("2b0e"),a=n("2f62");const o=new BroadcastChannel("singleton-focus"),r=e=>{console.log("Activating singleton plugin"),o.onmessage=t=>{var n;const s=t.data;"lostFocus"==s.type&&null!==(n=e.state.question)&&void 0!==n&&n.uuid&&e.state.question.uuid==s.uuid&&(e.commit("lostFocus"),console.log("Focus lost"))},e.subscribe((e,t)=>{"setQuestion"==e.type&&t.question.uuid&&o.postMessage({type:"lostFocus",uuid:t.question.uuid})})};var i=r;function l(e){return"answer_"+e.question.uuid}function u(e){const t=l(e),n=JSON.stringify(e.answer);window.localStorage[t]=n}function c(e){const t=l(e),n=window.localStorage[t];return n?JSON.parse(n):null}const p=e=>{e.subscribe((t,n)=>{if("setQuestion"==t.type&&n.question.uuid){const t=c(n);t&&e.commit("setAnswer",t)}"setAnswer"==t.type&&n.question.uuid&&u(n)})};var d=p;const h={singleton:i,persistence:d};s["a"].use(a["a"]);const m={state:{question:null,loadError:null,hasFocus:!0,answer:null},mutations:{setQuestion(e,t){e.question=t},setLoadError(e,t){e.loadError=t},lostFocus(e){e.hasFocus=!1},setAnswer(e,t){e.answer=t}},actions:{},modules:{},getters:{questionName(e){return e.question?e.question.name:"No Question Data"},questionType(e){return e.question?e.question.type:null}}};function f(e=["singleton","persistence"]){const t=[];for(const n of e){const e=h[n];if(!e)throw"Plugin key '"+n+"' is unknown. Can not create VueX store.";t.push(e)}return new a["a"].Store({...m,plugins:t})}t["a"]=f},"4f0f":function(e,t,n){"use strict";var s=function(){var e=this,t=e._self._c;return t("div",{ref:"renderDiv",staticClass:"adjust-md",domProps:{innerHTML:e._s(e.rendered)}})},a=[],o=(n("5b81"),n("c197")),r=n.n(o),i=(n("a878"),n("997e"),n("9d22"),n("d8d9"),n("17ca"),n("f14e"),n("8fd1"),n("2a83"),n("d4cd")),l=n.n(i),u=(n("be0f"),n("2029"),n("dfc9"));const c={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]},p=l()({highlight(e,t){if(t){const s=t.replaceAll("{","").replaceAll("}","");if(s in r.a.languages)try{return'<pre class="language-'+s+'"><code>'+r.a.highlight(e,r.a.languages[s],s)+"</code></pre>"}catch(n){}}return'<pre class="language-none"><code>'+p.utils.escapeHtml(e)+"</code></pre>"}});var d=p.renderer.rules.link_open||function(e,t,n,s,a){return a.renderToken(e,t,n)};p.renderer.rules.link_open=function(e,t,n,s,a){var o=e[t].attrIndex("target");return o<0?e[t].attrPush(["target","_blank"]):e[t].attrs[o][1]="_blank",d(e,t,n,s,a)};var h={name:"MarkdownDisplay",props:["source"],mounted(){this.update()},data:()=>({}),methods:{update(){const e=this.$refs.renderDiv;Object(u["a"])(e,c),r.a.highlightAll()}},computed:{rendered(){return p.render(this.source)}},watch:{source(){this.$nextTick(this.update)}}},m=h,f=(n("76fe"),n("2877")),v=Object(f["a"])(m,s,a,!1,null,null,null);t["a"]=v.exports},5504:function(e,t,n){},"579d":function(e,t,n){},"5fb5":function(e,t,n){"use strict";n("e106")},"6f60":function(e,t,n){"use strict";n("5504")},"76fe":function(e,t,n){"use strict";n("e9e7")},"7ca5":function(e,t,n){"use strict";n("1d17")},"84a8":function(e,t,n){"use strict";var s=n("0798"),a=n("8336"),o=n("b0af"),r=n("99d9"),i=n("169a"),l=n("ce7e"),u=n("2fa4"),c=function(){var e=this,t=e._self._c;return t(i["a"],{attrs:{width:e.width},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[t(o["a"],[t(r["c"],{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" "+e._s(e.title)+" ")]),t(r["b"],[t(s["a"],{attrs:{type:e.type}},[t("MarkdownDisplay",{attrs:{source:e.text}})],1),t("div",[e._v(" Are you sure you want to continue? ")])],1),t(l["a"]),t(r["a"],[t(u["a"]),e.confirm?t(a["a"],{attrs:{color:"primary"},on:{click:function(t){return e.yes()}}},[e._v("Yes")]):e._e(),e.buttons?e._l(e.buttons,(function(n,s){return t(a["a"],{key:s,attrs:{color:n.color},on:{click:function(t){return e.yes(s)}}},[e._v(e._s(n.label))])})):e._e(),t(a["a"],{attrs:{color:"secondary"},on:{click:function(t){return e.no()}}},[e._v("Cancel")])],2)],1)],1)},p=[],d=n("4f0f"),h={name:"ConfirmDialog",components:{MarkdownDisplay:d["a"]},props:["width","title","type","text","confirm","buttons"],methods:{show(){this.visible=!0},yes(e){this.visible=!1,e||0===e?this.buttons[e].action():this.confirm()},no(){this.visible=!1}},data:()=>({visible:!1})},m=h,f=n("2877"),v=Object(f["a"])(m,c,p,!1,null,null,null);t["a"]=v.exports},"86c2":function(e,t,n){"use strict";n("96f2")},"87c0":function(e,t,n){"use strict";n("9e34")},8807:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var s=n("e762"),a=n("acff");const o=new TextEncoder,r=new TextDecoder;function i(e){const t=s["a"].toUint8Array(e),n=a["a"].inflate(t),o=r.decode(n),i=JSON.parse(o);return{data:i.payload,validated:!1}}function l(e){const t={payload:e},n=JSON.stringify(t),r=o.encode(n),i=a["a"].deflate(r),l=s["a"].fromUint8Array(i,!0);return l}function u(e,t="setQuestion",n="setLoadError"){const a=()=>{const a=window.location.hash.substring(1);if(a.length>0)try{let n;try{n=i(a)}catch(o){console.log("Error while decoding question data",o),console.log("Attempting a fallback to direct decoding of the hash");const e=s["a"].decode(a);n={data:JSON.parse(e),validated:!1}}const r=n.data;e.commit(t,r),document.title=r.name}catch(r){console.log(r),e.commit(n,r)}};window.addEventListener("hashchange",a),a()}},"8aa2":function(e,t,n){},"96f2":function(e,t,n){},"9e34":function(e,t,n){},aa14:function(e,t,n){"use strict";n("d899")},aa42:function(e,t,n){"use strict";n("e70b")},ab7d:function(e,t,n){},b717:function(e,t,n){"use strict";n("035b")},d81b:function(e,t,n){},d899:function(e,t,n){},dcdf:function(e,t,n){"use strict";n("3cdc")},e106:function(e,t,n){},e15e:function(e,t,n){"use strict";n("ab7d")},e70b:function(e,t,n){},e9e7:function(e,t,n){},f5ac:function(e,t,n){},f82a:function(e,t,n){"use strict";n("f5ac")},ff11:function(e,t,n){}}]);
//# sourceMappingURL=chunk-common.b06fe09c.js.map